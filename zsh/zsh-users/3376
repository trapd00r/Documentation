From zsh-users-return-3376-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Aug 18 16:10:59 2000
Return-Path: <zsh-users-return-3376-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 29611 invoked from network); 18 Aug 2000 16:10:57 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 18 Aug 2000 16:10:57 -0000
Received: (qmail 8473 invoked by alias); 18 Aug 2000 16:09:18 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 3376
Received: (qmail 8459 invoked from network); 18 Aug 2000 16:09:18 -0000
X-Envelope-Sender-Is: Andrej.Borsenkow@mow.siemens.ru (at relayer goliath.siemens.de)
From: "Andrej Borsenkow" <Andrej.Borsenkow@mow.siemens.ru>
To: "Roland Jesse" <jesse@mail.CS.Uni-Magdeburg.De>,
   "Zsh Users" <zsh-users@sunsite.auc.dk>
Subject: RE: 3.1.9 build fails at zftp.c when using Sun's WorkShop Compilers 5.0
Date: Fri, 18 Aug 2000 20:09:14 +0400
Message-ID: <000d01c0092e$a72b6b00$21c9ca95@mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
In-Reply-To: <0vitsy7eij.fsf@cs.uni-magdeburg.de>
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
Importance: Normal

>
> Building zsh 3.1.9 on a Sun fails when using Sun's compiler version
> "WorkShop Compilers 5.0 98/12/15 C 5.0". The build is done using
> "./configure --enable-dynamic --enable-zsh-mem && make".
>
> Is there something wrong with my setup or did others experience this
> as well?
>
> The error message is:
>
> cc -c -I. -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64
> -DHAVE_CONFIG_H -DMODULE -xO4 -Kpic -o zftp..o zftp.c
> "./zftp.pro", line 4: identifier redeclared: inet_aton
>         current : static function(pointer to const char, pointer to
> struct in_addr {union {..} S_un}) returning int
>         previous: function(pointer to const char, pointer to struct
> in_addr {union {..} S_un}) returning int :
> "/usr/include/arpa/inet.h", line 52
> "./zftp.pro", line 6: identifier redeclared: inet_pton
>         current : static function(int, pointer to const char,
> pointer to void) returning int
>         previous: function(int, pointer to const char, pointer to
> void) returning int : "/usr/include/arpa/inet.h", line 54
> "./zftp.pro", line 11: identifier redeclared: gethostbyname2
>         current : static function(pointer to const char, int)
> returning pointer to struct hostent {pointer to char h_name,
> pointer to pointer ...
>         previous: function(pointer to const char, int) returning
> pointer to struct hostent {pointer to char h_name, pointer to
> pointer to char... : "/usr/include/netdb.h", line 225


For some reason confgiure failed to find the above functions. Look into
config.log to see what went wrong. Zftp.c tries to provide replacement
implementation and this fails. Are there any error messages in config.log?

-andrej

