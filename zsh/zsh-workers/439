From zsh-workers-request@math.gatech.edu  Wed Oct 11 06:04:56 1995
Received: from gatech.edu (gatech.edu [130.207.244.244]) by werple.net.au (8.7/8.7) with SMTP id GAA06958 for <mason@werple.mira.net.au>; Wed, 11 Oct 1995 06:04:50 +1000 (EST)
Received: from math (math.skiles.gatech.edu) by gatech.edu with SMTP id AA26319
  (5.65c/Gatech-10.0-IDA for <mason@werple.mira.net.au>); Tue, 10 Oct 1995 16:03:17 -0400
Received: by math (5.x/SMI-SVR4)
	id AA29344; Tue, 10 Oct 1995 16:00:15 -0400
Resent-Date: Tue, 10 Oct 1995 21:02:43 +0100 (MET)
Old-Return-Path: <hzoli@cs.elte.hu>
From: Zoltan Hidvegi  <hzoli@cs.elte.hu>
Message-Id: <199510102002.VAA04349@bolyai.cs.elte.hu>
Subject: Re: behaviour with rsh
To: heading_anthony@jpmorgan.com (Heading Anthony)
Date: Tue, 10 Oct 1995 21:02:43 +0100 (MET)
Cc: zsh-workers@math.gatech.edu (zsh-workers)
In-Reply-To: <n1398785313.45656@smtpgwprod.ny.jpmorgan.com> from "Heading, Anthony" at Oct 10, 95 08:00:01 pm
X-Mailer: ELM [version 2.4 PL24]
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-Id: <"iGv9p3.0.QA7.E3jUm"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/439
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Heading, Anthony wrote:
> 
> Zoltan wrote
> > % rsh -n bolyai 'exec xterm -d :0 <&- >&- 2>&-'
> 
> This doesn't work for me on sunos4.1.3 with hzoli3 (which I've now
> accidentally upgraded to by deleting beta3).
> 
> Nor does   rsh narg 'sleep 10 & disown',  which hangs for 10 seconds,
> seemingly regardless of what I do with file descriptors.

I think this is not zsh specific.  My login shell is tcsh on the Solaris box,
and it has similar problems.  Rsh has many problems which casuses processes to
hang.  Just read an rsh manpage about a few problems.

I assume that the sun rshd waits for the cild and something else I do not know
while the linux rshd exits immediately if the child closed all of the
communication lines.  Both is a reasonable behaviour, but if depends on the
rshd and zsh has nothing to do here.  Usually to start an rsh in the
background, you should do something like

% rsh turan 'sh -c "xterm -d bolyai:0 < /dev/null > /dev/null 2>&1" &'

It may be necessary to give a fill pathname of xterm.  You can replace sh
above with any Bourne compatible shell, or with csh after a little
modification.  For a more complicated example look at the xrsh or xon
scripts.

Bye,
  Zoltan

