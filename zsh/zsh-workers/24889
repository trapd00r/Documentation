From zsh-workers-return-24889-mason-zsh=primenet.com.au@sunsite.dk Mon Apr 28 09:20:35 2008
Return-Path: <zsh-workers-return-24889-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24191 invoked from network); 28 Apr 2008 09:20:23 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.4 (2008-01-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.4 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.4
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 28 Apr 2008 09:20:23 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 57529 invoked from network); 28 Apr 2008 09:20:16 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 28 Apr 2008 09:20:16 -0000
Received: (qmail 29543 invoked by alias); 28 Apr 2008 09:20:12 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 24889
Received: (qmail 29529 invoked from network); 28 Apr 2008 09:20:11 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 28 Apr 2008 09:20:11 -0000
Received: from cluster-g.mailcontrol.com (cluster-g.mailcontrol.com [85.115.41.190])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 4941A808A38A
	for <zsh-workers@sunsite.dk>; Mon, 28 Apr 2008 11:20:07 +0200 (CEST)
Received: from cameurexb01.EUROPE.ROOT.PRI ([62.189.241.200])
	by rly19g.srv.mailcontrol.com (MailControl) with ESMTP id m3S9K23h030781
	for <zsh-workers@sunsite.dk>; Mon, 28 Apr 2008 10:20:03 +0100
Received: from news01 ([10.103.143.38]) by cameurexb01.EUROPE.ROOT.PRI with Microsoft SMTPSVC(6.0.3790.3959);
	 Mon, 28 Apr 2008 10:20:01 +0100
Date: Mon, 28 Apr 2008 10:20:01 +0100
From: Peter Stephenson <pws@csr.com>
To: zsh-workers@sunsite.dk
Subject: Re: PATCH: isearch match highlighting
Message-ID: <20080428102001.7b55074e@news01>
In-Reply-To: <17393e3e0804271849l30fe20bdp4008fc8247298d12@mail.gmail.com>
References: <godlygeek@gmail.com>
	<17393e3e0804261727s560acff7sb6125d8f8b46b4b4@mail.gmail.com>
	<200804271957.m3RJvxiS004075@pws-pc.ntlworld.com>
	<17393e3e0804271849l30fe20bdp4008fc8247298d12@mail.gmail.com>
Organization: CSR
X-Mailer: Claws Mail 3.3.1 (GTK+ 2.12.5; i386-redhat-linux-gnu)
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 28 Apr 2008 09:20:01.0245 (UTC) FILETIME=[091C58D0:01C8A911]
X-Scanned-By: MailControl A-08-00-05 (www.mailcontrol.com) on 10.71.0.129
X-Virus-Scanned: ClamAV 0.91.2/6976/Mon Apr 28 10:07:13 2008 on bifrost
X-Virus-Status: Clean

On Sun, 27 Apr 2008 21:49:01 -0400
"Matt Wozniski" <godlygeek@gmail.com> wrote:
> Yep, works now - and looks very nice, though I wonder if we could set
> it up in a way that would let us change the fg or bg color of the
> text, rather than just reverse/standout/underline?

I should get around to that before long.  I don't think it should be too
hard.  I'd like to use standard termcap AF/AB codes for this instead of the
hacked-in (surprise!) colors we currently use in completion, but it doesn't
seem to be that easy to set defaults etc. that way.  Maybe Geoff knows
about this.

> That said, I found a regression in history-incremental-search-backward
> that's in CVS but not 4.3.6, so my guess is that it's caused by
> something in this patch (though I didn't back this patch out to
> double-check that assumption - I'm not very good at working with CVS).
> 
> zsh -f
> mastermind% bindkey -e
> mastermind% ^R-ff^H^He
> failing bck-i-search: -e_
> if you backspace again and retype the e, it changes to a succeeding bck-i-search
> then, ^G and do
> mastermind% ^R-f^He
> bck-i-search: -e_
> 
> So, whatever the bug is, it seems to require more than one backspace
> to trigger it for some reason...

I've seen something like this, but unfortunately I can't get it to happen
reproducibly.  Something might not be being initialised properly.

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR PLC, Churchill House, Cambridge Business Park, Cowley Road
Cambridge, CB4 0WZ, UK                          Tel: +44 (0)1223 692070

