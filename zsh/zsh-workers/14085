From zsh-workers-return-14085-mason-zsh=primenet.com.au@sunsite.dk Tue Apr 24 19:30:36 2001
Return-Path: <zsh-workers-return-14085-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 16571 invoked from network); 24 Apr 2001 19:30:35 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 24 Apr 2001 19:30:35 -0000
Received: (qmail 21145 invoked by alias); 24 Apr 2001 19:30:15 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 14085
Received: (qmail 21127 invoked from network); 24 Apr 2001 19:30:14 -0000
To: zsh-workers@sunsite.dk
Subject: Make Failure on SunOS-4.1
From: Vin Shelton <shelton@icd.teradyne.com>
Organization: Teradyne
Date: 24 Apr 2001 15:43:26 -0400
Message-ID: <54566fu13tt.fsf@icd.teradyne.com>
Lines: 71
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Using the latest CVS sources, I can build fine against SunOS-5.5, but
building under 4.1 gives me the following errors:

gcc -c -I.  -DHAVE_CONFIG_H -Wall -Wno-implicit -Wmissing-prototypes -O2  -o parameter.o /u/shelton/new/src/zsh-2001-04-24/Src/Modules/parameter.c
echo '' parameter.o | sed 's" " Modules/"g' >> ../../Src/stamp-modobjs.tmp
gcc -c -I.  -DHAVE_CONFIG_H -Wall -Wno-implicit -Wmissing-prototypes -O2  -o termcap.o /u/shelton/new/src/zsh-2001-04-24/Src/Modules/termcap.c
In file included from /usr/include/sgtty.h:6,
                 from /u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/curses.h:20,
                 from /u/shelton/new/src/zsh-2001-04-24/Src/Modules/termcap.c:51:
/usr/include/sys/ioctl.h:23: warning: `ECHO' redefined
/u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/termios.h:169: warning: this is the location of the previous definition
/usr/include/sys/ioctl.h:30: warning: `NL0' redefined
/u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/termios.h:116: warning: this is the location of the previous definition
/usr/include/sys/ioctl.h:31: warning: `NL1' redefined
/u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/termios.h:117: warning: this is the location of the previous definition
/usr/include/sys/ioctl.h:35: warning: `TAB0' redefined
/u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/termios.h:124: warning: this is the location of the previous definition
/usr/include/sys/ioctl.h:36: warning: `TAB1' redefined
/u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/termios.h:125: warning: this is the location of the previous definition
/usr/include/sys/ioctl.h:37: warning: `TAB2' redefined
/u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/termios.h:126: warning: this is the location of the previous definition
/usr/include/sys/ioctl.h:38: warning: `XTABS' redefined
/u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/termios.h:127: warning: this is the location of the previous definition
/usr/include/sys/ioctl.h:40: warning: `CR0' redefined
/u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/termios.h:119: warning: this is the location of the previous definition
/usr/include/sys/ioctl.h:41: warning: `CR1' redefined
/u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/termios.h:120: warning: this is the location of the previous definition
/usr/include/sys/ioctl.h:42: warning: `CR2' redefined
/u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/termios.h:121: warning: this is the location of the previous definition
/usr/include/sys/ioctl.h:43: warning: `CR3' redefined
/u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/termios.h:122: warning: this is the location of the previous definition
/usr/include/sys/ioctl.h:45: warning: `FF0' redefined
/u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/termios.h:136: warning: this is the location of the previous definition
/usr/include/sys/ioctl.h:46: warning: `FF1' redefined
/u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/termios.h:137: warning: this is the location of the previous definition
/usr/include/sys/ioctl.h:48: warning: `BS0' redefined
/u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/termios.h:130: warning: this is the location of the previous definition
/usr/include/sys/ioctl.h:49: warning: `BS1' redefined
/u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/termios.h:131: warning: this is the location of the previous definition
/usr/include/sys/ioctl.h:57: warning: `TOSTOP' redefined
/u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/termios.h:174: warning: this is the location of the previous definition
/usr/include/sys/ioctl.h:58: warning: `FLUSHO' redefined
/u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/termios.h:189: warning: this is the location of the previous definition
/usr/include/sys/ioctl.h:64: warning: `PENDIN' redefined
/u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/termios.h:190: warning: this is the location of the previous definition
/usr/include/sys/ioctl.h:66: warning: `NOFLSH' redefined
/u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/termios.h:173: warning: this is the location of the previous definition
In file included from /u/shelton/new/src/zsh-2001-04-24/Src/Modules/termcap.c:51:
/u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/curses.h:54: `DO' redeclared as different kind of symbol
/u/shelton/new/src/zsh-2001-04-24/Src/zsh.h:211: previous declaration of `DO'
/u/shelton/new/src/zsh-2001-04-24/Src/Modules/termcap.c: In function `bin_echotc':
/u/shelton/new/src/zsh-2001-04-24/Src/Modules/termcap.c:100: warning: assignment makes pointer from integer without a cast
make[3]: *** [termcap.o] Error 1
make[3]: Leaving directory `/tmp_mnt/u/shelton/new/build/SunOS-4.1/zsh-2001-04-24/Src/Modules'
make[2]: *** [modobjs] Error 1
make[2]: Leaving directory `/tmp_mnt/u/shelton/new/build/SunOS-4.1/zsh-2001-04-24/Src'
make[1]: *** [modobjs] Error 2
make[1]: Leaving directory `/tmp_mnt/u/shelton/new/build/SunOS-4.1/zsh-2001-04-24/Src'
make: *** [all] Error 1


The configuration is:

# /u/shelton/new/src/zsh-2001-04-24/configure  --prefix=/u/shelton/new/SunOS-4.1/zsh-2001-04-24 --datadir=/u/shelton/new/share --enable-zsh-mem --enable-etcdir=/u/shelton/new/etc --disable-dynamic --disable-nls --disable-locale

and uname -a reports:

SunOS peach 4.1.4 1 sun4m unknown

HTH,
  vin

