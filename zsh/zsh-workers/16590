From zsh-workers-return-16590-mason-zsh=primenet.com.au@sunsite.dk Fri Feb 08 08:20:43 2002
Return-Path: <zsh-workers-return-16590-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9076 invoked from network); 8 Feb 2002 08:20:42 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 8 Feb 2002 08:20:42 -0000
Received: (qmail 19282 invoked by alias); 8 Feb 2002 08:20:29 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 16590
Received: (qmail 19249 invoked from network); 8 Feb 2002 08:20:16 -0000
Date: Fri, 8 Feb 2002 03:20:08 -0500
From: Clint Adams <clint@zsh.org>
To: zsh-workers@sunsite.dk
Subject: PATCH: _dict_words
Message-ID: <20020208082008.GA4967@dman.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.3.27i

Matt Zimmerman says:

 By default, dict -m uses an exact match, with some fuzz for spelling
 correction.  Using a prefix match gives much more natural and useful
 completion behaviour.

Thus,

Index: Completion/Unix/Type/_dict_words
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Type/_dict_words,v
retrieving revision 1.1
diff -u -r1.1 _dict_words
--- Completion/Unix/Type/_dict_words	2 Apr 2001 14:36:38 -0000	1.1
+++ Completion/Unix/Type/_dict_words	8 Feb 2002 08:18:03 -0000
@@ -4,7 +4,7 @@
 
 [[ -z $words[CURRENT] ]] && return 1
 
-dictresults=(${${(f)${"$(dict -m $words[CURRENT])":gs/    
+dictresults=(${${(f)${"$(dict -m -s prefix $words[CURRENT])":gs/    
   / /}}:#[0-9]*matches found})
 
 for j in ${dictresults}

