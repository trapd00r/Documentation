From zsh-workers-return-28448-mason-zsh=primenet.com.au@zsh.org Thu Nov 25 11:04:49 2010
Return-Path: <zsh-workers-return-28448-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8054 invoked by alias); 25 Nov 2010 11:04:49 -0000
Mailing-List: contact zsh-workers-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Workers List <zsh-workers.zsh.org>
List-Post: <mailto:zsh-workers@zsh.org>
List-Help: <mailto:zsh-workers-help@zsh.org>
Delivered-To: mailing list zsh-workers@zsh.org
X-Seq: 28448
Received: (qmail 8529 invoked from network); 25 Nov 2010 11:04:38 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00,RCVD_IN_DNSWL_LOW,
	SPF_HELO_PASS autolearn=ham version=3.3.1
Received-SPF: none (ns1.primenet.com.au: domain at csr.com does not designate permitted sender hosts)
Date: Thu, 25 Nov 2010 10:38:33 +0000
From: Peter Stephenson <Peter.Stephenson@csr.com>
To: zsh-workers@zsh.org
Subject: Re: Mac OS X Prompt Bug
Message-ID: <20101125103833.02141f38@pwslap01u.europe.root.pri>
In-Reply-To: <AANLkTi=i3GyrJLKVCRAp0BstOMMf3n0AXUs5PrTnmxQo@mail.gmail.com>
References: <BAB9C52A-B68A-4B5A-99C2-F85B310B1380@gmail.com>
	<20101124152408.3c901d79@pwslap01u.europe.root.pri>
	<20101124160832.GA5062@prunille.vinc17.org>
	<AANLkTi=i3GyrJLKVCRAp0BstOMMf3n0AXUs5PrTnmxQo@mail.gmail.com>
Organization: Cambridge Silicon Radio
X-Mailer: Claws Mail 3.7.6 (GTK+ 2.20.1; i386-redhat-linux-gnu)
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 25 Nov 2010 10:38:33.0765 (UTC) FILETIME=[E8B49550:01CB8C8C]
X-Scanned-By: MailControl A_10_80_00 (www.mailcontrol.com) on 10.71.0.126

On Wed, 24 Nov 2010 11:04:33 -0800
Wayne Davison <wayned@users.sourceforge.net> wrote:
> One thing that could be done to improve the PROMPT_SP heuristic is to
> output a extra space (assuming the width (w) is 1) and another CR
> after the trailing CR that is currently output.  That would ensure
> that newlines wouldn't show a superfluous percent when no dangling
> output was present. So, how about this?

Thanks.

Might be best just to commit it and see how it works, I suspect just
staring at it isn't going to give us a feel.

-- 
Peter Stephenson <pws@csr.com>            Software Engineer
Tel: +44 (0)1223 692070                   Cambridge Silicon Radio Limited
Churchill House, Cambridge Business Park, Cowley Road, Cambridge, CB4 0WZ, UK


Member of the CSR plc group of companies. CSR plc registered in England and Wales, registered number 4187346, registered office Churchill House, Cambridge Business Park, Cowley Road, Cambridge, CB4 0WZ, United Kingdom

