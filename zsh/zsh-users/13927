From zsh-users-return-13927-mason-zsh=primenet.com.au@sunsite.dk Sun Mar 15 21:11:56 2009
Return-Path: <zsh-users-return-13927-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10525 invoked from network); 15 Mar 2009 21:11:33 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 15 Mar 2009 21:11:33 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 12006 invoked from network); 15 Mar 2009 21:08:32 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 15 Mar 2009 21:08:32 -0000
Received: (qmail 16273 invoked by alias); 15 Mar 2009 21:08:17 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 13927
Received: (qmail 16262 invoked from network); 15 Mar 2009 21:08:16 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 15 Mar 2009 21:08:16 -0000
Received: from vms173003pub.verizon.net (vms173003pub.verizon.net [206.46.173.3])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 7AA9680307F8
	for <zsh-users@sunsite.dk>; Sun, 15 Mar 2009 22:08:13 +0100 (CET)
Received: from torch.brasslantern.com ([96.249.201.13])
 by vms173003.mailsrvcs.net
 (Sun Java(tm) System Messaging Server 6.3-7.04 (built Sep 26 2008; 32bit))
 with ESMTPA id <0KGK00MBHG160FWB@vms173003.mailsrvcs.net> for
 zsh-users@sunsite.dk; Sun, 15 Mar 2009 16:07:58 -0500 (CDT)
Received: from torch.brasslantern.com (localhost.localdomain [127.0.0.1])
	by torch.brasslantern.com (8.13.1/8.13.1) with ESMTP id n2FL7sgm005407	for
 <zsh-users@sunsite.dk>; Sun, 15 Mar 2009 14:07:54 -0700
Received: (from schaefer@localhost)	by torch.brasslantern.com
 (8.13.1/8.13.1/Submit) id n2FL7rLH005406	for zsh-users@sunsite.dk; Sun,
 15 Mar 2009 14:07:53 -0700
From: Bart Schaefer <schaefer@brasslantern.com>
Message-id: <090315140753.ZM5405@torch.brasslantern.com>
Date: Sun, 15 Mar 2009 14:07:53 -0700
In-reply-to: <20090315204950.89255.qmail@smasher.org>
Comments: In reply to Atom Smasher <atom@smasher.org>
 "Re: jobs -Z example?" (Mar 16,  9:49am)
References: <20090315182446.60806.qmail@smasher.org>
	<090315124749.ZM5277@torch.brasslantern.com>
	<20090315204950.89255.qmail@smasher.org>
X-Mailer: OpenZMail Classic (0.9.2 24April2005)
To: zsh-users@sunsite.dk
Subject: Re: jobs -Z example?
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii
X-Virus-Scanned: ClamAV 0.92.1/9110/Sun Mar 15 06:06:44 2009 on bifrost
X-Virus-Status: Clean

On Mar 16,  9:49am, Atom Smasher wrote:
}
} that's pretty much what i expected, but it's not working on freeBSD.

Some OSs stash the original command and environment so that you can't
conceal them this way, because malware sometimes attempts to disguise
itself with this trick so it's considered more secure to disallow it.

Try this:

    perl -e '$0 = "Test hiding command"; sleep 10;' & ps $!

If perl is able to do it but zsh is not, then it's just that FreeBSD
has a different mechanism for it and we may be able to patch zsh.

