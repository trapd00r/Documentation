From zsh-users-return-8743-mason-zsh=primenet.com.au@sunsite.dk Sat Apr 23 16:18:20 2005
Return-Path: <zsh-users-return-8743-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13695 invoked from network); 23 Apr 2005 16:18:19 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 23 Apr 2005 16:18:19 -0000
Received: (qmail 49919 invoked from network); 23 Apr 2005 16:18:10 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 23 Apr 2005 16:18:10 -0000
Received: (qmail 1137 invoked by alias); 23 Apr 2005 16:18:04 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8743
Received: (qmail 1127 invoked from network); 23 Apr 2005 16:18:04 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 23 Apr 2005 16:18:04 -0000
Received: (qmail 48834 invoked from network); 23 Apr 2005 16:18:04 -0000
Received: from bc074.b.pppool.de (HELO solfire) (213.7.192.116)
  by a.mx.sunsite.dk with SMTP; 23 Apr 2005 16:17:58 -0000
Received: from [127.0.0.1] (helo=localhost)
	by solfire with esmtp (Exim 4.42)
	id 1DPNKt-0008Pl-PL; Sat, 23 Apr 2005 18:18:30 +0200
Date: Sat, 23 Apr 2005 18:18:26 +0200 (CEST)
Message-Id: <20050423.181826.74729215.Meino.Cramer@gmx.de>
To: arvidjaar@newmail.ru
Cc: zsh-users@sunsite.dk
From: Meino Christian Cramer <Meino.Cramer@gmx.de>
In-Reply-To: <200504231254.54270.arvidjaar@newmail.ru>
References: <20050423.082943.74746308.Meino.Cramer@gmx.de>
	<200504231254.54270.arvidjaar@newmail.ru>
X-Mailer: Mew version 4.1 on Emacs 21.3 / Mule 5.0 (SAKAKI)
Mime-Version: 1.0
X-SA-Exim-Connect-IP: 127.0.0.1
X-SA-Exim-Rcpt-To: arvidjaar@newmail.ru, zsh-users@sunsite.dk
X-SA-Exim-Mail-From: Meino.Cramer@gmx.de
Subject: Re: Speeding up ZSH startup
Content-Type: Text/Plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-SA-Exim-Version: 4.1+cvs (built Sat, 28 Aug 2004 13:10:40 +0200)
X-SA-Exim-Scanned: Yes (on solfire)
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-1.7 required=6.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_WEB autolearn=no version=3.0.2
X-Spam-Hits: -1.7

From: Andrey Borzenkov <arvidjaar@newmail.ru>
Subject: Re: Speeding up ZSH startup
Date: Sat, 23 Apr 2005 12:54:53 +0400

> On Saturday 23 April 2005 10:29, Meino Christian Cramer wrote:
> > Hi,
> >
> >  I am at the very beginning of dvinig deeper into the wonderful world
> >  of ZSH :O)...
> >
> >  I want to speed up the start of zsh on my Linux system.
> >  WIth "zsh -x" I figured out what file are loaded when and I found no
> >  abnormal things (reloading and such...). The different fiel, which
> >  got loaded are of "normal" size (so nothing VERY big...).
> >
> >  Is there any other things or tricks I can try to make starting zsh a
> >  little faster ?
> >
> 
> If you use "new" completion (compinit) then the slowest part is reading and 
> parsing all completion functions.

  ...hmmm

  When compiling  .zcompdump to .zcompdump.zwc I think it will start a
  little faster...but when will .zcompdump be created...and -- as a
  logical consequence -- when do I have to recompile it again ?

  Is there any automatism? Kinda "Dear ZSH, if you have recently
  created .zcompdump...please compile it for me..."

  (or am I blinded by too much programming tasks ???)
 
> You can speed it up by precompiling; see zcompile and function autoloading in 
> Zsh manuals.
> 
> I do something like
> 
> for i in $fpath; do
>   zcompile $i $i/*(N)
> done
> 
> and wrapper function that checks modification time to automatically recompile 
> if needed.

  Aha! Sounds good...

> >  For example: Are there feature known, which are better to be
> >  activated at last/at first...
> >
> 
> it depends on your rc files actually. Ubuntu ships zero rc files for zsh and 
> startup is very fast :)

  Ha!!!

  Less features means being fast...isn't it ?


> -andrey

mcc

