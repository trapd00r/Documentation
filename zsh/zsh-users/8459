From zsh-users-return-8459-mason-zsh=primenet.com.au@sunsite.dk Fri Feb 04 04:46:22 2005
Return-Path: <zsh-users-return-8459-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 6822 invoked from network); 4 Feb 2005 04:46:20 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 4 Feb 2005 04:46:20 -0000
Received: (qmail 98987 invoked from network); 4 Feb 2005 04:46:12 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 4 Feb 2005 04:46:12 -0000
Received: (qmail 24008 invoked by alias); 4 Feb 2005 04:46:02 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8459
Received: (qmail 23992 invoked from network); 4 Feb 2005 04:46:01 -0000
Received: from unknown (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 4 Feb 2005 04:46:01 -0000
Received: (qmail 97894 invoked from network); 4 Feb 2005 04:45:25 -0000
Received: from ms-smtp-05.texas.rr.com (HELO ms-smtp-05-eri0.texas.rr.com) (24.93.47.44)
  by a.mx.sunsite.dk with SMTP; 4 Feb 2005 04:45:21 -0000
Received: from amdxp.kalama.no-ip.org (cs666888-186.austin.rr.com [66.68.88.186])
	by ms-smtp-05-eri0.texas.rr.com (8.12.10/8.12.7) with ESMTP id j144jFPa008051;
	Thu, 3 Feb 2005 22:45:16 -0600 (CST)
Received: from [10.0.1.100] (mothership.kalama.no-ip.org [10.0.1.100])
	by amdxp.kalama.no-ip.org (Postfix) with ESMTP id D81C54F;
	Thu,  3 Feb 2005 22:45:13 -0600 (CST)
Mime-Version: 1.0 (Apple Message framework v619.2)
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <bb57a9a834f9731d92eac69b1260728e@kalama.no-ip.org>
Content-Transfer-Encoding: 7bit
Cc: zsh-users@sunsite.dk
From: lists <lists@kalama.no-ip.org>
Subject: Darwin _defaults completion bug
Date: Thu, 3 Feb 2005 22:45:15 -0600
To: Motoi Washida <a66@h8.dion.ne.jp>
X-Mailer: Apple Mail (2.619.2)
X-Virus-Scanned: Symantec AntiVirus Scan Engine
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=6.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.5

Hi Motoi,
	I think I've found a small bug with your _defaults completion (which I 
use all the time).  If I type 'defaults read -g' then hit the Tab key, 
I see a list of possible completions which are quoted *and* escaped 
with a backslash.  Here's what I mean:

% zsh -f
% autoload -U compinit
% compinit -C -d ~/.zcompdump_$ZSH_VERSION
% defaults read -g <TAB>
\"com.apple.AppleShareClientCore\"
\"com.apple.keyboard.fnState\"
\"com.apple.mouse.ignoreTrackpadIfMousePresent\"
\"com.apple.mouse.ignoreTypingFilter\"
\"com.apple.mouse.tapBehavior\"
\"com.apple.sound.beep.feedback\"
\"com.apple.trackpad.scaling\"
AppleAntiAliasingThreshold

...et cetera, et cetera.  The command doesn't work in the escaped + 
quoted form.  If just the quotes are used, the command works.  I've 
looked at _defaults but haven't been able to figure out where the 
escapes are being inserted.  If you get a chance, could you take a 
look?

Thanks,
Ryan

