From zsh-users-return-4365-mason-zsh=primenet.com.au@sunsite.dk Wed Oct 10 17:36:27 2001
Return-Path: <zsh-users-return-4365-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17458 invoked from network); 10 Oct 2001 17:36:26 -0000
Received: from unknown (HELO sunsite.dk) (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 10 Oct 2001 17:36:26 -0000
Received: (qmail 23849 invoked by alias); 10 Oct 2001 17:36:08 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4365
Received: (qmail 23836 invoked from network); 10 Oct 2001 17:36:07 -0000
Date: Wed, 10 Oct 2001 12:35:40 -0500
From: lists@pelennor.net
To: zsh-users@sunsite.dk
Subject: conditional expressions (incompatible with ksh)
Message-ID: <20011010123540.A5835@pelennor.net>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5i

Hello,

So I have a ksh script which tests to see if a file exists like so:

     if [ -a file ]; then

This works correctly in both ksh and bash. However, in zsh (both the normal
mode, and the ksh compatible mode), the -a operator is only interpreted
as boolean AND, never as "file exists" in the appropriate context.

According to my "Unix in a Nutshell" book, -a is used for both operators,
and the shell needs to determine the correct use from context.

I realize that I could use [[ ]] instead of [ ] to work around this problem,
but the script needs to remain compatible with other shells, so this isn't
really a good option.

Any idea what the correct behavior should be?

mdr
-- 
Matthew D. Rench

