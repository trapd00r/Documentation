From zsh-users-return-8663-mason-zsh=primenet.com.au@sunsite.dk Mon Apr 11 06:22:30 2005
Return-Path: <zsh-users-return-8663-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13822 invoked from network); 11 Apr 2005 06:22:29 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 11 Apr 2005 06:22:29 -0000
Received: (qmail 16237 invoked from network); 11 Apr 2005 06:22:22 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 11 Apr 2005 06:22:22 -0000
Received: (qmail 25822 invoked by alias); 11 Apr 2005 06:22:14 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8663
Received: (qmail 13714 invoked from network); 11 Apr 2005 05:55:32 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 11 Apr 2005 05:55:32 -0000
Received: (qmail 3442 invoked from network); 11 Apr 2005 05:55:32 -0000
Received: from blackbird.world-net.net (204.57.72.6)
  by a.mx.sunsite.dk with SMTP; 11 Apr 2005 05:55:28 -0000
Received: from blackbird.world-net.net (www@localhost.world-net.net [127.0.0.1])
	by blackbird.world-net.net (8.12.11/8.12.8) with SMTP id j3B5tGQl010602;
	Mon, 11 Apr 2005 00:55:17 -0500 (CDT)
	(envelope-from teratorn@twistedmatrix.com)
Received: from dsl2-222.guam.netpci.com ([202.128.83.222])
        (SquirrelMail authenticated user teratorn)
        by www.world-net.net with HTTP;
        Mon, 11 Apr 2005 15:55:18 +1000 (ChST)
Message-ID: <58095.202.128.83.222.1113198918.squirrel@www.world-net.net>
In-Reply-To: <cdca7ed2ec2648304c1d580498d8dde3@mindflux.com.au>
References: <cdca7ed2ec2648304c1d580498d8dde3@mindflux.com.au>
Date: Mon, 11 Apr 2005 15:55:18 +1000 (ChST)
Subject: Maintaining the 'rehash' hash automatically [was Re: 
     compctl_rehash for zshcompsys]
From: "Eric Mangold" <teratorn@twistedmatrix.com>
To: "Andre Pang" <andre@mindflux.com.au>
Cc: zsh-users@sunsite.dk, "Thom May" <thom@ubuntu.com>
User-Agent: SquirrelMail/1.4.2
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Priority: 3
Importance: Normal
X-Scanned-By: MIMEDefang 2.48 on 127.0.0.1
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=6.0 tests=BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.6

> Hi all,
>
> I had a really handy old macro for zsh v3 that automatically rehashed
> on a failed tab command completion, using the compctl completion
> system:

I was just thinking about the recent advances in filesystem notification
services provided by modern kernels, e.g. inotify on linux2.6

Wouldn't it be pretty cool, if on supported systems, zsh could have an
option to maintain the hash all by itself with low overhead?

Anyone interested in doing this? Would patches be accepted?

Thoughts? Ideas?

-Eric Mangold

