From zsh-workers-return-8145-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Oct 06 19:43:30 1999
Return-Path: <zsh-workers-return-8145-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9199 invoked from network); 6 Oct 1999 19:43:25 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 6 Oct 1999 19:43:25 -0000
Received: (qmail 3639 invoked by alias); 6 Oct 1999 19:43:21 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 8145
Received: (qmail 3632 invoked from network); 6 Oct 1999 19:43:20 -0000
Date: Wed, 6 Oct 1999 20:43:19 +0100
From: Adam Spiers <adam@thelonious.new.ox.ac.uk>
To: zsh workers mailing list <zsh-workers@sunsite.auc.dk>
Subject: PATCH: include Prompts/* and Misc/* in default functions install
Message-ID: <19991006204319.C10308@thelonious.new.ox.ac.uk>
Reply-To: Adam Spiers <adam@spiers.net>
Mail-Followup-To: zsh workers mailing list <zsh-workers@sunsite.auc.dk>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 1.0pre2i
X-URL: http://www.new.ox.ac.uk/~adam/
X-OS: Linux 2.2.12 i686

This one will probably be controversial, although of course personally
I think it should be included :-)

If Prompts/* is part of the default functions install then Misc/* will
need to be too, since `promptinit' loads `colors'.

Incidentally, having FUNCTIONS_INSTALL contain wildcards applying to
two subdirectories at once is a bit evil; what if you wanted to
install Functions/Zle/* but not Completion/Zle/*, or vice-versa?

P.S. Peter, if you've already decided that my prompts stuff will not
be included ever, let me know and I'll shut up about prompts :-)

Index: INSTALL
===================================================================
RCS file: /usr/local/cvsroot/zsh/INSTALL,v
retrieving revision 1.1.1.2
diff -u -r1.1.1.2 INSTALL
--- INSTALL	1999/09/21 12:15:38	1.1.1.2
+++ INSTALL	1999/10/06 19:11:13
@@ -253,7 +253,7 @@
 Completion or Functions subdirectories.  By default, all the functions for
 the Completion system will be installed (see the zshcompsys manual page),
 plus those provide functions for the line editor, i.e.
-  FUNCTIONS_INSTALL='Core/* Base/* Builtins/* User/* Commands/* Debian/* Linux/* X/* Zle/*'
+  FUNCTIONS_INSTALL='Core/* Base/* Builtins/* User/* Commands/* Debian/* Linux/* X/* Zle/* Prompts/* Misc/*'
 and if the --enable-dynamic option was given, the functions in
 Functions/Zftp, which require the zftp module to be available (see the
 zshzftpsys manual page), will be included as well.  Note, however, that
Index: configure.in
===================================================================
RCS file: /usr/local/cvsroot/zsh/configure.in,v
retrieving revision 1.1.1.4
diff -u -r1.1.1.4 configure.in
--- configure.in	1999/09/21 12:17:46	1.1.1.4
+++ configure.in	1999/10/06 19:10:58
@@ -215,7 +215,7 @@
 [  --enable-function-subdirs  install functions in subdirectories])
 
 if test "x${FUNCTIONS_INSTALL+set}" != xset; then
-  FUNCTIONS_INSTALL="Core/* Base/* Builtins/* User/* Commands/* Debian/* Linux/* X/* Zle/*"
+  FUNCTIONS_INSTALL="Core/* Base/* Builtins/* User/* Commands/* Debian/* Linux/* X/* Zle/* Prompts/* Misc/*"
   if test $dynamic != no; then
     FUNCTIONS_INSTALL="${FUNCTIONS_INSTALL} Zftp/*"
   fi

