From zsh-workers-return-20957-mason-zsh=primenet.com.au@sunsite.dk Thu Mar 10 15:04:42 2005
Return-Path: <zsh-workers-return-20957-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 19340 invoked from network); 10 Mar 2005 15:04:41 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 10 Mar 2005 15:04:41 -0000
Received: (qmail 12468 invoked from network); 10 Mar 2005 15:04:35 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 10 Mar 2005 15:04:35 -0000
Received: (qmail 5113 invoked by alias); 10 Mar 2005 15:04:32 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 20957
Received: (qmail 5100 invoked from network); 10 Mar 2005 15:04:32 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 10 Mar 2005 15:04:32 -0000
Received: (qmail 12146 invoked from network); 10 Mar 2005 15:04:29 -0000
Received: from f9.mail.ru (194.67.57.39)
  by a.mx.sunsite.dk with SMTP; 10 Mar 2005 15:04:17 -0000
Received: from mail by f9.mail.ru with local 
	id 1D9PCy-000Gis-00
	for zsh-workers@sunsite.dk; Thu, 10 Mar 2005 18:04:16 +0300
Received: from [212.248.25.26] by win.mail.ru with HTTP;
	Thu, 10 Mar 2005 18:04:16 +0300
From: Andrey Borzenkov <arvidjaar@mail.ru>
To: zsh-workers@sunsite.dk
Subject: [PATCH] _fuser Solaris and SVR4 support
Mime-Version: 1.0
X-Mailer: mPOP Web-Mail 2.19
X-Originating-IP: [212.248.25.26]
Date: Thu, 10 Mar 2005 18:04:16 +0300
Reply-To: Andrey Borzenkov <arvidjaar@mail.ru>
Content-Type: multipart/mixed;
	boundary="----Dn3XKqT0-oHPliVYTflI6S3Bx:1110467056"
Message-Id: <E1D9PCy-000Gis-00.arvidjaar-mail-ru@f9.mail.ru>
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=6.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.6


------Dn3XKqT0-oHPliVYTflI6S3Bx:1110467056
Content-Type: text/plain; charset=koi8-r
Content-Transfer-Encoding: 8bit

I have access to Solaris 9 only so please extend this with
other versions (BTW Solaris 10 is now 5.10 not 2.10).

Completion for SVR4 is not quite right - it should complete
signal names only after -k, but it seems to be too much work.

-andrey

------Dn3XKqT0-oHPliVYTflI6S3Bx:1110467056
Content-Type: text/plain; name="_fuser.diff"
Content-Disposition: attachment; filename="_fuser.diff"
Content-Transfer-Encoding: base64

SW5kZXg6IENvbXBsZXRpb24vVW5peC9Db21tYW5kL19mdXNlcgo9PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ClJDUyBmaWxl
OiAvY3Zzcm9vdC96c2gvenNoL0NvbXBsZXRpb24vVW5peC9Db21tYW5kL19mdXNlcix2CnJldHJp
ZXZpbmcgcmV2aXNpb24gMS4xCmRpZmYgLXUgLXIxLjEgX2Z1c2VyCi0tLSBDb21wbGV0aW9uL1Vu
aXgvQ29tbWFuZC9fZnVzZXIJNyBNYXIgMjAwNSAwMjo1MjozMCAtMDAwMAkxLjEKKysrIENvbXBs
ZXRpb24vVW5peC9Db21tYW5kL19mdXNlcgkxMCBNYXIgMjAwNSAxNDo1ODo0MyAtMDAwMApAQCAt
MSwxNyArMSw0MiBAQAogI2NvbXBkZWYgZnVzZXIKIAotX2FyZ3VtZW50cyBcCi0gICAgICAgJygt
cyktYVtzaG93IGFsbCBmaWxlcyBzcGVjaWZpZWQgb24gdGhlIGNvbW1hbmQgbGluZV0nIFwKLSAg
ICAgICB7LWMsLW19J1tsaXN0IGFsbCBwcm9jZXNzZXMgYWNjZXNzaW5nIGZpbGVzIG9uIHRoZSBm
aWxlc3lzdGVtIHNwZWNpZmllZCBieSBuYW1lXScgXAotICAgICAgICcta1traWxsIHByb2Nlc3Nl
cyBhY2Nlc3NpbmcgdGhlIGZpbGVdJyBcCi0gICAgICAgJy1pW2FzayBmb3IgY29uZmlybWF0aW9u
IGJlZm9yZSBraWxsaW5nXScgXAotICAgICAgICctbFtsaXN0IGFsbCBrbm93biBzaWduYWwgbmFt
ZXNdJyBcCi0gICAgICAgJy1uW3NlbGVjdCBuYW1lIHNwYWNlXTpuYW1lc3BhY2U6KGZpbGUgdWRw
IHRjcCknIFwKLSAgICAgICAnKC1hKS1zW3NpbGVudCBvcGVyYXRpb25dJyBcCi0gICAgICAgJy1z
aWduYWxbc2VuZCBhbHRlcm5hdGUgc2lnbmFsIHdpdGggLWtdOnNpZ25hbDpfc2lnbmFscycgXAot
ICAgICAgICctdVthcHBlbmQgdGhlIHVzZXIgbmFtZSBvZiB0aGUgcHJvY2VzcyBvd25lciB0byBl
YWNoIFBJRF0nIFwKLSAgICAgICAnLXZbdmVyYm9zZSBtb2RlXScgXAotICAgICAgICctVltkaXNw
bGF5IHZlcnNpb24gaW5mb3JtYXRpb25dJyBcCi0gICAgICAgJy00W3NlYXJjaCBvbmx5IGZvciBJ
UHY0IHNvY2tldHNdJyBcCi0gICAgICAgJy02W3NlYXJjaCBvbmx5IGZvciBJUHY2IHNvY2tldHNd
JyBcCi0gICAgICAgJzpuYW1lOl9maWxlcycKK2xvY2FsIC1hIGFyZ3MgYXJnMQorCitpZiBfcGlj
a192YXJpYW50IC1jICR3b3Jkc1sxXSBnbnU9R05VIHVuaXggLVY7IHRoZW4KKyAgX2FyZ3VtZW50
cyBcCisJICcoLXMpLWFbc2hvdyBhbGwgZmlsZXMgc3BlY2lmaWVkIG9uIHRoZSBjb21tYW5kIGxp
bmVdJyBcCisJIHstYywtbX0nW2xpc3QgYWxsIHByb2Nlc3NlcyBhY2Nlc3NpbmcgZmlsZXMgb24g
dGhlIGZpbGVzeXN0ZW0gc3BlY2lmaWVkIGJ5IG5hbWVdJyBcCisJICcta1traWxsIHByb2Nlc3Nl
cyBhY2Nlc3NpbmcgdGhlIGZpbGVdJyBcCisJICctaVthc2sgZm9yIGNvbmZpcm1hdGlvbiBiZWZv
cmUga2lsbGluZ10nIFwKKwkgJy1sW2xpc3QgYWxsIGtub3duIHNpZ25hbCBuYW1lc10nIFwKKwkg
Jy1uW3NlbGVjdCBuYW1lIHNwYWNlXTpuYW1lc3BhY2U6KGZpbGUgdWRwIHRjcCknIFwKKwkgJygt
YSktc1tzaWxlbnQgb3BlcmF0aW9uXScgXAorCSAnLXNpZ25hbFtzZW5kIGFsdGVybmF0ZSBzaWdu
YWwgd2l0aCAta106c2lnbmFsOl9zaWduYWxzJyBcCisJICctdVthcHBlbmQgdGhlIHVzZXIgbmFt
ZSBvZiB0aGUgcHJvY2VzcyBvd25lciB0byBlYWNoIFBJRF0nIFwKKwkgJy12W3ZlcmJvc2UgbW9k
ZV0nIFwKKwkgJy1WW2Rpc3BsYXkgdmVyc2lvbiBpbmZvcm1hdGlvbl0nIFwKKwkgJy00W3NlYXJj
aCBvbmx5IGZvciBJUHY0IHNvY2tldHNdJyBcCisJICctNltzZWFyY2ggb25seSBmb3IgSVB2NiBz
b2NrZXRzXScgXAorCSAnOm5hbWU6X2ZpbGVzJworZWxzZQorICBjYXNlICRPU1RZUEUgaW4KKyAg
ICBzb2xhcmlzMi45ICkKKyAgICAgIGFyZ3M9KAorCSAnLW5bbGlzdCBvbmx5IHByb2Nlc3NlcyB3
aXRoIG5vbi1ibG9ja2luZyBtYW5kYXRvcnkgbG9ja3NdJyAKKwkgJy1zW3NlbmQgYWx0ZXJuYXRl
IHNpZ25hbCB3aXRoIC1rXTpzaWduYWw6X3NpZ25hbHMnIAorICAgICAgKQorICAgIDs7CisgICAg
c3lzdjQgKQorICAgICAgYXJnMT0oICc6c2lnbmFsOl9zaWduYWxzIC1wJyApCisgICAgOzsKKyAg
ZXNhYworCisgIF9hcmd1bWVudHMgXAorCSAnKC1mKS1jW2xpc3QgYWxsIHByb2Nlc3NlcyBhY2Nl
c3NpbmcgZmlsZXMgb24gdGhlIGZpbGVzeXN0ZW0gc3BlY2lmaWVkIGJ5IG5hbWVdJyBcCisJICco
LWMpLWZbbGlzdCBhbGwgcHJvY2Vzc2VzIGFjY2Vzc2luZyBuYW1lZCBmaWxlc10nIFwKKwkgJy1r
W2tpbGwgcHJvY2Vzc2VzIGFjY2Vzc2luZyB0aGUgZmlsZV0nIFwKKwkgJy11W2FwcGVuZCB0aGUg
dXNlciBuYW1lIG9mIHRoZSBwcm9jZXNzIG93bmVyIHRvIGVhY2ggUElEXScgXAorCSAkYXJncyBc
CisJICRhcmcxIFwKKwkgJzpuYW1lOl9maWxlcycKK2ZpCg==

------Dn3XKqT0-oHPliVYTflI6S3Bx:1110467056--

