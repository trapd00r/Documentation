From zsh-users-return-15769-mason-zsh=primenet.com.au@zsh.org Sat Feb 05 07:34:40 2011
Return-Path: <zsh-users-return-15769-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9626 invoked by alias); 5 Feb 2011 07:34:40 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 15769
Received: (qmail 8037 invoked from network); 5 Feb 2011 07:34:16 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.9 required=5.0 tests=BAYES_00,SPF_HELO_PASS
	autolearn=ham version=3.3.1
Received-SPF: none (ns2.melb.primenet.com.au: domain at fifi.org does not designate permitted sender hosts)
Sender: phil@fifi.org
To: Bart Schaefer <schaefer@brasslantern.com>
Cc: zsh-users@zsh.org
Subject: Re: Printing ^C, ^D key presses at end of prompt when pressed
References: <AANLkTike3e1M6NUSA=YoFOsyRhmumkgDvo=H+pdc64FC@mail.gmail.com>
	<110203202058.ZM22332@torch.brasslantern.com>
Mail-Copies-To: nobody
From: Philippe Troin <phil@fifi.org>
Date: 04 Feb 2011 02:03:15 -0800
In-Reply-To: <110203202058.ZM22332@torch.brasslantern.com>
Message-ID: <87r5bo9kws.fsf@old-tantale.fifi.org>
Lines: 35
User-Agent: Gnus/5.09 (Gnus v5.9.0) Emacs/21.2
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Bart Schaefer <schaefer@brasslantern.com> writes:

> On Feb 3, 11:05pm, Michael Treibton wrote:
> } 
> } In bash, if I type something at the prompt, and press ^C, my prompt
> } would look like this:
> } 
> } $ some command ^C
> } 
> } That is the "^C" is explicitly printed.
> 
> Really.  Doesn't work for me.  Do you somehow have readline disabled?

Actually:

bash-4.1$ stty echoctl
bash-4.1$ ^C
bash-4.1$ stty -echoctl
bash-4.1$                  <--- Ctrl-C pressed, no output.

No such luck in zsh (stty echoctl has no effect).
Coult it a spurious line redraw on ctrl-C (and others)?

Note how echoctl still works in zsh when using the read builtin or
just cat:

phil@air:~% stty echoctl
phil@air:~% read
^C%
zsh: exit 1
phil@air:~% cat
^C
phil@air:~%                <-- Ctrl-C pressed, no output

Phil.

