From zsh-workers-request@math.gatech.edu Tue Feb 03 22:48:22 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 14336 invoked from network); 3 Feb 1998 22:48:21 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 3 Feb 1998 22:48:21 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id RAA17502;
	Tue, 3 Feb 1998 17:38:11 -0500 (EST)
Resent-Date: Tue, 3 Feb 1998 17:37:46 -0500 (EST)
Message-ID: <19980203173959.11960@astaroth.nit.gwu.edu>
Date: Tue, 3 Feb 1998 17:39:59 -0500
From: Sweth Chandramouli <sweth@astaroth.nit.gwu.edu>
To: zsh-users@math.gatech.edu
Subject: Re: cross-product array function?
Mail-Followup-To: zsh-users@math.gatech.edu
References: <199802031926.TAA12962@taos.demon.co.uk> <Pine.SOL.3.96.980203155605.1958A-100000@start>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 0.89
In-Reply-To: <Pine.SOL.3.96.980203155605.1958A-100000@start>
Resent-Message-ID: <"aSaPt.0.mG4.vmvrq"@math>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/1313
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

On Tue, Feb 03, 1998 at 03:59:44PM -0500, Nate Johnston wrote:
> On Tue, 3 Feb 1998, Andrew Main wrote:
> 
> #foo=(first second third)
> #bar=(word person base)
> #echo $^foo$^bar
> 
> I attempted this, and I had an odd result on the first element of the
> first array.  Is this broken in the version I use?
> 
> natej:~> ONE=(1 2 3)
> natej:~> TWO=(A B C)
> natej:~> echo $^ONE$^TWO
> 1C 2A 2B 2C 3A 3B 3C
> 
> zsh: 3.0.0

	i get this behaviour too, with 3.1.2.
	
	even stranger is what happens with more than two items variables being 
expanded; the behaviour is the same if i use the $^ shortcut.  i was expecting 
the output to be
	
1AZ 1BX 1BY 1BZ 1CX 1CY 1CZ 2AX 2AY 2AZ 2BX 2BY 2BZ 2CX 2CY 2CZ 3AX 3AY 3AZ 3BX 
3BY 3BZ 3CX 3CY 3CZ

	, where all of the elements of the first expansion were lost but the 
last one, or perhaps

1CZ 2AX 2AY 2AZ 2BX 2BY 2BZ 2CX 2CY 2CZ 3AX 3AY 3AZ 3BX 3BY 3BZ 3CX 3CY 3CZ

	(depending on if the expansion were recursive or not).  if everything 
were working okay, i would have expected

1AX 1AY 1AZ 1BX 1BY 1BZ 1CX 1CY 1CZ 2AX 2AY 2AZ 2BX 2BY 2BZ 2CX 2CY 2CZ 3AX 3AY 
3AZ 3BX 3BY 3BZ 3CX 3CY 3CZ

	but instead, there is this very strange output:

$ foo=(1 2 3)
$ bar=(A B C)
$ mug=(X Y Z)
$ setopt rcexpandparam
$ echo ${foo}${bar}${mug}
1CZ 2AZ 2BX 2BY 2BZ 2CX 2CY 2CZ 3AZ 3BX 3BY 3BZ 3CX 3CY 3CZ

	is this a bug? feature? gross network error somewhere between the chair 
and the keyboard?
	
-- 
"Countin' on a remedy I've counted on before
Goin' with a cure that's never failed me
What you call the disease
I call the remedy"  -- The Mighty Mighty Bosstones

