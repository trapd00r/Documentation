From zsh-workers-return-11947-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Jun 16 14:25:02 2000
Return-Path: <zsh-workers-return-11947-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5930 invoked from network); 16 Jun 2000 14:25:01 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 16 Jun 2000 14:25:01 -0000
Received: (qmail 2472 invoked by alias); 16 Jun 2000 14:24:50 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 11947
Received: (qmail 2465 invoked from network); 16 Jun 2000 14:24:49 -0000
X-Envelope-Sender-Is: Andrej.Borsenkow@mow.siemens.ru (at relayer david.siemens.de)
From: "Andrej Borsenkow" <Andrej.Borsenkow@mow.siemens.ru>
To: "Peter Stephenson" <pws@cambridgesiliconradio.com>,
   "Zsh hackers list" <zsh-workers@sunsite.auc.dk>
Subject: RE: Cygwin path completion
Date: Fri, 16 Jun 2000 18:24:44 +0400
Message-ID: <000801bfd79e$9df66b00$21c9ca95@mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
In-Reply-To: <0FW90060C2AHJS@la-la.cambridgesiliconradio.com>
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6700
Importance: Normal

> Andrej wrote:
> > Even if
> > we cannot find out all drives (is it possible?) _path_files
> still has to
> > treat /cygdrive/?/ specially, and not try to glob it. It
> can also always
> > offer ``cygdrive'' for the first component (of course, if it matches
> > current prefix/suffix).
>
> Sven will have to answer for the feasibility of all of this, but...
>
> One thing that might fit our needs here and elsewhere (e.g.
> speedups of
> path completion when you know you don't want initial path components
> re-jigged) is a style along the lines of fix-path-prefix,
> only maybe with a
> better name.  A number would fix that many components (`2',
> here), while
> something else e.g. `all' would turn off completion of
> earlier bits of the
> path altogether.  A more generic `fix-prefix' might possibly
> be useful in
> certain other completions.
>

While this may be useful, I meant something different. I'd prefer if
/c/d/t would still complete to /cygdrive/d/temp. I meant, that
_path_files (BTW I agree that it already deserves to be converted to
shell code. It may even give old compctl the ability to complete paths)
should simply stuff cygdrive as first component. In the above case the
possible completions would consist of

/c*/d*/t* AND
/cygdrive/d/t*

-andrej


