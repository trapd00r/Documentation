From zsh-workers-return-5769-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Mar 12 09:22:15 1999
Return-Path: <zsh-workers-return-5769-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1394 invoked from network); 12 Mar 1999 09:22:13 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 12 Mar 1999 09:22:13 -0000
Received: (qmail 10135 invoked by alias); 12 Mar 1999 09:21:54 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 5769
Received: (qmail 10126 invoked from network); 12 Mar 1999 09:21:52 -0000
From: "Andrej Borsenkow" <borsenkow.msk@sni.de>
To: "Helmut Jarausch" <jarausch@numa1.igpm.rwth-aachen.de>,
        <zsh-workers@sunsite.auc.dk>
Subject: RE: Debug / cut'n'paste on IRIX
Date: Fri, 12 Mar 1999 12:20:37 +0300
Message-ID: <000c01be6c69$9730db80$21c9ca95@mowp.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2014.211
In-Reply-To: <jarausch-990312100406.A0A1012@numa1>

the code.
>
> Several tries with a normal zsh (full speed) show that even than
> sometime it works just fine but then again it looses some of the input
> when this comes at high speed as is true when it comes via cut'n'paste.
>

Aha! This sounds the hell like FIONREAD problem (typeahed is lost).

Folks, what happens, when ZSH outputs PS2? What I mean is:

if I simply have typeahead and ZSH returns to PS1, it (if configured - my
case) explicitly uses FIONREAD to check for typeahead before changing tty
modes.

Does it do the same for PS2? Does it change tty modes in this case? If yes,
is it using FIONREAD?

cheers

/andrej


