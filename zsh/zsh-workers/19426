From zsh-workers-return-19426-mason-zsh=primenet.com.au@sunsite.dk Tue Feb 17 07:58:40 2004
Return-Path: <zsh-workers-return-19426-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13422 invoked from network); 17 Feb 2004 07:58:39 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 17 Feb 2004 07:58:39 -0000
Received: (qmail 21222 invoked by alias); 17 Feb 2004 07:58:30 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 19426
Received: (qmail 21148 invoked from network); 17 Feb 2004 07:58:29 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 17 Feb 2004 07:58:29 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [216.136.128.123] by sunsite.dk (MessageWall 1.0.8) with SMTP; 17 Feb 2004 7:58:29 -0000
Message-ID: <20040217075827.1498.qmail@web10410.mail.yahoo.com>
Received: from [63.201.36.214] by web10410.mail.yahoo.com via HTTP; Mon, 16 Feb 2004 23:58:27 PST
Date: Mon, 16 Feb 2004 23:58:27 -0800 (PST)
From: Felix Rosencrantz <f_rosencrantz@yahoo.com>
Subject: jobs not listing all commands
To: zw <zsh-workers@sunsite.dk>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

The jobs command seems to have a problem if there is a gap in job numbers. 
I've started noticing this recently, though it could be more because  I've
added "%j" to my prompt.  I'm running from the latest CVS.   Also, when
configuring zsh I use "--enable-max-jobtable-size=100 --enable-zsh-debug". 
Output below shows that %4 command exists, but the jobs command doesn't list it
when there is a gap in the job table...  The 

-FR.
ps also note another "bug" with "%j" and the prompt.  when the sleep finishes,
the prompt doesn't update. 

Part of my configuration:
prompt="j=%j felix@ "
alias j="jobs -l"

j=3 felix@ sleep 10 &
j=4 felix@ alias j='jobs -l'
j=4 felix@ j
[1]    28730 suspended  vim script.sh
[2]  + 29134 suspended  vim text
[3]    29443 running    sleep 10
[4]  - 29439 suspended  vim settings.sh
j=4 felix@
[3]    done       sleep 10
j=4 felix@ jobs
[1]    suspended  vim script.sh
[2]  + suspended  vim text
j=3 felix@


__________________________________
Do you Yahoo!?
Yahoo! Finance: Get your refund fast by filing online.
http://taxes.yahoo.com/filing.html

