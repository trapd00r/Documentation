From zsh-users-return-3062-mason-zsh=primenet.com.au@sunsite.auc.dk Mon May 15 06:11:54 2000
Return-Path: <zsh-users-return-3062-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13439 invoked from network); 15 May 2000 06:11:53 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 15 May 2000 06:11:53 -0000
Received: (qmail 21073 invoked by alias); 15 May 2000 06:11:41 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 3062
Received: (qmail 21066 invoked from network); 15 May 2000 06:11:39 -0000
Date: Sat, 13 May 2000 12:49:26 -0700
From: Steve Reid <sreid@sea-to-sky.net>
To: Eric Smith <eric@fruitcom.com>
Cc: zsh users <zsh-users@sunsite.auc.dk>
Subject: Re: confused by history
Message-ID: <20000513124926.A416@grok.localnet>
References: <20000512205850.A8610@fruitcom.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 0.95.4i
In-Reply-To: <20000512205850.A8610@fruitcom.com>; from Eric Smith on Fri, May 12, 2000 at 08:58:50PM +0200

On Fri, May 12, 2000 at 08:58:50PM +0200, Eric Smith wrote:
> Problem is that I cannot seem to grow my history file - as you can see by
> the grep -i from my zshrc I am quite ambitous.  I often toggle setting
> and go wc -l $HISTFILE but get no more that 500 or up to 1000 if lucky -
> what could be keeping the file small?

I've found that when I boot my computer in the morning and start my X
session with a few xterms, occasionally all of my zsh'es have an empty
history. I'm don't know what's causing it but presumably it has
something to do with the zsh'es all getting killed at shutdown. Maybe
this is the problem you're seeing.

I also get files with names like ".history.1234" congregating in my home
directory. They are all either empty or just contain two bytes: "\0\n".
Kind of annoying.

ZSH_VERSION=3.1.6-dev-19
OSTYPE=freebsd3.2

History stuff from my rc file:

HISTSIZE=800
SAVEHIST=500
HISTFILE=~/.history
setopt HIST_EXPIRE_DUPS_FIRST
setopt HIST_IGNORE_DUPS
setopt HIST_IGNORE_SPACE
setopt HIST_NO_STORE
setopt HIST_SAVE_NO_DUPS
setopt HIST_REDUCE_BLANKS
setopt SHARE_HISTORY

