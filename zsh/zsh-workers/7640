From zsh-workers-return-7640-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Sep 03 22:00:27 1999
Return-Path: <zsh-workers-return-7640-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 20433 invoked from network); 3 Sep 1999 22:00:25 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 3 Sep 1999 22:00:25 -0000
Received: (qmail 28084 invoked by alias); 3 Sep 1999 22:00:12 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7640
Received: (qmail 28077 invoked from network); 3 Sep 1999 22:00:11 -0000
X-Face: >Q)4Pn.JVfRz{G(G_eIkykbZGG\)2mk8:5a"{^Mk07iC#F.t2L7h<Sa|7Zr1_L8[nbiq:8F
 %o\(7>|]{*cFg$GEPDdun~+UTjG(^4z<_Ksw%L-\w0xDmUR~<zsnGH]&sK=M\Y=;U4XZ"z)[CX6I6d
 _p
To: zsh-workers@sunsite.auc.dk
Subject: Re: PATCH: _apt-get and _deb_packages
References: <rsq3dwxuib6.fsf@crane.jaist.ac.jp>
Mime-Version: 1.0 (generated by tm-edit 7.108)
Content-Type: text/plain; charset=US-ASCII
From: Falk Hueffner <falk.hueffner@student.uni-tuebingen.de>
Date: 03 Sep 1999 22:30:24 +0200
In-Reply-To: Tanaka Akira's message of "03 Sep 1999 06:14:53 +0900"
Message-ID: <87u2pbu49r.fsf@zxmjz18.extern.uni-tuebingen.de>
Lines: 27
X-Mailer: Gnus v5.5/XEmacs 20.4 - "Emerald"

Tanaka Akira <akr@jaist.ac.jp> writes:

> This is completion functions for apt-get of Debian.

Thanks, this is a good idea.

It would be nice if after 'install' only uninstalled packages would be
completed, and after 'remove' and 'purge' only installed.

A way to get installed packages is

dpkg --get-selections | awk '/[^e]install$/ { print $1 }'

Another problem is that when using the "apt" tool, dpkg might not know 
about some available packages. Perhaps a better way of getting
available packages is

apt-cache dumpavail |  awk '/^Package:/ { print $2 }'

Perhaps there is an easy way of making a set difference to get a list
of uninstalled packages.

Unfortunately, I haven't yet looked enough at the new completion
system to help you further...

	Falk

