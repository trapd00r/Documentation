From zsh-workers-return-11130-mason-zsh=primenet.com.au@sunsite.auc.dk Wed May 03 16:36:20 2000
Return-Path: <zsh-workers-return-11130-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 22526 invoked from network); 3 May 2000 16:36:20 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 3 May 2000 16:36:20 -0000
Received: (qmail 25951 invoked by alias); 3 May 2000 16:35:55 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 11130
Received: (qmail 25924 invoked from network); 3 May 2000 16:35:53 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <1000503163546.ZM21934@candle.brasslantern.com>
Date: Wed, 3 May 2000 16:35:45 +0000
In-Reply-To: <0FTZ007IUDPOKU@la-la.cambridgesiliconradio.com>
Comments: In reply to Peter Stephenson <pws@cambridgesiliconradio.com>
        "Re: Completion system directories" (May  3, 12:10pm)
References: <0FTZ007IUDPOKU@la-la.cambridgesiliconradio.com> 
	<slrn8h0344.ipd.mason@coral.primenet.com.au>
In-Reply-To: <slrn8h0344.ipd.mason@coral.primenet.com.au>
Comments: In reply to mason@primenet.com.au (Geoff Wing)
        "Re: Completion system directories" (May  3, 11:24am)
X-Mailer: Z-Mail (5.0.0 30July97)
To: zsh-workers@sunsite.auc.dk (Zsh hackers list)
Subject: Re: Completion system directories
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On May 3, 12:10pm, Peter Stephenson wrote:
}
} Bart wrote:
} > If we can impose a moritorium on commits for a while, we can simply copy
} > the ,v files to new directories in the repository, and then "cvs remove"
} > the originals.
} 
} I don't like mucking around in the archive in this way because it means we
} can no longer checkout old versions of the shell.

On May 3, 11:24am, Geoff Wing wrote:
}
} Pretty much the only useful way to do it is:
} 1) cvs remove/cvs commit the file
} 2) copy the file (now in the Attic directory) to the new directory
} 3) edit the new file to change the state of all revisions except the
}    newest to Dead and change the newest to Exp

If you copy the file *before* the cvs remove and then delete all the
symbolic tags from the copy, you get the same effect.

However, now that I think of it, I'm nut sure what the effect of either of
these changes would be on future use of "cvs import".

How about this:

Leave the renaming alone until 4.0.

When we're ready to do 4.0, rename the entire existing repository to
"zsh-3.1" and create a new repository, with all the files in the right
places and no revision history.  I.e., make up the 4.0 tarball and then
"cvs import" it into the fresh repository.

There isn't *that* much history in the current repository now anyway;
many of the files that would be getting renamed already are the ones
that have the most history to lose.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

