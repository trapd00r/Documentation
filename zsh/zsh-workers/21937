From zsh-workers-return-21937-mason-zsh=primenet.com.au@sunsite.dk Wed Oct 26 05:19:31 2005
Return-Path: <zsh-workers-return-21937-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9830 invoked from network); 26 Oct 2005 05:19:29 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 26 Oct 2005 05:19:29 -0000
Received: (qmail 34737 invoked from network); 26 Oct 2005 05:19:23 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 26 Oct 2005 05:19:23 -0000
Received: (qmail 22503 invoked by alias); 26 Oct 2005 05:19:20 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 21937
Received: (qmail 22493 invoked from network); 26 Oct 2005 05:19:18 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 26 Oct 2005 05:19:18 -0000
Received: (qmail 34456 invoked from network); 26 Oct 2005 05:19:18 -0000
Received: from zproxy.gmail.com (64.233.162.195)
  by a.mx.sunsite.dk with SMTP; 26 Oct 2005 05:19:18 -0000
Received: by zproxy.gmail.com with SMTP id 8so51950nzo
        for <zsh-workers@sunsite.dk>; Tue, 25 Oct 2005 22:19:16 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=gdDirnRnzQA9G0WKTldisGmiU9rvogHUg/2hUtpY7jQRP11BYWG5v9dkuKj5XXSJ3hjpxIreDbZOLjhXYVQWgThor1uGw7qsT05HLL2KkL8ZJdtICC78hxrfjTYol/iiAzU97DF5aPtg5uykDzGDCAKdSwgpJ/TBsu7HLLZZrq8=
Received: by 10.37.12.40 with SMTP id p40mr502924nzi;
        Tue, 25 Oct 2005 22:19:16 -0700 (PDT)
Received: by 10.36.22.10 with HTTP; Tue, 25 Oct 2005 22:19:16 -0700 (PDT)
Message-ID: <237967ef0510252219p57c16e24j1c1f2c9ae3ef3003@mail.gmail.com>
Date: Wed, 26 Oct 2005 07:19:16 +0200
From: Mikael Magnusson <mikachu@gmail.com>
To: Peter Stephenson <p.w.stephenson@ntlworld.com>
Subject: Re: PATCH: displaying wide characters
Cc: zsh-workers@sunsite.dk
In-Reply-To: <20051026001154.32458ec3.p.w.stephenson@ntlworld.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-2022-JP
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <200510192031.j9JKVYk7010115@pwslaptop.csr.com>
	 <200510192041.j9JKfTJZ010450@pwslaptop.csr.com>
	 <237967ef0510191739t103352a9vad735334a790d8b5@mail.gmail.com>
	 <EXCHANGE03zfSLZZInL00006f40@exchange03.csr.com>
	 <237967ef0510240140g548e0c0r3deb3f4704dc313@mail.gmail.com>
	 <20051026001154.32458ec3.p.w.stephenson@ntlworld.com>
X-Spam-Checker-Version: SpamAssassin 3.0.4 (2005-06-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=BAYES_00,RCVD_BY_IP 
	autolearn=ham version=3.0.4

On 10/26/05, Peter Stephenson <p.w.stephenson@ntlworld.com> wrote:
> On Mon, 24 Oct 2005 10:40:42 +0200
> Mikael Magnusson <mikachu@gmail.com> wrote:
> > Found one issue with editing wide characters on the command line,
> > input some doublewidth characters, erase one near the left end, then
> > go to the right and erase another. The second time the cursor will
> > only move one character to the left instead of two and cursor display
> > will not correspond with reality anymore. For some reason it only
> > seems to happen with 6 characters or more, the ones i'm using are
> > hiragana.
>
> I think the following patch fixes this issue, at least what I was
> seeing.  I'm quite sure there are plenty of other oddities like this.
> I also think that, while you can now type a line of double-width
> characters that wraps without the display going, there are likely to be
> problems when you edit the part of the line before the wrap.

This didn't fix the problem for me, but it is acting differently now.
Not sure how to describe it accurately, I'll paste a few lines where
all I've done is press delete at the first character:
% ちとしはきくま
% と しはきく
%   はきくま
% はきくま
% きくま
from this point they display correctly

--
Mikael Magnusson

