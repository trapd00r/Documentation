From zsh-workers-return-22023-mason-zsh=primenet.com.au@sunsite.dk Thu Nov 24 14:57:17 2005
Return-Path: <zsh-workers-return-22023-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1213 invoked from network); 24 Nov 2005 14:57:14 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.0 (2005-09-13) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.4 required=5.0 tests=AWL,BAYES_00,
	FORGED_RCVD_HELO autolearn=ham version=3.1.0
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 24 Nov 2005 14:57:14 -0000
Received: (qmail 6750 invoked from network); 24 Nov 2005 14:57:09 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 24 Nov 2005 14:57:09 -0000
Received: (qmail 3351 invoked by alias); 24 Nov 2005 14:57:06 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 22023
Received: (qmail 3340 invoked from network); 24 Nov 2005 14:57:05 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 24 Nov 2005 14:57:05 -0000
Received: (qmail 6467 invoked from network); 24 Nov 2005 14:57:05 -0000
Received: from mailgw1.technion.ac.il (132.68.238.34)
  by a.mx.sunsite.dk with SMTP; 24 Nov 2005 14:57:03 -0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mailgw1.technion.ac.il (Postfix) with ESMTP id A19D7FF8E7
	for <zsh-workers@sunsite.dk>; Thu, 24 Nov 2005 16:57:02 +0200 (IST)
Received: from mailgw1.technion.ac.il ([127.0.0.1])
 by localhost (mailgw1.technion.ac.il [127.0.0.1]) (amavisd-new, port 10024)
 with LMTP id 09528-01-37 for <zsh-workers@sunsite.dk>;
 Thu, 24 Nov 2005 16:57:02 +0200 (IST)
Received: from fermat.math.technion.ac.il (fermat.math.technion.ac.il [132.68.115.6])
	by mailgw1.technion.ac.il (Postfix) with ESMTP id 6E599FF8D6
	for <zsh-workers@sunsite.dk>; Thu, 24 Nov 2005 16:57:02 +0200 (IST)
Received: from fermat.math.technion.ac.il (localhost [127.0.0.1])
	by fermat.math.technion.ac.il (8.12.10/8.12.10) with ESMTP id jAOEv2lf025734
	for <zsh-workers@sunsite.dk>; Thu, 24 Nov 2005 16:57:02 +0200 (IST)
Received: (from rl@localhost)
	by fermat.math.technion.ac.il (8.12.10/8.12.10/Submit) id jAOEv2Qi025733
	for zsh-workers@sunsite.dk; Thu, 24 Nov 2005 16:57:02 +0200 (IST)
X-Authentication-Warning: fermat.math.technion.ac.il: rl set sender to rl@math.technion.ac.il using -f
Date: Thu, 24 Nov 2005 16:57:02 +0200
From: "Zvi Har'El" <rl@math.technion.ac.il>
To: Zsh hackers list <zsh-workers@sunsite.dk>
Subject: Re: insert-unicode-char
Message-ID: <20051124145701.GB1880@fermat.math.technion.ac.il>
References: <20051124140854.GA25283@fermat.math.technion.ac.il> <20051124143305.GA1880@fermat.math.technion.ac.il>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20051124143305.GA1880@fermat.math.technion.ac.il>
User-Agent: Mutt/1.4.2i
Disposition-Notification-To: "Zvi Har'El" <rl@math.technion.ac.il>
Organization: Technion--Israel Institute of Technology
Hebrew-Date: 22 Heshvan 5766
X-PGP-Public-Key: http://www.math.technion.ac.il/~rl/etc/pubkey.html
X-Virus-Scanned: by amavisd-new at technion.ac.il

Another remark: In the solaris 9 system, I have two copies of libiconv
installed: one in /usr/lib (the solaris native), and one in /usr/local/lib
(from GNU libiconv-1.10), and the latter directory is in the LD_LIBRARY_PATH
both in installation time and in run time, and ldd =zsh shows that it uses
/usr/local/lib/libiconv.so.2. On the Redhat system, where unicode esacpe
sequences work, I am using glibc.

On Thu, 24 Nov 2005 16:33:05 +0200, Zvi Har'El wrote about "Re: insert-unicode-char":
> I now checked this also on our solaris systems. The situation is that both
> insert-composed-char and insert-unicode-char fail, on the line which tries to
> print a unicode esacep sequence. However, on these machines, I get
> 'zsh: cannot do charset conversion' on such print commands (e.g., print
> \\u21 , which should print a bang!), a message which is generated by
> Src/utils.c. I am using a LC_CTYPE=en_US.UTF-8 locale, and zsh in configured
> with --enable-multibyte (which is a mistary by itself, since on my RedHat
> system, this flag is not needed since configure figures it out by itself).
> 
> On Thu, 24 Nov 2005 16:08:54 +0200, Zvi Har'El wrote about "insert-unicode-char":
> > Hi,
> > 
> > I am trying to use the new insert-unicode-char in a vi emulation - insetmode,
> > using
> > 
> >         autoload insert-unicode-char
> >         zle -N insert-unicode-char
> >         bindkey -v '^y' insert-unicode-char
> > 
> > It works, accept I cannot enter  two unicode characters in a row. After I have
> > finished entering the first one by entering its closing ^Y, the  opening ^Y of
> > the second character just beeps. I can start another insert-unicode-char
> > sequence only after typing at least one more character (of course, a
> > "solution" is to hit any character and to follow it by a backspace ;-)).
> > I am using the up-to-date zsh-4.3.0-dev-1 (ChangeLog revision 1.2939,
> > insert-unicode-char revision 1.3) on a RedHat 9 and system.
> > Best,
> > 
> > Zvi.
> > 
> > -- 
> > Dr. Zvi Har'El      mailto:rl@math.technion.ac.il    Department of Mathematics
> > tel:+972-54-4227607 icq:179294841    Technion - Israel Institute of Technology
> > fax:+972-4-8293388  http://www.math.technion.ac.il/~rl/    Haifa 32000, ISRAEL
> > "If you can't say somethin' nice, don't say nothin' at all." -- Thumper (1942)
> >                           Thursday, 22 Heshvan 5766, 24 November 2005,  3:47PM
> 
> -- 
> Dr. Zvi Har'El      mailto:rl@math.technion.ac.il    Department of Mathematics
> tel:+972-54-4227607 icq:179294841    Technion - Israel Institute of Technology
> fax:+972-4-8293388  http://www.math.technion.ac.il/~rl/    Haifa 32000, ISRAEL
> "If you can't say somethin' nice, don't say nothin' at all." -- Thumper (1942)
>                           Thursday, 22 Heshvan 5766, 24 November 2005,  4:22PM

-- 
Dr. Zvi Har'El      mailto:rl@math.technion.ac.il    Department of Mathematics
tel:+972-54-4227607 icq:179294841    Technion - Israel Institute of Technology
fax:+972-4-8293388  http://www.math.technion.ac.il/~rl/    Haifa 32000, ISRAEL
"If you can't say somethin' nice, don't say nothin' at all." -- Thumper (1942)
                          Thursday, 22 Heshvan 5766, 24 November 2005,  4:35PM

