From zsh-workers-request@math.gatech.edu Thu Nov 05 11:29:33 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1372 invoked from network); 5 Nov 1998 11:29:31 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 5 Nov 1998 11:29:31 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.9.1/8.9.1) id GAA22599;
	Thu, 5 Nov 1998 06:21:39 -0500 (EST)
Resent-Date: Thu, 5 Nov 1998 06:21:39 -0500 (EST)
Message-Id: <9811051106.AA33998@ibmth.df.unipi.it>
To: zsh-workers@math.gatech.edu (Zsh hackers list)
Subject: Two more (possible) problems with the new completion...
Date: Thu, 05 Nov 1998 12:06:22 +0100
From: Peter Stephenson <pws@ibmth.df.unipi.it>
Resent-Message-ID: <"qwPmK.0._W5.3fOGs"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/4554
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Maybe these are just the result of badly applied patches, like the
last two, but if they are I'll never know without asking...

1) The following works (and very useful it is, too: goodbye, cdmatch):

compctl -W "($cdpath)" -/ cd

but the following, which as far as I can see should be equivalent
apart from tracking changes in $cdpath, doesn't:

compctl -W '$cdpath' -/ cd

(no matches produced).


2) I suppose this is more than a misplaced fixsuffix(); you need
menucompletion set, though setting automenu and hitting <TAB> twice
has the same effect:

compctl -q -S / -k '(foo bar)' echo
        ^^^^^^^ this is the important bit

% echo <TAB> -> bar/
                   ^cursor here, over the slash

followed by <RET>:

% echo ba/
ba/

so at some point the cursor is being put one character too far back.
It doesn't happen with a `genuine' autoremoveslash.

-- 
Peter Stephenson <pws@ibmth.df.unipi.it>       Tel: +39 050 844536
WWW:  http://www.ifh.de/~pws/
Dipartimento di Fisica, Via Buonarotti 2, 56100 Pisa, Italy

