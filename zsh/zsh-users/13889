From zsh-users-return-13889-mason-zsh=primenet.com.au@sunsite.dk Mon Mar 09 14:06:23 2009
Return-Path: <zsh-users-return-13889-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 25141 invoked from network); 9 Mar 2009 14:06:19 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 9 Mar 2009 14:06:19 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 29687 invoked from network); 9 Mar 2009 14:06:09 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 9 Mar 2009 14:06:09 -0000
Received: (qmail 13677 invoked by alias); 9 Mar 2009 14:05:53 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 13889
Received: (qmail 13664 invoked from network); 9 Mar 2009 14:05:52 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 9 Mar 2009 14:05:52 -0000
Received: from mail-qy0-f120.google.com (mail-qy0-f120.google.com [209.85.221.120])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 9810380307F8
	for <zsh-users@sunsite.dk>; Mon,  9 Mar 2009 15:05:47 +0100 (CET)
Received: by qyk26 with SMTP id 26so1192123qyk.9
        for <zsh-users@sunsite.dk>; Mon, 09 Mar 2009 07:05:47 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:date:message-id:subject
         :from:to:content-type:content-transfer-encoding;
        bh=lI/EOS4kJErNLW2nSYfCPLM+fypJaniyCe1cEu2MzQU=;
        b=a3POQ3k4WiOX6J9CAWa3zelPcleJ4UYnhWSEBAw2N99w72Rd5Rx+pINY+QbRtjDh1N
         voCsxDz7ol6HYcoZny6wICqKZTZye4dWV40jCRQV3+Fr3RnDFm5aNeBqkFFESKQw8GCp
         HlOrtWqYkHE67Ui8Cs4yChAs/iG//AxoYxIO4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        b=K+FNe9swxCMy5rFE7+tajVR5olQ9vWLh6TdUKWBdjT38h/BrtPsFFoyJi1XnpqXUel
         FnklBS87LPfXP4Eef30IfK6/tMlDSwFFacyy5FXOsyAWeeEUXT39z7PS07KL/qtuWOPn
         LHY29Ka07+VOAZobBniCKU+72t7H6MCHLdfBQ=
MIME-Version: 1.0
Received: by 10.229.80.3 with SMTP id r3mr2191743qck.104.1236607540171; Mon, 
	09 Mar 2009 07:05:40 -0700 (PDT)
Date: Mon, 9 Mar 2009 10:05:40 -0400
Message-ID: <d2ecb10b0903090705l37d2c749ufc7a9f73fe1194ec@mail.gmail.com>
Subject: One $HISTFILE to rule them all
From: TjL <luomat@gmail.com>
To: Zsh Users List <zsh-users@sunsite.dk>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: ClamAV 0.92.1/9080/Fri Mar  6 20:13:38 2009 on bifrost
X-Virus-Status: Clean

I assume that most of you are already familiar with Dropbox (www.getdropbox.com)

If not, the short version is this: 2gb of diskspace, free,
automatically sync'd across multiple computers (Win, Mac, Ubuntu,
perhaps other Un*x variants as well). Backed by Amazon.com's S3
service.

SHAMELESS PLUG: If you haven't signed up yet, use this link

http://tr.im/dropboxsignup
aka
https://www.getdropbox.com/referrals/NTE4NDE0OQ~~

and you'll get 2.25GB instead of 2.0GB (and I get some extra space too)

</commercial> :-)

Ok, now:

One of the great features of Dropbox for me has been syncing my shell
scripts folder. I can now put them all in one place, edit them on any
computer, and have them all updated automatically. (I explained how I
set this up here:
http://tntluoma.com/shell-scripts/dropbox-bin/ )

Then I realized that I could sync my .zshenv file using 'ln -s'

ln -s ~/Dropbox/Zsh/Env.txt ~/.zshenv

My latest question is this:

Is there a way for me to change my $HISTFILE to something like
~/Dropbox/Zsh/History.txt and have zsh save the history from any shell
on any computer to the same file?

I wasn't sure how $HISTFILE would react to being written to from
several different places.

Here is what I currently have set:

$ fgrep -i hist ~/.zshenv|sort
HISTFILE=$HOME/.zhistory
HISTSIZE=SAVEHIST=99999
setopt APPEND_HISTORY
setopt HIST_EXPIRE_DUPS_FIRST
setopt HIST_FCNTL_LOCK
setopt HIST_IGNORE_ALL_DUPS
setopt HIST_IGNORE_DUPS
setopt HIST_IGNORE_SPACE
setopt HIST_NO_STORE
setopt HIST_SAVE_NO_DUPS
setopt HIST_VERIFY
setopt INC_APPEND_HISTORY

Note: I like I really big history file, because I often find good
stuff in there later that I didn't realize (at the time) I would want
again later.

I just added some of these after reading 'zshall'

If you have any suggestions, warnings, etc, I would very much like to
hear them :-)

Thanks!

TjL

