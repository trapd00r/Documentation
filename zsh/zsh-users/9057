From zsh-users-return-9057-mason-zsh=primenet.com.au@sunsite.dk Fri Jul 08 07:06:44 2005
Return-Path: <zsh-users-return-9057-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 21677 invoked from network); 8 Jul 2005 07:06:43 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 8 Jul 2005 07:06:43 -0000
Received: (qmail 83835 invoked from network); 8 Jul 2005 07:06:36 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 8 Jul 2005 07:06:36 -0000
Received: (qmail 19566 invoked by alias); 8 Jul 2005 07:06:30 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 9057
Received: (qmail 19556 invoked from network); 8 Jul 2005 07:06:29 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 8 Jul 2005 07:06:29 -0000
Received: (qmail 82864 invoked from network); 8 Jul 2005 07:06:29 -0000
Received: from wproxy.gmail.com (64.233.184.207)
  by a.mx.sunsite.dk with SMTP; 8 Jul 2005 07:06:24 -0000
Received: by wproxy.gmail.com with SMTP id i8so397265wra
        for <zsh-users@sunsite.dk>; Fri, 08 Jul 2005 00:06:23 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=KyVzrUdOCXFxIfIAZy1eP8LbJDoqh7qkYFeBw+IbRa6sAQli3Q9ykj916UA77KAhHRSyGIbu1sNsrjlqiMsBN4Ur7fl46D/lsnmcdDt3luQmYog1hg/HYY370KmPwE5p30CgnowdmlcA1+B9VAnrs+VGyUNn1tXd9XCF7W0TlNw=
Received: by 10.54.2.18 with SMTP id 18mr934567wrb;
        Fri, 08 Jul 2005 00:06:23 -0700 (PDT)
Received: by 10.54.128.12 with HTTP; Fri, 8 Jul 2005 00:06:22 -0700 (PDT)
Message-ID: <e3b7bac0507080006434477d5@mail.gmail.com>
Date: Fri, 8 Jul 2005 00:06:22 -0700
From: Travis Spencer <travislspencer@gmail.com>
Reply-To: Travis Spencer <travislspencer@gmail.com>
To: zsh-users@sunsite.dk
Subject: Help with completion of option arguments
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=6.0 tests=AWL,BAYES_00,RCVD_BY_IP 
	autolearn=ham version=3.0.2
X-Spam-Hits: -2.5

Hey,

I have a command for which I'm trying to write a completion widget.=20
The command has options that take arguments that must follow the
option without any white space.  For example, the command takes
options such as these: `-A', `-Aa', `-B', and `-Bb'.  But these option
arguments are invalid because of the space: `-A a' and `-B b'.  I have
figured out how to enable the completion for `-A' and `-B' before any
space is entered with a command such as this:

_arguments -C \
    "-A-[this is a test]:test:((a\:'test sub-message'))"
    "-B-[notify (e-mail) admins]:notify:((
          b\:'suppress interactive query (for use in crontab)'))"

But the problem is, with only a single argument like this, after
typing `-A' or `-B', the sole completion `a' and `b' are run rather
than outputting the descriptions.

Is there some way to get _arguments to output the messages `test
sub-message' and `suppress interactive query (for use in crontab)'
when `-A' or `-B' have been input rather than completing them
directly?

TIA.

--=20

Regards,

Travis Spencer
Portland, OR USA

