From zsh-workers-return-14407-mason-zsh=primenet.com.au@sunsite.dk Mon May 21 10:15:49 2001
Return-Path: <zsh-workers-return-14407-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 11595 invoked from network); 21 May 2001 10:15:48 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 21 May 2001 10:15:48 -0000
Received: (qmail 16282 invoked by alias); 21 May 2001 10:15:42 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 14407
Received: (qmail 16263 invoked from network); 21 May 2001 10:15:41 -0000
Message-ID: <Tc0a88d0153a77b3973@mailsweeper01.cambridgesiliconradio.com>
To: zsh-workers@sunsite.dk (Zsh hackers list)
Subject: Option tests
Date: Mon, 21 May 2001 11:15:11 +0100
From: Peter Stephenson <pws@csr.com>

I was going to send this on Friday, but the mail server went down (either
to add new disks, or to have it whipped with red hot irons, can't remember
which) and I didn't think of sending it from Netscape or Yahoo...

I just committed another lot of options tests (in two stages, sorry).  I'm
now up to NULL_GLOB, excluding interactive and other tricky test.  All the
tests so far should pass if you have the most recent code.

I ran across that race in multios again --- you can't rely on an output
multio having finished writing when the next command is executed.  It ought
to be synchronous.  This could probably be done for code running in the
shell by remembering more in closemn() and waiting in fixfds(), or else
adding the tee process to the job list (yuk).  It's harder with external
processes as the multios only get spawned after the shell has forked.

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR Ltd., Unit 300, Science Park, Milton Road,
Cambridge, CB4 0XL, UK                          Tel: +44 (0)1223 392070


**********************************************************************
The information transmitted is intended only for the person or
entity to which it is addressed and may contain confidential 
and/or privileged material. 
Any review, retransmission, dissemination or other use of, or
taking of any action in reliance upon, this information by 
persons or entities other than the intended recipient is 
prohibited.  
If you received this in error, please contact the sender and 
delete the material from any computer.
**********************************************************************

