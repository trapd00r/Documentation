From zsh-users-return-13256-mason-zsh=primenet.com.au@sunsite.dk Fri Sep 19 10:33:39 2008
Return-Path: <zsh-users-return-13256-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 26927 invoked from network); 19 Sep 2008 10:33:36 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-0.8 required=5.0 tests=AWL,BAYES_00,SUBJ_RE_NUM
	autolearn=no version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 19 Sep 2008 10:33:36 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 91822 invoked from network); 19 Sep 2008 10:33:20 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 19 Sep 2008 10:33:20 -0000
Received: (qmail 16869 invoked by alias); 19 Sep 2008 10:32:46 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 13256
Received: (qmail 16851 invoked from network); 19 Sep 2008 10:32:43 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 19 Sep 2008 10:32:43 -0000
Received: from smtp.tt-solutions.com (sunset.tt-solutions.com [82.238.156.189])
	by bifrost.dotsrc.org (Postfix) with ESMTPS id 1592E802720D
	for <zsh-users@sunsite.dk>; Fri, 19 Sep 2008 12:32:25 +0200 (CEST)
Received: from nightfall ([192.168.17.76])
	by smtp.tt-solutions.com with esmtp (Exim 4.63)
	(envelope-from <vz-zsh@zeitlins.org>)
	id 1KgdHk-0007ZC-V0
	for zsh-users@sunsite.dk; Fri, 19 Sep 2008 12:32:24 +0200
Date: Fri, 19 Sep 2008 12:32:25 +0200
From: Vadim Zeitlin <vz-zsh@zeitlins.org>
Subject: Re[2]: svn completion under Cygwin
To: zsh-users@sunsite.dk
MIME-Version: 1.0
Content-Type: MULTIPART/SIGNED; protocol="application/pgp-signature"; micalg=pgp-sha1; BOUNDARY="158266001-20897-1221820345=:1580"
References: <20080915163326.05A4C809A183@bifrost.dotsrc.org> <20080916104240.24559824@news01>
In-Reply-To: <20080916104240.24559824@news01>
X-Mailer: Mahogany 0.67.2 'Constance', running under Windows Server 2003 (build 3790, Service Pack 1)
Message-Id: <20080919103226.1592E802720D@bifrost.dotsrc.org>
X-Virus-Scanned: ClamAV 0.92.1/8287/Fri Sep 19 10:13:26 2008 on bifrost
X-Virus-Status: Clean

--158266001-20897-1221820345=:1580
Content-Type: TEXT/PLAIN; CHARSET=US-ASCII
Content-Disposition: INLINE

On Tue, 16 Sep 2008 10:42:40 +0100 Peter Stephenson <pws@csr.com> wrote:

PS> On Mon, 15 Sep 2008 18:33:25 +0200
PS> Vadim Zeitlin <vz-zsh@zeitlins.org> wrote:
PS> >  My Cygwin zsh 4.3.2 doesn't complete any file names for "svn ci" (and
PS> > other svn subcommands) and the problem persists even when using the latest
PS> > completion file version from
PS> > 
PS> > http://zsh.cvs.sourceforge.net/*checkout*/zsh/zsh/Completion/Unix/Command/_subversion?revision=1.25
PS> > 
PS> > I couldn't really understand where exactly does the problem come from to be
PS> > honest but, as this works under Unix I was almost sure that it was due to
PS> > either "\r\n" line terminators or backslashes instead of slashes in the
PS> > output of Win32 svn version. It turned out to be the latter and so the
PS> > following trivial patch makes the completion work as expected:
PS> 
PS> I think if you open a file the right way in Cygwin it will do this kind of
PS> substitution for you.  We had a related discussion not so long ago.

 Sorry, I couldn't find anything about it at 

	http://www.zsh.org/mla/workers/2008/threads.html

and I also have no idea how to make Cygwin to translate the Windows-style
filenames to POSIX ones automatically (and to be honest would be rather
surprised if it were possible). Could you have meant using cygpath to do
the conversion instead of a simple tr? If so, this could be done, of
course, but then it would need to be only done under Cygwin and I'm not
sure what would be the best way to have a Cygwin-only part of a completion
function, are there already any examples of doing this? I only found
similar sort of a hack (but this one dealing with "\r\n" and not
backslashes) in _ant completion and it does it unconditionally, just as my
patch.

 Thanks,
VZ

--158266001-20897-1221820345=:1580
Content-Type: APPLICATION/PGP-SIGNATURE

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (MingW32)

iEYEABECAAYFAkjTf7kACgkQBupB3k9sHobX0wCfSJvjBEVC2d9NFfxnn036Q9V/
Zo0An0DxEpvxmivtj3r64rv/UdbP0UGb
=ib7O
-----END PGP SIGNATURE-----

--158266001-20897-1221820345=:1580--

