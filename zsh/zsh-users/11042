From zsh-users-return-11042-mason-zsh=primenet.com.au@sunsite.dk Mon Nov 27 16:47:35 2006
Return-Path: <zsh-users-return-11042-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 26355 invoked from network); 27 Nov 2006 16:47:33 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.7 (2006-10-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.4 required=5.0 tests=AWL,BAYES_00,
	FORGED_RCVD_HELO autolearn=ham version=3.1.7
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 27 Nov 2006 16:47:33 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 8063 invoked from network); 27 Nov 2006 16:47:01 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 27 Nov 2006 16:47:01 -0000
Received: (qmail 14213 invoked by alias); 27 Nov 2006 16:46:49 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 11042
Received: (qmail 14203 invoked from network); 27 Nov 2006 16:46:48 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 27 Nov 2006 16:46:48 -0000
Received: (qmail 6852 invoked from network); 27 Nov 2006 16:46:48 -0000
Received: from wr-out-0506.google.com (64.233.184.234)
  by a.mx.sunsite.dk with SMTP; 27 Nov 2006 16:46:42 -0000
Received: by wr-out-0506.google.com with SMTP id i28so204805wra
        for <zsh-users@sunsite.dk>; Mon, 27 Nov 2006 08:46:26 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:sender:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        b=RpXdQ1AMST91mPHKwHxtWluS7mc9Kg2q3jVNjpNntIn3zBExypy5t//WYcHZ6qCTnDAcoMzgmci9iM6/1XDzJWTFkj47jvDvjhvXDsXw/aDtpuYU+INR9S/Jt6lTDynuhJYXgDxyWDYphfLlEFE4lIYEsRin00VNKJOXWJmetaI=
Received: by 10.90.49.19 with SMTP id w19mr10204950agw.1164645986184;
        Mon, 27 Nov 2006 08:46:26 -0800 (PST)
Received: by 10.90.65.18 with HTTP; Mon, 27 Nov 2006 08:46:25 -0800 (PST)
Message-ID: <dbfc82860611270846wa3924a7i65d54ef9ca309fb7@mail.gmail.com>
Date: Mon, 27 Nov 2006 17:46:25 +0100
From: "Nikolai Weibull" <now@bitwi.se>
Sender: nikolai.weibull@gmail.com
To: "Wayne Davison" <wayned@users.sourceforge.net>
Subject: Re: What was the reason for history -D not reporting runtimes?
Cc: zsh-users@sunsite.dk
In-Reply-To: <dbfc82860611270814p115da7afu3c8ada7795a03701@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <dbfc82860611240516w403e14fes7ef5a8d29148512c@mail.gmail.com>
	 <17393e3e0611250841v6a5e3d73ha185b3f3b44509b9@mail.gmail.com>
	 <dbfc82860611250952w68b615ebl250e3d8ede444739@mail.gmail.com>
	 <20061127143109.GA26291@blorf.net>
	 <dbfc82860611270814p115da7afu3c8ada7795a03701@mail.gmail.com>
X-Google-Sender-Auth: fb7e60b5b3b25e9c

On 11/27/06, Nikolai Weibull <now@bitwi.se> wrote:
> On 11/27/06, Wayne Davison <wayned@users.sourceforge.net> wrote:
> > On Sat, Nov 25, 2006 at 06:52:50PM +0100, Nikolai Weibull wrote:
> > > Yes, but that I already have.  The -D information somehow isn't
> > > recorded.  I thought it was incappendhistory that caused this, but I
> > > don't have that set.
> >
> > The SHARE_HISTORY option also causes this.  This is because the current
> > algorithm for sharing history writes out the history lines as soon as
> > you enter the command.  Perhaps we should revisit the reasons for this
> > design choice to see if we still agree that this is the best spot to do
> > the shared/inc-append history updating.
>
> I don't have that set either.  dang...
>
> setopt autocd                                 \
>        autopushd                              \
>        completeinword nolistambiguous         \
>        rcexpandparam rcquotes                 \
>        correct dvorak                         \
>        nonotify                               \
>        nobeep


Oh boy.  Turns out extendedhistory wasn't on by default like I
thought.  Anyway, even with it set it doesn't work.  Can appendhistory
mess it up?

Also, why isn't histsavebycopy set by default, as the documentation
suggests that it be set unless you have special needs?

  nikolai

