From zsh-users-return-14604-mason-zsh=primenet.com.au@zsh.org Wed Nov 25 13:45:11 2009
Return-Path: <zsh-users-return-14604-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 6049 invoked by alias); 25 Nov 2009 13:45:11 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 14604
Received: (qmail 3937 invoked from network); 25 Nov 2009 13:44:58 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received-SPF: none (ns1.primenet.com.au: domain at math.technion.ac.il does not designate permitted sender hosts)
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: ApoEADjDDEuERHMG/2dsb2JhbADWHAKEMAQ
X-IronPort-AV: E=Sophos;i="4.47,286,1257112800"; 
   d="scan'208";a="211670192"
X-Authentication-Warning: fermat.math.technion.ac.il: nyh set sender to nyh@math.technion.ac.il using -f
Date: Wed, 25 Nov 2009 15:44:41 +0200
From: "Nadav Har'El" <nyh@math.technion.ac.il>
To: Joke de Buhr <joke.de.buhr@seiken.de>
Cc: zsh-users@zsh.org
Subject: Re: Redirecting shell output to a pipe
Message-ID: <20091125134441.GA25464@fermat.math.technion.ac.il>
References: <20091124143140.GA7612@fermat.math.technion.ac.il> <4B0C2709.5080307@sun.com> <20091125064801.GA8371@fermat.math.technion.ac.il> <200911251252.48892.joke.de.buhr@seiken.de>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <200911251252.48892.joke.de.buhr@seiken.de>
User-Agent: Mutt/1.4.2.2i
Hebrew-Date: 8 Kislev 5770

Hi,

On Wed, Nov 25, 2009, Joke de Buhr wrote about "Re: Redirecting shell output to a pipe":
> > > exec |& tee filename
> 
> you should replace exec with a command. NOT the "exec" builtin. using the 
> builtin exec command doesn't make much sense in this context:

I think there was a misunderstanding here. When I used the word "exec" I
didn't mean it as a replacement for any executable, but rather the specific
keyword "exec". I know all about the syntax for redirection of ordinary
commands (I've been using Unix shells for the past 25 years ;-)).
What I was asking was not about redirecting an invidual command, but rather
redirecting all the shell's output, from now on. The syntax to do that
for redirection to a file is:

	exec > filename

Just like that - with the keyword "exec". It's a bizarre syntax, I admit,
but one that has existed for decades (it is not a zsh-specific feature).
My question was how do you do that - i.e., redirection of all the shell's
output - but not to a file but rather a command, e.g., the command
"tee filename". I was hoping that the following would work:

	exec | tee filename

would work, but it doesn't, and I was wondering if anybody knew why - is
this an oversight or deliberate. I also gave a working, but way too difficult
alternative to achieve the same thing using a coprocess.

Thanks,
Nadav.

-- 
Nadav Har'El                        |    Wednesday, Nov 25 2009, 8 Kislev 5770
nyh@math.technion.ac.il             |-----------------------------------------
Phone +972-523-790466, ICQ 13349191 |:(){ :|:&};: # DANGER: DO NOT run this,
http://nadav.harel.org.il           |unless you REALLY know what you're doing!

