From zsh-workers-return-21501-mason-zsh=primenet.com.au@sunsite.dk Fri Jul 22 20:10:05 2005
Return-Path: <zsh-workers-return-21501-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 19485 invoked from network); 22 Jul 2005 20:10:02 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 22 Jul 2005 20:10:02 -0000
Received: (qmail 66888 invoked from network); 22 Jul 2005 20:09:56 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 22 Jul 2005 20:09:56 -0000
Received: (qmail 17220 invoked by alias); 22 Jul 2005 20:09:54 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 21501
Received: (qmail 12433 invoked from network); 22 Jul 2005 19:28:11 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 22 Jul 2005 19:28:11 -0000
Received: (qmail 44282 invoked from network); 22 Jul 2005 19:28:11 -0000
Received: from mail.gmx.de (HELO mail.gmx.net) (213.165.64.20)
  by a.mx.sunsite.dk with SMTP; 22 Jul 2005 19:28:08 -0000
Received: (qmail invoked by alias); 22 Jul 2005 19:28:07 -0000
Received: from Bc8d2.b.pppool.de (EHLO pcdahl4201) [213.7.200.210]
  by mail.gmx.net (mp032) with SMTP; 22 Jul 2005 21:28:07 +0200
X-Authenticated: #21620914
Message-ID: <000801c58ef4$99863100$0bd7fea9@pcdahl4201>
From: "Thorsten Dahlheimer" <tdahlheim@gmx.net>
To: <zsh-workers@sunsite.dk>
Subject: PATCH: Fix "make install" on cygwin
Date: Fri, 22 Jul 2005 21:36:02 +0200
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----=_NextPart_000_0005_01C58F05.5BD01860"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Y-GMX-Trusted: 0
X-Spam-Checker-Version: SpamAssassin 3.0.4 (2005-06-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.0.4

This is a multi-part message in MIME format.

------=_NextPart_000_0005_01C58F05.5BD01860
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: 7bit

Hi,

currently "make install" fails on cygwin if $(DESTDIR)$(bindir)
doesn't already exist.  The attached patch fixes this.

Regards
Thorsten Dahlheimer

------=_NextPart_000_0005_01C58F05.5BD01860
Content-Type: application/octet-stream;
	name="cygwin_install.diff"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: attachment;
	filename="cygwin_install.diff"

Index: Src/Makefile.in=0A=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=0A=
RCS file: /cvsroot/zsh/zsh/Src/Makefile.in,v=0A=
retrieving revision 1.12=0A=
diff -u -r1.12 Makefile.in=0A=
--- Src/Makefile.in	20 Dec 2001 23:48:39 -0000	1.12=0A=
+++ Src/Makefile.in	22 Jul 2005 19:09:33 -0000=0A=
@@ -163,6 +163,7 @@=0A=
 	${SHELL} $(sdir_top)/mkinstalldirs $(DESTDIR)$(libdir)/$(tzsh)=0A=
 	$(INSTALL_PROGRAM) $(LIBZSH) $(DESTDIR)$(libdir)/$(tzsh)/$(LIBZSH)=0A=
 install.cygwin-lib: $(LIBZSH)=0A=
+	${SHELL} $(sdir_top)/mkinstalldirs $(DESTDIR)$(bindir)=0A=
 	$(INSTALL_PROGRAM) $(LIBZSH) $(DESTDIR)$(bindir)/$(LIBZSH)=0A=
 .PHONY: install.bin-N install.bin-L install.cygwin-lib=0A=
 =0A=

------=_NextPart_000_0005_01C58F05.5BD01860--

