From zsh-users-return-3367-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Aug 14 08:53:39 2000
Return-Path: <zsh-users-return-3367-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4365 invoked from network); 14 Aug 2000 08:53:35 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 14 Aug 2000 08:53:35 -0000
Received: (qmail 7002 invoked by alias); 14 Aug 2000 08:53:03 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 3367
Received: (qmail 6995 invoked from network); 14 Aug 2000 08:53:02 -0000
Date: Mon, 14 Aug 2000 10:51:11 +0200
From: =?iso-8859-1?Q?Thomas_K=F6hler?= <jean-luc@picard.franken.de>
To: zsh-user mailing list <zsh-users@sunsite.auc.dk>
Subject: Re: need to explicitly create newline on command prompt
Message-ID: <20000814105111.A23905@picard.franken.de>
Mail-Followup-To: =?iso-8859-1?Q?Thomas_K=F6hler?= <jean-luc@picard.franken.de>,
	zsh-user mailing list <zsh-users@sunsite.auc.dk>
References: <20000814102329.B911@fruitcom.com>
Mime-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-sha1;
	protocol="application/pgp-signature"; boundary="wRRV7LY7NUeQGEoC"
Content-Disposition: inline
User-Agent: Mutt/1.2.5i
In-Reply-To: <20000814102329.B911@fruitcom.com>; from eric@fruitcom.com on Mon, Aug 14, 2000 at 10:24:07AM +0200
X-Operating-System: Linux picard 2.2.17
X-Editor: VIM - Vi IMproved 6.0e ALPHA http://www.vim.org/
X-IRC: tirc-1.2; Nick: jeanluc
X-URL: http://jeanluc-picard.de/


--wRRV7LY7NUeQGEoC
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

On Mon, Aug 14, 2000 at 10:24:07AM +0200,
Eric Smith <eric@fruitcom.com> wrote:
> <cut and paste from terminal>
> [eric@plum ~]$ perl -e 'print "abc "'
> [eric@plum ~]$ echo abc=20
> abc=20
> [eric@plum ~]$ perl -e 'print "abc \n"'
>=20
> "'abc

How do you get _this_?
Can't reproduce such behaviour.

> [eric@plum ~]$ zsh                 =20
> [eric@plum ~]$ perl -e 'print "abc "'
> [eric@plum ~]$ perl -e 'print "abc \n"'
> abc=20

Yes. This happens because zsh clears the whole line before drawing a
prompt. You can workaround the problem:
precmd() {
   echo
}

> [eric@plum ~]$ bash
> bash-2.03$ perl -e 'print "abc "'
> abc bash-2.03$ perl -e 'print "abc \n"'
> abc=20

Bash doesn't clear the line before drawing a prompt, so this behaviour
happens...

> With zsh, I have never been able to get output of a perl command
> unless an explicit "\n" is entered.  A straight echo or even:
> echo 324542| sed 's/3/9/g'
> does print out. (Also there is that weird `"'abc' output.
>=20
> With bash all is as it should be.
>=20
> Any ideas where I could look t fix this?

The perl command issues some output, but the output will be overwritten
by zsh's prompt.

CU,
Thomas

--=20
 Thomas K=F6hler Email:   jean-luc@picard.franken.de     | LCARS - Linux
     <><        WWW:     http://jeanluc-picard.de      | for Computers
                IRC:             jeanluc               | on All Real
               PGP public key available from Homepage! | Starships

--wRRV7LY7NUeQGEoC
Content-Type: application/pgp-signature
Content-Disposition: inline

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.2 (GNU/Linux)
Comment: Weitere Infos: siehe http://www.gnupg.org

iD8DBQE5l7L/TEYXWMJlHuYRAhR9AJ9A8Mw6EwLJeTPlDNnWOkO4OilEkACeNwbq
CbNVEOsWxxwFH4RQ4FASp5U=
=lkwE
-----END PGP SIGNATURE-----

--wRRV7LY7NUeQGEoC--

