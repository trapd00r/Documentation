From zsh-workers-return-19845-mason-zsh=primenet.com.au@sunsite.dk Wed Apr 28 13:11:28 2004
Return-Path: <zsh-workers-return-19845-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 11929 invoked from network); 28 Apr 2004 13:11:27 -0000
Received: from thor.dotsrc.org (HELO a.mx.sunsite.dk) (qmailr@130.225.247.86)
  by ns1.primenet.com.au with SMTP; 28 Apr 2004 13:11:27 -0000
Received: (qmail 9526 invoked from network); 28 Apr 2004 13:11:13 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 28 Apr 2004 13:11:13 -0000
Received: (qmail 29368 invoked by alias); 28 Apr 2004 13:11:11 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 19845
Received: (qmail 29354 invoked from network); 28 Apr 2004 13:11:10 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 28 Apr 2004 13:11:10 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [130.225.247.86] by sunsite.dk (MessageWall 1.0.8) with SMTP; 28 Apr 2004 13:11:10 -0000
Received: (qmail 9344 invoked from network); 28 Apr 2004 13:11:10 -0000
Received: from acolyte.scowler.net (216.254.112.45)
  by a.mx.sunsite.dk with SMTP; 28 Apr 2004 13:11:08 -0000
Received: by acolyte.scowler.net (Postfix, from userid 1000)
	id 828AD70047; Wed, 28 Apr 2004 09:10:41 -0400 (EDT)
Date: Wed, 28 Apr 2004 09:10:41 -0400
From: Clint Adams <clint@zsh.org>
To: zsh-workers@sunsite.dk
Cc: stevenk@debian.org, 246306@bugs.debian.org
Subject: [stevenk@debian.org: Bug#246306: zsh: completion file for apt-move]
Message-ID: <20040428131041.GB3198@scowler.net>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.5.5.1+cvs20040105i
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, hits=-0.0 required=6.0 tests=BAYES_44 autolearn=no 
	version=2.63
X-Spam-Hits: -0.0

----- Forwarded message from Steve Kowalik <stevenk@debian.org> -----

Date: Wed, 28 Apr 2004 20:48:48 +1000
From: Steve Kowalik <stevenk@debian.org>
To: Debian Bug Tracking System <submit@bugs.debian.org>
Subject: Bug#246306: zsh: completion file for apt-move

Package: zsh
Version: 4.2.0-5
Severity: wishlist

Hi,

	I have written a completion function for apt-move.

-- System Information:
Debian Release: testing/unstable
  APT prefers unstable
  APT policy: (500, 'unstable'), (1, 'experimental')
Architecture: i386 (i686)
Kernel: Linux 2.6.5-1-k7-smp
Locale: LANG=C, LC_CTYPE=C

Versions of packages zsh depends on:
ii  debconf                     1.4.24       Debian configuration management sy
ii  libc6                       2.3.2.ds1-12 GNU C Library: Shared libraries an
ii  libcap1                     1:1.10-14    support for getting/setting POSIX.
ii  libncurses5                 5.4-3        Shared libraries for terminal hand
ii  passwd                      1:4.0.3-26   Change and administer password and

-- debconf information:
  zsh/rcmove: 

-- 
					Steve
"Why does everyone say 'Relax' when they're about to do something terrible?"
         - Ensign Harry Kim, USS Voyager


#compdef apt-move

local state line

_arguments \
  '-c[Specify an alternative configuration file]' \
  '-d[Override the DIST setting]' \
  '-f[Override the MAXDELETE setting]' \
  '-q[Be quiet; suppress normal output]' \
  '-t[Show what apt-move would do, but do not actually do anything]' \
  '1: :->cmds' \
  '*: :->args' && return 0

case $state in
  cmds)
    cmds=('get:update your master files from local apt' \
          'getlocal:alias of get' \
          'fsck:fix broken repositories' \
          'move:move cache files into mirror tree' \
          'movefile:move files into the repository' \
          'delete:delete obsolete packages' \
          'packages:create new local Packages files' \
          'update:alias for: get move delete packages' \
          'local:alias for: move delete packages' \
          'localupdate:alias for: getlocal move delete packages' \
          'mirror:update your local mirror from remote rsync site' \
          'sync:same as mirror, but only gets packages that you currently have installed on your system' \
          'exclude:prints a list of all packages EXCLUDED from the mirror by the .exclude file' \
          'listbin:prints lists of packages which can serve as the input to mirrorbin(mirror,sync,repo)' \
          'listsrc:same as listbin, but lists source packages' \
          'mirrorbin:same as mirror, but gets the packages specified on stdin' \
          'mirrorsrc:same as mirrorbin, but gets source packages')
      _describe -t commands 'apt-move command' cmds && return 0
  ;;
  args)
    case $line[1] in
	  get|getlocal)
	    # A directory or nothing
		_files -/
	  ;;
	  movefile)
	    # A .dsc or a .deb
		_files -g "*.d{sc,eb}"
	  ;;
	esac
  ;;
esac

return 1


----- End forwarded message -----

