From zsh-workers-return-18068-mason-zsh=primenet.com.au@sunsite.dk Thu Jan 09 16:12:34 2003
Return-Path: <zsh-workers-return-18068-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 6755 invoked from network); 9 Jan 2003 16:12:33 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 9 Jan 2003 16:12:33 -0000
Received: (qmail 3484 invoked by alias); 9 Jan 2003 16:12:29 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 18068
Received: (qmail 3475 invoked from network); 9 Jan 2003 16:12:28 -0000
Message-ID: <6134254DE87BD411908B00A0C99B044F04D69127@MOWD019A>
From: Borzenkov Andrey <Andrey.Borzenkov@siemens.com>
To: "'zsh-workers@sunsite.dk'" <zsh-workers@sunsite.dk>
Subject: RE: Passsing descriptions down in completion functions
Date: Thu, 9 Jan 2003 19:26:12 +0300 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain

> 
> The general question - should completion functions ever accept (be used
> with) other options than compadd? If not the above is perfectly valid and
> probably more simple that modifying every single function. If yes, here is
> the list of functions that use _wanted without '-'.
> 

Well, I started to look into these functions and immediately hit some
problems:

AIX/Type/_object_classes:

_wanted objectclasses expl 'object class' \
   _files -W ${ODMDIR:-/etc/objrepos} -g '^*.vc'

Here is just no place where I could stuff the magic "-". Granted, this one
does not pass arguments it receives but in general I do not see why it
should not do it.

Base/Utility/_sub_commands

if [[ CURRENT -eq 2 ]]; then
  _wanted commands expl command compadd "$@"
else
  _message 'no more arguments'
fi

almost the same problem. In this case arguments contain both description and
matches so I have no way to stuff "-" in between.

-andrey

