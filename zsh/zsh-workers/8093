From zsh-workers-return-8093-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Sep 29 10:09:01 1999
Return-Path: <zsh-workers-return-8093-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10245 invoked from network); 29 Sep 1999 10:08:59 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 29 Sep 1999 10:08:59 -0000
Received: (qmail 28898 invoked by alias); 29 Sep 1999 10:08:50 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 8093
Received: (qmail 28891 invoked from network); 29 Sep 1999 10:08:48 -0000
Message-Id: <9909290933.AA25826@ibmth.df.unipi.it>
To: zsh-workers@sunsite.auc.dk
Subject: Re: cd, pwd and symlinks 
In-Reply-To: ""Bart Schaefer""'s message of "Wed, 29 Sep 1999 03:29:44 DFT."
             <990929032944.ZM21831@candle.brasslantern.com> 
Date: Wed, 29 Sep 1999 11:33:17 +0200
From: Peter Stephenson <pws@ibmth.df.unipi.it>

"Bart Schaefer" wrote:
> Certainly there should be at least ONE mode in which "cd .." simply does
> chdir(".."), and right now NO mode does so (even after PWS's patch).  I
> don't believe any of 3.1.<0-5> did this correctly either.

Aha.  You mean if I rename a parent directory, then even with chaselinks
set it gets confused.  This does seem to be the case.  That's annoying,
because pwd prints the right value.  It would certainly be nice to think
that chaselinks is always going to do the right thing, no funny business
(i.e. no turning .. into $PWD/..).

> } Now we have a mixture of the two styles, which isn't working, and
> } making it more complicated isn't going to help. Let's just have the
> } two ways of working, with an option to switch between them.
> 
> This is essentially my feeling too, except that I think we can do better
> in the failure cases.

With some clearer documentation on the subject, this could work ---
chaselinks does Zefram's 1, nochaselinks does logical directories, and if
you want the shell to be careful about non-existent directories you have to
move over to Hotel Chaselinks.  (I don't think most users want either/or
behaviour, they want the shell to do the right thing all the time, without
them having to tell it what that is, which is largely how the cd code
arose, and why it's a mess.)  But somebody's going to have to write this,
and it's unlikely to be me this time.

I'll leave out 8084 for now.

-- 
Peter Stephenson <pws@ibmth.df.unipi.it>       Tel: +39 050 844536
WWW:  http://www.ifh.de/~pws/
Dipartimento di Fisica, Via Buonarroti 2, 56127 Pisa, Italy

