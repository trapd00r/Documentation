From zsh-workers-return-7723-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Sep 08 14:56:50 1999
Return-Path: <zsh-workers-return-7723-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1224 invoked from network); 8 Sep 1999 14:56:48 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 8 Sep 1999 14:56:48 -0000
Received: (qmail 239 invoked by alias); 8 Sep 1999 14:56:39 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7723
Received: (qmail 232 invoked from network); 8 Sep 1999 14:56:38 -0000
To: zsh-workers@sunsite.auc.dk
Subject: PATCH: _cvs
MIME-Version: 1.0 (generated by AKEMI 1.13.2 - =?ISO-2022-JP?B?Ig==?=
 =?ISO-2022-JP?B?GyRCQTA0Y0s8GyhCIg==?=)
Content-Type: text/plain; charset=US-ASCII
From: Tanaka Akira <akr@jaist.ac.jp>
Date: 08 Sep 1999 23:56:36 +0900
Message-ID: <rsqk8q1tpsr.fsf@crane.jaist.ac.jp>
Lines: 84
User-Agent: Chao-gnus/6.12.5 AKEMI/1.13.2 (=?ISO-2022-JP?B?GyRCQTAbKEI=?=
 =?ISO-2022-JP?B?GyRCNGNLPBsoQg==?=) FLAM-DOODLE/1.12.6
 (=?ISO-2022-JP?B?GyRCM3cbKEI=?= 10R4.0/5.0) Emacs/20.4
 (sparc-sun-solaris2.6) MULE/4.0 (HANANOEN)

I fixed typo in _cvs.

Also, I found a strange behaviour with `cvs history' in testing.

On 79 (or wider) column terminal:

is27e1u11% cvs history <TAB>
file
.cvsignore 
.distfiles 
ChangeLog 
ChangeLog.3.0 
Completion/
Config/
Doc/
Etc/
Functions/
INSTALL 
Makefile.in 
Misc/
README 
Src/
StartupFiles/
Util/
acconfig.h 
aclocal.m4 
aczsh.m4 
config.guess*
config.sub*
configure.in 
install-sh*
mkinstalldirs*
option
-?  -D  -T  -X  -a  -b  -c  -e  -f  -l  -m  -n  -o  -p  -r  -t  -u  -w  -x  -z

On 78 (or narrower) column terminal:

is27e1u11% cvs history <TAB>
file
.cvsignore      Doc/            README          aczsh.m4 
.distfiles      Etc/            Src/            config.guess*
ChangeLog       Functions/      StartupFiles/   config.sub*
ChangeLog.3.0   INSTALL         Util/           configure.in 
Completion/     Makefile.in     acconfig.h      install-sh*
Config/         Misc/           aclocal.m4      mkinstalldirs*
option
-?  -T  -a  -c  -f  -m  -o  -r  -u  -x
-D  -X  -b  -e  -l  -n  -p  -t  -w  -z

I suppose that the former is not intentional.

Index: Completion/User/_cvs
===================================================================
RCS file: /projects/zsh/zsh/Completion/User/_cvs,v
retrieving revision 1.1.1.8
diff -u -F^( -r1.1.1.8 _cvs
--- _cvs	1999/09/08 00:48:08	1.1.1.8
+++ _cvs	1999/09/08 14:50:59
@@ -66,11 +66,11 @@
     '-e+:access list to erase (not work with CVS):' \
     '-l-:revision to lock:' \
     '-u-:revision to unlock:' \
-    '-n+:symbolic-name[\:revision]:' \
-    '-N+:symbolic-name[\:revision]:' \
+    '-n+:symbolic-name(\:revision):' \
+    '-N+:symbolic-name(\:revision):' \
     '-m+:revision\:msg:' \
     '-o+:range to delete:' \
-    '-s+:state[\:revision]:' \
+    '-s+:state(\:revision):' \
     '-t-:descriptive text:_cvs_admin_t' \
     '-V+:version (obsolete):' \
     '-k+:keyword substitution:_cvs_k' \
@@ -179,7 +179,7 @@
   # "+lRa:"
   _arguments -s \
     -{l,R} \
-    '-a+:action:(edit unedit commit all none)'
+    '-a+:action:(edit unedit commit all none)' \
     '*:file:_cvs_files'
 }
 
-- 
Tanaka Akira

