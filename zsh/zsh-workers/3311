From zsh-workers-request@euclid.skiles.gatech.edu Thu Jun 26 15:55:31 1997
Return-Path: <zsh-workers-request@euclid.skiles.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 23533 invoked from network); 26 Jun 1997 15:55:30 -0000
Received: from euclid.skiles.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 26 Jun 1997 15:55:30 -0000
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id LAA06822; Thu, 26 Jun 1997 11:45:16 -0400 (EDT)
Resent-Date: Thu, 26 Jun 1997 11:45:16 -0400 (EDT)
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <970626085533.ZM12948@candle.brasslantern.com>
Date: Thu, 26 Jun 1997 08:55:33 -0700
In-Reply-To: <Pine.SUN.3.96.970626055430.8321A-100000@kira>
Comments: In reply to Timothy Luoma <luomat@peak.org>
        "Tough debug: remote core dumps" (Jun 26,  6:21am)
References: <Pine.SUN.3.96.970626055430.8321A-100000@kira>
X-Mailer: Z-Mail (4.0b.820 20aug96)
To: luomat@peak.org, ZSH Workers <zsh-workers@math.gatech.edu>
Subject: Re: Tough debug: remote core dumps
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Resent-Message-ID: <"O4PPx1.0.Xg1.Cweip"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3311
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

This isn't really a zsh thing (unless it turns out to be zsh that has
been crashing), but ...

On Jun 26,  6:21am, Timothy Luoma wrote:
} Subject: Tough debug: remote core dumps
}
} I am getting core dumps at 4:42am every day on one (remote) account of
} mine.

If it's that regular, it's probably the result of a cron job.

Take a look at "man crontab" or if that doesn't work "man cron".  How
you find out what cron jobs are scheduled varies by operating system.
You can try running "crontab -l" to list them, but on some older cron
variants that will not work and may even be harmful, so attempt to
track down the manuals first.  (I believe SunOS 4.1 has "crontab -l".)

If it isn't a cron job belonging to you, it's probably one belonging
to "root" that changes its UID during execution.  Or it may be some
other program that executes on a periodic schedule without using cron,
such as sendmail flushing the mail queues.

If you have a .forward file or .procmailrc or other mail filter, one of
those cron jobs or other periodic tasks may be sending you a message at
the same time every day, and something about that message is causing
your mail filtering software to crash.

} 1) there is a way to use the core files to figure out what is happening
} (ie so we can fix it)

You can try running "file core".  On some systems, this will tell you what
program produced the core file.  (That should work on SunOS.)

You can try "strings core" (on systems with GNU tools you may need to use
"strings -a core" instead) to look for file paths or error text that give
you clues.

} 2) is there a way to prevent the core dump files

There's "limit coredumpsize 0" but you will need to know what is running
the crashing program before you can get the limit into the proper shell
context.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts        http://www.nbn.com/people/lantern

