From zsh-workers-return-14984-mason-zsh=primenet.com.au@sunsite.dk Wed Jun 20 04:13:41 2001
Return-Path: <zsh-workers-return-14984-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4952 invoked from network); 20 Jun 2001 04:13:40 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 20 Jun 2001 04:13:40 -0000
Received: (qmail 14031 invoked by alias); 20 Jun 2001 04:13:00 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 14984
Received: (qmail 14011 invoked from network); 20 Jun 2001 04:12:59 -0000
Date: Tue, 19 Jun 2001 23:13:24 -0500
From: Dan Nelson <dnelson@emsphone.com>
To: Jason Price <jprice@cyberbuzz.gatech.edu>
Cc: zsh-workers@sunsite.dk
Subject: Re: gcc 3.0 produces broken zsh
Message-ID: <20010619231324.A9130@dan.emsphone.com>
References: <20010619235049.A20425@oobleck.gatech.edu>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20010619235049.A20425@oobleck.gatech.edu>
User-Agent: Mutt/1.3.19i
X-OS: FreeBSD 5.0-CURRENT

In the last episode (Jun 19), Jason Price said:
> Out of morbid curiosity, I built gcc3 and installed it somewhere out
> of the way (like $HOME/gcc3) on my redhat 7.1 linux box.  Then I
> tried to build zsh with it.
> 
> It configured and compiled with hardly any errors.  The only build errors
> were:
> 
> math.c: In function `zzlex':
> math.c:382: warning: operation on `ptr' may be undefined
> utils.o: In function `gettempname':
> utils.o(.text+0x1de2): the use of `mktemp' is dangerous, better use `mkstemp'
> 
> However, when I install it, it doesn't seem to be able to find or
> load any modules.  Building with stock gcc's of the 2.95.* variety
> work, building other programs works (havn't tested many, but one or
> two others do), and zsh will let you do interactive stuff, it's just
> very limited.

I just built zsh 4.0.1 on my machine with gcc 3.0 and it's working just
fine, static and dynamic linking.

FreeBSD dan.emsphone.com 5.0-CURRENT FreeBSD 5.0-CURRENT #119: Sun Jun 17 14:22:20 CDT 2001 root@dan.emsphone.com:/usr/src/sys/compile/DANSMP  i386

-r-xr-xr-x  2 root  wheel  1181836 Jun 19 13:41 /usr/local/bin/zsh
-r-xr-xr-x  2 root  wheel     2988 Jun 19 23:11 /usr/local/bin/zsh-dynamic

-- 
	Dan Nelson
	dnelson@emsphone.com

