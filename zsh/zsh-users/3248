From zsh-users-return-3248-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Jul 05 05:32:06 2000
Return-Path: <zsh-users-return-3248-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 19878 invoked from network); 5 Jul 2000 05:32:04 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 5 Jul 2000 05:32:04 -0000
Received: (qmail 23665 invoked by alias); 5 Jul 2000 05:31:50 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 3248
Received: (qmail 23658 invoked from network); 5 Jul 2000 05:31:49 -0000
X-Authentication-Warning: idiom.com: ixian set sender to ixian@idiom.com using -f
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <14690.51265.148864.28106@idiom.com>
Date: Tue, 4 Jul 2000 22:31:45 -0700 (PDT)
Generate-Delivery-Report: <ead@ixian.com>
From: Eric De Mund <ead@ixian.com>
To: <cygwin@sourceware.cygnus.com>
Cc: <zsh-users@sunsite.auc.dk>
Subject: empty zsh prompt string under Cygwin 1.1.0 xterm
X-Mailer: VM 6.75 under Emacs 20.4.1
Reply-To: Eric De Mund <ead@ixian.com>
X-Humans-Reply-To: Eric De Mund <ead@ixian.com>
X-URL: <http://www.ixian.com/ead/>
Organization: Ixian Systems, Inc.

Folks,

My zsh has a null, empty prompt (nor are my .z* files sourced) when I
bring up a zsh xterm:

--------CUT HERE--------
ls -aCF
./              .emacs~         .zshenv~        doc/            out
../             .ncftp/         .zshrc          is-docs/        scratch/
.bash_history   .zlogin         VisualCafe/     jdk-1.2.2_005/  sw/
.bash_profile   .zlogout        archive/        lib/            tmp/
.emacs          .zshenv         bin/            nohup.out
echo dog
dog
cd ..
ls -aCF
./              ../             Administrator/  ead/
--------CUT HERE--------

Is this a zsh or Cygwin FAQ? I wasn't able to find it in either archive.
I get the same behavior when I invoke rxvt(1) instead of xterm(1). (And
it *aggravates*.) My environment is:

    WINVER:
        Version 4.0 (Build 1381: Service Pack 6)
        Revised Service Pack 6a
    zsh version:
        3.0.5-nt-beta-0.74 (Amol Deshpande's port)
    cygwin version:
        1.1.0    
    invocation:
        \usr\X11R6.4\bin\xterm.exe -e \usr\local\bin\zsh.exe -l
    X clients:
        Pre-compiled X11R6.4 Libraries/Clients For CYGWIN B20
        Last Update: Feb 9, 1999
        from <http://dao.gsfc.nasa.gov/software/grads/win32/X11R6.4/>
    X Server:
        X-Win32 4.1.4
    printenv:
        !C:=C:\home\ead
        CDPATH=.;..;C:/home/ead
        CLASSPATH=.;c:\packages\VisualCafe\Java\Lib;c:\packages\VisualCafe\Ja\
        va\Lib\SYMCLASS.ZIP;c:\packages\VisualCafe\Java\Lib\CLASSES.ZIP;c:\pa\
        ckages\VisualCafe\Java\Lib\COLLECTIONS.ZIP;c:\packages\VisualCafe\Jav\
        a\Lib\ICEBROWSERBEAN.JAR;c:\packages\VisualCafe\Java\Lib\JSDK.JAR;c:\\
        packages\VisualCafe\Java\Lib\SYMTOOLS.JAR;c:\packages\VisualCafe\JFC\\
        SWINGALL.JAR;c:\packages\VisualCafe\Bin\Components\SFC.JAR;c:\package\
        s\VisualCafe\Bin\Components\SYMBEANS.JAR;c:\packages\VisualCafe\Java\\
        Lib\DBAW.ZIP;c:\packages\VisualCafe\Bin\Components\DBAW_AWT.JAR;c:\pa\
        ckages\VisualCafe\Bin\Components\Databind.JAR;c:\packages\VisualCafe\\
        Java\Lib\Olite35.jar;
        COMPUTERNAME=EAD
        COMSPEC=C:\WINNT\system32\cmd.exe
        CYGBIN=C:/bin
        DISPLAY=localhost:0.0
        EDITOR=emacs
        ENSCRIPT_LIBRARY=/packages/enscript
        GZIP=-v -9
        HISTSIZE=100
        HOME=/home/ead
        HOMEDRIVE=C:
        HOMEPATH=\home\ead
        HOSTS=ftp.mac.archive.umich.edu ftp.uu.net gatekeeper.dec.com ixian.c\
        om oak.oakland.edu prep.ai.mit.edu rtfm.mit.edu sumex-aim.stanford.ed\
        u wuarchive.wustl.edu
        LESS=-c -i -M
        LOGNAME=bogus
        LOGONSERVER=\\EAD
        MANPATH=C:/home/ead/man;/usr/local/man;/usr/man;/usr/share/man;/usr/X\
        11/man
        NUMBER_OF_PROCESSORS=1
        OS2LIBPATH=C:\WINNT\system32\os2\dll;
        OS=Windows_NT
        PAGER=less
        PATH=/home/ead/bin:/home/ead/bin/winnt:/usr/local/bin:/usr/bin:/packa\
        ges/vim56:/usr/bin:/usr/X11R6.4/bin:/packages/emacs/bin:/Program File\
        s/NcFTP:/packages/texmf/miktex/bin
        PATHEXT=.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH
        PROCESSOR_ARCHITECTURE=x86
        PROCESSOR_IDENTIFIER=x86 Family 6 Model 8 Stepping 1, GenuineIntel
        PROCESSOR_LEVEL=6
        PROCESSOR_REVISION=0801
        PROMPT=%m:%~% 
        PWD=C:/home/ead
        SHLVL=1
        SYSTEMDRIVE=C:
        SYSTEMROOT=C:\WINNT
        TEMP=C:\TEMP
        TERM=ansi
        TERMCAP=ansi|ansi/pc-term compatible with color:u6=\E[%d;%dR:u7=\E[6n\
        :..u8=\E[?%[;0123456789]c:u9=\E[c:Co#8:NC#3:pa#64:AB=\E[4%p1%dm:AF=\E\
        [3%p1%dm:op=\E[37;40m:5i:AL=\E[%dL:DC=\E[%dP:DL=\E[%dM:DO=\E[%dB:F1=\\
        E[W:F2=\E[X:IC=\E[%d@:LE=\E[%dD:RI=\E[%dC:SF=\E[%dS:SR=\E[%dT:UP=\E[%\
        dA:cb=\E[1K:ch=\E[%dG:ct=\E[2g:cv=\E[%dd:ec=\E[%dX:ei=:im=:k1=\E[M:k2\
        =\E[N:k3=\E[O:k4=\E[P:k5=\E[Q:k6=\E[R:k7=\E[S:k8=\E[T:k9=\E[U:k;=\E[V\
        :kB=\E[Z:kI=\E[L:kb=^H:kd=\E[B:kl=\E[D:kr=\E[C:ku=\E[A:me=\E[0;10m:nw\
        =\r\E[S:pf=\E[4i:po=\E[5i:s0=\E(B:s1=\E)B:s2=\E*B:s3=\E+B:ta=\E[I:am:\
        bs:mi:ms:pt:co#80:it#8:li#24:ae=\E[10m:al=\E[L:as=\E[12m:bl=^G:bt=\E[\
        Z:cd=\E[J:ce=\E[K:cl=\E[H\E[J:cm=\E[%i%d;%dH:cr=^M:dc=\E[P:dl=\E[M:do\
        =\E[B:ho=\E[H:kh=\E[H:le=\E[D:mb=\E[5m:md=\E[1m:mk=\E[9m:mr=\E[7m:nd=\
        \E[C:se=\E[m:sf=^J:so=\E[7m:st=\EH:ue=\E[m:up=\E[A:us=\E[4m:
        THISZSH=.zlogin
        TMP=C:\TEMP
        TZ=PST8PDT
        USER=ead
        USERDOMAIN=EAD
        USERNAME=ead
        USERPROFILE=C:\WINNT\Profiles\ead
        VIMBIN=C:/packages/vim56
        WINDIR=C:\WINNT
        WINDOWID=8388622
        WORDCHARS=_

Need I update my X clients? Or is this simply a matter of me missing
some environment variable? When rxvt(1) comes up, the TERM type is even
xterm-color.

Please advise.

Thanks,
Eric
--
Eric De Mund <ead@ixian.com> | Ixian Systems, Inc. | 53 49 B2 23 AF 6C 20 81
http://www.ixian.com/ead/    | Mountain View, CA   | ED DD 4C 81 AA C9 D1 A5

