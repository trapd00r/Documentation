From zsh-workers-return-20026-mason-zsh=primenet.com.au@sunsite.dk Tue Jun 08 15:05:50 2004
Return-Path: <zsh-workers-return-20026-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8240 invoked from network); 8 Jun 2004 15:05:49 -0000
Received: from thor.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.86)
  by ns1.primenet.com.au with SMTP; 8 Jun 2004 15:05:49 -0000
Received: (qmail 4448 invoked from network); 8 Jun 2004 15:05:38 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 8 Jun 2004 15:05:38 -0000
Received: (qmail 29008 invoked by alias); 8 Jun 2004 15:05:36 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 20026
Received: (qmail 28976 invoked from network); 8 Jun 2004 15:05:36 -0000
Received: from thor.dotsrc.org (HELO a.mx.sunsite.dk) (qmailr@130.225.247.86)
  by sunsite.dk with SMTP; 8 Jun 2004 15:05:33 -0000
Received: (qmail 4307 invoked from network); 8 Jun 2004 15:05:32 -0000
Received: from tantale.fifi.org (root@216.27.190.146)
  by a.mx.sunsite.dk with SMTP; 8 Jun 2004 15:05:29 -0000
Received: from ceramic.fifi.org (mail@ceramic.fifi.org [216.27.190.147])
	by tantale.fifi.org (8.9.3p2/8.9.3/Debian 8.9.3-21) with ESMTP id IAA20961;
	Tue, 8 Jun 2004 08:05:24 -0700
Received: from phil by ceramic.fifi.org with local (Exim 4.22)
	id 1BXiAF-0000uf-PT; Tue, 08 Jun 2004 08:05:23 -0700
To: Peter Stephenson <pws@csr.com>
Cc: zsh-workers@sunsite.dk
Subject: Re: Spring patch clean-up: HAVE_BROKEN_TCSETPGRP and backgrounded ./configure
References: <200406081327.i58DRDTE026193@news01.csr.com>
Mail-Copies-To: nobody
From: Philippe Troin <phil@fifi.org>
Date: 08 Jun 2004 08:05:23 -0700
In-Reply-To: <200406081327.i58DRDTE026193@news01.csr.com>
Message-ID: <87aczersy4.fsf@ceramic.fifi.org>
Lines: 29
User-Agent: Gnus/5.09 (Gnus v5.9.0) Emacs/21.2
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Sender: Philippe Troin <phil@fifi.org>
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, hits=-0.0 required=6.0 tests=BAYES_44 autolearn=no 
	version=2.63
X-Spam-Hits: -0.0

Peter Stephenson <pws@csr.com> writes:

> I'll commit this patch with the following additional information.

Thanks Peter.

Nitpicking:
 
> +A test for the function tcsetpgrp is turned on by default.  The test needs
> +to run the function to determine if the implementation is usable. However,
> +this can cause problems when configure is run without a terminal.  To avoid
> +this, use --with-tcsetpgrp or --without-tcsetpgrp to tell configure whether
> +the function should be used.
> +

should be replaced by:

A test for the function tcsetpgrp is turned on by default.  The test
needs to run the function to determine if the implementation is
usable. However, this can cause problems when configure is run without
a controlling terminal (eg. from cron).  To avoid this, use
--with-tcsetpgrp or --without-tcsetpgrp to tell configure whether the
function should be used.

One can run with on a terminal without it being the controlling
terminal. Like when doing clone /dev/pts/<n>, the cloned zsh is
running on a tty, but has no ctty.

Phil.

