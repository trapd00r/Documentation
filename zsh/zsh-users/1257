From zsh-workers-request@math.gatech.edu Fri Jan 23 16:32:33 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 635 invoked from network); 23 Jan 1998 16:32:32 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 23 Jan 1998 16:32:31 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id LAA02061;
	Fri, 23 Jan 1998 11:19:59 -0500 (EST)
Resent-Date: Fri, 23 Jan 1998 11:19:39 -0500 (EST)
Message-ID: <19980123172116.49065@willkuere.informatik.uni-wuerzburg.de>
Date: Fri, 23 Jan 1998 17:21:16 +0100
From: Thomas Koehler <thomas@wi3d01.informatik.uni-wuerzburg.de>
To: zsh-users@math.gatech.edu
Subject: Re: renaming with number prefix
References: <19980123165404.53612@math.fu-berlin.de>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 0.69e
In-Reply-To: <19980123165404.53612@math.fu-berlin.de>; from Sven Guckes on Fri, Jan 23, 1998 at 04:54:04PM +0100
X-Operating-System: Linux willkuere 2.0.32 #4 Fri Jan 9 15:55:29 MET 1998 i486
Resent-Message-ID: <"2vGCM1.0.MV.QCCoq"@math>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/1257
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

On Fri, Jan 23, 1998 at 04:54:04PM +0100, Sven Guckes wrote:

> Problem:
> Rename all files within a directory such that their names
> get a numeral prefix in the default sort order.
> 
> Example:
> 
> 	$ ls
> 	abc bar baz foo zyxxy
> 	$ <command>
> 	$ ls
> 	1.abc 2.bar 3.baz 4.foo 5.zyxxy
> 
> So - what's that <command>?

w=1 ; for i in `ls` ; do mv $i ${w}.${i} ; w=$[w+1] ; done

Not very elegant, perhaps...

> Btw, "leading zeroes" would be a bonus.
 
w=1 ; for i in `ls` ; do
if [ $w -gt 99 ] ; then
      mv $i ${w}.${i} ; w=$[w+1]
   else if [ $w -gt 9 ] ; then
      mv $i 0${w}.${i} ; w=$[w+1]
   else
      mv $i ${w}.${i} ; w=$[w+1]
   fi
fi
done

> Sven

CU,
Thomas

