From zsh-workers-return-18979-mason-zsh=primenet.com.au@sunsite.dk Sat Aug 30 17:42:09 2003
Return-Path: <zsh-workers-return-18979-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9489 invoked from network); 30 Aug 2003 17:42:08 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 30 Aug 2003 17:42:08 -0000
Received: (qmail 1521 invoked by alias); 30 Aug 2003 17:42:02 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 18979
Received: (qmail 1507 invoked from network); 30 Aug 2003 17:42:02 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 30 Aug 2003 17:42:02 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [195.92.195.174] by sunsite.dk (MessageWall 1.0.8) with SMTP; 30 Aug 2003 17:42:1 -0000
Received: from modem-218.imperator-angel.dialup.pol.co.uk ([62.137.32.218] helo=pwstephenson.fsnet.co.uk)
	by cmailg4.svr.pol.co.uk with esmtp (Exim 4.14)
	id 19t9jc-0005Un-Cq
	for zsh-workers@sunsite.dk; Sat, 30 Aug 2003 18:42:00 +0100
Received: by pwstephenson.fsnet.co.uk (Postfix, from userid 501)
	id 4EA308511; Sat, 30 Aug 2003 13:45:52 -0400 (EDT)
Received: from pwstephenson.fsnet.co.uk (localhost [127.0.0.1])
	by pwstephenson.fsnet.co.uk (Postfix) with ESMTP id 16A8F84E1
	for <zsh-workers@sunsite.dk>; Sat, 30 Aug 2003 18:45:52 +0100 (BST)
To: Zsh workers <zsh-workers@sunsite.dk>
Subject: Re: possible patches for merging to 4.0 
In-reply-to: "Oliver Kiddle"'s message of "Fri, 29 Aug 2003 16:10:40 +0200."
             <4262.1062166240@gmcs3.local> 
Date: Sat, 30 Aug 2003 18:45:50 +0100
From: Peter Stephenson <pws@pwstephenson.fsnet.co.uk>
Message-Id: <20030830174552.4EA308511@pwstephenson.fsnet.co.uk>

Oliver Kiddle wrote:
> I went through the output of difflog.pl and the following is a list of
> patches which I think might be suitable for merging back into 4.0. Where
> I've not otherwise specified, patches are from Peter.

Thanks for looking.  Go ahead and apply them, if you like.  Translation:
I'm not likely to have time for this.  However, I will get round to it
eventually.  Some of them I'm surprised I didn't apply straight away.

> 18839/18840

_nice: remember what was committed was not quite the patch that appeared.

> 18769

This is the failed autoload fix... I was pretty convinced that this had
to be correct to prevent some horrific problems, the more so the more I
thought about it, but Bart didn't seem quite so convinced, so I never
got around to committing it back to 4.0.

> 18264

This fixes a minor memory leak when entering a subshell.  Since it only
happens once in the subshell when you enter it, I vaguely thought it was
unnecessarily complicated to port back to 4.0, but it seems to be
working so it's probably OK.

> 17295

I don't think zle -F was in 4.0.

> 17175

I think this also applies only to 4.1, since 4.0 doesn't have the
(slightly hairy) fix that (( foo = ... )) didn't work if foo expanded to
something that couldn't be parsed as an arithmetic expression, even
though it correctly assigned it if it did.

> 16737 (Bart)

This fixed a problem with [ -d = ... ].  Bart's question never got
answered, but I don't suppose it will without some hairier test tests.

-- 
Peter Stephenson <pws@pwstephenson.fsnet.co.uk>
Work: pws@csr.com
Web: http://www.pwstephenson.fsnet.co.uk

