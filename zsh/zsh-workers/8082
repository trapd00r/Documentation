From zsh-workers-return-8082-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Sep 28 09:36:23 1999
Return-Path: <zsh-workers-return-8082-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 7759 invoked from network); 28 Sep 1999 09:36:21 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 28 Sep 1999 09:36:21 -0000
Received: (qmail 29626 invoked by alias); 28 Sep 1999 09:36:15 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 8082
Received: (qmail 29619 invoked from network); 28 Sep 1999 09:36:14 -0000
To: zsh workers mailing list <zsh-workers@sunsite.auc.dk>
Subject: Re: PATCH: _man copes with : delimited manpath
References: <9909271344.AA19699@ibmth.df.unipi.it>
MIME-Version: 1.0 (generated by AKEMI 1.13.2 - =?ISO-2022-JP?B?Ig==?=
 =?ISO-2022-JP?B?GyRCQTA0Y0s8GyhCIg==?=)
Content-Type: text/plain; charset=US-ASCII
From: Tanaka Akira <akr@jaist.ac.jp>
Date: 28 Sep 1999 18:36:07 +0900
In-Reply-To: Peter Stephenson's message of "Mon, 27 Sep 1999 15:44:57 +0200"
Message-ID: <rsqzoy7tm2g.fsf@crane.jaist.ac.jp>
Lines: 29
User-Agent: Chao-gnus/6.12.5 AKEMI/1.13.2 (=?ISO-2022-JP?B?GyRCQTAbKEI=?=
 =?ISO-2022-JP?B?GyRCNGNLPBsoQg==?=) FLAM-DOODLE/1.12.6
 (=?ISO-2022-JP?B?GyRCM3cbKEI=?= 10R4.0/5.0) Emacs/20.4
 (sparc-sun-solaris2.6) MULE/4.0 (HANANOEN)

In article <9909271344.AA19699@ibmth.df.unipi.it>,
  Peter Stephenson <pws@ibmth.df.unipi.it> writes:

> +  local mp=($(manpath 2>/dev/null))

I think this is desired syntax. But it is not implemented yet.

is27e1u11% man <TAB>
_man: unknown file attribute [18]

Index: Completion/User/_man
===================================================================
RCS file: /projects/zsh/zsh/Completion/User/_man,v
retrieving revision 1.1.1.16
diff -u -F^( -r1.1.1.16 _man
--- Completion/User/_man	1999/09/27 14:24:58	1.1.1.16
+++ Completion/User/_man	1999/09/28 09:34:44
@@ -15,7 +15,8 @@
 fi
 
 if (( ! $#manpath )); then
-  local mp=($(manpath 2>/dev/null))
+  local mp
+  mp=($(manpath 2>/dev/null))
   [[ "$mp" == *:* ]] && mp=( ${(s.:.)mp} )
   manpath=( $mp )
 fi
-- 
Tanaka Akira

