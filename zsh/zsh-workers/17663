From zsh-workers-return-17663-mason-zsh=primenet.com.au@sunsite.dk Fri Sep 13 18:31:48 2002
Return-Path: <zsh-workers-return-17663-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5664 invoked from network); 13 Sep 2002 18:31:47 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 13 Sep 2002 18:31:47 -0000
Received: (qmail 5411 invoked by alias); 13 Sep 2002 18:31:41 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 17663
Received: (qmail 5399 invoked from network); 13 Sep 2002 18:31:40 -0000
Date: Fri, 13 Sep 2002 14:31:25 -0400
From: Clint Adams <clint@zsh.org>
To: Bart Schaefer <schaefer@brasslantern.com>
Cc: Peter Stephenson <pws@csr.com>, Zsh hackers list <zsh-workers@sunsite.dk>
Subject: Re: config.modules glitch in configure or make dependencies
Message-ID: <20020913183125.GA18833@dman.com>
References: <4665.1031932669@csr.com> <1020913175317.ZM9183@candle.brasslantern.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <1020913175317.ZM9183@candle.brasslantern.com>
User-Agent: Mutt/1.4i
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)

> It's not really two stages; the code still executes at the same time it
> always did, it just happens to be in two files.  If you prefer, it could
> be written like this:
> 
> AC_OUTPUT_COMMANDS(,[if test -z "\$CONFIG_FILES\$CONFIG_HEADERS"; then
> `cat ./${CONFIG_MODULES}.sh && rm -f ./${CONFIG_MODULES}.sh`
> fi])
> . ./${CONFIG_MODULES}.sh

Maybe this stuff could be handled by a Src/Modules/configure that also
handles the extra lib dependencies.

