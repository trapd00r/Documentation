From zsh-workers-return-13265-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Dec 13 17:21:21 2000
Return-Path: <zsh-workers-return-13265-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 803 invoked from network); 13 Dec 2000 17:21:20 -0000
Received: from sunsite.dk (HELO sunsite.auc.dk) (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 13 Dec 2000 17:21:20 -0000
Received: (qmail 12898 invoked by alias); 13 Dec 2000 17:21:13 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 13265
Received: (qmail 12890 invoked from network); 13 Dec 2000 17:21:11 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <1001213172105.ZM12198@candle.brasslantern.com>
Date: Wed, 13 Dec 2000 17:21:05 +0000
In-Reply-To: <mvb8zpkpj5s.fsf@phobos.lrde.epita.fr>
Comments: In reply to Alexandre Duret-Lutz <duret_g@lrde.epita.fr>
        "Re: :r modifier" (Dec 13,  2:03pm)
References: <mvbzoi1shkr.fsf@phobos.lrde.epita.fr> 
	<1001213041501.ZM11124@candle.brasslantern.com> 
	<mvb8zpkpj5s.fsf@phobos.lrde.epita.fr>
X-Mailer: Z-Mail (5.0.0 30July97)
To: zsh-workers@sunsite.auc.dk
Subject: Re: :r modifier
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Dec 13,  2:03pm, Alexandre Duret-Lutz wrote:
} Subject: Re: :r modifier
}
} >>> "Bart" == Bart Schaefer <schaefer@candle.brasslantern.com> writes:
} 
}  Bart> Tcsh behaves the same, so I don't expect we'll be
}  Bart> changing it any time soon.
} 
} Oh, I didn't know this was a tcsh heritage (this can explain
} lots of things :o)).

Actually, it's likely straight 4.[23] BSD csh heritage, not via tcsh, but
I don't have a copy of 4.x BSD sitting around to confirm that.

} I believe this weakness makes :r error-prone (who *needs* to
} ignore slashes?).

You're assuming that :r is used exclusively on unix file-paths and should
employ unix file-path semantics, but parameter values are just strings.

Suppose we change it to pay attention to slashes.  Does that mean that on
cygwin it should also pay attention to backslashes?  Do we need to teach
:h/:t about the leading-double-slash convention for some networked file
systems?

} [To get] $MAIL:r, I have to write something like:
} 
} echo $MAIL:h/$MAIL:t:r
} (this assumes that the dirname is non-empty).

There's always ${MAIL%.[^/]#} ...

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

