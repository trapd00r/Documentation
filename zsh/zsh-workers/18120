From zsh-workers-return-18120-mason-zsh=primenet.com.au@sunsite.dk Wed Jan 15 17:16:17 2003
Return-Path: <zsh-workers-return-18120-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4243 invoked from network); 15 Jan 2003 17:16:15 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 15 Jan 2003 17:16:15 -0000
Received: (qmail 1817 invoked by alias); 15 Jan 2003 17:11:58 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 18120
Received: (qmail 19768 invoked from network); 15 Jan 2003 16:34:44 -0000
X-VirusChecked: Checked
X-Env-Sender: kiddleo@logica.com
X-Msg-Ref: server-7.tower-4.messagelabs.com!1042648456!11296
X-Authentication-Warning: iris.logica.co.uk: Host [158.234.142.11] claimed to be finches.logica.co.uk
From: Oliver Kiddle <okiddle@yahoo.co.uk>
To: Zsh workers <zsh-workers@sunsite.dk>
Subject: _call_program
Date: Wed, 15 Jan 2003 17:37:00 +0100
Message-ID: <3443.1042648620@finches.logica.co.uk>
Sender: kiddleo@logica.com

An undocumented feature of _call_program is, quoting Sven from 9897, that
"If the value of the style starts with a hyphen, it is only prepended
to the strings given as arguments."

I've never used this feature before but it doesn't quite do what I want
now. It prepends the strings so the command ends up as an argument to
your replacement command. I wanted to use the style to add extra
options to the command. I can't think of any situation where you might
want this command passed. So does anyone use this feature as it is and
does anyone mind if I apply the patch below?

Oliver

--- Completion/Base/Utility/_call_program	Mon Apr  2 13:13:47 2001
+++ Completion/Base/Utility/_call_program	Wed Jan 15 17:15:01 2003
@@ -4,7 +4,7 @@
 
 if zstyle -s ":completion:${curcontext}:${1}" command tmp; then
   if [[ "$tmp" = -* ]]; then
-    eval "$tmp[2,-1]" "$argv[2,-1]"
+    eval "$tmp[2,-1]" "$argv[3,-1]"
   else
     eval "$tmp"
   fi

This e-mail and any attachment is for authorised use by the intended recipient(s) only.  It may contain proprietary material, confidential information and/or be subject to legal privilege.  It should not be copied, disclosed to, retained or used by, any other party.  If you are not an intended recipient then please promptly delete this e-mail and any attachment and all copies and inform the sender.  Thank you.

