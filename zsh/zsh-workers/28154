From zsh-workers-return-28154-mason-zsh=primenet.com.au@zsh.org Thu Aug 12 16:05:27 2010
Return-Path: <zsh-workers-return-28154-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17923 invoked by alias); 12 Aug 2010 16:05:27 -0000
Mailing-List: contact zsh-workers-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Workers List <zsh-workers.zsh.org>
List-Post: <mailto:zsh-workers@zsh.org>
List-Help: <mailto:zsh-workers-help@zsh.org>
Delivered-To: mailing list zsh-workers@zsh.org
X-Seq: 28154
Received: (qmail 3445 invoked from network); 12 Aug 2010 16:05:21 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.9 required=5.0 tests=BAYES_00,RCVD_IN_DNSWL_NONE
	autolearn=ham version=3.3.1
Received-SPF: none (ns1.primenet.com.au: domain at closedmail.com does not designate permitted sender hosts)
From: Bart Schaefer <schaefer@brasslantern.com>
Message-id: <100812090454.ZM20149@torch.brasslantern.com>
Date: Thu, 12 Aug 2010 09:04:52 -0700
In-reply-to: <8762zf6fwo.fsf@ft.bewatermyfriend.org>
Comments: In reply to Frank Terbeck <ft@bewatermyfriend.org>
 "Re: segfault on menu-select" (Aug 12,  4:53pm)
References: <20100812144626.GI28144@ph>  <8762zf6fwo.fsf@ft.bewatermyfriend.org>
X-Mailer: OpenZMail Classic (0.9.2 24April2005)
To: zsh-workers@zsh.org
Subject: Re: segfault on menu-select
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii

On Aug 12,  4:53pm, Frank Terbeck wrote:
} Subject: Re: segfault on menu-select
}
} Philipp Hartwig wrote:
} > I have the line following line in my .zshrc:
} >> bindkey '^o' menu-select
} > The following sequence of keys will make zsh crash, provided that 
} > "gre<tab>" completes to "grep " on your system:
} > $ gre<tab><ctrl-o>
} [...]
} > I'd love to be of further assistance in tracking down what is going on 
} > in case the information I provided is not sufficient.
} 
} Can you reproduce this using CVS HEAD? Because I cannot from zsh -f

I can't reproduce either, which makes me suspect it has something to do
with either multibyte character sets (Philipp, what's your $LANG ?) or
a specific zstyle.

At that point in completion _grep "knows" that a pattern is expected
and does nothing unless you have configured your styles to display the
explanation:

schaefer<504> grep
Completing pattern

which comes from my style

zstyle ':completion:*' format '%SCompleting %U%d%u%s'

Philipp, do you use anything like that?

-- 

