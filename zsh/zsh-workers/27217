From zsh-workers-return-27217-mason-zsh=primenet.com.au@sunsite.dk Mon Aug 17 11:13:17 2009
Return-Path: <zsh-workers-return-27217-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 21283 invoked from network); 17 Aug 2009 11:13:05 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.4 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from new-brage.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.254.104)
  by ns1.primenet.com.au with SMTP; 17 Aug 2009 11:13:05 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 7618 invoked from network); 17 Aug 2009 11:12:56 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 17 Aug 2009 11:12:56 -0000
Received: (qmail 2439 invoked by alias); 17 Aug 2009 11:12:48 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 27217
Received: (qmail 2417 invoked from network); 17 Aug 2009 11:12:48 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 17 Aug 2009 11:12:48 -0000
Received: from cluster-g.mailcontrol.com (cluster-g.mailcontrol.com [208.87.233.190])
	by bifrost.dotsrc.org (Postfix) with ESMTPS id CA0CC8030813
	for <zsh-workers@sunsite.dk>; Mon, 17 Aug 2009 13:12:43 +0200 (CEST)
Received: from rly11g.srv.mailcontrol.com (localhost.localdomain [127.0.0.1])
	by rly11g.srv.mailcontrol.com (MailControl) with ESMTP id n7HBCbxD031944
	for <zsh-workers@sunsite.dk>; Mon, 17 Aug 2009 12:12:37 +0100
Received: from localhost.localdomain (localhost.localdomain [127.0.0.1])
	by rly11g.srv.mailcontrol.com (MailControl) id n7HBBebm023661
	for <zsh-workers@sunsite.dk>; Mon, 17 Aug 2009 12:11:40 +0100
Received: from cameurexb01.EUROPE.ROOT.PRI ([193.128.72.68])
	by rly11g-eth0.srv.mailcontrol.com (envelope-sender <Peter.Stephenson@csr.com>) (MIMEDefang) with ESMTP id n7HBBdj8023141; Mon, 17 Aug 2009 12:11:40 +0100 (BST)
Received: from news01 ([10.99.50.25]) by cameurexb01.EUROPE.ROOT.PRI with Microsoft SMTPSVC(6.0.3790.3959);
	 Mon, 17 Aug 2009 12:11:38 +0100
Date: Mon, 17 Aug 2009 12:11:33 +0100
From: Peter Stephenson <pws@csr.com>
To: "Zsh Hackers' List" <zsh-workers@sunsite.dk>
Cc: Aaron Davies <aaron.davies@gmail.com>
Subject: Re: Cygwin New User Issue?
Message-ID: <20090817121133.427648cb@news01>
In-Reply-To: <1B213508-B026-4632-8A06-B1D5FB1E2586@gmail.com>
References: <1B213508-B026-4632-8A06-B1D5FB1E2586@gmail.com>
Organization: CSR
X-Mailer: Claws Mail 3.5.0 (GTK+ 2.12.8; i386-redhat-linux-gnu)
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 17 Aug 2009 11:11:38.0454 (UTC) FILETIME=[7D965760:01CA1F2B]
X-Scanned-By: MailControl A-09-22-00 (www.mailcontrol.com) on 10.71.1.121
X-Virus-Scanned: ClamAV 0.94.2/9704/Mon Aug 17 03:54:29 2009 on bifrost
X-Virus-Status: Clean

On Tue, 11 Aug 2009 10:20:15 +0800
Aaron Davies <aaron.davies@gmail.com> wrote:
> Running zsh for the first time on a new install of cygwin, I noticed  
> the following error during the zsh-newuser-install process (retyped,  
> not pasted, so any typos are mine):
> 
> __zni_apply_defaults:99: command not found: parsed_keymaps[main]

The script's obviously wrong--thanks for noticing.  This stuff is less
frequently used than some of the other parts.

Index: Functions/Newuser/zsh-newuser-install
===================================================================
RCS file: /cvsroot/zsh/zsh/Functions/Newuser/zsh-newuser-install,v
retrieving revision 1.6
diff -u -r1.6 zsh-newuser-install
--- Functions/Newuser/zsh-newuser-install	18 Jul 2008 11:50:35 -0000	1.6
+++ Functions/Newuser/zsh-newuser-install	17 Aug 2009 10:55:43 -0000
@@ -348,7 +348,7 @@
     (-B)
     shift
     if [[ -z $state_keymaps[main] ]]; then
-      parsed_keymaps[main] = $1
+      parsed_keymaps[main]=$1
       if [[ $1 = none ]]; then
 	state_keymaps[main]="no value set"
       else


-- 
Peter Stephenson <pws@csr.com>            Software Engineer
Tel: +44 (0)1223 692070                   Cambridge Silicon Radio Limited
Churchill House, Cambridge Business Park, Cowley Road, Cambridge, CB4 0WZ, UK


'member of the CSR plc group of companies. CSR plc registered in England and Wales, registered number 4187346, registered office Churchill House, Cambridge Business Park, Cowley Road, Cambridge, CB4 0WZ, United Kingdom'

