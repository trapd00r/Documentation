From zsh-workers-return-12105-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Jun 28 09:41:54 2000
Return-Path: <zsh-workers-return-12105-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13273 invoked from network); 28 Jun 2000 09:41:52 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 28 Jun 2000 09:41:52 -0000
Received: (qmail 25407 invoked by alias); 28 Jun 2000 09:41:39 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 12105
Received: (qmail 25400 invoked from network); 28 Jun 2000 09:41:37 -0000
Date: Wed, 28 Jun 2000 11:41:34 +0200 (MET DST)
Message-Id: <200006280941.LAA32328@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: "Andrej Borsenkow"'s message of Wed, 28 Jun 2000 13:17:41 +0400
Subject: PATCH: Re: Case-insensitive conmpletion in configure


Andrej Borsenkow wrote:

> With this style
> 
> zstyle ':completion:*' matcher-list '' 'm:{a-z}={A-Z}' 'm:{a-z}={A-Z}
> r:|[._-]=* r:|=*' 'm:{a-z}={A-Z} r:|[.-]=** r:|=**'
> 
> and the following --help output of fetchmail configure
> 
> ...
> 
> I get
> 
> bor@itsrm2% CFLAGS=-O ./configure --prefix=/tools --en-ntTAB
> Completing no arguments
> 
> I'd expect it to complete --enable-NTLM?

Ugh. A bit of confusion about messages generated for one of the
intermediate match specs.

Bye
 Sven

Index: Completion/Core/_main_complete
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Core/_main_complete,v
retrieving revision 1.31
diff -u -r1.31 _main_complete
--- Completion/Core/_main_complete	2000/06/27 15:05:33	1.31
+++ Completion/Core/_main_complete	2000/06/28 09:40:07
@@ -144,6 +144,7 @@
 
   _matcher_num=1
   for _matcher in "$_matchers[@]"; do
+    _comp_mesg=
     if [[ -n "$call" ]]; then
       if "${(@)argv[3,-1]}"; then
         ret=0

--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

