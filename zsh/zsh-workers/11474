From zsh-workers-return-11474-mason-zsh=primenet.com.au@sunsite.auc.dk Sat May 20 16:43:35 2000
Return-Path: <zsh-workers-return-11474-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 27009 invoked from network); 20 May 2000 16:43:33 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 20 May 2000 16:43:33 -0000
Received: (qmail 12073 invoked by alias); 20 May 2000 16:43:26 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 11474
Received: (qmail 12054 invoked from network); 20 May 2000 16:43:25 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <1000520164242.ZM9347@candle.brasslantern.com>
Date: Sat, 20 May 2000 16:42:41 +0000
X-Mailer: Z-Mail (5.0.0 30July97)
To: zsh-workers@sunsite.auc.dk
Subject: TAB and PS2 and multiline buffers and vared
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

At either the PS2 prompt or in a multiline buffer, with the new completion
system enabled, typing TAB beeps and then inserts the tab.

Why does it beep?

The situation is different in vared (again with a multiline buffer).
Sometimes it beeps and then asks me whether I want to see all 2200
possiblities, other times it just beeps and refuses to insert anything.
Whether it asks or just beeps seems to depend on whether I started out
on vared of a value containing newlines (e.g. vared functions[foo] vs.
vared foo).

Sometimes after this happens the completion system gets into a state
where _complete_debug ceases to function properly.  I type ^X? and the
debug output goes to the file as expected, but _message doesn't work.
Also, `?' gets inserted because of compstate[insert]=tab, which is a bit
strange though not exactly wrong.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

