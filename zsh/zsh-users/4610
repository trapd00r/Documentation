From zsh-users-return-4610-mason-zsh=primenet.com.au@sunsite.dk Tue Jan 22 19:19:41 2002
Return-Path: <zsh-users-return-4610-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13808 invoked from network); 22 Jan 2002 19:19:40 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 22 Jan 2002 19:19:40 -0000
Received: (qmail 16212 invoked by alias); 22 Jan 2002 19:19:21 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4610
Received: (qmail 16198 invoked from network); 22 Jan 2002 19:19:20 -0000
Date: Tue, 22 Jan 2002 14:19:16 -0500
From: Anthony R Iano-Fletcher <Anthony.Iano-Fletcher@cbel.cit.nih.gov>
To: zsh-users@sunsite.dk
Subject: completion for rsync?
Message-ID: <20020122191915.GA25925@argo.cit.nih.gov>
Mail-Followup-To: zsh-users@sunsite.dk
Mime-Version: 1.0
Content-Type: multipart/mixed; boundary="X1bOJ3K7DJ5YkBrT"
Content-Disposition: inline
User-Agent: Mutt/1.3.25i


--X1bOJ3K7DJ5YkBrT
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline

Hello All,

	Does anyone have a new style completion function (_rsync) for rsync?
By the way, I made one for fping - maybe it could be added to the
distribution.

			Anthony.

-- 
Anthony R Iano-Fletcher        Anthony.Iano-Fletcher@nih.gov
                               http://cbel.cit.nih.gov/~arif
                               CBEL, CIT, NIH, Bethesda, MD, USA.
                               Phone: (+1) 301 402 1741.

--X1bOJ3K7DJ5YkBrT
Content-Type: text/plain; charset=us-ascii
Content-Disposition: attachment; filename=_fping

#compdef fping

local expl hosts

_arguments -C \
   '-a[show targets that are alive]:' \
   '-A[show targets by address]:' \
   '-v[show version]:' \
   '-b n[amount of ping data to send, in bytes (default 56)]:' \
   '-B f[set exponential backoff factor to f]:' \
   '-c n[count of pings to send to each target (default 1)]:' \
   '-C n[same as -c, report results in verbose format]:' \
   '-e[show elapsed time on return packets]:' \
   '-f[read list of targets from a file ( - means stdin)]:_file' \
   '-i n[interval between sending ping packets (in millisec) (default 25)]:' \
   '-l[loop sending pings forever]:' \
   '-m[ping multiple interfaces on target host]:' \
   '-n[show targets by name (-d is equivalent)]:' \
   '-p n[interval between ping packets to one target (in millisec) (in looping and counting modes, default 1000)]:' \
   '-q[quiet (dont show per-target/per-ping results)]:' \
   '-Q n[same as -q, but show summary every n seconds]:' \
   '-r n[number of retries (default 3)]:' \
   '-s[print final stats]:' \
   '-t n[individual target initial timeout (in millisec) (default 500)]:' \
   '-u[show targets that are unreachable]:' \
   && ret=0

if ! zstyle -a ":completion:${curcontext}:hosts" hosts hosts; then
  (( $+_cache_hosts )) ||
      : ${(A)_cache_hosts:=${(s: :)${(ps:\t:)${${(f)~~"$(</etc/hosts)"}%%\#*}##[:blank:]#[^[:blank:]]#}}}

  hosts=( "$_cache_hosts[@]" )
fi

_wanted hosts expl host \
    compadd -M 'm:{a-zA-Z}={A-Za-z} r:|.=* r:|=*' "$@" -a hosts


--X1bOJ3K7DJ5YkBrT--

