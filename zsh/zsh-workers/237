From zsh-workers-request@math.gatech.edu  Wed Jul 19 07:41:08 1995
Received: from gatech.edu (gatech.edu [130.207.244.244]) by werple.mira.net.au (8.6.12/8.6.9) with SMTP id HAA07441 for <mason@werple.mira.net.au>; Wed, 19 Jul 1995 07:41:05 +1000
Received: from math (math.skiles.gatech.edu) by gatech.edu with SMTP id AA07913
  (5.65c/Gatech-10.0-IDA for <mason@werple.mira.net.au>); Tue, 18 Jul 1995 17:41:53 -0400
Received: by math (5.x/SMI-SVR4)
	id AA08990; Tue, 18 Jul 1995 17:38:05 -0400
Resent-Date: Tue, 18 Jul 1995 22:31:42 +0100 (BST)
Old-Return-Path: <zefram@dcs.warwick.ac.uk>
From: Zefram <A.Main@dcs.warwick.ac.uk>
Message-Id: <12476.199507182131@stone.dcs.warwick.ac.uk>
Subject: Re: Compctl fixes & a query
To: zsh-workers@math.gatech.edu (Z Shell workers mailing list)
Date: Tue, 18 Jul 1995 22:31:42 +0100 (BST)
In-Reply-To: <3430.9507181027@pyro.swan.ac.uk> from "P.Stephenson@swansea.ac.uk" at Jul 18, 95 11:27:40 am
X-Loop: zefram@dcs.warwick.ac.uk
X-Stardate: [-31]5999.48
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-Id: <"OCzEu.0.OC2.yc23m"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/237
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

>I'm not keen on this either, it's just too long for a short cut.
>Furthermore, on this keyboard ~ and + are at opposite ends of the
>keyboard.  I can do both with a left shift or right shift but it's a
>little messy.  I'm not very accurate with touch-typing the top row and
>this maximises the difficulty.

Yes.  I suppose it will have to be ~n rather than ~+n, or maybe both
could be available.  It would just be very neat to have only ~+whatever
and ~-whatever treated specially.

>It shouldn't be too cumbersome to check for a row of numbers followed
>by either a slash or the end of the word.  Presumably named
>directories are going to have to take priority anyway in case there
>are numeric user names (and on the basis that if you put it there, you
>want it back again).

There's a slight problem there if a numeric username clashes with a
directory stack reference.  Unless anyone has any major objections,
then when the next testing/beta release is made I'll code the following
semantics:

o It will not be possible to add a directory name starting with +, - or
  a digit to the hash table;

o When a directory is looked up for %~ prompt sequences and similar,
  only entries in the hash table will be used (this is actually what is
  currently done);

o When a ~ sequence is expanded, anything starting with +, - or a digit
  will not be looked up in the hash table, though the empty sequence
  (i.e. ~/whatever) will be;

o ~+ and ~- will be as they are now, ~n will refer to what =n currently
  refers to regardless of PUSHD_MINUS (is this what was meant by
  "absolute" stack references?), and (this is the only really new bit,
  does anyone want it?) ~+n and ~-n will refer to directory stack
  entries in accordance with PUSHD_MINUS.

-zefram

