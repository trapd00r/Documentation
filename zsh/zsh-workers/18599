From zsh-workers-return-18599-mason-zsh=primenet.com.au@sunsite.dk Tue Jun 03 16:55:12 2003
Return-Path: <zsh-workers-return-18599-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10773 invoked from network); 3 Jun 2003 16:55:12 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 3 Jun 2003 16:55:12 -0000
Received: (qmail 27985 invoked by alias); 3 Jun 2003 16:55:07 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 18599
Received: (qmail 27978 invoked from network); 3 Jun 2003 16:55:07 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 3 Jun 2003 16:55:07 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [205.158.62.78] by sunsite.dk (MessageWall 1.0.8) with SMTP; 3 Jun 2003 16:55:6 -0000
Received: (qmail 32609 invoked from network); 3 Jun 2003 16:55:04 -0000
Received: from unknown (HELO DAEMON.Programmer.net) (dirus:programmer.net?iname.com@68.107.134.11)
  by 205-158-62-78.outblaze.com with SMTP; 3 Jun 2003 16:55:04 -0000
Message-Id: <5.2.1.1.0.20030531101708.025fcc78@valenzud.inbox.email.arizona.edu>
X-Sender: dirus:programmer.net#iname.com@pop1.mail.com
X-Mailer: QUALCOMM Windows Eudora Version 5.2.1
Date: Tue, 03 Jun 2003 09:55:04 -0700
To: zsh-workers@sunsite.dk
From: Dirus <Dirus@Programmer.net>
Subject: prompt themes
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed

I had been playing around with prompt themes a bit and I noticed a couple 
of things.

prompt_X_preview doesn't print the first or last blank line.  This means 
the person writing the prompt theme would have to print the blank lines 
between sample settings without printing the first or last.  Whoever is 
writing the function also has to check "if (( ! $#* ));" to see if the user 
passed in any parameters himself.  Each prompt_X_preview function will have 
a lot of duplicate code.

In the interest of consolidating all of the code and logic to one place and 
also to make it easier for a person to set up a preview for their theme, 
I'd like to create a patch for the prompt theming (and it's themes) that 
that causes prompt_X_preview to return a list of settings in $reply (or 
$REPLY).  (Is the lowercase preferred for an array of values?)

Ideally prompt_X_preview would look like this:
prompt_X_preview() {
   reply=' singleparameter "param1 param2" "param1 param2" '
}

Also prompt_X_help could also be changed to set $reply for consistency sake.

Anyone interested in seeing this?  Is it best to just send the diffs to the 
mailing list?  There would be a lot of them, one for each prompt theme and 
one for promptinit.

-Dirus

