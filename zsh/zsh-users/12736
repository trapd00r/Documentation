From zsh-users-return-12736-mason-zsh=primenet.com.au@sunsite.dk Fri Mar 28 11:16:58 2008
Return-Path: <zsh-users-return-12736-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18186 invoked from network); 28 Mar 2008 11:16:57 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.4 (2008-01-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.2 required=5.0 tests=BAYES_00,PLING_QUERY
	autolearn=no version=3.2.4
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 28 Mar 2008 11:16:57 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 97244 invoked from network); 28 Mar 2008 11:16:45 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 28 Mar 2008 11:16:45 -0000
Received: (qmail 2644 invoked by alias); 28 Mar 2008 11:16:37 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 12736
Received: (qmail 2625 invoked from network); 28 Mar 2008 11:16:37 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 28 Mar 2008 11:16:37 -0000
Received: from hs-out-0708.google.com (hs-out-0708.google.com [64.233.178.245])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 4C60982CD273
	for <zsh-users@sunsite.dk>; Fri, 28 Mar 2008 12:16:31 +0100 (CET)
Received: by hs-out-0708.google.com with SMTP id 23so173996hsn.13
        for <zsh-users@sunsite.dk>; Fri, 28 Mar 2008 04:16:30 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        bh=JZ3HCVPe1mM2NkyH//utXSBvBiCUJRtjLOjiqXCz7Lw=;
        b=RKGdtcfpllx6Sej+m8RwfmAUpVbe+r639hb21J4+JhFbFTxfIDzuVQxVbXbLF+BsAtfUrZff5dN5umwNh4Sg18iAOjPfsdH/y82BjaQdYSiUf+W9OwX60YznVck8sdwJIy8MYsFSukNy9u+IZkH5Qglrs+yTFnNsGlUAfSX3ZcU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=nf3Rz5/QHUnf3eeyMPQXYUMSTQ6ZvffyqclfThktSZY0QTR7zJTikdnPJeLQ3PMj4VjfPT6ePIegyftbcwLdbhFuDsOBL++gN7+rVC8wABwDzzrjEOrJZK+a9E+cj4i8mfPrb5ZiUV9UfpWlozUTjTHtApPVjRHrpVMyHDEQ7i0=
Received: by 10.141.141.3 with SMTP id t3mr1258698rvn.52.1206702989185;
        Fri, 28 Mar 2008 04:16:29 -0700 (PDT)
Received: by 10.140.127.7 with HTTP; Fri, 28 Mar 2008 04:16:29 -0700 (PDT)
Message-ID: <237967ef0803280416i5fb3c573g3e78ba33e1679e8a@mail.gmail.com>
Date: Fri, 28 Mar 2008 12:16:29 +0100
From: "Mikael Magnusson" <mikachu@gmail.com>
To: "Atom Smasher" <atom@smasher.org>
Subject: Re: /bin/sh is spawned - wtf?!?!?
Cc: zsh-users@sunsite.dk
In-Reply-To: <20080328105958.92845.qmail@smasher.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <20080328105958.92845.qmail@smasher.org>
X-Virus-Scanned: ClamAV 0.91.2/6436/Fri Mar 28 11:24:05 2008 on bifrost
X-Virus-Status: Clean

On 28/03/2008, Atom Smasher <atom@smasher.org> wrote:
> from zshmisc:
>         "If execution fails because the file is not in executable format,
>  and the file is not a directory, it is assumed to be a shell script.
>  /bin/sh is spawned to execute it."
>
>  uummm.... for security reasons, shouldn't there be an option to disable
>  that behavior and just return an error?

If you're worried about security, you probably shouldn't try to
execute files without looking at them first. Note that it says 'not in
executable format', and not 'does not have the executable permission
bit set'.

-- 
Mikael Magnusson

