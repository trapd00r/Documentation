From zsh-users-return-13625-mason-zsh=primenet.com.au@sunsite.dk Sat Jan 03 10:02:15 2009
Return-Path: <zsh-users-return-13625-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1243 invoked from network); 3 Jan 2009 10:02:03 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 3 Jan 2009 10:02:03 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 98511 invoked from network); 3 Jan 2009 10:01:47 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 3 Jan 2009 10:01:47 -0000
Received: (qmail 18819 invoked by alias); 3 Jan 2009 10:01:29 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 13625
Received: (qmail 18801 invoked from network); 3 Jan 2009 10:01:28 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 3 Jan 2009 10:01:28 -0000
Received: from elektron.atoom.net (unknown [85.223.101.5])
	by bifrost.dotsrc.org (Postfix) with ESMTP id A071080308BE
	for <zsh-users@sunsite.dk>; Sat,  3 Jan 2009 11:01:25 +0100 (CET)
Received: from elektron.atoom.net (elektron.atoom.net [127.0.0.1])
	by elektron.atoom.net (Postfix) with ESMTP id 0140E3000A12
	for <zsh-users@sunsite.dk>; Sat,  3 Jan 2009 11:01:25 +0100 (CET)
Received: by elektron.atoom.net (Postfix, from userid 1000)
	id EA91E3000A10; Sat,  3 Jan 2009 11:01:24 +0100 (CET)
Date: Sat, 3 Jan 2009 11:01:24 +0100
From: Miek Gieben <miek@miek.nl>
To: zsh users <zsh-users@sunsite.dk>
Subject: bindkey and vi mode question
Message-ID: <20090103100124.GA5448@miek.nl>
Mail-Followup-To: zsh users <zsh-users@sunsite.dk>
MIME-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-sha1;
	protocol="application/pgp-signature"; boundary="6TrnltStXW4iwmi0"
Content-Disposition: inline
User-Agent: Vim/Mutt/Linux
X-Home: www.miek.nl
X-AV-Checked: ClamAV using ClamSMTP (elektron.atoom.net)
X-Virus-Scanned: ClamAV 0.92.1/8831/Sat Jan  3 05:21:55 2009 on bifrost
X-Virus-Status: Clean


--6TrnltStXW4iwmi0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

Hello,

It seems some of my keybindings are not activated for some
reason. From what I've read you must make sure that the
right keymap is selected. In my case this is 'viins'.
EDITOR is set to 'vim'.

Next I have a small file which is sourced from .zprofile,
in this file I have (among other stuff):

autoload -U history-search-end
zle -N history-beginning-search-backward-end history-search-end
zle -N history-beginning-search-forward-end history-search-end
bindkey -M vicmd "^[[A" history-beginning-search-backward-end
bindkey -M vicmd "^[[B" history-beginning-search-forward-end
bindkey -M viins "^[[A" history-beginning-search-backward-end
bindkey -M viins "^[[B" history-beginning-search-forward-end

I'm *sure* the file is sourced when I log in, because I tested
this with some echo's.

Now, when I open a new terminal:

% bindkey|grep history-beginning                  =20
<nothing>

% source .zsh/.zkeys         =20
"^[[A" history-beginning-search-backward-end
"^[[B" history-beginning-search-forward-end

This also happens when .zkeys is sourced last in my .zprofile.

What I'm I doing wrong? Thanks for any pointers.

Kind regards,

--
 --Miek                               =20

--6TrnltStXW4iwmi0
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: Digital signature
Content-Disposition: inline

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)

iD8DBQFJXzd0JYuFzziA0PYRAvyVAKCyay76VxJORVExihaSzaT2CnO/lACfY+Yo
Z04HDBP7CJPm8v3HhxMuiWo=
=cC6u
-----END PGP SIGNATURE-----

--6TrnltStXW4iwmi0--

