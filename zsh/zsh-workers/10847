From zsh-workers-return-10847-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Apr 19 19:23:00 2000
Return-Path: <zsh-workers-return-10847-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8786 invoked from network); 19 Apr 2000 19:22:58 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 19 Apr 2000 19:22:58 -0000
Received: (qmail 18610 invoked by alias); 19 Apr 2000 19:22:51 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 10847
Received: (qmail 18585 invoked from network); 19 Apr 2000 19:22:48 -0000
To: zsh-workers@sunsite.auc.dk (Zsh hackers list)
Subject: 3.1.7-pre-1 for the workers
Date: Wed, 19 Apr 2000 20:22:42 +0100
From: Peter Stephenson <pws@pwstephenson.fsnet.co.uk>
Message-Id: <E12i03c-0002Ly-00.2000-04-19-20-22-41@cmailg2.svr.pol.co.uk>

Here's are the changes since the previous version.  Now's the time to hunt
down all those unfutureproofed tests in your startup scripts containg
`if [[ $ZSH_VERSION = 3.1.6* ]]'.

Apart from the configuration, it includes a couple of extra test files,
which I didn't post since they are entirely new.  I was going to write a
test for interactive history using zpty until I realised I didn't have the
slightest idea how to.


2000-04-19  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Config/version.mk: 3.1.7-pre-1

	* Functions/Misc/.distfiles: add zstyle+.

	* Test/.distfiles, Test/12procsubst.ztst, Test/13parameter.ztst,
	Test/ztst.zsh: new tests; use null glob clearing up.

2000-04-19  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* Ollivier Robert: 10844: prefer curses to termcap on HPUX 11
	like 10.

2000-04-19  Oliver Kiddle  <opk@zsh.org>

	* 10833: Completion/Builtins/_print, Completion/Builtins/.distfiles,
	Completion/Builtins/_nothing: new print completion, no arguments to
	clear and logname

2000-04-19  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 10830: Doc/Makefile.in: don't force dvips to use 300 dpi.

2000-04-19  Sven Wischnowsky  <wischnow@informatik.hu-berlin.de>

	* 10828: Src/module.c, Src/Zle/zle_tricky.c: ensure zsh/compctl
 	(ick!) module is loaded when zle is loaded from init file but
 	zsh/complete isn't
	
	* 10816: Completion/Core/_main_complete, Doc/Zsh/compsys.yo,
 	Doc/Zsh/mod_complist.yo, Src/Zle/complist.c: default for
 	list-prompt style, %[MLP] use fixed-width strings, %[mlp] use
 	variable-width strings
	
2000-04-18  Sven Wischnowsky  <wischnow@informatik.hu-berlin.de>

	* 10812: Completion/Core/_path_files: fix completion after ~<num>
	
2000-04-18  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 10808: Completion/Core/compinstall: handle list-prompt.

	* 10802: Doc/Zsh/mod_complist.yo: typo

2000-04-18  Sven Wischnowsky <wischnow@informatik.hu-berlin.de>

	* 10807: Completion/Base/_value: change suffix added when
 	completing an assigned value
	
	* 10801: Completion/Builtins/_zstyle, Completion/Core/_main_complete,
 	Doc/Zsh/compsys.yo, Doc/Zsh/compwid.yo, Doc/Zsh/mod_complist.yo,
 	Src/Zle/complist.c: completion list scrolling cleanup; *STATUS
 	renamed to *PROMPT, styles for new used parameters, use local
 	keymap when waiting at list-prompt
	
	* 10799: Src/text.c: fix to get newlines in non-job-texts (I'm
 	sooo stupid)
	
	* 10798: Src/Zle/compmatch.c: join_clines() tested the wrong
 	variable
	
2000-04-17  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 10789: Doc/Zsh/expn.yo: better documentation for <(...) and
	>(...) implementations and their drawbacks.

	* Chmouel: 10772: Completion/Linux/_rpm:  --target support.

2000-04-17  Sven Wischnowsky <wischnow@informatik.hu-berlin.de>

	* 10795: Functions/Misc/zstyle+: simplify definiton of styles

	* 10790: Doc/Zsh/mod_complist.yo, Src/params.c, Src/Zle/compcore.c,
 	Src/Zle/complete.c, Src/Zle/complist.c, Src/Zle/compresult.c,
 	Src/Zle/zle_tricky.c, Src/Zle/zle_utils.c: scrolling in completion
 	lists and menu-selection, version1
	
	* 10788: Src/text.c: display newlines as spaces in job-texts
	
	* 10782: Src/Zle/computil.c: fix for exclusion lists for -+o
 	specifications
	
	* 10780: Completion/Base/_default, Completion/Base/_value,
 	Completion/Builtins/_vars_eq, Completion/Builtins/_zstyle,
 	Doc/Zsh/compsys.yo: better completion after `=', everywhere
	
	* 10775: Completion/Core/_description, Completion/Core/_path_files,
 	Completion/Core/_tags, Src/Zle/computil.c: make _tags use C-code
 	for braces in tag-order values; and misc. stuff
	
	* 10774: Src/Zle/compmatch.c: fix for partial word completion with
 	empty parts and common suffix
	
2000-04-16  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 10771: Etc/MACHINES: successful compilation on OpenBSD, from
	Anthony Schneider.

	* 10771: Doc/Zsh/builtins.yo, Doc/Zsh/options.yo, Src/builtin.c,
	Src/options.c, Src/zsh.h: New option GLOBAL_EXPORT set by default
	makes typeset -x equivalent to typeset -gx.

2000-04-15  Clint Adams  <schizo@debian.org>

	* 10768: configure.in: DLLDFLAGS for OpenBSD.

2000-04-14  Clint Adams  <schizo@debian.org>

	* 10764: Radim Kolar: Functions/Misc/run-help: support
	for reserved words and multiple arguments being passed
	on to man.

	* 10763: Completion/Builtins/_vars_eq: complete after :

2000-04-14  Sven Wischnowsky <wischnow@informatik.hu-berlin.de>

	* 10760: Completion/User/_diff_options: just some missing `+'s

2000-04-14  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 10756, 10761: Doc/Zsh/expn.yo, Src/glob.c, Src/pattern.c,
	Src/zsh.h: fix (#s) and (#e) to work in allerlei parameter
	substitutions; fix potential problem with (#e) in exclusions; note
	things in manual which should work.

2000-04-13  Clint Adams  <schizo@debian.org>

	* 10748: configure.in: set MAXJOB to whatever you want.

	* 10745: acconfig.h, configure.in, Src/zsh.h: set MAXJOB
	to MAX_TASKS_PER_USER if available under Linux.

2000-04-13  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 10743: Src/params.c: replenv() failed importing special params
	at start up because it was using the wrong environment block.

	* 10738: Doc/Zsh/builtins.yo, Doc/Zsh/params.yo, Src/builtin.c,
	Src/params.c: local parameters can be exported; typeset +g -x
	and local -x work in a natural way; currently typeset -g still
	behaves like typeset -gx.

2000-04-13  Sven Wischnowsky <wischnow@informatik.hu-berlin.de>

	* 10733: Completion/Builtins/_pids, Completion/User/_killall,
 	Doc/Zsh/compsys.yo: remove the `pids' tag, use `processes' instead
	
	* 10727: Src/builtin.c: make read -[kq] always print the prompt,
 	if any; after all they make sure they have a terminal anyway
	
	* 10726: Src/hashtable.c: fix field name for HAVE_NIS_PLUS
	
	* 10725: Src/Zle/compcore.c, Src/Zle/compctl.c,
 	Src/Zle/compresult.c: comment the `#if's for group numbers in
 	$compstate[insert]
	
	* 10724: Src/Zle/compresult.c, Src/Zle/zle_tricky.c: display
 	number of matches again when asking if a completion list should be
 	shown (only when not zero)
	
2000-04-12  Bart Schaefer  <schaefer@zsh.org>

	* 10706: Andrej: Completion/User/_man: Fix quoting in awk args.

2000-04-12  Oliver Kiddle  <opk@u.genie.co.uk>

	* 10701: Completion/Builtins/_bindkey, Doc/Zsh/mod_zle.yo:
	use _arguments for bindkey completion and fix typo in docs

2000-04-12  Bart Schaefer  <schaefer@zsh.org>

	* 10700: Andrej: Completion/User/_man: Support for Pyramid.

2000-04-12  Sven Wischnowsky <wischnow@informatik.hu-berlin.de>

	* 10699: Src/parse.c, Src/zsh.h: compare mapped zwc files using
 	stat instead of the pathnames
	
	* 10695: Completion/Core/_files, Completion/Core/_tags,
 	Doc/Zsh/compsys.yo: allow brace expansion on patterns for
 	file-patterns and tag-order
	
	* 10692: Src/builtin.c: missing initialisation for next field in
 	assignments for substitutions for fc builtin

	* 10691: Completion/Core/_main_complete, Completion/Core/_oldlist:
 	keep _oldlist from using the dummy match inserted for warnings
	
	* 10690: Doc/Zsh/compwid.yo, Src/Zle/compcore.c, Src/Zle/compctl.c,
 	Src/Zle/compresult.c: comment out the code to allow
 	$compstate[insert] to select the group
	
	* 10686: Src/Zle/compresult.c, Src/Zle/zle_tricky.c: display
 	number of lines instead of number of matches when asking whether
 	to show completion lists
	
	* 10685: Doc/Zsh/zle.yo, Src/hist.c, Src/Modules/parameter.c,
 	Src/Zle/iwidgets.list, Src/Zle/zle_misc.c: new widget
 	copy-prev-shell-word, like copy-prev-word but uses shell parsing
 	to find word
	
2000-04-11  Clint Adams  <schizo@debian.org>

	* 10680: Completion/User/_diff_options: spelling corrections.

2000-04-11  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 10669: Completion/Core/compinstall:  will now ask for
	alternative files both for input and output.

2000-04-11  Bart Schaefer  <schaefer@zsh.org>

	* 10681: Completion/Commands/_complete_help: Setopts the same
	as _main_complete.

	* 10657: Completion/User/_make: One change missed in 10635.

	* Functions/Prompts/prompt_bart_setup: No-op cleanup.

2000-04-11  Sven Wischnowsky <wischnow@informatik.hu-berlin.de>

	* 10650: Completion/Core/_files: make trailing blanks in
 	file-patterns tags be removed
	
	* 10648: Completion/Core/_oldlist: make _oldlist ignore old list
 	when _complete_help is used
	
	* 10641: Completion/Core/_approximate, Completion/Core/_match,
 	Completion/Core/_oldlist: make _oldlist ignore list from
 	_complete_help; _match runs for every match spec from
 	matcher-list; _approximate doesn't redefine compadd if that is
 	already a function
	
	* 10635: Completion/User/_make: _make uses $words[1] for command
 	name
	
	* 10632: Completion/Base/_brace_parameter, Completion/Base/_condition,
 	Completion/Base/_default, Completion/Base/_describe,
 	Completion/Base/_first, Completion/Base/_jobs,
 	Completion/Base/_values, Completion/Builtins/_compdef,
 	Completion/Builtins/_hash, Completion/Builtins/_pids,
 	Completion/Builtins/_popd, Completion/Builtins/_sched,
 	Completion/Builtins/_signals, Completion/Builtins/_vars,
 	Completion/Builtins/_zcompile, Completion/Builtins/_zftp,
 	Completion/Builtins/_zpty, Completion/Builtins/_zstyle,
 	Completion/Commands/_next_tags, Completion/Core/_all_labels,
 	Completion/Core/_files, Completion/Core/_next_label,
 	Completion/Core/_requested, Completion/Core/_wanted,
 	Completion/Debian/_apt, Completion/Debian/_deb_packages,
 	Completion/User/_cvs, Completion/User/_gdb,
 	Completion/User/_gprof, Completion/User/_groups,
 	Completion/User/_lp, Completion/User/_mh, Completion/User/_mount,
 	Completion/User/_netscape, Completion/User/_nslookup,
 	Completion/User/_rlogin, Completion/User/_socket,
 	Completion/User/_tiff, Completion/User/_urls,
 	Completion/User/_users, Completion/User/_users_on,
 	Completion/User/_whois, Completion/X/_x_colormapid,
 	Completion/X/_x_display, Completion/X/_x_extension,
 	Completion/X/_x_font, Completion/X/_x_keysym,
 	Completion/X/_x_window, Completion/X/_xmodmap,
 	Completion/X/_xutils, Completion/X/_xwit, Doc/Zsh/compsys.yo,
 	Etc/completion-style-guide, Functions/Zftp/zfcd_match,
 	Functions/Zftp/zfget_match, Src/Zle/computil.c: _wanted now tests
 	both tags and labels; change places where _wanted was called
 	without a command; allow multiple patterns per string in
 	file-patterns; update _next_tags to work with labels
	
2000-04-10  Bart Schaefer  <schaefer@zsh.org>

	* 10628: Doc/Zsh/compsys.yo, Completion/User/_make: Check for
	GNU make using "_call version ..." as was done for GNU diff.

2000-04-10  Sven Wischnowsky <wischnow@informatik.hu-berlin.de>

	* 10625: Src/parse.c, Src/signals.c: detect ignored signals
 	correctly
	
	* 10622: Completion/Core/_files: typo caused ignored-patterns to
 	be ignored
	
	* 10621: Src/Zle/zle_tricky.c: addx() inserts x more often
	
	* 10620: Src/exec.c: properly restore scriptname in doshfunc()

	* users/3019: Completion/Core/_path_files: use special-dirs with
 	_path_files -g
	
	* 10614: Src/Modules/parameter.c: more careful with checking index
 	of $history
	
	* 10609: Src/Zle/compcore.c, Src/Zle/compresult.c, Src/Zle/zle_tricky.c:
 	fix for bashautolist+automenu
	
2000-04-09  Bart Schaefer  <schaefer@zsh.org>

	* 10606: Fix thinko in 10598.

	* 10602: Completion/Core/compinstall: Fix typo.

	* 10598: Completion/Builtins/_zstyle, Doc/Zsh/compsys.yo:
	Fix typo; reformat styles documentation for readability.

-- 
Peter Stephenson <pws@pwstephenson.fsnet.co.uk>
Work: pws@CambridgeSiliconRadio.com
Web: http://www.pwstephenson.fsnet.co.uk

