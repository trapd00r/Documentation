From zsh-users-return-3166-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Jun 15 03:28:09 2000
Return-Path: <zsh-users-return-3166-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 15043 invoked from network); 15 Jun 2000 03:28:08 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 15 Jun 2000 03:28:08 -0000
Received: (qmail 5215 invoked by alias); 15 Jun 2000 03:27:56 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 3166
Received: (qmail 5208 invoked from network); 15 Jun 2000 03:27:56 -0000
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <14664.19769.64255.63300@hatchet.fc.hp.com>
Date: Wed, 14 Jun 2000 21:27:53 -0600 (MDT)
From: Matthew Lovell <lovell@fc.hp.com>
To: "zsh-users@sunsite.auc.dk" <zsh-users@sunsite.auc.dk>
Subject: Re: double-listing with completion?
In-Reply-To: <14664.19347.582868.303929@hatchet.fc.hp.com>
References: <14664.19347.582868.303929@hatchet.fc.hp.com>
X-Mailer: VM 6.75 under 21.1 (patch 9) "Canyonlands" XEmacs Lucid
Sender: lovell@hatchet.fc.hp.com

On 14 June 2000, Matthew Lovell writes:
 > 
 > If I follow the example given in the User Guide,
 > 
 >  zstyle ':completion:*:descriptions' format 'Completing %d'
 >  zstyle ':completion:*' group-name ''
 > 
 > and then try "ls <complete>", I end up with a double-listing of
 > completions:
 > 
 > lovell@mblhome:~
 > % ls
 > Completing file
 > Chess  Desktop  Mail  Office50  autosave  axhome  bin  lale  misc
 > Completing file
 > Chess  Desktop  Mail  Office50  autosave  axhome  bin  lale  misc

Sorry to answer my own email...

Ah, I think it's being caused by another zstyle command (this one came
from the man pages)

  zstyle ':completion:*' file-patterns \
    '%p:globbed-files *(-/):directories' '*:all-files'

A somewhat odd interaction!  Generally, I liked that example a lot.
I've always wanted the ability to do something like

   gv path/down/to<complete>

and get completion for paths and then just get completion for *.ps at
the end.  Perhaps I can restrict that last zstyle to everything but
the ls command.

  Matt

-- 
Matthew Lovell
HP Technical Solutions Lab
mailto:lovell@fc.hp.com

