From zsh-users-return-2982-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Mar 27 18:50:12 2000
Return-Path: <zsh-users-return-2982-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8868 invoked from network); 27 Mar 2000 18:50:10 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 27 Mar 2000 18:50:10 -0000
Received: (qmail 10626 invoked by alias); 27 Mar 2000 18:49:31 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 2982
Received: (qmail 10589 invoked from network); 27 Mar 2000 18:49:26 -0000
Date: Mon, 27 Mar 2000 20:49:25 +0200
From: Sven Guckes <guckes@math.fu-berlin.de>
To: ZShell Users <zsh-users@sunsite.auc.dk>
Subject: color prompts and $' evaluation - zsh-3.1.4 required?
Message-ID: <20000327204925.A9758@ritz.math.fu-berlin.de>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
User-Agent: Mutt/1.1.2i

The ZSH FAQ from 23rd March 2000 mentions how to set your prompt
to get colors.  It says that evaluation with "$'" is required.
I found that this works with zsh-3.1.4 but not with zsh-3.1.2.
I think a note about the required version is needed -
it makes people upgrade, you know.  ;-)

Sven

===
3.25: How do I get coloured prompts on my colour xterm?

(Or `color xterm', if you're reading this in black and white.)  You need to
find the sequences which generate the various colours from the manual;
these are ANSI standard on the terminal emulators I know about which
support colour.  With a recent (post 3.1.6) distribution of zsh, there is a
theme system to handle this for you; even if you don't see that, the
installed function ``colors'' (meaning `colours', if you're not reading
this in black and white) gives the escape sequences.  You will end up with
code looking like this (borrowed from Oliver Kiddle):

  PS1=$'%{\e[1;31m%}<the rest of your prompt here>%{\e[0m%}'

The `$'' form of quoting turns the ``\e'' into a real escape
character.  The ``%{...%}'' is used in prompts for strings which will
not appear as characters, so that the prompt code doesn't miscalculate
the length of the prompt which would have a bad effect on editing.
The resulting ``<ESC>[1;31m'' makes the prompt red, and the ``<ESC>[0m''
puts printing back to normal so that the rest of the line is unchanged.

