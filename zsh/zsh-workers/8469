From zsh-workers-return-8469-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Oct 28 06:59:11 1999
Return-Path: <zsh-workers-return-8469-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5378 invoked from network); 28 Oct 1999 06:59:09 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 28 Oct 1999 06:59:09 -0000
Received: (qmail 21600 invoked by alias); 28 Oct 1999 06:58:58 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 8469
Received: (qmail 21593 invoked from network); 28 Oct 1999 06:58:57 -0000
Date: Thu, 28 Oct 1999 08:58:56 +0200 (MET DST)
Message-Id: <199910280658.IAA17277@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: "Bart Schaefer"'s message of Wed, 27 Oct 1999 16:39:03 +0000
Subject: Re: PATCH: completion


Bart Schaefer wrote:

> On Oct 27, 10:42am, Sven Wischnowsky wrote:
> } Subject: Re: PATCH: completion
> }
> } No, the output of `functions' isn't changed (of course).
> 
> Oh, I thought you said it was.  You meant the value of $functions, then?
> That's not so bad, but you could still get unexpected effects.

Yep, I have to start putting `$'s before parameter names...

> } Right. Hadn't thought about that either. But in a fully static shell,
> } wouldn't it a bit surprising when, for example, parameters just appear 
> } because they are used (because they were `autoloaded')?
> 
> That's what I meant about "require some changes to the way zmodload and
> static modules work."  Basically, I want the modules linked in, but not
> initialized until an actual "zmodload" is attempted on them.  This is
> not the same as the current auto-autoloading.

I almost thought so. What I was worrying about is exactly these auto-
autoloaded modules (and we where talking about those). People who
don't want to use the new completion stuff probably don't want to see
the parameters from the modules either. But to get the same behavior
in dynamic and static shells we have to make them available without an 
extra call to `zmodload'.
But still, we could try to make `zmodload module' and `zmodload -u module'
work in static shells, making them show and hide the stuff the module
offers. Auto-autoloaded modules would then start up in the `show' state.

Bye
 Sven


--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

