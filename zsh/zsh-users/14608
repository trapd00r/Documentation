From zsh-users-return-14608-mason-zsh=primenet.com.au@zsh.org Wed Nov 25 16:46:43 2009
Return-Path: <zsh-users-return-14608-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2796 invoked by alias); 25 Nov 2009 16:46:43 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 14608
Received: (qmail 1882 invoked from network); 25 Nov 2009 16:46:40 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.5
Received-SPF: none (ns1.primenet.com.au: domain at wordbank.com does not designate permitted sender hosts)
X-Virus-Scanned: Debian amavisd-new at assassin.wordbank.com
Message-ID: <4B0D5E30.7010505@wordbank.com>
Date: Wed, 25 Nov 2009 16:41:20 +0000
From: john_oshea@wordbank.com
User-Agent: Thunderbird 2.0.0.23 (Macintosh/20090812)
MIME-Version: 1.0
To: zsh-users@zsh.org
Subject: Best way to test for zsh features?
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Server: VPOP3 V1.5.4 - Registered

Hi all,

What's the best/cleanest/most "correct" way of checking for zsh features 
in an .zshrc? I've started to use vcs_info as part of my prompt, which 
works wonderfully in zsh's new enough to have that available, but gives 
me "function definition file not found" on machines with older zsh 
installations (that I'm unable to upgrade).

Testing $ZSH_VERSION springs to mind, but I'm wondering if there's a way 
to do the equivalent of vim's "has('feature_x')" to see if the zsh I'm 
in has vcs_info available?

Apologies in advance if I'm missing something very obvious...


Thanks

John

-- 
John O'Shea
Wordbank Limited
33 Charlotte Street, London W1T 1RR
Direct line: +44 (0) 20 7903 8829
Fax: +44 (0) 20 7903 8888
<http://www.wordbank.com/>

