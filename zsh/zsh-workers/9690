From zsh-workers-return-9690-mason-zsh=primenet.com.au@sunsite.auc.dk Sat Feb 12 05:03:21 2000
Return-Path: <zsh-workers-return-9690-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 19906 invoked from network); 12 Feb 2000 05:03:19 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 12 Feb 2000 05:03:19 -0000
Received: (qmail 3860 invoked by alias); 12 Feb 2000 05:03:11 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 9690
Received: (qmail 3849 invoked from network); 12 Feb 2000 05:03:10 -0000
To: zsh-workers@sunsite.auc.dk
Path: mason
From: mason@primenet.com.au (Geoff Wing)
X-Newsgroups: lists.zsh.workers
Subject: BUG: backgrounding zsh does bad tty stuff
Date: 12 Feb 2000 05:03:02 GMT
Organization: PrimeNet Computer Consultants
Lines: 23
Distribution: local
Message-ID: <slrn8a9qc6.j8r.mason@coral.primenet.com.au>
Reply-To: mason@primenet.com.au
NNTP-Posting-Host: coral.primenet.com.au
X-Trace: coral.primenet.com.au 950331782 19740 203.43.15.2 (12 Feb 2000 05:03:02 GMT)
X-Complaints-To: usenet@coral.primenet.com.au
NNTP-Posting-Date: 12 Feb 2000 05:03:02 GMT
User-Agent: slrn/0.9.6.2 (NetBSD)

Heyla,

% zsh-3.0.7 -f
% echo $SHLVL
2
% zsh-3.0.7 -f &
[1] 19784
% foo   # type two characters
zsh: error on TTY read: Input/output error

[1]  + exit 1     zsh-3.0.7 -f
% echo $SHLVL
2

Same with 3.1.6-dev-17
Anyone else getting this?  Also, with other options it will cause the parent
shell to exit as well.  And lots of other bad stuff.

Regards,
-- 
Geoff Wing : <gcw@pobox.com>     Work URL: http://www.primenet.com.au/
Rxvt Stuff : <gcw@rxvt.org>      Ego URL : http://pobox.com/~gcw/
Zsh Stuff  : <gcw@zsh.org>       Phone   : (Australia) 0413 431 874

