From zsh-workers-return-15843-mason-zsh=primenet.com.au@sunsite.dk Tue Sep 18 23:23:27 2001
Return-Path: <zsh-workers-return-15843-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 7099 invoked from network); 18 Sep 2001 23:23:26 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 18 Sep 2001 23:23:26 -0000
Received: (qmail 1176 invoked by alias); 18 Sep 2001 23:23:20 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 15843
Received: (qmail 1136 invoked from network); 18 Sep 2001 23:23:19 -0000
Date: Wed, 19 Sep 2001 01:23:18 +0200
From: Michal Vitecek <M.Vitecek@sh.cvut.cz>
To: zsh-workers@sunsite.dk
Subject: loop exited when error occurs?
Message-ID: <20010919012318.A1037@fuf.sh.cvut.cz>
Mail-Followup-To: Michal Vitecek <fuf@fuf.sh.cvut.cz>,
	zsh-workers@sunsite.dk
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2i

 hello,

 i've come across another strange behaviour of zsh. if an error occurs the
 loop is exited and the code below is executed (see example program).

 example program (test.sh):
 
 ----begin----
 
#!/bin/zsh

nexistentdirs=(aaa bbb ccc)
while :; do
    files=(${nonexistentdirs}/*)
    echo "in the loop"
done
echo "out of loop"

 ----end----

 $ chmod +x test.sh
 $ ./test.sh
 ./test.sh:5: no matches found: ccc/*
 out of loop
 $

 $ mkdir aaa bbb ccc
 $ touch aaa/fileA bbb/fileB ccc/fileC
 $ ./test.sh
 in the loop
 in the loop
 ...
 [and so on]

 i'd expect zsh to simply continue executing commands after the faulty
 command but it exits the loop and continues there. perhaps another bug?

    thanks for your help,
-- 
			fuf


------------------------------ na IRC -------------------------------------
 BillGates [bgates@www.microsoft.com] has joined #LINUX
 ...
 mode/#linux [+b BillGates!*@*] by DoDad
 BillGates was kicked off #linux by DoDad (banned: We see enough of Bill
          Gates already.)
 

