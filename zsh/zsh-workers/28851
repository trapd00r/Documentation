From zsh-workers-return-28851-mason-zsh=primenet.com.au@zsh.org Thu Mar 03 23:58:56 2011
Return-Path: <zsh-workers-return-28851-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 25242 invoked by alias); 3 Mar 2011 23:58:56 -0000
Mailing-List: contact zsh-workers-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Workers List <zsh-workers.zsh.org>
List-Post: <mailto:zsh-workers@zsh.org>
List-Help: <mailto:zsh-workers-help@zsh.org>
Delivered-To: mailing list zsh-workers@zsh.org
X-Seq: 28851
Received: (qmail 28811 invoked from network); 3 Mar 2011 23:58:46 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.9 required=5.0 tests=BAYES_00,SPF_HELO_PASS
	autolearn=ham version=3.3.1
Received-SPF: pass (ns1.primenet.com.au: SPF record at lorien.comfychair.org designates 173.8.144.98 as permitted sender)
Date: Thu, 3 Mar 2011 15:58:36 -0800
From: Danek Duvall <duvall@comfychair.org>
To: Mikael Magnusson <mikachu@gmail.com>
Cc: zsh-workers@zsh.org
Subject: Re: completing a comma-separated pair of values
Message-ID: <20110303235836.GB12871@lorien.comfychair.org>
Mail-Followup-To: Danek Duvall <duvall@comfychair.org>,
	Mikael Magnusson <mikachu@gmail.com>, zsh-workers@zsh.org
References: <20110303230047.GA12871@lorien.comfychair.org>
 <AANLkTinR9Z7LAW9HYKq_Z7SLNc7ZRT9V87Z7gSdiUF8Z@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <AANLkTinR9Z7LAW9HYKq_Z7SLNc7ZRT9V87Z7gSdiUF8Z@mail.gmail.com>
User-Agent: Mutt/1.5.20 (2010-04-22)

On Fri, Mar 04, 2011 at 12:27:25AM +0100, Mikael Magnusson wrote:

> I'm about to go to bed and didn't read that carefully, but do you want
> _dir_list -s , maybe?

I'll have to approach that with a fresh brain, I think, but I'll take a
look.  It seems to me that it merely completes directories separated by a
separator character.  It doesn't help you if you want one of three
directories before the separator and either a particular directory or any
directory under another after the separator (and only one separator).  I'm
not completing directories, of course, but words, so it's not quite as
silly in real life as it sounds.  :)

I may have to roll my own with compadd and compset, but I was hoping to be
able to take advantage of _alternate for the second value, as it nicely
separates the two possibilities (fixed word vs path) with tags.  I'm sure
it's doable using the underlying bits, too, but I'm guessing this is going
to get complicated.

Thanks,
Danek

