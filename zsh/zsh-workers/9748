From zsh-workers-return-9748-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Feb 15 13:17:52 2000
Return-Path: <zsh-workers-return-9748-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 19025 invoked from network); 15 Feb 2000 13:17:52 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 15 Feb 2000 13:17:52 -0000
Received: (qmail 18687 invoked by alias); 15 Feb 2000 13:17:45 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 9748
Received: (qmail 18679 invoked from network); 15 Feb 2000 13:17:45 -0000
Date: Tue, 15 Feb 2000 14:17:43 +0100 (MET)
Message-Id: <200002151317.OAA13126@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: Ollivier Robert's message of Tue, 15 Feb 2000 13:46:53 +0100
Subject: Re: PATCH: Re: Completion for mutt


Ollivier Robert wrote:

> ...
>  
> > above is used only for compctls. The completion system uses the
> > _matcher completer, see the compsys manual/info (there is also a bit
> > of discussion about this going on...).
> 
> I've had a look at it. I've tried the example given (which seems similar in
> goal as the old compctl thing) but I still can complete in a
> case-independant fashion.
> 
> echo $zs<TAB>v<TAB>
> 
> used to complete into
> 
> echo $ZSH_VERSION
> 
> Likewise, I was able to do 
> 
> more /usr/src/etc/mak<TAB>
> 
> and have choice between "make.conf", "Makefile" and "MAKEDEV". Now, only
> "make.conf" is given.
> 
> I do appreciate the nice efforts you're all putting into the new completion
> system but I think it is becoming very complicated to configure...

This makes me cry for help...

> I have this:
> 
> zstyle ':completion:::::' completer _matcher _complete _matcher _complete
> zstyle ':completion:*:matcher-1:::' matcher 'm:{a-z-}={A-Z_}'
> zstyle ':completion:*:matcher-2:::' matcher 'm:{a-z-}={A-Z_}' 'r:|[-_./]=* r:|=*'
> 
> I'm confused.

I'm confused, too, because it works for me... maybe some missing
patch of those that have appeared after dev-18.


Btw, when I wrote _matcher I was tempted to change _main_complete to
allow it to give arguments to completers, taken from the style, as in

  zstyle ... completer '_matcher m:{a-z}={A-Z}' _complete ...

Or maybe make _main_complete just eval the things and let the global
match specs be stored in a user visible parameter:

  zstyle ... completer matcher='m:{a-z}={A-Z}' _complete ...

Dunno if any of this would be better (it may be hard to decide what to 
do with styles and what to do with arguments/other means).

Bye
 Sven


--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

