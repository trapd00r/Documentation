From zsh-workers-return-10199-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Mar 22 14:57:08 2000
Return-Path: <zsh-workers-return-10199-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1271 invoked from network); 22 Mar 2000 14:57:07 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 22 Mar 2000 14:57:07 -0000
Received: (qmail 16179 invoked by alias); 22 Mar 2000 14:37:00 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 10199
Received: (qmail 16167 invoked from network); 22 Mar 2000 14:36:59 -0000
Date: Wed, 22 Mar 2000 15:36:57 +0100 (MET)
Message-Id: <200003221436.PAA17791@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: Sven Wischnowsky's message of Wed, 22 Mar 2000 13:56:55 +0100
	(MET)
Subject: Re: PATCH: tag aliases


Just a small simplification in _loop.


Bye
 Sven

diff -ru ../z.old/Completion/Core/_loop Completion/Core/_loop
--- ../z.old/Completion/Core/_loop	Wed Mar 22 14:23:27 2000
+++ Completion/Core/_loop	Wed Mar 22 15:33:22 2000
@@ -11,11 +11,11 @@
   shift
 fi
 
-tmp=${argv[4,-1][(i)-]}
-if [[ tmp -lt ${#}-3 ]]; then
-  pre=( "${(@)argv[4,tmp+2]}" )
-  suf=( "${(@)argv[tmp+3,-1]}" )
-elif [[ tmp -eq ${#}-3 ]]; then
+tmp=${argv[(ib:4:)-]}
+if [[ tmp -lt $# ]]; then
+  pre=( "${(@)argv[4,tmp-1]}" )
+  suf=( "${(@)argv[tmp,-1]}" )
+elif [[ tmp -eq $# ]]; then
   pre=( "${(@)argv[4,-2]}" )
   suf=()
 else

--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

