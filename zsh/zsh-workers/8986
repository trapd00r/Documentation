From zsh-workers-return-8986-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Dec 09 22:08:44 1999
Return-Path: <zsh-workers-return-8986-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10728 invoked from network); 9 Dec 1999 22:08:43 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 9 Dec 1999 22:08:43 -0000
Received: (qmail 23758 invoked by alias); 9 Dec 1999 22:08:36 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 8986
Received: (qmail 23750 invoked from network); 9 Dec 1999 22:08:35 -0000
Sender: Benjamin Korvemaker <benjamin@cs.ualberta.ca>
From:   Benjamin Korvemaker <benjamin@cs.ualberta.ca>
To:     zsh-workers@sunsite.auc.dk
Subject: !! in emacs shell causes seg fault
Message-Id: <19991209220754Z434566-21464+189@scapa.cs.ualberta.ca>
Date:   Thu, 9 Dec 1999 15:07:51 -0700


Using a shell in emacs (M-x shell) and typing a command and then !!
causes a seg fault from zsh. (3.1.6)

fort-kent[0-126]% cd /tmp
fort-kent[0-127]% !!

Process shell segmentation fault

Entertainingly, trying to echo non-existent variables in this shell
also causes a segfault when the term is "dumb". The
 '[[ $EMACS = t ]] && unsetopt zle ]]' trick doesn't seem to help.

Any help would be appreciated.

Thanks,
Ben



