From zsh-users-return-15358-mason-zsh=primenet.com.au@zsh.org Thu Sep 02 15:54:21 2010
Return-Path: <zsh-users-return-15358-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 6333 invoked by alias); 2 Sep 2010 15:54:21 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 15358
Received: (qmail 25669 invoked from network); 2 Sep 2010 15:54:19 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.9 required=5.0 tests=BAYES_00,RCVD_IN_DNSWL_NONE
	autolearn=ham version=3.3.1
Received-SPF: none (ns1.primenet.com.au: domain at closedmail.com does not designate permitted sender hosts)
From: Bart Schaefer <schaefer@brasslantern.com>
Message-id: <100902085352.ZM12641@torch.brasslantern.com>
Date: Thu, 02 Sep 2010 08:53:50 -0700
In-reply-to: <20100902134747.GA30650@whistler.venod.com>
Comments: In reply to Haakon Riiser <haakon.riiser@fys.uio.no>
 "Problems with zsh's job control and running jobs" (Sep  2,  3:47pm)
References: <20100902134747.GA30650@whistler.venod.com>
X-Mailer: OpenZMail Classic (0.9.2 24April2005)
To: zsh-users@zsh.org
Subject: Re: Problems with zsh's job control and running jobs
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii

On Sep 2,  3:47pm, Haakon Riiser wrote:
}
} Is there a way to make zsh differentiate between running and
} suspended jobs?  That is, make it so that CHECK_JOBS only looks for
} suspended jobs, not running ones?

An answer to this is related to Greg Klanderman's reply on that other
old thread (which is on zsh-workers, so those reading only zsh-users
won't have seen it).

Disowning (&!) a job differs from merely backgrounding it in one
important respect, which is that the job becomes immune to SIGHUP
and will continue running after the shell exits.

Conversely, suspended jobs are always killed when the shell exits,
regardless of the state of NO_HUP.

So it *might* make sense for CHECK_JOBS to ignore running jobs if and
only if NO_HUP.  The question is whether the intention of CHECK_JOBS
is to warn you that you've left something unfinished, or to warn you
that something is going to be summarily terminated.

-- 

