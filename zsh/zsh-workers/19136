From zsh-workers-return-19136-mason-zsh=primenet.com.au@sunsite.dk Thu Sep 25 04:32:57 2003
Return-Path: <zsh-workers-return-19136-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 3223 invoked from network); 25 Sep 2003 04:32:56 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 25 Sep 2003 04:32:56 -0000
Received: (qmail 12364 invoked by alias); 25 Sep 2003 04:32:50 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 19136
Received: (qmail 3566 invoked from network); 25 Sep 2003 04:06:09 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 25 Sep 2003 04:06:09 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [4.64.232.255] by sunsite.dk (MessageWall 1.0.8) with SMTP; 25 Sep 2003 4:6:9 -0000
Received: (from schaefer@localhost)
	by candle.brasslantern.com (8.11.6/8.11.6) id h8P467Z05564
	for zsh-workers@sunsite.dk; Wed, 24 Sep 2003 21:06:07 -0700
From: Bart Schaefer <schaefer@brasslantern.com>
Message-Id: <1030925040607.ZM5563@candle.brasslantern.com>
Date: Thu, 25 Sep 2003 04:06:07 +0000
In-Reply-To: <m3isnhd5ao.fsf@zion.rcn.com>
Comments: In reply to Vin Shelton <acs@alumni.princeton.edu>
        "Test Failures" (Sep 24,  9:29pm)
References: <m3isnhd5ao.fsf@zion.rcn.com>
X-Mailer: Z-Mail (5.0.0 30July97)
To: zsh-workers@sunsite.dk
Subject: Re: Test Failures
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Sep 24,  9:29pm, Vin Shelton wrote:
}
} ../../../src/zsh-2003-09-24-1942/Test/B02typeset.ztst: test failed.
} ../../../src/zsh-2003-09-24-1942/Test/Y02compmatch.ztst: test failed.

I'm getting the same two failures.  Both were introduced by applying the
patch in 19129.

In the first case, it appears that typset -T now rejects an assignment to
the scalar variable in the scalar+array pair, which previously was OK.

The second one I'd be more inclined to blame on 19105, as it seems to have
something to do with the PS1 prompt being written to the wrong stream;
but it definitely didn't begin happening until I applied 19129 ...

Incidentally, I'm getting these compiler warnings:

Src/init.c:1174: warning: `autoload_zlesetkeymap' defined but not used
Src/utils.c:3300: warning: no previous prototype for `ucs4toutf8'
Src/utils.c: In function `ucs4toutf8':
Src/utils.c:3322: warning: suggest parentheses around arithmetic in operand of |
Src/Zle/zle_main.c: In function `raw_getkey':
Src/Zle/zle_main.c:352: warning: unused variable `ti'

