From zsh-users-return-5203-mason-zsh=primenet.com.au@sunsite.dk Wed Aug 07 06:11:21 2002
Return-Path: <zsh-users-return-5203-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13893 invoked from network); 7 Aug 2002 06:11:20 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 7 Aug 2002 06:11:20 -0000
Received: (qmail 14273 invoked by alias); 7 Aug 2002 06:11:08 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 5203
Received: (qmail 14261 invoked from network); 7 Aug 2002 06:11:06 -0000
Message-ID: <3D50B9D6.6050603@base2.cc>
Date: Tue, 06 Aug 2002 23:10:30 -0700
From: Byron Foster <byron@base2.cc>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.0.0) Gecko/20020618
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  zsh-users@sunsite.dk
Subject: Completion and menu behavior
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Being an avid ZSH user I've recently spent some time learning the new 
completion system.  Very powerful stuff!  After adding zstyle entries in 
my .zshrc I tried to get the tab (complete-word) behavior to behave in a 
manner as follows:

lets say I'm in a directory that contains only files 'foobar' and 
'foofoo' and I type 'less [TAB]' at the command line.  Currently I will 
get a partial completion of 'foo' and that's it.  Now what I would like 
is that if I were to type 'less [TAB]' at the command line I would be 
given 'less foo' with the cursor following just after the partial 
completion, but *also* with a menu listing foobar and foofoo.  Now I 
have tried all combinations of completion options and styles to try and 
get this behavior, but none do the trick.  The one I believe should do 
the trick is AUTO_LIST since it's documentation indicates that it will 
always display a menu list with an ambiguity.  But I think that the 
problem is that a partial completion is not considered an ambiguity. 
AUTO_LIST does work in the case that if I type 'less foo[TAB]' then the 
menu does appear since no completion at all is taking place.  I don't 
want to use something like MENU_COMPLETE because a like the partial 
completions.

I may sound lazy since in the above case I could type TAB twice, once to 
get a partial completion then again to get the menu.  However, with this 
behavior one cannot tell on the first TAB hit if the completion of 'foo' 
is a partial completion or a full completion.  What I would like is for 
the menu list to act as an indicator of a partial completion in addition 
to displaying the possible matches.

I'm using zsh (4.0.4)
Any help would be appreciated!

Byron





