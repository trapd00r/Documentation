From zsh-workers-return-9878-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Feb 25 15:26:03 2000
Return-Path: <zsh-workers-return-9878-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13029 invoked from network); 25 Feb 2000 15:26:02 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 25 Feb 2000 15:26:02 -0000
Received: (qmail 22545 invoked by alias); 25 Feb 2000 15:25:56 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 9878
Received: (qmail 22538 invoked from network); 25 Feb 2000 15:25:55 -0000
To: zsh-workers@sunsite.auc.dk
Cc: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
Subject: Re: PATCH: Re: Questions/comments on completion code that arise from PWS's zsh guide
References: <200002250832.JAA24921@beta.informatik.hu-berlin.de>
X-Attribution: adl
From: Alexandre Duret-Lutz <duret_g@epita.fr>
Date: 25 Feb 2000 16:23:55 +0100
In-Reply-To: Sven Wischnowsky's message of "Fri, 25 Feb 2000 09:32:33 +0100 (MET)"
Message-ID: <mvb4sax1f1w.fsf@phobos.lrde.epita.fr>
Lines: 38
User-Agent: Gnus/5.0803 (Gnus v5.8.3) Emacs/20.5
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

>>> "Sven" == Sven Wischnowsky <wischnow@informatik.hu-berlin.de> writes:

[please forgive this if I totaly miss the point, but I
have just read all zsh mails for the last two weeks and
may have missed some important things]

 Sven> Bart Schaefer wrote:

[...]

 >> Why don't we have _dd expand the tilde when magicequalsubst is not set,
 >> and leave _path_files alone?

 Sven> But this is, of course, better.

 Sven> The patch adds _tilde_files which completes files and expands tildes
 Sven> if there are any. And makes _dd use it. 

But this will *always* expand tildes.  Since I am using magicequalsubst, 
I don't want tildes to be expanded 'on the line' in places where
it would be done by magicequalsubst.

Shouldn't there be a option to _tilde_files saying that _tilde_files is
called in a context where magicequalsubst will expand the tilde (in which
case _tilde_files should care whether the magicequalsubst is set or not) ?
Or it may be the default.

 Sven> Does anyone know of other places where this might be useful?

What happens with _arguments's equal-ended options ?
Should they use _tilde_files instead of _files ?
It may be good that `--prefix=~/usr' get expanded to
`--prefix=/myhomedir/usr' when magicequalsubst is unset, 
but I would find strange that `--prefix ~/usr' expands 
to `--prefix /myhomedir/usr' too...

-- 
Alexandre Duret-Lutz

