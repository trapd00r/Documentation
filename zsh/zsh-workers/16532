From zsh-workers-return-16532-mason-zsh=primenet.com.au@sunsite.dk Thu Jan 31 14:12:53 2002
Return-Path: <zsh-workers-return-16532-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 28457 invoked from network); 31 Jan 2002 14:12:52 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 31 Jan 2002 14:12:52 -0000
Received: (qmail 29018 invoked by alias); 31 Jan 2002 14:12:43 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 16532
Received: (qmail 29007 invoked from network); 31 Jan 2002 14:12:42 -0000
X-VirusChecked: Checked
X-Authentication-Warning: iris.logica.co.uk: Host rambo.logica.co.uk [158.234.33.58] claimed to be yahoo.co.uk
Sender: kiddleo@iris.logica.co.uk
Message-ID: <3C5950BC.94D3207C@yahoo.co.uk>
Date: Thu, 31 Jan 2002 14:12:12 +0000
From: Oliver Kiddle <okiddle@yahoo.co.uk>
X-Mailer: Mozilla 4.77 [en] (X11; U; Linux 2.4.16-686-smp i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Derek Peschel <dpeschel@eskimo.com>
CC: zsh-workers@sunsite.dk
Subject: Re: PATCH: 4.0.2: rprompt2 variable
References: <20020125044808.C7661@eskimo.eskimo.com> <3C56E82C.64A1D159@yahoo.co.uk> <20020130210103.A28938@eskimo.eskimo.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Derek Peschel wrote:

> and reason that if the line is going to get too long, it should just
> stop growing.  So leaving the feature out on principle seems a bit
> presumptuous to me (especially since it was easy to add and didn't use
> very much code).

I'm happy with that argument. And thinking about it, I agree that there
might be uses - RPS2='<%6(_,%2^ ... %-2^,%^)' might be used to avoid
the state list getting too long.

> Would it be possible to do the reversal using the precmd feature?  (Can
> you "print" the prompt to a string?)  If so, then the %^ escape can go.
> And that makes more sense as the code to take out, since none of the
> other escapes has a "reverse order" feature.

It seems that precmd is only run before each PS1 prompt so the answer
to the question is no. Of course, we could change that or add a precmd2
but I'm not sure there would be much point. My vote is for sticking
with %^ because it is likely to be commonly used in RPS2.

Peter wrote:

> You might as well commit it.  I don't think anyone's going to mind.

Okay, I will.

Derek wrote:

> The behavior affects the released 4.0.2, as well as today's daily 4.1
> snapshot.  I haven't tested 4.0.4 (it seems not to compile on my system)
> but undoubtedly it works the same way.

What is the compiler error or whatever with 4.0.4? What type of system
is it?

Oliver

________________________________________________________________________
This email has been scanned for all viruses by the MessageLabs SkyScan
service. For more information on a proactive anti-virus service working
around the clock, around the globe, visit http://www.messagelabs.com
________________________________________________________________________

