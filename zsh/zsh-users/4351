From zsh-users-return-4351-mason-zsh=primenet.com.au@sunsite.dk Mon Oct 08 17:11:00 2001
Return-Path: <zsh-users-return-4351-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 948 invoked from network); 8 Oct 2001 17:10:59 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 8 Oct 2001 17:10:59 -0000
Received: (qmail 22991 invoked by alias); 8 Oct 2001 17:10:46 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4351
Received: (qmail 22978 invoked from network); 8 Oct 2001 17:10:46 -0000
X-VirusChecked: Checked
Sender: kiddleo@cav.logica.co.uk
Message-ID: <3BC1DDEE.FA306604@yahoo.co.uk>
Date: Mon, 08 Oct 2001 18:10:06 +0100
From: Oliver Kiddle <okiddle@yahoo.co.uk>
X-Mailer: Mozilla 4.77 [en] (X11; U; Linux 2.2.15 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: "James F. Hranicky" <jfh@cise.ufl.edu>
CC: zsh-users@sunsite.dk
Subject: Re: Wishlist for zsh: 3 tcsh features
References: <OF594BCCA9.4364E8B5-ON80256ADF.0059B87C@uk.jpmorgan.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

martin.ebourne@arcordia.com wrote:
> 
>       1) <Meta-Del>: In tcsh, when deleting elements in a path,
>          <Meta-Del> generally deletes everything up to the next
>          "/" character, e.g.
> 
> In ZSH this is controlled with the WORDCHARS env var. Mine is set to:
> WORDCHARS='*?_-.[]~#'

The trouble with changing the global WORDCHARS is that it then affects
every widget. I like `/' included for things like copy-prev-word but not
for word deletion so I use this:

tcsh-backward-delete-word() {
  local WORDCHARS="${WORDCHARS:s@/@}"
  zle backward-delete-word
}
zle -N tcsh-backward-delete-word

Zsh allows you to define your own widgets with shell functions like this
so you may be able to translate other things you're used to from tcsh.

>       3) <Meta-p>, part 2 : In tcsh, <Meta-p> will return the command that
>          matches exactly what's been typed already:
> 
> The ZLE widgets 'history-beginning-search-backward' and '
> history-beginning-search-forward' are probably what you are after. I bind
> them to the up and down key since I find them by far the most useful way of
> accessing the history.

Those two widgets annoyingly don't allow you to navigate up and down in
multiple line commands so you may prefer to try `up-line-or-search' and
`down-line-or-search' which are similar. They also have their faults
though because they only use the first word on the current line in their
search. Ideally, these will be replaced with more primitive widgets
(e.g. just up-line) so that I can write one which works exactly as I
like in a shell function.

Oliver

_____________________________________________________________________
This message has been checked for all known viruses by the 
MessageLabs Virus Scanning Service. For further information visit
http://www.messagelabs.com/stats.asp

