From zsh-users-return-3667-mason-zsh=primenet.com.au@sunsite.dk Wed Mar 14 15:46:54 2001
Return-Path: <zsh-users-return-3667-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 28007 invoked from network); 14 Mar 2001 15:46:53 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 14 Mar 2001 15:46:53 -0000
Received: (qmail 20728 invoked by alias); 14 Mar 2001 15:46:37 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 3667
Received: (qmail 20716 invoked from network); 14 Mar 2001 15:46:37 -0000
From: John Cooper <john.cooper@eu.citrix.com>
To: zsh-users@sunsite.dk
Subject: Odd behavior with ZLS_COLORS
Organization: Citrix Systems <URL:http://citrix.com/>
Date: 14 Mar 2001 15:53:46 +0000
Message-ID: <m3itlcibxx.fsf@kontiki.cam.eu.citrix.com>
Lines: 26
User-Agent: Gnus/5.0808 (Gnus v5.8.8) Emacs/20.5
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

[ZSH_VERSION is 4.0.1-pre-2]

I have `zmodload zsh/complist' in my .zshrc file, but after attempting
completion, my ZLS_COLORS variable seems to get cleared:

  % ZLS_COLORS=$LS_COLORS
  % echo $ZLS_COLORS
  di=1;31:ex=1;32:*.dll=1;32:*.java=1;33:*.c=1;33:*.html=1;33:*.htm=1;33:*.el=1;35:*.zip=1;35:*.gz=1;35:*.tar=1;35:*.jar=1;35:*.cab=1;35
  % ls apacheTAB
  ApacheJServ-1.1.2/  apache_1.3.14/    
  % echo $ZLS_COLORS

  %

Oddly, the coloring of file names is identical to what I get with GNU `ls' with
the sole exception that zsh completion gives me directories in blue, but ls
shows them in red!

I've discovered (from the docs) that the following zstyle incantation causes
the zsh completions to exactly match my ls completions (including red
directories), but I thought I'd mention the red/blue strangeness anyway, as I'm
curious if there's an obvious explanation.

  zstyle ':completion:*:default' list-colors ${(s.:.)LS_COLORS}

    --- John

