From zsh-users-return-4281-mason-zsh=primenet.com.au@sunsite.dk Fri Sep 28 16:14:31 2001
Return-Path: <zsh-users-return-4281-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2752 invoked from network); 28 Sep 2001 16:14:30 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 28 Sep 2001 16:14:30 -0000
Received: (qmail 15542 invoked by alias); 28 Sep 2001 16:13:58 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4281
Received: (qmail 15530 invoked from network); 28 Sep 2001 16:13:57 -0000
Date: Fri, 28 Sep 2001 12:13:47 -0400
From: lordzork@lordzork.com
To: zsh-users@sunsite.dk
Subject: Re: error on TTY read: no such file or directory
Message-ID: <20010928121347.B16561@hithaeglir.net>
Reply-To: lordzork@lordzork.com
Mail-Followup-To: lordzork@lordzork.com, zsh-users@sunsite.dk
References: <20010910200737.A6256@hithaeglir.net> <001f01c13abb$6997dca0$21c9ca95@mow.siemens.ru> <20010911084904.A11501@hithaeglir.net> <1010911140155.ZM24429@candle.brasslantern.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <1010911140155.ZM24429@candle.brasslantern.com>
Organization: lordzork industries
X-GPG-Key-ID: 1024D/EE946A6E
X-GPG-Key-Fingerprint: E27C 03D8 A1B6 F7C5 2B92  58A9 4BEA 926A EE94 6A6E
X-GPG-Public-Key: http://lordzork.com/tmk.pub.asc
X-Mailer: CHIKKEN MAIL 0.80 BETA (CHIKKEN)
X-Originating-IP: [127.0.0.1]
X-Midgets: too tall

In the gothic chambers of the underworld on Tue 11 Sep 2001 at 10:01 -0400,
Bart Schaefer muttered darkly:

> On Sep 11,  8:49am, lordzork@lordzork.com wrote:
> }
> } also, as i said, this problem happens *only* when i login as root, and
> } then only from a tty.
> 
> Please try adding
> 
>     ((UID)) || {
> 	set -x
> 	exec 2>|/tmp/login-trace
>     }
> 
> to /etc/zshenv.  Then log in and let it boot you out.  Then log in again
> (as someone other than root) and examine /tmp/login-trace to see whether
> any unexpected commands are being executed.
> 

i see nothing out of the ordinary, just the normal reading of the
config files. and then, this:

+/root/.zsh/.zshrc:1> path=( /bin /sbin /usr/bin /usr/sbin
/usr/local/bin /usr/local/sbin /sys ) 
zsh: error on TTY read: no such file or directory
+/root/.zsh/.zlogout:1> sleep 5
 
so i don't know... this has me completely stumped. i've tried three
different kernel versions (2.4.{7,9,10}), i've recompiled zsh without
any cflags, and i've even reinstalled the entire system from scratch.
and yet the problem persists.


t.

-- 
4.0k -rw-rw-r--    1 zork     zork       17 Apr 4 17:38 .signature

