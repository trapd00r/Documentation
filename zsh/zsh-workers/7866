From zsh-workers-return-7866-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Sep 16 13:11:36 1999
Return-Path: <zsh-workers-return-7866-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4080 invoked from network); 16 Sep 1999 13:11:35 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 16 Sep 1999 13:11:35 -0000
Received: (qmail 705 invoked by alias); 16 Sep 1999 13:11:20 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7866
Received: (qmail 698 invoked from network); 16 Sep 1999 13:11:20 -0000
Date: Thu, 16 Sep 1999 15:11:08 +0200 (MET DST)
Message-Id: <199909161311.PAA01349@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: Clint Adams's message of Wed, 15 Sep 1999 17:30:39 -0400
Subject: Re: PATCH: _mutt, _mailboxes


Clint Adams wrote:

> This is my stab at completion for mutt.  I imagine that the
> _mailboxes function would be useful for completing the -f arguments
> of elm and pine, after some tweaking.
> 
> ...
>
> +  '-h+:help' \

I thought I mentioned that in the docs, but it seems like I forgot it: 
the `:' after the message is needed even if the action is empty.

And while I'm at it... I'm the only one who writes option
descriptions, it seems, which I can understand considering how tedious 
that is. So my question is: if an option gets only one argument,
should we turn it's description automatically into the
option-description? Probably prefixed by something like `specify: '?

Bye
 Sven

diff -u od/Zsh/compsys.yo Doc/Zsh/compsys.yo
--- od/Zsh/compsys.yo	Thu Sep 16 14:16:06 1999
+++ Doc/Zsh/compsys.yo	Thu Sep 16 15:06:49 1999
@@ -839,7 +839,10 @@
 
 In places where no sensible matches can be generated, the action
 should consist of only a space. This will make the var(message) be
-displayed but no possible completions listed.
+displayed but no possible completions listed. Note that even in this
+case the colon at the end of the var(message) is needed. The only case 
+where it can be left is when neither a var(message), nor a var(action) 
+is given.
 
 To include a colon in the var(message) or the var(action), it has to
 be preceded by a backslash.
--- oldcompletion/User/_mutt	Thu Sep 16 15:00:18 1999
+++ Completion/User/_mutt	Thu Sep 16 15:07:05 1999
@@ -10,7 +10,7 @@
  '-e:post-init configuration:' \
  '-f+:mailbox:_mailboxes' \
  '-F+:init file:_files' \
- '-h+:help' \
+ '-h+:help:' \
  '-H+:draft file:_files' \
  '-i:include file:_files' \
  '-m+:default mailbox type:(mbox MMDF MH Maildir)' \

--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

