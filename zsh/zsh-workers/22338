From zsh-workers-return-22338-mason-zsh=primenet.com.au@sunsite.dk Fri Mar 10 09:28:28 2006
Return-Path: <zsh-workers-return-22338-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10866 invoked from network); 10 Mar 2006 09:28:26 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.0 (2005-09-13) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=BAYES_00,FORGED_RCVD_HELO 
	autolearn=ham version=3.1.0
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 10 Mar 2006 09:28:26 -0000
Received: (qmail 7394 invoked from network); 10 Mar 2006 09:28:16 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 10 Mar 2006 09:28:16 -0000
Received: (qmail 2436 invoked by alias); 10 Mar 2006 09:28:13 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 22338
Received: (qmail 2427 invoked from network); 10 Mar 2006 09:28:13 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 10 Mar 2006 09:28:13 -0000
Received: (qmail 7090 invoked from network); 10 Mar 2006 09:28:13 -0000
Received: from keltia.freenix.org (HELO tara.freenix.org) (82.224.56.155)
  by a.mx.sunsite.dk with SMTP; 10 Mar 2006 09:28:11 -0000
Received: by tara.freenix.org (Postfix/TLS, from userid 101)
	id 0FF0BE; Fri, 10 Mar 2006 10:27:50 +0100 (CET)
Date: Fri, 10 Mar 2006 10:27:49 +0100
From: Ollivier Robert <roberto@keltia.freenix.fr>
To: zsh-workers@sunsite.dk
Subject: [OSX 10.3.9] multibyte input with 4.3.2
Message-ID: <20060310092749.GA70066@tara.freenix.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-15
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
X-Operating-System: MacOS X / PowerBook G4 - FreeBSD 5.0 / 2x PIII/800 SMP
User-Agent: Mutt/1.5.11

Hello,

It has been a while since I've not been on zsh-workers but I've been
following multibyte support coming in and that's great.  I'm using zsh
4.3.2 compiled from DarwinPorts with --enable-multibyte on OSX 10.3.9.

Using LANG=en_US.UTF-8 within a Terminal.app instance with UTF-8 as default
charset, I'm trying to just type some diacritics and everything is
displayed -- and understood -- by zsh as "?".

211 [10:10] roberto@rron:~> echo ?
zsh: no matches found: ?
212 [10:18] roberto@rron:~> echo $ZSH_VERSION 
4.3.2

The funny part is that 4.2.6 seems to work a bit better:

203 [10:21] roberto@rron:Application Support/TextMate> echo ??|hexdump -C
00000000  c3 a9 0a                                          |...|
00000003
204 [10:22] roberto@rron:Application Support/TextMate> echo é|hexdump -C
00000000  c3 a9 0a                                          |...|
00000003
204 [10:22] roberto@rron:Application Support/TextMate> echo $ZSH_VERSION 
4.2.6

(the ?? is what appear when I type "é" in utf-8 but using the up arrow to
get the line back gives me the correct displayed character as shown above).

So, am I missing something on how is it supposed to work?  I've read the
FAQ :)

Thanks,
-- 
Ollivier ROBERT -=- FreeBSD: The Power to Serve! -=- roberto@keltia.freenix.fr
Darwin snuadh.freenix.org Kernel Version 7.9.0: Wed Mar 30 20:11:17 PST 2005

