From zsh-workers-request@euclid.skiles.gatech.edu Sat May 10 17:18:54 1997
Return-Path: <zsh-workers-request@euclid.skiles.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 309 invoked from network); 10 May 1997 17:18:53 -0000
Received: from euclid.skiles.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 10 May 1997 17:18:53 -0000
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id NAA06983; Sat, 10 May 1997 13:06:24 -0400 (EDT)
Resent-Date: Sat, 10 May 1997 13:06:24 -0400 (EDT)
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <970510100920.ZM9250@candle.brasslantern.com>
Date: Sat, 10 May 1997 10:09:20 -0700
In-Reply-To: <199705090742.DAA09847@hzoli.home>
Comments: In reply to Zoltan Hidvegi <hzoli@ny.frontiercomm.net>
        "test patches" (May  9,  3:42am)
References: <199705090742.DAA09847@hzoli.home>
X-Mailer: Z-Mail (4.0b.820 20aug96)
To: Zoltan Hidvegi <hzoli@ny.frontiercomm.net>,
        zsh-workers@math.gatech.edu (Zsh hacking and development)
Subject: Re: test patches
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Resent-Message-ID: <"j48cz.0.2j1.FiATp"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3111
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Some remarks on the 3.0.3-test5 patch:

The FAQ diff isn't included.  No biggie, but people should be aware that
they'll still have last December's FAQ if all they do is patch.

I'm curious:  What's the point of removing functions like setcurjob()
and inlining their code in the function that calls them?  We're surely
not all that worried about function call overhead, and it seems to me
that it makes future changes more difficult (or at least potentially
larger diffs).  Even if the function is only called in one place, it's
preferable to work towards small, single-purpose functions, isn't it?
(It also makes stack traces without full debugging symbols easier to
interpret.)  [setcurjob happened a while ago, but I just noticed it.]

There still doesn't appear to be a test in init.c for the case where
the system supports TIOCGWINSZ but the rows and columns value in the
shttyinfo.winsize structure are both zero.  In that case we ought to
be using the row and column sizes from the termcap or terminfo entry?

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts        http://www.nbn.com/people/lantern

