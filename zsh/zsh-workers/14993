From zsh-workers-return-14993-mason-zsh=primenet.com.au@sunsite.dk Wed Jun 20 16:09:02 2001
Return-Path: <zsh-workers-return-14993-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17420 invoked from network); 20 Jun 2001 16:09:01 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 20 Jun 2001 16:09:01 -0000
Received: (qmail 13919 invoked by alias); 20 Jun 2001 16:08:21 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 14993
Received: (qmail 13871 invoked from network); 20 Jun 2001 16:08:20 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <1010620160432.ZM6108@candle.brasslantern.com>
Date: Wed, 20 Jun 2001 16:04:32 +0000
In-Reply-To: <000201c0f955$63fa7a70$21c9ca95@mow.siemens.ru>
Comments: In reply to "Andrej Borsenkow" <Andrej.Borsenkow@mow.siemens.ru>
        "RE: Bug#101523: zsh segmentation fault" (Jun 20, 10:51am)
References: <000201c0f955$63fa7a70$21c9ca95@mow.siemens.ru>
X-Mailer: Z-Mail (5.0.0 30July97)
To: "Andrej Borsenkow" <Andrej.Borsenkow@mow.siemens.ru>,
        "Clint Adams" <schizo@debian.org>, <zsh-workers@sunsite.dk>
Subject: Re: Bug#101523: zsh segmentation fault
Cc: "Michal Politowski" <mpol@charybda.icm.edu.pl>,
        <101523-forwarded@bugs.debian.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Jun 20, 10:51am, Andrej Borsenkow wrote:
} Subject: RE: Bug#101523: zsh segmentation fault
}
} >     local orgargs="$@"
} >
} > This will almost certainly not do what is wanted; it'll set orgargs to be
} > $1 and will make local variables whose names are the rest of the
} > arguments.
} 
} This is related to export foo=$(cmd) problem we have discussed. Obviously,
} other shells treat {export|local|typeset} foo=bar w.r.t. word splitting
} exactly the same as foo=bar, i.e. they do not split in assignments here.

I don't doubt it, but as you pointed out yourself the POSIX-defined
behavior is to split the arguments of those commands.  If the authors
of shoop, whoever they are, want it to be portable, they should be
avoiding this conflict.  It's easy enough to use

	local orgargs="$*"

instead.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

