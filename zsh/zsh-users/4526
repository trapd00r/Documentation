From zsh-users-return-4526-mason-zsh=primenet.com.au@sunsite.dk Tue Dec 11 12:45:16 2001
Return-Path: <zsh-users-return-4526-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 3106 invoked from network); 11 Dec 2001 12:45:16 -0000
Received: from ns2.primenet.com.au (HELO primenet.com.au) (?EovcWustJQ2uFrXhLsJS0HgDinEeE1ox?@203.24.36.3)
  by ns1.primenet.com.au with SMTP; 11 Dec 2001 12:45:16 -0000
Received: (qmail 2763 invoked from network); 11 Dec 2001 12:45:15 -0000
Received: from sunsite.dk (130.225.247.90)
  by proxy.melb.primenet.com.au with SMTP; 11 Dec 2001 12:45:15 -0000
Received: (qmail 27072 invoked by alias); 11 Dec 2001 12:45:00 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4526
Received: (qmail 27059 invoked from network); 11 Dec 2001 12:44:59 -0000
To: zsh-users@sunsite.dk (Zsh users list)
Subject: Re: generic filename completion like "foo --file=ba<tab>" 
In-reply-to: "Will Yardley"'s message of "Tue, 11 Dec 2001 04:32:17 PST."
             <20011211123217.GC7055@hq.newdream.net> 
Date: Tue, 11 Dec 2001 12:44:31 +0000
Message-ID: <29533.1008074671@csr.com>
From: Peter Stephenson <pws@csr.com>

Will Yardley wrote:
> i still don't really understand... is there a way to use parts of the
> new completion system without loading the whole shebang? believe it or
> not, there are certain things that i _don't_ want to complete (or that i
> like doing my own way)... is there a way to load only specific functions
> from the new system?

You could exclude the functions you don't want from your path.  This
obviously needs some reorganising of $fpath or the directories, but for
example, if you have the functions installed in hierarchical directories,
you could remove
/usr/local/share/zsh/4.0.2/functions/Completion/Unix/Command
from $fpath, link any commands you do want completion for into a
different directory, and add that to your path.

You could also post-process the associative array $_comps after loading the
completion system.  This gives the functions to be used for a given
context, typically a command name, e.g. ${_comps[dd]} is _dd.  You can
unset elements you don't want completion for.

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR Ltd., Science Park, Milton Road,
Cambridge, CB4 0WH, UK                          Tel: +44 (0)1223 392070


**********************************************************************
The information transmitted is intended only for the person or
entity to which it is addressed and may contain confidential 
and/or privileged material. 
Any review, retransmission, dissemination or other use of, or
taking of any action in reliance upon, this information by 
persons or entities other than the intended recipient is 
prohibited.  
If you received this in error, please contact the sender and 
delete the material from any computer.
**********************************************************************

