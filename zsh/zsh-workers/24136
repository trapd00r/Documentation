From zsh-workers-return-24136-mason-zsh=primenet.com.au@sunsite.dk Sun Dec 02 07:48:32 2007
Return-Path: <zsh-workers-return-24136-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24608 invoked from network); 2 Dec 2007 07:48:24 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.3 (2007-08-08) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.3
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 2 Dec 2007 07:48:24 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 44605 invoked from network); 2 Dec 2007 07:48:16 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 2 Dec 2007 07:48:16 -0000
Received: (qmail 25047 invoked by alias); 2 Dec 2007 07:48:12 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 24136
Received: (qmail 25030 invoked from network); 2 Dec 2007 07:48:11 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 2 Dec 2007 07:48:11 -0000
Received: (qmail 44252 invoked from network); 2 Dec 2007 07:48:11 -0000
Received: from dsl-74-220-69-132.cruzio.com (HELO dot.blorf.net) (74.220.69.132)
  by a.mx.sunsite.dk with SMTP; 2 Dec 2007 07:48:05 -0000
Received: by dot.blorf.net (Postfix, from userid 1000)
	id D6E96F9F0; Sat,  1 Dec 2007 23:48:03 -0800 (PST)
Date: Sat, 1 Dec 2007 23:48:03 -0800
From: Wayne Davison <wayned@users.sourceforge.net>
To: zsh-workers@sunsite.dk
Subject: more _git improvements?
Message-ID: <20071202074803.GB11034@blorf.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.5.17 (2007-11-01)

I was looking at the git alias support in the current _git completion,
and it appears to only be used to list alias words when completing a
subcommand, but has no effect when completing options after an alias.
For instance, I have a git for b=branch in my .gitconfig file, and if I
press TAB after "git b" it is listed as an alias.  However if I type an
extra space and a dash before pressing TAB ("git b -"), I don't get any
completions.  Can the completion system substitute the alias text and
show me the completions for "git branch -" (presumably without actually
changing the "b" into "branch" on the command-line)?

One other thing I noticed is that the "config" subcommand appears twice:
once in useful_commands, and once in ancillary_commands.  This results
in some completing confusion when completing "conf".  I chose to just
dump one of them (I dumped the "useful" one), and that makes it work
better in my limited testing (but I'm not sure it's right).

Finally, if someone checks in some changes, there is a "thee" that
should be "the" in the "gc" command:

    'gc:cleanup unnecessary files and optimize thee local repository'

I could check-in a fix for that, but I figure it can wait for a more
substantial change (if one is coming).

..wayne..

