From zsh-users-return-12424-mason-zsh=primenet.com.au@sunsite.dk Fri Jan 11 21:29:42 2008
Return-Path: <zsh-users-return-12424-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 7050 invoked from network); 11 Jan 2008 21:29:40 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.4 (2008-01-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.4
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 11 Jan 2008 21:29:40 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 79582 invoked from network); 11 Jan 2008 21:29:22 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 11 Jan 2008 21:29:22 -0000
Received: (qmail 282 invoked by alias); 11 Jan 2008 21:29:10 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 12424
Received: (qmail 267 invoked from network); 11 Jan 2008 21:29:09 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 11 Jan 2008 21:29:09 -0000
Received: from virusfilter.dotsrc.org (bifrost [127.0.0.1])
	by spamfilter.dotsrc.org (Postfix) with ESMTP id 65BCE8058F99
	for <zsh-users@sunsite.dk>; Fri, 11 Jan 2008 22:29:08 +0100 (CET)
Received: from prunille.vinc17.org (vinc17.pck.nerim.net [213.41.242.187])
	by bifrost.dotsrc.org (Postfix) with ESMTP
	for <zsh-users@sunsite.dk>; Fri, 11 Jan 2008 22:29:08 +0100 (CET)
Received: by prunille.vinc17.org (Postfix, from userid 501)
	id 397CA1DA6BD0; Fri, 11 Jan 2008 22:29:07 +0100 (CET)
Date: Fri, 11 Jan 2008 22:29:07 +0100
From: Vincent Lefevre <vincent@vinc17.org>
To: "ZSH User List" <zsh-users@sunsite.dk>
Subject: Re: conflict of "exec zsh" with scp
Message-ID: <20080111212907.GC8113@prunille.vinc17.org>
Mail-Followup-To: "ZSH User List" <zsh-users@sunsite.dk>
References: <20080108220102.GB20640@spiegl.de> <20080110212717.GF28203@prunille.vinc17.org> <82839db60801101410w64a9c515v5f89ff3657fae062@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
In-Reply-To: <82839db60801101410w64a9c515v5f89ff3657fae062@mail.gmail.com>
X-Mailer-Info: http://www.vinc17.org/mutt/
User-Agent: Mutt/1.5.17-vl-r19795 (2007-12-11)
X-Virus-Scanned: ClamAV using ClamSMTP

On 2008-01-10 23:10:48 +0100, Anonymous bin ich wrote:
> You might be able to rectify problem once and for all by having
> something like this before your .bashrc:
> 
> if [ -n "$(echo $- | grep i)" ]; then
>   if [[ "$REALUSER" == "Andy Spiegl" ]]; then
>     which zsh >/dev/null 2>&1 && exec zsh -l
>   fi
> fi

This would have the effect to run zsh when one types bash from zsh.
This is bad as one may want to be able to use bash even though the
preferred login shell is zsh.

-- 
Vincent Lefèvre <vincent@vinc17.org> - Web: <http://www.vinc17.org/>
100% accessible validated (X)HTML - Blog: <http://www.vinc17.org/blog/>
Work: CR INRIA - computer arithmetic / Arenaire project (LIP, ENS-Lyon)

