From zsh-workers-return-6089-mason-zsh=primenet.com.au@sunsite.auc.dk Sat Apr 24 06:25:15 1999
Return-Path: <zsh-workers-return-6089-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1955 invoked from network); 24 Apr 1999 06:24:26 -0000
Received: from ns2.primenet.com.au (HELO primenet.com.au) (?jobGpqA5EKyNNcDmLVlr/hE4jPmjCKa4?@203.24.36.3)
  by ns1.primenet.com.au with SMTP; 24 Apr 1999 06:24:26 -0000
Received: (qmail 5108 invoked from network); 24 Apr 1999 05:57:44 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by 203.24.36.3 with SMTP; 24 Apr 1999 05:57:44 -0000
Received: (qmail 29902 invoked by alias); 24 Apr 1999 05:55:23 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 6089
Received: (qmail 29888 invoked from network); 24 Apr 1999 05:55:17 -0000
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <990423225356.ZM26290@candle.brasslantern.com>
Date: Fri, 23 Apr 1999 22:53:56 -0700
In-Reply-To: <199904221543.AAA09973@pop1.ngy.3web.ne.jp>
Comments: In reply to Tatsuo Furukawa <frkwtto@osk3.3web.ne.jp>
        "Re: Patch available for 3.0.6-pre-0" (Apr 23, 12:07am)
References: <199904221543.AAA09973@pop1.ngy.3web.ne.jp>
X-Mailer: Z-Mail (4.0b.820 20aug96)
To: zsh-workers@sunsite.auc.dk
Subject: Re: Patch available for 3.0.6-pre-0
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Apr 23, 12:07am, Tatsuo Furukawa wrote:
} Subject: Re: Patch available for 3.0.6-pre-0
}
} I think that most of users is NOT affected by this patch.  Because
} NORMAL terminal has RI= entry.  If the terminal has RI= entry, zsh
} will use it.  If it doesn't, zsh will use another method (TAB will be
} used).  So, maybe, I think you will not affect any more.
} 
} But, I am begining to think that it is not interesting to apply
} degrade patch.  So, I wrote a new patch. :-)
} 
} I added the code that zsh supports 'ch=' entry.
} And I found that zle_refresh.c has two similar function.
} (tc_rightcurs() and singmoveto()).  I modified tc_rightcurs().

I'd like at least Geoff's opinion before I commit to doing anything with
this patch.  In particular, emitting the ch capability may require up to
six or seven bytes, where a relative horizontal or vertical move might
require fewer (depending on distance).  I'm not sure just how optimized
this code is supposed to be.  Also, the "if (pos <= vcs / 2)" test may be
optimizing for an absolute move by tc_rightcurs(), and may not be as good
any longer if tc_rightcurs() makes a relative motion.  Geoff's the expert
on what's supposed to be happening in here.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

