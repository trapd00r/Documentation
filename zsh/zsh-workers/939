From kazda@VNET.IBM.COM Mon Apr 22 11:40:38 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by melb.werple.net.au (8.7.5/8.7.3) with ESMTP id LAA24251 for <mason@werple.mira.net.au>; Mon, 22 Apr 1996 11:40:35 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id VAA02649; Sun, 21 Apr 1996 21:20:24 -0400 (EDT)
Resent-Date: Sun, 21 Apr 1996 21:20:24 -0400 (EDT)
Date: Sun, 21 Apr 1996 21:20:09 -0400
From: <kazda@VNET.IBM.COM> (Mike Kazda)
Message-Id: <9604220120.AA18880@rumor.fishkill.ibm.com>
To: zsh-workers@math.gatech.edu
Subject: zsh-2.6-beta14 on AIX with login shell problem
Resent-Message-ID: <"9rUXe2.0.Jf.NxjUn"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/939
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu
Content-Length: 1267
Status: OR

There appears to be a problem in AIX 3.2.5 with the 2.6 beta related
to when zsh is a login shell.  Here's my situation, I normally ran ksh,
but switched months ago to use v2.5.03.  I did this rather easily by
adding the following to my .profile read by ksh:

  [ -x /afs/eds/u/kazda/bin/zsh ] && exec /afs/eds/u/kazda/bin/zsh -l

This will re-exec my zsh as a login shell.

Well, when I started trying out the 2.6 beta (starting w/beta13) I noticed
that my cursor keys were interpreted, but things like erase and beginning
of line functions did not move the cursor nor erase the characters,
although the actual buffer was modified correctly.

After further investigation, if I did a 'unsetopt zle' during the session
things went back to normal (cursor moved, chars erased).  So this leads
me to believe that something is wrong with the multi-line edit capabilites
in the beta under AIX.  Please note, with beta14 if I just do a zsh from
the command line, things work properly, although in beta13 they did not.

Does anyone have some insight into the terminal i/o initialization and
why it may be flakey on AIX 3.2.5?  beta14 works fine on AIX 4.1, SunOS 4.1.3,
Solaris 2.4, and HP-UX 9.03 which I've tested it out on (at least in this
respect).

Thanks,
Mike Kazda


