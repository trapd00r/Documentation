From aheading@jpmorgan.com Sat Jul 13 02:10:35 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by melb.werple.net.au (8.7.5/8.7.3/2) with ESMTP id CAA19526 for <mason@werple.mira.net.au>; Sat, 13 Jul 1996 02:10:34 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id MAA14672; Fri, 12 Jul 1996 12:04:26 -0400 (EDT)
Resent-Date: Fri, 12 Jul 1996 12:04:26 -0400 (EDT)
From: Anthony Heading <aheading@jpmorgan.com>
Message-Id: <199607121601.RAA13747@gmp-etpres1.uk.jpmorgan.com>
Subject: Re: Bug Report: Env Vars and shell functions
To: hzoli@cs.elte.hu (Zoltan Hidvegi)
Date: Fri, 12 Jul 1996 17:01:19 +0100 (BST)
Cc: zsh-workers@math.gatech.edu
In-Reply-To: <199607121527.RAA09051@bolyai.cs.elte.hu> from "Zoltan Hidvegi" at Jul 12, 96 05:27:28 pm
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"5JG7m1.0.Ab3.9Udvn"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/1630
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu
Content-Length: 1212
Status: O

> They were not really cosmetic.  Had you applied these you would not have
> received this.  These SEGV's are all caused by DPUTS, since it seems that
> you did not applied the patch which replaces X to Y in DPUTS in zsh.h line
> 1314.

Damn.  Sorry, then.  It was late.

> > On a related note, should the following not restore IFS?
> > 
> > sun4% IFS=@ set a@b@c@d; echo $IFS 
> > @
> 
> Here is what POSIX says:
> 
>      (2)  Variable assignments specified with special built-in utilities
>           shall remain in effect after the built-in completes; this shall
>           not be the case with a regular built-in or other utility.
> [ and ten other reasons why it wouldn't work...]

Aha.  There isn't a copy of the POSIX standard on the net, is there?  Then I
could stop identifying spurious non-bugs.  But IFS=$OLDIFS is so *ugly*.

> I'm writing these because these differences between zsh and POSIX are
> probably the most important ones.  Other than that zsh is now mostly POSIX
> conformant (POSIX does not allow the MAGICEQUALS behaviour of the typeset
> family but all other shells (bash, ksh93 and pdksh) do that unles
> POSIXLY_CORRECT is defined).

Those are pretty useful to know.  Thanks.

A


