From zsh-workers-return-27045-mason-zsh=primenet.com.au@sunsite.dk Mon Jun 08 16:27:32 2009
Return-Path: <zsh-workers-return-27045-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 14863 invoked from network); 8 Jun 2009 16:27:19 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from new-brage.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.254.104)
  by ns1.primenet.com.au with SMTP; 8 Jun 2009 16:27:19 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 36359 invoked from network); 8 Jun 2009 16:27:09 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 8 Jun 2009 16:27:09 -0000
Received: (qmail 11447 invoked by alias); 8 Jun 2009 16:27:01 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 27045
Received: (qmail 11423 invoked from network); 8 Jun 2009 16:26:59 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 8 Jun 2009 16:26:59 -0000
Received: from vms173017pub.verizon.net (vms173017pub.verizon.net [206.46.173.17])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 2B5D1801E289
	for <zsh-workers@sunsite.dk>; Mon,  8 Jun 2009 18:26:55 +0200 (CEST)
Received: from torch.brasslantern.com ([96.249.201.13])
 by vms173017.mailsrvcs.net
 (Sun Java(tm) System Messaging Server 6.3-7.04 (built Sep 26 2008; 32bit))
 with ESMTPA id <0KKX003DRGR8LSEI@vms173017.mailsrvcs.net> for
 zsh-workers@sunsite.dk; Mon, 08 Jun 2009 11:06:45 -0500 (CDT)
Received: from torch.brasslantern.com (localhost.localdomain [127.0.0.1])
	by torch.brasslantern.com (8.13.1/8.13.1) with ESMTP id n58G6h7p027730	for
 <zsh-workers@sunsite.dk>; Mon, 08 Jun 2009 09:06:44 -0700
Received: (from schaefer@localhost)	by torch.brasslantern.com
 (8.13.1/8.13.1/Submit) id n58G6g8l027729	for zsh-workers@sunsite.dk; Mon,
 08 Jun 2009 09:06:42 -0700
From: Bart Schaefer <schaefer@brasslantern.com>
Message-id: <090608090642.ZM27728@torch.brasslantern.com>
Date: Mon, 08 Jun 2009 09:06:42 -0700
In-reply-to: <200906080852.n588qJaK000472@news01.csr.com>
Comments: In reply to Peter Stephenson <pws@csr.com>
 "Re: run-help's man arguments" (Jun  8,  9:52am)
References: <2161.1244200252@csr.com>
	<C141D892-5C34-428A-87C2-4ABC5A60BFC1@kba.biglobe.ne.jp>
	<090605225330.ZM551@torch.brasslantern.com>
	<200906080852.n588qJaK000472@news01.csr.com>	<20090608135410.GA26835@scru.org>
	<200906081403.n58E3wQT003509@news01.csr.com>
In-reply-to: <200906081403.n58E3wQT003509@news01.csr.com>
Comments: In reply to Peter Stephenson <pws@csr.com>
 "Re: run-help's man arguments" (Jun  8,  3:03pm)
X-Mailer: OpenZMail Classic (0.9.2 24April2005)
To: zsh-workers@sunsite.dk
Subject: Re: run-help's man arguments
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii
X-Virus-Scanned: ClamAV 0.94.2/9437/Mon Jun  8 15:56:50 2009 on bifrost
X-Virus-Status: Clean

On Jun 8,  9:52am, Peter Stephenson wrote:
} Subject: Re: run-help's man arguments
}
} Bart Schaefer wrote:
} > You have a point there.  PWS, how did you manage to get run-help to
} > pass the entire locate command line to "man $@:t"?
} 
} It seems I'm using this widget.

(Sound of hand smacking forehead.)  I completely misunderstood your
original mail on this thread and confused the widget with the run-help
function that you patched.

} local -a line
} 
} line=(${(qq)${(z)BUFFER}})
} zle push-line
} BUFFER="run-help ${line}"
} zle accept-line

I can't find that anywhere (except this) in the zsh lists archives back
to 2003 (which I have where I can grep them).  Where did you find it, or
why did you write it?  (E.g., did you start trying it because you saw
the $@:t in run-help, or did you find $@:t because you were trying this?)

Incidentally $@:t has other problems with this widget, namely, it yields
an array consisting of the tail of every word on the command line, which
is probably not what you want.

On Jun 8,  3:03pm, Peter Stephenson wrote:
}
} I haven't been finding it *that* useful.  With a widget like this,
} run-help could be made cleverer in this respect by offering to give help
} for words following coproc, noglob, etc.

Hmm, run-help already does that for some keywords:

schaefer<503> coproc foo
schaefer<503> run-help foo  
foo not found
No manual entry for foo
schaefer<504> coproc foo

It doesn't do so for "noglob", "exec", etc. so I don't know exactly what
it is about coproc that's magical.

