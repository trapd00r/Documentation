From zsh-users-return-8379-mason-zsh=primenet.com.au@sunsite.dk Sun Jan 16 06:34:09 2005
Return-Path: <zsh-users-return-8379-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 20757 invoked from network); 16 Jan 2005 06:34:08 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 16 Jan 2005 06:34:08 -0000
Received: (qmail 93453 invoked from network); 16 Jan 2005 06:34:02 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 16 Jan 2005 06:34:02 -0000
Received: (qmail 29784 invoked by alias); 16 Jan 2005 06:33:11 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8379
Received: (qmail 29770 invoked from network); 16 Jan 2005 06:33:10 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 16 Jan 2005 06:33:10 -0000
Received: (qmail 92223 invoked from network); 16 Jan 2005 06:33:10 -0000
Received: from out001pub.verizon.net (HELO out001.verizon.net) (206.46.170.140)
  by a.mx.sunsite.dk with SMTP; 16 Jan 2005 06:33:06 -0000
Received: from candle.brasslantern.com ([4.11.10.129])
          by out001.verizon.net
          (InterMail vM.5.01.06.06 201-253-122-130-106-20030910) with ESMTP
          id <20050116063304.HJIY28025.out001.verizon.net@candle.brasslantern.com>;
          Sun, 16 Jan 2005 00:33:04 -0600
Received: from candle.brasslantern.com (IDENT:schaefer@localhost [127.0.0.1])
	by candle.brasslantern.com (8.12.11/8.12.11) with ESMTP id j0G6X06M023269;
	Sat, 15 Jan 2005 22:33:00 -0800
Received: (from schaefer@localhost)
	by candle.brasslantern.com (8.12.11/8.12.11/Submit) id j0G6X0K3023268;
	Sat, 15 Jan 2005 22:33:00 -0800
From: Bart Schaefer <schaefer@brasslantern.com>
Message-Id: <1050116063300.ZM23267@candle.brasslantern.com>
Date: Sun, 16 Jan 2005 06:33:00 +0000
In-Reply-To: <200501160216.15097.toshiro@internet.com.uy>
Comments: In reply to Toshiro <toshiro@internet.com.uy>
        "bug (feature?) in zsh" (Jan 16,  2:16am)
References: <200501160216.15097.toshiro@internet.com.uy>
X-Mailer: Z-Mail (5.0.0 30July97)
To: Toshiro <toshiro@internet.com.uy>, zsh-users@sunsite.dk
Subject: Re: bug (feature?) in zsh
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Authentication-Info: Submitted using SMTP AUTH at out001.verizon.net from [4.11.10.129] at Sun, 16 Jan 2005 00:33:00 -0600
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=6.0 tests=BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.6

On Jan 16,  2:16am, Toshiro wrote:
} Subject: bug (feature?) in zsh
}
} I'm using Debian unstable, zsh version 4.2.2. I've noticed that, when I 
} install a new package that puts some program in my path (for 
} example, /usr/bin) I can't invoke the program using completion in any zsh 
} shell that I have opened before installing the program. 

This is almost reaching FAQ status, but isn't yet in the FAQ.

The completion system (including compctl) uses the command hash table to
look up names for completion in command position, because it's expensive
to search the path for them.  That means that if you install some new
piece of software, you need to run 'rehash' before the completion system
will see it, as you discovered.

See the zsh-users thread with subject "HASH_LIST_ALL?" from October 2004
for more discussion; in particular, article 8059 presents a technique
for working around this behavior.

