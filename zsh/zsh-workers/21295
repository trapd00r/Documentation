From zsh-workers-return-21295-mason-zsh=primenet.com.au@sunsite.dk Wed Jun 01 08:26:07 2005
Return-Path: <zsh-workers-return-21295-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18555 invoked from network); 1 Jun 2005 08:26:06 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 1 Jun 2005 08:26:06 -0000
Received: (qmail 91937 invoked from network); 1 Jun 2005 08:26:00 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 1 Jun 2005 08:26:00 -0000
Received: (qmail 9459 invoked by alias); 1 Jun 2005 08:25:54 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 21295
Received: (qmail 9449 invoked from network); 1 Jun 2005 08:25:54 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 1 Jun 2005 08:25:54 -0000
Received: (qmail 91344 invoked from network); 1 Jun 2005 08:25:54 -0000
Received: from cluster-e.mailcontrol.com (HELO rly07e.srv.mailcontrol.com) (217.79.216.190)
  by a.mx.sunsite.dk with SMTP; 1 Jun 2005 08:25:47 -0000
Received: from iris.logica.co.uk (iris.logica.co.uk [158.234.9.163])
	by rly07e.srv.mailcontrol.com (MailControl) with ESMTP id j518PftG001870;
	Wed, 1 Jun 2005 09:25:41 +0100
Received: from trentino.logica.co.uk ([158.234.142.59])
	by iris.logica.co.uk (8.12.3/8.12.3/Debian -4) with ESMTP id j518PfKM017761;
	Wed, 1 Jun 2005 09:25:41 +0100
Received: from trentino.groupinfra.com (localhost [127.0.0.1])
	by trentino.logica.co.uk (Postfix) with ESMTP id 36F86677DA;
	Wed,  1 Jun 2005 10:25:41 +0200 (CEST)
X-VirusChecked: Checked
X-StarScan-Version: 5.0.7; banners=.,-,-
In-reply-to: <1050530184143.ZM30459@candle.brasslantern.com> 
From: Oliver Kiddle <okiddle@yahoo.co.uk>
References: <200505261638.SAA09610@sdt.univ-brest.fr> <20050526191520.GA30061@scowler.net> <42971781.9050402@free.fr> <20050530140616.GA7651@scowler.net> <1050530184143.ZM30459@candle.brasslantern.com>
To: zsh-workers@sunsite.dk, 310872@bugs.debian.org
Subject: Re: Bug#310872: zsh can't be a ksh replacement (can't trap ERR). 
Date: Wed, 01 Jun 2005 10:25:41 +0200
Message-ID: <9879.1117614341@trentino.groupinfra.com>
X-Scanned-By: MailControl A-04-00-00-235 (www.mailcontrol.com)
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=6.0 tests=BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.6

Bart wrote:
> (Google indicates that ksh does run
> on UNICOS; I wonder what it does with ERR in that case.)

I tried asking on ast-users and received the following answer from Glenn
Fowler:

| ksh does not currently handle this
| but I talked with David Korn and the next release will do the following
| 
| the "SIG" prefix is optional for trap and kill, e.g., "HUP" == "SIGHUP"
| the change will be to do only a signal lookup when a "SIG" prefix is specified,
| and a shell trap name lookup followed by a signal lookup otherwise
| 
| so, on systems like unicos that have SIGERR, the trap name "SIGERR" refers
| to the signal, and "ERR" refers to the shell trap on error
| "SIGERR" on systems with no SIGERR signal will fail
| 
| this approach will handle all future non-posix signal/shell-trap clashes,
| e.g., if some system invents SIGEXIT

That would seem a far better solution to me than having a separate ZERR,
especially as it deals with future conflicts. Would it be hard for us to
do that same in zsh? We can always keep ZERR for backward compatibility.

Oliver


This e-mail and any attachment is for authorised use by the intended recipient(s) only. It may contain proprietary material, confidential information and/or be subject to legal privilege. It should not be copied, disclosed to, retained or used by, any other party. If you are not an intended recipient then please promptly delete this e-mail and any attachment and all copies and inform the sender. Thank you.

