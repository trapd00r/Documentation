From zsh-workers-return-18628-mason-zsh=primenet.com.au@sunsite.dk Wed Jun 25 03:45:54 2003
Return-Path: <zsh-workers-return-18628-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4574 invoked from network); 25 Jun 2003 03:45:53 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 25 Jun 2003 03:45:53 -0000
Received: (qmail 21553 invoked by alias); 25 Jun 2003 03:45:48 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 18628
Received: (qmail 21546 invoked from network); 25 Jun 2003 03:45:48 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 25 Jun 2003 03:45:48 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [66.92.109.225] by sunsite.dk (MessageWall 1.0.8) with SMTP; 25 Jun 2003 3:45:47 -0000
Received: by acolyte.scowler.net (Postfix, from userid 1000)
	id C6C337003D; Tue, 24 Jun 2003 23:45:46 -0400 (EDT)
Date: Tue, 24 Jun 2003 23:45:46 -0400
From: Clint Adams <clint@zsh.org>
To: zsh-workers@sunsite.dk
Subject: PATCH: _bug (reportbug/querybts updates)
Message-ID: <20030625034546.GA11245@acolyte.scowler.net>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.5.4i

Someone complained that this was years behind the times.

Index: Completion/Debian/Command/_bug
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Debian/Command/_bug,v
retrieving revision 1.1
diff -u -r1.1 _bug
--- Completion/Debian/Command/_bug	2 Apr 2001 12:22:07 -0000	1.1
+++ Completion/Debian/Command/_bug	25 Jun 2003 03:44:58 -0000
@@ -6,7 +6,6 @@
            '-m[maintainer-only]' \
            '-p[print to stdout instead of mail]' \
            '-h[help]' \
-           '-v[version]' \
            '*:package:_deb_packages installed')
 
 
@@ -23,10 +22,10 @@
 _arguments '-c[exclude configs from report]' \
            '-f[argument is a file, not a package]' \
            '-H[special header]:custom header:' \
-           '-p[print to stdout instead of mail]' \
            '-q[quiet - no e-mail forwarding]' \
            '-s[set subject]:subject:' \
-           '-S[set severity]:severity:(wishlist normal important grave critical)' \
+           '-S[set severity]:severity:(wishlist normal important serious grave critical)' \
+           '-v[version]' \
            '-x[do not cc submitter]' \
            '-z[send configs verbatim]' \
            "$_bug_commonargs[@]"
@@ -35,14 +34,14 @@
 reportbug)
 _arguments '(--no-config-files)-c[exclude configs from report]' \
            '(-c)--no-config-files' \
-           '(--file)-f[argument is a file, not a package]:filename:' \
-           '(-f)--file=:filename:_files' \
+           '(--filename)-f[argument is a file, not a package]:filename:_files' \
+           '(-f)--filename=:filename:_files' \
            '(--header)-H[special header]:custom header:' \
            '(-H)--header=:custom header:' \
            '(--subject)-s[set subject]:subject:' \
            '(-s)--subject=:subject:' \
-           '(--severity)-S[set severity]:severity:(wishlist normal important grave critical)' \
-           '(-S)--severity=:severity:(wishlist normal important grave critical)' \
+           '(--severity)-S[set severity]:severity:(wishlist normal important serious grave critical)' \
+           '(-S)--severity=:severity:(wishlist normal important serious grave critical)' \
            '(--no-cc)-x[do not cc submitter]' \
            '(-x)--no-cc' \
            '(--no-compress)-z[send configs verbatim]' \
@@ -51,13 +50,21 @@
            '(-a)--af[use af instead of editor]' \
            '(--no-bts-query)-b[do not check bts]' \
            '(-b)--no-bts-query' \
-           '(--gnupg)-g[sign report with GnuPG]' \
-           '(-g)--gnupg[sign report with GnuPG]' \
+           '(--gpg --gnupg)-g[sign report with GnuPG]' \
+           '(-g --gpg)--gnupg[sign report with GnuPG]' \
+           '(-g --gnupg)--gpg[sign report with GnuPG]' \
            '(--include)-i[include text]:include file:_files' \
            '(-i)--include=:include file:_files' \
+           '(--attach)-A[attach file]:attachment:_files' \
+           '(-A)--attach=:attachment:_files' \
            '(--mutt)-M[use mutt instead of editor]' \
            '(-M)--mutt' \
+           '(--gnus)-G[use GNUS instead of editor]' \
+           '(-G)--gnus' \
+           '(--editor)-e[use specified editor instead of editor]:editor:' \
+           '(-e)--editor=:editor:' \
            '--mua=[use specified mua instead of editor]' \
+           '--mta=[use specified mta]' \
            '(--nmh --mh)-n[use comp instead of editor]' \
            '(-n --mh)--nmh' \
            '(--nmh -n)--mh' \
@@ -65,15 +72,56 @@
            '(-o)--output=:output file:_files' \
            '(--pgp)-P[sign report with PGP]' \
            '(-P)--pgp' \
-           '--realname=' \
+	   '(--class)-C:GNATS report class:' \
+	   '(-C)--class=:GNATS report class:' \
+           '--realname=:real name:' \
            '(--replyto)--reply-to=' \
            '(--reply-to)--replyto=' \
+           '--email=:originating address:' \
+           '--smtphost=:SMTP server:_hosts' \
            '(--print)-p[print to stdout instead of mail]' \
            '(-p)--print' \
-           '(--quiet)-q[quiet - no e-mail forwarding]' \
+           '(--quiet)-q[reduce verbosity of output]' \
            '(-q)--quiet' \
+           '(--no-query-source)--query-source' \
+           '(--query-source)--no-query-source' \
+           '(--no-debconf)--debconf' \
+           '(--debconf)--no-debconf' \
            '(--query-only)-Q[do not submit]' \
            '(-Q)--query-only' \
+	   '(--justification)-j:justification:' \
+	   '(-j)--justification=:justification:' \
+	   '(--package-version)-V:package version:' \
+	   '(-V)--package-version=:package version:' \
+	   '(--interface)-u:user interface:' \
+	   '(-u)--interface=:user interface:' \
+	   '(--type)-t:type of report:' \
+	   '(-t)--type=:type of report:' \
+	   '--template[output a template report only]' \
+	   '--configure[reconfigure reportbug for this user]' \
+	   '(--no-check-available)--check-available' \
+	   '(--check-available)--no-check-available' \
+	   '--mode=' \
+	   '(--verify --no-verify)-v[verify integrity with debsums]' \
+	   '(--no-verify -v)--verify' \
+	   '(--verify -v)--no-verify' \
+	   '(--kudos)-k[send appreciative email to maintainer]' \
+	   '(-k)--kudos' \
+	   '--mirror=:BTS mirror:_hosts' \
+	   '--list-cc=:carbon copy:' \
+	   '--report-quiet' \
+	   '(--offline)-O[disable external queries]' \
+	   '(-O)--offline' \
+	   '(--query-bts --no-query-bts)-b[do not query BTS]' \
+	   '(-b --query-bts)--no-query-bts' \
+	   '(-b --no-query-bts)--query-bts' \
+	   '(--tags)-T[add specified tags]:tags:' \
+	   '(-T)--tags=:tags:' \
+	   '(-p)--print[print to stdout instead of mail]' \
+	   '(-m)--maintonly' \
+	   '(-d)--debug' \
+	   '--version' \
+	   '--license' \
            "$_bug_commonargs[@]" \
 	   "$_rb_commonargs[@]"
 ;;
@@ -81,6 +129,12 @@
 querybts)
 _arguments '(--web)-w[launch external web browser]' \
            '(-w)--web' \
+	   '(--archive)-A[Browse archived bugs]' \
+	   '(-A)--archive' \
+	   '(--source)-s[Query for source packages rather than binary]' \
+	   '(-s)--source' \
+	   '(--version)-v[show version]' \
+	   '(-v)--version' \
            "$_rb_commonargs[@]" \
            '*:package:_deb_packages avail'
 

