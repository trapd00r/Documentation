From zsh-workers-return-6852-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Jun 25 13:22:23 1999
Return-Path: <zsh-workers-return-6852-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8801 invoked from network); 25 Jun 1999 13:22:21 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 25 Jun 1999 13:22:21 -0000
Received: (qmail 24765 invoked by alias); 25 Jun 1999 13:22:01 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 6852
Received: (qmail 24757 invoked from network); 25 Jun 1999 13:22:01 -0000
X-Envelope-Sender-Is: Andrej.Borsenkow@mow.siemens.ru (at relayer david.siemens.de)
From: "Andrej Borsenkow" <Andrej.Borsenkow@mow.siemens.ru>
To: "Sven Wischnowsky" <wischnow@informatik.hu-berlin.de>,
        <zsh-workers@sunsite.auc.dk>
Subject: RE: PATCH: loop killing
Date: Fri, 25 Jun 1999 17:21:50 +0400
Message-ID: <000e01bebf0d$af2f5f30$21c9ca95@mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2314.1300
In-reply-to: <199906240908.LAA27110@beta.informatik.hu-berlin.de>
Importance: Normal

>
>   zcat ... | while true; do zcat ...; done
>
> Here we need two ^C's to interrupt the whole thing.

I just tried it (zcat | while true; do zcat ; done) and it stops at the first
^C. May be, there are subtleties I miss or it has something to do with the last
process group patch.

Well done, really!

Ooops! Just found something weird:

bor@itsrm2:~%> zcat | while true
do
zcat
done
Now press ^\ (QUIT)
bor@itsrm2:~%>

??? QUIT is supposed to give you core ... Once more:

bor@itsrm2:~%> zcat | while true
do
zcat
done
^Zzsh: suspended  zcat | while true; do; zcat; done
bor@itsrm2:~%> fg
[13]  - continued  zcat | while true; do; zcat; done
^\zsh: quit (core dumped)  zcat | while true; do; zcat; done

(note, that I have noticeable delay between ^\ and core dumped message ... but,
may be, it is related to wrinting core ...)

It is even worse

bor@itsrm2:~%> while true
do
zcat
done
^Z^Z^Z^Z^Z^Z^Z

Nothing happens at all.

/andrej

This is with all but the last patch of Peter (typeset -g).

