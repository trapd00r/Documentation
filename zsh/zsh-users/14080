From zsh-users-return-14080-mason-zsh=primenet.com.au@sunsite.dk Fri May 01 11:56:33 2009
Return-Path: <zsh-users-return-14080-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 28724 invoked from network); 1 May 2009 11:56:29 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 1 May 2009 11:56:29 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 78789 invoked from network); 1 May 2009 11:56:17 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 1 May 2009 11:56:17 -0000
Received: (qmail 6520 invoked by alias); 1 May 2009 11:56:03 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 14080
Received: (qmail 3424 invoked from network); 1 May 2009 11:49:22 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 1 May 2009 11:49:22 -0000
Received: from mjollnir.org (mjollnir.org [202.78.240.81])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 6CB168028C71
	for <zsh-users@sunsite.dk>; Fri,  1 May 2009 13:46:46 +0200 (CEST)
Received: from localhost (localhost [127.0.0.1])
	by mjollnir.org (Postfix) with ESMTP id C89DD28A276
	for <zsh-users@sunsite.dk>; Fri,  1 May 2009 13:49:04 +0200 (CEST)
X-Virus-Scanned: Debian amavisd-new at mjollnir.org
Received: from mjollnir.org ([127.0.0.1])
	by localhost (mjollnir.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id PUnVBgtIhfbp for <zsh-users@sunsite.dk>;
	Fri,  1 May 2009 13:48:53 +0200 (CEST)
Received: from hermia.mjollnir.org (84-75-157-73.dclient.hispeed.ch [84.75.157.73])
	(Authenticated sender: penny)
	by mjollnir.org (Postfix) with ESMTP id D0B7B28A20E
	for <zsh-users@sunsite.dk>; Fri,  1 May 2009 13:48:52 +0200 (CEST)
Received: by hermia.mjollnir.org (Postfix, from userid 1000)
	id CE4F9220ED; Fri,  1 May 2009 13:48:57 +0200 (CEST)
Date: Fri, 1 May 2009 13:48:57 +0200
From: Penny Leach <penny@mjollnir.org>
To: zsh-users@sunsite.dk
Subject: vcs info not working for me with svn
Message-ID: <20090501114857.GA14838@mjollnir.org>
MIME-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-sha1;
	protocol="application/pgp-signature"; boundary="J2SCkAp4GZ/dPZZf"
Content-Disposition: inline
User-Agent: Mutt/1.5.18 (2008-05-17)
X-Virus-Scanned: ClamAV 0.92.1/9309/Fri May  1 05:55:03 2009 on bifrost
X-Virus-Status: Clean


--J2SCkAp4GZ/dPZZf
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

Hello, zsh list!

I switched to zsh only today, so please be gentle if there's something
completely silly I'm doing! ;)

End dislcaimer.  I set up vsc_info and it works nice and does what I want.
I even managed to customise the output.  This is all awesome.

I use three vcs in everyday life: git, svn and cvs.  vcs_info is working
great for git and cvs, but not svn...=20

Home directory (under git)

hermia:[git/master-!?]:~%

A CVS checkout:

hermia:[cvs/moodle-]:~/src/moodle/headcvs%

An SVN checkout;

hermia:[git/master-!?]:~/src/web/liipto%

svn info .
URL: http://svn.liip.ch/repos/public/misc/liipto/trunk
(amongst other things)

This is clearly an svn checkout, yet not recognised as such.

vcs_info_printsys has svn, not commented out... (svn, cvs and git are the
only three left).

It's definitely updating every cd, as cd-ing from ~ to ~/src/moodle/headcvs
updates the prompt.


In case it helps, config file:=20

http://rafb.net/p/vnHBCt31.html


Any advice or help would be greatly appreciated. I joined #zsh (Mjollnir`),
in case anyone wants to try an interactive debug (I will repost here with a
solution if we find one).

Miscellaneous other questions:

- Is it possible to change unstagedstr to include untracked new files?  Or
  alternatively, add a new str entirely to catch that? It would be nice to
  add a 'your working directory is not clean' option.

- As you can see from my above config, I have %c%u with a - before them.  I
  would really like to not include the - if they're both empty.  Total
  nitpick, I know! I tried inserting something like (%c|%u.-%c%u.) into the
  format, but that didn't work (I was completely guessing, see above
  disclaimer)

In general: awesome work! :)


Cheers
Penny
Please cc me, I'm not subscribed!



--=20
/* ---------------------------------------------------
Penny Leach | http://mjollnir.org | http://she.geek.nz
GPG: 8347 00FC B5BF 6CC0 0FC9 AB90 1875 120A A30E C22B
--------------------------------------------------- */

--J2SCkAp4GZ/dPZZf
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: Digital signature
Content-Disposition: inline

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (GNU/Linux)

iEYEARECAAYFAkn64akACgkQGHUSCqMOwivXGwCgwHtJFN0Oz5ypnMv+x6e7HMXW
rccAoMD78JnaGTZ85Ukrs4XbDaBido7o
=tn4t
-----END PGP SIGNATURE-----

--J2SCkAp4GZ/dPZZf--

