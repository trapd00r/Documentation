From zsh-users-return-5730-mason-zsh=primenet.com.au@sunsite.dk Thu Jan 16 14:26:14 2003
Return-Path: <zsh-users-return-5730-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 16771 invoked from network); 16 Jan 2003 14:26:13 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 16 Jan 2003 14:26:13 -0000
Received: (qmail 13170 invoked by alias); 16 Jan 2003 14:25:34 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 5730
Received: (qmail 13155 invoked from network); 16 Jan 2003 14:25:33 -0000
X-VirusChecked: Checked
X-Env-Sender: kiddleo@logica.com
X-Msg-Ref: server-5.tower-4.messagelabs.com!1042727107!29864
X-Authentication-Warning: iris.logica.co.uk: Host [158.234.142.11] claimed to be finches.logica.co.uk
cc: Zsh users list <zsh-users@sunsite.dk>
In-reply-to: <20030115193354.41151.qmail@web12305.mail.yahoo.com>
From: Oliver Kiddle <okiddle@yahoo.co.uk>
References: <20030115193354.41151.qmail@web12305.mail.yahoo.com>
To: Le Wang <lewang@yahoo.com>
Subject: Re: terminfo, cygwin troubles
Date: Thu, 16 Jan 2003 15:27:55 +0100
Message-ID: <3153.1042727275@finches.logica.co.uk>
Sender: kiddleo@logica.com

On 15 Jan, you wrote:

> I'm having some trouble with the $TERMINFO variable. 
> I've set the variable according to 'man terminfo'. 
> But zsh doesn't seem to check my $TERMINFO for the
> required descriptors.  Am I missing something?  I know
> that it's set correctly since 'man' works correctly
> when $TERMINFO is set, but fails when it's not set.

I'm not sure without having access to cygwin. $TERMINFO contains the
directory containing the terminfo database right? It might be using
termcap instead.

> On another note, doing 'ls -F' is really slow on
> cygwin.     The zsh completion mechanism seems to do
> something very similar to this.  How can I just get
> normal menu completion listings without helpful little
> symbol suffixes?

You could try `unsetopt listtypes' but I've no idea if it will help the
speed.

> _files "$expl[@]" -g '*.mp3'

> However this narrows the list too much.  I need any
> mp3s or directories, with the mp3s sorted first.  How
> would I accomplish this?  (I think this should be
> trivial, bit I've never been able to figure it out.)

Generally, that isn't done in the completion function but is configured
by each user. The following style (which is the default in 4.1) may
help. If you want it to work on the mp3 commands only, you'll need to
change the context part.

  zstyle ':completion:*' file-patterns \
      '%p:globbed-files *(-/):directories' '*:all-files'

Oliver

This e-mail and any attachment is for authorised use by the intended recipient(s) only.  It may contain proprietary material, confidential information and/or be subject to legal privilege.  It should not be copied, disclosed to, retained or used by, any other party.  If you are not an intended recipient then please promptly delete this e-mail and any attachment and all copies and inform the sender.  Thank you.

