From zsh-users-return-15291-mason-zsh=primenet.com.au@zsh.org Tue Aug 17 21:01:38 2010
Return-Path: <zsh-users-return-15291-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5004 invoked by alias); 17 Aug 2010 21:01:38 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 15291
Received: (qmail 3591 invoked from network); 17 Aug 2010 21:01:33 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.9 required=5.0 tests=BAYES_00,FREEMAIL_FROM,
	RCVD_IN_DNSWL_NONE,T_TO_NO_BRKTS_FREEMAIL autolearn=ham version=3.3.1
Received-SPF: pass (ns1.primenet.com.au: SPF record at aol.com designates 64.12.143.152 as permitted sender)
Cc: Peter Stephenson <p.w.stephenson@ntlworld.com>
Message-Id: <4F8070EE-62C6-448F-A847-5F79446BE4FE@aol.com>
From: Kanny <kanny96@aol.com>
To: zsh-users@zsh.org
In-Reply-To: <25463FD3-8BF0-48BB-924C-7640F8BCA4B6@aol.com>
Content-Type: text/plain; charset=WINDOWS-1252; format=flowed; delsp=yes
Content-Transfer-Encoding: quoted-printable
Mime-Version: 1.0 (Apple Message framework v936)
Subject: Re: Installation compiling error in builtin.c, builtin.epro
Date: Wed, 18 Aug 2010 02:31:14 +0530
References: <474DE3DB-5F98-496F-8906-88399EC24238@aol.com> <20100815191656.795168fa@pws-pc> <25463FD3-8BF0-48BB-924C-7640F8BCA4B6@aol.com>
X-Mailer: Apple Mail (2.936)
x-aol-global-disposition: S
X-AOL-SCOLL-SCORE: 0:2:441508480:93952408  
X-AOL-SCOLL-URL_COUNT: 0  
X-AOL-REROUTE: YES 
x-aol-sid: 3039ac1d33c14c6af8a23083
X-AOL-IP: 122.177.0.22

The problem was probably not with gcc version. I installed mac port =20
and then gave the command "sudo port install zsh-devel" to  install =20
zsh 3.4.10 without any problem. It installed a few dependencies first =20=

that I guess were missing.

On Aug 16, 2010, at 12:48 AM, Kanny wrote:

> Peter, thanks for the reply.
> The file builtin.epro looks fine:
>
> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
> /* Generated automatically */
> #ifndef have_Src_builtin_globals
> #define have_Src_builtin_globals
>
> extern mod_import_variable HashTable builtintab;
> extern void createbuiltintable _((void));
> extern int execbuiltin _((LinkList args,Builtin bn));
> extern int bin_enable _((char*name,char**argv,Options ops,int func));
> extern int bin_set _((char*nam,char**args,UNUSED(Options =20
> ops),UNUSED(int func)));
> extern int doprintdir;
> extern int bin_pwd _((UNUSED(char*name@>,UNUSED(char**argv),Options =20=

> ops,UNUSED(int func)));
> extern mod_import_variable LinkList dirstack;
> extern int bin_dirs _((UNUSED(char*name),char**argv,Options =20
> ops,UNUSED(int func)));
> extern void set_pwd_env _((void));
> .
> .
> extern int bin_umask _((char*nam,char**args,Options ops,UNUSED(int =20
> func)));
> extern mod_import_function int bin_notavail =20
> _((char*nam,UNUSED(char**argv),UNUSED(Options ops),UNUSED(int func))
> );
>
> #endif /* !have_Src_builtin_globals */
> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
>
> I tried to google 'unterminated argument list invoking macro "_" ' =20
> and many forums suggest it due to compiler outdated. So I checked =20
> gcc --version and it was 4.0.1. I also happened to have 4.2.1 so I =20
> reset the symlinks and made it active. Then performed "make =20
> distclean"; configure; make, and got similar but not the same error:
>
> =3D=3D=3D=3D=3D=3D=3D=3D
> gcc -c -I.  -DHAVE_CONFIG_H -Wall -Wmissing-prototypes -O2  -o =20
> builtin.o builtin.c
> In file included from zsh.mdh:34,
>                 from builtin.c:33:
> builtin.epro:57:1: error: unterminated argument list invoking macro =20=

> "_"
> In file included from zsh.mdh:34,
>                 from builtin.c:33:
> builtin.epro:11: error: expected =91=3D=92, =91,=92, =91;=92, =91asm=92 =
or =20
> =91__attribute__=92 before =91_=92
> In file included from zsh.mdh:61,
>                 from builtin.c:33:
> utils.epro:22: error: stray =91@=92 in program
> utils.epro:22: error: expected =91=3D=92, =91,=92, =91;=92, =91asm=92 =
or =20
> =91__attribute__=92 before =91{=92 token
> make[2]: *** [builtin.o] Error 1
> make[1]: *** [modobjs] Error 2
> make: *** [all] Error 1
> =3D=3D=3D=3D=3D=3D=3D=3D=3D
>
> All this while I had already initiated svn co svn://gcc.gnu.org/svn/=20=

> gcc/tags/gcc_4_5_1_release gcc-4.5.1 to get the latest gcc. It just =20=

> finished, but man that's a whole 1.1GB for gcc??? I am seriously =20
> deterred to compile that beast to get zsh updated while everything =20
> else seems to be fine! If this error is fixable by any other means I =20=

> would like to try that first.
>
> Thanks
>
>
> On Aug 15, 2010, at 11:46 PM, Peter Stephenson wrote:
>
>> On Sun, 15 Aug 2010 21:55:40 +0530
>> Kanny  wrote:
>>> I am trying to install Zsh 4.3.10 on Mac OS X 10.5.8 PPC and getting
>>> the following error when running "make":
>>>
>>> =3D=3D=3D=3D=3D=3D=3D=3D
>>> gcc -c -I.  -DHAVE_CONFIG_H -Wall -Wmissing-prototypes -O2  -o
>>> builtin.o builtin.c
>>> In file included from zsh.mdh:34,
>>>                 from builtin.c:33:
>>> builtin.epro:57:1: error: unterminated argument list invoking =20
>>> macro "_"
>>
>> The problem is occuring when using the macro:
>>
>> #ifdef PROTOTYPES
>> # define _(Args) Args
>> #else
>> # define _(Args) ()
>> #endif
>>
>> (defined in system.h) which should convert things like
>>
>> extern int bin_umask _((char*nam,char**args,Options ops,UNUSED(int =20=

>> func)));
>>
>> into
>>
>> extern int bin_umask (char*nam,char**args,Options ops,UNUSED(int =20
>> func));
>>
>> However, the error doesn't give much clue as to why it's going wrong
>> here.  Are there obvious errors within builtin.epro (that might be
>> caused by awk or sed going haywire)?  You can mail it as an =20
>> attachment
>> if it's not obvious.  If it is wrong builtin.syms might be the
>> interesting one.  Also check what "AWK =3D " is set to in the =
generated
>> Makemod in the same (Src) directory.
>>
>> --=20
>> Peter Stephenson <p.w.stephenson@ntlworld.com>
>> Web page now at http://homepage.ntlworld.com/p.w.stephenson/
>

