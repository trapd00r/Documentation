From zsh-workers-return-6371-mason-zsh=primenet.com.au@sunsite.auc.dk Mon May 31 01:29:10 1999
Return-Path: <zsh-workers-return-6371-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8293 invoked from network); 31 May 1999 01:29:08 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 31 May 1999 01:29:08 -0000
Received: (qmail 4718 invoked by alias); 31 May 1999 01:29:00 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 6371
Received: (qmail 4701 invoked from network); 31 May 1999 01:28:58 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <990531012847.ZM720@candle.brasslantern.com>
Date: Mon, 31 May 1999 01:28:46 +0000
In-Reply-To: <9905071340.AA43256@ibmth.df.unipi.it>
Comments: In reply to Peter Stephenson <pws@ibmth.df.unipi.it>
        "PATCH: 3.1.5-pws-N: unset fix" (May  7,  3:40pm)
References: <9905071340.AA43256@ibmth.df.unipi.it>
X-Mailer: Z-Mail (5.0.0 30July97)
To: Peter Stephenson <pws@ibmth.df.unipi.it>,
        zsh-workers@sunsite.auc.dk (Zsh hackers list)
Subject: Re: PATCH: 3.1.5-pws-N: unset fix
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On May 7,  3:40pm, Peter Stephenson wrote:
} Subject: PATCH: 3.1.5-pws-N: unset fix
}
} The first hunk of this is relevant to 3.0.6, although the if (pm->flags &
} PM_UNSET) test needs adding by hand.

Are you sure this is relevant to 3.0.6?  As far as I know, prior to the
associative array changes in 3.1.5+ parameters with PM_UNSET were never
permitted to appear in the paramtab.  (So the 3.1.5+ bug is probably my
fault for missing a spot where PM_UNSET needed to be tested.)

} [...] in 3.0.6 [...] I noticed that if a parameter that was local in one
} function is unset in a function called from that, it will be restored next
} time in global scope [...] which may not be intended [...]
} so it may be a bug.  Should I send a patch for both for 3.0.6?

You should either send a patch or make mention of the difference in the
FAQ somewhere, or perhaps both.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

