From zsh-users-return-4747-mason-zsh=primenet.com.au@sunsite.dk Sat Mar 09 23:48:18 2002
Return-Path: <zsh-users-return-4747-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1173 invoked from network); 9 Mar 2002 23:48:18 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 9 Mar 2002 23:48:18 -0000
Received: (qmail 12604 invoked by alias); 9 Mar 2002 23:47:57 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4747
Received: (qmail 12592 invoked from network); 9 Mar 2002 23:47:56 -0000
X-Authentication-Warning: greux.loria.fr: lefevre set sender to vincent@vinc17.org using -f
Date: Sun, 10 Mar 2002 00:46:51 +0100
From: Vincent Lefevre <vincent@vinc17.org>
To: zsh-users@sunsite.dk
Subject: Inconsistent behaviour of cd and AUTO_CD
Message-ID: <20020309234651.GA23412@greux.loria.fr>
Mail-Followup-To: zsh-users@sunsite.dk
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
User-Agent: Mutt/1.5.0i
X-Mailer-Info: http://www.vinc17.org/mutt/

With zsh 4.0.4 and AUTO_CD, under Linux and ext3 filesystem type:

ay:~> mkdir blah
ay:~> cd blah
ay:~/blah> ..
ay:~> cd blah
ay:~/blah> rmdir ../blah
ay:~/blah> ..
zsh: permission denied: ..
zsh: exit 1     ..
ay:~/blah[Failed 1]> cd ..
ay:~>

The problem is that after the rmdir, "ls -a" no longer lists . and ..
(though doing something like "cat > .." gives the following error:
"zsh: is a directory: .."). When using ".." only, the directory can't
be found, but when using "cd ..", zsh assumes that the directory ..
still exists.

-- 
Vincent Lefèvre <vincent@vinc17.org> - Web: <http://www.vinc17.org/> - 100%
validated (X)HTML - Acorn Risc PC, Yellow Pig 17, Championnat International
des Jeux Mathématiques et Logiques, TETRHEX, etc.
Work: CR INRIA - computer arithmetic / SPACES project at LORIA

