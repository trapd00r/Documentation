From zsh-users-return-12766-mason-zsh=primenet.com.au@sunsite.dk Wed Apr 09 04:41:03 2008
Return-Path: <zsh-users-return-12766-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 14517 invoked from network); 9 Apr 2008 04:41:02 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.4 (2008-01-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.4
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 9 Apr 2008 04:41:02 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 67230 invoked from network); 9 Apr 2008 04:40:52 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 9 Apr 2008 04:40:52 -0000
Received: (qmail 232 invoked by alias); 9 Apr 2008 04:40:44 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 12766
Received: (qmail 216 invoked from network); 9 Apr 2008 04:40:43 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 9 Apr 2008 04:40:43 -0000
Received: from fk-out-0910.google.com (fk-out-0910.google.com [209.85.128.191])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 0AC20802A5F0
	for <zsh-users@sunsite.dk>; Wed,  9 Apr 2008 06:40:39 +0200 (CEST)
Received: by fk-out-0910.google.com with SMTP id 22so3816839fkq.13
        for <zsh-users@sunsite.dk>; Tue, 08 Apr 2008 21:40:39 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        bh=lN3JR5MZDNJ9YjQKwSEVYeDDB/olV5qDO8T7EHbYMQE=;
        b=lyBmmWnYDojw9kZSYW3pt6l7NBTOHIacR7oRn5y9uxWUIrcKpJy+s5JhJTczD2cDA4khWhTZ8zqn2emNVXvQ/blvGgoymWc0J7RE1dEmOIh2SmsEtTLVQfGXdJcnFjLPCnvJTUV4HDnokP6w8DDzcP0OsLVHoFOaE+hKk+2DMFI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=hiW0PFDxSbpxkci6w0r2oOycOZSibNMKVz/YgSqgdIB035dX1IwoUDZn73hCk+5QVGycxDfB0ZTh8zPekCQtytcU1lwS39rB33/HXkwPU/YbcezGuexERx0s9/A4l0+6x8fPqj9CEeAVW9CZ5leosOLA/gfrF/PPBwBJir0UMCA=
Received: by 10.78.178.5 with SMTP id a5mr14940234huf.5.1207716038987;
        Tue, 08 Apr 2008 21:40:38 -0700 (PDT)
Received: by 10.78.140.8 with HTTP; Tue, 8 Apr 2008 21:40:38 -0700 (PDT)
Message-ID: <d280d7f10804082140k48c69ce8h4e750207ba57943d@mail.gmail.com>
Date: Wed, 9 Apr 2008 01:40:38 -0300
From: "Caio Marcelo" <cmarcelo@gmail.com>
To: zsh-users@sunsite.dk
Subject: Re: Prompt being evaluated multiple times when prompt_subst is set.
Cc: ft@bewatermyfriend.org
In-Reply-To: <d280d7f10804082132tcda9182r6b018f25e1cf773a@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <d280d7f10804082132tcda9182r6b018f25e1cf773a@mail.gmail.com>
X-Virus-Scanned: ClamAV 0.91.2/6673/Wed Apr  9 05:13:44 2008 on bifrost
X-Virus-Status: Clean

Sorry for the noise, just noticed that Frank Terbeck posted the same
problem in a recent thread "functions in prompts evaluated twice?".
What I can add is that the evaluation always happens three times here,
in his example the first one is for the old PROMPT, that doesn't call
"foo", so you just see two of them.


Cheers,
  Caio Marcelo

