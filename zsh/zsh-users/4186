From zsh-users-return-4186-mason-zsh=primenet.com.au@sunsite.dk Tue Aug 28 09:38:39 2001
Return-Path: <zsh-users-return-4186-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 29944 invoked from network); 28 Aug 2001 09:38:38 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 28 Aug 2001 09:38:38 -0000
Received: (qmail 25733 invoked by alias); 28 Aug 2001 09:38:21 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4186
Received: (qmail 25721 invoked from network); 28 Aug 2001 09:38:20 -0000
X-VirusChecked: Checked
Sender: kiddleo@pag.logica.co.uk
Message-ID: <3B8B6600.54A33D8E@yahoo.co.uk>
Date: Tue, 28 Aug 2001 10:36:00 +0100
From: Oliver Kiddle <okiddle@yahoo.co.uk>
X-Mailer: Mozilla 4.76 [en] (X11; U; SunOS 5.7 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: zsh-users@sunsite.dk
CC: Keijiro Ehara <popo@sfc.wide.ad.jp>
Subject: Re: How to complete backquote, etc. using compsys?
References: <20010821204255.64C6417403@puel.sfc.wide.ad.jp> 
		<3B84D18C.19BA712@yahoo.co.uk> <1010823180146.ZM25810@candle.brasslantern.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Bart Schaefer wrote:
> 
> On Aug 23, 10:49am, Oliver Kiddle wrote:
> }
> } No, you didn't miss an option. The new completion system just doesn't
> } complete the backquote.  [...]  At the moment, I don't think the shell
> } code can tell if it is in $( .. )
> 
> Yes, it can tell that it's in $(...) or `...`.

compstate[quote] and compstate[quoting] indicate if it is in `...` but
how can it tell it's in $(...)? The level of nesting would also be
useful.

> It doesn't complete the
> trailing backtick or closing paren because there's no way to tell when
> you're really at the end of the expression.  How is it supposed to know
> whether you mean
>     `cat /var/run/inetd.pid`
> or whether you're going to go on with more of the command, as in
>     `cat /var/run/inetd.pid /var/run/sshd.pid`
> or the like?

That's true but it would be useful to have the backquote as a removable
suffix because it is quicker to press space than backquote. A style
could always be used to prevent it. Also, without multios the closing
bracket of $(<...) should always be completed.

Oliver

_____________________________________________________________________
This message has been checked for all known viruses by the 
MessageLabs Virus Scanning Service. For further information visit
http://www.messagelabs.com/stats.asp

