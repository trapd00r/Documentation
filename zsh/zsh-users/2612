From zsh-users-return-2612-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Sep 22 10:31:36 1999
Return-Path: <zsh-users-return-2612-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 3014 invoked from network); 22 Sep 1999 10:31:34 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 22 Sep 1999 10:31:34 -0000
Received: (qmail 20099 invoked by alias); 22 Sep 1999 10:31:00 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 2612
Received: (qmail 20092 invoked from network); 22 Sep 1999 10:31:00 -0000
Subject: Re: "exec zsh" inside .zprofile doesn't set SHELL
In-Reply-To: <990922085717.ZM16212@candle.brasslantern.com> from Bart Schaefer at "Sep 22, 1999  8:57:17 am"
To: schaefer@candle.brasslantern.com (Bart Schaefer)
Date: Wed, 22 Sep 1999 11:30:54 +0100 (BST)
Cc: olsenc@ichips.intel.com, zsh-users@sunsite.auc.dk
X-Mailer: ELM [version 2.4ME+ PL48 (25)]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Message-Id: <E11Tjfq-0005vk-00@crucigera.fysh.org>
From: Zefram <zefram@fysh.org>

Bart Schaefer wrote:
>The problem with testing version numbers is that, whichever way you do the
>equality (equal the old version or not-equal the new one), the wrong thing
>may happen if one or the other gets upgraded.  And if for some reason the
>output of =zsh is the path to the old version, you still have a loop.  So
...

A better solution -- which I use on all systems, even if they have an
up-to-date zsh installed -- is to make your login shell be /bin/sh,
and have your .profile do the exec zsh.  zsh doesn't read the .profile,
so there's no possibility of a loop.  /bin/sh is also likely to start
up faster than the system's zsh.

-zefram

