From zsh-workers-return-6683-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Jun 16 22:03:36 1999
Return-Path: <zsh-workers-return-6683-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9730 invoked from network); 16 Jun 1999 22:03:35 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 16 Jun 1999 22:03:35 -0000
Received: (qmail 10152 invoked by alias); 16 Jun 1999 22:03:30 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 6683
Received: (qmail 10145 invoked from network); 16 Jun 1999 22:03:29 -0000
Date: Wed, 16 Jun 1999 15:03:28 -0700 (PDT)
From: Wayne Davison <wayne@clari.net>
To: Zsh Workers <zsh-workers@sunsite.auc.dk>
Subject: PATCH: pws-22: ambiguous brace warning
Message-ID: <Pine.GSO.4.10.9906161501350.20632-100000@house.clari.net>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

The following patch fixes an ambiguous brace warning that is present
in pws-22:

Index: Src/exec.c
--- zsh-3.1.5-pws-22/Src/exec.c	Mon Jun 14 09:14:30 1999
+++ ./Src/exec.c	Wed Jun 16 13:21:38 1999
@@ -1006,11 +1006,12 @@
     oldlineno = lineno;
     lineno = pline->left->lineno;
 
-    if (pline_level == 1)
+    if (pline_level == 1) {
 	if (!sfcontext)
 	    strcpy(list_pipe_text, getjobtext((void *) pline->left));
 	else
 	    list_pipe_text[0] = '\0';
+    }
     if (pline->type == END)
 	execcmd(pline->left, input, output, how, last1 ? 1 : 2);
     else {

..wayne..

