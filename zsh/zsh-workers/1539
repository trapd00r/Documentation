From hzoli@cs.elte.hu Sun Jul  7 04:18:10 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by melb.werple.net.au (8.7.5/8.7.3/2) with ESMTP id EAA15906 for <mason@werple.mira.net.au>; Sun, 7 Jul 1996 04:18:09 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id OAA16383; Sat, 6 Jul 1996 14:10:35 -0400 (EDT)
Resent-Date: Sat, 6 Jul 1996 14:10:35 -0400 (EDT)
From: Zoltan Hidvegi <hzoli@cs.elte.hu>
Message-Id: <199607061810.UAA19338@bolyai.cs.elte.hu>
Subject: Re: Default compctls
To: schaefer@nbn.com
Date: Sat, 6 Jul 1996 20:10:07 +0200 (MET DST)
Cc: zsh-workers@math.gatech.edu
In-Reply-To: <960706105029.ZM17352@candle.brasslantern.com> from Bart Schaefer at "Jul 6, 96 10:50:27 am"
Organization: Dept. of Comp. Sci., Eotvos University, Budapest, Hungary
Phone: (36 1)2669833 ext: 2667, home phone: (36 1) 2752368
X-Mailer: ELM [version 2.4ME+ PL16 (25)]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"712J_1.0.v_3.Pmgtn"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/1539
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu
Content-Length: 1688
Status: OR

> Recent changes to compctl and to some other zsh behaviors lead me to ask
> whether we should revise the default compctls.  Here's the current set:

I think compctls belong to the user-level code.  Adding new default
compctls just increase zsh size and it is quite useless as these are
usually overriden by the user.  Zsh is quite unusable without good startup
files anyway.  I change 28 options define 196 compctl's, 73 aliases and 57
functions and about 25 key bindings in my startup files.  The default
option setting is the worst.  I use the following options:

setopt LIST_TYPES AUTO_LIST LIST_AMBIGUOUS ALWAYS_LAST_PROMPT AUTO_MENU \
        AUTO_PARAM_KEYS EXTENDED_GLOB APPEND_HISTORY AUTO_CD CORRECT \
        NO_HUP MAGIC_EQUAL_SUBST NO_LIST_BEEP PUSHD_MINUS \
        RC_QUOTES LONG_LIST_JOBS HIST_IGNORE_DUPS NUMERIC_GLOB_SORT \
        COMPLETE_IN_WORD BRACE_CCL AUTO_NAME_DIRS NO_PROMPT_CR \
        AUTO_REMOVE_SLASH AUTO_PARAM_SLASH
unsetopt BG_NICE NOTIFY

> Next, an observation and (possibly) a bug:  The change to make `command',
> `exec', `noglob', and `-' into builtins (rather than keywords) has caused
> command completion for those words to stop working.  This would seem to
> call for some new default compctls:
> 
> compctl -c -		# BUG!  `-' has special meaning to `compctl'!
> compctl -m command
> compctl -c exec
> compctl -c noglob

I think -- should mean the end of completion flags as it already means that
with extended completions.  Note that Misc/compctl-examples contains better
compctl's for command, exec, moglob, -.  Look at the section near line 52.

> Is there any workaround for the bug noted above?

No, but

compctl -c exec -

works.

Zoltan


