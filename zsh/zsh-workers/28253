From zsh-workers-return-28253-mason-zsh=primenet.com.au@zsh.org Sun Sep 12 11:12:57 2010
Return-Path: <zsh-workers-return-28253-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24120 invoked by alias); 12 Sep 2010 11:12:57 -0000
Mailing-List: contact zsh-workers-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Workers List <zsh-workers.zsh.org>
List-Post: <mailto:zsh-workers@zsh.org>
List-Help: <mailto:zsh-workers-help@zsh.org>
Delivered-To: mailing list zsh-workers@zsh.org
X-Seq: 28253
Received: (qmail 5749 invoked from network); 12 Sep 2010 11:12:55 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.0 required=5.0 tests=BAYES_00,DKIM_SIGNED,
	DKIM_VALID,DKIM_VALID_AU,FREEMAIL_FROM,RCVD_IN_DNSWL_NONE autolearn=ham
	version=3.3.1
Received-SPF: pass (ns1.primenet.com.au: SPF record at _spf.google.com designates 209.85.212.43 as permitted sender)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=2h28OFdurjLlhlE+LNKsDz7Ctvq0fmR1GjOYv+7K4uc=;
        b=wwLmNvny+9dMiH0fYrbldAxscOva7zL30DzQq6VBkGKLVvq8ivP9RPWihRv/nGpYD3
         Dh2J3udys0fVsOdzvklkWLXSrOAOhDExqtI0IBVLidIrz+Yud5vZ79mpIvpgsSOj8gBK
         FaEmoNT0vA2JQFHYW3bpbn2xXFHZbmox6Fwvc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=ML3a4d6xIsC3oebmKlfPj5vF4YyUdVN9Etv42WWu22gn/n31E/ZyoXT6Qs0Y770DQp
         QiypaUwz8loCRsi0hF0PSJKT1qYoNSFv3tp2moWVJPgUz3ygGL747wb61Qjg//REWv8D
         vYfVKPL0pncEPHOdxcAeZ31gQnIIEGsIFOzKY=
MIME-Version: 1.0
In-Reply-To: <alpine.LNX.2.00.0911031954340.3783@localhost>
References: <alpine.LNX.2.00.0902262245590.27571@localhost>
	<20090303121253.61f5e2ec@news01>
	<alpine.LNX.2.00.0903031455360.10365@localhost>
	<20090303163526.533995be@news01>
	<237967ef0903030851gc26620ficfc908628a4b3be2@mail.gmail.com>
	<alpine.LNX.2.00.0911031951480.3519@localhost>
	<alpine.LNX.2.00.0911031954340.3783@localhost>
Date: Sun, 12 Sep 2010 13:12:50 +0200
Message-ID: <AANLkTimO1c_38o9=Bbs=YGX0iRpiY9DMFD4Do1hDE1nt@mail.gmail.com>
Subject: Re: [PATCH 1/4] attr: add -h option to operate on symlinks without dereferencing
From: Mikael Magnusson <mikachu@gmail.com>
To: zsh workers <zsh-workers@zsh.org>
Content-Type: text/plain; charset=UTF-8

On 3 November 2009 20:55, Mikael Magnusson <mikachu@gmail.com> wrote:
> Since the OSX-style interface doesn't have the l* family, make wrapper
> functions that handle the boring details.
> ---

It appears I forgot to document this. I'm not sure if the little blurb
about what -h does should be before or after the list of builtins or
if anyone cares, feel free to move it if you do :).

diff --git a/Doc/Zsh/mod_attr.yo b/Doc/Zsh/mod_attr.yo
index 96ac2e0..566e67f 100644
--- a/Doc/Zsh/mod_attr.yo
+++ b/Doc/Zsh/mod_attr.yo
@@ -2,31 +2,33 @@ COMMENT(!MOD!zsh/attr
 Builtins for manipulating extended attributes (xattr).
 !MOD!)
 The tt(zsh/attr) module is used for manipulating extended attributes.
+The tt(-h) option causes all commands to operate on symbolic links instead
+of their targets.
 The builtins in this module are:

 startitem()
 findex(zgetattr)
 cindex(extended attributes, xattr, getting from files)
-item(tt(zgetattr) var(filename) var(attribute) [ var(parameter) ])(
+item(tt(zgetattr) [ tt(-h) ] var(filename) var(attribute) [ var(parameter) ])(
 Get the extended attribute var(attribute) from the specified
 var(filename). If the optional argument var(parameter) is given, the
 attribute is set on that parameter instead of being printed to stdout.
 )
 findex(zsetattr)
 cindex(extended attributes, xattr, setting on files)
-item(tt(zsetattr) var(filename) var(attribute) var(value))(
+item(tt(zsetattr) [ tt(-h) ] var(filename) var(attribute) var(value))(
 Set the extended attribute var(attribute) on the specified
 var(filename) to var(value).
 )
 findex(zdelattr)
 cindex(extended attributes, xattr, removing, deleting)
-item(tt(zdelattr) var(filename) var(attribute))(
+item(tt(zdelattr) [ tt(-h) ] var(filename) var(attribute))(
 Remove the extended attribute var(attribute) from the specified
 var(filename).
 )
 findex(zlistattr)
 cindex(extended attributes, xattr, listing)
-item(tt(zlistattr) var(filename) [ var(parameter) ])(
+item(tt(zlistattr) [ tt(-h) ] var(filename) [ var(parameter) ])(
 List the extended attributes currently set on the specified
 var(filename). If the optional argument var(parameter) is given, the
 list of attributes is set on that parameter instead of being printed to stdout.



http://git.mika.l3ib.org/?p=zsh-cvs.git;a=patch;h=25f41c86ce79fdc1e07599fbd095f5fbf541ef7b

-- 
Mikael Magnusson

