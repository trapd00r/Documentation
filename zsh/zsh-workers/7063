From zsh-workers-return-7063-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Jul 09 09:09:24 1999
Return-Path: <zsh-workers-return-7063-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17756 invoked from network); 9 Jul 1999 09:09:23 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 9 Jul 1999 09:09:23 -0000
Received: (qmail 5971 invoked by alias); 9 Jul 1999 09:09:11 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7063
Received: (qmail 5964 invoked from network); 9 Jul 1999 09:09:10 -0000
Date: Fri, 9 Jul 1999 11:09:08 +0200 (MET DST)
Message-Id: <199907090909.LAA16205@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: Peter Stephenson's message of Fri, 09 Jul 1999 09:57:27 +0200
Subject: Re: job control


Peter Stephenson wrote:

> I was just trying to put together some tests for job control.  I had
> problems with this:
> 
> while true; do sed -e 's/foo/bar/' nosuchfile >/dev/null; done
> 
> I'm not quite sure what's going on, but it takes a long time to kill or
> suspend.  You can see lots of ^C's and error messages go sailing by until
> eventually it stops.  It works much more reliably when operating on a file
> that does exist.  That sort of suggests the problem happens when zsh,
> rather than sed, gets the signal.  I had it inside a function to begin
> with, but I think the problem was the same one.
> 
> Hitting ^Z is worse, since it still takes a long time, but when it
> eventually works the whole thing freezes

Damn. ^C works without problems for me (both on this DEC box here and
on the Linux-Laptop). ^Z *is* a problem for us since we can stop only
if you hit one of those sed's with the ^Z between the eyes -- only
then can we find out that someone tried to suspend the loop.
However, this works for me, too: once I've managed to suspend the loop 
I can cleanly fg it, ^C it, and so on.

Bye
 Sven


--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

