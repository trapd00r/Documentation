From zsh-users-return-4927-mason-zsh=primenet.com.au@sunsite.dk Tue May 07 10:17:38 2002
Return-Path: <zsh-users-return-4927-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 26806 invoked from network); 7 May 2002 10:17:38 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 7 May 2002 10:17:38 -0000
Received: (qmail 6301 invoked by alias); 7 May 2002 10:17:18 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4927
Received: (qmail 6280 invoked from network); 7 May 2002 10:17:17 -0000
From: Borsenkow Andrej <Andrej.Borsenkow@mow.siemens.ru>
To: "'Bruno Bonfils'" <asyd@debian-fr.org>, zsh-users@sunsite.dk
Subject: RE: Problem with function
Date: Tue, 7 May 2002 14:16:35 +0400
Message-ID: <6134254DE87BD411908B00A0C99B044F02E89A57@mowd019a.mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.3416
x-mimeole: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
In-Reply-To: <20020507100348.GA5344@syd-barrett.hash-group.net>


> i want to use dynamic titles with screen. That why's i want to do a
> print before each command, like this :
> 
> mutt () {
>         print -Pn "\e]0; Mutt\a"
>         \mutt
> }
> 
> when i do that, i still have the mutt's completion, but when i press
> enter, the print are executed (and work with screen) but the zsh
> session crash :(
> 

Set title in preexec function. You do not say what version you have;
info from current version:

preexec
     Executed just after a command has been read and is about to be
     executed.  If the history mechanism is active (and the line was not
     discarded from the history buffer), the string that the user typed
     is passed as the first argument, otherwise it is an empty string.
     The actual command that will be executed (including expanded
     aliases) is passed in two different forms: the second argument is
     a single-line, size-limited version of the command (with things
     like function bodies elided); the third argument contains the full
     text that is being executed.

-andrej

