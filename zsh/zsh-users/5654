From zsh-users-return-5654-mason-zsh=primenet.com.au@sunsite.dk Wed Jan 08 19:32:47 2003
Return-Path: <zsh-users-return-5654-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 28545 invoked from network); 8 Jan 2003 19:32:47 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 8 Jan 2003 19:32:47 -0000
Received: (qmail 206 invoked by alias); 8 Jan 2003 19:32:27 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 5654
Received: (qmail 194 invoked from network); 8 Jan 2003 19:32:26 -0000
Date: Wed, 8 Jan 2003 19:46:20 +0000
From: Phil Pennock <phil.pennock@globnix.org>
To: zsh-users@sunsite.dk
Subject: Completion of dirs confused over cursor position
Message-ID: <20030108194619.GA11708@globnix.org>
Mail-Followup-To: zsh-users@sunsite.dk
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Organisation: Demon Internet Netherlands

Owing to a major machine failure and not being able to get my old data
back for a few more days, I've finally taken the plunge and tried moving
away from compctl.

Very impressive.

However, if I "cd <TAB>", I get shown:
 Completing directory
 Mail/  bin/ 

typing "b<TAB>" gives me a command-line of "cd bin/"; pressing <TAB>
again here shows the available completions, but puts the cursor back
_before_ the "/"; pressing tab will cycle through the options, but I
can't type the first letter and then tab again, since I'm then changing
the name before the "/".

What am I missing?  There must be some tunable which handles this
conflict ...

Thanks,


Elided config follows.

zsh 4.0.6, OpenBSD 3.2 on sparc.

setopt autocd autolist automenu braceccl extendedglob interactivecomments
setopt listambiguous listtypes multios numericglobsort rcexpandparam
bindkey -e

PS1=': %2(L.%U[%L]%u.)%(?..%B{%v}%b)%(2v:<+%2v>:-)%n@%2m:%l[%T](%!)%37<..<%~%<<%#; '
unset RPS1
function precmd {
	local exitstatus=$?
	psvar[1]=SIG
	[[ $exitstatus -ge 128 ]] && psvar[1]=SIG$signals[$exitstatus-127]
	[[ $psvar[1] == SIG ]] && psvar[1]=$exitstatus
	psvar[2]=$#jobstates; [[ $psvar[2] -eq 0 ]] && psvar[2]=()
}

# The following lines were added by compinstall

zstyle ':completion:*' auto-description 'requires: %d'
zstyle ':completion:*' completer _expand _complete
zstyle ':completion:*' format 'Completing %d'
zstyle ':completion:*' group-name ''
zstyle ':completion:*' ignore-parents parent pwd ..
zstyle ':completion:*' list-colors ''
zstyle ':completion:*' matcher-list 'r:|[._-]=* r:|=*'
zstyle ':completion:*' menu select=long
zstyle ':completion:*' select-prompt %SScrolling active: current selection at %p
 \[%l\]%s
zstyle ':completion:*' squeeze-slashes true
zstyle :compinstall filename '/home/phil/.zshrc'

autoload -U compinit
compinit
# End of lines added by compinstall

