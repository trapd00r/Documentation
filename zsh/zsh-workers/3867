From zsh-workers-request@math.gatech.edu Thu Apr 23 20:09:01 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13835 invoked from network); 23 Apr 1998 20:08:59 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 23 Apr 1998 20:08:59 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id QAA18292;
	Thu, 23 Apr 1998 16:01:13 -0400 (EDT)
Resent-Date: Thu, 23 Apr 1998 16:01:13 -0400 (EDT)
Sender: mirar@mistel.idonex.se
To: Nik Gervae <nik@pdi.com>
Cc: zsh-workers@math.gatech.edu
Subject: Re: System calls in zsh
References: <199804231945.MAA07509@wank.pdi.com>
X-Face: $$CzX_6%|HNr.oB"KTJp(4s)x@#{7`R#=qth)@YQVIW3G_vqiReP):T3il:o9H[)hjgs%QU
 z!Gx^:NL=B(KNK[Y7{`T*hok`uv`}ArWqZ\wF&KHgVYr+d\>oGI?I\60y?,j*xB@gkYk_)YU0]6"S`
 nEjNqCC
Content-Type: TEXT/PLAIN; charset=ISO-8859-1
From: Mirar <mirar@idonex.se>
Date: 23 Apr 1998 22:01:08 +0200
In-Reply-To: Nik Gervae's message of Thu, 23 Apr 1998 12:45:23 -0700
Message-ID: <82wwcgi9yz.fsf@mistel.idonex.se>
Lines: 46
X-Mailer: Gnus v5.4.9/Emacs 19.34
Resent-Message-ID: <"2usVV3.0.kT4.9uvFr"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3867
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Nik Gervae <Nik@pdi.com> writes:

> Hello. I've been using zsh 3.0.0 on IRIX for a while here at work, and we
> just started an evaluation of shell script efficiency that prompted me to
> ask this. It seems that if you create an empty zsh script and run it, it
> invokes these system calls (which I got using "par -s -S"):

strace on linux sais:

 | mistel% strace zsh -c '' 2>&1 | grep open
 | open("/etc/ld.so.cache", O_RDONLY)      = 4
 | open("/usr/local/lib/libtermcap.so.2", O_RDONLY) = -1 ENOENT (No such file or directory)
 | open("/usr/lib/libtermcap.so.2", O_RDONLY) = -1 ENOENT (No such file or directory)
 | open("/lib/libtermcap.so.2", O_RDONLY)  = 4
 | open("/usr/local/lib/libc.so.5", O_RDONLY) = -1 ENOENT (No such file or directory)
 | open("/usr/lib/libc.so.5", O_RDONLY)    = -1 ENOENT (No such file or directory)
 | open("/lib/libc.so.5", O_RDONLY)        = 4
 | open("/usr/share/locale/C/LC_MESSAGES", O_RDONLY) = -1 ENOENT (No such file or directory)
 | open("/usr/share/locale/C/LC_MONETARY", O_RDONLY) = -1 ENOENT (No such file or directory)
 | open("/usr/share/locale/C/LC_COLLATE", O_RDONLY) = -1 ENOENT (No such file or directory)
 | open("/usr/share/locale/C/LC_TIME", O_RDONLY) = -1 ENOENT (No such file or directory)
 | open("/usr/share/locale/C/LC_NUMERIC", O_RDONLY) = -1 ENOENT (No such file or directory)
 | open("/usr/share/locale/iso_8859_1/LC_CTYPE", O_RDONLY) = -1 ENOENT (No such file or directory)
 | open("/dev", O_RDONLY)                  = 4
 | open("/dev/ttypc", O_RDWR)              = 4
 | open("/etc/nsswitch.conf", O_RDONLY)    = 4
 | open("/etc/passwd", O_RDONLY)           = 4
 | open("/dev", O_RDONLY)                  = 4
 | open("/var/run/utmp", O_RDONLY)         = 4
 | open("/usr/share/locale/iso_8859_1/LC_CTYPE", O_RDONLY) = -1 ENOENT (No such file or directory)
 | open("/etc/zshenv", O_RDONLY)           = -1 ENOENT (No such file or directory)
 | open("/home/mirar/.zshenv", O_RDONLY)   = 4
 | open("/etc/passwd", O_RDONLY)           = 4
 | open("/users/mirar/bin/zsh-compctl", O_RDONLY) = 4
 | open("/home/mirar/bin", O_RDONLY)       = 4
 | open("/usr/local/bin", O_RDONLY)        = 4
 | open("/usr/local/share/bin", O_RDONLY)  = 4
 | open("/usr/bin", O_RDONLY)              = 4
 | open("/bin", O_RDONLY)                  = 4
 | open("/dev/null", O_RDONLY)             = 4
 | mistel% 

The first 10-or-so seems to be locale stuff, the next 8 is probably
tty stuff and finding my home directory (user directory).
The last 6 has someting with running the command '' to do. 
(that's my path).

