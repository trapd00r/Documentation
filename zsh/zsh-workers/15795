From zsh-workers-return-15795-mason-zsh=primenet.com.au@sunsite.dk Wed Sep 12 16:03:47 2001
Return-Path: <zsh-workers-return-15795-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4189 invoked from network); 12 Sep 2001 16:03:46 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 12 Sep 2001 16:03:46 -0000
Received: (qmail 27770 invoked by alias); 12 Sep 2001 16:03:41 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 15795
Received: (qmail 27743 invoked from network); 12 Sep 2001 16:03:38 -0000
From: Bart Schaefer <schaefer@brasslantern.com>
Message-Id: <1010912160325.ZM25844@candle.brasslantern.com>
Date: Wed, 12 Sep 2001 16:03:25 +0000
In-Reply-To: <hvo66aovfaa.fsf@flux.etl.go.jp>
Comments: In reply to Tanaka Akira <akr@m17n.org>
        "r problem" (Sep 12,  8:07pm)
References: <hvo66aovfaa.fsf@flux.etl.go.jp>
X-Mailer: Z-Mail (5.0.0 30July97)
To: zsh-workers@sunsite.dk
Subject: Re: r problem
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

This looks like a bug in gethistent().  It's returning the current command
as the previous command when the history should appear to be empty.  Wayne?

Another bug (?) is that the "r" command itself gets entered in the history
even when hist_no_store is set.  On the other hand, "history" and "fc" get
left out of the history with hist_no_store even when they've been redifined
as functions that have nothing to do with the history.  Hrm.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

