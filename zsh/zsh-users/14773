From zsh-users-return-14773-mason-zsh=primenet.com.au@zsh.org Tue Feb 02 18:28:40 2010
Return-Path: <zsh-users-return-14773-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 3671 invoked by alias); 2 Feb 2010 18:28:40 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 14773
Received: (qmail 25571 invoked from network); 2 Feb 2010 18:28:28 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received-SPF: none (ns1.primenet.com.au: domain at seiken.de does not designate permitted sender hosts)
From: Joke de Buhr <joke@seiken.de>
Organization: http://www.seiken.de/
To: zsh-users@zsh.org
Subject: Re: Want to replace bash w zsh as system shell on Ubuntu
Date: Tue, 2 Feb 2010 19:28:20 +0100
User-Agent: KMail/1.12.2 (Linux/2.6.31-17-generic; KDE/4.3.2; x86_64; ; )
References: <20100202081546.GA5930@panix.com> <201002021806.25016.joke@seiken.de> <87mxzrjzkv.fsf@ft.bewatermyfriend.org>
In-Reply-To: <87mxzrjzkv.fsf@ft.bewatermyfriend.org>
MIME-Version: 1.0
Content-Type: multipart/signed;
  boundary="nextPart4725624.2oTqED0hLa";
  protocol="application/pgp-signature";
  micalg=pgp-sha1
Content-Transfer-Encoding: 7bit
Message-Id: <201002021928.20601.joke@seiken.de>

--nextPart4725624.2oTqED0hLa
Content-Type: Text/Plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable

On Tuesday 02 February 2010 18:51:28 Frank Terbeck wrote:

> >   setopt extendedglob
>=20
> I think adding `nullbglob' here would make sense, too, so the glob below
> doesn't error out if it doesn't match anything.

Your right. I forgot to specify nullglob in this situation. It didn't test =
the=20
example probable. just ran some individual parts within my zsh session whic=
h=20
sets nullglob by default.

> > matches=3D("$HOME"/((.*|*)/)#*(#q^u${SUDO_UID}u${UID},^g${SUDO_GID}g${G=
ID})
> >) [[ -n ${matches} ]] && chown $SUDO_UID:$SUDO_GID "${matches[@]}"
>=20
> (( ${#matches} > 0 )) && ...
>=20

[[ -n ${matches} ]] only needs to check if the array "matches" is not empty
(( ${#matches} > 0 )) needs to calculate the length of the array and compar=
e=20
if the result is > 0. I think [[ -n ${matches} ]] will be more efficient.

--nextPart4725624.2oTqED0hLa
Content-Type: application/pgp-signature; name=signature.asc 
Content-Description: This is a digitally signed message part.

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (GNU/Linux)

iQIcBAABCgAGBQJLaG7EAAoJEMcNQWzYfbLsOpYQAIHiFdp3bQ+F+j+QWW3/19mI
rMQNrRaaptH4OgBk4o1eHIaACYJDP70DxWiM+wARxRNDJ0l4M2kU3nwE7sxiJ9Cu
tuSPfBYjkYz40oTrHt4ipX0wzWOvo49B21wf7Vv/19+i7+2CXNozQgn1yYcW2G/f
M1T56jQ5ZO7ix7jXH0ZWZlU+//Rml6XW1bTfEM0DSMJ7FCOitxxabJ/3ujxDag0i
/ub3t4bQ5ZF2swZ2s7kFHPnZ+7MEKzDpz6GnmplD5t6jFeK79oiTSuSEtDD5Hk2b
Zjx24n4JSXvs7pKBCKx6axJv/pa82nkJYCOGaPoRF0Ebg4VsJ+CsE2H9wIbjjxHq
7gXv2kO6ALz50Eg6vk9lIvJP15d+kFwye7jLSRP173hFnfdtM2msQnk5nXWK9h11
rKTPFtWxvBSq8vrb2Sm2cL0AZO+v90VgD/2Cky2mhb5XVa6TAOWLjO4cfeTggvho
lqj64EL3rLN+ghFbREm5Qgovrk1/cw/EfiQ2vQu3XV50l6Dofb7Z4uiSWfnoRZDc
ifyf/U5d9t+kPKElTeCCqyu1iAnSD1Nzv0/7HnJrq4fTcfYYrb2I5xzbCRY3xAt6
ClSFxeXH1LSZxebwSRn+m34PxVwNUQRc8VR4v2tabkFR6mjXbtOKZQ/nh5I/o5s2
4srLPR5cisOeG3Nfz0ls
=84/4
-----END PGP SIGNATURE-----

--nextPart4725624.2oTqED0hLa--

