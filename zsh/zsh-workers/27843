From zsh-workers-return-27843-mason-zsh=primenet.com.au@zsh.org Mon Mar 29 00:03:11 2010
Return-Path: <zsh-workers-return-27843-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 22053 invoked by alias); 29 Mar 2010 00:03:11 -0000
Mailing-List: contact zsh-workers-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Workers List <zsh-workers.zsh.org>
List-Post: <mailto:zsh-workers@zsh.org>
List-Help: <mailto:zsh-workers-help@zsh.org>
Delivered-To: mailing list zsh-workers@zsh.org
X-Seq: 27843
Received: (qmail 4782 invoked from network); 29 Mar 2010 00:02:59 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00,RCVD_IN_DNSWL_LOW
	autolearn=ham version=3.3.1
Received-SPF: pass (ns1.primenet.com.au: SPF record at ruderich.org designates 78.46.69.5 as permitted sender)
Date: Mon, 29 Mar 2010 01:59:31 +0200
From: Simon Ruderich <simon@ruderich.org>
To: zsh-workers@zsh.org
Subject: [PATCH] EXTENDED_HISTORY documentation typo
Message-ID: <20100328235931.GA23061@ruderich.org>
Mime-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-sha256; protocol="application/pgp-signature"; boundary="=_zucker.schokokeks.org-1365-1269820669-0001-2"
Content-Disposition: inline
User-Agent: Mutt/1.5.20-dev (2010-03-09)

--=_zucker.schokokeks.org-1365-1269820669-0001-2
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

Hi,

There is a minor typo in the documentation of EXTENDED_HISTORY.
According to Src/hist.c the following syntax is used for
EXTENDED_HISTORY:

    ret =3D fprintf(out, ": %ld:%ld;", (long)he->stim,

But the documentation says this:

    :<beginning time>:<elapsed seconds>:<command>

So the last : must be a ; and there is a space after the first :
(or the source code is wrong).

diff --git a/Doc/Zsh/options.yo b/Doc/Zsh/options.yo
index 003071a..e9c8ff9 100644
--- a/Doc/Zsh/options.yo
+++ b/Doc/Zsh/options.yo
@@ -746,7 +746,7 @@ Save each command's beginning timestamp (in seconds sin=
ce the epoch)
 and the duration (in seconds) to the history file.  The format of
 this prefixed data is:

-`tt(:)var(<beginning time>)tt(:)var(<elapsed seconds>)tt(:)var(<command>)'.
+`tt(:) var(<beginning time>)tt(:)var(<elapsed seconds>)tt(;)var(<command>)=
'.
 )
 pindex(HIST_ALLOW_CLOBBER)
 pindex(NO_HIST_ALLOW_CLOBBER)

Thanks,
Simon
--=20
+ privacy is necessary
+ using gnupg http://gnupg.org
+ public key id: 0x92FEFDB7E44C32F9

--=_zucker.schokokeks.org-1365-1269820669-0001-2
Content-Type: application/pgp-signature
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (GNU/Linux)

iQIcBAEBCAAGBQJLr+1jAAoJEJL+/bfkTDL57VgP/1qx2j6h0V2dtUaV0YI89MvI
bFGFQsi5/t/vgjUXFCFVJJxzB2U4VnoPeSgHmpjsWsPz2zD51oRetyDK8gmoAtR6
Sc1Qf69CKgRxU2Uv1UC/O1dztok/6B4lxnUOuN7GkSTeKZ9NbInYwLyO4yc6mr8c
kT1cBo1EO+0aZDc3baFos8PnyRyP1tG3w1TN1LSK5+d9q0I9kltyg/b0UJuqblwT
TbJpS1sVxgSPjP+5IVXoYqPQnpZbqGg+PzWsDUSzA6ZRdgM9Pjrp6ygOkMu61Ida
5nhgSbaL0/Q6M9qNOmuBYRa8vYl4tFYZXgejKnMBcIAkYHgWyFAaQjgcb7EqACLn
1knlrFRzodfJZBuj0hc5AnUpVwxcqz0qhGGbHFG0eFPJR/LNWJCLbSUajNIyvO0X
TcG/XaspXlrexMM/DNkty+IjdchKfKgDkzf3MGf1DmuPEiD4DfpJB54u+/S0XMhl
cYtXOyRM75v7wKJ/WterUdSRTdwRxflnJRrO/tGr3gEVNERsBJ1p30HEDaFBDpRB
aBZo0NfiHqHcnWEp9FPEfdvn8t28WvTKV42dgh4x8AO3ql7QP6SyIoKh4UM5+nUB
XZ7+6ZI5q/sYepkoJqlKTpETlGVW41qfYo2GpXAELxJO/A1VCx2Qt5u/hGI3L+5e
DRllQlk/r6oFQOGrzn/M
=ANlG
-----END PGP SIGNATURE-----

--=_zucker.schokokeks.org-1365-1269820669-0001-2--

