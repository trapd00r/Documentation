From zsh-workers-return-15744-mason-zsh=primenet.com.au@sunsite.dk Fri Sep 07 08:22:59 2001
Return-Path: <zsh-workers-return-15744-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18230 invoked from network); 7 Sep 2001 08:22:58 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 7 Sep 2001 08:22:58 -0000
Received: (qmail 28342 invoked by alias); 7 Sep 2001 08:22:52 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 15744
Received: (qmail 28326 invoked from network); 7 Sep 2001 08:22:50 -0000
X-Envelope-Sender-Is: Andrej.Borsenkow@mow.siemens.ru (at relayer david.siemens.de)
From: Borsenkow Andrej <Andrej.Borsenkow@mow.siemens.ru>
To: "'Daniel Lyons'" <fusion@nmt.edu>, zsh-workers@sunsite.dk
Subject: RE: colors & tab completion
Date: Fri, 7 Sep 2001 12:22:40 +0400
Message-ID: <002801c13776$42c686a0$21c9ca95@mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
In-Reply-To: <20010907021111.B14003@nmt.edu>
Importance: Normal

> 
> PROMPT="${fg[magenta]}%n${fg[white]}@${fg[green]}%m ${fg[blue]}%C \
> ${fg[white]}%(#.=>.->) "
...
> anyway, that all works fine.  the problem is that when one presses
> tab multiple times to activate automenu, this is what gets
> displayed:
> 
> "username@host directory -> filename.ext1                     ext2"
> 




You need to tell zsh that these are escapes (and not counted in prompt
length calculation):

%{...%}
     Include a string as a literal escape sequence.  The string within
     the braces should not change the cursor position.  Brace pairs can
     nest.

i.e. you need

PROMPT="%{${fg[magenta]}%}...

-andrej

