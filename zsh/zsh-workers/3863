From zsh-workers-request@math.gatech.edu Thu Apr 23 16:50:53 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 12508 invoked from network); 23 Apr 1998 16:50:51 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 23 Apr 1998 16:50:51 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id MAA12430;
	Thu, 23 Apr 1998 12:45:32 -0400 (EDT)
Resent-Date: Thu, 23 Apr 1998 12:45:32 -0400 (EDT)
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <980423094444.ZM28976@candle.brasslantern.com>
Date: Thu, 23 Apr 1998 09:44:44 -0700
In-Reply-To: <199804231422.QAA15790@sgi.ifh.de>
Comments: In reply to Peter Stephenson <pws@ifh.de>
        "Re: PATCH: NO_CLOBBER" (Apr 23,  4:22pm)
References: <199804231422.QAA15790@sgi.ifh.de>  <vbson4vbj7.fsf@snake.isode.com> 
	<199804231526.QAA09055@crocus.csv.warwick.ac.uk>
In-Reply-To: <vbson4vbj7.fsf@snake.isode.com>
Comments: In reply to Bruce Stephens <b.stephens@isode.com>
        "Re: PATCH: NO_CLOBBER" (Apr 23,  3:49pm)
In-Reply-To: <199804231526.QAA09055@crocus.csv.warwick.ac.uk>
Comments: In reply to Mr M P Searle <csubl@csv.warwick.ac.uk>
        "Re: PATCH: NO_CLOBBER" (Apr 23,  4:26pm)
X-Mailer: Z-Mail (4.0b.820 20aug96)
To: zsh-workers@math.gatech.edu (Zsh hackers list)
Subject: Re: PATCH: NO_CLOBBER
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Resent-Message-ID: <"pLSDr.0.923.h0tFr"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3863
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

On Apr 23,  4:22pm, Peter Stephenson wrote:
} Subject: Re: PATCH: NO_CLOBBER
}
} Andrew Main wrote:
} > Looks like someone got too clever, and decided that NO_CLOBBER shouldn't
} > stop you opening a FIFO.
} 
} hmm, it wasn't me, but now:
}   /etc/zshrc: file exists: /dev/null [243]
} am I just going to have to live with this?  Seems quite a lot to live with.

Device special files are not FIFOs, so even if the ksh incompatibility needs
to be rectified (which doesn't seem essential to me), the code needs to work
right for devices.  The old code with errno saved/restored would be better.

On Apr 23,  4:26pm, Mr M P Searle wrote:
} Subject: Re: PATCH: NO_CLOBBER
}
} IMO a list that can be changed would be better than just checking for
} /dev/null. An example on my system is the sound devices /dev/audio,

No, a list is not acceptable either.  New devices can appear, even on a
running system; having to recompile or reconfigure zsh every time one
does, is just plain wrong.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

