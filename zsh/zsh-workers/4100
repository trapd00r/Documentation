From zsh-workers-request@math.gatech.edu Fri Jun 12 09:19:16 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 25555 invoked from network); 12 Jun 1998 09:19:15 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 12 Jun 1998 09:19:15 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id FAA20918;
	Fri, 12 Jun 1998 05:15:07 -0400 (EDT)
Resent-Date: Fri, 12 Jun 1998 05:15:07 -0400 (EDT)
Message-Id: <199806120916.LAA22941@hydra.ifh.de>
X-Authentication-Warning: hydra.ifh.de: pws owned process doing -bs
To: zsh-workers@math.gatech.edu (Zsh hackers list)
Subject: Re: Bugreport zsh 3.1.2: Shell exits prematurely after aborting history-incremental-search-backward 
In-reply-to: ""Bart Schaefer""'s message of "Thu, 11 Jun 1998 19:58:18 MST."
             <980611195818.ZM18687@candle.brasslantern.com> 
Date: Fri, 12 Jun 1998 11:16:10 +0200
From: Peter Stephenson <pws@ifh.de>
Resent-Message-ID: <"BIOF51.0.n65.R6FWr"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/4100
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

"Bart Schaefer" wrote:
> I still
> think there's an EOF being incorrectly propagated when the bck-i-search:
> prompt is interrupted with C-c, but perhaps that doesn't matter if this
> masks it.

I think even that's OK.  There were two distinct EOF's involved.  The
one I found from debugging was from a previous source:  it really did
reach EOF, so that was the correct behaviour.  The bug was this was 
being remembered, and later on a chain of events (flushing data when
there wasn't any causing a lexstop with no yylex active) caused
*another* EOF to be returned, this time incorrectly, from zleread().
The bug was the chain of events in between, not the EOF's.  (Or am I
missing the point?)

> Side note:  What's the point of leaving out the 'a' in "bck"?  Just to
> make it the same number of characters as "fwd"?

I suppose Paul had an aversion to typing.  Probably understandable
under the circumstances.  He was a vi user :-).

-- 
Peter Stephenson <pws@ifh.de>       Tel: +39 50 844536
WWW:  http://www.ifh.de/~pws/
Gruppo Teorico, Dipartimento di Fisica
Piazza Torricelli 2, 56100 Pisa, Italy

