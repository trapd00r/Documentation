From zsh-workers-return-24663-mason-zsh=primenet.com.au@sunsite.dk Mon Mar 03 06:31:30 2008
Return-Path: <zsh-workers-return-24663-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 28349 invoked from network); 3 Mar 2008 06:31:19 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.4 (2008-01-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.4
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 3 Mar 2008 06:31:19 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 80342 invoked from network); 3 Mar 2008 06:31:15 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 3 Mar 2008 06:31:15 -0000
Received: (qmail 22825 invoked by alias); 3 Mar 2008 06:31:12 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 24663
Received: (qmail 22809 invoked from network); 3 Mar 2008 06:31:11 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 3 Mar 2008 06:31:11 -0000
Received: from vms042pub.verizon.net (vms042pub.verizon.net [206.46.252.42])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 023A48028C4E
	for <zsh-workers@sunsite.dk>; Mon,  3 Mar 2008 07:31:07 +0100 (CET)
Received: from torch.brasslantern.com ([71.121.18.67])
 by vms042.mailsrvcs.net (Sun Java System Messaging Server 6.2-6.01 (built Apr
 3 2006)) with ESMTPA id <0JX5006F463N4XE0@vms042.mailsrvcs.net> for
 zsh-workers@sunsite.dk; Mon, 03 Mar 2008 00:31:02 -0600 (CST)
Received: from torch.brasslantern.com (localhost.localdomain [127.0.0.1])
	by torch.brasslantern.com (8.13.1/8.13.1) with ESMTP id m236Uvw1012894	for
 <zsh-workers@sunsite.dk>; Sun, 02 Mar 2008 22:30:58 -0800
Received: (from schaefer@localhost)	by torch.brasslantern.com
 (8.13.1/8.13.1/Submit) id m236UuB4012893	for zsh-workers@sunsite.dk; Sun,
 02 Mar 2008 22:30:56 -0800
Date: Sun, 02 Mar 2008 22:30:56 -0800
From: Bart Schaefer <schaefer@brasslantern.com>
Subject: Re: New D07 test failure
In-reply-to: <200802280951.m1S9pCn1015387@news01.csr.com>
To: "zsh workers" <zsh-workers@sunsite.dk>
Message-id: <080302223056.ZM12892@torch.brasslantern.com>
MIME-version: 1.0
X-Mailer: OpenZMail Classic (0.9.2 24April2005)
Content-type: text/plain; charset=us-ascii
References: <20a807210802271448h2d05993bt6576067b4dd0b9ef@mail.gmail.com>
	<200802280951.m1S9pCn1015387@news01.csr.com>
Comments: In reply to Peter Stephenson <pws@csr.com>
 "Re: New D07 test failure" (Feb 28,  9:51am)
X-Virus-Scanned: ClamAV 0.91.2/6092/Mon Mar  3 06:04:26 2008 on bifrost
X-Virus-Status: Clean

On Feb 28,  9:51am, Peter Stephenson wrote:
}
} OK, so we can't rely on the collation sequence in UTF-8 being consistent
} across implementations, and we can't rely on "sort" either.  Any other
} ideas before I simply remove the sort tests?

Maybe you just need to choose the inputs more carefully?

I don't know whether this is really the case here, but it's entirely
possible that E-with-grave and E-with-acute have equivalent collation
in some locales, and therefore we're running into sort algorithm
stability differences that have nothing to do with correctness.

The important thing would be to find some characters whose collation
order actually inverts (rather than becoming indistinguishable) in
some locales.  Unfortunately I don't know how to go about that, either.

