From zsh-workers-return-11819-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Jun 08 09:38:45 2000
Return-Path: <zsh-workers-return-11819-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 12648 invoked from network); 8 Jun 2000 09:38:43 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 8 Jun 2000 09:38:43 -0000
Received: (qmail 18325 invoked by alias); 8 Jun 2000 09:38:32 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 11819
Received: (qmail 18318 invoked from network); 8 Jun 2000 09:38:31 -0000
Date: Thu, 8 Jun 2000 11:38:26 +0200 (MET DST)
Message-Id: <200006080938.LAA08166@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: Clint Adams's message of Wed, 7 Jun 2000 11:38:31 -0400
Subject: Re: _argument sets [was Re: a couple of completion questions]


Clint Adams wrote:

> > I know nothing about dpkg and friends. In which way does it behave
> > differently from what's documented and how do you make use of it
> > (i.e.: is there something wrong? or only documented in the wrong way?
> > or should have both what it's doing and what's documented?)?
> 
> Okay, first off, this is what I want.  <arg> is meant to be
> -i, -A, or the long-option equivalents.
> 
> dpkg <arg> <TAB> right now completes _files -g \*.deb by default.
> If I remove the -A to _arguments, it will complete $_dpkg_options.
> Ideally, it should complete _files -g \*.deb, $_dpkg_options,
> and $_dpkg_options_recursive, unless one of $_dpkg_options_recursive
> is present, in which case it should complete directories instead of
> \*.deb.  BTW, I swapped the positions of -C and -A to _arguments.
> 
> It does this, except for completing $_dpkg_options or
> $_dpkg_options_recursive.  Or rather, it will for
> 
> dpkg --install --<TAB>
> dpkg --install -<TAB>
> dpkg --install -O<TAB>
> 
> but it won't complete for
> 
> dpkg --install --a<TAB>
> 
> So if I type dpkg --install --<TAB> I get --abort-after,
> but if I type --a<TAB>, I get corrections.

Aha, one of those. I'll look at _arguments at the weekend anyway and
have put it on my list.

Bye
 Sven

P.S.: Due to the missing sub-indentation I didn't realise immediately
      that _dpkg uses multiple sets.

--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

