From zsh-workers-request@math.gatech.edu Tue Dec 15 13:22:31 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2867 invoked from network); 15 Dec 1998 13:22:30 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 15 Dec 1998 13:22:30 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.9.1/8.9.1) id IAA06549;
	Tue, 15 Dec 1998 08:21:28 -0500 (EST)
Resent-Date: Tue, 15 Dec 1998 08:21:28 -0500 (EST)
Message-Id: <9812151305.AA63482@ibmth.df.unipi.it>
To: zsh-workers@math.gatech.edu
Subject: Re: Latest patched development version 
In-Reply-To: "Sven Wischnowsky"'s message of "Tue, 15 Dec 1998 12:59:40 NFT."
             <199812151159.MAA10986@beta.informatik.hu-berlin.de> 
Date: Tue, 15 Dec 1998 14:05:04 +0100
From: Peter Stephenson <pws@ibmth.df.unipi.it>
Resent-Message-ID: <"oaCmo1.0.Gc1.O9cTs"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/4801
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Sven Wischnowsky wrote:
> While fighting with this I also got an error in utils.c. In the
> function get_username() after the `#else' the variable current_uid is
> used but not defined.

The following is the only re-interpretation which makes sense to me.

*** Src/utils.c.uid	Tue Dec 15 09:59:21 1998
--- Src/utils.c	Tue Dec 15 13:35:46 1998
***************
*** 427,433 ****
  	    cached_username = ztrdup("");
      }
  #else /* !HAVE_GETPWUID */
!     cached_uid = current_uid;
  #endif /* !HAVE_GETPWUID */
      return cached_username;
  }
--- 427,433 ----
  	    cached_username = ztrdup("");
      }
  #else /* !HAVE_GETPWUID */
!     cached_uid = getuid();
  #endif /* !HAVE_GETPWUID */
      return cached_username;
  }

-- 
Peter Stephenson <pws@ibmth.df.unipi.it>       Tel: +39 050 844536
WWW:  http://www.ifh.de/~pws/
Dipartimento di Fisica, Via Buonarroti 2, 56127 Pisa, Italy

