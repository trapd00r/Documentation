From zsh-workers-return-12957-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Oct 11 09:15:57 2000
Return-Path: <zsh-workers-return-12957-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 27265 invoked from network); 11 Oct 2000 09:15:55 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 11 Oct 2000 09:15:55 -0000
Received: (qmail 6564 invoked by alias); 11 Oct 2000 09:15:15 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 12957
Received: (qmail 6549 invoked from network); 11 Oct 2000 09:15:14 -0000
X-Envelope-Sender-Is: Andrej.Borsenkow@mow.siemens.ru (at relayer goliath.siemens.de)
From: "Andrej Borsenkow" <Andrej.Borsenkow@mow.siemens.ru>
To: <zsh-workers@sunsite.auc.dk>
Subject: RE: completion widgets in menu selection
Date: Wed, 11 Oct 2000 13:15:08 +0400
Message-ID: <001101c03363$c03e9680$21c9ca95@mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
In-Reply-To: <200010110744.JAA26012@beta.informatik.hu-berlin.de>
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400

>
> As promised, here is the patch that makes completion widgets that are
> not directly handled by the menu selection code leave menu selection
> without accepting the match currently selected.
>

Excellent! I am espicially impressed by the size of patch :-)

> Together with the _all_matches stuff, this allows one to use a
> key-binding that inserts all matches from within menu selection
> without having to fiddle with key bindings.
>

I even suggest, that this be included in distribution.

> The more I think about this, the more sense does it seem to make,
> especially because this allows everything that was possible before
> plus some.
>

One problem. How should undo after this second widget behave? Curretly it
leaves the last match, selected in menu selection, inserted and forgets about
list. It would be very nice if it returned to menu selection ... but I do not
know how difficult it is.

More general. With amount of state information kept in compstate it is very
easy to write separate bindable commands that modify generated lists. It would
be very nice if undo returned to previous state in this case.

-andrej

