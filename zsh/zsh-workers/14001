From zsh-workers-return-14001-mason-zsh=primenet.com.au@sunsite.dk Tue Apr 17 11:28:29 2001
Return-Path: <zsh-workers-return-14001-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 29687 invoked from network); 17 Apr 2001 11:28:28 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 17 Apr 2001 11:28:28 -0000
Received: (qmail 77 invoked by alias); 17 Apr 2001 11:28:23 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 14001
Received: (qmail 64 invoked from network); 17 Apr 2001 11:28:23 -0000
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
Date: Tue, 17 Apr 2001 13:28:20 +0200 (MET DST)
Message-Id: <200104171128.NAA05617@beta.informatik.hu-berlin.de>
To: zsh-workers@sunsite.dk
Subject: Re: problem with _arguments exclusion lists
In-Reply-To: <20010417104405.42259.qmail@web9307.mail.yahoo.com>

Oliver Kiddle wrote:

> --- Sven Wischnowsky <wischnow@informatik.hu-berlin.de> wrote:
> 
> > Hrmpf. Yes. This was a bit more complicated to fix because the option
> > should still keep itself from being offered as a possible completion
> > a
> > second time unless it may be given more than once.
> 
> I suspected that it mightn't be too easy when I posted the first
> message. The patch seems to fix it but the following still doesn't
> work:
>   _arguments -s '(-conf)-c+:val' '-conf' '-f'
> after -c, it completes with the 'val' message so even after -co, it
> can't complete -conf. I found these problems with _pine which completes
> a number after -c. Maybe there would be a use here for a basic
> completion for numbers so that it can know that -co can not be -c with
> a parameter.

Yes, i was aware of that.  The problem is that some programs would not
continue parsing `-c...' as a possible option, while some would.  I
think I would call such programs `well-behaved'.

I also seem to remember that we discussed this many months ago, but
don't know what we said about all this then.

It seems doable to add another option to _arguments telling it that even
after such an option other options should be completed.  Would that have
to include options described as `-c-:...'?  Or do we even have to allow
specifying that on a per-option basis, i.e. add yet another special
character that may be given after the option name to say that there is
an argument to be completed directly after the option, but other options
might come, too?

Bye
  Sven


-- 
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

