From zsh-workers-return-26580-mason-zsh=primenet.com.au@sunsite.dk Wed Feb 18 17:15:16 2009
Return-Path: <zsh-workers-return-26580-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 23458 invoked from network); 18 Feb 2009 17:15:13 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 18 Feb 2009 17:15:13 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 50272 invoked from network); 18 Feb 2009 17:15:09 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 18 Feb 2009 17:15:09 -0000
Received: (qmail 1602 invoked by alias); 18 Feb 2009 17:15:04 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 26580
Received: (qmail 1590 invoked from network); 18 Feb 2009 17:15:04 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 18 Feb 2009 17:15:04 -0000
Received: from mail-ew0-f20.google.com (mail-ew0-f20.google.com [209.85.219.20])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 3A73080271F0
	for <zsh-workers@sunsite.dk>; Wed, 18 Feb 2009 18:15:01 +0100 (CET)
Received: by ewy13 with SMTP id 13so2474947ewy.21
        for <zsh-workers@sunsite.dk>; Wed, 18 Feb 2009 09:15:00 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=WDIyCx7HanjScJJCOeQXvZIwCdlFrUJr1NhlGpdrMh8=;
        b=XGyyEQEiF0PKdKCjckgrxRfgVEO5ZA4oymQ2ZCTq0+qtA8RxylGyEISs0o3xMBJyJM
         S0KsNxsvSVsN4UPnyiLpFnZcSgnL4VfRIphU41nAkf7E97kottD5RPjYF9seEQAWwP8r
         mcBnt2qOTzuKkiVzwp1jN4bPBPIVe6d4YUDfw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=dxvQRjJK/f50XkaEskznex/Ezq9EN51d1eClkx9rCbnbR0lsZQ4o9UYanzx46eoo9c
         u6ve+GYkYq8/B7I6vTUvt+oqcWRlcmJMfDsfiQoI1CQh8ncCPv3F/fRaiZfpr8qERqOx
         FBPp6TC9mc1BUE9SMM7dLxzGKEURuk/jM8Qsc=
MIME-Version: 1.0
Received: by 10.210.29.17 with SMTP id c17mr2280527ebc.188.1234977300199; Wed, 
	18 Feb 2009 09:15:00 -0800 (PST)
In-Reply-To: <200902181709.n1IH9DsQ019474@news01.csr.com>
References: <090218085720.ZM17261@torch.brasslantern.com>
	 <200902181709.n1IH9DsQ019474@news01.csr.com>
Date: Wed, 18 Feb 2009 18:15:00 +0100
Message-ID: <237967ef0902180915i563440d7u43f95c8390cf82a6@mail.gmail.com>
Subject: Re: Clarify zshaddhistory doc?
From: Mikael Magnusson <mikachu@gmail.com>
To: zsh-workers@sunsite.dk
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: ClamAV 0.92.1/9002/Wed Feb 18 12:16:50 2009 on bifrost
X-Virus-Status: Clean

2009/2/18 Peter Stephenson <pws@csr.com>:
> Index: Doc/Zsh/func.yo
> ===================================================================
> RCS file: /cvsroot/zsh/zsh/Doc/Zsh/func.yo,v
> retrieving revision 1.23
> diff -u -r1.23 func.yo
> --- Doc/Zsh/func.yo     5 Sep 2008 09:05:23 -0000       1.23
> +++ Doc/Zsh/func.yo     18 Feb 2009 17:07:35 -0000
> @@ -189,19 +189,23 @@
>  sect(Special Functions)
>  Certain functions, if defined, have special meaning to the shell.
>
> -In the case of tt(chpwd), tt(periodic), tt(precmd) and tt(preexec) it is
> -possible to define an array that has the same name with `tt(_functions)'
> -appended.  Any element in such an array is taken as the name of a function
> -to execute; it is executed in the same context and with the same arguments
> -as the basic function.  For example, if tt($chpwd_functions) is an array
> -containing the values `tt(mychpwd)', `tt(chpwd_save_dirstack)', then the
> -shell attempts to execute the functions `tt(chpwd)', `tt(mychpwd)' and
> +subsect(Hook Functions)
> +findex(functions, hook)
> +findex(hook functions)
> +
> +For the functions below, it is possible to define an array that has the
> +same name as the function with `tt(_functions)' appended.  Any element in
> +such an array is taken as the name of a function to execute; it is executed
> +in the same context and with the same arguments as the basic function.  For
> +example, if tt($chpwd_functions) is an array containing the values
> +`tt(mychpwd)', `tt(chpwd_save_dirstack)', then the shell attempts to
> +execute the functions `tt(chpwd)', `tt(mychpwd)' and
>  `tt(chpwd_save_dirstack)', in that order.  Any function that does not exist
>  is silently ignored.  A function found by this mechanism is referred to
> -elsewhere as a `hook function'.  An error in any function causes
> -subsequent functions not to be run.  Note further that an error
> -in a tt(precmd) hook causes an immediately following tt(periodic)
> -function not to run (thought it may run at the next opportunity).
> +elsewhere as a `hook function'.  An error in any function causes subsequent
> +functions not to be run.  Note further that an error in a tt(precmd) hook
> +causes an immediately following tt(periodic) function not to run (thought
> +it may run at the next opportunity).

Driveby typo fix, thought -> though.


-- 
Mikael Magnusson

