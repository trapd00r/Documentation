From zsh-workers-return-8635-mason-zsh=primenet.com.au@sunsite.auc.dk Sun Nov 14 02:45:48 1999
Return-Path: <zsh-workers-return-8635-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 29637 invoked from network); 14 Nov 1999 02:45:46 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 14 Nov 1999 02:45:46 -0000
Received: (qmail 7013 invoked by alias); 14 Nov 1999 02:45:39 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 8635
Received: (qmail 7006 invoked from network); 14 Nov 1999 02:45:39 -0000
Date: Sat, 13 Nov 1999 19:45:13 -0700
From: Dave Gaulke <gaulke@lucent.com>
To: zsh-workers@sunsite.auc.dk
Subject: array bug
Message-ID: <19991113194512.A15965@calloway.dr.lucent.com>
Reply-To: Dave Gaulke <gaulke@lucent.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 1.0i

I found a problem with arrays used inside a function.  I'm running zsh 3.1.6
on Solaris 2.6.  Here's a function that demonstrates the problem.

function arrtest
{
	set -A myarray
	typeset -x myarray
	myarray[1]=arrtest
	print ${myarray[1]}
}

When I run this it prints only "a" and not the expected "arrtest".  If I run
this outside of a function it works properly.  Also if I reverse the order of
the first two lines of the function it works properly.

Dave
-- 
+----------------------------------------------------+
|   Dave Gaulke           email: gaulke@lucent.com   |
|   Lucent Technologies   voice: 303.538.5168        |
|   11900 N. Pecos St.      fax: 303.538.6697        |
|   Denver, CO  80234                                |
+----------------------------------------------------+

