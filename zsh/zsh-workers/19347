From zsh-workers-return-19347-mason-zsh=primenet.com.au@sunsite.dk Wed Jan 07 21:26:51 2004
Return-Path: <zsh-workers-return-19347-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 21430 invoked from network); 7 Jan 2004 21:26:50 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 7 Jan 2004 21:26:50 -0000
Received: (qmail 3341 invoked by alias); 7 Jan 2004 21:26:43 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 19347
Received: (qmail 3274 invoked from network); 7 Jan 2004 21:26:42 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 7 Jan 2004 21:26:42 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [62.193.203.32] by sunsite.dk (MessageWall 1.0.8) with SMTP; 7 Jan 2004 21:26:42 -0000
Received: from DervishD.pleyades.net (212.Red-80-35-44.pooles.rima-tde.net [80.35.44.212])
	by madrid10.amenworld.com (8.10.2/8.10.2) with ESMTP id i07LQJr23711;
	Wed, 7 Jan 2004 22:26:23 +0100
Received: from raul@pleyades.net by DervishD.pleyades.net with local (Exim MTA 2.05)
	  id <1AeLC2-0006zE-00>; Wed, 7 Jan 2004 22:26:22 +0100
Date: Wed, 7 Jan 2004 22:26:22 +0100
From: DervishD <raul@pleyades.net>
To: Bart Schaefer <schaefer@brasslantern.com>
Cc: Zsh Workers <zsh-workers@sunsite.dk>
Subject: Re: Test E01 and Y01 fails in my zsh 4.0.9
Message-ID: <20040107212622.GA24850@DervishD>
Mail-Followup-To: Bart Schaefer <schaefer@brasslantern.com>,
	Zsh Workers <zsh-workers@sunsite.dk>
References: <20040107121100.GA1432@DervishD> <1040107160210.ZM10597@candle.brasslantern.com> <20040107185618.GE13633@DervishD> <1040107210945.ZM10947@candle.brasslantern.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
In-Reply-To: <1040107210945.ZM10947@candle.brasslantern.com>
User-Agent: Mutt/1.4i
Organization: Pleyades
User-Agent: Mutt/1.4i <http://www.mutt.org>

    Hi Bart :)

 * Bart Schaefer <schaefer@brasslantern.com> dixit:
> } > On what operating system are you testing?
> }     Sorry, I forgot to tell: Linux, a DIY box running 2.4.21 kernel
> } with glibc 2.2.4
> Hrm.  I can't think of any reason, offhand, for that failure.  The output
> you quoted would indicate that it's behaving as if BSD_ECHO is always on.

    That's strange, because BSD_ECHO is disabled in my RC files :??
Oh, shit, I know what the problem is... In my /etc/zshenv I disable
the 'echo' builtin so the coreutils one is used instead, and this
file is run even when zsh is invoked with '-f', isn't it?
 
> }     comptestinit -z $ZTST_testdir/../Src/zsh &&
> [...]
> }     Don't know why 'comptestinit' stops there :??
> It could be a problem with globbing to initialize the fpath, but it's
> far more likely that the zpty module is hanging it.

    Can it be caused by some option I set on my /etc/zshenv? In my
zshenv I just export some variables, set the options I want to set
for all shell flavors, declare some functions I want available for
all shells and disable a couple of builtins (this should go to
/etc/zshrc...).
 
> }     BTW, I have /dev/ptmx AND /dev/ptyp? so the test shouldn't fail
> } even if zsh thinks I don't have the PTY multiplexer :?
> If it were a problem with _finding_ the PTY, you wouldn't even get as
> far as hanging.  I'd suspect a problem with actually reading or writing
> the PTY.
> As what user are you testing?

    First test was under user 'user' (UID 100, few privileges, it can
even access pty's), last under root, and the result was the same).

    Raúl Núñez de Arenas Coronado

-- 
Linux Registered User 88736
http://www.pleyades.net & http://raul.pleyades.net/

