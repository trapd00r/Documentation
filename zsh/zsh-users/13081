From zsh-users-return-13081-mason-zsh=primenet.com.au@sunsite.dk Fri Aug 01 13:55:36 2008
Return-Path: <zsh-users-return-13081-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 11338 invoked from network); 1 Aug 2008 13:55:33 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00,HTML_MESSAGE
	autolearn=ham version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 1 Aug 2008 13:55:33 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 81583 invoked from network); 1 Aug 2008 13:54:00 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 1 Aug 2008 13:54:00 -0000
Received: (qmail 22784 invoked by alias); 1 Aug 2008 13:52:39 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 13081
Received: (qmail 8491 invoked from network); 1 Aug 2008 13:09:13 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 1 Aug 2008 13:09:13 -0000
Received: from web24402.mail.ird.yahoo.com (web24402.mail.ird.yahoo.com [87.248.114.214])
	by bifrost.dotsrc.org (Postfix) with SMTP id 727A8805A42E
	for <zsh-users@sunsite.dk>; Fri,  1 Aug 2008 15:09:08 +0200 (CEST)
Received: (qmail 78500 invoked by uid 60001); 1 Aug 2008 13:09:07 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.fr;
  h=Received:X-Mailer:Date:From:Reply-To:Subject:To:MIME-Version:Content-Type:Message-ID;
  b=opTL9gEkeqXJotui5I1qrZg0iiOx2iOrsLPyAUhnPzKw5KVMQhaTz/rBxpDOOiw2S0SF/8ERBuBVmCQ8XR/Bpx1idbx9Df3dvPb0ravuTz9IB+B2noTZqB+boxQtbB7RcQaX0y2z1sSyA37+An7kiHsBN55CbhDs+mMq8AW7MpY=;
Received: from [83.194.239.64] by web24402.mail.ird.yahoo.com via HTTP; Fri, 01 Aug 2008 13:09:07 GMT
X-Mailer: YahooMailWebService/0.7.218
Date: Fri, 1 Aug 2008 13:09:07 +0000 (GMT)
From: Julien Duval <juduve@yahoo.fr>
Reply-To: juduve@yahoo.fr
Subject: Setting the cursor position upon completion
To: zsh-users@sunsite.dk
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1252225712-1217596147=:77468"
Message-ID: <759002.77468.qm@web24402.mail.ird.yahoo.com>
X-Virus-Scanned: ClamAV 0.92.1/7910/Fri Aug  1 13:14:31 2008 on bifrost
X-Virus-Status: Clean

--0-1252225712-1217596147=:77468
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable

Hi,
I've come to you cause I'm having some trouble setting the
cursor position upon completion, and I didn't find a satisfying
solution on the web.
My TAB key is bound to the
expand-or-complete-prefix widget and I've set the MENU_COMPLETE option
in order to cycle through all the matches right from the first TAB hit.



The thing is, when cycling through the matches, the cursor is always moved =
to the end of each match, which I don't want.


Here is the behaviour I'm looking for:

When hitting TAB for the first time and the first match is inserted,




(1) if there is more than one match and all of them share a common
unambiguous prefix, then move the cursor to the position immediately
following the prefix (that is the first ambiguous character).

(2)
if there is more than one match but they do not ALL share a common
prefix, then leave the cursor where it was before hitting TAB. This is
actually implied by (1).




(3) if there is only one single match, then move the cursor to the end of t=
he match inserted.


The default behaviour already satisfies (3). But I can't seem to find a sol=
ution for the other two.


I've tried the following command to solve (1), but unfortunately it didn't =
help and I don't understand why.
zstyle ':completion:*' ambiguous true

I've unset the ALWAYS_TO_END option (even though it's already
the case by default) but it didn't change anything. Set or unset, the
cursor is always moved to the end of the match. Does anyone know the point =
of this
option ?


Hope the description and my English weren't too confusing.
Any help would be greatly appreciated.

Thanks,
Julien
=0A=0A=0A      ____________________________________________________________=
_________________ =0AEnvoyez avec Yahoo! Mail. Une boite mail plus intellig=
ente http://mail.yahoo.fr
--0-1252225712-1217596147=:77468
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: quoted-printable

<table cellspacing=3D"0" cellpadding=3D"0" border=3D"0" ><tr><td valign=3D"=
top" style=3D"font: inherit;">Hi,<br>I've come to you cause I'm having some=
 trouble setting the
cursor position upon completion, and I didn't find a satisfying
solution on the web.<br>My TAB key is bound to the
expand-or-complete-prefix widget and I've set the MENU_COMPLETE option
in order to cycle through all the matches right from the first TAB hit.<br>


The thing is, when cycling through the matches, the cursor is always moved =
to the end of each match, which I don't want.<br><br><br>Here is the behavi=
our I'm looking for:<br><br>When hitting TAB for the first time and the fir=
st match is inserted,<br>


<br>(1) if there is more than one match and all of them share a common
unambiguous prefix, then move the cursor to the position immediately
following the prefix (that is the first ambiguous character).<br><br>(2)
if there is more than one match but they do not ALL share a common
prefix, then leave the cursor where it was before hitting TAB. This is
actually implied by (1).<br>


<br>(3) if there is only one single match, then move the cursor to the end =
of the match inserted.<br><br><br>The default behaviour already satisfies (=
3). But I can't seem to find a solution for the other two.<br>
<br>I've tried the following command to solve (1), but unfortunately it did=
n't help and I don't understand why.<br>zstyle ':completion:*' ambiguous tr=
ue<br><br>I've unset the ALWAYS_TO_END option (even though it's already
the case by default) but it didn't change anything. Set or unset, the
cursor is always moved to the end of the match. Does anyone know the point =
of this
option ?<br><br><br>Hope the description and my English weren't too confusi=
ng.<br>Any help would be greatly appreciated.<br><br>Thanks,<br>Julien<br><=
/td></tr></table><br>=0A=0A=0A      <hr size=3D"1"> =0AEnvoy=C3=A9 avec <a =
href=3D"http://us.rd.yahoo.com/mailuk/taglines/isp/control/*http://us.rd.ya=
hoo.com/evt=3D52423/*http://fr.docs.yahoo.com/mail/overview/index.html">Yah=
oo! Mail</a>.<br>Une boite mail plus intelligente. </a>
--0-1252225712-1217596147=:77468--

