From zsh-users-return-3105-mason-zsh=primenet.com.au@sunsite.auc.dk Mon May 29 13:48:10 2000
Return-Path: <zsh-users-return-3105-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10702 invoked from network); 29 May 2000 13:48:09 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 29 May 2000 13:48:09 -0000
Received: (qmail 20755 invoked by alias); 29 May 2000 13:47:31 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 3105
Received: (qmail 20748 invoked from network); 29 May 2000 13:47:30 -0000
Date: Mon, 29 May 2000 15:47:23 +0200
From: Andy Spiegl <Andy@Spiegl.de>
To: ZSH User List <zsh-users@sunsite.auc.dk>
Subject: Re: strange alias effects
Message-ID: <20000529154723.A4451@br-online.de>
Mail-Followup-To: ZSH User List <zsh-users@sunsite.auc.dk>
References: <200005291332.PAA13192@beta.informatik.hu-berlin.de>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
User-Agent: Mutt/1.0.1i
In-Reply-To: <200005291332.PAA13192@beta.informatik.hu-berlin.de>; from wischnow@informatik.hu-berlin.de on Mon, May 29, 2000 at 03:32:04PM +0200
X-PGP-GPG-Keys: finger pgp.andy@spiegl.de  OR  mail -s "send pgp" auto@spiegl.de

Andrej and Sven,

> I doubt that this worked before. Maybe you just didn't use it for some 
> time and changed your file in the meantime? Adding that `if', for
> example?
Oops, you are so right.  I downgraded and found that zsh-3.1.6-dev-21 trips 
over the same thing.  Sorry about this misinformation!

And in fact, I moved the look statement into the if-then-else construct
lately.  I guess I haven't use it then for a while and happened to notice
that it doesn't work anymore after my zsh-upgrade.  Stupid coincidence. :-(

> It was always the case that syntactical constructs like if/the/else
> and loops were parsed completely. So if you do:
[...]
> the whole thing is parsed at once. When it is executed, the alias is
> defined, but in this case the functions are already parsed, too.
[...]
> It isn't special to zsh, either. All shells (have to) behave this way.

Oohhh!  This is not very self-evident.  Maybe that should go into the FAQ?
I split the if-clause in two and now it works.  Thank you!

> P.S.: [[..]] is faster than [..].
Thanks!

Thanks and sorry again!
 Andy.

-- 
 E-Mail: Andy@spiegl.de     URL: http://andy.spiegl.de
 PGP/GPG: see headers
                                o      _     _         _
  --------- __o       __o      /\_   _ \\o  (_)\__/o  (_)
  ------- _`\<,_    _`\<,_    _>(_) (_)/<_    \_| \   _|/' \/
  ------ (_)/ (_)  (_)/ (_)  (_)        (_)   (_)    (_)'  _\o_
 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 "Technically, Windows is an operating system, which means that it
  supplies your computer with the basic commands it needs to suddenly,
  with no warning whatsoever, stop operating." - Dave Barry

