<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
  <meta name="generator" content=
  "HTML Tidy for Linux (vers 25 March 2009), see www.w3.org">
  <meta http-equiv="Content-Type" content=
  "text/html; charset=utf-8">

  <title>Git Magic - Chương&nbsp;4.&nbsp;Thủ Thuật Tạo Nhánh</title>
  <link rel="stylesheet" href="default.css" type="text/css">
  <meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
  <link rel="home" href="index.html" title="Git Magic">
  <link rel="up" href="index.html" title="Git Magic">
  <link rel="prev" href="ch03.html" title=
  "Chương&nbsp;3.&nbsp;Nhân Bản">
  <link rel="next" href="ch05.html" title=
  "Chương&nbsp;5.&nbsp;Bài Học về Lịch Sử">
</head>

<body bgcolor="white" text="black" link="#0000FF" vlink="#840084"
alink="#0000FF">
    <div class="toc">
      <ul>
<li><b>Git Magic</b></li>
        <li>
          <span class="preface"><a href="index.html">Lời nói
          đầu</a></span>

          <ul>
            <li><span class="section"><a href=
            "index.html#_l%E1%BB%9Di_c%E1%BA%A3m_%C6%A1n">Lời cảm
            ơn!</a></span></li>

            <li><span class="section"><a href=
            "index.html#_gi%E1%BA%A5y_ph%C3%A9p_s%E1%BB%AD_d%E1%BB%A5ng">
            Giấy phép sử dụng</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch01.html">1. Giới
          thiệu</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch01.html#_c%C3%B4ng_vi%E1%BB%87c_gi%E1%BB%91ng_nh%C6%B0_tr%C3%B2_ch%C6%A1i">
            Công Việc giống như Trò Chơi</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_qu%E1%BA%A3n_l%C3%BD_m%C3%A3_ngu%E1%BB%93n">
            Quản Lý Mã Nguồn</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_h%E1%BB%87_th%E1%BB%91ng_ph%C3%A2n_t%C3%A1n">
            Hệ Thống Phân Tán</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_quan_ni%E1%BB%87m_c%E1%BB%95_h%E1%BB%A7">Quan
            Niệm Cổ Hủ</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_xung_%C4%91%E1%BB%99t_khi_tr%E1%BB%99n">Xung
            Đột Khi Trộn</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch02.html">2. Các Thủ
          Thuật Cơ Bản</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch02.html#_ghi_l%E1%BA%A1i_tr%E1%BA%A1ng_th%C3%A1i">Ghi
            lại Trạng thái</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_th%C3%AAm_x%C3%B3a_%C4%91%E1%BB%95i_t%C3%AAn">
            Thêm, Xóa, Đổi Tên</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_ch%E1%BB%A9c_n%C4%83ng_undo_redo">Chức Năng
            Undo/Redo</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_s%E1%BB%B1_quay_l%E1%BA%A1i">Sự quay
            lại</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_t%E1%BA%A1o_nh%E1%BA%ADt_k%C3%BD_c%C3%A1c_thay_%C4%91%E1%BB%95i">
            Tạo Nhật Ký các thay đổi</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_t%E1%BA%A3i_v%E1%BB%81_c%C3%A1c_t%E1%BB%87p_tin">
            Tải về các Tệp tin</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_th%E1%BB%AD_nghi%E1%BB%87m">Thử
            Nghiệm</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_xu%E1%BA%A5t_b%E1%BA%A3n">Xuất
            Bản</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_t%C3%B4i_%C4%91%C3%A3_l%C3%A0m_%C4%91%C6%B0%E1%BB%A3c_g%C3%AC">
            Tôi Đã Làm Được Gì?</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_b%C3%A0i_t%E1%BA%ADp">Bài
            Tập</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch03.html">3. Nhân
          Bản</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch03.html#_%C4%91%E1%BB%93ng_b%E1%BB%99_h%C3%B3a_c%C3%A1c_m%C3%A1y_t%C3%ADnh">
            Đồng bộ hóa Các Máy tính</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_qu%E1%BA%A3n_l%C3%BD_theo_c%C3%A1ch_c%C5%A9">
            Quản lý theo cách Cũ</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_m%C3%A3_ngu%E1%BB%93n_ri%C3%AAng_t%C6%B0">Mã
            nguồn riêng tư</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_kho_thu%E1%BA%A7n">Kho
            thuần</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_push_ng%C6%B0%E1%BB%A3c_v%E1%BB%9Bi_pull">Push
            ngược với pull</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_r%E1%BA%BD_nh%C3%A1nh_m%E1%BB%99t_d%E1%BB%B1_%C3%A1n">
            Rẽ Nhánh một Dự Án</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_sao_l%C6%B0u_kh%C3%B4ng_gi%E1%BB%9Bi_h%E1%BA%A1n">
            Sao Lưu Không Giới Hạn</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_l%C3%A0m_nhi%E1%BB%81u_vi%E1%BB%87c_c%C3%B9ng_l%C3%BAc">
            Làm nhiều việc cùng lúc</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_song_h%C3%A0nh_c%C3%B9ng_c%C3%A1c_h%E1%BB%87_th%E1%BB%91ng_scm_kh%C3%A1c">
            Song Hành cùng các hệ thống SCM khác</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_mercurial">Mercurial</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_bazaar">Bazaar</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_t%E1%BA%A1i_sao_t%C3%B4i_s%E1%BB%AD_d%E1%BB%A5ng_git">
            Tại sao Tôi sử dụng Git</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch04.html">4. Thủ Thuật
          Tạo Nhánh</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch04.html#_n%C3%BAt_%C4%91i%E1%BB%81u_khi%E1%BB%83n">Nút
            Điều Khiển</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_b%E1%BA%A3n_nh%C3%A1p">Bản
            Nháp</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_s%E1%BB%ADa_nhanh">Sửa
            Nhanh</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_tr%E1%BB%99n">Trộn</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_l%C3%A0m_vi%E1%BB%87c_li%C3%AAn_t%E1%BB%A5c">
            Làm Việc Liên Tục</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_c%E1%BA%A3i_t%E1%BB%95_l%E1%BA%A1i_s%E1%BB%B1_pha_tr%E1%BB%99n">
            Cải Tổ Lại Sự Pha Trộn</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_qu%E1%BA%A3n_l%C3%BD_c%C3%A1c_nh%C3%A1nh">Quản
            Lý Các Nhánh</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_nh%C3%A1nh_t%E1%BA%A1m">Nhánh
            Tạm</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_l%C3%A0m_theo_c%C3%A1ch_c%E1%BB%A7a_m%C3%ACnh">
            Làm Theo Cách Của Mình</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch05.html">5. Bài Học về
          Lịch Sử</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch05.html#_d%E1%BB%ABng_l%E1%BA%A1i_s%E1%BB%ADa_ch%E1%BB%AFa">
            Dừng Lại Sửa Chữa</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_8230_v%C3%A0_sau_%C4%91%C3%B3_l%C3%A0_nhi%E1%BB%81u_l%E1%BA%A7n">
            … Và Sau đó là Nhiều Lần</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_thay_%C4%91%E1%BB%95i_ri%C3%AAng_s%E1%BA%AFp_x%E1%BA%BFp_sau">
            Thay Đổi Riêng Sắp Xếp Sau</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_vi%E1%BA%BFt_l%E1%BA%A1i_l%E1%BB%8Bch_s%E1%BB%AD">
            Viết Lại Lịch Sử</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_t%E1%BB%B1_t%E1%BA%A1o_l%E1%BB%8Bch_s%E1%BB%AD">
            Tự Tạo Lịch Sử</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_v%E1%BB%8B_tr%C3%AD_n%C3%A0o_ph%C3%A1t_sinh_l%E1%BB%97i">
            Vị Trí Nào Phát Sinh Lỗi?</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_ai_%C4%91%C3%A3_l%C3%A0m_n%C3%B3_sai">Ai Đã
            Làm Nó Sai?</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_kinh_nghi%E1%BB%87m_ri%C3%AAng">Kinh Nghiệm
            Riêng</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch06.html">6. Đa Người
          Dùng</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch06.html#_t%C3%B4i_l%C3%A0_ai">Tôi Là
            Ai?</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_git_th%C3%B4ng_qua_ssh_http">Git Thông Qua
            SSH, HTTP</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_git_th%C3%B4ng_qua_m%E1%BB%8Di_th%E1%BB%A9">
            Git Thông Qua Mọi Thứ</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_v%C3%A1_s%E1%BB%B1_th%E1%BB%8Bnh_h%C3%A0nh_to%C3%A0n_c%E1%BA%A7u">
            Vá: Sự Thịnh Hành Toàn Cầu</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_r%E1%BA%A5t_ti%E1%BA%BFc_t%C3%B4i_%C4%91%C3%A3_chuy%E1%BB%83n_%C4%91i">
            Rất tiếc! Tôi đã chuyển đi</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_nh%C3%A1nh_tr%C3%AAn_m%E1%BA%A1ng">Nhánh
            Trên Mạng</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_%C4%91a_m%C3%A1y_ch%E1%BB%A7">Đa Máy
            chủ</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_s%E1%BB%9F_th%C3%ADch_ri%C3%AAng_c%E1%BB%A7a_t%C3%B4i">
            Sở Thích Riêng Của Tôi</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch07.html">7. Trở Thành
          Kiện Tướng</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch07.html#_ph%C3%A1t_h%C3%A0nh_m%C3%A3_ngu%E1%BB%93n">Phát
            hành Mã Nguồn</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_ch%E1%BB%89_commit_nh%E1%BB%AFng_g%C3%AC_thay_%C4%91%E1%BB%95i">
            Chỉ Commit Những Gì Thay Đổi</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_l%E1%BA%A7n_commit_n%C3%A0y_nhi%E1%BB%81u_qu%C3%A1">
            Lần commit này Nhiều Quá!</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_m%E1%BB%A5c_l%E1%BB%A5c_v%C3%B9ng_tr%E1%BA%A1ng_th%C3%A1i_c%E1%BB%A7a_git">
            Mục Lục: Vùng trạng thái của Git</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_%C4%91%E1%BB%ABng_qu%C3%AAn_head_c%E1%BB%A7a_m%C3%ACnh">
            Đừng Quên HEAD Của Mình</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_s%C4%83n_t%C3%ACm_head">Săn
            tìm-HEAD</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_x%C3%A2y_d%E1%BB%B1ng_tr%C3%AAn_git">Xây
            Dựng trên Git</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_c%E1%BB%A9_phi%C3%AAu_l%C6%B0u">Cứ Phiêu
            Lưu</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_ng%C4%83n_ng%E1%BB%ABa_commit_sai">Ngăn
            Ngừa Commit Sai</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch08.html">8. Bí Quyết của
          Git</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch08.html#_t%C3%ADnh_%E1%BA%A9n">Tính
            Ẩn</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_to%C3%A0n_v%E1%BA%B9n_d%E1%BB%AF_li%E1%BB%87u">
            Toàn Vẹn Dữ Liệu</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_th%C3%B4ng_minh">Thông Minh</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_m%E1%BB%A5c_l%E1%BB%A5c">Mục
            Lục</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_ngu%E1%BB%93n_g%E1%BB%91c_c%E1%BB%A7a_git">Nguồn
            Gốc của Git</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_%C4%91%E1%BB%91i_t%C6%B0%E1%BB%A3ng_c%C6%A1_s%E1%BB%9F_d%E1%BB%AF_li%E1%BB%87u">
            Đối tượng Cơ Sở Dữ Liệu</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_%C4%91%E1%BB%91i_t%C6%B0%E1%BB%A3ng_blob">Đối
            Tượng Blob</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_%C4%91%E1%BB%91i_t%C6%B0%E1%BB%A3ng_tree">Đối
            Tượng Tree</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_l%E1%BA%A7n_commit">Lần
            Commit</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_kh%C3%B3_ph%C3%A2n_bi%E1%BB%87t_%C4%91%C6%B0%E1%BB%A3c_s%E1%BB%B1_th%E1%BA%A7n_k%E1%BB%B3">
            Khó Phân Biệt Được sự Thần Kỳ</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch09.html">9. Phụ lục A:
          Hạn chế của Git</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch09.html#_%C4%91i%E1%BB%83m_y%E1%BA%BFu_sha1">Điểm
            Yếu SHA1</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_microsoft_windows">Microsoft
            Windows</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_c%C3%A1c_t%E1%BB%87p_tin_kh%C3%B4ng_li%C3%AAn_quan">
            Các Tệp tin Không liên quan</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_ai_s%E1%BB%ADa_v%C3%A0_s%E1%BB%ADa_g%C3%AC">
            Ai Sửa và Sửa gì?</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_l%E1%BB%8Bch_s%E1%BB%AD_t%E1%BB%87p_tin">Lịch
            Sử Tệp Tin</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_kh%E1%BB%9Fi_t%E1%BA%A1o_b%E1%BA%A3n_sao">Khởi
            tạo Bản Sao</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_c%C3%A1c_d%E1%BB%B1_%C3%A1n_hay_thay_%C4%91%E1%BB%95i">
            Các Dự Án Hay Thay Đổi</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_b%E1%BB%99_%C4%91%E1%BA%BFm">Bộ
            Đếm</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_v%E1%BB%9Bi_th%C6%B0_m%E1%BB%A5c_r%E1%BB%97ng">
            Với Thư Mục Rỗng</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_l%E1%BA%A7n_commit_kh%E1%BB%9Fi_t%E1%BA%A1o">
            Lần Commit Khởi tạo</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_giao_di%E1%BB%87n_l%E1%BA%ADp_l%E1%BB%9D">Giao
            diện Lập lờ</a></span></li>
          </ul>
        </li>

        <li><span class="chapter"><a href="ch10.html">10. Phụ lục
        B: Dịch Bản Hướng Dẫn Này</a></span></li>
      </ul>
    </div>
<div class="content">
  <div class="chapter" title=
  "Chương&nbsp;4.&nbsp;Thủ Thuật Tạo Nhánh">
    <div class="titlepage">
      <div>
        <div>
          <h2 class="title"><a name=
          "_th%E1%BB%A7_thu%E1%BA%ADt_t%E1%BA%A1o_nh%C3%A1nh"></a>Chương&nbsp;4.&nbsp;Thủ
          Thuật Tạo Nhánh</h2>
        </div>
      </div>
    </div>

    <p>Tạo Nhánh và Trộn là các đặc tính sát thủ của Git.</p>

    <p><span class="strong"><strong>Vấn đề đặt ra</strong></span>:
    Những nhân tố bên ngoài chắc hẳn có đòi hỏi việc hoán chuyển
    văb cảnh. Một lỗi tồi tệ xuất hiện trong phiên bản đã được phát
    hành mà không được cảnh báo gì. Điều tồi tệ nhất có thể xảy ra
    là phải xóa bỏ hẳn đặc tính kỹ thuật đó. Người phát triển phần
    mềm, người mà đã giúp bạn viết nó, cần biết lý do về việc bãi
    bỏ. Trong tất cả các trường hợp, bạn buộc phải xóa bỏ cái mà
    bạn đang làm và làm một cái hoàn toàn mới.</p>

    <p>Việc gán đoạn suy nghĩ có thể làm giảm hiệu suất làm việc
    của bạn, và việc hoán chuyển nội dung càng cồng kềnh vướng víu
    càng gây hậu quả nặng nề. Đối với các hệ thống quản lý mã nguồn
    tập trung chúng ta phải tải về một bản sao công việc mới từ máy
    chủ trung tâm. Các hệ thống phân tán hoạt động hiệu quả hơn,
    như là chúng ta có thể nhân bản một cách cục bộ.</p>

    <p>Nhưng việc nhân bản bắt buộc phải sao chép toàn bộ thư mục
    làm việc cũng như là toàn bộ các mục trong lịch sử cho đến thời
    điểm đã được chỉ ra. Dù là Git giảm bớt sự lãng phí cho việc
    này bằng cách chia sẻ và tạo ra các liên kết tệp tin cứng,
    chính bản thân các tệp tin dự án cũng phải được tạo ra trong
    các đề mục của chúng trong thư mục làm việc.</p>

    <p><span class="strong"><strong>Giải pháp</strong></span>: Git
    có một công cụ tốt hơn để sử lý tình huống này, nó nhanh và
    tiết kiệm không gian lưu trữ hơn lệnh nhân bản đó chính là:
    <span class="strong"><strong>git branch</strong></span>.</p>

    <p>Với vài câu thần chú, các tệp tin trong thư mục của bạn dễ
    dàng biến đổi từ phiên bản này sang phiên bản khác. Sự chuyển
    đổi này có thể làm nhiều hơn việc di chuyển trong trong lịch sử
    một các đơn thuần. Các tệp tin của bạn có thể chuyển hình thái
    từ bản phát hành cuối thành phiên bản thử nghiệm, thành phiên
    bản phát triển hiện hành, thành phiên bản của người bạn của
    bạn, và cứ như thế.</p>

    <div class="section" title="Nút Điều Khiển">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_n%C3%BAt_%C4%91i%E1%BB%81u_khi%E1%BB%83n"></a>Nút
            Điều Khiển</h2>
          </div>
        </div>
      </div>

      <p>Mỗi khi chơi trò chơi, bạn bấm vào nút (“nút điều khiển”),
      màn hình có lẽ hiển thị ngay ra một cái bảng hay một thứ gì
      đó? Thế thì nhỡ ông chủ của bạn đang đi lại trong văn phòng
      nơi bạn đang chơi trò chơi thì làm cách nào để nhanh chóng
      giấu chúng đi?</p>

      <p>Ở thư mục nào đó:</p>
      <pre class="literallayout">
$ echo "Tôi thông minh hơn xếp của mình" &gt; myfile.txt
$ git init
$ git add .
$ git commit -m "Lần commit đầu tiên"
</pre>

      <p>Chúng ta đã tạo ra kho chứa Git mà nó theo dõi một tệp tin
      văn bản có chứa một thông điệp đã biết trước. Giờ hãy gõ:</p>
      <pre class="literallayout">
$ git checkout -b boss  # dường như chẳng có gì thay đổi sau lệnh này
$ echo "Xếp thông minh hơn tôi" &gt; myfile.txt
$ git commit -a -m "Lần commit khác"
</pre>

      <p>Điều này cũng giống như việc chúng ta ghi đè lên tệp tin
      của mình sau đó commit nó. Nhưng không, đó chỉ là ảo tưởng.
      Gõ:</p>
      <pre class="literallayout">
$ git checkout master  # quay trở lại phiên bản nguyên gốc của tệp tin
</pre>

      <p>Ối trời ơi! Tệp tin văn bản lại trở về như cũ mất rồi. Và
      nếu ông chủ có ý định ngó qua thư mục của bạn thì hãy gõ:</p>
      <pre class="literallayout">
$ git checkout boss  # chuyển trở lại phiên bạn vừa mắt ông chủ
</pre>

      <p>Bạn có thể hoán chuyển giữa hai phiên bản của tệp tin tùy
      thích, và commit từng cái trong số chúng một cách độc
      lập.</p>
    </div>

    <div class="section" title="Bản Nháp">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_b%E1%BA%A3n_nh%C3%A1p"></a>Bản Nháp</h2>
          </div>
        </div>
      </div>

      <p><a name="branch" id="branch"></a>Bạn nói mình đang làm
      việc với một số đặc tính kỹ thuật, và vì lý do nào đó, bạn
      muốn quay trở lại bản cách đây ba bản và tạm thời đặt vài
      dòng lệnh in ra màn hình để có thể thấy được một số hàm hoạt
      động như thế nào. Thế thì:</p>
      <pre class="literallayout">
$ git commit -a
$ git checkout HEAD~3
</pre>

      <p>Giờ thì bạn có thể thêm những dòng mã lệnh tạm thời ở đâu
      mình muốn. Bạn còn có thể commit những thay đổi đó. Khi bạn
      đã làm xong, hãy thực hiện lệnh</p>
      <pre class="literallayout">
$ git checkout master
</pre>

      <p>để quay lại công việc chính. Chú ý là bất kỳ các thay đổi
      không được commit sẽ đổ xuống sông xuống biển.</p>

      <p>Nhưng bạn lại muốn ghi lại các thay đổi tạm thời đó sau
      khi làm xong? Rất dễ:</p>
      <pre class="literallayout">
$ git checkout -b dirty
</pre>

      <p>và commit trước khi quay trở lại nhánh master. Khi nào đó
      bạn muốn quay trở lại các thay đổi ở trên, đơn giản, chỉ cần
      gõ:</p>
      <pre class="literallayout">
$ git checkout dirty
</pre>

      <p>Chúng ta đã đụng chạm đến lệnh như trên ở những chương
      trước rồi, khi thảo luận về việc tải về một trạng thái cũ.
      Cuối cùng chúng ta có thể thuật lại toàn bộ câu chuyện: các
      tệp tin đã thay đổi theo trạng thái đã được yêu cầu, nhưng
      chúng ta phải rời bỏ nhánh master. Tất cả những lần commit
      được tạo ra từ đây sẽ dẫn bạn đi trên một nhánh khác, nhánh
      này có thể được đặt tên sau.</p>

      <p>Mặt khác, sau khi <span class="emphasis"><em>check
      out</em></span> một trạng thái cũ, Git tự động đặt bạn vào
      một trạng thái mới, một nhánh chưa có tên, và nhánh này có
      thể đặt tên và ghi lại với lệnh <span class=
      "strong"><strong>git checkout -b</strong></span>.</p>
    </div>

    <div class="section" title="Sửa Nhanh">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name="_s%E1%BB%ADa_nhanh"></a>Sửa
            Nhanh</h2>
          </div>
        </div>
      </div>

      <p>Bạn đang phân vân giữa ngã ba đường khi bạn phải xác định
      là xóa tất cả mọi thứ hoặc là sửa chữa các lỗi mới phát hiện
      ra trong lần commit <code class="literal">1b6d...</code>:</p>
      <pre class="literallayout">
$ git commit -a
$ git checkout -b fixes 1b6d
</pre>

      <p>Một khi bạn đã sửa lỗi:</p>
      <pre class="literallayout">
$ git commit -a -m "Đã sửa"
$ git checkout master
</pre>

      <p>và quay lại công việc theo phận sự của mình. Bạn thậm chí
      có thể trộn với lần commit đã sửa để sửa lỗi:</p>
      <pre class="literallayout">
$ git merge fixes
</pre>
    </div>

    <div class="section" title="Trộn">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name="_tr%E1%BB%99n"></a>Trộn</h2>
          </div>
        </div>
      </div>

      <p>Với một số hệ thống quản lý mã nguồn, việc tạo các nhánh
      rất dễ dàng nhưng trộn chúng trở lại là một bài toán hóc búa.
      Với Git, việc trộn là dễ dàng và bạn có thể không hay biết nó
      hoạt động như thế nào.</p>

      <p>Chúng ta đã sử dụng việc trộn từ lâu rồi. Lệnh
      <span class="strong"><strong>pull</strong></span> trên thực
      tế đã <span class="emphasis"><em>fetch</em></span> các lần
      commit và sau đó trộn chúng vào trong nhánh hiện hành của
      bạn. Nếu trên máy của mình bạn không có thay đổi gì cả, thế
      thì việc trộn sẽ là một <span class="emphasis"><em>fast
      forward</em></span>, trường hợp này cũng na ná như việc lấy
      về phiên bản cuối cùng trong hệ thống quản lý mã nguồn tập
      trung. Nhưng nếu bạn đã có thay đổi trên máy của mình, Git sẽ
      tự động trộn, và báo cáo cho bạn nếu có xung đột xảy ra.</p>

      <p>Thông thường, mỗi lần commit có một <span class=
      "emphasis"><em>commit cha</em></span>, tạm gọi thế, chính là
      lần commit trước. Việc trộn các nhánh với nhau phát sinh ra
      một lần commit với ít nhất hai <span class=
      "emphasis"><em>cha</em></span>. Điều này đặt ra câu hỏi: lần
      commit mà <code class="literal">HEAD~10</code> thực sự ám chỉ
      đến là lần nào? Một lần commit có thể có nhiều cha, thế thì
      chúng ta phải theo cái nào?</p>

      <p>Nó sẽ gọi ra <span class="emphasis"><em>cha</em></span>
      đầu tiên. Đây là điều ta mong muốn bởi vì nhánh hiện hành trở
      thành cha đầu tiên trong suốt quá trình trộn; một cách thường
      xuyên, bạn chỉ liên quan đến những thay đổi mình tạo ra trong
      nhánh hiện hành, cốt để mà đối lập với việc trộn thay đổi từ
      các nhánh khác.</p>

      <p>Bạn hãy nhớ Git quy một cha nào đó với một dấu mũ. Ví dụ,
      để hiển thị nhật ký tính từ <span class=
      "emphasis"><em>cha</em></span> thứ hai:</p>
      <pre class="literallayout">
$ git log HEAD^2
</pre>

      <p>Bạn có thể bỏ qua số dành cho cha đầu tiên. Ví dụ, để hiển
      thị sự khác nhau với cha đầu tiên:</p>
      <pre class="literallayout">
$ git diff HEAD^
</pre>

      <p>Bạn có thể tổ hợp các dấu mũ này với các kiểu khác nhau.
      Ví dụ:</p>
      <pre class="literallayout">
$ git checkout 1b6d^^2~10 -b ancient
</pre>

      <p>bắt đầu một nhánh mới “ancient” tương ứng với trạng thái
      lần commit thứ 10 trở về trước từ cha thứ hai của cha thứ
      nhất của lần commit bắt đầu với 1b6d.</p>
    </div>

    <div class="section" title="Làm Việc Liên Tục">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_l%C3%A0m_vi%E1%BB%87c_li%C3%AAn_t%E1%BB%A5c"></a>Làm
            Việc Liên Tục</h2>
          </div>
        </div>
      </div>

      <p>Thường trong các dự án phần cứng, bước thứ hai của kế
      hoạch phải chờ bước thứ nhất hoàn thành. Một chiếc xe hơi cần
      sửa chữa có thể phải nằm chờ trong xưởng sửa chữa cho đến khi
      các chi tiết phụ tùng đặc biệt được chuyển đến từ nhà máy.
      Một mẫu có thể phải chờ một con chip được làm ra trước khi
      quá trình chế tác có thể tiếp tục.</p>

      <p>Dự án phần mềm cũng có thể tương tự như thế. Bộ phận thứ
      hai có một số tính năng có thể phải chờ cho đến khi phần thứ
      nhất đã được phát hành và kiểm tra. Một số dự án yêu cầu mã
      nguồn của bạn phải được xem xét lại trước khi chấp nhận nó,
      vì vậy bạn có thể phải chờ cho đến khi bộ phận thứ nhất đã
      được chấp thuận trước khi bắt đầu phần thứ hai.</p>

      <p>Nhờ có việc tạo nhánh và trộn dễ dàng và cũng chẳng mất
      mát gì, chúng ta có thể phá vỡ quy tắc và làm việc trên Part
      II trước khi Part I chính thức sẵn sàng. Giả sử bạn đã commit
      Part I và gửi nó đi để xem xét. Giả sử bạn đang ở nhánh
      <code class="literal">master</code>. Thế thì hãy phân nhánh
      ra:</p>
      <pre class="literallayout">
$ git checkout -b part2
</pre>

      <p>Tiếp đến, làm việc trên Part II, commit những thay đổi của
      bạn bao nhiêu tùy thích. Lỗi là ở con người, và bạn sẽ phải
      thường xuyên quay trở lại để sửa lỗi nào đó trong Part I. Nếu
      may mắn, hay trong trường hợp tốt, bạn có thể bỏ qua những
      dòng này.</p>
      <pre class="literallayout">
$ git checkout master  # Quay trở lại Part I.
$ sửa_lỗi
$ git commit -a        # Commit sau khi sửa lỗi.
$ git checkout part2   # Quay trở lại Part II.
$ git merge master     # Trộn các thay đổi.
</pre>

      <p>Cuối cùng, Part I được chấp thuận:</p>
      <pre class="literallayout">
$ git checkout master  # Quay trở lại Part I.
$ submit files         # Xuất bản ra!
$ git merge part2      # Trộn vào Part II.
$ git branch -d part2  # Xóa nhánh "part2".
</pre>

      <p>Bây giờ chúng ta lại ở trong nhánh <code class=
      "literal">master</code>, với Part II trong thư mục làm
      việc.</p>

      <p>Thủ thuật này rất dễ dàng để mở rộng ra dành cho nhiều
      phần hơn. Nó cũng đễ dàng để phân nhánh ra từ quá khứ: giả sử
      muộn bạn mới nhận ra là mình phải tạo một nhánh từ trước đây
      7 lần commit. Thế thì gõ:</p>
      <pre class="literallayout">
$ git branch -m master part2  # Đổi tên nhánh "master" thành "part2".
$ git checkout HEAD~7 -b master # Tạo nhánh "master" mới 7 lần commit ngược từ trước.
</pre>

      <p>Nhánh <code class="literal">master</code> bây giờ chỉ chứa
      Part I, và nhánh <code class="literal">part2</code> trở thành
      nhánh chứa. Chúng ta đang ở nhánh sau; chúng ta đã tạo nhánh
      <code class="literal">master</code> mà không chuyển đến nó,
      bởi vì chúng ta muốn tiếp tục làm việc trên <code class=
      "literal">part2</code>. Điều này hơi bất thường. Cho đến lúc
      này, Chúng ta chuyển đến các nhánh ngay sau khi chúng được
      tạo ra, như là trong:</p>
      <pre class="literallayout">
$ git checkout HEAD~7 -b master  # Tạo một nhánh và chuyển tới nó.
</pre>
    </div>

    <div class="section" title="Cải Tổ Lại Sự Pha Trộn">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_c%E1%BA%A3i_t%E1%BB%95_l%E1%BA%A1i_s%E1%BB%B1_pha_tr%E1%BB%99n">
            </a>Cải Tổ Lại Sự Pha Trộn</h2>
          </div>
        </div>
      </div>

      <p>Có lẽ bạn thích làm việc trên mọi khía cạnh của một dự án
      trên cùng một nhánh. Bạn muốn giữ riêng các thay đổi mình
      đang làm cho riêng mình và muốn những người khác chỉ thấy
      được các lần commit của bạn sau khi đã được tổ chức lại. Hãy
      chuẩn bị một cặp nhánh:</p>
      <pre class="literallayout">
$ git branch -b sanitized # Tạo một nhánh dùng cho việc dọn.
$ git checkout -b medley # Tạo và chuyển nhánh thành nơi làm việc.
</pre>

      <p>Tiếp theo, làm việc gì đó: sửa lỗi, thêm các đặc tính kỹ
      thuật, thêm mã lệnh tạm thời, vân vân, commit thường xuyên.
      Sau đó:</p>
      <pre class="literallayout">
$ git checkout sanitized
$ git cherry-pick medley^^
</pre>

      <p>áp dụng nhánh ông-bà của lần commit head của nhánh
      “medley” thành nhánh “sanitized”. Với lệnh thích hợp là
      cherry-picks bạn có thể cấu trúc một nhánh mà nó chỉ chứa mã
      nguồn không thay đổi, và những lần commit có liên quan sẽ
      được nhóm lại với nhau.</p>
    </div>

    <div class="section" title="Quản Lý Các Nhánh">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_qu%E1%BA%A3n_l%C3%BD_c%C3%A1c_nh%C3%A1nh"></a>Quản Lý
            Các Nhánh</h2>
          </div>
        </div>
      </div>

      <p>Liệt kê tất cả các nhánh bằng cách gõ:</p>
      <pre class="literallayout">
$ git branch
</pre>

      <p>Theo mặc định, bạn bắt đầu tại nhánh có tên “master”. Một
      số người chủ trương rời bỏ nhánh “master” mà không động chạm
      gì đến nó và tạo các nhánh mới dành cho các chỉnh sửa của
      riêng mình.</p>

      <p>Các tùy chọn <span class=
      "strong"><strong>-d</strong></span> and <span class=
      "strong"><strong>-m</strong></span> cho phép bạn xóa hay di
      chuyển (đổi tên) các nhánh. Xem thêm <span class=
      "strong"><strong>git help branch</strong></span>.</p>

      <p>Nhánh “master” thông thường rất hữu dụng. Những người khác
      sẽ nghĩ rằng kho chứa của bạn có nhánh với tên này, và nhánh
      đó chứa phiên bản chính thức của dự án của bạn. Mặc dù bạn có
      thể đổi tên hay xóa bỏ nhánh “master”, nhưng bạn không nên
      làm như thế mà hãy tôn trọng thỏa thuận ngầm này.</p>
    </div>

    <div class="section" title="Nhánh Tạm">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_nh%C3%A1nh_t%E1%BA%A1m"></a>Nhánh Tạm</h2>
          </div>
        </div>
      </div>

      <p>Một lát sau bạn có lẽ nhận thức được rằng mình cần có các
      nhánh tạm thời vì các lý do như: mọi nhánh khác đơn thuần
      phục vụ cho việc ghi lại trạng thái hiện tại do vậy bạn có
      thể nhảy trở lại các trạng thái cũ hơn để mà sửa chữa các lỗi
      nghiêm trọng hay thứ gì đó.</p>

      <p>Điều này cũng tương tự như việc chuyển kênh trên TV một
      cách tạm thời để thấy chương trình khác đang chiếu cái gì.
      Nhưng thay vì chỉ cần nhấn vài cái nút, bạn phải tạo, check
      out, trộn và xóa nhánh tạm đó. May mắn thay, Git có cách ngắn
      gọn tiện lợi chẳng thua kém gì chiếc điều khiển từ xa của một
      chiếc TV:</p>
      <pre class="literallayout">
$ git stash
</pre>

      <p>Lệnh này ghi lại trạng thái hiện hành vào một vị trí tạm
      thời (một <span class="emphasis"><em>stash</em></span>) và
      phục hồi lại trạng thái trước đó. Thư mục bạn đang làm việc
      xuất hiện chính xác như trước khi bạn chỉnh sửa, và bạn có
      thể sửa lỗi, pull về các thay đổi ngược dòng, và cứ như thế.
      Khi bạn muốn qua trở lại trạng thái đã được tạm giấu đi đó,
      hãy gõ:</p>
      <pre class="literallayout">
$ git stash apply  # Bạn có thể sẽ phải giải quyết các xung đột có thể nảy sinh.
</pre>

      <p>Bạn có thể có nhiều trạng thái được tạm giấu đi, và vận
      dụng chúng theo nhiều cách khác nhau. Xem <span class=
      "strong"><strong>git help stash</strong></span> để biết thêm
      chi tiết. Bạn cũng có thể đoán được, Git duy trì các nhánh ở
      hậu trường để thực hiện việc này.</p>
    </div>

    <div class="section" title="Làm Theo Cách Của Mình">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_l%C3%A0m_theo_c%C3%A1ch_c%E1%BB%A7a_m%C3%ACnh"></a>Làm
            Theo Cách Của Mình</h2>
          </div>
        </div>
      </div>

      <p>Bạn có thể sẽ cảm thấy việc sử dụng nhánh phiền hà quá.
      Cuối cùng, clones có lẽ là lệnh nhanh nhất, và bạn có thể
      hoán chuyển giữa chúng với lệnh <span class=
      "strong"><strong>cd</strong></span> thay vì sử dụng lệnh
      riêng của Git.</p>

      <p>Ta thử xét đến các trình duyệt web. Tại sao việc hỗ trợ mở
      nhiều tab thì cũng tốt như mở trên nhiều cửa sổ khác nhau?
      Bởi vì cả hai điều này thể hiện tính đa dạng của quan điểm,
      phong cách sống. Một số người sử dụng lại thích chỉ giữ một
      cửa sổ trình duyệt được mở, và sử dụng các tab để hiển thị
      nhiều trang web một lúc. Những người khác có lẽ lại khăng
      khăng cực đoan cho rằng: mở trên nhiều cửa sổ khác nhau và
      chẳng cần tab nữa. Một nhóm khác lại thích cả hai một
      lúc.</p>

      <p>Việc tạo nhánh thì cũng giống như tạo các tab cho thư mục
      làm việc của bạn, còn việc nhân bản thì lại giống như việc mở
      một cửa sổ duyệt mới. Những việc này nhanh chóng và nội bộ,
      thế thì sao lại không thử nghiệm để tìm thấy cách thực hiện
      thích hợp nhất cho mình? Git giúp bạn làm việc chính xác như
      bạn muốn.</p>
    </div>
  </div><script type="text/javascript" src="find_selflink.js">
</script><script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
  document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
  </script><script type="text/javascript">
var pageTracker = _gat._getTracker("UA-1901330-2");
  pageTracker._initData();
  pageTracker._trackPageview();
  </script>
</div>
</div><div class="footer"><a href="/~blynn/">Ben Lynn</a></div>
</body>
</html>
