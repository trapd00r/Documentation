From zsh-workers-return-5588-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Mar 01 15:47:33 1999
Return-Path: <zsh-workers-return-5588-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 29998 invoked from network); 1 Mar 1999 15:47:31 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 1 Mar 1999 15:47:31 -0000
Received: (qmail 14395 invoked by alias); 1 Mar 1999 15:46:59 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 5588
Received: (qmail 14388 invoked from network); 1 Mar 1999 15:46:57 -0000
Date: Mon, 1 Mar 1999 16:46:14 +0100 (MET)
Message-Id: <199903011546.QAA15353@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: Peter Stephenson's message of Mon, 01 Mar 1999 15:46:28 +0100
Subject: Re: PATCH: Re: pws-10 RE: zsh-3.1.5-pws-9: _path_files and symbolic links


Peter Stephenson wrote:

> (Phew, I hope I don't have to rewrite all my completions again...
> Just have to wait and see if Bart excoriates `compgen'.)

(So you have some as yet unrevealed completion functions?)

Phew, I hope I don't have to change all the completion functions again ;-)

> > Ah, tricky. The patch below makes path components be left unchanged
> > only if the rest of the string would produce a match below that
> > directory.
> 
> Was that all that needed doing?  I knew about this, but didn't complain
> about this because I thought it was a feature which would need a lot of
> work to alter.

My big patch also contained some other fixes in _path_files. Without
them it would indeed be more complicated.

Bye
 Sven

diff -u oc/Commands/_most_recent_file Completion/Commands/_most_recent_file
--- oc/Commands/_most_recent_file	Mon Mar  1 16:42:45 1999
+++ Completion/Commands/_most_recent_file	Mon Mar  1 16:44:50 1999
@@ -1,5 +1,5 @@
 #defkeycomp complete-word \C-xm
-local file tilde exptilde
+local file tilde etilde
 if [[ $PREFIX = \~*/ ]]; then
   tilde=${PREFIX%%/*}
   etilde=${~tilde}

--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

