From zsh-users-return-2325-mason-zsh=primenet.com.au@sunsite.auc.dk Fri May 07 18:03:09 1999
Return-Path: <zsh-users-return-2325-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5894 invoked from network); 7 May 1999 18:03:08 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 7 May 1999 18:03:08 -0000
Received: (qmail 17469 invoked by alias); 7 May 1999 18:02:46 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 2325
Received: (qmail 17449 invoked from network); 7 May 1999 18:02:40 -0000
Date: Fri, 7 May 1999 14:02:48 -0400
From: Sweth Chandramouli <sweth@astaroth.nit.gwu.edu>
To: zsh-users@sunsite.auc.dk
Subject: Re: compctl question
Message-ID: <19990507140248.A5120@astaroth.nit.gwu.edu>
Mail-Followup-To: zsh-users@sunsite.auc.dk
References: <19990507104446.A13127@sco.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 0.95i
In-Reply-To: <19990507104446.A13127@sco.com>

On Fri, May 07, 1999 at 10:44:46AM -0700, Philip J. Hollenback wrote:
> I'm using zsh 3.1.5, and I'm trying to develop a completion for mutt.
> Here's what I currently have:
> 
> 
> mutt: if -f, -i, -a, or -H is given, complete files,
> # and if -f+ (or -f=, or -f +) is given, complete folders in
> # ~/mail.  Also complete options after -. 
> # Note that '-f =' can't be completed because '=' is grabbed by the
> # shell.  It needs to be protected with a '\', but I don't know how to
> # make the completion do that.
> # Don't complete users because I never mail anyone on my own system.
> compctl -x 's[+] c[-1,-f],s[-f+],s[-f=]' -W ~/mail -f \
>   - 's[-[fiaH]],C[-1,-[fiaH]]' -f \
>   - 's[-]' -k '(a b c e f F H i m n p R s v x y z Z h)' \
>   -- mutt
> 
> 
> I like to open mailboxes in my mail directory thusly:
> 
> # mutt -f =mailbox
> 
> That doesn't work, Apparently because the shell does something with
> words that start with '='.  I can't complete on =mailbox either,
> for the same reason.
	the EQUALS option, when set, tells the shell to interpret
# =foo
	as
# $(which foo)
	which is probably what is causing your problems.  if you don't
make use of that functionality, you can just unsetopt EQUALS and it
should work the way you would expect.

	-- sweth.

-- 
Sweth Chandramouli
IS Coordinator, The George Washington University
<sweth@gwu.edu> / (202) 994 - 8521 (V) / (202) 994 - 0458 (F)
<a href="http://astaroth.nit.gwu.edu/~sweth/disc.html">*</a>

