From zsh-workers-request@math.gatech.edu Fri Nov 28 09:14:20 1997
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 27067 invoked from network); 28 Nov 1997 09:14:18 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 28 Nov 1997 09:14:18 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id DAA12649;
	Fri, 28 Nov 1997 03:58:30 -0500 (EST)
Resent-Date: Fri, 28 Nov 1997 03:58:03 -0500 (EST)
From: Christopher Croughton <crough45@amc.de>
Message-Id: <97Nov28.105909gmt+0100.17030@internet01.amc.de>
Subject: Re: History key bindings
To: schaefer@brasslantern.com (Bart Schaefer)
Date: Fri, 28 Nov 1997 09:57:50 +0100
Cc: crough45@amc.de, zsh-users@math.gatech.edu
In-Reply-To: <971127104306.ZM3164@candle.brasslantern.com> from "Bart Schaefer" at Nov 27, 97 07:43:06 pm
X-Mailer: ELM [version 2.4 PL24 PGP3 *ALPHA*]
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"p9RYb2.0.353.QUeVq"@math>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/1156
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Bart Schaefer wrote:
> 
> On Nov 27,  7:21pm, Christopher Croughton wrote:
> } Subject: Re: History key bindings
> }
> } Bart Schaefer wrote:
> } > When you first press up-arrow, there (normally) won't be any mark on
> } > the line, so ^X^X does nothing.  
> } 
> } Er, on 3.0 it seems that the mark is initially set to the start of the line,
> 
> I thought I was seeing that behavior at one point, but now I can't get it
> to happen again (... some fooling about occurs ...)
> 
> Aha!  Whenever you use a history operation like ^P, the mark gets set at
> the beginning of the line before the new history line is inserted.  So
> you can't mix that bindkey -s with other history motions unless you set
> the mark yourself in between.  If all you do is type the prefix and then
> press up-arrow, it works fine.

The only way I can get it to work is if I do an initial ^X^X after typing 
the prefix.  If I do <CR>fred<UP> then it just scans through the history 
matching on nothing at all.  If I do <CR>fred^X^X<UP> then it works fine, 
and I can even delete everything on the line or modify it in any other way
and it will search for the new string.  I'm not doing any other history
motions on the line, just the bound up-arrow key.

Strange, ne?  Perhaps a different version of zsh will help?

Chris C

