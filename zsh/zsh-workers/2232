From zsh-workers-request@euclid.skiles.gatech.edu  Wed Oct 16 03:15:44 1996
Return-Path: zsh-workers-request@euclid.skiles.gatech.edu
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by coral.primenet.com.au (8.7.5/8.7.3) with ESMTP id DAA24412 for <mason@primenet.com.au>; Wed, 16 Oct 1996 03:15:42 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id NAA23970; Tue, 15 Oct 1996 13:06:13 -0400 (EDT)
Resent-Date: Tue, 15 Oct 1996 13:06:13 -0400 (EDT)
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <961015100834.ZM25349@candle.brasslantern.com>
Date: Tue, 15 Oct 1996 10:08:34 -0700
In-Reply-To: Peter Stephenson <pws@ifh.de>
        "Re: pushd" (Oct 15,  2:45pm)
References: <199610151245.OAA20575@hydra.ifh.de>
Reply-To: schaefer@nbn.com
X-Mailer: Z-Mail (4.0b.820 20aug96)
To: Peter Stephenson <pws@ifh.de>,
        zsh-workers@math.gatech.edu (Zsh hackers list)
Subject: Re: pushd
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Resent-Message-ID: <"PLKfr2.0.Os5.4IyOo"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/2232
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

On Oct 15,  2:45pm, Peter Stephenson wrote:
} Subject: Re: pushd
}
} "Bart Schaefer" wrote:
} > Is the following more like the behavior you want?
} 
} Well, if I adapt your suggestion to:
} 
} pushd () {
}         setopt localoptions globsubst
}         unsetopt ksharrays
[...]
} }
} 
} (since I need ~ expansion and I don't want to count entry 0 from dirs
} in the array indexing)

Tilde expansion?  Oh, yeah, I forgot that dirstack entries (or rather,
"dirs" output) are tilde-abbreviated.  I wasn't anywhere near my home
directory when I was playing with this.

} I seem to get basically what I want.  It's yet
} another case of running very hard to stay in the same place.

Yes, I certainly know how you feel.  Most of the contents of my .z*
files are there just to help me lean into the hurricane.

I'd never noticed the (previous) discrepancy between zsh and csh/bash
directory stack behavior, and I'd similarly not yet noticed the change,
because I long ago took to opening a new xterm anytime I'll be spending
more than a few seconds in another directory.  So my stack never gets
more than about 3 entries deep.  But I've done plenty of my own griping
about changes made to features that other people didn't use/notice.

I'm with you for a PUSHD_CYCLE option, set by default, which when not
set would give the old zsh behavior.

Is the following the ChangeLog entry for pushd becoming cyclic?  Has it
really been that long ago?

        March/April 1995

        * pushd/popd changes from Anthony Heading <aheading@jpmorgan.com>



-- 
Bart Schaefer                             Brass Lantern Enterprises
http://www.well.com/user/barts            http://www.nbn.com/people/lantern

New male in /home/schaefer:
>N  2 Justin William Schaefer  Sat May 11 03:43  53/4040  "Happy Birthday"

