From zsh-users-return-5625-mason-zsh=primenet.com.au@sunsite.dk Thu Jan 02 14:40:05 2003
Return-Path: <zsh-users-return-5625-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5731 invoked from network); 2 Jan 2003 14:40:04 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 2 Jan 2003 14:40:04 -0000
Received: (qmail 6665 invoked by alias); 2 Jan 2003 14:39:53 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 5625
Received: (qmail 6656 invoked from network); 2 Jan 2003 14:39:52 -0000
X-VirusChecked: Checked
X-Env-Sender: kiddleo@logica.com
X-Msg-Ref: server-21.tower-4.messagelabs.com!1041518363!21248
X-Authentication-Warning: iris.logica.co.uk: Host [158.234.142.11] claimed to be finches.logica.co.uk
In-reply-to: <20030102140412.GG2863@gulag.guild.uwa.edu.au>
From: Oliver Kiddle <okiddle@yahoo.co.uk>
References: <20030102140412.GG2863@gulag.guild.uwa.edu.au>
To: James Devenish <j-devenish@users.sourceforge.net>
cc: zsh-users@sunsite.dk, David Lebel <lebel@openbsd.org>
Subject: Re: Refactoring _bsd_pkg
Date: Thu, 02 Jan 2003 15:41:52 +0100
Message-ID: <2419.1041518512@finches.logica.co.uk>
Sender: kiddleo@logica.com

On 2 Jan, you wrote:
> 
> The platform for which _bsd_pkg is relevant to me is OpenBSD.  Until
> today, I hadn't realised that _bsd_pkg even existed.  Having just tried
> it, I think the reason I didn't notice is that it behave{s,d} incorrectly
> and therefore I didn't realised that something intelligent was at work.

It was written originally for FreeBSD with some NetBSD options being added
later. You're the first person I remember mentioning its use with OpenBSD.
Though doubtless there are people who have tried it and just ignored the
incorrect behaviour.

> Also, I notice that the OpenBSD ports tree contains a patch that I can't
> see in zsh CVS HEAD. I have attached the completion function that I have
> been using for pkg_delete and pkg_info. Mine is concise, partly because
> it does not support pkg_add, pkg_create, or other BSDs. However, there
> are some salient differences. Having downloaded the _bsd_pkg HEAD, it
> appears that there are some errors in it from the OpenBSD perspective
> (as in previous versions). I don't know whether this is because other
> BSDs are different or because no one has noticed.

Is there any chance that you could merge your OpenBSD functions into
the _bsd_pkg HEAD and then submit a patch to the zsh-workers list. They
can then be committed to cvs without upsetting FreeBSD users. It should
just be a matter of sticking an `openbsd*)' section in the various `case
"$OSTYPE" in' parts of the function. If not, I can attempt to do it
but I'll probably make a mess of it as I don't have access to any BSD
systems to check it against.

Cheers

Oliver

This e-mail and any attachment is for authorised use by the intended recipient(s) only.  It may contain proprietary material, confidential information and/or be subject to legal privilege.  It should not be copied, disclosed to, retained or used by, any other party.  If you are not an intended recipient then please promptly delete this e-mail and any attachment and all copies and inform the sender.  Thank you.

