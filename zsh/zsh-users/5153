From zsh-users-return-5153-mason-zsh=primenet.com.au@sunsite.dk Thu Jul 11 13:33:43 2002
Return-Path: <zsh-users-return-5153-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 12048 invoked from network); 11 Jul 2002 13:33:42 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 11 Jul 2002 13:33:42 -0000
Received: (qmail 14181 invoked by alias); 11 Jul 2002 13:33:26 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 5153
Received: (qmail 14167 invoked from network); 11 Jul 2002 13:33:25 -0000
Date:	Wed, 10 Jul 2002 22:47:01 +0200
From:	GoTaR <gotar@poczta.onet.pl>
To:	zsh-users@sunsite.dk
Subject: completions issues
Message-ID: <20020710204701.GA3362@os>
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-2
Content-Disposition: inline
User-Agent: Mutt/1.4i

Hi!

I've got some problems with creating my own rule for sms sending
program. Here comes the significant part:

_sms_aliases () {
	compadd "$@" $(print ${(f)"$(smsaddr -l | cut -f1)"})
}
[...]
		_arguments -C \
                        '-r[remove existing entry]:SMS alias:_sms_aliases'

smsaddr returns two columns, completion should be done from both, but
treated as one entry, e. g.:

$ smsaddr -l
alias1		608612341
alias2		504147432
blias3		603648734

$ smsaddr -r a[tab]... lias2
alias1          608612341
alias2          504147432

$ smsaddr -r 6[tab]... 08612341
alias1          608612341
blias3          603648734

so one column will be used as comment.

I will be very grateful for help.

-- 
GoTaR <gotar@priv0.onet.pl>
PLD stuff at http://mops.uci.agh.edu.pl/~gotar/

