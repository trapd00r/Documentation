From zsh-workers-return-21408-mason-zsh=primenet.com.au@sunsite.dk Sat Jul 09 16:09:26 2005
Return-Path: <zsh-workers-return-21408-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 11880 invoked from network); 9 Jul 2005 16:09:25 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 9 Jul 2005 16:09:25 -0000
Received: (qmail 45211 invoked from network); 9 Jul 2005 16:09:19 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 9 Jul 2005 16:09:18 -0000
Received: (qmail 1122 invoked by alias); 9 Jul 2005 16:09:16 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 21408
Received: (qmail 6988 invoked from network); 9 Jul 2005 06:07:35 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 9 Jul 2005 06:07:35 -0000
Received: (qmail 15722 invoked from network); 9 Jul 2005 06:07:35 -0000
Received: from turing.cs.hmc.edu (134.173.42.99)
  by a.mx.sunsite.dk with SMTP; 9 Jul 2005 06:07:30 -0000
Received: by turing.cs.hmc.edu (Postfix, from userid 13452)
	id 36AE253255; Fri,  8 Jul 2005 23:07:27 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by turing.cs.hmc.edu (Postfix) with ESMTP id 2112A5A92B
	for <zsh-workers@sunsite.dk>; Fri,  8 Jul 2005 23:07:27 -0700 (PDT)
Date: Fri, 8 Jul 2005 23:07:26 -0700 (PDT)
From: Itai Seggev <is@cs.hmc.edu>
X-X-Sender: is@turing
To: zsh-workers@sunsite.dk
Subject: get _files to work/bug in subversion in completion
Message-ID: <Pine.GSO.4.58.0507082254030.13687@turing>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=6.0 tests=BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.6


I would like to get zsh to provide me with file completion if the
_complete fails to find anything. According to

http://zsh.sourceforge.net/FAQ/zshfaq04.html#l50

all I need to do is add _files to the end of my completion list.
Thus, I use

zstyle ':completion:*::::' completer _complete _ignored _files

but this doesn't seem to change anything. By analogy with the suggestion in

http://www.zsh.org/mla/users//2004/msg01039.html

I try to define a _complete_first command

_complete_first() {
  _complete "$@"
  return 1
}
zstyle ':completion:*::::' completer _complete_first _files _ignored

to force _files to always run. This makes files appear alongside
arguments, but there no files appear in the situations where
completion fails.

In particular, if I do a

svn ci -F [tab]

to try to get a list of of possible files to use as my changelog, zsh
never completes anything. I think this is a bug...
--
Itai

Itai Seggev, University of Chicago, Department of Physics

In 1997 a group of programmers started writing a desktop environment
to fix a travesty they didn't create.  Their program promptly found
its way onto un*x systems everywhere. Today, still opposed by a
software monopolist, they survive as soldiers of fortune.  If you share
their vision, if you know you can help, and if you can connect to
internet, maybe you can join... the K-Team.

