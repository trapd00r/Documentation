From zsh-workers-return-14771-mason-zsh=primenet.com.au@sunsite.dk Wed Jun 06 16:28:21 2001
Return-Path: <zsh-workers-return-14771-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9075 invoked from network); 6 Jun 2001 16:28:20 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 6 Jun 2001 16:28:20 -0000
Received: (qmail 671 invoked by alias); 6 Jun 2001 16:28:04 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 14771
Received: (qmail 659 invoked from network); 6 Jun 2001 16:28:03 -0000
X-Envelope-Sender-Is: Andrej.Borsenkow@mow.siemens.ru (at relayer david.siemens.de)
From: "Andrej Borsenkow" <Andrej.Borsenkow@mow.siemens.ru>
To: "David Lebel" <lebel@lebel.org>, <zsh-workers@sunsite.dk>
Subject: RE: dynamic linking on OpenBSD
Date: Wed, 6 Jun 2001 20:28:10 +0400
Message-ID: <003501c0eea5$ad2a02c0$21c9ca95@mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
In-Reply-To: <20010606121142.A29541@lebel.org>
Importance: Normal


>
> I'm the maintainer of the zsh port for OpenBSD in its ports tree, and
> the way configure setup dynamic linking for OpenBSD is wrong.  Well, it
> does work for most of the OpenBSD platform, but its not correct.
> DLLDFLAGS should be "-shared -fPIC" and the linker should be ${CC} not
> ld.
>
> Here is a trivial diff to the configure script so it works correctly.
> Adapt to your liking.
>

1. Could you please send diff against configure.in not configure? We do not
keep configure in CVS and it is hard to backport it. Even better, update to
current CVS and diff against zshconfig.ac.

2. Your patch looks like OpenBSD does not use ELF. Is it really the case?

-andrej

