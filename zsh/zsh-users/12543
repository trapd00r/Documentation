From zsh-users-return-12543-mason-zsh=primenet.com.au@sunsite.dk Mon Feb 11 14:07:53 2008
Return-Path: <zsh-users-return-12543-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 260 invoked from network); 11 Feb 2008 14:07:51 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.4 (2008-01-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.4 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.4
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 11 Feb 2008 14:07:51 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 85789 invoked from network); 11 Feb 2008 14:07:29 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 11 Feb 2008 14:07:29 -0000
Received: (qmail 11544 invoked by alias); 11 Feb 2008 14:07:20 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 12543
Received: (qmail 11530 invoked from network); 11 Feb 2008 14:07:20 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 11 Feb 2008 14:07:20 -0000
Received: from cluster-d.mailcontrol.com (cluster-d.mailcontrol.com [217.69.20.190])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 7463A80482A1
	for <zsh-users@sunsite.dk>; Mon, 11 Feb 2008 15:07:17 +0100 (CET)
Received: from cameurexb01.EUROPE.ROOT.PRI ([62.189.241.200])
	by rly15d.srv.mailcontrol.com (MailControl) with ESMTP id m1BE79De023959
	for <zsh-users@sunsite.dk>; Mon, 11 Feb 2008 14:07:09 GMT
Received: from news01.csr.com ([10.103.143.38]) by cameurexb01.EUROPE.ROOT.PRI with Microsoft SMTPSVC(6.0.3790.3959);
	 Mon, 11 Feb 2008 14:07:08 +0000
Received: from news01.csr.com (localhost.localdomain [127.0.0.1])
	by news01.csr.com (8.14.2/8.13.4) with ESMTP id m1BE78Yd004333
	for <zsh-users@sunsite.dk>; Mon, 11 Feb 2008 14:07:08 GMT
Received: from csr.com (pws@localhost)
	by news01.csr.com (8.14.2/8.14.2/Submit) with ESMTP id m1BE77Lh004330
	for <zsh-users@sunsite.dk>; Mon, 11 Feb 2008 14:07:08 GMT
Message-Id: <200802111407.m1BE77Lh004330@news01.csr.com>
X-Authentication-Warning: news01.csr.com: pws owned process doing -bs
To: zsh-users@sunsite.dk
Subject: Re: Phil's prompt is not working when LANG is set to UTF-8
In-reply-to: <20080211133743.GA28384@phoenix.nasreddine.info>
References: <20080211033116.GD19613@phoenix.nasreddine.info> <237967ef0802102301i71dcd71erb1a2993a7f0bd643@mail.gmail.com> <20080211092021.GC6965@phoenix.nasreddine.info> <20080211130707.7d45f6af@news01> <20080211133743.GA28384@phoenix.nasreddine.info>
Comments: In-reply-to Wael Nasreddine <mla@nasreddine.com>
   message dated "Mon, 11 Feb 2008 14:37:43 +0100."
Date: Mon, 11 Feb 2008 14:07:07 +0000
From: Peter Stephenson <pws@csr.com>
X-OriginalArrivalTime: 11 Feb 2008 14:07:08.0915 (UTC) FILETIME=[63CB6C30:01C86CB7]
X-Scanned-By: MailControl A-08-00-01 (www.mailcontrol.com) on 10.68.0.125
X-Virus-Scanned: ClamAV 0.91.2/5771/Mon Feb 11 13:29:55 2008 on bifrost
X-Virus-Status: Clean

Wael Nasreddine wrote:
> Thank you for your reply, but, set/unsetting multibyte opt has no
> effect but as said before when LANG is set to utf8 it doesn't work,
> for now I use LANG=en_US (iso-8859-1) it does work this way though I
> don't want to stick with this encoding, anyway here's some more
> info for you.

This is probably the key information: it suggests, unless you happen to
know otherwise, that the console simply doesn't support UTF-8 in its
current configuration.

There are two ingredients to being able to use an encoding:  the
hardware is set up to display characters using it, and the software has
been told about it.  LANG etc. deal with the latter, but have no effect
on the former.  Smart terminal emulators will try to find the encoding
when they start up.  You don't really have this option with a console.
My system (Fedora 8) has a unicode_start command; have you tried that?

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR PLC, Churchill House, Cambridge Business Park, Cowley Road
Cambridge, CB4 0WZ, UK                          Tel: +44 (0)1223 692070

