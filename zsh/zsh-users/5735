From zsh-users-return-5735-mason-zsh=primenet.com.au@sunsite.dk Thu Jan 16 16:49:24 2003
Return-Path: <zsh-users-return-5735-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17949 invoked from network); 16 Jan 2003 16:49:23 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 16 Jan 2003 16:49:23 -0000
Received: (qmail 18259 invoked by alias); 16 Jan 2003 16:48:54 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 5735
Received: (qmail 18247 invoked from network); 16 Jan 2003 16:48:53 -0000
Message-ID: <20030116164853.10900.qmail@web12305.mail.yahoo.com>
Date: Thu, 16 Jan 2003 11:48:53 -0500 (EST)
From: Le Wang <lewang@yahoo.com>
Subject: Re: terminfo, cygwin troubles 
To: Zsh users list <zsh-users@sunsite.dk>
In-Reply-To: <20030116162212.4935.qmail@web12301.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

--- Le Wang <lewang@yahoo.com> wrote:
> 
> --- Peter Stephenson <pws@csr.com> wrote:
> > Le Wang wrote:
> 
> > You will need to restart the shell after setting
> > TERMINFO, since the
> > shell only examines it when starting up ---
> > thereafter, it recognises
> > changes to the terminal type, but not to the
> > location of the terminal
> > database.  Test that this works by starting a
> > subshell after setting the
> > variable.  If it does work, you could set it in
> the
> > Windows `environment
> > variables' dialogue which on XP at least is in the
> > `Advanced' tab of the
> > system properties.  (I haven't actually tried
> this.)
> 
> I should clarify my problem.  It works fine in
> windows, and I run rxvt like so:
> "C:\cygwin\bin\rxvt.exe -tn rxvt-cygwin-native -e
> zsh
> --login -i".
> 
> However when I ssh into a Linux box, the
> 'rxvt-cygwin-native' descriptor is only in
> $TERMINFO,
> and I can't get ZSH to look in there to get it.  I
> set
> $TERMINFO in ~/.zshenv, so it might be too late.  I
> don't know how I can tell ssh to set it before
> loading
> Zsh...

Okay, I've unset the TERMINFO variable and symlinked
my terminfo directory to ~/.terminfo.  But Zsh still
won't look in there...

Here is another thought: maybe Zsh can be changed to
delay loading the terminfo descriptor until it has to
display something?  This way TERMINFO can be set as
the first thing in ~/.zshenv.  Regardless, ~/.terminfo
should be searched, no?

--
Le

______________________________________________________________________ 
Post your free ad now! http://personals.yahoo.ca

