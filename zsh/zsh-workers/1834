From zsh-workers-request@euclid.skiles.gatech.edu  Tue Jul 30 15:03:26 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by coral.primenet.com.au (8.7.5/8.7.3) with ESMTP id PAA02353 for <mason@primenet.com.au>; Tue, 30 Jul 1996 15:03:23 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id AAA06243; Tue, 30 Jul 1996 00:57:54 -0400 (EDT)
Resent-Date: Tue, 30 Jul 1996 00:57:54 -0400 (EDT)
From: Geoff Wing <mason@primenet.com.au>
Message-Id: <199607300452.OAA02241@coral.primenet.com.au>
Subject: Re: New zed and refresh bug
To: zsh-workers@math.gatech.edu
Date: Tue, 30 Jul 1996 14:52:11 +1000 (EST)
Cc: hzoli@cs.elte.hu (Zoltan Hidvegi)
In-Reply-To: <199607291721.TAA04932@bolyai.cs.elte.hu> from "Zoltan Hidvegi" at Jul 29, 96 07:21:17 pm
X-Mailer: ELM [version 2.4 PL25]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"4GDc43.0.QX1.HPP_n"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/1834
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Zoltan Hidvegi wrote:
:> Zoltan wrote:
:> :It demonstrates a zle bug.  Just load this zed function, unset the BAUD
:> :parameter (to get half-screen scrolls in zed), invoke zed -f zed, and use
:> :the up-arrow to move to the top of the function.  On a 80x25 Linux console
:> :with ncurses a bogous `if [[ -f $dir/$1 ]' appears on the 5th screen line
:> :after the second half-screen scroll.
:I can reproduce it in an xterm on Solaris 2.4, IBM AIX 3.2 and DEC OFS/1
:V2.0, SunOS 4.1.2 and Ultrix 4.2.

OK. I can repro it now - doesn't look good.  Yep, looks like an insert problem.
Will send a fix in soon (Should be today or tomorrow (Wednesday)).  Also will
change 9600 to 19200 as the minimum speed for single line scroll (unless anyone
thinks it should be 38400?)

:I can not reproduce it on Linux with termcap (although I use a quite old
:/etc/termcap) but with ncurses it is reproducible either in an xterm or on
:the console.
:
:The new contents of the line gets inserted before the bogous line so the
:correct if ... which was on the screen before the scroll is shifted right
:as the new contents of the line is printed.  Perhaps it happens only if the
:terminal has some insert capability (I'm just guessing).
-- 
Geoff Wing [mason@primenet.com.au] PrimeNet - Internet Consultancy

