From zsh-workers-return-7634-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Sep 02 21:15:15 1999
Return-Path: <zsh-workers-return-7634-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2967 invoked from network); 2 Sep 1999 21:15:12 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 2 Sep 1999 21:15:12 -0000
Received: (qmail 15175 invoked by alias); 2 Sep 1999 21:14:57 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7634
Received: (qmail 15168 invoked from network); 2 Sep 1999 21:14:56 -0000
To: zsh-workers@sunsite.auc.dk
Subject: PATCH: _apt-get and _deb_packages
MIME-Version: 1.0 (generated by AKEMI 1.13.2 - =?ISO-2022-JP?B?Ig==?=
 =?ISO-2022-JP?B?GyRCQTA0Y0s8GyhCIg==?=)
Content-Type: text/plain; charset=US-ASCII
From: Tanaka Akira <akr@jaist.ac.jp>
Date: 03 Sep 1999 06:14:53 +0900
Message-ID: <rsq3dwxuib6.fsf@crane.jaist.ac.jp>
Lines: 40
User-Agent: Chao-gnus/6.12.5 AKEMI/1.13.2 (=?ISO-2022-JP?B?GyRCQTAbKEI=?=
 =?ISO-2022-JP?B?GyRCNGNLPBsoQg==?=) FLAM-DOODLE/1.12.6
 (=?ISO-2022-JP?B?GyRCM3cbKEI=?= 10R4.0/5.0) Emacs/20.4
 (sparc-sun-solaris2.6) MULE/4.0 (HANANOEN)

This is completion functions for apt-get of Debian.

--- /dev/null	Fri Sep  3 02:54:25 1999
+++ Completion/Debian/_apt-get	Fri Sep  3 05:47:52 1999
@@ -0,0 +1,23 @@
+#compdef apt-get
+
+_arguments -s \
+  -{,-no-}d --{,no-}download-only \
+  -{,-no-}f --{,no-}fix-broken \
+  -{,-no-}h --{,no-}help \
+  -{,-no-}v --{,no-}version \
+  -{,-no-}m --{,no-}ignore-missing \
+  --{,no-}fix-missing \
+  --{,no-}no-download \
+  \*-{,-no-}q \*--{,no-}{quiet,silent} \
+  -{,-no-}s --{,no-}{simulate,just-print,dry-run,recon,no-act} \
+  -{,-no-}y --{,no-}{yes,assume-yes} \
+  -{,-no-}u --{,no-}show-upgraded \
+  -{,-no-}b --{,no-}{compile,build} \
+  --{,no-}ignore-hold \
+  --{,no-}no-upgrade \
+  --{,no-}force-yes \
+  --{,no-}print-uris \
+  {-{,-no-}c,--{,no-}config-file}':Configuration File:_files' \
+  {-o,--option}':Foo\:\:Bar=bar:' \
+  ':command:(update upgrade dselect-upgrade dist-upgrade install remove source check clean autoclean help)' \
+  '*:package:_deb_packages'
--- /dev/null	Fri Sep  3 02:54:25 1999
+++ Completion/Debian/_deb_packages	Fri Sep  3 06:11:01 1999
@@ -0,0 +1,7 @@
+#autoload
+
+if (( ! $+_deb_packages )); then
+  _deb_packages=( $(awk '/^Package:/ { print $2 }' /var/lib/dpkg/status) )
+fi
+
+compadd "$@" - $_deb_packages
-- 
Tanaka Akira

