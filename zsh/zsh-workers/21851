From zsh-workers-return-21851-mason-zsh=primenet.com.au@sunsite.dk Fri Oct 07 04:21:40 2005
Return-Path: <zsh-workers-return-21851-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 21372 invoked from network); 7 Oct 2005 04:21:38 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 7 Oct 2005 04:21:38 -0000
Received: (qmail 26824 invoked from network); 7 Oct 2005 04:21:31 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 7 Oct 2005 04:21:31 -0000
Received: (qmail 26897 invoked by alias); 7 Oct 2005 04:21:28 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 21851
Received: (qmail 26881 invoked from network); 7 Oct 2005 04:21:28 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 7 Oct 2005 04:21:28 -0000
Received: (qmail 26531 invoked from network); 7 Oct 2005 04:21:28 -0000
Received: from vms048pub.verizon.net (206.46.252.48)
  by a.mx.sunsite.dk with SMTP; 7 Oct 2005 04:21:27 -0000
Received: from candle.brasslantern.com ([71.116.81.225])
 by vms048.mailsrvcs.net
 (Sun Java System Messaging Server 6.2 HotFix 0.04 (built Dec 24 2004))
 with ESMTPA id <0INZ004KX2RPFYO0@vms048.mailsrvcs.net> for
 zsh-workers@sunsite.dk; Thu, 06 Oct 2005 23:21:26 -0500 (CDT)
Received: from candle.brasslantern.com (IDENT:schaefer@localhost [127.0.0.1])
	by candle.brasslantern.com (8.12.11/8.12.11) with ESMTP id j974LOvM003746;
 Thu, 06 Oct 2005 21:21:24 -0700
Received: (from schaefer@localhost)	by candle.brasslantern.com
 (8.12.11/8.12.11/Submit) id j974LNAR003745; Thu, 06 Oct 2005 21:21:23 -0700
Date: Fri, 07 Oct 2005 04:21:23 +0000
From: Bart Schaefer <schaefer@brasslantern.com>
Subject: Re: segfault with certain filenames
In-reply-to: <20051007031207.GA8402@scowler.net>
To: Clint Adams <clint@zsh.org>
Cc: zsh-workers@sunsite.dk
Message-id: <1051007042123.ZM3744@candle.brasslantern.com>
MIME-version: 1.0
X-Mailer: Z-Mail (5.0.0 30July97)
Content-type: text/plain; charset=us-ascii
References: <20051006232712.GA1886@scowler.net>
	<20051007003546.GA4637@scowler.net>
	<1051007023529.ZM3416@candle.brasslantern.com>
	<20051007031207.GA8402@scowler.net>
Comments: In reply to Clint Adams <clint@zsh.org>
 "Re: segfault with certain filenames" (Oct  6, 11:12pm)
X-Spam-Checker-Version: SpamAssassin 3.0.4 (2005-06-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00 
	autolearn=unavailable version=3.0.4

On Oct 6, 11:12pm, Clint Adams wrote:
} Subject: Re: segfault with certain filenames
}
} > That's OK; it's useful to know that the bug happens not just with
} > filenames exactly the width of the screen, but with sets of narrower
} > filenames
} 
} I was suspecting spaces as part of the problem.

Ah, I missed that the spaces were all quoted.

So it's still filenames exactly the width of the screen, but on top of
the other problems the display code apparently isn't counting the
backslashes as part of the string length?

Your backtrace is demonstrating the "garbage struct from mtab[]" effect
that I described earlier.

