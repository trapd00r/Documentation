From zsh-workers-return-26694-mason-zsh=primenet.com.au@sunsite.dk Fri Mar 06 20:06:15 2009
Return-Path: <zsh-workers-return-26694-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24590 invoked from network); 6 Mar 2009 20:06:10 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.3 required=5.0 tests=AWL,BAYES_00,
	DATE_IN_PAST_06_12 autolearn=no version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 6 Mar 2009 20:06:10 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 22910 invoked from network); 6 Mar 2009 20:06:05 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 6 Mar 2009 20:06:05 -0000
Received: (qmail 15286 invoked by alias); 6 Mar 2009 20:05:59 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 26694
Received: (qmail 15269 invoked from network); 6 Mar 2009 20:05:58 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 6 Mar 2009 20:05:58 -0000
Received: from uucp.gnuu.de (uucp.gnuu.de [83.246.114.63])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 7BF4D80307F8
	for <zsh-workers@sunsite.dk>; Fri,  6 Mar 2009 21:05:54 +0100 (CET)
Received: by uucp.gnuu.de (Postfix, from userid 10)
	id 269E4488037; Fri,  6 Mar 2009 21:05:53 +0100 (CET)
X-DKIM: Sendmail DKIM Filter v2.5.2 uucp.gnuu.de 269E4488037
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=gnuu.de; s=banki;
	t=1236369953; i=@alea.gnuu.de; bh=6qyOCFRrHffXs/OEvJpf3y/0mTN+SX665
	e5+s/GBCVM=; h=From:To:Cc:Subject:Date:Message-Id; b=dwJUscRjk4Xr+s
	rWkFgPg4VwdqJIn8Km0XSzuWy8dsSvXAhcKJ2S/WfCNwOi9koFq2avBGpFIZYNZ/KKN
	mGQn3Z8a4cwu2A2YyMmLO0kikXjRbenI6RAqBxhto8qQ4lyisVordf7xsgwuBZRvvmH
	X9x2sstjVZ2Ii1w21iGn4kE=
Received: from ibook.localnet ([192.168.0.5] helo=alea.gnuu.de)
	by alea.gnuu.de with esmtp (Exim 4.69)
	(envelope-from <joerg@alea.gnuu.de>)
	id 1Lfg6D-0002Ml-Jr
	for zsh-workers@sunsite.dk; Fri, 06 Mar 2009 20:52:54 +0100
Received: from joerg by alea.gnuu.de with local (Exim 4.69)
	(envelope-from <joerg@alea.gnuu.de>)
	id 1LfZ2a-0001ej-4J; Fri, 06 Mar 2009 13:20:36 +0100
From: =?utf-8?q?J=C3=B6rg=20Sommer?= <joerg@alea.gnuu.de>
To: zsh-workers@sunsite.dk
Cc: =?utf-8?q?J=C3=B6rg=20Sommer?= <joerg@alea.gnuu.de>
Subject: [PATCH] Remove git svnimport completion
Date: Fri,  6 Mar 2009 13:20:36 +0100
Message-Id: <1236342036-6337-1-git-send-email-joerg@alea.gnuu.de>
X-Mailer: git-send-email 1.6.2.rc0
X-Virus-Scanned: ClamAV 0.92.1/9080/Fri Mar  6 20:13:38 2009 on bifrost
X-Virus-Status: Clean

git svnimport was removed in git version 1.5.4 (2007-10-30)
---
 Completion/Unix/Command/_git |   31 +------------------------------
 1 files changed, 1 insertions(+), 30 deletions(-)

diff --git a/Completion/Unix/Command/_git b/Completion/Unix/Command/_git
index 9b6da7b..7db9d8d 100644
--- a/Completion/Unix/Command/_git
+++ b/Completion/Unix/Command/_git
@@ -1,4 +1,4 @@
-#compdef git git-add git-am git-annotate git-apply git-applymbox git-applypatch git-archimport git-archive git-bisect git-blame git-branch git-cat-file git-check-attr git-check-ref-format git-checkout git-checkout-index git-cherry git-cherry-pick git-clean git-clone git-clone-pack git-commit git-commit-tree git-convert-objects git-count-objects git-cvsexportcommit git-cvsimport git-cvsserver git-daemon git-describe git-diff git-diff-files git-diff-index git-diff-stages git-diff-tree git-fast-import git-fetch git-fetch-pack git-fmt-merge-msg git-for-each-ref git-format-patch git-fsck git-gc git-get-tar-commit-id git-grep git-hash-object git-http-fetch git-http-push git-imap-send git-index-pack git-init git-instaweb git-local-fetch git-log git-lost-found git-ls-files git-ls-remote git-ls-tree git-mailinfo git-mailsplit git-merge git-merge-base git-merge-file git-merge-index git-merge-one-file git-merge-tree git-mergetool git-mktag git-mktree git-mv git-name-rev git-pack-object
 s git-pack-redundant git-pack-refs git-patch-id git-peek-remote git-prune git-prune-packed git-pull git-push git-quiltimport git-read-tree git-rebase git-receive-pack git-reflog git-relink git-remote git-repack gut-runstatus git-config git-request-pull git-rerere git-reset git-rev-list git-rev-parse git-revert git-rm git-send-email git-send-pack git-sh-setup git-shell git-shortlog git-show git-show-branch git-show-index git-show-ref git-ssh-fetch git-ssh-upload git-status git-stripspace git-svn git-svnimport git-symbolic-ref git-tag git-tar-tree git-unpack-file git-unpack-objects git-update-index git-update-ref git-update-server-info git-upload-archive git-upload-pack git-var git-verify-pack git-verify-tag git-whatchanged git-write-tree
+#compdef git git-add git-am git-annotate git-apply git-applymbox git-applypatch git-archimport git-archive git-bisect git-blame git-branch git-cat-file git-check-attr git-check-ref-format git-checkout git-checkout-index git-cherry git-cherry-pick git-clean git-clone git-clone-pack git-commit git-commit-tree git-convert-objects git-count-objects git-cvsexportcommit git-cvsimport git-cvsserver git-daemon git-describe git-diff git-diff-files git-diff-index git-diff-stages git-diff-tree git-fast-import git-fetch git-fetch-pack git-fmt-merge-msg git-for-each-ref git-format-patch git-fsck git-gc git-get-tar-commit-id git-grep git-hash-object git-http-fetch git-http-push git-imap-send git-index-pack git-init git-instaweb git-local-fetch git-log git-lost-found git-ls-files git-ls-remote git-ls-tree git-mailinfo git-mailsplit git-merge git-merge-base git-merge-file git-merge-index git-merge-one-file git-merge-tree git-mergetool git-mktag git-mktree git-mv git-name-rev git-pack-object
 s git-pack-redundant git-pack-refs git-patch-id git-peek-remote git-prune git-prune-packed git-pull git-push git-quiltimport git-read-tree git-rebase git-receive-pack git-reflog git-relink git-remote git-repack gut-runstatus git-config git-request-pull git-rerere git-reset git-rev-list git-rev-parse git-revert git-rm git-send-email git-send-pack git-sh-setup git-shell git-shortlog git-show git-show-branch git-show-index git-show-ref git-ssh-fetch git-ssh-upload git-status git-stripspace git-svn git-symbolic-ref git-tag git-tar-tree git-unpack-file git-unpack-objects git-update-index git-update-ref git-update-server-info git-upload-archive git-upload-pack git-var git-verify-pack git-verify-tag git-whatchanged git-write-tree
 
 # TODO: All if (( words[(I)-option] )) should be turned into
 # if (( words[(I)-option] > 0 && words[(I)-option] < CURRENT )), as the user
@@ -265,7 +265,6 @@ _git_commands () {
     'archimport:import an Arch repository into git'
     'cvsexportcommit:export a commit to a CVS checkout'
     'cvsimport:import a CVS "repository" into a git repository'
-    'svnimport:import SVN repository into git'
     'quiltimport:apply a quilt patchset'
     'svn:bidirectional operation between a single Subversion branch and git')
 
@@ -2228,34 +2227,6 @@ _git-relink () {
     '*:directory:_directories' && ret=0
 }
 
-# TODO: import stuff from _svn
-# TODO: Improve completion of -P argument.
-(( $+functions[_git-svnimport] )) ||
-_git-svnimport () {
-  _arguments \
-    $author_conversion_file_arg \
-    '-b[specify the name of the SVN branches directory]:directory:_directories' \
-    '-C[specify the git repository to import into]:directory:_directories' \
-    '-d[use direct HTTP-requests if possible for logs only]:path' \
-    '-D[use direct HTTP-requests if possible]:path' \
-    $help_arg \
-    '-i[do not perform a checkout after importing]' \
-    '-l[limit the number of SVN changesets to pull]: :_guard "[[\:digit\:]]#" number' \
-    '-m[attempt to detect merges based on the commit message]' \
-    '-M[attempt to detect merges based on the commit message with custom pattern]:pattern' \
-    '-o[specify the branch into which you wish to import]:branch' \
-    '-r[prepend "rX: " to commit messages, where X is the subversion revision]' \
-    '-s[specify the change number to start importing from]:start-revision' \
-    '-T[specify the name of the SVN tags directory]:directory:_directories' \
-    '-t[specify the name of the SVN trunk]:trunk:_directories' \
-    '-I[import svn:ignore directory property to files with given name]:ignored file:_files' \
-    '-R[specify how often git repository should be repacked]: :_guard "[[\:digit\:]]#" "number of revisions"' \
-    '-P[import only given path of the SVN tree]::_directory' \
-    $verbose_arg \
-    ':svn-repositry-url:_urls' \
-    '::directory:_directories' && ret=0
-}
-
 # TODO: how do we complete argument 1?
 (( $+functions[_git-symbolic-ref] )) ||
 _git-symbolic-ref () {
-- 
1.6.2.rc0

