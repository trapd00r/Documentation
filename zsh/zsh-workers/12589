From zsh-workers-return-12589-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Aug 11 10:52:27 2000
Return-Path: <zsh-workers-return-12589-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5987 invoked from network); 11 Aug 2000 10:52:22 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 11 Aug 2000 10:52:22 -0000
Received: (qmail 4281 invoked by alias); 11 Aug 2000 10:51:32 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 12589
Received: (qmail 4265 invoked from network); 11 Aug 2000 10:51:29 -0000
Date: Fri, 11 Aug 2000 11:50:50 +0100
From: Peter Stephenson <pws@csr.com>
Subject: 3.1.9-dev-5
To: zsh-workers@sunsite.auc.dk (Zsh hackers list)
Message-id: <0FZ400K10JGR0H@la-la.cambridgesiliconradio.com>
Content-transfer-encoding: 7BIT

I have uploaded 3.1.9-dev-5 as
  ftp://ftp.zsh.org/pub/development/zsh-3.1.9-dev-5.tar.gz
There are some more significant changes this time:
  cygwin now supports dynamic loading --- well, ish: it will probably
    take the next release of cygwin to get this sorted out.  You may
    want to use --disable-dynamic for now.
  the alias modules have gone:  there is no automatic connection between
    the module zle and the module zsh/zle.  This is now completely under
    user control: use
      zmodload -A zle=zsh/zle  ...
    to define aliases, and
      zmodload -R zle  ...
    to remove them.

Other changes include the usual range of completion improvements: caching
is now possible and configurable, $compcontext is more flexible, some
quoting fixes, improvements to completions for parameters, rpm, read
builtin; some fiddling to try and get the right length for path buffers;
fix for dynamically finding out the max number of open file descriptors;
and an option C_BASES which outputs hexadecimal as `0xFF' instead of
`16#FF' (and similarly for octal if you have OCTAL_ZEROES set).


2000-08-11  Peter Stephenson  <pws@csr.com>

	* Config/version.mk: 3.1.9-dev-5.

2000-08-10  Oliver Kiddle  <opk@zsh.org>

	* 12585: Doc/Zsh/compsys.yo, Doc/Zsh/compwid.yo, Doc/Zsh/expn.yo,
	Doc/Zsh/mod_complist.yo, Doc/Zsh/mod_zutil.yo: minor doc fixes

	* 12583: Completion/Base/_math, Completion/Builtins/_arrays,
	Completion/Builtins/_vars, Completion/Builtins/_zpty,
	Completion/Commands/_bash_completions, Completion/Core/_parameters,
	Doc/Zsh/compsys.yo: add -g option to _parameters to restrict the
	type of parameters completed

2000-08-10  Peter Stephenson  <pws@csr.com>

	* 12582: Misc/Functions/is-at-least: make it accept name
	parts in the first argument (though I forgot to handle things
	like 3.1.6.random3 with no separator).

	* 12581: Doc/Zsh/options.yo, Src/options.c, Src/params.c,
	Src/zsh.h: Add C_BASES option to output hexadecimal as 0xFF
	instead of 16#FF, and similarly for octal if OCTAL_ZEROES is set.

2000-08-09  Oliver Kiddle  <opk@zsh.org>

	* 12578: Completion/Builtins/_read, Completion/Builtins/_vars,
	Completion/Builtins/.distfiles: new completion for read builtin

2000-08-08  Clint Adams  <schizo@debian.org>

	* 12568: configure.in, Src/compat.c, Src/exec.c, Src/init.c,
	Src/system.h: check sysconf(_SC_OPEN_MAX) if available instead
	of OPEN_MAX/NOFILES.

2000-08-08  Sven Wischnowsky  <wischnow@zsh.org>

	* 12567: Completion/Linux/_rpm, Src/Zle/computil.c: handle the
 	right option in strings with multiple single-letter options (and
 	correctly handle its argument)
	
	* 12565: Completion/Core/_expand, Completion/Core/_path_files,
 	Doc/Zsh/mod_computil.yo, Src/Zle/computil.c: more fixes for
 	completion of special characters (quoting)
	
2000-08-08  Peter Stephenson  <pws@csr.com>

	* unposted: Src/xmods.conf, Src/Aliases/*: Remove Src/Aliases
	files and delete alias modules from xmods.conf (should now
	use `zmodload -A' to generate module aliases).

	* 12561: Completion/Builtins/_zmodload, Doc/Zsh/builtins.yo,
	Src/builtin.c, Src/module.c, Src/zsh.h: aliases for modules
	done internally via `zmodload -[AR]'.

2000-08-07  Peter Stephenson  <pws@csr.com>

	* 12555: Fix static linking on cygwin.

2000-08-07  Bart Schaefer  <schaefer@zsh.org>

	* users/3358: Zero shout when closing SHTTY in subshells.

2000-08-05  Bart Schaefer  <schaefer@zsh.org>

	* unposted (Wayne, 12549): Src/system.h: Missing paren.

2000-08-04  Bart Schaefer  <schaefer@zsh.org>

	* 12547, 12458: configure.in, Src/compat.c, Src/Modules/files.c:
	Handle ENOENT and ENOTDIR within zpathmax(), and therefore back
	out the changes from 12541 and 12533.

2000-08-04  Clint Adams  <schizo@debian.org>

	* 12541: configure.in, Src/compat.c: zrealpath wrapper around
	realpath().

	* 12533: Src/Modules/files.c: drop the tail of the path
	passed to mkdir in the call to pathconf().

2000-08-04  Sven Wischnowsky  <wischnow@zsh.org>

	* 12525: Src/module.c: remove (wrong) test for linked-in modules
 	in require_module()
	
2000-08-04  Bart Schaefer  <schaefer@zsh.org>

	* 12516: Src/compat.c, Src/system.h, Src/Modules/files.c,
	Src/Modules/parameter.c: Rewrite the pathconf() support using a
	wrapper function in compat.c to isolate the #ifdefs.

2000-08-03  Peter Stephenson  <pws@csr.com>

	* Andrej: 12501: Src/params.c: getenv etc. become zgetenv etc.
	and call getenv where necessary.

2000-08-03  Sven Wischnowsky  <wischnow@zsh.org>

	* 12503: Completion/Commands/_bash_completions,
 	Completion/Commands/_complete_debug,
 	Completion/Commands/_complete_help,
 	Completion/Commands/_correct_word,
 	Completion/Commands/_expand_word,
 	Completion/Commands/_history_complete_word,
 	Completion/Commands/_next_tags, Completion/Core/_expand,
 	Completion/Core/_main_complete, Completion/Core/_path_files,
 	Completion/Core/compdump, Src/glob.c, Src/Modules/parameter.c:
	try to get quoting of special character (`>' and `\') right; fix
 	for pathmax in parameter.c
	
	* 12497: Doc/Zsh/builtins.yo: small fix for `read -r' doc
	
	* 12496: Completion/Core/_path_files: one more problem with
 	quoting of glob characters in filename completion
	
	* 12494: Doc/Zsh/options.yo, Src/Zle/zle_main.c: make binding of
 	^D be used in first column if ignoreeof is set and ^D is bound to
 	a shell function widget
	
2000-08-02  Peter Stephenson  <pws@csr.com>

	* Andrej: 12487: configure.in, Etc/MACHINES, Src/Makefile.in,
	Src/init.c, Src/main.c, Src/makepro.awk, Src/mkmakemod.sh,
	Src/parse.c, Src/zsh.h, Src/Zle/zle_utils.c: Dynamic loading
	on cygwin.

2000-08-02  Clint Adams  <schizo@debian.org>

        * 12489: Src/Modules/files.c, Src/Modules/parameter.c: check
	errno change from pathconf() in case of unlimited path length.

        * 12472: configure.in, Src/Modules/files.c,
	Src/Modules/parameter.c: use pathconf() instead
	of PATH_MAX if possible.

2000-08-02  Adam Spiers  <adam@spiers.net>

	* 12486: Completion/Base/{.distfiles,_cache_invalid,_retrieve_cache,
	_store_cache}, Completion/Builtins/_zstyle, Completion/Linux/_rpm,
	Completion/User/_perl_modules, Doc/Zsh/compsys.yo: new completion
	caching layer

2000-08-02  Sven Wischnowsky  <wischnow@zsh.org>

	* 12483: Completion/Base/_arguments, Completion/Core/_complete,
 	Doc/Zsh/compsys.yo: if compcontext is an assoc, the keys are the
 	completions and the values are their descriptions
	
	* 12475: Completion/Base/_arguments: prefer user-defined specs
 	over ones derived from --help output
	
2000-08-01  Sven Wischnowsky  <wischnow@zsh.org>

	* Jan Fedak: 12463: Completion/User/_slrn: new completion function
	for slrn
	
	* 12462: Completion/Base/_arguments: fix for automatically
 	recognised options, don't expect an argument after each of them
	
	* 12453: Completion/Bsd/_bsd_pkg, Completion/Bsd/_kld,
 	Completion/Commands/_next_tags, Completion/User/_cvs,
 	Completion/User/_mailboxes, Completion/X/_xset,
 	Completion/X/_xwit, Src/exec.c: remove tests for kshautoload (use
 	zcompile -z); fix for setting scriptname for functions that
 	redefine themselves
	
	* 12449: Completion/Base/_arguments, Completion/Base/_values,
 	Completion/Core/_complete, Doc/Zsh/compsys.yo: make $compcontext
 	more powerful and easier to use for simple cases

-- 
Peter Stephenson <pws@csr.com>
Cambridge Silicon Radio, Unit 300, Science Park, Milton Road,
Cambridge, CB4 0XL, UK                          Tel: +44 (0)1223 392070

