From zsh-workers-return-28664-mason-zsh=primenet.com.au@zsh.org Fri Jan 28 03:30:51 2011
Return-Path: <zsh-workers-return-28664-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 11573 invoked by alias); 28 Jan 2011 03:30:51 -0000
Mailing-List: contact zsh-workers-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Workers List <zsh-workers.zsh.org>
List-Post: <mailto:zsh-workers@zsh.org>
List-Help: <mailto:zsh-workers-help@zsh.org>
Delivered-To: mailing list zsh-workers@zsh.org
X-Seq: 28664
Received: (qmail 26730 invoked from network); 28 Jan 2011 03:30:50 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.9 required=5.0 tests=BAYES_00,RCVD_IN_DNSWL_NONE
	autolearn=ham version=3.3.1
Received-SPF: none (ns1.primenet.com.au: domain at closedmail.com does not designate permitted sender hosts)
From: Bart Schaefer <schaefer@brasslantern.com>
Message-id: <110127193031.ZM4926@torch.brasslantern.com>
Date: Thu, 27 Jan 2011 19:30:31 -0800
In-reply-to: <AANLkTin2jSQt2WSiNsnk4++pCQQmQsVB4bpYxs_HB_Co@mail.gmail.com>
Comments: In reply to Vin Shelton <acs@alumni.princeton.edu>
 "coredump completing scp" (Jan 27, 10:13pm)
References: <AANLkTin2jSQt2WSiNsnk4++pCQQmQsVB4bpYxs_HB_Co@mail.gmail.com>
X-Mailer: OpenZMail Classic (0.9.2 24April2005)
To: zsh-workers@zsh.org
Subject: Re: coredump completing scp
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii

On Jan 27, 10:13pm, Vin Shelton wrote:
}
} This shell was configured --with-zsh-mem and that seems to be required
} to provoke the coredump.
} 
} #11 0x00007fd2d8b57ccc in setpwent () from /lib64/libc.so.6
} #12 0x000000000043ecb4 in fillnameddirtable (ht=0x6e4b08) at hashtable.c:1382
} 
} Please let me know if any further info is needed.

Operating system and compiler?

This looks like an incompatibility of the libc free() which is
being invoked from within setpwent() and the zsh-supplied memory
routines.  There's probably not a lot to be done about it except to
avoid using --with-zsh-mem on your platform.

