From zsh-workers-request@euclid.skiles.gatech.edu Thu Dec 26 23:24:49 1996
Return-Path: <zsh-workers-request@euclid.skiles.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 16475 invoked from network); 26 Dec 1996 23:24:47 -0000
Received: from euclid.skiles.gatech.edu (list@130.207.146.50)
  by coral.primenet.com.au with SMTP; 26 Dec 1996 23:24:47 -0000
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id SAA20600; Thu, 26 Dec 1996 18:25:13 -0500 (EST)
Resent-Date: Thu, 26 Dec 1996 18:25:13 -0500 (EST)
From: Zoltan Hidvegi <hzoli@cs.elte.hu>
Message-Id: <199612262321.AAA07071@hzoli.ppp.cs.elte.hu>
Subject: version.h dependencies
To: zsh-workers@math.gatech.edu (Zsh hacking and development)
Date: Fri, 27 Dec 1996 00:21:32 +0100 (MET)
X-Mailer: ELM [version 2.4ME+ PL17 (25)]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"UcWTW2.0.p15.Obmmo"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/2640
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

This patch adds correct version.h dependencies to Src/Makefile.in.

It probably depends textually on previous Makefile patches although the
conceptually this is independent from these.

Zoltan


*** Src/Makefile.in	1996/12/26 22:19:09	3.1.1.8
--- Src/Makefile.in	1996/12/26 22:32:44	3.1.1.9
***************
*** 107,113 ****
  RLIMITS_INC_H = @RLIMITS_INC_H@
  
  # headers included in distribution
! DIST_HDRS = version.h globals.h hashtable.h prototypes.h signals.h \
  system.h zsh.h ztype.h Zle/zle.h
  
  # zsh headers necessary for compilation
--- 107,113 ----
  RLIMITS_INC_H = @RLIMITS_INC_H@
  
  # headers included in distribution
! DIST_HDRS = globals.h hashtable.h prototypes.h signals.h \
  system.h zsh.h ztype.h Zle/zle.h
  
  # zsh headers necessary for compilation
***************
*** 119,125 ****
  options.c params.c parse.c prompt.c signals.c subst.c text.c utils.c watch.c \
  Zle/zle_bindings.c Zle/zle_hist.c Zle/zle_main.c Zle/zle_misc.c \
  Zle/zle_move.c Zle/zle_refresh.c Zle/zle_tricky.c Zle/zle_utils.c \
! Zle/zle_vi.c Zle/zle_word.c Zle/zle.h Zle/compctl.c $(DIST_HDRS)
  
  # generated prototypes
  PROTO = builtin.pro compat.pro cond.pro exec.pro glob.pro hashtable.pro \
--- 119,125 ----
  options.c params.c parse.c prompt.c signals.c subst.c text.c utils.c watch.c \
  Zle/zle_bindings.c Zle/zle_hist.c Zle/zle_main.c Zle/zle_misc.c \
  Zle/zle_move.c Zle/zle_refresh.c Zle/zle_tricky.c Zle/zle_utils.c \
! Zle/zle_vi.c Zle/zle_word.c Zle/zle.h Zle/compctl.c $(DIST_HDRS) version.h
  
  # generated prototypes
  PROTO = builtin.pro compat.pro cond.pro exec.pro glob.pro hashtable.pro \
***************
*** 196,201 ****
--- 196,203 ----
  
  init.o: bltinmods.list zshpaths.h zshxmods.h
  
+ params.o: version.h
+ 
  $(MODULE_DIRS): proto $(HDRS) $(ANSI@U@KNR) FORCE
  	@cd $@ && $(MAKE) $(MAKEDEFS) shobjs
  
***************
*** 341,346 ****
--- 343,351 ----
  
  Makefile: Makefile.in ../config.status
  	cd .. && CONFIG_FILES=$(subdir)/$@ CONFIG_HEADERS= ./config.status
+ 
+ ../config.status: ../configure version.h
+ 	cd .. && ./config.status --recheck
  
  # tag file for vi
  tags: TAGS

