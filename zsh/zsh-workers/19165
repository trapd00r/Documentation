From zsh-workers-return-19165-mason-zsh=primenet.com.au@sunsite.dk Sat Oct 04 03:33:05 2003
Return-Path: <zsh-workers-return-19165-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4732 invoked from network); 4 Oct 2003 03:33:04 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 4 Oct 2003 03:33:04 -0000
Received: (qmail 14477 invoked by alias); 3 Oct 2003 22:06:19 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 19165
Received: (qmail 14464 invoked from network); 3 Oct 2003 22:06:19 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 3 Oct 2003 22:06:19 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [216.27.190.146] by sunsite.dk (MessageWall 1.0.8) with SMTP; 3 Oct 2003 22:6:18 -0000
Received: from ceramic.fifi.org (mail@ceramic.fifi.org [216.27.190.147])
	by tantale.fifi.org (8.9.3p2/8.9.3/Debian 8.9.3-21) with ESMTP id PAA10802;
	Fri, 3 Oct 2003 15:06:10 -0700
Received: from phil by ceramic.fifi.org with local (Exim 4.22)
	id 1A5Y3t-0005vT-U9; Fri, 03 Oct 2003 15:06:09 -0700
To: Danek Duvall <duvall@emufarm.org>
Cc: Nicolas George <nicolas.george@ens.fr>, zsh-workers@sunsite.dk
Subject: Re: [19140] Subshell exiting, suspend problem
References: <20030926165251.GA14940@clipper.ens.fr>
	<20031003205809.GE4255@lorien.emufarm.org>
Mail-Copies-To: nobody
From: Philippe Troin <phil@fifi.org>
Date: 03 Oct 2003 15:06:09 -0700
In-Reply-To: <20031003205809.GE4255@lorien.emufarm.org>
Message-ID: <873ceaugby.fsf@ceramic.fifi.org>
Lines: 28
User-Agent: Gnus/5.09 (Gnus v5.9.0) Emacs/21.2
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Sender: Philippe Troin <phil@fifi.org>

Danek Duvall <duvall@emufarm.org> writes:

> I've been using this patch for a little while on a Solaris box, and it
> solved the problem I had where su would be left in the job table after I
> exited it.

Can you elaborate on that problem? I use zsh with su on solaris
without any issues.
 
> However, I'm now unable to suspend vi or ncftp, or, I would guess, any
> curses program.

That's strange: this patch only changes zsh's exit behavior.

> Moreover, if I run a copy of zsh without this patch
> from the commandline of one with the patch, when I exit, I get:
> 
>     zsh: can't set tty pgrp: I/O error
>     <prompt>% 
>     zsh: error on TTY read: I/O error
> 
> and the "bottom copy" exits, terminating my login session.
> 
> So it seems like there are a few wrinkles to work out yet.  :)

I'm working on that, or better, trying to find some time to do that.

Phil.

