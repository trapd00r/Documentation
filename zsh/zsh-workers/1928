From zsh-workers-request@euclid.skiles.gatech.edu  Wed Aug  7 11:52:47 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by coral.primenet.com.au (8.7.5/8.7.3) with ESMTP id LAA02009 for <mason@primenet.com.au>; Wed, 7 Aug 1996 11:52:44 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id VAA11313; Tue, 6 Aug 1996 21:46:19 -0400 (EDT)
Resent-Date: Tue, 6 Aug 1996 21:46:19 -0400 (EDT)
Date: Tue, 6 Aug 1996 21:45:08 -0400 (EDT)
From: Jeff Blank <jfblank@mtu.edu>
Sender: jfblank@mtu.edu
To: zsh-workers@math.gatech.edu
Subject: 3.0-pre6 expansion bug
Message-ID: <Pine.LNX.3.93.960806213124.31054A-100000@bullwinkle.tc.it.mtu.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
Resent-Message-ID: <"61EBL3.0.fm2.gL_1o"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/1928
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

I first noticed this in 2.6b13...

bullwinkle<275>:Src/zsh -f
bullwinkle% cat ~/file
[...]
bullwinkle% <!$<TAB>
correctly expands to
bullwinkle% <~/file
[...]
bullwinkle% less<!$
incorrectly expands to
bullwinkle% less~/.zlogin

Then, right before my next prompt, I get

Attempt to inungetc() at start of input.

The same happens every time I redirect to or from !$ (with or without
hitting <tab>) using a command and without a space after the redirection,
but it works fine in the null-command cases.  No fancy configure options
or anything like that, and it seems to be OS-independent (I use Solaris
2.5, SunOS 4.1.3_U1, and Linux 2.0.x).

Jeff
-- 
Jeff Blank        +   "I planted some bird seed.  A bird came
MTU IT-Telcom     -    up.  Now I don't know what to feed it."
jfblank@mtu.edu   +                            --Steven Wright

