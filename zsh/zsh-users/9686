From zsh-users-return-9686-mason-zsh=primenet.com.au@sunsite.dk Fri Nov 18 10:22:29 2005
Return-Path: <zsh-users-return-9686-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 11498 invoked from network); 18 Nov 2005 10:22:27 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.0 (2005-09-13) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00,
	FORGED_RCVD_HELO autolearn=ham version=3.1.0
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 18 Nov 2005 10:22:27 -0000
Received: (qmail 69351 invoked from network); 18 Nov 2005 10:22:21 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 18 Nov 2005 10:22:21 -0000
Received: (qmail 17650 invoked by alias); 18 Nov 2005 10:22:11 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 9686
Received: (qmail 17641 invoked from network); 18 Nov 2005 10:22:10 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 18 Nov 2005 10:22:10 -0000
Received: (qmail 67844 invoked from network); 18 Nov 2005 10:22:10 -0000
Received: from cluster-c.mailcontrol.com (HELO rly06c.srv.mailcontrol.com) (168.143.177.190)
  by a.mx.sunsite.dk with SMTP; 18 Nov 2005 10:22:08 -0000
Received: from exchange03.csr.com ([62.189.241.194])
	by rly06c.srv.mailcontrol.com (MailControl) with ESMTP id jAIAM35j015559
	for <zsh-users@sunsite.dk>; Fri, 18 Nov 2005 10:22:03 GMT
Received: from csr.com ([10.103.143.38]) by exchange03.csr.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Fri, 18 Nov 2005 10:24:36 +0000
To: zsh-users@sunsite.dk
Subject: Re: Mysterious completion of variables 
In-reply-to: <b6c719b90511171236j5988236elda6ac5a4e9d37dc@mail.gmail.com> 
References: <b6c719b90511171236j5988236elda6ac5a4e9d37dc@mail.gmail.com>
Date: Fri, 18 Nov 2005 10:21:56 +0000
From: Peter Stephenson <pws@csr.com>
Message-ID: <EXCHANGE03Nwtj4QW8W0000d057@exchange03.csr.com>
X-OriginalArrivalTime: 18 Nov 2005 10:24:36.0845 (UTC) FILETIME=[46ACF9D0:01C5EC2A]
Content-Type: text/plain
MIME-Version: 1.0
X-Scanned-By: MailControl A-05-40-01 (www.mailcontrol.com) on 10.67.0.116

Ian Langworth wrote:
> I have a few variables for hosts that I shell into frequently:
> 
>   aspen='me@aspen.mydomain.com'
>   alias aspen="ssh $aspen"
> 
> Thus, I'm usually able to do the following:
> 
>   scp $aspen:temp .
> 
> This usually works, but there are occasions where I get strange
> completion after I hit <Enter>:
> 
>   cp: cannot stat `me@aspen.mydomain.comemp': No such file or directory
> 
> Sounds like it's interpolating ':t', but I'm not sure why. Ideas?

Yes, but it's not actually completion... the syntax $aspen:t takes the
tail end of a path.  It's borrowed from history substitution.  Since
there isn't a slash in the variable it has no effect except that the :t
is swallowed up and the emp treated as normal text (because another
modifier would need another colon in front).

You need to use ${aspen}:temp or $aspen\:t to protect the :.

This feature isn't compatible with other shells.  It's turned off when
you set the KSH_ARRAYS option, but that has numerous other effects
so I wouldn't recommend that unless you really know what you're doing.

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR PLC, Churchill House, Cambridge Business Park, Cowley Road
Cambridge, CB4 0WZ, UK                          Tel: +44 (0)1223 692070


This message has been scanned for viruses by BlackSpider MailControl - www.blackspider.com

