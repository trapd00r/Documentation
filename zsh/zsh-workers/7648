From zsh-workers-return-7648-mason-zsh=primenet.com.au@sunsite.auc.dk Sun Sep 05 21:45:51 1999
Return-Path: <zsh-workers-return-7648-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 11397 invoked from network); 5 Sep 1999 21:45:49 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 5 Sep 1999 21:45:49 -0000
Received: (qmail 4779 invoked by alias); 5 Sep 1999 21:45:43 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7648
Received: (qmail 4772 invoked from network); 5 Sep 1999 21:45:43 -0000
Date: Sun, 5 Sep 1999 22:45:40 +0100
From: Adam Spiers <adam@thelonious.new.ox.ac.uk>
To: zsh workers mailing list <zsh-workers@math.gatech.edu>
Subject: Miscellaneous buglettes
Message-ID: <19990905224540.A7557@thelonious.new.ox.ac.uk>
Reply-To: Adam Spiers <adam@spiers.net>
Mail-Followup-To: zsh workers mailing list <zsh-workers@math.gatech.edu>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 0.95.4i

I've been building a list of bugs (I think) I've discovered with
3.1.6.  Ideally I would like to have checked they haven't already been
fixed before reporting them, but you guys work so damn fast that I
can't keep up with all your patches.  I don't think I've seen any of
these mentioned recently, but to this end if someone gets around to
providing anonymous CVS, I'd be enormously grateful.  In the meantime,
realistically the best I can manage is patches to pws-2.

  - HIST_FIND_NO_DUPS option not documented (or NEWS is wrong, one of
    the two)

  - Minor bugs in the info pages (fixed by patch below).  For future
    reference, is it necessary to include patches to zsh.texi when
    patch *.yo?

  - Try ls \ <enter>, then press C-d repeatedly.

  - In the Completion System/Completion Functions section of the
    info page, the bit describing _long_options refers to -help
    where it should refer to --help.  This is odd, because the
    corresponding .yo file refers to --help AFAICS.  I've no idea
    how to fix this.

  - zle -R foo from the command line prints garbage.

  - _history_complete_word only works on recent history, not saved
    history AFAICS.  This is a problem specifically with compgen -H, I
    presume.

Hope this is of use, and I hope you don't wince too much at the
newbie-ness which must be self-evident in this post :-)

By the way, I took a .spec file from an old 3.1.5 source rpm floating
around, and cleaned it up and got it working with 3.1.6-pws-2.  It
takes advantage of that new DESTDIR patch too.  If anyone would like
to see it, let me know.

Adam

--- ./Doc/Zsh/options.yo.orig	Sun Sep  5 20:33:15 1999
+++ ./Doc/Zsh/options.yo	Sun Sep  5 20:33:21 1999
@@ -480,15 +480,15 @@
 Remove the tt(history) (tt(fc -l)) command from
 the history when invoked.
 )
-pindex(HIST_SAVE_NO_DUPS)
-item(tt(HIST_SAVE_NO_DUPS))(
-When writing out the history file, older commands that duplicate
-newer ones are omitted.
-)
 pindex(HIST_REDUCE_BLANKS)
 item(tt(HIST_REDUCE_BLANKS))(
 Remove superfluous blanks from each command line
 being added to the history list.
+)
+pindex(HIST_SAVE_NO_DUPS)
+item(tt(HIST_SAVE_NO_DUPS))(
+When writing out the history file, older commands that duplicate
+newer ones are omitted.
 )
 pindex(HIST_VERIFY)
 cindex(history, verifying substitution)
--- ./Doc/Zsh/params.yo.orig	Sun Sep  5 20:37:06 1999
+++ ./Doc/Zsh/params.yo	Sun Sep  5 20:37:11 1999
@@ -146,7 +146,7 @@
 key found is used.
 )
 item(tt(I))(
-like `tt(i), but gives the index of the last match, or all possible
+like `tt(i)', but gives the index of the last match, or all possible
 matching keys in an associative array.
 )
 item(tt(n:)var(expr)tt(:))(
--- ./Doc/zsh.texi.orig	Tue Aug 31 01:57:30 1999
+++ ./Doc/zsh.texi	Sun Sep  5 20:34:59 1999
@@ -4164,7 +4164,7 @@
 key found is used.
 
 @item @t{I}
-like `@t{i}, but gives the index of the last match, or all possible
+like `@t{i}', but gives the index of the last match, or all possible
 matching keys in an associative array.
 
 @item @t{n:}@var{expr}@t{:}
@@ -5450,15 +5450,15 @@
 Remove the @t{history} (@t{fc -l}) command from
 the history when invoked.
 
-@pindex HIST_SAVE_NO_DUPS
-@item @t{HIST_SAVE_NO_DUPS}
-When writing out the history file, older commands that duplicate
-newer ones are omitted.
-
 @pindex HIST_REDUCE_BLANKS
 @item @t{HIST_REDUCE_BLANKS}
 Remove superfluous blanks from each command line
 being added to the history list.
+
+@pindex HIST_SAVE_NO_DUPS
+@item @t{HIST_SAVE_NO_DUPS}
+When writing out the history file, older commands that duplicate
+newer ones are omitted.
 
 @pindex HIST_VERIFY
 @cindex history, verifying substitution

