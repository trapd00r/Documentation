From zsh-users-return-14261-mason-zsh=primenet.com.au@sunsite.dk Mon Jul 27 12:03:54 2009
Return-Path: <zsh-users-return-14261-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1060 invoked from network); 27 Jul 2009 12:03:42 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.4 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from new-brage.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.254.104)
  by ns1.primenet.com.au with SMTP; 27 Jul 2009 12:03:42 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 39726 invoked from network); 27 Jul 2009 12:03:30 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 27 Jul 2009 12:03:30 -0000
Received: (qmail 10074 invoked by alias); 27 Jul 2009 12:03:01 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 14261
Received: (qmail 10045 invoked from network); 27 Jul 2009 12:03:00 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 27 Jul 2009 12:03:00 -0000
Received: from cluster-d.mailcontrol.com (cluster-d.mailcontrol.com [85.115.60.190])
	by bifrost.dotsrc.org (Postfix) with ESMTPS id E29908027106
	for <zsh-users@sunsite.dk>; Mon, 27 Jul 2009 14:02:54 +0200 (CEST)
Received: from cameurexb01.EUROPE.ROOT.PRI ([193.128.72.68])
	by rly15d.srv.mailcontrol.com (MailControl) with ESMTP id n6RC2rw5019459
	for <zsh-users@sunsite.dk>; Mon, 27 Jul 2009 13:02:53 +0100
Received: from news01.csr.com ([10.99.50.25]) by cameurexb01.EUROPE.ROOT.PRI with Microsoft SMTPSVC(6.0.3790.3959);
	 Mon, 27 Jul 2009 13:02:52 +0100
Received: from news01.csr.com (localhost.localdomain [127.0.0.1])
	by news01.csr.com (8.14.2/8.13.4) with ESMTP id n6RC2qmi025562
	for <zsh-users@sunsite.dk>; Mon, 27 Jul 2009 13:02:52 +0100
Received: from csr.com (pws@localhost)
	by news01.csr.com (8.14.2/8.14.2/Submit) with ESMTP id n6RC2q6P025558
	for <zsh-users@sunsite.dk>; Mon, 27 Jul 2009 13:02:52 +0100
Message-Id: <200907271202.n6RC2q6P025558@news01.csr.com>
X-Authentication-Warning: news01.csr.com: pws owned process doing -bs
To: zsh-users@sunsite.dk
Subject: Re: History completion
In-reply-to: <20090727114505.GA18676@nerdshack.com>
References: <20090727114505.GA18676@nerdshack.com>
Comments: In-reply-to tannhauser <tannhauser@nerdshack.com>
   message dated "Mon, 27 Jul 2009 13:45:05 +0200."
Date: Mon, 27 Jul 2009 13:02:52 +0100
From: Peter Stephenson <pws@csr.com>
X-OriginalArrivalTime: 27 Jul 2009 12:02:52.0650 (UTC) FILETIME=[2B46ACA0:01CA0EB2]
Content-Type: text/plain
MIME-Version: 1.0
X-Scanned-By: MailControl A-09-20-00 (www.mailcontrol.com) on 10.68.0.125
X-Virus-Scanned: ClamAV 0.94.2/9619/Mon Jul 27 08:24:37 2009 on bifrost
X-Virus-Status: Clean

tannhauser wrote:
> Hello everyone,
> 
> i remember, that someday command history completion worked this way for
> me:
> "cat l<arrow-up>" got me all variations that actually started with "cat
> l", like "cat lol" and so on. right now, i just get all old variations
> of "cat", the parameters are ignored.
> 
> i hope you get my point, my english ist kind of rusty at the moment.

There are two different commands:  history-beginning-search-backward is
what you want, history-search-backward is what you've got.

You need something like

bindkey '\e[A' history-beginning-search-backward
bindkey '\e[B' history-beginning-search-forward

assuming your arrow keys send the normal sequence (start a "read" command
and then type the key to check, then ^C).  (You can supposedly get this
information from "echotc" or "echoti" but they often lie.)

-- 
Peter Stephenson <pws@csr.com>            Software Engineer
Tel: +44 (0)1223 692070                   Cambridge Silicon Radio Limited
Churchill House, Cambridge Business Park, Cowley Road, Cambridge, CB4 0WZ, UK


'member of the CSR plc group of companies. CSR plc registered in England and Wales, registered number 4187346, registered office Churchill House, Cambridge Business Park, Cowley Road, Cambridge, CB4 0WZ, United Kingdom'

