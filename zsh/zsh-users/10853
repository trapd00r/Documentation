From zsh-users-return-10853-mason-zsh=primenet.com.au@sunsite.dk Thu Oct 12 21:09:30 2006
Return-Path: <zsh-users-return-10853-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 26716 invoked from network); 12 Oct 2006 21:09:28 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.6 (2006-10-03) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.0 required=5.0 tests=BAYES_00,FORGED_RCVD_HELO,
	RCVD_NUMERIC_HELO autolearn=no version=3.1.6
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 12 Oct 2006 21:09:28 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 10180 invoked from network); 12 Oct 2006 21:09:21 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 12 Oct 2006 21:09:21 -0000
Received: (qmail 9946 invoked by alias); 12 Oct 2006 21:09:13 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 10853
Received: (qmail 9936 invoked from network); 12 Oct 2006 21:09:13 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 12 Oct 2006 21:09:13 -0000
Received: (qmail 9110 invoked from network); 12 Oct 2006 21:09:13 -0000
Received: from main.gmane.org (HELO ciao.gmane.org) (80.91.229.2)
  by a.mx.sunsite.dk with SMTP; 12 Oct 2006 21:09:11 -0000
Received: from root by ciao.gmane.org with local (Exim 4.43)
	id 1GY7Bq-0003nY-Ld
	for zsh-users@sunsite.dk; Thu, 12 Oct 2006 22:30:03 +0200
Received: from 65.207.213.226 ([65.207.213.226])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <zsh-users@sunsite.dk>; Thu, 12 Oct 2006 22:30:02 +0200
Received: from mwoehlke by 65.207.213.226 with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <zsh-users@sunsite.dk>; Thu, 12 Oct 2006 22:30:02 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: zsh-users@sunsite.dk
From:  Matthew Woehlke <mwoehlke@tibco.com>
Subject:  Re: logout from interactive subshell
Date:  Thu, 12 Oct 2006 13:09:46 -0500
Lines: 26
Message-ID: <egm0db$o4k$1@sea.gmane.org>
References:  <F7507090F1A72B43A51444325DFBE43101391DF2@MCHP7R6A.ww002.siemens.net>
Mime-Version:  1.0
Content-Type:  text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding:  7bit
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: 65.207.213.226
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.8.0.7) Gecko/20060909 Thunderbird/1.5.0.7 Mnenhy/0.7.4.0
In-Reply-To: <F7507090F1A72B43A51444325DFBE43101391DF2@MCHP7R6A.ww002.siemens.net>
Sender: news <news@sea.gmane.org>
Cc: bug-bash@gnu.org

Com MN PG P E B Consultant 3 wrote:
> Does someone know how to deal with the following situation?
> 
> Very often I do the following pattern:
> 
>    (1) rlogin to a foreign host
>    (2) Invoke a subshell (for example because I'm setting a Clearcase
> View)
>    (3) Logout from the host
> 
> Step (3) needs two steps: First I have to type 'exit' to leave the
> subshell,
> and then either 'exit' or 'logout' to leave the login shell.
> 
> Is it possible to automate this in such a way that I have to type only
> one command, to leave all subshells (in this case, only 1, but in
> general, I might be several subshells deep) AND then logout?

What about in your login (.bash_profile, etc) exporting a variable, say 
ROOT_PID=$$ and having a command/function/alias 'kill -s SIGHUP 
$ROOT_PID'? This is equivalent to killing the rlogin connection, but 
should clean up nicely if all you have are shells.

-- 
Matthew
"I don't question your existence -- God" (seen on a church billboard)

