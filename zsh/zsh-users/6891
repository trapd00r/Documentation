From zsh-users-return-6891-mason-zsh=primenet.com.au@sunsite.dk Mon Dec 15 12:53:11 2003
Return-Path: <zsh-users-return-6891-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13255 invoked from network); 15 Dec 2003 12:53:11 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 15 Dec 2003 12:53:11 -0000
Received: (qmail 12080 invoked by alias); 15 Dec 2003 12:52:53 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 6891
Received: (qmail 12070 invoked from network); 15 Dec 2003 12:52:53 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 15 Dec 2003 12:52:53 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [130.237.93.212] by sunsite.dk (MessageWall 1.0.8) with SMTP; 15 Dec 2003 12:52:52 -0000
Received: from localhost (smtp2.su.se [127.0.0.1])
	by smtp2.su.se (Postfix) with ESMTP id E53E82003EE
	for <zsh-users@sunsite.dk>; Mon, 15 Dec 2003 13:52:51 +0100 (CET)
Received: from smtp2.su.se ([127.0.0.1])
 by localhost (smtp2.su.se [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 08859-08 for <zsh-users@sunsite.dk>; Mon, 15 Dec 2003 13:52:51 +0100 (CET)
Received: from unni.dsv.su.se (unni.dsv.su.se [130.237.161.27])
	by smtp2.su.se (Postfix) with ESMTP id CEEFA20021E
	for <zsh-users@sunsite.dk>; Mon, 15 Dec 2003 13:52:51 +0100 (CET)
Received: from localhost (strindberg.dsv.su.se [130.237.157.30])
	by unni.dsv.su.se (Postfix) with ESMTP id BED2F8B35D
	for <zsh-users@sunsite.dk>; Mon, 15 Dec 2003 13:52:51 +0100 (CET)
Received: from jesper by localhost with local (Exim 4.30)
	id 1AVsCW-0005YD-Kz
	for zsh-users@sunsite.dk; Mon, 15 Dec 2003 13:51:52 +0100
Date: Mon, 15 Dec 2003 13:51:52 +0100
From: Jesper Holmberg <jesperh@dsv.su.se>
To: Zsh-users List <zsh-users@sunsite.dk>
Subject: Re: Completion in pwd before subdirecories
Message-ID: <20031215125152.GK11150@strindberg.dsv.su.se>
Mail-Followup-To: Zsh-users List <zsh-users@sunsite.dk>
References: <20031213154651.GR18859@strindberg.dsv.su.se> <1031213191918.ZM5325@candle.brasslantern.com> <20031213233905.GW18859@strindberg.dsv.su.se> <3213.1071488991@gmcs3.local>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <3213.1071488991@gmcs3.local>
User-Agent: Mutt/1.5.4i
X-Virus-Scanned: by amavisd-new at su.se

* On Mon Dec 15, Oliver Kiddle wrote:
> You need something like:
> 
>   zstyle ':completion:*' file-patterns \
>       '*(-/):directories %p(^-/):globbed-files' '*:all-files'
>   zstyle ':completion:*' group-name ''
>   zstyle ':completion:*' group-order \
>       globbed-files all-files directories
> 
> Unfortunately, that will now break for any completion which specifies a
> glob qualifier such as _chown. I've been meaning to go through adding
> `#q' into all of them to allow this.

I put your lines in my .zshrc, but now I get surprising results:

% ls -R
.:
dar  dir  dor

./dir:
dur

i.e. dir is a directory including a file called dur.

Now "cat d<tab>" gives dir/, yet another <tab> gives dir/dur, and then it
stays dir/dur no matter how many times I hit <tab>. 

Jesper

