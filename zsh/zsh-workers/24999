From zsh-workers-return-24999-mason-zsh=primenet.com.au@sunsite.dk Mon May 12 12:14:03 2008
Return-Path: <zsh-workers-return-24999-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 12682 invoked from network); 12 May 2008 12:14:01 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.4 (2008-01-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.4
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 12 May 2008 12:14:01 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 45176 invoked from network); 12 May 2008 12:13:57 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 12 May 2008 12:13:57 -0000
Received: (qmail 11237 invoked by alias); 12 May 2008 12:13:54 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 24999
Received: (qmail 11215 invoked from network); 12 May 2008 12:13:54 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 12 May 2008 12:13:54 -0000
Received: from equator.ru.net (equator.ru.net [194.58.105.39])
	by bifrost.dotsrc.org (Postfix) with ESMTP id CD3FA80ED172
	for <zsh-workers@sunsite.dk>; Mon, 12 May 2008 14:13:49 +0200 (CEST)
Received: from localhost ([127.0.0.1])
	by equator.ru.net with esmtpsa (TLS-1.0:DHE_RSA_AES_256_CBC_SHA1:32)
	(Exim 4.63)
	(envelope-from <zsh@sergio.spb.ru>)
	id 1JvWuZ-0000en-8j
	for zsh-workers@sunsite.dk; Mon, 12 May 2008 16:13:47 +0400
Message-ID: <4828347A.8070503@sergio.spb.ru>
Date: Mon, 12 May 2008 16:13:46 +0400
From: sergio <zsh@sergio.spb.ru>
User-Agent: Mozilla-Thunderbird 2.0.0.9 (X11/20080110)
MIME-Version: 1.0
To: Zsh hackers list <zsh-workers@sunsite.dk>
Subject: Colored completion listings
Content-Type: multipart/mixed;
 boundary="------------070206060906080506040105"
X-SA-Exim-Connect-IP: 127.0.0.1
X-SA-Exim-Mail-From: zsh@sergio.spb.ru
X-SA-Exim-Scanned: No (on equator.ru.net); SAEximRunCond expanded to false
X-Virus-Scanned: ClamAV 0.91.2/7097/Mon May 12 12:51:38 2008 on bifrost
X-Virus-Status: Clean

This is a multi-part message in MIME format.
--------------070206060906080506040105
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

Hello.

I have some troubles with colored completion listing.

1) zsh highlights broken symlinks as unbroken. but mi color is defined
and ls highlights it whith correct color.

2) zsh highlights directories like test.jpg as jpeg file
color for directories is defined before *.jpg


some string from my ~/.zshrc:

eval $(dircolors -b ~/.dir_colors)
zstyle ':completion:*' list-colors ${(s.:.)LS_COLORS}

% echo ${(s.:.)LS_COLORS}
no=00 fi=00 di=00;34 ln=00;36 or=00;31 mi=00;31 pi=00;33 so=00;35
do=00;35 bd=00;33 cd=00;33 ex=00;32 sg=30;43 su=30;41 st=30;44 ow=31;44
tw=33;44 *.tar=00;31 *.tgz=00;31 *.svgz=00;31 *.arj=00;31 *.taz=00;31
*.lzh=00;31 *.lzma=00;31 *.zip=00;31 *.z=00;31 *.Z=00;31 *.dz=00;31
*.gz=00;31 *.bz2=00;31 *.bz=00;31 *.tbz2=00;31 *.tz=00;31 *.deb=00;31
*.rpm=00;31 *.jar=00;31 *.rar=00;31 *.ace=00;31 *.zoo=00;31 *.cpio=00;31
*.7z=00;31 *.rz=00;31 *.jpg=00;35 *.jpeg=00;35 *.gif=00;35 *.bmp=00;35
*.pbm=00;35 *.pgm=00;35 *.ppm=00;35 *.tga=00;35 *.xbm=00;35 *.xpm=00;35
*.tif=00;35 *.tiff=00;35 *.png=00;35 *.svg=00;35 *.mng=00;35 *.pcx=00;35
*.mov=00;35 *.mpg=00;35 *.mpeg=00;35 *.m2v=00;35 *.mkv=00;35 *.ogm=00;35
*.mp4=00;35 *.m4v=00;35 *.mp4v=00;35 *.vob=00;35 *.qt=00;35 *.nuv=00;35
*.wmv=00;35 *.asf=00;35 *.rm=00;35 *.rmvb=00;35 *.flc=00;35 *.avi=00;35
*.fli=00;35 *.flv=00;35 *.gl=00;35 *.dl=00;35 *.xcf=00;35 *.xwd=00;35
*.yuv=00;35 *.aac=00;36 *.au=00;36 *.flac=00;36 *.mid=00;36 *.midi=00;36
*.mka=00;36 *.mp3=00;36 *.mpc=00;36 *.ogg=00;36 *.ra=00;36 *.wav=00;36


P.S.
There are two listers: ls and complist. They are very similar, but have
some difference. For example ls can list directories before other files
and complist can not.
It will be great to use one lister for completion and for command like ls.

-- 
sergio

--------------070206060906080506040105
Content-Type: text/plain;
 name=".dir_colors"
Content-Transfer-Encoding: base64
Content-Disposition: inline;
 filename=".dir_colors"

Q09MT1IJCXllcwpFSUdIVEJJVAl5ZXMKCk5PUk1BTAkJMDAKRklMRQkJMDAKRElSCQkwMDsz
NApMSU5LCQkwMDszNgpPUlBIQU4JCTAwOzMxCk1JU1NJTkcJCTAwOzMxCkZJRk8JCTAwOzMz
ClNPQ0sJCTAwOzM1CkRPT1IJCTAwOzM1CkJMSwkJMDA7MzMKQ0hSCQkwMDszMwpFWEVDCQkw
MDszMgoKU0VUR0lEIDMwOzQzClNFVFVJRCAzMDs0MQoKU1RJQ0tZIDMwOzQ0Ck9USEVSX1dS
SVRBQkxFIDMxOzQ0ClNUSUNLWV9PVEhFUl9XUklUQUJMRSAzMzs0NAoKI09USEVSX1dSSVRB
QkxFIDM0OzQxCiNTVElDS1lfT1RIRVJfV1JJVEFCTEUgMzQ7NDMKCiMgYXJjaGl2ZXMgb3Ig
Y29tcHJlc3NlZAoudGFyCTAwOzMxCi50Z3oJMDA7MzEKLnN2Z3oJMDA7MzEKLmFyagkwMDsz
MQoudGF6CTAwOzMxCi5semgJMDA7MzEKLmx6bWEJMDA7MzEKLnppcAkwMDszMQouegkwMDsz
MQouWgkwMDszMQouZHoJMDA7MzEKLmd6CTAwOzMxCi5iejIJMDA7MzEKLmJ6CTAwOzMxCi50
YnoyCTAwOzMxCi50egkwMDszMQouZGViCTAwOzMxCi5ycG0JMDA7MzEKLmphcgkwMDszMQou
cmFyCTAwOzMxCi5hY2UJMDA7MzEKLnpvbwkwMDszMQouY3BpbwkwMDszMQouN3oJMDA7MzEK
LnJ6CTAwOzMxCgojIGltYWdlIGZvcm1hdHMKLmpwZwkwMDszNQouanBlZwkwMDszNQouZ2lm
CTAwOzM1Ci5ibXAJMDA7MzUKLnBibQkwMDszNQoucGdtCTAwOzM1Ci5wcG0JMDA7MzUKLnRn
YQkwMDszNQoueGJtCTAwOzM1Ci54cG0JMDA7MzUKLnRpZgkwMDszNQoudGlmZgkwMDszNQou
cG5nCTAwOzM1Ci5zdmcJMDA7MzUKLm1uZwkwMDszNQoucGN4CTAwOzM1Ci5tb3YJMDA7MzUK
Lm1wZwkwMDszNQoubXBlZwkwMDszNQoubTJ2CTAwOzM1Ci5ta3YJMDA7MzUKLm9nbQkwMDsz
NQoubXA0CTAwOzM1Ci5tNHYJMDA7MzUKLm1wNHYJMDA7MzUKLnZvYgkwMDszNQoucXQJMDA7
MzUKLm51dgkwMDszNQoud212CTAwOzM1Ci5hc2YJMDA7MzUKLnJtCTAwOzM1Ci5ybXZiCTAw
OzM1Ci5mbGMJMDA7MzUKLmF2aQkwMDszNQouZmxpCTAwOzM1Ci5mbHYJMDA7MzUKLmdsCTAw
OzM1Ci5kbAkwMDszNQoueGNmCTAwOzM1Ci54d2QJMDA7MzUKLnl1dgkwMDszNQoKIyBhdWRp
byBmb3JtYXRzCi5hYWMJMDA7MzYKLmF1CTAwOzM2Ci5mbGFjCTAwOzM2Ci5taWQJMDA7MzYK
Lm1pZGkJMDA7MzYKLm1rYQkwMDszNgoubXAzCTAwOzM2Ci5tcGMJMDA7MzYKLm9nZwkwMDsz
NgoucmEJMDA7MzYKLndhdgkwMDszNgo=
--------------070206060906080506040105--

