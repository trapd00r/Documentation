From zsh-users-return-11040-mason-zsh=primenet.com.au@sunsite.dk Mon Nov 27 14:31:43 2006
Return-Path: <zsh-users-return-11040-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17147 invoked from network); 27 Nov 2006 14:31:38 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.7 (2006-10-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00,
	FORGED_RCVD_HELO autolearn=ham version=3.1.7
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 27 Nov 2006 14:31:38 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 41720 invoked from network); 27 Nov 2006 14:31:28 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 27 Nov 2006 14:31:28 -0000
Received: (qmail 16190 invoked by alias); 27 Nov 2006 14:31:17 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 11040
Received: (qmail 16181 invoked from network); 27 Nov 2006 14:31:16 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 27 Nov 2006 14:31:16 -0000
Received: (qmail 40108 invoked from network); 27 Nov 2006 14:31:16 -0000
Received: from dsl3-63-249-67-89.cruzio.com (HELO dot.blorf.net) (63.249.67.89)
  by a.mx.sunsite.dk with SMTP; 27 Nov 2006 14:31:13 -0000
Received: by dot.blorf.net (Postfix, from userid 1000)
	id 8748C3E52; Mon, 27 Nov 2006 06:31:09 -0800 (PST)
Date: Mon, 27 Nov 2006 06:31:09 -0800
From: Wayne Davison <wayned@users.sourceforge.net>
To: Nikolai Weibull <now@bitwi.se>
Cc: zsh-users@sunsite.dk
Subject: Re: What was the reason for history -D not reporting runtimes?
Message-ID: <20061127143109.GA26291@blorf.net>
References: <dbfc82860611240516w403e14fes7ef5a8d29148512c@mail.gmail.com> <17393e3e0611250841v6a5e3d73ha185b3f3b44509b9@mail.gmail.com> <dbfc82860611250952w68b615ebl250e3d8ede444739@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <dbfc82860611250952w68b615ebl250e3d8ede444739@mail.gmail.com>
User-Agent: Mutt/1.5.13 (2006-08-11)

On Sat, Nov 25, 2006 at 06:52:50PM +0100, Nikolai Weibull wrote:
> Yes, but that I already have.  The -D information somehow isn't
> recorded.  I thought it was incappendhistory that caused this, but I
> don't have that set.

The SHARE_HISTORY option also causes this.  This is because the current
algorithm for sharing history writes out the history lines as soon as
you enter the command.  Perhaps we should revisit the reasons for this
design choice to see if we still agree that this is the best spot to do
the shared/inc-append history updating.

..wayne..

