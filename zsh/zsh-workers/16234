From zsh-workers-return-16234-mason-zsh=primenet.com.au@sunsite.dk Sat Nov 10 14:11:57 2001
Return-Path: <zsh-workers-return-16234-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 3066 invoked from network); 10 Nov 2001 14:11:56 -0000
Received: from ns2.primenet.com.au (HELO primenet.com.au) (?d/3MW0wJ9E8RyOPKv6AGY+Uvef8WdpR7?@203.24.36.3)
  by ns1.primenet.com.au with SMTP; 10 Nov 2001 14:11:56 -0000
Received: (qmail 4444 invoked from network); 10 Nov 2001 14:11:52 -0000
Received: from sunsite.dk (130.225.247.90)
  by proxy.melb.primenet.com.au with SMTP; 10 Nov 2001 14:11:52 -0000
Received: (qmail 13795 invoked by alias); 10 Nov 2001 14:11:40 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 16234
Received: (qmail 13780 invoked from network); 10 Nov 2001 14:11:39 -0000
Sender: ethersoft@rcn.com
To: Borsenkow Andrej <Andrej.Borsenkow@mow.siemens.ru>
Cc: zsh-workers@sunsite.dk
Subject: Re: typeset -U within a function
References: <m2snbn73z0.fsf@zion.rcn.com> <3BECD576.7060900@mow.siemens.ru>
From: Vin Shelton <acs@alumni.princeton.edu>
Organization: EtherSoft, Inc
Date: 10 Nov 2001 09:13:47 -0500
In-Reply-To: <3BECD576.7060900@mow.siemens.ru>
Message-ID: <m2ofma7lyc.fsf@zion.rcn.com>
Lines: 34
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Borsenkow Andrej <Andrej.Borsenkow@mow.siemens.ru> writes:
> Vin Shelton wrote:
> 
> > From either zsh-4.0.4 or from the latest CVS sources, when I create a
> > function like this:
> > function bar {
> 
> >   typeset -U PATH
> >   PATH=/xxx:/yyy
> > }
> > and then run it, PATH is unchanged:
> 
> >
> 
> 
> 
> typeset -Ug PATH
> 
> typeset -U creates local variable.
> 
> -andrej

Ahh - I see.  Here's what the zshbuiltins man page has to say:

    A parameter is created for each name that does not already refer
    to one.  When inside a function, a new parameter is created for
    every name (even those that already exist), and is unset again
    when the function completes.  See `Local Parameters' in
    zshparam(1).  The same rules apply to special shell parameters,
    which retain their special attributes when made local.

Thanks, Andrej.

  - vin

