From zsh-workers-return-9681-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Feb 11 13:07:47 2000
Return-Path: <zsh-workers-return-9681-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10969 invoked from network); 11 Feb 2000 13:07:46 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 11 Feb 2000 13:07:46 -0000
Received: (qmail 14710 invoked by alias); 11 Feb 2000 13:07:40 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 9681
Received: (qmail 14702 invoked from network); 11 Feb 2000 13:07:39 -0000
To: zsh-workers@sunsite.auc.dk
Subject: Re: PATCH: _diff
References: <200002111048.LAA29492@beta.informatik.hu-berlin.de>
X-Attribution: adl
From: Alexandre Duret-Lutz <duret_g@epita.fr>
Date: 11 Feb 2000 14:06:05 +0100
In-Reply-To: Sven Wischnowsky's message of "Fri, 11 Feb 2000 11:48:14 +0100 (MET)"
Message-ID: <mvbpuu3khxe.fsf@phobos.lrde.epita.fr>
Lines: 63
User-Agent: Gnus/5.0803 (Gnus v5.8.3) Emacs/20.5
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

>>> "Sven" == Sven Wischnowsky <wischnow@informatik.hu-berlin.de> writes:

 Sven> Alexandre Duret-Lutz wrote:

[...]

 >> '--[introduce diff options]:*:diff options: _diff_options'
 >> 
 >> I can't use the `*::message:action' syntax here.

[...]

 Sven> Of course, `--:*::...' should work (reporting anything after the
 Sven> `--'), there was just a little thinko in ca_parse_line().

Ah, thanks. So the patch below correct this call to 
_diff_options. (and also add _texi and _matcher to .distfiles)

[...]

Index: Completion/User/.distfiles
--- Completion/User/.distfiles Wed, 02 Feb 2000 23:44:58 +0100 Alexandre
+++ Completion/User/.distfiles Fri, 11 Feb 2000 13:45:29 +0100 Alexandre
@@ -8,7 +8,7 @@
     _netscape _nslookup _other_accounts _pack _patch _pbm _pdf
     _perl_basepods _perl_builtin_funcs _perl_modules _perldoc
     _ports _prcs _prompt _ps _pspdf _rcs _rlogin _sh _socket
-    _ssh _strip _stty _su _sudo _tar _tar_archive _telnet _tex
+    _ssh _strip _stty _su _sudo _tar _tar_archive _telnet _tex _texi
     _tiff _uncompress _unpack _urls _use_lo _user_at_host _users
     _users_on _webbrowser _wget _whereis _whois _xargs _yodl _yp
     _zdump
Index: Completion/Core/.distfiles
--- Completion/Core/.distfiles Fri, 31 Dec 1999 13:32:44 +0100 Alexandre
+++ Completion/Core/.distfiles Fri, 11 Feb 2000 13:47:39 +0100 Alexandre
@@ -1,8 +1,9 @@
 DISTFILES_SRC='
     .distfiles
     _alternative _approximate _compalso _complete _correct _description
-    _expand _files _funcall _list _main_complete _match _menu _multi_parts
-    _message _normal _oldlist _options _parameters _path_files _requested
+    _expand _files _funcall _list _main_complete _match 
+    _matcher _menu _multi_parts _message _normal _oldlist 
+    _options _parameters _path_files _requested
     _sep_parts _set_options _setup _sort_tags _tags
     _unset_options _wanted
     compdump compinit compinstall
Index: Completion/User/_prcs
--- Completion/User/_prcs Wed, 02 Feb 2000 23:44:58 +0100 Alexandre
+++ Completion/User/_prcs Fri, 11 Feb 2000 13:44:34 +0100 Alexandre
@@ -133,7 +133,7 @@
       '(--new)-N[compare new files against empty files]' \
       "(-P)--exclude-project-file[don't diff the project file]" \
       "(--exclude-project-file)-P[don't diff the project file]" \
-      '--[introduce diff options]:*:diff options: _diff_options' \
+      '--[introduce diff options]:*::diff options: _diff_options' \
       ':project name:_prcs_projects' \
       '*:file or directory:_files'
     ;;


-- 
Alexandre Duret-Lutz

