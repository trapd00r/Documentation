From zsh-workers-return-23918-mason-zsh=primenet.com.au@sunsite.dk Mon Oct 08 13:38:58 2007
Return-Path: <zsh-workers-return-23918-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 243 invoked from network); 8 Oct 2007 13:38:51 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.3 (2007-08-08) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.3
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 8 Oct 2007 13:38:51 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 36215 invoked from network); 8 Oct 2007 13:38:44 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 8 Oct 2007 13:38:44 -0000
Received: (qmail 8867 invoked by alias); 8 Oct 2007 13:38:41 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 23918
Received: (qmail 8846 invoked from network); 8 Oct 2007 13:38:40 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 8 Oct 2007 13:38:40 -0000
Received: (qmail 35916 invoked from network); 8 Oct 2007 13:38:40 -0000
Received: from cluster-d.mailcontrol.com (217.69.20.190)
  by a.mx.sunsite.dk with SMTP; 8 Oct 2007 13:38:34 -0000
Received: from cameurexb01.EUROPE.ROOT.PRI ([62.189.241.200])
	by rly15d.srv.mailcontrol.com (MailControl) with ESMTP id l98DadPu007069
	for <zsh-workers@sunsite.dk>; Mon, 8 Oct 2007 14:38:22 +0100
Received: from news01.csr.com ([10.103.143.38]) by cameurexb01.EUROPE.ROOT.PRI with Microsoft SMTPSVC(6.0.3790.1830);
	 Mon, 8 Oct 2007 14:38:02 +0100
Received: from news01.csr.com (localhost.localdomain [127.0.0.1])
	by news01.csr.com (8.14.1/8.13.4) with ESMTP id l98Dc2RR012287
	for <zsh-workers@sunsite.dk>; Mon, 8 Oct 2007 14:38:02 +0100
Received: from csr.com (pws@localhost)
	by news01.csr.com (8.14.1/8.14.1/Submit) with ESMTP id l98Dc2br012284
	for <zsh-workers@sunsite.dk>; Mon, 8 Oct 2007 14:38:02 +0100
Message-Id: <200710081338.l98Dc2br012284@news01.csr.com>
X-Authentication-Warning: news01.csr.com: pws owned process doing -bs
To: zsh-workers <zsh-workers@sunsite.dk>
Subject: Re: Failing to write to history file if containing directory doesn't exist
In-reply-to: <dbfc82860710080508o3ef1de0br957caf39bb2aa19f@mail.gmail.com>
References: <dbfc82860710080309m41cfa984q5aa0474c6b4bdf62@mail.gmail.com> <200710081015.l98AFlIU018448@news01.csr.com> <dbfc82860710080508o3ef1de0br957caf39bb2aa19f@mail.gmail.com>
Comments: In-reply-to "Nikolai Weibull" <now@bitwi.se>
   message dated "Mon, 08 Oct 2007 14:08:08 +0200."
Date: Mon, 08 Oct 2007 14:38:02 +0100
From: Peter Stephenson <pws@csr.com>
X-OriginalArrivalTime: 08 Oct 2007 13:38:02.0515 (UTC) FILETIME=[72CF6E30:01C809B0]
X-Scanned-By: MailControl A-07-08-10 (www.mailcontrol.com) on 10.68.0.125

Nikolai Weibull wrote:
> > I'd have thought it was a reasonable expectation that the directory
> > already existed.  You can always add "mkdir -p ${HISTFILE:h}" when you
> > set HISTFILE, if you need to.
> 
> Yes, sure, but if we assume that this isn't always the case, would
> code that dealt with this case be interesting for inclusion?

I'm frankly lukewarm about adding code for stuff that can already be
done in shell code if you need it, but if you think this is likely to
happen in practice I'll add your C code.

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR PLC, Churchill House, Cambridge Business Park, Cowley Road
Cambridge, CB4 0WZ, UK                          Tel: +44 (0)1223 692070

