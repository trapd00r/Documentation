From zsh-workers-request@math.gatech.edu Fri Dec 04 18:12:51 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 3246 invoked from network); 4 Dec 1998 18:12:49 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 4 Dec 1998 18:12:49 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.9.1/8.9.1) id NAA26716;
	Fri, 4 Dec 1998 13:11:38 -0500 (EST)
Resent-Date: Fri, 4 Dec 1998 13:11:18 -0500 (EST)
Message-ID: <19981204155350.44301@athenaeum.demon.co.uk>
Date: Fri, 4 Dec 1998 15:53:50 +0000
From: Phil Pennock <phil@athenaeum.demon.co.uk>
To: zsh-users@math.gatech.edu
Subject: Re: counting in "for" loops
Mail-Followup-To: zsh-users@math.gatech.edu
References: <19981202170030.A2789@math.fu-berlin.de> <slrn76c4h1.9s2.mason@coral.primenet.com.au> <19981203212653.56779@athenaeum.demon.co.uk>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 0.89.1
In-Reply-To: <19981203212653.56779@athenaeum.demon.co.uk>; from "Phil Pennock" on Thu 3 Dec 1998 (21:26 +0000)
Organisation: Organisation?  Here?  No, over there ---->
X-Disclaimer: Any views expressed in this message, where not explicitly
	attributed otherwise, are mine and mine alone.  Such views
	do not necessarily coincide with those of any organisation
	or company with which I am or have been affiliated.
X-Phase-of-Moon: The Moon is Waning Gibbous (99% of Full)
Resent-Message-ID: <"sDje8.0.BQ6.tM2Qs"@math>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/1959
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Typing away merrily, I produced the daft words:
> I wanted:
> % print ${(A)_::={1..10}}
> which would nicely leave $_ with the values, but _ is a readonly
> variable.  *sigh*

The docs for [zshexpn(1)/PARAMETER EXPANSION/Parameter Expansion Flags]
state:
   A   Create an array parameter with ${...:=...} or ${...::=...}.
       Assignment is made before sorting or padding.

However, this also works:
% print ${(A):-{1..10}}
since the null variable is unset.  Undocumented feature?

Be careful not to use:
% print ${(A)-{1..10}}
though as this uses $- (shell flags) and seems to silently drop the (A)
and the {1..10} ... almost as if it parses - twice, once as a variable
and once as 'if not set' which is untrue.

Curious.

I'm also tempted to rewrite some of my initialisation files as:
: ${(A)path::=/bin /usr/bin /wherever/bin}
just to cheer myself up.  *grin*
-- 
--> Phil Pennock ; GAT d- s+:+ a22 C++(++++) UL++++/I+++/S+++/H+ P++@ L+++
E-@ W(+) N>++ o !K w--- O>+ M V !PS PE Y+ PGP+ t-- 5++ X+ R !tv b++>+++ DI+ D+
G+ e+ h* r y?

