From zsh-workers-return-6158-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Apr 29 16:31:32 1999
Return-Path: <zsh-workers-return-6158-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 22712 invoked from network); 29 Apr 1999 16:31:31 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 29 Apr 1999 16:31:31 -0000
Received: (qmail 11489 invoked by alias); 29 Apr 1999 16:31:20 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 6158
Received: (qmail 11481 invoked from network); 29 Apr 1999 16:31:18 -0000
Message-Id: <9904291607.AA25422@ibmth.df.unipi.it>
To: zsh-workers@sunsite.auc.dk (Zsh hackers list)
Subject: Parameter substitution bug
Date: Thu, 29 Apr 1999 18:07:00 +0200
From: Peter Stephenson <pws@ibmth.df.unipi.it>

Can anybody explain this?

% cat tst
print $HOME/bin
print ~/bin
fdir='~/bin'
print ${~fdir}
setopt globsubst
print $fdir
% zsh -f ./tst
/home/user2/pws/bin
/home/user2/pws/bin
~/bin
~/bin

Why don't the last two give the same as the first two?  There's no rule
that says `parameter expansion doesn't work properly in non-interactive
shells', is there?  But it's there in 3.0.6-pre-2 as well, so maybe there's
something I'm just failing to understand.

-- 
Peter Stephenson <pws@ibmth.df.unipi.it>       Tel: +39 050 844536
WWW:  http://www.ifh.de/~pws/
Dipartimento di Fisica, Via Buonarroti 2, 56127 Pisa, Italy

