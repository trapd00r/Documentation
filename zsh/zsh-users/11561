From zsh-users-return-11561-mason-zsh=primenet.com.au@sunsite.dk Wed Jun 13 15:43:24 2007
Return-Path: <zsh-users-return-11561-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24046 invoked from network); 13 Jun 2007 15:43:22 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.1 (2007-05-02) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.1
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 13 Jun 2007 15:43:22 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 83001 invoked from network); 13 Jun 2007 15:43:16 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 13 Jun 2007 15:43:16 -0000
Received: (qmail 18069 invoked by alias); 13 Jun 2007 15:42:57 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 11561
Received: (qmail 17989 invoked from network); 13 Jun 2007 15:42:55 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 13 Jun 2007 15:42:55 -0000
Received: (qmail 79899 invoked from network); 13 Jun 2007 15:42:54 -0000
Received: from vms046pub.verizon.net (206.46.252.46)
  by a.mx.sunsite.dk with SMTP; 13 Jun 2007 15:42:50 -0000
Received: from torch.brasslantern.com ([71.116.90.58])
 by vms046.mailsrvcs.net (Sun Java System Messaging Server 6.2-6.01 (built Apr
 3 2006)) with ESMTPA id <0JJK00AP9ZMZAYU4@vms046.mailsrvcs.net> for
 zsh-users@sunsite.dk; Wed, 13 Jun 2007 10:42:36 -0500 (CDT)
Received: from torch.brasslantern.com (localhost.localdomain [127.0.0.1])
	by torch.brasslantern.com (8.13.1/8.13.1) with ESMTP id l5DFgYeC016951	for
 <zsh-users@sunsite.dk>; Wed, 13 Jun 2007 08:42:35 -0700
Received: (from schaefer@localhost)	by torch.brasslantern.com
 (8.13.1/8.13.1/Submit) id l5DFgYKw016950	for zsh-users@sunsite.dk; Wed,
 13 Jun 2007 08:42:34 -0700
Date: Wed, 13 Jun 2007 08:42:34 -0700
From: Bart Schaefer <schaefer@brasslantern.com>
Subject: Re: Complex forms deprecated?
In-reply-to: <466FAB58.5090103@ulpmm.u-strasbg.fr>
To: zsh-users@sunsite.dk
Message-id: <070613084234.ZM16949@torch.brasslantern.com>
MIME-version: 1.0
X-Mailer: OpenZMail Classic (0.9.2 24April2005)
Content-type: text/plain; charset=us-ascii
References: <20070611144016.GB5245@localhost.localdomain>
	<466FAB58.5090103@ulpmm.u-strasbg.fr>
Comments: In reply to Marc Chantreux <marc.chantreux@ulpmm.u-strasbg.fr>
 "Re: Complex forms deprecated?" (Jun 13, 10:31am)

On Jun 13, 10:31am, Marc Chantreux wrote:
} 
} > I would like to know if the alternate forms for complex commands
} > (cf. zshmisc) are really deprecated as mentionned, and if they are
} > really supposed to be removed some day.
} 
} Deprecated ? but why ? i always thought that the stoneage syntax will be 
} deprecated some day!

As is often the case, the answer to "why?" is a history lesson.

Back in the dawn of time (that would be around 1990), zsh was created
to be a shell that had all the interactive advantages of csh and all
the scripting advantages of the Bourne shell.  It therefore had a mix
of the syntax of both, but made no special effort to be 100% compatible
with either of them.

Skip ahead a few years.  Paul Falstad is no longer at Princeton [1] and
no longer has an active role in maintaining zsh.  At the same time, the
POSIX standard has begun to be widely accepted and the Korn shell is
spreading through the commercially-available UNIX platforms.  Both of
these enshrine the "stoneage" Bourne shell syntax as The Standard, with
a smaller number of extensions but some that zsh doesn't have. [2]

In this context, the group that had taken over zsh from Paul decided [3]
that the thing to do was to abandon the "obsolete" csh syntax and become
a Korn shell clone.  Options that had been named "csh_whatever" became
"csh_junkie_whatever" [4] and "glob_qual" became "bare_glob_qual" and
so on.  The manual was reoganized to separate the non-POSIXy syntax into
its own section and parts were marked as deprecated.  Other assorted
changes were begun that would eventually lead to the "emulate" command
and to POSIX compatibility when running as "sh". [5]

Skip ahead another few years.  Now Linux is beginning to explode and
has carried zsh with it into parts of the world it never saw before.
The leadership of the Zsh Development Group has changed from mostly
American college students and sysadmins to mostly European university
students and computer professionals.  The faction that was strongly
in favor of becoming a pure POSIX shell has moved on, and the major
development focus has shifted from shell syntax to the new completion
system and the dynamic module architecture.

This environment made the things that were different about zsh into
strengths rather than perceived weaknesses. [6]  The larger user base
made backward compatibility more important. [7]  Most zsh development
had been in the C code before, but now the biggest project was being
written in the shell language itself, and there wasn't any incentive
to keep fooling with the parser.  The plans to drop the "deprecated"
features evaporated, but there didn't seem to be any reason to update
the manual to restore them to their former status.

Which, after another skip of a few years, brings us to the present,
where the shell has mostly stabilized, the development group is led
almost entirely by computer professionals, [8] the focus is on
cleaning up the messes left by the previous 15 years, and it requires
500 words to answer a one-word question. [9]


[1] In fact, he was working for me at Z-Code Software.
[2] And in some cases still doesn't have, in large part because of
    internal code structure from the original implementation that
    doesn't lend itself to the ksh extension style.
[3] I objected to this decision.
[4] Only "addicts" would insist on using csh syntax, you see.
[5] So it wasn't all bad.
[6] From my admittedly subjective viewpoint, see [3].
[7] You can make people reconfigure their MP3 player every time you
    upgrade it, but if you meddle with their shell they can't even
    log in.
[8] We need to get a few more students in here again, but they're
    all off programming in Java and Python.
[9] Somebody should add all this to the Zsh entry on Wikipedia.

