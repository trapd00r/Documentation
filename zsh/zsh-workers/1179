From ajc@unico.com.au Sun May 26 09:32:30 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by melb.werple.net.au (8.7.5/8.7.3) with ESMTP id JAA11511 for <mason@werple.mira.net.au>; Sun, 26 May 1996 09:32:28 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id TAA08734; Sat, 25 May 1996 19:14:37 -0400 (EDT)
Resent-Date: Sat, 25 May 1996 19:14:37 -0400 (EDT)
X-Authentication-Warning: perki.connect.com.au: Uunico set sender to ajc@ufo.dev.unico.com.au using -f
>Received: from ufo.unico.com.au (ufo [192.168.21.21]) by padre.dev.unico.com.au (8.7.5/8.7.3) with SMTP id JAA21598; Sun, 26 May 1996 09:01:47 +1000 (EST)
Message-Id: <199605252301.JAA04006@ufo.unico.com.au>
X-Mailer: exmh version 1.6.6 3/24/96
To: "Greg J. Badros" <gjb@moa.cs.duke.edu>
Cc: zsh-workers@math.gatech.edu
Subject: Re: Zsh "POSTPROMPT" Feature 
In-reply-to: gjb's message of Sat, 25 May 1996 13:20:22 -0400.
             <Pine.SOL.3.93.960525130209.22483A-200000@moa.cs.duke.edu> 
From: Andrew J Cosgriff <ajc@unico.com.au>
X-Attribution: ajc
X-URI: <URL:http://netspace.net.au/~ajc>
X-Face: PBPJ+.AE`FBN4$}H<dIo+^`A-G%mJTXXP$^4bBox##5=oF{G\[:0|sNlr%~H1,>
 rwwEh<qq.dHRpu8ftJ\'14l]<x(nRD>J)x?-5$MQ%Z)svNR@Q\WG6[GDr,}a@8ULwGWBsk,Pqxm!Z<lnD(Skwwe$j+<0g6N6z}>-
Mime-Version: 1.0
Date: Sun, 26 May 1996 09:01:21 +1000
Sender: ajc@ufo.dev.unico.com.au
Content-Type: text/plain; charset=us-ascii
Resent-Message-ID: <"tn7Uk1.0.O82.SHvfn"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/1179
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu
Content-Length: 1125
Status: OR


"Greg J. Badros" <gjb@moa.cs.duke.edu> wrote:
>  One feature that I've not seen talked about but that would be useful
>(mostly in an X environment) is the addition of a POSTPROMPT variable.  I
>have patches for zsh-2.5.03 that implement this, and then my .zshrc sets 
>my POSTPROMPT to
>{%^[]0;%H^G%}
>(Where ^[ is ESC, ^G is Ctrl-G-- the xterm sequence for setting the title
>and icon). [The %H is a change to print the last/current history item].

Well, if you just want to keep track of your current directory in your title bar, there's no need to patch zsh...For a start it's a little more efficient to only change your xterm title when you need to - ie. when you change directory - this can be done with the "chpwd" function, like so :

chpwd () {
        local dir=`print -D ${PWD}`
        local title=${LOGNAME}@$(uname -n):$dir
        print -n -D -P "\033]2;${title}\007"
}

Enjoy,
 Andrew.
-- 
 - Andrew J Cosgriff - ajc@bing.wattle.id.au -          Mobile : +61-14-856-122
 SysAdmin / Support Dude, UNICO Computer Systems    PGP & MIME ok and preferred
                        "Your future is encoded in Pi."




