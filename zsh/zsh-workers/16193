From zsh-workers-return-16193-mason-zsh=primenet.com.au@sunsite.dk Tue Oct 30 17:13:34 2001
Return-Path: <zsh-workers-return-16193-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18601 invoked from network); 30 Oct 2001 17:13:34 -0000
Received: from ns2.primenet.com.au (HELO primenet.com.au) (?sm5As3VCGb6vC3XeOe8T6voonHb1kkpt?@203.24.36.3)
  by ns1.primenet.com.au with SMTP; 30 Oct 2001 17:13:34 -0000
Received: (qmail 2072 invoked from network); 30 Oct 2001 17:13:32 -0000
Received: from sunsite.dk (130.225.247.90)
  by proxy.melb.primenet.com.au with SMTP; 30 Oct 2001 17:13:32 -0000
Received: (qmail 5601 invoked by alias); 30 Oct 2001 17:13:18 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 16193
Received: (qmail 5571 invoked from network); 30 Oct 2001 17:13:16 -0000
X-VirusChecked: Checked
Sender: kiddleo@cav.logica.co.uk
Message-ID: <3BDEDD43.8FE151A9@yahoo.co.uk>
Date: Tue, 30 Oct 2001 17:02:59 +0000
From: Oliver Kiddle <okiddle@yahoo.co.uk>
X-Mailer: Mozilla 4.77 [en] (X11; U; Linux 2.2.15 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: zsh-workers@sunsite.dk
Subject: Re: printf
References: <12895.1004460115@csr.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Peter Stephenson wrote:
> 
> Ideally, you should fcvt(), gcvt() and ecvt(), which handle locales as well
> as hiding the details of the conversion.  They are almost certainly widely
> enough available to make it worth getting configure to detect them.
> Unfortunately, you still need a fallback --- maybe the current set of
> fudges using printf(3) is enough for that.

They don't seem to offer anything which sprintf(3) doesn't already so I
couldn't add the extra features with these. The man page on Linux says
that they are obsolete even.

Also, I don't think we should be handling locales unless asked to with a
flag because it is common for programs to need input which isn't in a
local format.

I could update convfloat() etc to just use sprintf() more easily and
with just as good results. With that, I could support -s and -z but not
the other extras which is why I thought about doing the conversion
entirely manually.

Oliver

_____________________________________________________________________
This message has been checked for all known viruses by the 
MessageLabs Virus Scanning Service. For further information visit
http://www.messagelabs.com/stats.asp

