From zsh-workers-return-18950-mason-zsh=primenet.com.au@sunsite.dk Wed Aug 20 11:08:56 2003
Return-Path: <zsh-workers-return-18950-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10209 invoked from network); 20 Aug 2003 11:08:55 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 20 Aug 2003 11:08:55 -0000
Received: (qmail 12243 invoked by alias); 20 Aug 2003 11:08:49 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 18950
Received: (qmail 12234 invoked from network); 20 Aug 2003 11:08:49 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 20 Aug 2003 11:08:49 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [216.136.130.99] by sunsite.dk (MessageWall 1.0.8) with SMTP; 20 Aug 2003 11:8:48 -0000
Message-ID: <20030820110847.59173.qmail@web10407.mail.yahoo.com>
Received: from [158.252.218.97] by web10407.mail.yahoo.com via HTTP; Wed, 20 Aug 2003 04:08:47 PDT
Date: Wed, 20 Aug 2003 04:08:47 -0700 (PDT)
From: Felix Rosencrantz <f_rosencrantz@yahoo.com>
Subject: Re: PATCH: perforce completion problems: doesn't use supplied p4 flags 
To: zw <zsh-workers@sunsite.dk>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

> I've made it use all of them, let me know if this causes problems.
> (Hmm, it shouldn't use -x or -G, but those aren't common interactively
> and you can't complete for -x anyway, and it shouldn't use -V, but you
> can't complete for that either.)

That will cause problems.  Sometimes I use "-G" from the command line, I
use/test it with a python filter.   (btw -x seems broken to me, not the
completer, the command.)  Also, the "-Ztag" flag changes the  output format,
which is likely to cause problems for the completer.

> > Also the completer doesn't complete the "p4 -Ztag"  flag.
>
> I can't find any documentation for this, it's either old or only used
> with a subset of commands.
Not particularlly documented, except through the wonders of Google. :) It
changes the output format on some commands, which can sometimes be useful with
a grep.  Also, there is -vrpc, but I haven't found that particularly useful.

Though, I think this change will help quite a bit as it is.  Thanks Peter.
-FR.
--- Felix Rosencrantz <f_rosencrantz@yahoo.com> wrote:
> The p4 completer doesn't seem to use the p4 flags provided to do completion.
> 
> For example if I do a:  "p4 -p perforce_host2:1666 client <TAB>"
> It doesn't make use of the -p flag when trying to do completions for possible
> clients.  It uses the default.  There are other flags that should also be
> carried along when generating completions for some items like user/password.
> 
> Also the completer doesn't complete the "p4 -Ztag"  flag.
> 
> -FR.
> 
> __________________________________
> Do you Yahoo!?
> Yahoo! SiteBuilder - Free, easy-to-use web site design software
> http://sitebuilder.yahoo.com
> 


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

