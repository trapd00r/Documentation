From zsh-workers-return-15124-mason-zsh=primenet.com.au@sunsite.dk Wed Jun 27 13:22:38 2001
Return-Path: <zsh-workers-return-15124-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2034 invoked from network); 27 Jun 2001 13:22:36 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 27 Jun 2001 13:22:36 -0000
Received: (qmail 2951 invoked by alias); 27 Jun 2001 13:21:45 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 15124
Received: (qmail 2936 invoked from network); 27 Jun 2001 13:21:45 -0000
Date: Wed, 27 Jun 2001 16:22:28 +0300 (EET DST)
From: Timo Aaltonen <tjaalton@cc.hut.fi>
X-Sender: tjaalton@tiku.hut.fi
To: ZSH Workers Mailing List <zsh-workers@sunsite.dk>
Subject: Re: Y03 hangs on AIX
In-Reply-To: <003901c0ff09$fdd95080$21c9ca95@mow.siemens.ru>
Message-ID: <Pine.OSF.4.10.10106271609110.12353-100000@tiku.hut.fi>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Wed, 27 Jun 2001, Andrej Borsenkow wrote:

> >
> > > >
> > > > It gave me the term.h/boolcodes -error.. maybe terminfo could
> > be left as a
> > > > module?
> > > >
> > >
> > > Ahh ... no, it is the same problem. I just realized, it won't work with
> > > LIBS=-ltermcap as well because we currently prefer
> > term.h/curses.h if they
> > > exist.
> >
> > Actually, I compiled the whole thing with just LIBS=-ltermcap defined,
> > didn't comment out those modules and it passed the compilation...
> 
> Umm ... ashamed :-( anyway, I guessed the correct result :-)
> 
> but make
> > check hung on test Y03...
> >
> 
> I think we had one more report ... could you run
> 
> ZTST_verbose=2 make TESTNUM=Y03 check?

theremin zsh-4.0.2 369 % ZTST_verbose=2 make TESTNUM=Y03 check
        cd Test ; make check
        if test -n "cc -qlanglvl=ansi"; then  cd .. &&  make
MODDIR=`pwd`/Test/Modules install.modules > /dev/null;  fi
    1500-030: (I) INFORMATION: bin_zformat: Additional optimization may be
attained by recompiling and specifying MAXMEM option with a value greater
than 2048.
        for f in ./Y03*.ztst; do  ../Src/zsh +Z -f ./ztst.zsh $f;  done
./Y03arguments.ztst: starting.
ZTST_getsect: read section name: prep
ZTST_getchunk: read code chunk:
  . $ZTST_srcdir/comptest
ZTST_execchunk: status 0
ZTST_getchunk: read code chunk:
  mkdir comp.tmp
  cd comp.tmp
ZTST_execchunk: status 0
ZTST_getchunk: read code chunk:
  comptestinit -z $ZTST_testdir/../Src/zsh
  comptesteval 'compdef _tst tst'
  tst_arguments () { comptesteval "_tst () { _arguments ${${(@qq)*}} }" }
ZTST_execchunk: status 0
ZTST_getchunk: read code chunk:

ZTST_getsect: read section name: test
ZTST_test: looking for new test
ZTST_test: examining line:
 tst_arguments ':desc1:(arg1)'
ZTST_getchunk: read code chunk:
 tst_arguments ':desc1:(arg1)'
 comptest $'tst \t\C-wa\t\C-war\t\C-warg\t\C-warg1\t\C-wr\t\C-wx\t \ty \t'
ZTST_test: examining line:
>line: {tst arg1 }{}
ZTST_getredir: read redir for '>':
line: {tst arg1 }{}
line: {tst arg1 }{}
line: {tst arg1 }{}
line: {tst arg1 }{}
line: {tst arg1 }{}
line: {tst r}{}
line: {tst x}{}
line: {tst x }{}
MESSAGE:{no more arguments}
line: {tst x y }{}
MESSAGE:{no more arguments}
ZTST_test: examining line:

Running test: one non-option argument
ZTST_test: expecting status: 0
ZTST_execchunk: status 0
ZTST_test: test produced standard output:
line: {tst arg1 }{}
line: {tst arg1 }{}
line: {tst arg1 }{}
line: {tst arg1 }{}
line: {tst arg1 }{}
line: {tst r}{}
line: {tst x}{}
line: {tst x }{}
MESSAGE:{no more arguments}
line: {tst x y }{}
MESSAGE:{no more arguments}
ZTST_test: and standard error:

Test successful.
ZTST_test: looking for new test
ZTST_test: examining line:

ZTST_test: examining line:
 tst_arguments ':desc1:(a b)'
ZTST_getchunk: read code chunk:
 tst_arguments ':desc1:(a b)'
 comptest $'tst \t'
ZTST_test: examining line:
>line: {tst }{}
ZTST_getredir: read redir for '>':
line: {tst }{}
DESCRIPTION:{desc1}
NO:{a}
NO:{b}
ZTST_test: examining line:

Running test: a and b
ZTST_test: expecting status: 0

...and that's as far as where it gets =(


> It was 4.0.2 or CVS?

4.0.2


_______________/Timo Aaltonen <http://www.hut.fi/~tjaalton>
Work: HUT-Computing Centre - UNIX,  GSM +358-40-5549 618


