From zsh-workers-return-6932-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Jun 29 17:23:19 1999
Return-Path: <zsh-workers-return-6932-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13533 invoked from network); 29 Jun 1999 17:23:18 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 29 Jun 1999 17:23:18 -0000
Received: (qmail 16902 invoked by alias); 29 Jun 1999 17:23:05 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 6932
Received: (qmail 16895 invoked from network); 29 Jun 1999 17:23:04 -0000
Message-Id: <9906291654.AA39775@ibmth.df.unipi.it>
To: zsh-workers@sunsite.auc.dk
Subject: Re: PATCH: make distclean 
In-Reply-To: "Sven Wischnowsky"'s message of "Tue, 29 Jun 1999 09:03:58 DFT."
             <199906290703.JAA19637@beta.informatik.hu-berlin.de> 
Date: Tue, 29 Jun 1999 18:54:24 +0200
From: Peter Stephenson <pws@ibmth.df.unipi.it>

Sven Wischnowsky wrote:
> Am I the only one, or can't you get it to work either? When I try
> `make distclean' make complains about `@make' being unknown -- there
> seems to be a misplaced `@'. And when I try `./configure; make distclean' 
> it doesn't work because in the Src directory this need the file
> modules.index but it doesn't have a dependency for it.

I'd just discovered this, too, but there is a further problem with `make
clean' (didn't try make distclean), in that there's a dependency in Makemod
to remake it every times it's used (or at least that's what GNU make does
when it sees the effect of

Makemod: Makemod.in

inside Makemod).  Hence make clean always tries to make Makemod even when
it's only used via `make -f Makemod' and doesn't appear as a dependency in
Makefile.  I thought maybe the solution was to remove Makemod and
Makemod.in after `make clean', since they get made by make rather than
configure.  But maybe there's a better way.

-- 
Peter Stephenson <pws@ibmth.df.unipi.it>       Tel: +39 050 844536
WWW:  http://www.ifh.de/~pws/
Dipartimento di Fisica, Via Buonarroti 2, 56127 Pisa, Italy

