From zsh-workers-return-16800-mason-zsh=primenet.com.au@sunsite.dk Mon Mar 11 11:27:10 2002
Return-Path: <zsh-workers-return-16800-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8744 invoked from network); 11 Mar 2002 11:27:10 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 11 Mar 2002 11:27:10 -0000
Received: (qmail 15486 invoked by alias); 11 Mar 2002 11:27:05 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 16800
Received: (qmail 15474 invoked from network); 11 Mar 2002 11:27:04 -0000
X-VirusChecked: Checked
Date: Mon, 11 Mar 2002 11:26:06 +0000
From: Oliver Kiddle <okiddle@yahoo.co.uk>
To: Bart Schaefer <schaefer@brasslantern.com>
Cc: zsh-workers@sunsite.dk
Subject: Re: PATCH: _netcat
Message-ID: <20020311112606.GA20670@logica.com>
References: <1020310222552.ZM26165@candle.brasslantern.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <1020310222552.ZM26165@candle.brasslantern.com>
User-Agent: Mutt/1.3.27i
Sender: Oliver Kiddle <kiddleo@logica.com>

On Sun, Mar 10, 2002 at 10:25:51PM +0000, Bart Schaefer wrote:
> } nc conflicts with _nedit.  On Debian this isn't an issue
> } (nedit's nc is distributed as nedit-nc), so the compdef
> } line in _nedit can be changed accordingly.

Argh. I knew this would happen sooner or later and was hoping nobody
would write an _netcat.

> The one thing we *can't* do is leave `#compdef nc' in *both* of them, as

Agreed.

> #compdef -p *X*/nc
> _nedit "$@"

I don't really like that. I tend to have nc in ~/bin or /usr/local
because distributions tend to link nedit against lesstif instead of real
motif and because I often have newer versions out of cvs.
Admittedly, I can work around it with a compdef in my .zshrc but I don't
like that.

What I would suggest is that we use something like the is_gnu tests in
_netcat which runs nc -h and looks for something like *connect*.
_netcat can then call _nedit if appropriate.

I also think it would be pertinent to rename _is_gnu to something like
_cmd_variant and use the value gnu instead of yes. Does that sound
reasonable?

> Then we'd change the #compdef in _nedit to read
> 
> #compdef nedit nedit-nc

Mandrake uses ncl. If anyone has SuSE, could they please check what it
does. I'm fairly unsure but I think they used `netcat' for netcat.
Certainly, I don't remember having problems with the name clash when I
used it.

I'll also check what is going on in the latest nedit cvs because a few
months ago there was a discussion about renaming nc to nedit and nedit
to nedit-server or of making the main nedit program act as a server by
default.

Oliver

This e-mail and any attachment is for authorised use by the intended recipient(s) only.  It may contain proprietary material, confidential information and/or be subject to legal privilege.  It should not be copied, disclosed to, retained or used by, any other party.  If you are not an intended recipient then please promptly delete this e-mail and any attachment and all copies and inform the sender.  Thank you.

