From zsh-workers-return-21342-mason-zsh=primenet.com.au@sunsite.dk Wed Jun 15 09:44:48 2005
Return-Path: <zsh-workers-return-21342-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4971 invoked from network); 15 Jun 2005 09:44:46 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 15 Jun 2005 09:44:46 -0000
Received: (qmail 5373 invoked from network); 15 Jun 2005 09:44:39 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 15 Jun 2005 09:44:39 -0000
Received: (qmail 26678 invoked by alias); 15 Jun 2005 09:44:36 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 21342
Received: (qmail 26646 invoked from network); 15 Jun 2005 09:44:35 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 15 Jun 2005 09:44:35 -0000
Received: (qmail 4756 invoked from network); 15 Jun 2005 09:44:34 -0000
Received: from wproxy.gmail.com (64.233.184.199)
  by a.mx.sunsite.dk with SMTP; 15 Jun 2005 09:44:29 -0000
Received: by wproxy.gmail.com with SMTP id 69so1682526wra
        for <zsh-workers@sunsite.dk>; Wed, 15 Jun 2005 02:44:28 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=PLyeozwdH+b8EzU87h4IpQTwLl+sFGYbaz+35KcT51SmpR/+Ktoc0IUubOMakpOyYvmWrljg2Qks1ud1VBvQpn2KX5z3P36h8o0kzosj1ncLPzSrjijST9KLdXvqWduNKaW6CcptnTXw3L5xQnaFqxCu/aT9f+/YxauEUAwCGu4=
Received: by 10.54.40.43 with SMTP id n43mr1878909wrn;
        Wed, 15 Jun 2005 02:44:28 -0700 (PDT)
Received: by 10.54.37.58 with HTTP; Wed, 15 Jun 2005 02:44:28 -0700 (PDT)
Message-ID: <cf7bbda90506150244405e0ec0@mail.gmail.com>
Date: Wed, 15 Jun 2005 11:44:28 +0200
From: Ulf Magnusson <ulfalizer@gmail.com>
Reply-To: Ulf Magnusson <ulfalizer@gmail.com>
To: zsh-workers@sunsite.dk
Subject: Auto-insertion of quotes when completing
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.4 required=6.0 tests=AWL,BAYES_00,RCVD_BY_IP 
	autolearn=ham version=3.0.2
X-Spam-Hits: -2.4

I'm writing a completion for xmms that allows me to complete among all
my music files from the command line. The script that invokes xmms is
called mu, and is used like this:

mu Foo<TAB>  ->  mu Fooband\ -\ B<TAB>  ->  mu Fooband\ -\ Barsong

I often prefer to quote the argument to mu, because it looks better
and makes it easier to chose among files whose names contain funny
characters. That is:

mu "Foo<TAB>  ->  mu "Fooband - B<TAB>  ->  mu "Fooband - Barsong"
(I chose " instead of ' since ' is a more common character in my
files' names, and \" looks better than '\'' anyway)

I was wondering if there is some way to have the completion
automatically quoted when I first press tab, so that the following
would work:

mu Foo<TAB>  ->  mu "Fooband - B<TAB>  ->  etc.

The normal auto-quoting of " when pressing tab should of course still
apply, so the following should be handled correctly:

mu Thi<TAB>  ->  mu "This song's name has a \" in it"

Is there some (easy) way to do this?

Ulf

