From zsh-workers-request@euclid.skiles.gatech.edu  Tue Nov 12 05:43:04 1996
Return-Path: zsh-workers-request@euclid.skiles.gatech.edu
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by coral.primenet.com.au (8.7.5/8.7.3) with ESMTP id FAA17840 for <mason@primenet.com.au>; Tue, 12 Nov 1996 05:43:01 +1100 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id NAA15904; Mon, 11 Nov 1996 13:33:25 -0500 (EST)
Resent-Date: Mon, 11 Nov 1996 13:33:25 -0500 (EST)
Message-Id: <199611111830.SAA06601@aoife.indigo.ie>
Comments: Authenticated sender is <pmurray@mail.indigo.ie>
From: "Paul Murray" <pmurray@indigo.ie>
To: zsh-workers@math.gatech.edu
Date: Mon, 11 Nov 1996 18:33:51 +0
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: 7BIT
Subject: BUG: su to root
Reply-to: pmurray@poboxes.com
X-Confirm-Reading-To: pmurray@poboxes.com
Priority: normal
X-mailer: Pegasus Mail for Windows (v2.42a)
Resent-Message-ID: <"oN2Bc2.0.Pu3.q5tXo"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/2373
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Problem:

When doing su to root my zsh_histroy file is set to zero and the 
owner of the file is set to root.

This problem has been occuring in the last few versions of zsh

Output of reporter:

# START zsh saveset
# uname:  AIX ibm 2 3 000227274700

# Aliases.

alias -g dba=dbaccess
alias run-help=man
alias which-command=whence

# Key bindings.

bindkey -r "^@"
bindkey -r "^D"
bindkey -r "^E"
bindkey -r "^F"
bindkey -r "^G"
bindkey -r "^H"
bindkey -r "^I"
bindkey -r "^J"
bindkey -r "^K"
bindkey -r "^L"
bindkey -r "^M"
bindkey -r "^Q"
bindkey -r "^R"
bindkey -r "^S"
bindkey -r "^T"
bindkey -r "^U"
bindkey -r "^V"
bindkey -r "^W"
bindkey -r "\e"
bindkey -r "^?"
bindkey -r "\e"
bindkey -r "\e[A"
bindkey -r "\e[B"
bindkey -r "\e[C"
bindkey -r "\e[D"

bindkey "^@"	undefined-key
bindkey "^D"	list-choices
bindkey "^E"	self-insert
bindkey "^F"	self-insert
bindkey "^G"	list-expand
bindkey "^H"	vi-backward-delete-char
bindkey "^I"	expand-or-complete
bindkey "^J"	accept-line
bindkey "^K"	self-insert
bindkey "^L"	clear-screen
bindkey "^M"	accept-line
bindkey "^Q"	vi-quoted-insert
bindkey "^R"	redisplay
bindkey "^S"	self-insert
bindkey "^T"	self-insert
bindkey "^U"	vi-kill-line
bindkey "^V"	vi-quoted-insert
bindkey "^W"	vi-backward-kill-word
bindkey "\e"	prefix
bindkey "^?"	backward-delete-char
bindkey "\e"	vi-cmd-mode
bindkey "\e[A"	up-line-or-history
bindkey "\e[B"	down-line-or-history
bindkey "\e[C"	forward-char
bindkey "\e[D"	backward-char

# Completions.

compctl -b bindkey
compctl -c builtin
compctl -v export
compctl -o setopt
compctl -v typeset
compctl -v unset
compctl -o unsetopt
compctl -v vared
compctl -c which
compctl -C -c
compctl -D -f
compctl -T

# Undefined functions.


# Defined functions.


# Limits.

limit filesize        1023MB
limit datasize        128MB
limit stacksize       32MB
limit coredumpsize    0kB
limit resident        32MB

# Non-array variables.

TERMCAP='/usr/ibis/etc/termcap'
TERM='ansi'
\'#\'="1"
\'$\'="18140"
\'?\'="0"
ARGC="1"
AWK="awk"
BAUD="0"
CDPATH="\'\'"
COLUMNS="80"
CPP="/lib/cpp"
EDITOR="nvim"
EGID="200"
ERRNO="0"
EUID="200"
EXINIT="\'so /usr/paul/viopts\'"
FCEDIT="vi"
FIGNORE="\'\'"
FPATH="\'\'"
GID="200"
HISTCHARS="\'!^#\'"
HISTFILE="/usr/paul/.zsh_history"
HISTSIZE="600"
HOME="/usr/paul"
HOST="ibm"
KEYTIMEOUT="40"
LANG="En_GB"
LESS="-S"
LINENO="329"
LINES="24"
LISTMAX="100"
LOCPATH="/usr/lib/nls/loc"
LOGCHECK="60"
LOGNAME="paul"
MACHTYPE="rs6000"
MAILCHECK="60"
MAILPATH="\'\'"
MANPATH="\'\'"
NLSPATH="/usr/lib/nls/msg/%L/%N:/usr/lib/nls/msg/prime/%N"
NULLCMD="cat"
ODMDIR="/etc/objrepos"
OLDPWD="/usr/paul/zsh-3.0.1/Util"
OPTARG="\'\'"
OPTIND="1"
OSTYPE="aix3.2.5"
PAGER="/usr/ibis/bin/less"

PATH="/usr/bin:/etc:/usr/sbin:/usr/ucb:/usr/bin/X11:/sbin:/usr/ibis/bin:/usr/ibis/etc"
POSTEDIT="\'\'"
PPID="24614"
PROMPT="\'%m%d >\'"
PROMPT2="\'\'"
PROMPT3="\'?# \'"
PROMPT4="\'+ \'"
PS1="\'%m%d >\'"
PS2="\'\'"
PS3="\'?# \'"
PS4="\'+ \'"
PSVAR="\'\'"
PWD="/usr/paul/zsh-3.0.1/Util"
RANDOM="23886"
READNULLCMD="more"
RPROMPT="\'\'"
RPS1="\'\'"
SECONDS="6"
SHELL="/usr/ibis/bin/zsh"
SHLVL="2"
SPROMPT="\'zsh: correct \'\\'\'%R\'\\'\' to \'\\'\'%r\'\\'\' [nyae]? 
\'"
TIMEFMT="\'%J  %U user %S system %P cpu %*E total\'"
TMPPREFIX="/tmp/zsh"
TTY="/dev/pts/0"
TTYIDLE="-1"
TZ="GMT0BST"
UID="200"
USER="paul"
USERNAME="paul"
VENDOR="ibm"
VIMINIT="\'so /usr/paul/.vimrc\'"
VISUAL="nvim"
WATCH="\'\'"
WATCHFMT="\'%n has %a %l from %m.\'"
WORDCHARS="\'*?_-.[]~=/&;!#$%^(){}<>\'"
ZDOTDIR="/usr/paul"
ZSH_NAME="zsh"
ZSH_VERSION="3.0.1"
each="/usr/bin"
histchars="\'!^#\'"
reporter_OSVersion="AIX_2"
reporter_junkiequotes="no"
status="0"
str="\'AIX ibm 2 3 000227274700\'"
prompt='test%'

# Array variables.

argv=()
'*'=(all)
cdpath=()
fignore=()
fpath=()
mailpath=()
manpath=()
path=(/usr/bin /etc /usr/sbin /usr/ucb /usr/bin/X11 /sbin 
/usr/ibis/bin /usr/ibis/etc)
psvar=()
signals=(EXIT HUP INT QUIT ILL TRAP ABRT EMT FPE KILL BUS SEGV SYS 
PIPE ALRM TERM URG STOP TSTP CONT CHLD TTIN TTOU IO XCPU XFSZ 26 MSG WINCH PWR USR1 USR2 PROF DANGER VTALRM MIGRATE PRE VIRT ZERR DE
BUG)
watch=()

# Exported variables.

export TERMCAP
export TERM
export EDITOR=nvim
export EXINIT='so /usr/paul/viopts'
export HISTFILE=/usr/paul/.zsh_history
export HISTSIZE=600
export HOME=/usr/paul
export LANG=En_GB
export LESS=-S
export LOCPATH=/usr/lib/nls/loc
export LOGNAME=paul
export NLSPATH=/usr/lib/nls/msg/%L/%N:/usr/lib/nls/msg/prime/%N
export ODMDIR=/etc/objrepos
export PAGER=/usr/ibis/bin/less
export 
PATH=/usr/bin:/etc:/usr/sbin:/usr/ucb:/usr/bin/X11:/sbin:/usr/ibis/bin:/usr/ibis/etc
export PROMPT='%m%d >'
export PWD=/usr/paul/zsh-3.0.1/Util
export SHELL=/usr/ibis/bin/zsh
export SHLVL=2
export TERM=ansi
export TZ=GMT0BST
export USER=paul
export VIMINIT='so /usr/paul/.vimrc'
export VISUAL=nvim
export ZDOTDIR=/usr/paul

# Setopt.


# END zsh saveset

Regards,
Paul Murray
pmurray@poboxes.com
pmurray@indigo.ie

