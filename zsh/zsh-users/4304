From zsh-users-return-4304-mason-zsh=primenet.com.au@sunsite.dk Mon Oct 01 07:09:41 2001
Return-Path: <zsh-users-return-4304-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 21891 invoked from network); 1 Oct 2001 07:09:40 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 1 Oct 2001 07:09:40 -0000
Received: (qmail 1231 invoked by alias); 1 Oct 2001 07:09:27 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4304
Received: (qmail 1217 invoked from network); 1 Oct 2001 07:09:26 -0000
Date: Mon, 1 Oct 2001 03:08:12 -0400
From: Sweth Chandramouli <svc@sweth.net>
To: zsh-users@sunsite.dk
Subject: Re: get the number of active jobs to show in the prompt?
Message-ID: <20011001030812.B4822@astaroth.sweth.net>
Mail-Followup-To: zsh-users@sunsite.dk
References: <200110010600.f9160iq10821@bang.houseoflove> <20011001021221.A4623@astaroth.sweth.net> <20011001083758.A12916@globnix.org>
Mime-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-md5;
	protocol="application/pgp-signature"; boundary="pf9I7BMVVzbSWLtt"
Content-Disposition: inline
User-Agent: Mutt/1.2.5i
In-Reply-To: <20011001083758.A12916@globnix.org>


--pf9I7BMVVzbSWLtt
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

On Mon, Oct 01, 2001 at 08:37:58AM +0200, Phil Pennock wrote:
> The key thing is the %(2v:+:-)  --  psvar[2] was set depending upon
> whether or not there are background jobs, %(2v:+:-) therefore gives a
> '+' if there are background jobs, or a '-' if not.
	The difference between this and the OP's request being
that you only know if there are backgrounded jobs, and not how many
there are.  Maybe it would be nice to be able to invoke jobs with a
process group leader argument, in which case it would (if perms were
correct, of course) show the job list for the shell with that PID,
rather than the current shell, so that people could do something
like

PS1=3D"[$(jobs -P $$ | wc -l)]rest_of_prompt"

	?  (Actually, it would probably be better to just add a
% macro for "number of current jobs", though I don't think it's really
important enough to warrant either.)

	-- Sweth.

--=20
Sweth Chandramouli ; <svc@sweth.net>
President, Idiopathic Systems Consulting

--pf9I7BMVVzbSWLtt
Content-Type: application/pgp-signature
Content-Disposition: inline

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.6 (SunOS)
Comment: For info see http://www.gnupg.org

iEYEARECAAYFAju4FlsACgkQDm6vx6GSHll5GwCg3L0shaCgAcGr2X6XoSJ9E/fK
6P0AoIWBqXnHx9wF68Gh5zCL5y5um6Ae
=GSyN
-----END PGP SIGNATURE-----

--pf9I7BMVVzbSWLtt--

