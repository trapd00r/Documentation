From zsh-workers-return-12990-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Oct 12 20:45:21 2000
Return-Path: <zsh-workers-return-12990-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5931 invoked from network); 12 Oct 2000 20:45:20 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 12 Oct 2000 20:45:20 -0000
Received: (qmail 13219 invoked by alias); 12 Oct 2000 20:44:48 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 12990
Received: (qmail 13211 invoked from network); 12 Oct 2000 20:44:48 -0000
Sender: gray@mail2.lycos.com
Message-ID: <39E62288.BE76D77F@lycos-inc.com>
Date: Thu, 12 Oct 2000 16:43:52 -0400
From: Gray Watson <gwatson@lycos-inc.com>
Organization: Lycos Inc.
X-Mailer: Mozilla 4.72 [en] (X11; U; Linux 2.2.14-5.0 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: zsh-workers@sunsite.auc.dk
Subject: zsh 3.1.9 problem debugging linux threads
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Sorry if this is a known problem.  I didn't see any mention in the FAQ
or the known bugs list.

I cannot debug threaded programs under Linux RH6.2 with gdb:

	> gdb a.out
	GNU gdb 19991004
	...
	(gdb) run
	Starting program: 	
	zsh: 30840 suspended (tty output)  gdb intel_redhat_6_2/cmd
        Exit 22
	> fg
        [1]  - continued  gdb intel_redhat_6_2/cmd
        [New Thread 30841 (initial thread)]
        [New Thread 30846]

        Program received signal SIGTTOU, Stopped (tty output).
        0x4011ab14 in __libc_write () from /lib/libc.so.6

Gdb suspends itself without any keystrokes from mine.  If I log in under
another shell, I have no problems.  Wierd huh?  Thought sure I had a
kernel, egcs, libc, gdb, etc. problem but no.  Definately a problem with
zsh 3.1.6 + 3.1.9.

I'm guessing that zsh is trapping the signals that are generated by the
the pthreads library calls under linux.

Please send me mail with ideas on how to fix this.  Thanks.
-- 
Gray Watson <gwatson@lycos-inc.com>

