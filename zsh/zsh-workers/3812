From zsh-workers-request@math.gatech.edu Tue Mar 24 17:26:22 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 1025 invoked from network); 24 Mar 1998 17:26:20 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 24 Mar 1998 17:26:20 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id MAA28201;
	Tue, 24 Mar 1998 12:20:04 -0500 (EST)
Resent-Date: Tue, 24 Mar 1998 12:20:04 -0500 (EST)
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <980324091918.ZM6728@candle.brasslantern.com>
Date: Tue, 24 Mar 1998 09:19:18 -0800
X-Mailer: Z-Mail (4.0b.820 20aug96)
To: zsh-workers@math.gatech.edu
Subject: Weird bug with "bindkey" in a function
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Resent-Message-ID: <"DqemU.0.Xu6.3j-5r"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3812
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

I was playing around with something and wrote the following little
function:

bindfoo () {
        bindkey -v
        bindkey "[A" up-line-or-history
        bindkey "[B" down-line-or-history
        bindkey "[C" forward-char
        bindkey "[D" backward-char
        bindkey -r '\e[A'
        bindkey -r '\e[B'
        bindkey -r '\e[C'
        bindkey -r '\e[D'
        bindkey
        bindkey -e
}

The weird thing is, if any of the "bindkey" commands in that function fails
(e.g. with "bindkey: in-string is not bound") then the ENTIRE FUNCTION exits.

What the devil is up with that?

zsh 3.0.5

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

