From zsh-workers-request@math.gatech.edu  Wed Oct 11 04:08:49 1995
Received: from gatech.edu (gatech.edu [130.207.244.244]) by werple.net.au (8.7/8.7) with SMTP id EAA03199 for <mason@werple.mira.net.au>; Wed, 11 Oct 1995 04:08:45 +1000 (EST)
Received: from math (math.skiles.gatech.edu) by gatech.edu with SMTP id AA22801
  (5.65c/Gatech-10.0-IDA for <mason@werple.mira.net.au>); Tue, 10 Oct 1995 14:07:32 -0400
Received: by math (5.x/SMI-SVR4)
	id AA26122; Tue, 10 Oct 1995 14:04:01 -0400
Resent-Date: Tue, 10 Oct 1995 19:05:37 +0100 (MET)
Old-Return-Path: <hzoli@cs.elte.hu>
From: Zoltan Hidvegi  <hzoli@cs.elte.hu>
Message-Id: <199510101805.TAA00727@bolyai.cs.elte.hu>
Subject: Re: behaviour with rsh
To: carlos@snfep1.if.usp.br (Carlos Carvalho)
Date: Tue, 10 Oct 1995 19:05:37 +0100 (MET)
Cc: zsh-workers@math.gatech.edu (zsh-workers)
In-Reply-To: <199510101652.NAA06725@snfep1.if.usp.br> from "Carlos Carvalho" at Oct 10, 95 01:52:47 pm
X-Mailer: ELM [version 2.4 PL24]
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-Id: <"xiePQ1.0.4O6.GMhUm"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/436
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Carlos Carvalho wrote:
> 
> Hi folks,
> 
> This is with 2.6-beta10-hzoli10.3 on linux.
> 
> I used this command to open windows on other machines (line break for
> readability):
> 
> rsh -n <target machine> -- exec /usr/local/X11R5/bin/xterm
> -d <my machine>$DISPLAY -ls -T $1 '<&- >&- 2>&-'
> 
> The idea is to close the file descriptors so that rsh exits. In old
> releases this command leaves absolutely no processes in the <my
> machine>, and in the <target machine> the only ones are xterm and zsh.
> 
> With the above release the rsh now remains, and if I kill it the
> window of the <target machine> is closed. How can I get the old
> behaviour back?

It works for me.  I did an rsh from a Solaris-2.4 box to a linux-1.2.13
(Slackware-elf-beta), and the rsh command retured immediately, and there were
no processes left in either side except the xterm.  I did

% rsh -n bolyai 'exec xterm -d :0 <&- >&- 2>&-'

But it worked without the -n as well.

zsh version on the Solaris box is beta11-test7-hzoli11, and on the target (the
Linux machine) it is beta10-hzoli10.3.

I also tried rsh from one Linux to an other and it also worked.

Zoltan

