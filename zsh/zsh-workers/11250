From zsh-workers-return-11250-mason-zsh=primenet.com.au@sunsite.auc.dk Mon May 08 09:58:40 2000
Return-Path: <zsh-workers-return-11250-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 12478 invoked from network); 8 May 2000 09:58:34 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 8 May 2000 09:58:34 -0000
Received: (qmail 26107 invoked by alias); 8 May 2000 09:58:08 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 11250
Received: (qmail 26090 invoked from network); 8 May 2000 09:58:07 -0000
Date: Mon, 08 May 2000 10:57:34 +0100
From: Peter Stephenson <pws@cambridgesiliconradio.com>
Subject: 3.1.7-pre-3
To: zsh-workers@sunsite.auc.dk (Zsh hackers list)
Message-id: <0FU8000DEJNYMT@la-la.cambridgesiliconradio.com>
Content-transfer-encoding: 7BIT

Sensors indicate I have uploaded
  ftp://ftp.zsh.org/zsh/development/zsh-3.1.7-pre-3.tar.gz
(forgot to mark it in the ChangeLog, sorry, I've just put the entry in in
the right place).  Bart & Akira's process group change just misses this.
Probably this is not so important for the people here, who are mostly using
CVS.  (Is anyone who considers themselves active on zsh-workers not using
CVS?)

There's nothing else I've got to do myself, except the reading through of
the documentation I keep meaning to do.  (I shall continue to add things to
Test, and I hope other people will, but that's not going to be finished by
3.1.7.)  Depending how strong I'm feeling on this, 3.1.7 could probably
appear next weekend.  As always I would expect the completion tweaking to
go on anyway.  It's time to think about not putting in any changes
affecting lots of files (even if not functionally substantial) until
afterwards.

It would be nice to get the print -s things sorted out, though presumably
this is a long-standing bug.  There were also some thoughts about
simplifying the behviour of cd which certainly won't happen before 3.1.7
now.


2000-05-08  Sven Wischnowsky  <wischnow@informatik.hu-berlin.de>

	* 11244: Completion/Builtins/_zstyle, Completion/Core/_description,
 	Completion/Core/_expand, Doc/Zsh/compsys.yo: make _expand call
 	_complete when called from _expand_word; add ignore-line style to
 	ignore words already on the line
	
	* 11242: Completion/Builtins/_pids, Completion/Builtins/_zstyle,
 	Completion/Commands/_complete_help, Completion/Core/_all_labels,
 	Completion/Core/_approximate, Completion/Core/_expand,
 	Completion/Core/_ignored, Completion/Core/_main_complete,
 	Completion/Core/_prefix, Completion/Core/_setup,
 	Doc/Zsh/compsys.yo, Src/Zle/complete.mdd, Src/Zle/complist.c:
 	misc. completion cleanups and changes
	
2000-05-06  Bart Schaefer  <schaefer@zsh.org>

	* 11236: Completion/Base/_arguments: Handle tabs between options
	and their descriptions when parsing --help output.

2000-05-06  Tanaka Akira  <akr@zsh.org>

	* 11224: Util/mkdisttree.sh: problem with pattern matching `.' in
	find.

	* 11223: Completion/Base/_regex_arguments, Completion/Debian/_apt,
	Completion/X/_xset, Completion/X/_xwit, Doc/Zsh/compsys.yo:
	_regex_arguments use _alternative.

2000-05-05  Tanaka Akira  <akr@zsh.org>

	* 11219: Completion/User/_cvs, Completion/User/_diff_options: add
	option description to `_cvs' and fix typo in _diff_options.

2000-05-05  Oliver Kiddle  <opk@zsh.org>

	* 11216: Doc/Zsh/builtins.yo, Src/loop.c: small doc fix and AIX
	dependency fix

2000-05-05  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11214: Completion/Core/compinstall: remember file in
	filename style for :compinstall context; make null matchers
	more obvious.

	* 11200: Src/subst.c, Doc/Zsh/expn.yo: backout change that
	${foo/$subst/repl} would allow # and % anchors inside $subst.

	* Andrej Borsenkow: 11194: Completion/Base/_arguments,
	Completion/User/_configure: use globsubst for substitutions
	via -s option to _arguments and hence use (#s) for anchor
	in _substitutions from _configure.

2000-05-05  Tanaka Akira  <akr@zsh.org>

	* 11213: Completion/User/_cvs: don't complete files which is
	already on command line for `cvs add', `cvs remove' and `cvs commit'.

	* 11204: Completion/User/_look: use more precise explanation and
	complete an optional second argument.

2000-05-05  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* pws: 11196: Functions/Misc/zmv: allow (**/) to map to a
	parameter in the obvious way; allow automatic recognition of
	wildcards with -w flag; turn off glob qualifiers by default, use
	-Q to turn on; fix bug with empty match eliding a positional
	parameter; fix bug that empty `to' pattern wasn't picked up.

	* pws: unposted: fixes for Etc/CONTRIBUTORS based on suggestions
	in 11187 and 11197

2000-05-05  Sven Wischnowsky  <wischnow@informatik.hu-berlin.de>

	* 11195: Completion/AIX/_lsdev, Completion/Builtins/_bindkey,
 	Completion/Builtins/_compdef, Completion/Builtins/_zcompile,
 	Completion/Builtins/_zpty, Completion/Builtins/_zstyle,
 	Completion/User/_archie, Completion/User/_bzip2,
 	Completion/User/_compress, Completion/User/_enscript,
 	Completion/User/_finger, Completion/User/_gzip,
 	Completion/User/_imagemagick, Completion/User/_look,
 	Completion/User/_lynx, Completion/User/_lzop,
 	Completion/User/_mutt, Completion/User/_nedit,
 	Completion/User/_nslookup, Completion/User/_socket,
 	Completion/User/_telnet, Completion/User/_wget,
 	Completion/User/_whois, Completion/X/_xauth: completion function
 	cleanup for `_arguments' with the `-C' option and using it's
 	return value
	
	* 11193: Src/Zle/comp.h, Src/Zle/compcore.c: some more memory
 	initialisation after allocation; shouldn't possibly have done any
 	harm
	
2000-05-05  Tanaka Akira  <akr@zsh.org>

	* 11190: Completion/User/_look: new completion for look.

2000-05-05  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11185: Etc/CONTRIBUTORS: updated for 3.1.7.

2000-05-05  Sven Wischnowsky  <wischnow@informatik.hu-berlin.de>

	* 11188: Completion/Core/_main_complete, Completion/Core/_message:
 	make _message independent of when it is called
	
	* 11186: Functions/Misc/nslookup: use `eval' in nslookup for
 	pager, in case someone has PAGER='less -foo' or some such
	
2000-05-05  Oliver Kiddle  <opk@zsh.org>

	* 11184: Completion/User/.distfiles, Completion/User/_bzip2,
	Completion/User/_compress, Completion/User/_lzop,
	Completion/User/_pack, Completion/User/_zcat: Use one function for
	each of compress/uncompress and pack/unpack and new lzop completion

2000-05-05  Sven Wischnowsky  <wischnow@informatik.hu-berlin.de>

	* 11181: Src/Modules/zpty.c: make zpty -r stoppable even when
 	SIGINT is caught (and the handler calls return or some such)
	
	* 11177: Functions/Misc/nslookup: make nslookup page it's output
 	if too long for screen
	
	* Wayne: 11171: Src/builtin.c, Src/hist.c: fix for print -s when
	called from widget; added lines are not immediately available,
	though

	* 11172: Src/Zle/computil.c: fix for completion arguments of
 	options, don't use all of them at once
	
	* 11170: Src/jobs.c: fix for jobs -l -d, check if directory of job
 	is already set
	
2000-05-04  Tanaka Akira  <akr@zsh.org>

	* 11166: Completion/Base/_regex_arguments: remove debugging code.

	* 11165: Completion/Base/_regex_arguments, Completion/Debian/_apt,
	Completion/X/_xset, Completion/X/_xwit, Doc/Zsh/compsys.yo,
	Src/Modules/zutil.c: _regex_arguments support tag stuff.

	* 11157: Completion/Core/_requested: fail if _all_labels is failed.

2000-05-04  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11147: Test/08traps.ztst: test for trap bugs fixed in
	11026 and 11066.

2000-05-04  Sven Wischnowsky  <wischnow@informatik.hu-berlin.de>

	* 11151: Src/exec.c, Src/parse.c, Src/Modules/zpty.c: close dump
 	file descriptors in children
	
	* 11145: Src/lex.c: parse_subst_string() should use modified
 	version of `len'
	
	* 11144: Src/Modules/zpty.c: make pty the controlling terminal of
	their commands

	* 11142: Src/lex.c: save and restore `len' in lexsave/restore
	
	* 11140: Completion/Builtins/_zstyle, Completion/Core/_main_complete,
 	Doc/Zsh/compsys.yo, Src/Zle/compcore.c, Src/Zle/compctl.c: don't
 	list when all matches look the same; force-list style to give
 	users control over this
	
2000-05-03  Tanaka Akira  <akr@zsh.org>

	* 11137: Test/07cond.ztst: detect block device file using find.

2000-05-03  Bart Schaefer  <schaefer@zsh.org>

	* 11136: Doc/Zsh/expn.yo: Reorganize history expansion doc.

2000-05-03  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11126: Doc/Zsh/expn.yo: typos in 11117.

2000-05-03  Sven Wischnowsky  <wischnow@informatik.hu-berlin.de>

	* 11121: Completion/User/_fakeroot, Completion/User/_rlogin,
 	Completion/User/_ssh, Completion/User/_sudo,
 	Completion/User/_xargs, Completion/X/_xutils, Doc/Zsh/compsys.yo,
 	Src/Zle/computil.c: allow `-' in exclusion lists for _arguments,
 	to avoid completing all options
	
	* 11117: Doc/Zsh/expn.yo, Src/hist.c: fix for the (z) flag: report
 	partial word (like `"foo', without a closing quote); mention in
 	manual that (z) is handled lately
	
	* Andrej: 11067: Completion/Builtins/_zcompile: handle -t option

	* 11113: Doc/Zsh/expn.yo, Src/hist.c, Src/subst.c,
 	Src/Modules/parameter.c, Src/Zle/zle_misc.c: new (z) parameter
 	flag to do shell-word splitting on the value
	
	* 11110: Completion/Core/_expand, Src/Zle/complist.c: remove
 	backslashes before `$' in _expand when `substitute' is unset; fix
 	for clearing end-of-list lines in menu-selection
	
2000-05-03  Tanaka Akira  <akr@zsh.org>

	* 11109: Completion/X/_xauth: new completion for xauth.

	* 11106: Completion/User/_mount: fix glob for device files.

2000-05-03  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11096: Test/ztst.zsh, Test/13parameter.ztst: fix test output
	for C locale and ensure C locale is used

2000-05-03  Sven Wischnowsky  <wischnow@informatik.hu-berlin.de>

	* 11094: Doc/Zsh/compsys.yo: more doc fixes
	
	* 11092: Completion/Base/_arguments, Src/Zle/compcore.c: make sure
 	that completion messages are displayed even when there are no
 	matches
	
	* 11091: Functions/Zftp/zfcd_match: fix for completion of
 	directories for zftp suite
	
	* 11086: Src/builtin.c: allow calling `print -s' in widgets, avoid
 	duplicated history number
	
2000-05-02  Bart Schaefer  <schaefer@zsh.org>

	* 11077: Relocate misplaced redirection from 11043.

	* 11036, 11063: Always write the `read -q' prompt to shout;
	elminate some redundant close() calls.

2000-05-02  Oliver Kiddle  <opk@zsh.org>

	* 11078: README: update download location for yodl

2000-05-02  Tanaka Akira  <akr@zsh.org>

	* 11075: configure.in: install completion functions for AIX and BSD.

2000-05-02  Andrew Main  <zefram@zsh.org>

	* zefram103: Src/Makemod.in.in: make sure .{e,}pro files are
	non-empty, to keep the AIX compiler quiet.

2000-05-02  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11066: Src/exec.c: suppress doing ZERR traps at the end
	of a sequence of &&/|| when another sublist follows.

2000-05-02  Oliver Kiddle  <opk@zsh.org>

	* 11065: Completion/Commands/_complete_debug: small fix to avoid
	using slashes in temporary file name

2000-05-02  Sven Wischnowsky  <wischnow@informatik.hu-berlin.de>

	* 11061: Functions/Misc/zrecompile: make zrecompile detect deleted
 	and new files
	
	* 11060: Doc/Zsh/compsys.yo: two more doc fixes
	
2000-05-02  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11057: Src/builtin.c:  getopts for options with arguments
	miscounted $OPTIND and index into subsequent options (see 9095).

2000-05-02  Sven Wischnowsky  <wischnow@informatik.hu-berlin.de>

	* 11058: Completion/Core/_message, Doc/Zsh/compwid.yo, Src/Zle/comp.h,
 	Src/Zle/compcore.c, Src/Zle/complete.c: add -x option to compadd
 	to display message unconditionally
	
	* 11053: Completion/Commands/_complete_help: always use empty
 	matcher-list style in _complete_help
	
	* 11052: Src/Zle/computil.c: fix for _arguments, use
 	on-line-argument-numbers only for normal arguments, not for
 	arguments of options
	
	* 11049: Completion/Base/_arguments, Completion/Base/_first,
 	Completion/Builtins/_hash, Completion/Core/_expand,
 	Completion/User/_gprof, Completion/User/_mount,
 	Completion/User/_socket, Completion/User/_urls: completion
 	cleanup, mostly _wanted and $expl
	
	* 11048: Completion/Base/_first, Completion/Core/_complete,
 	Completion/Core/_path_files: make completion-in-vared complete
 	parameter values as default; cleanup for _path_files
	
	* 11047: Completion/Core/_sort_tags, Doc/Zsh/compsys.yo,
 	Doc/Zsh/compwid.yo: completion doc fixes and cleanup; _sort_tags
 	updated
	
2000-05-01  Bart Schaefer  <schaefer@zsh.org>

	* 11043: Completion/Core/_expand, Completion/User/_nedit: Catch
	an eval-time parse error by forcing the eval into a subshell;
	don't fail on nonexistent ~/.nedit file.

2000-05-01  Oliver Kiddle  <opk@zsh.org>

	* 11041: Completion/User/.distfiles, Completion/User/_bzip2:
	Use of _arguments for bzip2 completion

	* 11037: Etc/MACHINES, Etc/NEWS, Etc/completion-style-guide,
	Etc/zsh-development-guide: spelling corrections

-- 
Peter Stephenson <pws@cambridgesiliconradio.com>
Cambridge Silicon Radio, Unit 300, Science Park, Milton Road,
Cambridge, CB4 0XL, UK                          Tel: +44 (0)1223 392070

