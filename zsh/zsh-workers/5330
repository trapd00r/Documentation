From zsh-workers-return-5330-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Feb 10 06:50:16 1999
Return-Path: <zsh-workers-return-5330-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 20196 invoked from network); 10 Feb 1999 06:50:15 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 10 Feb 1999 06:50:15 -0000
Received: (qmail 8614 invoked by alias); 10 Feb 1999 06:49:54 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 5330
Received: (qmail 8607 invoked from network); 10 Feb 1999 06:49:52 -0000
Message-ID: <19990210063517.12973.qmail@hotmail.com>
X-Originating-IP: [209.157.52.21]
From: "Matt Armstrong" <mattarmst@hotmail.com>
To: zsh-workers@sunsite.auc.dk
Subject: Re: PATCH: zsh-3.1.5-pws-7: yet more signames
Date: Tue, 09 Feb 1999 22:35:17 PST
Mime-Version: 1.0
Content-type: text/plain

Cool.  Peter, your Plan #3 solves the problem for cygwin nicely, 
provided the following patch is applied afterward.  The patch changes \\ 
to / in the paths that gcc -E likes to spit out.  The \\ seems to 
confuse make.

With this patch, the following abomination shows up in my config.cache.  
It does work, which is what matters:

zsh_cv_path_signal_h=${zsh_cv_path_signal_h='/cygnus/cygwin-b20/H-i586-cygwin32/lib/gcc-lib/i586-cygwin32/egcs-2.91.57/../../../../i586-cygwin32/include/sys/signal.h'}


--- configure.in.orig   Tue Feb 09 22:10:30 1999
+++ configure.in        Tue Feb 09 22:24:34 1999
@@ -671,6 +671,7 @@
 dnl but then you can get a rather long list of files to test.
 echo "#include <signal.h>" > nametmp.c
 sigfile_list="`$CPP nametmp.c | sed -n -e 's/^#[       
].*\"\(.*\)\"/\1/p' |
+sed -e 's/\\\\\\\\/\//g' |
 $AWK '{ if (\$1 ~ \"sig\") files[[\$1]] = \$1 }
   END { for (var in files) print var }'`"
 rm -f nametmp.c

______________________________________________________
Get Your Private, Free Email at http://www.hotmail.com

