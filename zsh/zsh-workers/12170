From zsh-workers-return-12170-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Jul 05 09:36:07 2000
Return-Path: <zsh-workers-return-12170-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 3515 invoked from network); 5 Jul 2000 09:36:05 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 5 Jul 2000 09:36:05 -0000
Received: (qmail 21632 invoked by alias); 5 Jul 2000 09:35:32 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 12170
Received: (qmail 21625 invoked from network); 5 Jul 2000 09:35:32 -0000
Date: Wed, 05 Jul 2000 10:35:01 +0100
From: Peter Stephenson <pws@cambridgesiliconradio.com>
Subject: Re: PATCH: compdump (Re: Test hanger disappeared, but ...)
In-reply-to: "Your message of Wed, 05 Jul 2000 08:39:38 +0200."
 <200007050639.IAA10663@beta.informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk (Zsh hackers list)
Message-id: <0FX7004DXXACJY@la-la.cambridgesiliconradio.com>
Content-transfer-encoding: 7BIT

Sven wrote:
> That's interesting... For example, with
> 
>   while true; do echo > unwritable; sleep 1; done
> 
> zsh stops after the first attempt. bash and ksh don't stop and the
> /bin/sh here stops after the first attempt, too.
> 
> With
> 
>   while true; do echo $(for); sleep 1; done
> 
> zsh stops (and prints two error messages!), bash does not stop, but
> ksh and /bin/sh do.

These are all perfectly arguable.  In the second case, it's only because
parsing is done before the fork that the shell actually gives up.  If you
attempted to write to an unwritable file in the $(...) it wouldn't stop.  I
don't have any conclusion.

-- 
Peter Stephenson <pws@cambridgesiliconradio.com>
Cambridge Silicon Radio, Unit 300, Science Park, Milton Road,
Cambridge, CB4 0XL, UK                          Tel: +44 (0)1223 392070

