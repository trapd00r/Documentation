From zsh-workers-return-13579-mason-zsh=primenet.com.au@sunsite.dk Tue Mar 06 15:59:12 2001
Return-Path: <zsh-workers-return-13579-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 21357 invoked from network); 6 Mar 2001 15:59:11 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 6 Mar 2001 15:59:11 -0000
Received: (qmail 27020 invoked by alias); 6 Mar 2001 15:59:04 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 13579
Received: (qmail 27008 invoked from network); 6 Mar 2001 15:59:01 -0000
To: zsh-workers@sunsite.dk
Subject: Re: PATCH: Re: 4.0.1-pre-1
References: <200103061257.NAA02830@beta.informatik.hu-berlin.de>
From: Alexandre Duret-Lutz <duret_g@lrde.epita.fr>
X-Home-Page: http://www.epita.fr/~duret_g/
X-Attribution: adl
Organization: LRDE/EPITA  http://www.lrde.epita.fr/
Date: 06 Mar 2001 17:07:22 +0100
In-Reply-To: <200103061257.NAA02830@beta.informatik.hu-berlin.de>
Message-ID: <mvbbsrehoed.fsf@phobos.lrde.epita.fr>
Lines: 33
User-Agent: Gnus/5.0808 (Gnus v5.8.8) Emacs/20.7
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Sender: Alexandre Duret-Lutz <adl@epita.fr>

>>> "Sven" == Sven Wischnowsky <wischnow@informatik.hu-berlin.de> writes:

[...]

 Sven> Yes, lots ;-)

As always :)

[...]

 Sven> The patch makes that testsuite work, roughly consuming as much memory
 Sven> as bash on this machine here (both sh and ksh use less memory, sigh).

Here zsh now consumes less memory that bash, and the testsuite
is really usable, that's great!  However it is still
significantly slower:

% time bash testsuite > /dev/null
bash testsuite > /dev/null  0.88s user 0.44s system 101% cpu 1.302 total
% time zsh testsuite > /dev/null
zsh testsuite > /dev/null  7.13s user 0.27s system 100% cpu 7.357 total

(this is a testsuite that exists before the first test, as I explained.)

I don't really care myself, 7s doesn't sound too much for such a
big script, but maybe you'll have another great idea... This
testsuite seems like a good benchmark for the parsing code.

[...]

Thanks!
-- 
Alexandre Duret-Lutz

