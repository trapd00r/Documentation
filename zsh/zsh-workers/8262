From zsh-workers-return-8262-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Oct 14 17:43:24 1999
Return-Path: <zsh-workers-return-8262-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 7003 invoked from network); 14 Oct 1999 17:43:22 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 14 Oct 1999 17:43:22 -0000
Received: (qmail 20055 invoked by alias); 14 Oct 1999 17:43:14 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 8262
Received: (qmail 20047 invoked from network); 14 Oct 1999 17:43:14 -0000
Message-ID: <38061630.34E6684D@u.genie.co.uk>
Date: Thu, 14 Oct 1999 18:43:12 +0100
From: Oliver Kiddle <opk@u.genie.co.uk>
X-Mailer: Mozilla 4.7 [en] (Win95; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Zsh workers <zsh-workers@sunsite.auc.dk>
Subject: PATCH: a few small completions
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I noticed a small omission in _uncompress and _gzip which may well have already been fixed. I've also taken the opportunity to add a few new tiny completions - for whereis, (un)pack and killall. I also tried to think of any other commands for which _nothing was applicable. The only one I came up with was whoami though I found a couple more for _hosts and _users.

Oliver Kiddle

*** Completion/User/_gzip.bak	Thu Oct 14 18:27:39 1999
--- Completion/User/_gzip	Thu Oct 14 18:28:08 1999
***************
*** 3,6 ****
  local expl
  
  _description expl 'file to compress'
! _files -g '*~*.[gG][zZ]'
--- 3,6 ----
  local expl
  
  _description expl 'file to compress'
! _files "$expl[@]" -g '*~*.[gG][zZ]'
*** Completion/User/_uncompress.bak	Mon Aug 30 12:28:34 1999
--- Completion/User/_uncompress	Thu Oct 14 18:12:23 1999
***************
*** 3,6 ****
  local expl
  
  _description expl 'compressed file'
! _files -g '*.Z'
--- 3,6 ----
  local expl
  
  _description expl 'compressed file'
! _files "$expl[@]" -g '*.Z'
*** Completion/Builtins/_nothing.bak	Thu Oct 14 18:09:49 1999
--- Completion/Builtins/_nothing	Thu Oct 14 18:09:56 1999
***************
*** 1,3 ****
! #compdef true false
  
  _message 'no argument or option'
--- 1,3 ----
! #compdef true false whoami
  
  _message 'no argument or option'
*** /dev/null	Thu Oct 14 12:54:34 1999
--- Completion/User/_whereis	Thu Oct 14 18:11:44 1999
***************
*** 0 ****
--- 1,6 ----
+ #compdef whereis
+ 
+ local expl
+ 
+ _description expl command
+ compgen "$expl[@]" -m
*** /dev/null	Thu Oct 14 12:54:34 1999
--- Completion/User/_pack	Thu Oct 14 18:11:44 1999
***************
*** 0 ****
--- 1,6 ----
+ #compdef pack 
+ 
+ local expl
+ 
+ _description expl 'file to compress'
+ _files "$expl[@]" -g '*~*.z'
*** /dev/null	Thu Oct 14 12:54:34 1999
--- Completion/User/_unpack	Thu Oct 14 18:11:44 1999
***************
*** 0 ****
--- 1,6 ----
+ #compdef unpack pcat
+ 
+ local expl
+ 
+ _description expl 'compressed file'
+ _files "$expl[@]" -g '*.z'
*** /dev/null	Thu Oct 14 12:54:34 1999
--- Completion/User/_killall	Thu Oct 14 18:11:44 1999
***************
*** 0 ****
--- 1,6 ----
+ #compdef killall
+ 
+ if compset -P 1 -; then
+   _description expl signal
+   compadd "$expl[@]" $signals[1,-3]
+ fi
*** Completion/User/_users.bak	Thu Oct 14 18:35:58 1999
--- Completion/User/_users	Thu Oct 14 18:36:06 1999
***************
*** 1,4 ****
! #compdef last
  
  # If a parameter `users' exists and it is an array, we first try to
  # complete only to its elements.
--- 1,4 ----
! #compdef last passwd groups
  
  # If a parameter `users' exists and it is an array, we first try to
  # complete only to its elements.
*** Completion/User/_hosts.bak	Thu Oct 14 18:36:33 1999
--- Completion/User/_hosts	Thu Oct 14 18:36:43 1999
***************
*** 1,4 ****
! #compdef ftp ncftp ping rwho rup xping traceroute
  
  local expl
  
--- 1,4 ----
! #compdef ftp ncftp ping rwho rup xping traceroute host
  
  local expl

