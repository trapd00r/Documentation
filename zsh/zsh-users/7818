From zsh-users-return-7818-mason-zsh=primenet.com.au@sunsite.dk Wed Aug 11 00:47:24 2004
Return-Path: <zsh-users-return-7818-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4501 invoked from network); 11 Aug 2004 00:47:23 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 11 Aug 2004 00:47:23 -0000
Received: (qmail 52157 invoked from network); 11 Aug 2004 00:47:17 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 11 Aug 2004 00:47:17 -0000
Received: (qmail 9386 invoked by alias); 11 Aug 2004 00:46:33 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 7818
Received: (qmail 9375 invoked from network); 11 Aug 2004 00:46:32 -0000
Received: from unknown (HELO a.mx.sunsite.dk) (130.225.247.88)
  by 130.225.247.90 with SMTP; 11 Aug 2004 00:46:32 -0000
Received: (qmail 49529 invoked from network); 11 Aug 2004 00:42:33 -0000
Received: from unknown (HELO moonbase.zanshin.com) (167.160.213.139)
  by a.mx.sunsite.dk with SMTP; 11 Aug 2004 00:42:30 -0000
Received: from toltec.zanshin.com (toltec.zanshin.com [64.84.47.166])
	by moonbase.zanshin.com (8.12.11/8.12.11) with ESMTP id i7B0gTuS028693
	for <zsh-users@sunsite.dk>; Tue, 10 Aug 2004 17:42:29 -0700
Date: Tue, 10 Aug 2004 17:42:29 -0700 (PDT)
From: Bart Schaefer <schaefer@brasslantern.com>
Reply-To: zsh-users@sunsite.dk
To: zsh-users@sunsite.dk
Subject: Re: zsh and emacs shell mode
In-Reply-To: <31836.24.153.150.77.1092153128.squirrel@mail.jeremye.net>
Message-ID: <Pine.LNX.4.61.0408101635220.24823@toltec.zanshin.com>
References: <s388ycqygum.fsf@numerus.ling.uu.se>
 <31836.24.153.150.77.1092153128.squirrel@mail.jeremye.net>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, hits=-0.0 required=6.0 tests=BAYES_40 autolearn=no 
	version=2.63
X-Spam-Hits: -0.0

On Tue, 10 Aug 2004 jeremy@jeremye.net wrote:

> I'm writing to solicit tips in order to get Emacs' shell mode working as
> best possible with Zsh.

You're sure you're using shell mode and not terminal mode?

> Right now, my .zshrc includes:
> [[ $EMACS = t ]] && unsetopt zle
> 
> I'm a zsh newbie, so I'm not positive what all this disables.

This disables zsh's built-in editor, akin to disabling readline in bash. 
Emacs does all the driving in shell mode -- the shell never sees any of 
what you type until you press the comint-send-input key (usually RET).

> In Emacs shell mode, paths no longer complete when I press TAB like they 
> did when I used Bash.  Is there a way for this to work?

This will have something to do with your emacs configuration, not zsh.
Offhand I don't know what.  Type C-x C-h c TAB to be sure that your tab
key is still bound to comint-dynamic-complete, and make sure that emacs
knows what the shell's current directory is (M-x dirs RET).

