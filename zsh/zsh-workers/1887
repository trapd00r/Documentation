From zsh-workers-request@euclid.skiles.gatech.edu  Fri Aug  2 19:50:23 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by coral.primenet.com.au (8.7.5/8.7.3) with ESMTP id TAA00174 for <mason@primenet.com.au>; Fri, 2 Aug 1996 19:50:20 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id EAA20098; Fri, 2 Aug 1996 04:33:13 -0400 (EDT)
Resent-Date: Fri, 2 Aug 1996 04:33:13 -0400 (EDT)
Message-Id: <199608020832.KAA23649@hydra.ifh.de>
To: zsh-workers@math.gatech.edu (Zsh hackers list)
Subject: Re: More Configure problems 
In-reply-to: "hzoli@cs.elte.hu"'s message of "Thu, 01 Aug 1996 23:03:27 MET."
             <199608012103.XAA05742@bolyai.cs.elte.hu> 
Date: Fri, 02 Aug 1996 10:32:01 +0200
From: Peter Stephenson <pws@ifh.de>
Resent-Message-ID: <"nYdKk.0.yv4.8rR0o"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/1887
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

hzoli@cs.elte.hu wrote:
> I did not test this patch, since I'd like to catch the last but home from
> the university so it may be buggy.  Please test it.

With this set of patches perl built OK with zsh linked to sh and
passed all tests, the process including & -d, shell escapes, etc.  I
couldn't rewire /bin/sh, but most shell scripts during the build are
called with an explicit `sh', so this is quite a good test.

I'm planning on including a clearer summary of compatiblity in the
appropriate section of the FAQ, B1; here is a preview.


  As a summary of the status:
    i) because of all the options it is not safe to assume a general
       zsh run by a user will behave as if sh or ksh compatible;
   ii) invoking zsh as sh or ksh (including if either is a symbolic
       link to zsh) sets appropriate options and improves
       compatibility;
  iii) from version 3.0 onward the degree of compatibility with sh
       under these circumstances is very high:  zsh can now be used
       with GNU configure or perl's Configure, for example;
   iv) the degree of compatibility with ksh is also high, but a few
       things are missing:  for example the more sophisticated
       pattern-matching expressions are different --- see the detailed
       list below;
    v) also from 3.0, the command `emulate' is available: `emulate
       ksh' and `emulate sh' set various options as well as changing the
       effect of single-letter option flags as if the shell had been
       invoked with the appropriate name.  Including the commands
       `emulate sh; setopt localoptions' in a shell function will
       turn on sh emulation for that function only.


-- 
Peter Stephenson <pws@ifh.de>       Tel: +49 33762 77366
WWW:  http://www.ifh.de/~pws/       Fax: +49 33762 77330
Deutches Electronen-Synchrotron --- Institut fuer Hochenergiephysik Zeuthen
DESY-IfH, 15735 Zeuthen, Germany.

