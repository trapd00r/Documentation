From zsh-workers-request@math.gatech.edu  Wed Oct 18 08:41:39 1995
Received: from gatech.edu (gatech.edu [130.207.244.244]) by werple.net.au (8.7/8.7) with SMTP id IAA08953 for <mason@werple.mira.net.au>; Wed, 18 Oct 1995 08:41:21 +1000 (EST)
Received: from euclid (euclid.skiles.gatech.edu) by gatech.edu with SMTP id AA07496
  (5.65c/Gatech-10.0-IDA for <mason@werple.mira.net.au>); Tue, 17 Oct 1995 18:34:27 -0400
Received: by euclid (5.x/SMI-SVR4)
	id AA01015; Tue, 17 Oct 1995 18:31:21 -0400
Resent-Date: 	Tue, 17 Oct 1995 15:32:59 -0700
Old-Return-Path: <@rainier.nds.com:brian@nds.com>
In-Reply-To: Carlos Carvalho <carlos@snfep1.if.usp.br>
       "Re: behaviour with rsh" (Oct 17,  2:37pm)
X-Mailer: Mail User's Shell (7.2.4 2/2/92)
From: Brian Dockter <brian@nds.com>
To: zsh-workers@math.gatech.edu
Subject: Re: behaviour with rsh
Message-Id: <95Oct17.153300pdt.176936@rainier.nds.com>
Date: 	Tue, 17 Oct 1995 15:32:59 -0700
Resent-Message-Id: <"_VeEo.0.nF.vw2Xm"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/469
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

On Oct 17,  2:37pm, Carlos Carvalho wrote:
> Subject: Re: behaviour with rsh
> Zoltan Hidvegi (hzoli@cs.elte.hu) wrote on 17 October 1995 22:14:
> 
>  >> 
>  >> Zoltan wrote:
>  >> >I think this is not zsh specific.
>  >> 
>  >> I think it is.  zsh ought to be able to hide a child in a way which allows
>  >> the rsh to exit.  Maybe other shells are broken too. But so what? Also I
>  >> think, as Carlos says, that it used to work.
>  >> 
>  >> Running  rsh blaa "sh -c whatsit &"  is a horrible hack, and shouldn't be
>  >> necessary.
>  >
>  >I've just made zsh my login shell in the yp database, and tested
>  >this problem.
>  >
>  >rsh foo 'xterm -display bar:0 >&- 2>&- <&-'
>  >
>  >returned the prompt in almost all cases.  The only exception is when I rsh'd
>  >to an Ultrix machine, but only when the originating machine was not Linux.
> 
> I tested from linux to a sun 4.1.2 and it doesn't return. From the sun
> to linux it works fine, both with hzoli10.3.


I too have recently run across this problem. I have run the following
command under csh (SunOS and SCO) and zsh 2.3.1 (SunOS) for quite a
while (years) but it doesn't work under zsh 2.6-beta10 (SunOS):


    rsh -n host "env FOO=$BAR /bin/somecmd </dev/null >& /dev/null &"


Under csh and zsh 2.3.1 it returned immediately. Under zsh 2.6-beta10 it
doesn't return until the program exits (this was from SunOS 4.1.3 to
SunOS 4.1.3).



Brian

-- 
Brian Dockter   (KC7JZL)         | Email: brian@nds.com
Sr. Software Engineer            | Voice: 206-524-0014
Northwest Digital Systems        | FAX: 206-524-3440

