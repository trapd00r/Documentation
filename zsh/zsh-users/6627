From zsh-users-return-6627-mason-zsh=primenet.com.au@sunsite.dk Thu Oct 02 14:30:07 2003
Return-Path: <zsh-users-return-6627-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1579 invoked from network); 2 Oct 2003 14:30:06 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 2 Oct 2003 14:30:06 -0000
Received: (qmail 12642 invoked by alias); 2 Oct 2003 14:29:31 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 6627
Received: (qmail 12625 invoked from network); 2 Oct 2003 14:29:30 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 2 Oct 2003 14:29:30 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [4.3.58.249] by sunsite.dk (MessageWall 1.0.8) with SMTP; 2 Oct 2003 14:29:29 -0000
Received: (from schaefer@localhost)
	by candle.brasslantern.com (8.11.6/8.11.6) id h92ETS222766
	for zsh-users@sunsite.dk; Thu, 2 Oct 2003 07:29:28 -0700
From: Bart Schaefer <schaefer@brasslantern.com>
Message-Id: <1031002142928.ZM22765@candle.brasslantern.com>
Date: Thu, 2 Oct 2003 14:29:27 +0000
In-Reply-To: <20031002080358.GA23230@DervishD>
Comments: In reply to DervishD <raul@pleyades.net>
        "Re: Emulating 'locate'" (Oct  2, 10:03am)
References: <20031001221753.GA23189@DervishD> 
	<1031002023639.ZM22046@candle.brasslantern.com> 
	<20031002080358.GA23230@DervishD>
X-Mailer: Z-Mail (5.0.0 30July97)
To: Zsh Users <zsh-users@sunsite.dk>
Subject: Re: Emulating 'locate'
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Oct 2, 10:03am, DervishD wrote:
}
} > For that you have to use brace expansion, because you can't mix **/ and
} > any other form of alternation:
} 
}     Didn't know about the mixing...

To be precise, you can't express "this file pattern OR this hierarchy"
with (pat1|pat2) syntax.  The alternate patterns can't contain slashes.
That leaves using brace expansion to express "this file pattern" and
"this hierarchy" as separate patterns.

Which reminds me ... instead of this:

} >     locate() { print -l /**/*${^*}*{,/**/*} }

You might want:

    locate() {
	setopt localoptions nullglob nocshnullglob
	print -l /**/*${^*}*{,/**/*}
    }

Do you see why?

