From zsh-workers-return-26284-mason-zsh=primenet.com.au@sunsite.dk Sun Jan 11 05:45:57 2009
Return-Path: <zsh-workers-return-26284-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 29266 invoked from network); 11 Jan 2009 05:45:44 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 11 Jan 2009 05:45:44 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 29915 invoked from network); 11 Jan 2009 05:45:35 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 11 Jan 2009 05:45:35 -0000
Received: (qmail 24380 invoked by alias); 11 Jan 2009 05:45:28 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 26284
Received: (qmail 24365 invoked from network); 11 Jan 2009 05:45:27 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 11 Jan 2009 05:45:27 -0000
Received: from g.primenet.com.au (g.primenet.com.au [203.24.36.10])
	by bifrost.dotsrc.org (Postfix) with ESMTPS id F2D59802720C
	for <zsh-workers@sunsite.dk>; Sun, 11 Jan 2009 06:45:11 +0100 (CET)
Received: (qmail 19170 invoked by uid 100); 11 Jan 2009 05:45:06 -0000
Date: Sun, 11 Jan 2009 16:45:06 +1100
From: Geoff Wing <gcw@zsh.org>
To: zsh-workers@sunsite.dk
Subject: Re: Test hang in Y01
Message-ID: <20090111054506.GA15893@primenet.com.au>
References: <20a807210901100744w2f8c2c21h32da38cf2bc461ad@mail.gmail.com> <20090110214801.29ac6394@pws-pc>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20090110214801.29ac6394@pws-pc>
Organization: PrimeNet Computer Consultancy
User-Agent: Mutt/1.5.18 (2008-05-17)
X-Virus-Scanned: ClamAV 0.92.1/8850/Sun Jan 11 00:20:01 2009 on bifrost
X-Virus-Status: Clean

On Saturday 2009-01-10 21:48 +0000, Peter Stephenson output:
:On Sat, 10 Jan 2009 10:44:49 -0500
:"Vin Shelton" <acs@alumni.princeton.edu> wrote:
:> With an up-to-date archive, I'm getting a hang in test Y01.
:Haven't seen this with committed code, but I did get a hang in the
:middle of changing it at one point.  Could you try "make clean" first?

Does it for me too.  My nightly build/test cron job first picked it up
12 hours ago so it only due to something in the last day or so.  It hangs
with continuous CPU use.

BTW, the ChangeLog line for 26272 has some stuff elided.

Regards,
Geoff

#0  0xbbafba77 in read () from /usr/lib/libc.so.12
#1  0xbbad0082 in bin_zpty (nam=0x80f96d0 "zpty", args=0xbfbe7784, ops=0xbfbe77f0, func=0) at zpty.c:573
#2  0x08057efe in execbuiltin (args=0x80f9688, bn=0xbbad1e20) at builtin.c:439
#3  0x08066be9 in execcmd (state=0xbfbea058, input=0, output=0, how=2, last1=2) at exec.c:3066
#4  0x0806776a in execpline2 (state=0xbfbea058, pcode=<value optimized out>, how=2, input=0, output=0, last1=0) at exec.c:1561
#5  0x08067b17 in execpline (state=0xbfbea058, slcode=<value optimized out>, how=2, last1=0) at exec.c:1347
#6  0x08068adb in execlist (state=0xbfbea058, dont_change_job=1, exiting=0) at exec.c:1184
#7  0x08068bb5 in execode (p=0x80d0de0, dont_change_job=1, exiting=0) at exec.c:975
#8  0x08068c69 in runshfunc (prog=0x80d0de0, wrap=0x0, name=dwarf2_read_address: Corrupted DWARF expression.) at exec.c:4423
#9  0x0806900a in doshfunc (shfunc=0x80d46f8, doshargs=0x80f94c8, noreturnval=0) at exec.c:4331
[...it's a long backtrace...]
#58 0x08068bb5 in execode (p=0x80e15b0, dont_change_job=0, exiting=0) at exec.c:975
#59 0x08078874 in loop (toplevel=1, justonce=0) at init.c:181
#60 0x080794e2 in zsh_main (argc=5, argv=0xbfbfe708) at init.c:1406
#61 0x08052217 in main (argc=Cannot access memory at address 0x7a28) at ./main.c:93

