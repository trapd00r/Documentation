From zsh-users-return-15126-mason-zsh=primenet.com.au@zsh.org Thu Jun 24 14:13:28 2010
Return-Path: <zsh-users-return-15126-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 26601 invoked by alias); 24 Jun 2010 14:13:28 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 15126
Received: (qmail 18826 invoked from network); 24 Jun 2010 14:13:16 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.0 required=5.0 tests=BAYES_00,DKIM_ADSP_CUSTOM_MED,
	FREEMAIL_FROM,NML_ADSP_CUSTOM_MED autolearn=no version=3.3.1
Received-SPF: neutral (ns1.primenet.com.au: 202.224.39.197 is neither permitted nor denied by SPF record at _spf.google.com)
Message-ID: <20100624225433.2176@binki>
From: "d.henman" <dhenman@gmail.com>
Date: Thu, 24 Jun 2010 22:54:33 +0900
To: "=?us-ascii?Q?=3D=3FISO-8859-15=3FQ=3FJan=5FL=3DFCbbe=3F=3D?=" <jlu@ivu.de>
Cc: <zsh-users@zsh.org>
Subject: Re: zsh cygpath problem in cygwin
In-reply-to: Your message of Thu, 24 Jun 2010 15:03:41 +0200
	 <4C2357AD.9060806@ivu.de>
References: <4C2357AD.9060806@ivu.de>
X-Mailer: MH-E 8.2; GNU Mailutils 2.0; GNU Emacs 23.1.90
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable


That is not a zsh problem or bug.=20=20

The variable is getting set properly, it just that you can't print it out, =
because the display routine see's the backslashes, \'s, and treats it as an=
 escape character, which means the next character is probably being turned =
into a non-printable control character.

N.B. for others "cygpath" is a command to translate windows pathnames to po=
six style names or other direction.

Jan L=FCbbe <jlu@ivu.de> wrote:
> I have a very strange problem in cygwin. If I use cygpath normally in
> the zsh everything is fine. But if I assign a variable like JAVA_HOME
> then strange thinks happen. "k\b" disappears and stuff like that. The
> strange thing is, that this does not happen in bash under cygwin. It
> must somehow be related to the zsh. Do you have any ideas?
>=20
> % JAVA_HOME=3D"`cygpath -wl /cygdrive/d/Programme/Java/JavaEE61x32/jdk/bi=
n`"
> % echo $JAVA_HOME
> D:\Programme\Java\JavaEE61x32\jdin

The below is not a full command? The argument is missing.
I suppose you meant --> cygpath -u "$JAVA_HOME"
> % cygpath -wl
> /cygdrive/d/Programme/Java/JavaEE61x32/jdk/bin/jboss-5.1.0.GA/bin
> D:\Programme\Java\JavaEE61x32\jdk\bin

Hope this helps.  The echo command willn ot output the results correctly, b=
ut
% cygpath -u "$JAVA_HOME"
will work and even the redundant

% cygpath -wl "$JAVA_HOME"
which will give you the same value.

