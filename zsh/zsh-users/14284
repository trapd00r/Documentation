From zsh-users-return-14284-mason-zsh=primenet.com.au@sunsite.dk Wed Aug 05 15:14:52 2009
Return-Path: <zsh-users-return-14284-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 3123 invoked from network); 5 Aug 2009 15:14:40 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.2 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_SORBS_WEB autolearn=no version=3.2.5
Received: from new-brage.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.254.104)
  by ns1.primenet.com.au with SMTP; 5 Aug 2009 15:14:40 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 80933 invoked from network); 5 Aug 2009 15:14:29 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 5 Aug 2009 15:14:29 -0000
Received: (qmail 14961 invoked by alias); 5 Aug 2009 15:14:12 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 14284
Received: (qmail 14936 invoked from network); 5 Aug 2009 15:14:11 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 5 Aug 2009 15:14:11 -0000
Received: from biskalar.biskalar.de (sesamstrafe.de [213.133.108.195])
	by bifrost.dotsrc.org (Postfix) with ESMTPS id 74590810A4B1
	for <zsh-users@sunsite.dk>; Wed,  5 Aug 2009 17:14:05 +0200 (CEST)
Received: from [192.124.26.250] (helo=ranga.kyb.local)
	by biskalar.biskalar.de with esmtpsa (TLS-1.0:RSA_AES_128_CBC_SHA:16)
	(Exim 4.50)
	id 1MYiBo-0007OS-9Y; Wed, 05 Aug 2009 17:14:04 +0200
Cc: zsh-users@sunsite.dk
Message-Id: <CCB88E77-6F5E-4058-8077-0FA1E06727EB@biskalar.de>
From: Sebastian Stark <seb-zsh@biskalar.de>
To: spiralofhope <spiralofhope@gmail.com>
In-Reply-To: <20090805074009.3074ba93@gmail.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed; delsp=yes
Content-Transfer-Encoding: 7bit
Mime-Version: 1.0 (Apple Message framework v935.3)
Subject: Re: making `cd` work unquoted
Date: Wed, 5 Aug 2009 17:14:03 +0200
References: <20090725091008.7af5b873@gmail.com> <090725111722.ZM23913@torch.brasslantern.com> <chaz20090726110349.GA5452@seebyte.com> <20090805074009.3074ba93@gmail.com>
X-Mailer: Apple Mail (2.935.3)
X-Virus-Scanned: ClamAV 0.94.2/9656/Wed Aug  5 05:37:12 2009 on bifrost
X-Virus-Status: Clean


On 05.08.2009, at 16:40, spiralofhope wrote:
> I agree that this ought to be a separate command.  I was hoping to  
> make
> something that could be a drop-in replacement for cd, but that doesn't
> look possible.

You would also have to deal with the special case cd with two arguments:

Consider you are in /home/userA/tmp

   cd userA userB

would lead you to /home/userB/tmp

> Probably the best route for me to go is to create a function bound  
> to a
> hotkey which will either quote my current commandline

It's there already: quote-line and quote-region. Especially the latter  
is useful together with set-mark-command, which I have bound to ESC-v,  
just like in vim. In newer zsh version you even get different color  
for characters that are "marked" like this, e. g.:

   zle_highlight=(region:bg=red special:underline)

This helps if you have to correctly quote things like \""'\''\\\'''" :)


Sebastian

