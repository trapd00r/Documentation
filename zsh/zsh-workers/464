From zsh-workers-request@math.gatech.edu  Wed Oct 18 07:40:33 1995
Received: from gatech.edu (gatech.edu [130.207.244.244]) by werple.net.au (8.7/8.7) with SMTP id HAA06351 for <mason@werple.mira.net.au>; Wed, 18 Oct 1995 07:40:30 +1000 (EST)
Received: from euclid (euclid.skiles.gatech.edu) by gatech.edu with SMTP id AA06106
  (5.65c/Gatech-10.0-IDA for <mason@werple.mira.net.au>); Tue, 17 Oct 1995 17:33:15 -0400
Received: by euclid (5.x/SMI-SVR4)
	id AA00350; Tue, 17 Oct 1995 17:30:20 -0400
Resent-Date: Tue, 17 Oct 1995 19:37:31 -0200
Old-Return-Path: <carlos@snfep1.if.usp.br>
Date: Tue, 17 Oct 1995 19:37:31 -0200
From: Carlos Carvalho <carlos@snfep1.if.usp.br>
Message-Id: <199510172137.TAA03911@snfep1.if.usp.br>
To: zsh-workers@math.gatech.edu
Subject: Re: behaviour with rsh
In-Reply-To: <199510172115.WAA28754@bolyai.cs.elte.hu>
References: <n1398738459.61633@smtpgwprod.ny.jpmorgan.com>
	<199510172115.WAA28754@bolyai.cs.elte.hu>
Resent-Message-Id: <"krTkP1.0.L5.h12Xm"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/464
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Zoltan Hidvegi (hzoli@cs.elte.hu) wrote on 17 October 1995 22:14:

 >> 
 >> Zoltan wrote:
 >> >I think this is not zsh specific.
 >> 
 >> I think it is.  zsh ought to be able to hide a child in a way which allows
 >> the rsh to exit.  Maybe other shells are broken too. But so what? Also I
 >> think, as Carlos says, that it used to work.
 >> 
 >> Running  rsh blaa "sh -c whatsit &"  is a horrible hack, and shouldn't be
 >> necessary.
 >
 >I've just made zsh my login shell in the yp database, and tested
 >this problem.
 >
 >rsh foo 'xterm -display bar:0 >&- 2>&- <&-'
 >
 >returned the prompt in almost all cases.  The only exception is when I rsh'd
 >to an Ultrix machine, but only when the originating machine was not Linux.

I tested from linux to a sun 4.1.2 and it doesn't return. From the sun
to linux it works fine, both with hzoli10.3.

Before zsh used to close file descriptors until 10. It was a hidden
compile option. Why was it removed? I remember Duncan changed it a
long time ago, but didn't suppress it, I think.

Carlos

