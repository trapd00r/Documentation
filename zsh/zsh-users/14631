From zsh-users-return-14631-mason-zsh=primenet.com.au@zsh.org Thu Dec 03 10:03:50 2009
Return-Path: <zsh-users-return-14631-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 6607 invoked by alias); 3 Dec 2009 10:03:50 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 14631
Received: (qmail 272 invoked from network); 3 Dec 2009 10:03:37 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-3.0 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_DNSWL_LOW autolearn=ham version=3.2.5
Received-SPF: none (ns1.primenet.com.au: domain at csr.com does not designate permitted sender hosts)
Message-Id: <200912031003.nB3A3PJl005726@news01.csr.com>
X-Authentication-Warning: news01.csr.com: pws owned process doing -bs
To: zsh-users@zsh.org
Subject: Re: compaudit:74: _i_addfiles: assignment to invalid subscript range
In-reply-to: <200912030952.nB39qFu7005462@news01.csr.com>
References: <20091203065205.GA15270@panix.com> <200912030952.nB39qFu7005462@news01.csr.com>
Comments: In-reply-to Peter Stephenson <pws@csr.com>
   message dated "Thu, 03 Dec 2009 09:52:15 +0000."
Date: Thu, 03 Dec 2009 10:03:25 +0000
From: Peter Stephenson <pws@csr.com>
X-OriginalArrivalTime: 03 Dec 2009 10:03:25.0956 (UTC) FILETIME=[DAE1B440:01CA73FF]
Content-Type: text/plain
MIME-Version: 1.0
X-Scanned-By: MailControl A-09-22-03 (www.mailcontrol.com) on 10.68.0.129

Peter Stephenson wrote:
> % test=()
> % for i in {1..$#test}; do print $i; done
> 1
> 0
> 
> It's looping over a non-existent and a not-even-valid entry for an empty
> array, which is not very helpful.  That number is then being used as
> a subscript for the empty array.  I'm not actually sure the syntax
> {1..0} should be doing that, I don't think we've ever defined what it
> does.

Ah, I'm an idiot.

       If the  numbers  are  in  decreasing
       order the resulting sequence will also be in decreasing order.

So the brace expansion is doing exactly what it's been asked to do.

-- 
Peter Stephenson <pws@csr.com>            Software Engineer
Tel: +44 (0)1223 692070                   Cambridge Silicon Radio Limited
Churchill House, Cambridge Business Park, Cowley Road, Cambridge, CB4 0WZ, UK


Member of the CSR plc group of companies. CSR plc registered in England and Wales, registered number 4187346, registered office Churchill House, Cambridge Business Park, Cowley Road, Cambridge, CB4 0WZ, United Kingdom

