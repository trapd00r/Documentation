From zsh-workers-request@euclid.skiles.gatech.edu Thu Jan 30 22:29:48 1997
Return-Path: <zsh-workers-request@euclid.skiles.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 7333 invoked from network); 30 Jan 1997 22:29:45 -0000
Received: from euclid.skiles.gatech.edu (list@130.207.146.50)
  by coral.primenet.com.au with SMTP; 30 Jan 1997 22:29:45 -0000
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id RAA24773; Thu, 30 Jan 1997 17:23:16 -0500 (EST)
Resent-Date: Thu, 30 Jan 1997 17:10:09 -0500 (EST)
From: Vidiot <brown@ftms.COM>
Message-Id: <199701302211.QAA03992@ftms.ftms.com>
Subject: INSTALL minor error
To: zsh-users@math.gatech.edu (ZSH Mailing List)
Date: Thu, 30 Jan 1997 16:11:13 -0600 (CST)
X-Mailer: ELM [version 2.4 PL24]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"85n4n1.0.Oy5.0nHyo"@euclid>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/635
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

The INSTALL file contains the following:

    Compiler Options or Using a Different Compiler
    ----------------------------------------------
    By default, configure will use the "gcc" compiler if found.  You can use a
    different compiler, or add unusual options for compiling or linking that
    the "configure" script does not know about, by either editing the user
    configuration section of the top level Makefile (after running configure)
    or giving "configure" initial values for these variables by setting them
    in the environment.  Using a Bourne-compatible shell (such as sh,ksh,zsh),

    you can do that on the command line like this:
        CC=c89 CFLAGS=-O2 LIBS=-lposix ./configure

    Or on systems that have the "env" program, you can do it like this:
        env CPPFLAGS=-I/usr/local/include LDFLAGS=-s ./configure


The line that caught me is "or add unusual options for compiling" and the
example "CFLAGS=-O2."  The statement is incorrect, the option isn't added,
it REPLACES the option.  Because I have the Sun Ultra 140 computer, there
is a GCC CFLAG that is available (-mv8) to optimize code for the UltraSPARC.
If one does a "CFLAGS=-mv8" before running the configure, the default
CFLAGS for the GCC compiler are replaced with the -mv8 flag.

If this is really supposed to be a ADD, then the configure script is
broken.  If this is really a replace (as it currently works), then the
INSTALL instructions are in error.

Personally, I think the configure script should be changed to make it work
as an add.  The reason is that the user might not know what the default
CFLAGS are in order to place them on the line a well.  The current GCC
default CFLAGS is rather terse and quite forgettable.

To get around the problem, I just edited Makefile after configure was done.

Just thought that I would mention this.

MB
-- 
System Administrator - Finnigan FT/MS - Madison WI. <URL:http://www.ftms.com/>
e-mail: brown@ftms.com
phone: (608) 273-8262 ext: 612  fax: (608) 273-8719
Visit - <URL:http://www.cdsnet.net/vidiot/>  (Your link to Star Trek and UPN)

