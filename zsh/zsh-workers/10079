From zsh-workers-return-10079-mason-zsh=primenet.com.au@sunsite.auc.dk Sun Mar 12 00:19:36 2000
Return-Path: <zsh-workers-return-10079-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 25132 invoked from network); 12 Mar 2000 00:19:35 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 12 Mar 2000 00:19:35 -0000
Received: (qmail 27685 invoked by alias); 12 Mar 2000 00:19:29 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 10079
Received: (qmail 27672 invoked from network); 12 Mar 2000 00:19:28 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <1000312001854.ZM26814@candle.brasslantern.com>
Date: Sun, 12 Mar 2000 00:18:53 +0000
In-Reply-To: <20000311222225.A27795@thelonious.new.ox.ac.uk>
Comments: In reply to Adam Spiers <adam@spiers.net>
        "Re: _files vs _path_files discussion (old thread)" (Mar 11, 10:22pm)
References: <199909170728.JAA01949@beta.informatik.hu-berlin.de> 
	<20000311222225.A27795@thelonious.new.ox.ac.uk>
X-Mailer: Z-Mail (5.0.0 30July97)
To: Adam Spiers <adam@spiers.net>, zsh-workers@sunsite.auc.dk
Subject: Re: _files vs _path_files discussion (old thread)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Mar 11, 10:22pm, Adam Spiers wrote:
} Subject: Re: _files vs _path_files discussion (old thread)
}
} > > A second issue is whether, if you find target files in the current
} > > directory, you might still want to complete directories.
} 
} Does the new zstyle stuff now provide some kind of configurability to
} solve this issue?

Yes, it's the tag-order style.

} Suppose I have, in the cwd, a file `foo.tar.gz' and a directory `foo'.
} I type:
} 
}   $ tar zxf foo<TAB>
} 
} Currently, this immediately completes to `foo.tar.gz'.  But what if I
} actually wanted to extract a .tar.gz from somewhere within the
} directory foo?

zstyle ':completion::complete:tar::' \
	tag-order 'globbed-files directories all-files'

By putting all the tags in the same argument, they're all treated as
equal for purposes of completions.  You could also do

zstyle ':completion::complete:tar::' \
	tag-order 'globbed-files directories' all-files

(that is, put all-files in a separate argument) to get shown all possible
files only if there are no globbed-files or directories.  The default is
as if you had

zstyle ':completion::complete:tar::' \
	tag-order globbed-files directories all-files

(that is, all in separate arguments), which in turn depends on some of
the command-line options passed to _files by _tar (so it's not the same
for all completions that use _files).

} Incidentally, the more I understand of the new completion system, the
} more I like it.  [...]  Congratulations to everyone involved,
} especially (needless to say) Sven!

Right, three cheers for Sven!  And thanks.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

