From zsh-workers-return-15052-mason-zsh=primenet.com.au@sunsite.dk Sat Jun 23 18:22:01 2001
Return-Path: <zsh-workers-return-15052-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 3724 invoked from network); 23 Jun 2001 18:22:00 -0000
Received: from unknown (HELO sunsite.dk) (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 23 Jun 2001 18:22:00 -0000
Received: (qmail 18116 invoked by alias); 23 Jun 2001 18:21:18 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 15052
Received: (qmail 18094 invoked from network); 23 Jun 2001 18:21:17 -0000
X-Envelope-Sender-Is: Andrej.Borsenkow@mow.siemens.ru (at relayer goliath.siemens.de)
Message-ID: <3B34DEF1.7010701@mow.siemens.ru>
Date: Sat, 23 Jun 2001 22:24:49 +0400
From: Andrej Borsenkow <Andrej.Borsenkow@mow.siemens.ru>
User-Agent: Mozilla/5.0 (X11; U; Linux 2.4.5-7mdk i686; en-US; rv:0.9.1) Gecko/20010611
X-Accept-Language: en-us
MIME-Version: 1.0
To: zsh-workers@sunsite.dk
CC: Jason Price <jprice@cyberbuzz.gatech.edu>
Subject: Re: gcc 3.0 produces broken zsh
References: <002301c0faff$339a0430$21c9ca95@mow.siemens.ru>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Andrej Borsenkow wrote:

> 
> Everything is nice, no errors, everything properly defined but does not
> work. I'll try to get a look at weekend with gcc3 on Mandrake cooker.
> 


Unfortunately, it works here using gcc3.0 from cooker contrib and 
(mostly) up-to-date cooker.

{pts/1}% rpm -qa | grep gcc3.0
gcc3.0-cpp-3.0-1mdk
gcc3.0-3.0-1mdk
libgcc3.0-3.0-1mdk

The one warning I got is

gcc -V 3.0   -shared -o zleparameter.so   zleparameter..o    -ldl -lnsl 
-ltermcap -lm  -lc
gcc: Spec failure: Unrecognised spec option 'M'
gcc: Spec failure: Unrecognised spec option 'M'

that I presume is related to this spec line:
*libgcc:
%{shared-libgcc:-lgcc_s%M 
-lgcc}%{static-libgcc:-lgcc}%{!shared-libgcc:%{!static-libgcc:%{shared:-lgcc_s%M 
-lgcc}}}%{!shared-libgcc:%{!static-libgcc:%{!shared:-lgcc}}}

(Chmou, would you look into it?) but in spite of it all tests passed.


Cannot speak about CVS version off GCC but released seems to work.

-andrej

