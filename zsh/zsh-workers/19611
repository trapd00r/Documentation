From zsh-workers-return-19611-mason-zsh=primenet.com.au@sunsite.dk Fri Mar 12 10:01:25 2004
Return-Path: <zsh-workers-return-19611-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5441 invoked from network); 12 Mar 2004 10:01:24 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 12 Mar 2004 10:01:24 -0000
Received: (qmail 14722 invoked by alias); 12 Mar 2004 10:00:55 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 19611
Received: (qmail 14702 invoked from network); 12 Mar 2004 10:00:50 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 12 Mar 2004 10:00:50 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [193.109.254.211] by sunsite.dk (MessageWall 1.0.8) with SMTP; 12 Mar 2004 10:0:49 -0000
X-VirusChecked: Checked
X-Env-Sender: okiddle@yahoo.co.uk
X-Msg-Ref: server-20.tower-36.messagelabs.com!1079085648!4594856
X-StarScan-Version: 5.2.5; banners=-,-,-
X-Originating-IP: [158.234.9.163]
Received: (qmail 10838 invoked from network); 12 Mar 2004 10:00:48 -0000
Received: from iris.logica.co.uk (158.234.9.163)
  by server-20.tower-36.messagelabs.com with SMTP; 12 Mar 2004 10:00:48 -0000
Received: from trentino.logica.co.uk ([158.234.142.61])
	by iris.logica.co.uk (8.12.3/8.12.3/Debian -4) with ESMTP id i2CA0mCk006326
	for <zsh-workers@sunsite.dk>; Fri, 12 Mar 2004 10:00:48 GMT
Received: from trentino.logica.co.uk (localhost [127.0.0.1])
	by trentino.logica.co.uk (Postfix) with ESMTP id 8EA1779721C1
	for <zsh-workers@sunsite.dk>; Fri, 12 Mar 2004 11:00:03 +0100 (CET)
X-VirusChecked: Checked
X-StarScan-Version: 5.0.7; banners=.,-,-
In-reply-to: <20040311213540.GA907@scowler.net> 
From: Oliver Kiddle <okiddle@yahoo.co.uk>
References: <20040311213540.GA907@scowler.net>
To: zsh-workers@sunsite.dk
Subject: Re: PATCH: vux/vuxctl completion 
Date: Fri, 12 Mar 2004 11:00:03 +0100
Message-ID: <29555.1079085603@trentino.logica.co.uk>

Clint Adams wrote:
> For vux 0.4.8.

> Index: Completion/Unix/Command/_vux
> +#compdef vux vuxctl
> +
> +case "$service" in
> +	(vux)

Sorry to winge about this but could we please have consistency on
indentation across completion functions. Convention is for two spaces.

> +
> +_arguments -s -C \
> +	'-x:action:(p g m w r f)' \

Those actions could really do with descriptions:
  '...:((p\:description g\:...))'
works.

> +	compadd start clean double half up down next previous forward \
> +		replay pause resume stop reload save history help

This should really have an _wanted before it. We should never be adding
matches without some sort of description.

> Index: Completion/Unix/Command/_mtr
> 
> +       '(--report)-r[report]' \
> +       '(-r)--report' \
> +       '(--report--cycles)-c[report cycles]:count:' \
> +       '(-c)--report-cycles:count:' \

Since in 4.1, matches are grouped where they have the same description,
it is much nicer to give the description to both the long and short
option. The convention is to do this with brace expansion:

  '(-r --report)'{-r,--report}'[report]' \
  '(-c --report-cycles)'{-c,--report-cycles}'[report cycles]:count' \

Except the descriptions could be rather more, um, descriptive.

Oliver

