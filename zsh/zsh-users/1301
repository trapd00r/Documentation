From zsh-workers-request@math.gatech.edu Fri Jan 30 21:36:32 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 12300 invoked from network); 30 Jan 1998 21:36:31 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 30 Jan 1998 21:36:31 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id QAA00978;
	Fri, 30 Jan 1998 16:19:32 -0500 (EST)
Resent-Date: Fri, 30 Jan 1998 16:19:04 -0500 (EST)
Message-ID: <swordfish.886195210@student.cs.york.ac.uk>
From: opk101@cs.york.ac.uk (Oliver Kiddle)
Date: Fri, 30 Jan 1998 21:07:22 +0000
In-Reply-To: zefram@tao.co.uk
       "Re: Completion on cd" (Jan 28, 10:10am)
X-Mailer: Mail User's Shell (7.2.6 beta(3) 11/17/96)
To: zsh-users@math.gatech.edu
Subject: Re: Completion on cd
Resent-Message-ID: <"NlI0g.0.fE.7Faqq"@math>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/1301
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

On Jan 28, 10:10am, zefram@tao.co.uk wrote:
>    compctl -g '*(D-/)' cd
> 
> is better.  The point of using + is that the non-. filenames are used
> if possible, approximating the behaviour of normal filename completion.
> Of course, with the recent compctl patches, one should use
> 
> compctl -/ cd

I was hoping that these -/ options would fix my problems when I upgraded
to 3.1.2-zefram but that wasn't the case. Using the above compctl for cd
and the 3.1.2-zefram I still get the problems I previously described. If
you can't remember, I shall outline it again:

% compctl -/ cd
% cd
% cd [tab]
 -- Only my directories not beginning with "." are listed which is fine
% cd .[tab]
 -- Only my directories beginning with "." are listed which is fine
% cd .netscape/[tab]
 -- All the *files* and directories in .netscape/ (not starting ".") are
 -- listed! I'd have expected it to complete to "cd .netscape/plugins/"
 -- Also annoying is this behaviour:
% cd ..[tab]
 -- I get a beep! It should complete to "cd ../" as in tcsh.

The new -W option is nice though and seems to work very well. Would be
nice if the -Y compctl option patch was included.

Another problem which I've been having with zsh which wasn't a problem
in 3.0.5 but is in 3.1.2 or 3.1.2-zefram is with a particular bindkey:

Under 3.0.5, I used:
bindkey '^[[161q' up-line-or-search

This meant that if I typed a letter, and then pressed Shift-Up the
history would be searched back for a line starting with what I had typed
and the cursor would be positioned at the end of the line. This worked
in the same way as "history-search-backward" from tcsh and was what I
wanted. Under zsh 3.1.2, I just get a beep when I press Shift-Up.
Instead, I have been using:
bindkey '^[[161q' history-beginning-search-backward
which I don't like as much because it leaves the cursor at the same
position.

Oliver Kiddle

