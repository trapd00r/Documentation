From zsh-workers-return-6889-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Jun 28 09:04:27 1999
Return-Path: <zsh-workers-return-6889-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 21738 invoked from network); 28 Jun 1999 09:04:24 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 28 Jun 1999 09:04:24 -0000
Received: (qmail 20660 invoked by alias); 28 Jun 1999 09:04:05 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 6889
Received: (qmail 20651 invoked from network); 28 Jun 1999 09:04:02 -0000
Message-ID: <37773A59.52E46EDE@thoth.u-net.com>
Date: Mon, 28 Jun 1999 10:03:21 +0100
From: Oliver Kiddle <opk@thoth.u-net.com>
X-Mailer: Mozilla 4.61 [en] (Win95; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Peter Stephenson <pws@ibmth.df.unipi.it>, zsh-workers@sunsite.auc.dk
Subject: job completion (was Re: PATCH: pws-24: Stop the unbearable beeping of 
 magic-space)
References: <9906271325.AA36984@ibmth.df.unipi.it>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Peter Stephenson wrote:
> 
> "Bart Schaefer" wrote:
> > Line numbers below may be off a bit, because I also got annoyed by Oliver
> > Kiddle's patch from 6772.  Gosh, I actually went one whole revision of zsh
> > without having to either put in or maintain a local change ...

I'm guessing that you don't like it because the full command is long and
looks messy when quoted and listed?

> Is there a suggestion for resolving this?  I put it in because there were
> no complaints.  I use a different job completion function anyway.  That's
> the solution for somebody, but what should be the default?  Anyone want to
> write a patch to return the shortest unique string of complete words?

I used it all last week and it was really useful to me so I'd prefer if
it stays. I'm not convinced that using the shortest unique string would
be the best approach. What might be better would be to treat completion
of the first word (i.e. the command name) as separate to completion of
the remaining arguments so initially only the commands are listed but
they are completed without a suffix and you get the full arguments if
you press tab again.

I can probably implement this for the new style completion and this
would be helped by 6772 remaining so I wouldn't have to use $(jobs). I
don't have much time at the moment so I'll wait for any comments or
alternative suggestions. If many people don't like 6772 then we probably
want a solution that isn't dependant on new style completion.

Oliver Kiddle

