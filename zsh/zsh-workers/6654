From zsh-workers-return-6654-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Jun 16 07:20:57 1999
Return-Path: <zsh-workers-return-6654-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 28589 invoked from network); 16 Jun 1999 07:20:55 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 16 Jun 1999 07:20:55 -0000
Received: (qmail 22679 invoked by alias); 16 Jun 1999 07:20:50 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 6654
Received: (qmail 22672 invoked from network); 16 Jun 1999 07:20:50 -0000
Date: Wed, 16 Jun 1999 09:20:48 +0200 (MET DST)
Message-Id: <199906160720.JAA05563@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
Subject: PATCH: small fix for completion listing


Completion lists got confused with an empty display list (-y).

Bye
 Sven

diff -u os/Zle/zle_tricky.c Src/Zle/zle_tricky.c
--- os/Zle/zle_tricky.c	Wed Jun 16 08:37:45 1999
+++ Src/Zle/zle_tricky.c	Wed Jun 16 09:17:46 1999
@@ -7959,7 +7959,7 @@
 		e++;
 	    }
 	}
-	if (pp) {
+	if (pp && *pp) {
 	    if (pnl) {
 		putc('\n', shout);
 		pnl = 0;

--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

