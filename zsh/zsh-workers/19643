From zsh-workers-return-19643-mason-zsh=primenet.com.au@sunsite.dk Wed Mar 17 10:13:25 2004
Return-Path: <zsh-workers-return-19643-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 28636 invoked from network); 17 Mar 2004 10:13:24 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 17 Mar 2004 10:13:24 -0000
Received: (qmail 7955 invoked by alias); 17 Mar 2004 10:13:16 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 19643
Received: (qmail 7917 invoked from network); 17 Mar 2004 10:13:16 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 17 Mar 2004 10:13:16 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [193.109.254.211] by sunsite.dk (MessageWall 1.0.8) with SMTP; 17 Mar 2004 10:13:15 -0000
X-VirusChecked: Checked
X-Env-Sender: okiddle@yahoo.co.uk
X-Msg-Ref: server-19.tower-36.messagelabs.com!1079518395!4710797
X-StarScan-Version: 5.2.5; banners=-,-,-
X-Originating-IP: [158.234.9.163]
Received: (qmail 1299 invoked from network); 17 Mar 2004 10:13:15 -0000
Received: from iris.logica.co.uk (158.234.9.163)
  by server-19.tower-36.messagelabs.com with SMTP; 17 Mar 2004 10:13:15 -0000
Received: from trentino.logica.co.uk ([158.234.142.61])
	by iris.logica.co.uk (8.12.3/8.12.3/Debian -4) with ESMTP id i2HADECk019640;
	Wed, 17 Mar 2004 10:13:14 GMT
Received: from trentino.logica.co.uk (localhost [127.0.0.1])
	by trentino.logica.co.uk (Postfix) with ESMTP
	id 3997C79721C1; Wed, 17 Mar 2004 11:12:30 +0100 (CET)
Cc: zsh-workers@sunsite.dk
X-VirusChecked: Checked
X-StarScan-Version: 5.0.7; banners=.,-,-
In-reply-to: <BCC268FF-77A4-11D8-B853-003065E5EFE0@mneptok.com> 
From: Oliver Kiddle <okiddle@yahoo.co.uk>
References: <28264.1079449650@csr.com> <12351.1079466466@trentino.logica.co.uk> <BCC268FF-77A4-11D8-B853-003065E5EFE0@mneptok.com>
To: mneptok <mneptok@mneptok.com>
Subject: Re: PATCH: zpty on HP/UX 
Date: Wed, 17 Mar 2004 11:12:30 +0100
Message-ID: <24420.1079518350@trentino.logica.co.uk>

mneptok wrote:
> 
> The version of zsh included with MacOS X.3.x seems to have a functional 
> zpty.
> 
> [mneptok@anubis] mneptok :: zpty -L
> zpty ls -l
> zpty date date
> [mneptok@anubis] mneptok ::

But can you read from the commands. i.e. if you do:
  zpty date date
  zpty -r date
will the second command print the date or will it exit with a status of
1. In my tests on the Sourceforge machines, I can get as far as adding
a few commands but I can't read from them.

If reading does work, what version of zsh is it? It is just possible we
had it working before. If we didn't, tracking down the person at Apple
and getting the fixes would definitely be useful, thanks.

If you build zsh on MacOS X.3, does it build the dynamic modules
without your having to install the dlcompat library? The zshs included
with 10.1 and 10.2 have dynamic modules disabled so there is no zpty.
It'd be interesting to know if Apple have added a dlopen interface for
compatibility.

Oliver

