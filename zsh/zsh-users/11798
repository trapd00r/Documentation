From zsh-users-return-11798-mason-zsh=primenet.com.au@sunsite.dk Fri Aug 24 23:44:22 2007
Return-Path: <zsh-users-return-11798-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 23010 invoked from network); 24 Aug 2007 23:44:16 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.1 (2007-05-02) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.1
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 24 Aug 2007 23:44:16 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 39762 invoked from network); 24 Aug 2007 23:44:09 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 24 Aug 2007 23:44:09 -0000
Received: (qmail 7844 invoked by alias); 24 Aug 2007 23:44:01 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 11798
Received: (qmail 7828 invoked from network); 24 Aug 2007 23:44:00 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 24 Aug 2007 23:44:00 -0000
Received: (qmail 38356 invoked from network); 24 Aug 2007 23:44:00 -0000
Received: from wx-out-0506.google.com (66.249.82.235)
  by a.mx.sunsite.dk with SMTP; 24 Aug 2007 23:43:55 -0000
Received: by wx-out-0506.google.com with SMTP id h27so875204wxd
        for <zsh-users@sunsite.dk>; Fri, 24 Aug 2007 16:43:54 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=kTxDZcbQl+JnxLYozfWTVSaRAZdcLCmnKFa68kWHbUOKJVl+8GkFYnpfBJxytBG0smCSRl6UUjiYv5Snnitim8VvV0HacSBG6Ee7NANOD+dBllB1+USTCYlhsJm7JDprSe1rMlZ0oBE8Z2bHyzO786dN4YKSrcryuGebwMW15wQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=SnwtknKt1EIXZ3OmCl2nUyDiaLmf8DdwqF9SE1NO8UlSGBOGgI0mUPFbDGMECNqMjSnctoKPg3HwepiCQHt3zMtkGe31XcIUVjeuRU8SfH+ivE3ZSwHo4/utyQJU89FbVMWAmS72GMCAIagWEUqb/t65+j6zS78n2GiqqbQPKnQ=
Received: by 10.70.102.16 with SMTP id z16mr5860002wxb.1187999032680;
        Fri, 24 Aug 2007 16:43:52 -0700 (PDT)
Received: by 10.70.130.15 with HTTP; Fri, 24 Aug 2007 16:43:52 -0700 (PDT)
Message-ID: <82839db60708241643m1a91136fp6ed7bc972d9e7225@mail.gmail.com>
Date: Sat, 25 Aug 2007 01:43:52 +0200
From: "Anonymous bin ich" <ichbinanon@gmail.com>
To: "zsh users" <zsh-users@sunsite.dk>
Subject: Re: Bash-like PgUp/PdDown reverse search?
In-Reply-To: <20070824171342.GA3794@dan.emsphone.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <2d460de70708241001t59382ae6j3dc201de7d3ca899@mail.gmail.com>
	 <200708241706.l7OH6gXe032329@news01.csr.com>
	 <20070824171342.GA3794@dan.emsphone.com>

On 8/24/07, Dan Nelson <dnelson@allantgroup.com> wrote:
> In the last episode (Aug 24), Peter Stephenson said:
> > "Richard Hartmann" wrote:
> > > I have been unable to make PgUp / PgDown act like Bash's
> > > reverse search. I.e., you enter some string and then press
> > > PgUp / PgDown to search for commands that start with this
> > > string.
> >
> > bindkey '^[[5~' history-beginning-search-backward
> > bindkey '^[[6~' history-beginning-search-forward
> >
> > Use "read" with no arguments to verify that's what your PageUp and
> > PageDown are sending; hit ^C to exit.
>
> I use a helper function in my zshrc to set up all my bindings:
>
> # usage: bindtc <cap> <default> <zsh-command>
> bindtc ()
> {
>         setopt localoptions
>         local keyval=$(echotc "$1" 2>&-)
>         [[ $keyval == "no" ]] && keyval=""
>         bindkey "${keyval:-$2}" "$3"
> }
>
> # Bindings for PGUP, PGDN, HOME, END
> bindtc kP "^[[I" history-beginning-search-backward
> bindtc kN "^[[G" history-beginning-search-forward
> bindtc kh "^[[H" beginning-of-line
> bindtc kH "^[[F" end-of-line
>
> --
>         Dan Nelson
>         dnelson@allantgroup.com
>

For those using zkbd:

source ~/.zkbd/$TERM-$VENDOR-$OSTYPE
[[ -n ${key[PageUp]} ]] && bindkey "${key[PageUp]}"
history-beginning-search-backward
[[ -n ${key[PageDown]} ]] && bindkey "${key[PageDown]}"
history-beginning-search-forward

-- 
Regards,

