From zsh-workers-request@euclid.skiles.gatech.edu  Tue Aug 27 10:00:18 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by coral.primenet.com.au (8.7.5/8.7.3) with ESMTP id KAA11314 for <mason@primenet.com.au>; Tue, 27 Aug 1996 10:00:16 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id TAA08233; Mon, 26 Aug 1996 19:14:52 -0400 (EDT)
Resent-Date: Mon, 26 Aug 1996 18:30:37 -0400 (EDT)
Sender: allan@royal-oak.csc.ti.com
To: Julio Garcia <julio@mddjg.fc.hp.com>
Cc: zsh-users@math.gatech.edu
Subject: Re: beyond zsh v2.3.1
References: <9608262034.AA13818@mddjg.fc.hp.com>
Reply-to: allan@csc.ti.com
From: Allan Poindexter <allan@royal-oak.csc.ti.com>
Date: 26 Aug 1996 17:23:11 -0500
In-Reply-To: Julio Garcia's message of Mon, 26 Aug 1996 14:34:27 -0600 (MDT)
Message-ID: <b8pw4deqeo.fsf@royal-oak.csc.ti.com>
Lines: 24
X-Mailer: Gnus v5.3/Emacs 19.33
Resent-Message-ID: <"fVS91.0._u1.CMY8o"@euclid>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/378
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

 Julio> o I have been using a function that gets called by chpwd that looks
 Julio> like this:

 Julio>                 function print_banner { print -n "\e]0;$1\a" }

 Julio>   The purpose of it is to set the title of the xterm to the first
 Julio> parameter.  With zsh 2.6 the title does not change and the string is
 Julio> simply output to stdout (tty maybe?).  I also tried to use a simple
 Julio> program that I have called xlabel which does the same thing as the
 Julio> print statement above.  I had used xlabel with ksh in the past, but it
 Julio> realy wedged zsh when I use it in chpwd().  I had this problem with
 Julio> 2.5 as well.

I use the escape feature in the prompt to do this:

PROMPT='%{]2;%M:%~%}%l %T %h%#'
RPROMPT=' %m:%~'

I define the following so I can turn it on and off at will:

noactiveprompt() { PROMPT='%l %T %h%#' }
activeprompt() { PROMPT='%{]2;%M:%~%}%l %T %h%#' }
alias nap=noactiveprompt
alias ap=activeprompt

