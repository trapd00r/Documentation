From zsh-workers-return-15590-mason-zsh=primenet.com.au@sunsite.dk Tue Aug 07 11:24:42 2001
Return-Path: <zsh-workers-return-15590-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17806 invoked from network); 7 Aug 2001 11:24:40 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 7 Aug 2001 11:24:40 -0000
Received: (qmail 27487 invoked by alias); 7 Aug 2001 11:23:30 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 15590
Received: (qmail 27434 invoked from network); 7 Aug 2001 11:22:58 -0000
Sender: kiddleo
Message-ID: <3B6FCF91.5A5D2196@u.genie.co.uk>
Date: Tue, 07 Aug 2001 12:22:57 +0100
From: Oliver Kiddle <opk@u.genie.co.uk>
X-Mailer: Mozilla 4.76 [en] (X11; U; SunOS 5.7 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: Zsh hackers list <zsh-workers@sunsite.dk>
Subject: Re: =alias
References: <T55391fda68c0a88d01398@>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Peter Stephenson wrote:
> 
> I wrote:
> > Is there anybody out there who wouldn't shout for joy if we removed the
> > alias-lookup part of =-substitution so that it only expanded command paths?
> 
> It seems not.

Good.

So we don't need to complete aliases in the equal context anymore.

What I think would be useful though is if equals expansion worked for
autoloaded functions, expanding to the full name of the file holding the
function. Or if that would cause problems, some sort of similar way such
as an option to functions or autoload?

Oliver

Index: Completion/Zsh/Context/_equal
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Zsh/Context/_equal,v
retrieving revision 1.1
diff -u -r1.1 _equal
--- Completion/Zsh/Context/_equal       2001/04/02 11:22:55     1.1
+++ Completion/Zsh/Context/_equal       2001/08/07 11:17:20
@@ -1,9 +1,3 @@
 #compdef -equal-
 
-local args
-
-args=( "$@" )
-
-_alternative -O args \
-    'commands:command:compadd -k commands' \
-    'aliases:alias:compadd -k aliases'
+_wanted commands expl command compadd -k commands

