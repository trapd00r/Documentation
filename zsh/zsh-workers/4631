From zsh-workers-request@math.gatech.edu Sat Nov 14 07:20:34 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 6776 invoked from network); 14 Nov 1998 07:20:32 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 14 Nov 1998 07:20:32 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.9.1/8.9.1) id CAA05564;
	Sat, 14 Nov 1998 02:20:23 -0500 (EST)
Resent-Date: Sat, 14 Nov 1998 02:20:23 -0500 (EST)
Message-ID: <19981114181808.A6571@primenet.com.au>
Date: Sat, 14 Nov 1998 18:18:08 +1100
From: Geoff Wing <gcw@pobox.com>
To: Zsh Hackers <zsh-workers@math.gatech.edu>
Subject: Symbols in executable available to dynamic stuff
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 0.93.2i
Organization: PrimeNet Computer Consultancy
Resent-Message-ID: <"Mrazy3.0.tM1.tyIJs"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/4631
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Heyla,
can I cause some more trouble yet? :-)

Way, way back in Zefram's patch 3038 came aczsh.m4 and this gem:
zsh_SYS_DYNAMIC_EXECSYMS:
    Check whether symbols in the executable are available to dynamically
    loaded libraries.
(And BTW, the description's wrong: it checks dynamically loaded objects,
which are not necessarily libraries)

If yes, then we don't build a dynamic zsh.  What's the danger here?  If
you control your executable, library and $MODULEPATH then why does it
matter if objects you load can run subroutines from outside their object
space?  Or is it more specific than that?  Obviously, routines in
dynamically loaded modules (eg. genprompts() in zle module) need to be able
to run routines in other modules or libraries (eg. countprompt() in zsh
library) so there is some big thing here I'm missing perhaps?

Anyone care to enlighten me, please?
-- 
Geoff Wing   <gcw@pobox.com>            Mobile : 0412 162 441
Work URL: http://www.primenet.com.au/   Ego URL: http://pobox.com/~gcw/

