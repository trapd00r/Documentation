From zsh-workers-return-11428-mason-zsh=primenet.com.au@sunsite.auc.dk Wed May 17 06:41:53 2000
Return-Path: <zsh-workers-return-11428-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 28540 invoked from network); 17 May 2000 06:41:52 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 17 May 2000 06:41:52 -0000
Received: (qmail 23107 invoked by alias); 17 May 2000 06:41:38 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 11428
Received: (qmail 23100 invoked from network); 17 May 2000 06:41:37 -0000
Date: Wed, 17 May 2000 08:41:18 +0200 (MET DST)
Message-Id: <200005170641.IAA29373@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: "Bart Schaefer"'s message of Tue, 16 May 2000 15:05:06 +0000
Subject: Re: Styles that aren't :completion:* ...


Bart Schaefer wrote:

> ...
> 
> } I considered i-complete-w to be a completion thing. And since in
> } completion it uses `:completion:incremental:...' I thought it would be 
> } easier to understand if it used that for all styles.
> 
> Yes, that's what I'm struggling with here.  One question is, is there any
> way $curcontext could have a value at the time i-c-w or i-a-p are called?

I was thinking about wrapper functions around i-c-w. Not that I really 
expect that there will be such things anytime...

> They'd have to be getting called *inside* the completion or zftp systems,
> wouldn't they?  Which they shouldn't ... so it doesn't make sense to e.g.
> 
>   zstyle ':completion:predict:*:-math-:*' cursor complete
>   zstyle ':completion:predict:*' cursor key
> 
> because insert-and-predict doesn't know that it's in math context.  (On
> the other hand, it might be nice to be able to do that ...)

The old `problem' that most of the context is set up relatively
late... maybe I'll try again to write a utility function that sets up
$curcontext as far as it can sometime.

> But it's still necessary to at least set curcontext=predict::: so that the
> right function field will be present when `zle complete-word' is called.
> 
> } > What's the context?
> } 
> } `:predict', I'd say.
> 
> Then we'll have to remove the i-c-w and predict documentation from the
> completion system sections.  Where should it go instead?

Urgh. Hadn't thought about that. Maybe a `styles.yo' (comparable to
options.yo and params.yo), but where to place it? Next to the options
and parameters would be logically wrong because zstyle is defined by a 
module. Hm.

Bye
 Sven


--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

