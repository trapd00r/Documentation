From zsh-workers-request@math.gatech.edu  Wed Nov  1 09:26:47 1995
Received: from math.gatech.edu (euclid.skiles.gatech.edu [130.207.146.50]) by werple.net.au (8.7/8.7.1) with SMTP id JAA24062 for <mason@werple.mira.net.au>; Wed, 1 Nov 1995 09:26:44 +1100 (EST)
Received: by math.gatech.edu (5.x/SMI-SVR4)
	id AA08159; Tue, 31 Oct 1995 17:15:30 -0500
Old-Return-Path: <zsh-users-request@math.gatech.edu>
Resent-Date: Tue, 31 Oct 1995 23:13:34 +0100
Old-Return-Path: <Rob.Hooft@stork.EMBL-Heidelberg.DE>
Date: Tue, 31 Oct 1995 23:13:34 +0100
Message-Id: <199510312213.XAA14119@nu.EMBL-Heidelberg.DE>
From: Rob Hooft <Rob.Hooft@EMBL-Heidelberg.de>
To: Richard Coleman <coleman@math.gatech.edu>
Cc: hware@a.cs.wvu.edu (Henry Ware), zsh-users@math.gatech.edu
Subject: Re: sched waits for next prompt. Does it have to?
In-Reply-To: <199510311902.OAA11276@redwood.skiles.gatech.edu>
References: <9510311442.AA14509@backus.wvu.edu>
	<199510311902.OAA11276@redwood.skiles.gatech.edu>
X-Url: http://www.sander.embl-heidelberg.de/rob/
Resent-Message-Id: <"_dxM52.0.5_1.4_fbm"@euclid>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/117
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

>>>>> "RC" == Richard Coleman <coleman@math.gatech.edu> writes:

 >> ... I'm having a little
 >> trouble with the sched commend.  I'd like it to perform the action
 >> at the specified time rather than at the next prompt: for example,
 >> when I want it to act as an alarm clock, or as "at", etc.

 RC> Currently zsh's handling of `sched' and the shell function
 RC> `periodic' (if defined) are very simple.  Zsh just checks time
 RC> stamps in the function preprompt() and executes scheduled
 RC> commands or `periodic' if it has been long enough.  To do
 RC> anything better would require setting up signals, etc...

Isn't it possible to call the periodicals from an ALARM function?  If
not now, then it should be relatively easy to add such functionality?
That would enable one to make "sched" behave like "at" using a smart
ALARM handler and "TMOUT=60".

Rob.

-- 
Rob W. W. Hooft ====== You have a computational protein problem? Try WHAT IF! 
= Rob.Hooft@EMBL-Heidelberg.DE, Meyerhofstr. 1, 69117 Heidelberg, Germany. ==
3.0GS$ d-(?) s: a28 C++ UAIOS++(-) UL++++ P++ L++(+++) E++ W++(-) N++(+++) K?
w-- O? M-(--) V(-) PS PE+ Y+ PGP t 5? X+ R tv+ b+ DI? D+ G+ e++++ h(*) !r !y+

