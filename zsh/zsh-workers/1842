From zsh-workers-request@euclid.skiles.gatech.edu  Wed Jul 31 12:41:44 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by coral.primenet.com.au (8.7.5/8.7.3) with ESMTP id MAA04937 for <mason@primenet.com.au>; Wed, 31 Jul 1996 12:41:42 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id WAA17523; Tue, 30 Jul 1996 22:41:50 -0400 (EDT)
Resent-Date: Tue, 30 Jul 1996 22:41:50 -0400 (EDT)
From: Zefram <A.Main@dcs.warwick.ac.uk>
Message-Id: <28095.199607310240@stone.dcs.warwick.ac.uk>
Subject: Re: BUG: set -n in interactive shell (3.0-xxx)
To: borsenkow.msk@sni.de
Date: Wed, 31 Jul 1996 03:40:42 +0100 (BST)
Cc: zsh-workers@math.gatech.edu
In-Reply-To: <Pine.SV4.3.95.960729100930.16150B-100000@itsrm1> from "Andrej Borsenkow" at Jul 29, 96 10:49:44 am
X-Loop: zefram@dcs.warwick.ac.uk
X-Stardate: [-31]7890.55
X-US-Congress: Moronic fuckers
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"U9ED-2.0.hH4.jVi_n"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/1842
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

>Small problem with no_exec option. If I per chance do 'set -n' in
>interactive (worse, login) shell *and* ignoreeof option is set, it is no
>more possible to leave the shell at all!!!
>^D is rejected and logout/exit are not executed.

Ten ^Ds will still exit.  This is a safety feature in case the terminal
*really* goes away, as opposed to the user manually sending EOF, but it
can also be used to log out.

>Probably, the option should be set only on command line (as with some
>other)? What do you think?

No.  Two reasons: first, the options that can only be set on the
command line are very special ones that determine where commands come
from (and hence can't be meaningfully changed).  Second, not accepting
`set -n` would make a traditional shenanigan involving .profile
impossible.

(There's also the trifling issue of POSIX conformance, but we tend not
to be too concerned about that here.)

-zefram

