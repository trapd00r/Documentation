From zsh-workers-return-5781-mason-zsh=primenet.com.au@sunsite.auc.dk Sat Mar 13 20:11:22 1999
Return-Path: <zsh-workers-return-5781-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2885 invoked from network); 13 Mar 1999 20:11:20 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 13 Mar 1999 20:11:20 -0000
Received: (qmail 28765 invoked by alias); 13 Mar 1999 20:10:41 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 5781
Received: (qmail 28733 invoked from network); 13 Mar 1999 20:10:38 -0000
Message-Id: <9903131501.AA34131@ibmth.df.unipi.it>
To: zsh-workers@sunsite.auc.dk (Zsh hackers list)
Subject: pws-12
Date: Sat, 13 Mar 1999 16:00:01 +0100
From: Peter Stephenson <pws@ibmth.df.unipi.it>

This week's version is brought to you by the letters p, w and s and the
number 12.
http://www.ifh.de/~pws/computing/
-rw-r--r--   1 pws  quadrics  307861 Mar 13 15:32 zsh-3.1.5-pws-12.doc.tar.bz2
-rw-r--r--   1 pws  quadrics  467481 Mar 13 15:32 zsh-3.1.5-pws-12.doc.tar.gz
-rw-r--r--   1 pws  quadrics  716644 Mar 13 15:32 zsh-3.1.5-pws-12.tar.bz2
-rw-r--r--   1 pws  quadrics  887161 Mar 13 15:32 zsh-3.1.5-pws-12.tar.gz

I have discovered some problems when the build directory is in a different
place from the source directory: notably, some files such as modules-bltin,
signames.c and sigcount.h are created in the source directory instead of
the build directory, so the first cannot be found and all of them conflict
with any other build going on in any other directory.  (And I didn't even
know build was a noun.)

The most noticeably change this week was that some of the old new
completion variables have turned into bits of the associative array
compconfig.  In particular, $COMPDUMP has gone.  You can now specify it as
an argument to compinit:  source ~/..../compinit -d mydumpfile

There is a patch which is supposed to help with systems that clobber
typeahead when the typeahead extends onto lines read with $PS2 (the PS2
wasn't the problem, it just happened that when reading lines after the
first the terminal mode was altered too often).  I don't know if this
works, and I'd like to hear.  There may be some other unnecessary terminal
handling which is still making life difficult.

Here is the list of changees included.


Sven: 5670: parameter completion fix

Sven: 5671: another small parameter fix for multiple braces

Sven: 5675: tidying up for zle_tricky.c

pws: from autoconf 2.13: new config.guess, too.

Sven: 5676: all Completion example functions return a status

Sven: 5677, 5679: Completion/User/_long_options and consequent upgrades for
Completion/User files which use long GNU-style options.

Sven: 5682: bindkey fix

Sven: 5692: remove compstate[matcher] test from _long_options

Sven: 5696, 5697: "${${path}[1]}" indexes on characters again

Sven: 5698: array indexing in _long_options and _multi_parts

Sven: 5699: matching prefixes of various sorts

Sven: 5701: _main_complete, _multi_parts, _path_files, a few cosmetic
changes.

Sven: 5704: _long_options

Sven: 5707: tokenization changes

Sven: 5708: completion manual, -M anchors must be matched explicitly

Sven: 5710: zle_tricky.c, completion inside words

Sven: 5712: _path_files, noglobcomplete fix

Sven: 5713: zle_tricky.c, interesting code specimen made extinct

Sven: 5714: _path_files: failed completions get left alone more often

Sven: 5716: zle.h, zle_misc.c, zle_tricky.c: iremovesuffix() can be told
whether to keep a list of matches

Andrej: 5719: _bindkey can use - as anchor for wildcard matching

Will Day: 5724 (+postprocessing, 5741): signames2.awk: match extra spaces
if produced by CPP.

Sven: 5726: zle_tricky.c: ctokenize() fix and parameter completion

pws: 5729: _bindkey doc

Sven: 5732: _a2ps, _long_options

Sven: 5736: completion before = in assignment

pws: 5737: ${foo#* } is more efficient in ordinary cases

Sven: zsh-users/2211 (+ p -> s): setopt -m handles underscores and case
sensitivity

Lehti Rami: 5754: --disable-restricted-r stops the shell becoming
restricted when its name starts with r

Sven: 5756: compstate[force_list]

Sven: 5757: compconfig

Sven: 5758: _path_files accepts -q, -r and -R options

pws: www archive: updated Etc/FAQ finally, keep forgetting

Sven: 5759: math environment fixes

Sven: 5761: remove unnecessary compiler warnings in compctl.c

Sven: 5766: _path_files closer to compctl/compgen behaviour

Sven: 5770: _path_files again

Sven: 5775: correcting completion will not ignore everything the user has
typed; prefix quote fix

pws: 5776: untested patch for typeahead problems when reading multiple
lines of input

pws: unposted archive changes: .distfiles in Completion hierarchy, dunno
what these do but it looks better; _comp_parts is now _sep_parts; moved
_long_options into Base and mentioned it in Completion/README.

Geoff: 5779: correct mistakes some bozo (guess who) made testing rlim_t for
long long.

-- 
Peter Stephenson <pws@ibmth.df.unipi.it>       Tel: +39 050 844536
WWW:  http://www.ifh.de/~pws/
Dipartimento di Fisica, Via Buonarroti 2, 56127 Pisa, Italy

