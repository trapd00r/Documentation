From zsh-workers-return-12364-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Jul 25 10:50:23 2000
Return-Path: <zsh-workers-return-12364-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 19213 invoked from network); 25 Jul 2000 10:50:21 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 25 Jul 2000 10:50:21 -0000
Received: (qmail 1663 invoked by alias); 25 Jul 2000 10:49:48 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 12364
Received: (qmail 1655 invoked from network); 25 Jul 2000 10:49:46 -0000
X-Envelope-Sender-Is: Andrej.Borsenkow@mow.siemens.ru (at relayer david.siemens.de)
From: "Andrej Borsenkow" <Andrej.Borsenkow@mow.siemens.ru>
To: "Peter Stephenson" <pws@cambridgesiliconradio.com>,
   "Zsh hackers list" <zsh-workers@sunsite.auc.dk>
Subject: RE: Environ handling broken on Cygwin RE: Cygwin: environ problem
Date: Tue, 25 Jul 2000 14:49:35 +0400
Message-ID: <001601bff626$05a283b0$21c9ca95@mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
Importance: Normal
In-reply-to: <0FY7004QY7R77K@la-la.cambridgesiliconradio.com>

>
> Let me know if you want sourceforge developer stuff adding.
>

Probably, not. It needs ssh and I am behind a firewall ... and making
ssh to work with SOCKS is too much currently.

BTW could anybody send me a manual page for setenv()? Our system does
not have it and I'd like to know, if Cygwin version corresponds to Unix.

The patch does not look very hard (actually, it is ready) but it showed
memory leak in environment handling in Cygwin. putenv() allocates it's
own memory and nobody ever frees it. We can write configure checks for
that, but there is no way reliably free memory. So, we could currently
use just free() under #ifdef __CYGWIN__.

I got an answer from Cygwin developers that they probably change it in
future version tp more closely match Unix that adds to even more
confusion :-)

-andrej


