From zsh-users-return-3262-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Jul 11 13:52:28 2000
Return-Path: <zsh-users-return-3262-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2484 invoked from network); 11 Jul 2000 13:52:26 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 11 Jul 2000 13:52:26 -0000
Received: (qmail 10452 invoked by alias); 11 Jul 2000 13:52:09 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 3262
Received: (qmail 10445 invoked from network); 11 Jul 2000 13:52:09 -0000
X-Authentication-Warning: vin.ens-lyon.fr: vlefevre set sender to vincent@vinc17.org using -f
Date: Tue, 11 Jul 2000 15:52:01 +0200
From: Vincent Lefevre <vincent@vinc17.org>
To: zsh-users@sunsite.auc.dk
Subject: Multi-redirection bug
Message-ID: <20000711155201.A17330@vin.ens-lyon.fr>
Mail-Followup-To: zsh-users@sunsite.auc.dk
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
User-Agent: Mutt/1.2.4i
X-Mailer-Info: http://www.vinc17.org/mutt_eng.html
Content-Transfer-Encoding: 8bit

Last year, I sent a mail to this mailing-list about a probable bug
concerning zsh MULTIOS redirections. But there were no replies.
Then, I thought it was solved... until now.

To be more clear, I take a simple (but useless) example. If I type
the following command under zsh

    cat /dev/zero >/dev/null 2>|f1 2>|f2

I get two processes: "cat /dev/zero" and a child "zsh". But when
I resize the terminal, the child dies (it becomes "<defunct>", as
"cat /dev/zero" doesn't wait for it). And this prevents f1 or f2
(or maybe both) from getting the data.

FYI:

$ uname -a
SunOS vin 5.7 Generic_106541-09 sun4u sparc SUNW,Ultra-5_10
$ echo $ZSH_VERSION
3.1.9

-- 
Vincent Lefèvre <vincent@vinc17.org> - Web: <http://www.vinc17.org/> - 100%
validated HTML - Acorn Risc PC, Yellow Pig 17, Championnat International des
Jeux Mathématiques et Logiques, TETRHEX, etc.
Computer science / computer arithmetic / Arénaire project at LIP, ENS-Lyon

