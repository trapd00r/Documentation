From zsh-users-return-12759-mason-zsh=primenet.com.au@sunsite.dk Thu Apr 03 09:28:52 2008
Return-Path: <zsh-users-return-12759-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5651 invoked from network); 3 Apr 2008 09:28:51 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.4 (2008-01-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.3 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.4
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 3 Apr 2008 09:28:51 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 59226 invoked from network); 3 Apr 2008 09:28:34 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 3 Apr 2008 09:28:34 -0000
Received: (qmail 29178 invoked by alias); 3 Apr 2008 09:28:24 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 12759
Received: (qmail 29160 invoked from network); 3 Apr 2008 09:28:23 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 3 Apr 2008 09:28:23 -0000
Received: from cluster-g.mailcontrol.com (cluster-g.mailcontrol.com [85.115.41.190])
	by bifrost.dotsrc.org (Postfix) with ESMTP id C839B82DC37A
	for <zsh-users@sunsite.dk>; Thu,  3 Apr 2008 11:28:17 +0200 (CEST)
Received: from cameurexb01.EUROPE.ROOT.PRI ([62.189.241.200])
	by rly17g.srv.mailcontrol.com (MailControl) with ESMTP id m339RtmR021381
	for <zsh-users@sunsite.dk>; Thu, 3 Apr 2008 10:28:10 +0100
Received: from news01 ([10.103.143.38]) by cameurexb01.EUROPE.ROOT.PRI with Microsoft SMTPSVC(6.0.3790.3959);
	 Thu, 3 Apr 2008 10:26:23 +0100
Date: Thu, 3 Apr 2008 10:26:23 +0100
From: Peter Stephenson <pws@csr.com>
To: zsh-users ml <zsh-users@sunsite.dk>
Subject: Re: 'i' subscript flag
Message-ID: <20080403102623.5762ade2@news01>
In-Reply-To: <080402193011.ZM1077@torch.brasslantern.com>
References: <20080402153742.GA13167@okita>
	<080402094106.ZM652@torch.brasslantern.com>
	<200804021653.m32Grva2023100@news01.csr.com>
	<080402193011.ZM1077@torch.brasslantern.com>
Organization: CSR
X-Mailer: Claws Mail 3.3.1 (GTK+ 2.12.5; i386-redhat-linux-gnu)
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 03 Apr 2008 09:26:23.0750 (UTC) FILETIME=[C8C63A60:01C8956C]
X-Scanned-By: MailControl A-08-00-04 (www.mailcontrol.com) on 10.71.0.127
X-Virus-Scanned: ClamAV 0.91.2/6563/Thu Apr  3 10:25:17 2008 on bifrost
X-Virus-Status: Clean

On Wed, 02 Apr 2008 19:30:11 -0700
Bart Schaefer <schaefer@brasslantern.com> wrote:
> Er, but the doc quite correctly says you can't do *anything* else with
> the (i) flag

No, it doesn't, as far as I can see, and it wouldn't be correct if it did.
It says:

  Like `tt(r)', but gives the index of the match instead; this may not be
  combined with a second argument.  On the left side of an assignment,
  behaves like `tt(r)'.  For associative arrays, the key part of each pair
  is compared to the pattern, and the first matching key found is the
  result.  On failure substitutes the length of the array plus one, as
  discussed under the description of `tt(r)', or the empty string for an
  associative array.

The only restriction is the end of the first sentence.  What that means is
you can't combine it with a second *subscript*, i.e. after a comma.  It's
not particularly clearly expressed since there's nothing here that
naturally corresponds to an "argument".

In any case, you can combine (i) with the (e), (n) and (b) flags.

> The (w) flag works just fine with (r) and (R), it's only (i) and (I)
> that are oddballs.

I fixed that.

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR PLC, Churchill House, Cambridge Business Park, Cowley Road
Cambridge, CB4 0WZ, UK                          Tel: +44 (0)1223 692070

