From zsh-workers-request@math.gatech.edu Fri Jan 15 12:05:40 1999
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18486 invoked from network); 15 Jan 1999 12:05:39 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 15 Jan 1999 12:05:39 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.9.1/8.9.1) id GAA28030;
	Fri, 15 Jan 1999 06:59:52 -0500 (EST)
Resent-Date: Fri, 15 Jan 1999 06:59:48 -0500 (EST)
Sender: B.Stephens@isode.com
To: zsh-users@math.gatech.edu
Subject: Re: Xterm title changing prompt problem: HELP!
References: <Pine.GHP.4.05.9901141611470.26309-100000@ixion.honeywell.com> <slrn79sv71.83r.mason@coral.primenet.com.au> <369F2AF4.5FD78841@earthling.net>
MIME-Version: 1.0
From: Bruce Stephens <b.stephens@isode.com>
Date: 15 Jan 1999 11:58:41 +0000
In-Reply-To: Andrew Gallagher's message of "Fri, 15 Jan 1999 11:48:04 +0000"
Message-ID: <vb3e5chhn2.fsf@snake.isode.com>
Lines: 23
User-Agent: Gnus/5.070069 (Pterodactyl Gnus v0.69) XEmacs/20.4 (Emerald)
Resent-Message-ID: <"G9JfR3.0.Jr6.psods"@math>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/2022
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Andrew Gallagher <andrew.gallagher@earthling.net> writes:

> PROMPT='%? //%n@%B%m%b%//
> %l%1v%!> '
> RPROMPT='(%T, %w)'
> function precmd {
>  echo -n "^[]0;//$USER@$HOSTNAME$PWD/ ($UNAME)^G"
>  }

Or you can use print, of course.  Here's mine:

# Set prompts
PROMPT=$(echo -n '%{\e[39;49m%}%m%#%(1v:+:)%{\e[39;49m%} ')
RPROMPT=$(echo -n ' %{\e[32;40m%}%~%{\e[39;49m%}')

precmd() {
    print -Pn '\e]0;%n@%m:%~\a'
  if jobs % >& /dev/null; then
    psvar=("")
  else
    psvar=()
  fi
}

