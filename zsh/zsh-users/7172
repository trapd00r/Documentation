From zsh-users-return-7172-mason-zsh=primenet.com.au@sunsite.dk Sun Mar 14 11:15:59 2004
Return-Path: <zsh-users-return-7172-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1896 invoked from network); 14 Mar 2004 11:15:58 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 14 Mar 2004 11:15:58 -0000
Received: (qmail 7389 invoked by alias); 14 Mar 2004 11:15:42 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 7172
Received: (qmail 10002 invoked from network); 8 Mar 2004 09:15:16 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 8 Mar 2004 09:15:16 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [62.189.77.219] by sunsite.dk (MessageWall 1.0.8) with SMTP; 8 Mar 2004 9:15:16 -0000
Received: by sonic.uk.dev.micromuse.co.uk (Postfix, from userid 1444)
	id 9ABE21D0112; Mon,  8 Mar 2004 09:15:04 +0000 (GMT)
Subject: Re: 4.2.0-pre-3
From: Ibraheem Umaru-Mohammed <ibraheem@umarumohammed.org>
To: Peter Stephenson <pws@csr.com>
Cc: Zsh users list <zsh-users@sunsite.dk>
In-Reply-To: <408.1078508079@csr.com>
References: <408.1078508079@csr.com>
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
Message-Id: <1078737304.7471.6.camel@sonic>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.5 
Date: Mon, 08 Mar 2004 09:15:04 +0000

On Fri, 2004-03-05 at 17:34, Peter Stephenson wrote:
> Ibraheem Umaru-Mohammed wrote:
> > On Fri, 2004-03-05 at 14:20, Peter Stephenson wrote:
> > > A few tweaks to try to stop everything falling to bits on AIX.
> > > In addition to --enable-pcre you now need --enable-cap to enable
> > > POSIX capabilities.
> > [...]
> > 
> > Hi,
> > 
> > I have tried using --enable-pcre coupled with --enable-cap, but still no
> > joy.
> 
> Sorry, I put that rather badly.  You are *not* supposed to turn those on
> on AIX, --enable-cap in particular since --enable-pcre was not a
> particular problem for AIX.  --enable-cap is there so that if you leave
> it turned off the shell should compile on AIX, just missing that module
> (which isn't required for normal use).
> 

Ah. My mistake. Thanks for clarifying. It appears to get a little
further, but still fails:

Target "complete.mdh" is up to date.
Updated `zutil.mdh'.
	rm -f stamp-modobjs.tmp
	echo '' builtin.o compat.o cond.o exec.o glob.o hashtable.o hist.o
init.o input.o jobs.o lex.o linklist.o loop.o math.o mem.o module.o
options.o params.o parse.o pattern.o prompt.o signals.o signames.o
string.o subst.o text.o utils.o watch.o >> ../Src/stamp-modobjs.tmp
	echo '' termcap.o | sed 's" " Modules/"g' >>
../../Src/stamp-modobjs.tmp
	echo '' terminfo.o | sed 's" " Modules/"g' >>
../../Src/stamp-modobjs.tmp
`stamp-modobjs' is up to date.
	rm -f zsh
	 /usr/vac/bin/cc -qlanglvl=ansi  -s  -o zsh main.o  `cat stamp-modobjs`
-bE:zsh.export  -liconv -ldl -lcurses -ltermcap -lm  -lc
ld: 0711-319 WARNING: Exported symbol not defined: dputs
ld: 0711-319 WARNING: Exported symbol not defined: zpathmax
Target "modentry..o" is up to date.
Target "complete.mdh" is up to date.
Updated `zutil.mdh'.
	/usr/vac/bin/cc -qlanglvl=ansi -c -I.  -DHAVE_CONFIG_H -DMODULE -O  -o
../../Src/modentry..o ../../Src/modentry.c
	rm -f cap.so
	/usr/vac/bin/cc -qlanglvl=ansi  -s -bM:SRE -o cap.so
-bI:../../Src/zsh.export -bE:cap.export -emodentry cap..o 
../../Src/modentry..o  -liconv -ldl -lcurses -ltermcap -lm  -lc 
	rm -f clone.so
	/usr/vac/bin/cc -qlanglvl=ansi  -s -bM:SRE -o clone.so
-bI:../../Src/zsh.export -bE:clone.export -emodentry clone..o 
../../Src/modentry..o  -liconv -ldl -lcurses -ltermcap -lm  -lc 
	rm -f datetime.so
	/usr/vac/bin/cc -qlanglvl=ansi  -s -bM:SRE -o datetime.so
-bI:../../Src/zsh.export -bE:datetime.export -emodentry datetime..o 
../../Src/modentry..o  -liconv -ldl -lcurses -ltermcap -lm  -lc 
ld: 0711-317 ERROR: Undefined symbol: .isident
ld: 0711-345 Use the -bloadmap or -bnoquiet option to obtain more
information.
make: The error code from the last command is 8.


Stop.
make: The error code from the last command is 1.


Stop.
make: The error code from the last command is 2.


Stop.


Am sorry that I can't offer direct access, company firewalls, policy and
such prohibit this.

Cheers,

			--ibraheem.

