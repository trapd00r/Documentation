From zsh-workers-return-9364-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Jan 19 11:17:45 2000
Return-Path: <zsh-workers-return-9364-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 21067 invoked from network); 19 Jan 2000 11:17:44 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 19 Jan 2000 11:17:44 -0000
Received: (qmail 28790 invoked by alias); 19 Jan 2000 11:17:39 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 9364
Received: (qmail 28783 invoked from network); 19 Jan 2000 11:17:38 -0000
To: zsh-workers@math.gatech.edu
Subject: completion after //
References: <rsq1z7ev173.fsf@crane.jaist.ac.jp>
X-Attribution: adl
From: Alexandre Duret-Lutz <duret_g@epita.fr>
Date: 19 Jan 2000 12:17:37 +0100
In-Reply-To: Tanaka Akira's message of "19 Jan 2000 18:51:44 +0900"
Message-ID: <mvbhfgaz4xa.fsf@phobos.lrde.epita.fr>
Lines: 24
User-Agent: Gnus/5.070096 (Pterodactyl Gnus v0.96) Emacs/20.5
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

>>> "Tanaka" == Tanaka Akira <akr@jaist.ac.jp> writes:

 Tanaka> Sometimes completion after ../ frustrates me.

[...]

Along with the same lines, something I don't like is
that the path `a///////b' is not understand as 'a/b' by _path_files 
(when I cut and past path names that contains doubled 
slashes, it's annoying to not be able to complete after these).

I wanted to add :

# Squeeze sequences of slashes
PREFIX="${PREFIX//(\\/)#//}"
SUFFIX="${SUFFIX//(\\/)#//}"
[[ $PREFIX = */ ]] && SUFFIX=${SUFFIX#/}

at the beginning of _path_files, but then realized that
people may want to use `//' to do partial path completion.

Should this be tunable ?
-- 
Alexandre Duret-Lutz

