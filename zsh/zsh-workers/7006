From zsh-workers-return-7006-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Jul 07 12:06:18 1999
Return-Path: <zsh-workers-return-7006-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10589 invoked from network); 7 Jul 1999 12:06:17 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 7 Jul 1999 12:06:17 -0000
Received: (qmail 14547 invoked by alias); 7 Jul 1999 12:06:00 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7006
Received: (qmail 14540 invoked from network); 7 Jul 1999 12:06:00 -0000
X-Envelope-Sender-Is: Andrej.Borsenkow@mow.siemens.ru (at relayer david.siemens.de)
From: "Andrej Borsenkow" <Andrej.Borsenkow@mow.siemens.ru>
To: "Sven Wischnowsky" <wischnow@informatik.hu-berlin.de>,
        <zsh-workers@sunsite.auc.dk>
Subject: RE: PATCH: Enhancing math expressions a bit
Date: Wed, 7 Jul 1999 15:40:25 +0400
Message-ID: <001001bec86d$810288d0$21c9ca95@mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <199907070815.KAA08971@beta.informatik.hu-berlin.de>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2314.1300

>
> I was finally tired of using tests like [[ '#key' -eq 8 ]], so this
> changes getkeystring() so that it can also parse only one character
> (btw, maybe we should turn the `fromwhere' argument into a flags
> argument and add some constants some day). The it makes math mode use
> this function to get the ASCII-value of a character. I.e. you can now
> say [[ '#key' -eq '#\\C-h' ]] and things like that.
>
> I'm not sure if this is the way to go

It surely is useful, but I'd still like to have widgets instead of (even
symbolical) raw bytes ...

Looking at how e.g. incremental search is implemented - it looks, like it simply
calls the same getkeycmd() as main zleread() and some friends. How hard would it
be to provide a builtin, let's say zgetkeycmd (may be, flag to read would do)
with something like

zgetkeycmd widget keys

that simply sets parameter `widget'' to widget name and parameter ``keys'' to
input string? Looks like just a wrapper around getkeycmd() (or am I wrong?)

Combined with suggested keymap switching, this would provide almost unlimited
possibilities.

/andrej


