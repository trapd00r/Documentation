Delivered-To: mason-zsh@primenet.com.au
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <990204072619.ZM16318@candle.brasslantern.com>
Date: Thu, 4 Feb 1999 07:26:19 -0800
In-Reply-To: <9902041412.AA37396@ibmth.df.unipi.it>
Comments: In reply to Peter Stephenson <pws@ibmth.df.unipi.it>
        "Re: PATCH: zsh-3.1.5-pws-6: bash-style completion" (Feb  4,  3:12pm)
References: <9902041412.AA37396@ibmth.df.unipi.it>
X-Mailer: Z-Mail (4.0b.820 20aug96)
To: Peter Stephenson <pws@ibmth.df.unipi.it>, zsh-workers@sunsite.auc.dk
Subject: Re: PATCH: zsh-3.1.5-pws-6: bash-style completion
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailing-List: <zsh-workers@sunsite.auc.dk> 5238

On Feb 4,  3:12pm, Peter Stephenson wrote:
} Subject: Re: PATCH: zsh-3.1.5-pws-6: bash-style completion
}
} However, I'm having problems with LISTAMBIGUOUS when RECEXACT is set,
} because `am' then gets set a few lines above that, apparently even if
} there isn't an exact completion, and the chunk in question is skipped.

Ah, yes, that's Sven's patch from zsh-workers/4148.  Previously when an
ambigous prefix partially-completed to an exact prefix, the next TAB
would simply accept that rather than proceeding into AUTOMENU.  After
4148, zsh "remembers" that the prefix was produced by completion, not
by having been typed, and therefore treats it as still ambiguous.

} Any ideas?

Perhaps it just needs to read

	am = !isset(BASHAUTOLIST);

instead of

	am = 1;

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

