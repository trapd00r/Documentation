From zsh-workers-return-18200-mason-zsh=primenet.com.au@sunsite.dk Wed Feb 05 16:15:49 2003
Return-Path: <zsh-workers-return-18200-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 3271 invoked from network); 5 Feb 2003 16:15:48 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 5 Feb 2003 16:15:48 -0000
Received: (qmail 5178 invoked by alias); 5 Feb 2003 16:15:37 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 18200
Received: (qmail 5171 invoked from network); 5 Feb 2003 16:15:37 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 5 Feb 2003 16:15:37 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [4.46.181.248] by sunsite.dk (MessageWall 1.0.8) with SMTP; 5 Feb 2003 16:15:36 -0000
Received: (from schaefer@localhost)
	by candle.brasslantern.com (8.11.6/8.11.6) id h15GFbT22235;
	Wed, 5 Feb 2003 08:15:37 -0800
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <1030205161536.ZM22234@candle.brasslantern.com>
Date: Wed, 5 Feb 2003 16:15:36 +0000
In-Reply-To: <15935.16623.823108.734629@phl.itasoftware.com>
Comments: In reply to gak@klanderman.net (Greg Klanderman)
        "Re: alwayslastprompt problem" (Feb  3, 11:26pm)
References: <15934.59328.619062.393204@phl.itasoftware.com> 
	<1030204025755.ZM15281@candle.brasslantern.com> 
	<15935.16623.823108.734629@phl.itasoftware.com>
X-Mailer: Z-Mail (5.0.0 30July97)
To: gak@klanderman.net, zsh-workers@sunsite.dk (Zsh list)
Subject: Re: alwayslastprompt problem
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Feb 3, 11:26pm, Greg Klanderman wrote:
}
} Is there any reason zsh couldn't handle alwayslastprompt in this
} situation?

It appears to be an order-of-initialization issue.  In a non-interactive
shell, the terminal isn't set up until vared is actually invoked, and
for some reason that causes the ZLE refresh routines to believe that it
isn't possible to do alwayslastprompt.

I haven't figured out exactly what is different in the two cases.

