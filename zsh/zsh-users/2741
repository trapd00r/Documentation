From zsh-users-return-2741-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Nov 19 09:10:58 1999
Return-Path: <zsh-users-return-2741-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 29520 invoked from network); 19 Nov 1999 09:10:57 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 19 Nov 1999 09:10:57 -0000
Received: (qmail 7459 invoked by alias); 19 Nov 1999 09:03:02 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 2741
Received: (qmail 28547 invoked from network); 19 Nov 1999 05:00:40 -0000
Date: Fri, 19 Nov 1999 05:00:40 +0000
From: Adam Spiers <adam@spiers.net>
To: zsh users mailing list <zsh-users@sunsite.auc.dk>
Subject: CVS compile problem
Message-ID: <19991119050039.B26252@thelonious.new.ox.ac.uk>
Reply-To: Adam Spiers <adam@spiers.net>
Mail-Followup-To: zsh users mailing list <zsh-users@sunsite.auc.dk>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 1.0pre3i
X-URL: http://www.new.ox.ac.uk/~adam/
X-OS: Linux 2.2.12 i686

I've just automated nightly builds of rpms using the latest CVS tree,
but someone's already had problems with the src.rpm generated:

gcc  -s -shared -o stat.so   stat..o   -ldl -lnsl -ltermcap -lm -lc
gcc -c -I. -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DHAVE_CONFIG_H
-DMODULE -O6 -fomit-frame-pointer -fno-exceptions -fno-rtti -pipe -s
-mpentium -mcpu=pentium -march=pentium -ffast-math
-fexpensive-optimizations -malign-loops=2 -malign-jumps=2
-malign-functions=2  -mcpu=k6 -march=k6 -fpic -o zftp..o zftp.c
rm -f zftp.so
gcc  -s -shared -o zftp.so   zftp..o   -ldl -lnsl -ltermcap -lm -lc
make[3]: Leaving directory `/usr/src/RPM/BUILD/zsh-3.1.6/Src/Modules'
make[3]: Entering directory `/usr/src/RPM/BUILD/zsh-3.1.6/Src/Zle'
rm -f comp1.so
gcc  -s -shared -o comp1.so    -ldl -lnsl -ltermcap -lm -lc
pgcc: No input files
make[3]: *** [comp1.so] Error 1
make[3]: Leaving directory `/usr/src/RPM/BUILD/zsh-3.1.6/Src/Zle'
make[2]: *** [modules] Error 1
make[2]: Leaving directory `/usr/src/RPM/BUILD/zsh-3.1.6/Src'
make[1]: *** [modules] Error 2
make[1]: Leaving directory `/usr/src/RPM/BUILD/zsh-3.1.6/Src'
make: *** [all] Error 1
Bad exit status from /var/tmp/rpm-tmp.57160 (%build)

Is this a problem with pgcc?  Or something else?  The files are at
http://www.new.ox.ac.uk/~adam/computing/zsh/ if anyone would be kind
enough to try them out.

Adam

