From zsh-workers-return-26390-mason-zsh=primenet.com.au@sunsite.dk Wed Jan 21 16:50:33 2009
Return-Path: <zsh-workers-return-26390-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 19338 invoked from network); 21 Jan 2009 16:50:29 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 21 Jan 2009 16:50:29 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 99305 invoked from network); 21 Jan 2009 16:50:24 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 21 Jan 2009 16:50:24 -0000
Received: (qmail 21721 invoked by alias); 21 Jan 2009 16:50:19 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 26390
Received: (qmail 21708 invoked from network); 21 Jan 2009 16:50:19 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 21 Jan 2009 16:50:19 -0000
Received: from lorien.comfychair.org (lorien.comfychair.org [64.81.241.43])
	by bifrost.dotsrc.org (Postfix) with ESMTPS id 42B9D802720F
	for <zsh-workers@sunsite.dk>; Wed, 21 Jan 2009 17:50:13 +0100 (CET)
Received: from lorien.comfychair.org (localhost [127.0.0.1])
	by lorien.comfychair.org (8.13.7/8.13.7) with ESMTP id n0LGngrf015653;
	Wed, 21 Jan 2009 08:49:42 -0800
Received: (from duvall@localhost)
	by lorien.comfychair.org (8.13.7/8.13.7/Submit) id n0LGne1E015652;
	Wed, 21 Jan 2009 08:49:40 -0800
Date: Wed, 21 Jan 2009 08:49:40 -0800
From: Danek Duvall <duvall@comfychair.org>
To: Peter Stephenson <pws@csr.com>
Cc: "Zsh Hackers' List" <zsh-workers@sunsite.dk>, des@des.no
Subject: Re: Fw: Errors in zfs / zpool compdef
Message-ID: <20090121164940.GL20856@lorien.comfychair.org>
Mail-Followup-To: Danek Duvall <duvall@comfychair.org>,
	Peter Stephenson <pws@csr.com>,
	Zsh Hackers' List <zsh-workers@sunsite.dk>, des@des.no
References: <20090121162443.7168502a@news01>
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
In-Reply-To: <20090121162443.7168502a@news01>
User-Agent: mutt-ng/devel-r535 (Linux)
X-Virus-Scanned: ClamAV 0.92.1/8884/Wed Jan 21 14:15:32 2009 on bifrost
X-Virus-Status: Clean

On Wed, Jan 21, 2009 at 04:24:43PM +0000, Peter Stephenson wrote:

> Dav-Erling Smørgrav wrote:
>
> > The contents of Completion/Unix/Command/_z{fs,pool} are duplicated, +
> > there is a stray comment in the code for the zfs clone command (line 102
> > in _zfs) that breaks it.
>
> Someone was doing something with these not long ago, I can't remember who.

That's me.  I know about the comment; that's filed at bugs.opensolaris.org
as

    6767865 tab-completion for "zfs clone" fails

which I can fix in the Solaris bits reasonably easily (I've been meaning to
do an upgrade to 4.3.9, but haven't had the time), but would need help in
getting the changes upstream (would you want a patch, or given the
simplicity of it, to fix it yourself?).

I'm not aware of the duplication, though.  The copies of these files we
ship on Solaris aren't the same, so I'd need more information about what's
going on there.

Thanks,
Danek

