From zsh-users-return-12226-mason-zsh=primenet.com.au@sunsite.dk Mon Nov 19 15:58:49 2007
Return-Path: <zsh-users-return-12226-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13664 invoked from network); 19 Nov 2007 15:58:38 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.3 (2007-08-08) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.3
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 19 Nov 2007 15:58:38 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 46547 invoked from network); 19 Nov 2007 15:58:27 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 19 Nov 2007 15:58:27 -0000
Received: (qmail 17789 invoked by alias); 19 Nov 2007 15:58:12 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 12226
Received: (qmail 17774 invoked from network); 19 Nov 2007 15:58:11 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 19 Nov 2007 15:58:11 -0000
Received: (qmail 45277 invoked from network); 19 Nov 2007 15:58:11 -0000
Received: from sienna.akte.de (HELO ds80-237-184-21.dedicated.hosteurope.de) (80.237.184.21)
  by a.mx.sunsite.dk with SMTP; 19 Nov 2007 15:58:05 -0000
Received: (root@ds80-237-184-21.dedicated.hosteurope.de) by sienna.akte.de
	id <S1135049AbXKSP5y>; Mon, 19 Nov 2007 16:57:54 +0100
KRecCount: 1
X-Originating-IP: [87.152.143.188]
X-KInfo: !spam auth
X-KInfo: virscan ok
Received: from condor.int.spiegl.de (p57988FBC.dip.t-dialin.net [87.152.143.188])
	 by sienna.akte.de
	 via kasmail (3.1)
	 id <1Hu90P-7vI-1-sienna>; Mon, 19 Nov 2007 15:57:49 GMT
Received: from condor.int.spiegl.de (spiegl@localhost [127.0.0.1])
	by condor.int.spiegl.de (8.14.1/8.14.1/Debian-9) with ESMTP id lAJFvncs002774
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NOT)
	for <zsh-users@sunsite.dk>; Mon, 19 Nov 2007 16:57:49 +0100
Received: (from spiegl@localhost)
	by condor.int.spiegl.de (8.14.1/8.14.1/Submit) id lAJFvnt2002770
	for zsh-users@sunsite.dk; Mon, 19 Nov 2007 16:57:49 +0100
X-Authentication-Warning: condor.int.spiegl.de: spiegl set sender to zsh.Andy@spiegl.de using -f
Date:	Mon, 19 Nov 2007 16:57:49 +0100
From:	"Dr. Andy Spiegl" <zsh.Andy@spiegl.de>
To:	ZSH User List <zsh-users@sunsite.dk>
Subject: Re: zsh crashes with floating point exception
Message-ID: <20071119155749.GA29766@spiegl.de>
Mail-Followup-To: ZSH User List <zsh-users@sunsite.dk>
References: <20071119142811.GF12829@spiegl.de> <200711191514.lAJFEb7E003678@news01.csr.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <200711191514.lAJFEb7E003678@news01.csr.com>
X-PGP-GPG-Keys:	mail -s "send pgp" auto@spiegl.de
X-Fingerprint: Key-ID C2CB30F0: 9051 50B9 13B0 57B9 10FD  48AC 4FA1 209B
	C2CB 30F0
X-Accepted-File-Formats: ASCII OpenOffice .rtf .pdf - *NO* Microsoft files
	please.
X-why-you-shouldnt-use-MS-LookOut: http://www.jensbenecke.de/l-oe-en.php
X-warum-man-MS-Outlook-vermeiden-sollte: http://www.jensbenecke.de/l-oe-de.p
	hp
X-how-to-quote:	http://www.afaik.de/usenet/faq/zitieren/
X-how-to-ask-questions:	http://www.catb.org/~esr/faqs/smart-questions.html
X-stupid-disclaimers: http://goldmark.org/jeff/stupid-disclaimers/
User-Agent: Mutt/1.5.16 (2007-06-11)

> Could you compile with debugging symbols ("./configure
> --enable-zsh-debug" will do this),
Okay.  Oh wait Ubuntu (i.e. Debian) has a zsh-dbg package, great!

> and when it crashes, run "gdb zsh <corefile>" and send the output of the
> "bt" command?
...
Loaded symbols for /usr/lib/zsh/4.3.4/zsh/complist.so
Core was generated by `zsh'.
Program terminated with signal 8, Arithmetic exception.
#0  0x40291403 in cut (i=3, ct=5, dir=1) at ../../../Src/Zle/zle_utils.c:476
476     ../../../Src/Zle/zle_utils.c: No such file or directory.
        in ../../../Src/Zle/zle_utils.c
(gdb) bt
#0  0x40291403 in cut (i=3, ct=5, dir=1) at ../../../Src/Zle/zle_utils.c:476
#1  0x4029166c in backkill (ct=5, dir=1) at ../../../Src/Zle/zle_utils.c:409
#2  0x40294040 in backwardkillword (args=0xbf8c93a4) at ../../../Src/Zle/zle_word.c:342
#3  0x4027d644 in execzlefunc (func=0x402992e0, args=0xbf8c93a4, set_bindk=0) at ../../../Src/Zle/zle_main.c:1261
#4  0x402894c6 in bin_zle_call (name=0x4023ed70 "zle", args=0xbf8c93a0, ops=0xbf8c93ec, func=0 '\0') at ../../../Src/Zle/zle_thingy.c:705
#5  0x402885e3 in bin_zle (name=0x4023ed70 "zle", args=0xbf8c93a0, ops=0xbf8c93ec, func=0) at ../../../Src/Zle/zle_thingy.c:381
#6  0x0805d183 in execbuiltin (args=0x4023ed48, bn=0x4029b068) at ../../Src/builtin.c:438
#7  0x0806aeef in execcmd (state=0xbf8ca7a8, input=0, output=0, how=2, last1=2) at ../../Src/exec.c:2670
#8  0x0806b199 in execpline2 (state=0xbf8ca7a8, pcode=<value optimized out>, how=2, input=0, output=0, last1=0) at ../../Src/exec.c:1343
#9  0x0806b56b in execpline (state=0xbf8ca7a8, slcode=<value optimized out>, how=2, last1=0) at ../../Src/exec.c:1129
#10 0x0806c255 in execlist (state=0xbf8ca7a8, dont_change_job=1, exiting=0) at ../../Src/exec.c:935
#11 0x0806c4da in execode (p=0x810ecf8, dont_change_job=1, exiting=0) at ../../Src/exec.c:793
#12 0x0806c5c3 in runshfunc (prog=0x810ecf8, wrap=0x0, name=0x4023ebc8 "backward-kill-word") at ../../Src/exec.c:3991
#13 0x0806c937 in doshfunc (name=0x810ec00 "backward-kill-word", prog=0x810ecf8, doshargs=0x0, flags=0, noreturnval=1) at ../../Src/exec.c:3900
#14 0x4027d863 in execzlefunc (func=0x402982c0, args=0x4029b27c, set_bindk=0) at ../../../Src/Zle/zle_main.c:1296
#15 0x4027dbea in zlecore () at ../../../Src/Zle/zle_main.c:1019
#16 0x4027e217 in zleread (lp=0x80d65b4, rp=0x0, flags=3, context=0) at ../../../Src/Zle/zle_main.c:1174
#17 0x0807dea6 in ingetc () at ../../Src/input.c:278
#18 0x080795e2 in ihgetc () at ../../Src/hist.c:240
#19 0x08084eee in gettok () at ../../Src/lex.c:630
#20 0x0808571a in yylex () at ../../Src/lex.c:345
#21 0x0809d769 in parse_event () at ../../Src/parse.c:451
#22 0x0807c87a in loop (toplevel=1, justonce=0) at ../../Src/init.c:128
#23 0x0807d594 in zsh_main (argc=1, argv=0xbf8cb394) at ../../Src/init.c:1347
#24 0x08054872 in main (argc=0, argv=0x8) at ../../Src/main.c:93

> (There may then be some follow-up questions on values of
> variables etc.)
Sure, no problem.

> If Meta-Backspace is bound to anything other than the builtin widget
> backward-kill-word we'll need to know that, too.
$ bindkey
...
"^[^H" backward-kill-word
"^[^?" backward-kill-word
...

Thanks,
 Andy.

-- 
 Fotos: familie.spiegl.de   Info: peru.spiegl.de
 Weblog: blog.spiegl.de     Mail: andy@spiegl.de
-- 
 When you become obsessed with the enemy, you become the enemy.

