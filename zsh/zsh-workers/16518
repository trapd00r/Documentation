From zsh-workers-return-16518-mason-zsh=primenet.com.au@sunsite.dk Wed Jan 30 17:37:44 2002
Return-Path: <zsh-workers-return-16518-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18322 invoked from network); 30 Jan 2002 17:37:43 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 30 Jan 2002 17:37:43 -0000
Received: (qmail 5596 invoked by alias); 30 Jan 2002 17:37:36 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 16518
Received: (qmail 5580 invoked from network); 30 Jan 2002 17:37:35 -0000
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <1020130173726.ZM12752@candle.brasslantern.com>
Date: Wed, 30 Jan 2002 17:37:26 +0000
In-Reply-To: <15447.46235.229244.15033@wischnow.berkom.de>
Comments: In reply to Sven Wischnowsky <wischnow@berkom.de>
        "Re: Test failures in artih and arguments" (Jan 30,  9:53am)
References: <20020123145155.25539.qmail@web10408.mail.yahoo.com> 
	<15441.7716.645376.366627@wischnow.berkom.de> 
	<1020127192054.ZM9204@candle.brasslantern.com> 
	<15447.46235.229244.15033@wischnow.berkom.de>
X-Mailer: Z-Mail (5.0.0 30July97)
To: Sven Wischnowsky <wischnow@berkom.de>, zsh-workers@sunsite.dk
Subject: Re: Test failures in artih and arguments
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Jan 30,  9:53am, Sven Wischnowsky wrote:
} 
} Bart Schaefer wrote:
} 
} > So it seems to me that we need a wildcard indicator of some kind, so
} > that _arguments can add the match `-<wild>'.  This would allow the `-'
} > to be treated as a prefix of the two matches `-x' and `-<wild>'.
} 
} Good analysis. And now I'm back at thinking: do we really want that?
} 
} If we don't want to be able to complete the options, we would just
} have to add `$PREFIX' or some such as a possible match.

That would work provided that it was added with the equilvalent of

	compadd -S '' $PREFIX

so that no space would be added after it.
 
} Sometimes I think that in such cases we should only force the message
} to be displayed, even if a match was accepted.

Correct me if I'm wrong, but that would result in something like

zsh% foo -<TAB>
zsh% foo -x 
Completing arg

(assuming "zstyle :completion:* format 'Completing %d'")

That seems a bit confusing.  Or did you mean that, if there was a message
to be forced, then the accepted match would not be completed? That would
be OK, I think.

} And this is also affected by the fake style thing we are discussing
} (which might turn a case of `displaying a message' into `adding some
} matches').

Right, the question becomes how to tell when the message really should
be forced out, and when the faked matches should be used as the possible
completions instead.

Perhaps the thing to do is to treat <wild> as a style context rather than
as a possible match, and determine how to behave based on a style set in
that context.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

