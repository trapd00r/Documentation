From zsh-workers-request@math.gatech.edu Wed Sep 16 06:06:10 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 961 invoked from network); 16 Sep 1998 06:06:08 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 16 Sep 1998 06:06:08 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.9.1/8.9.1) id CAA29185;
	Wed, 16 Sep 1998 02:00:07 -0400 (EDT)
Resent-Date: Wed, 16 Sep 1998 01:56:23 -0400 (EDT)
From: jalexand@wlgore.com
Date: Wed, 16 Sep 1998 01:59:34 -0400 (EDT)
Message-Id: <199809160559.BAA15876@copland.udel.edu>
To: Zoltan Hidvegi <hzoli@cs.elte.hu>
Cc: zsh-users@math.gatech.edu
Subject: RE: 3.1.4 and su 
Organization: Broken Toys Unlimited
Resent-Message-ID: <"ENwB-3.0.f67.7Cr_r"@math>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/1811
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

In Reply to Your Message of Wed, 16 Sep 1998 00: 04:18 CDT
Date: Wed, 16 Sep 1998 01:59:37 -0400
From: Jerry Alexandratos <jalexand@wlgore.com>

Zoltan Hidvegi <hzoli@cs.elte.hu> says:
: > 3.1.4 automatically puts itself in "priveleged" state when UID and EUID
: > are not equivalent.  That causes it to skip sourcing $HOME/.zshrc et. al.
: > 3.0.5 has no notion of "priveleged" and always sources the init files.
: 
: 3.0.5 does have privileged mode, and it does skip user startup files when
: UID != EUID.  Perhaps you confused this with restricted mode, which is
: new in 3.1.x.

I've checked these options.  Here's some output as myself:

   nomad[ 1:47AM] setopt
   autopushd
   nobeep
   noclobber
   histignoredups
   interactive
   interactivecomments
   monitor
   rmstarsilent
   shinstdin
   zle

   nomad[ 1:47AM] echo $UID $EUID $GID $EGID
   1000 1000 1000 1000

and now when I'm su'd:

   # setopt
   interactive
   monitor
   shinstdin
   zle

   # echo $UID $EUID $GID $EGID
   0 0 0 0

and when I'm su'd and I source ~/.zshrc:

   nomad# setopt
   autopushd
   nobeep
   noclobber
   histignoredups
   interactive
   interactivecomments
   monitor
   rmstarsilent
   shinstdin
   zle

   nomad# echo $UID $EUID $GID $EGID
   0 0 0 0

So I don't think it's a matter of priveleged or restricted options.  8(
And as I said earlier, this is the same .zshrc I was using for 3.0.5

Yeah, it's got me boggled too.

        --Jerry

ps-While I'm at it, why does the time in the prompt have a space in it
now?  (eg 3.1.4 => [ 1:47AM] while 3.0.5 => [1:47AM])


name:  Jerry Alexandratos       ||      Open-Source software isn't a
phone: 410.506.7544             ||      matter of life or death...
pager: 63246                    ||      ...It's much more important
email: jalexand@wlgore.com      ||      than that!

