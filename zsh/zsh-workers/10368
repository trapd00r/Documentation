From zsh-workers-return-10368-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Mar 31 18:08:09 2000
Return-Path: <zsh-workers-return-10368-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24987 invoked from network); 31 Mar 2000 18:08:07 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 31 Mar 2000 18:08:07 -0000
Received: (qmail 16415 invoked by alias); 31 Mar 2000 18:08:00 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 10368
Received: (qmail 16394 invoked from network); 31 Mar 2000 18:07:58 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <1000331180752.ZM12208@candle.brasslantern.com>
Date: Fri, 31 Mar 2000 18:07:52 +0000
In-Reply-To: <200003311304.PAA01245@beta.informatik.hu-berlin.de>
Comments: In reply to Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
        "RE: New user questions" (Mar 31,  3:04pm)
References: <200003311304.PAA01245@beta.informatik.hu-berlin.de>
X-Mailer: Z-Mail (5.0.0 30July97)
To: zsh-workers@sunsite.auc.dk
Subject: PATCH: bindkey doc (Re: New user questions)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Mar 31,  3:04pm, Sven Wischnowsky wrote:
} Subject: RE: New user questions
}
} > Actually, -R flag is not described at all (I have dev-20 with a couple
} > of patches).
} 
} It is, although not very clearly: (from mod_zle.yo)
} 
}   xitem(tt(bindkey) [ var(options) ] tt(-l))
}   ...
}   In the binding operations, if the tt(-R) option is used  ...
} 
} So I guess -R is one of the var(options).

This clearly could be clearer.

Index: Doc/Zsh/mod_zle.yo
===================================================================
@@ -45,10 +45,11 @@
 If a keymap selection is required and none of the options above are used, the
 `tt(main)' keymap is used.  Some operations do not permit a keymap to be
 selected, namely:
+
 startitem()
 item(tt(-l))(
 List all existing keymap names.  If the tt(-L)
-option is used, list in the form of tt(bindkey)
+option is also used, list in the form of tt(bindkey)
 commands to create the keymaps.
 )
 item(tt(-d))(
@@ -82,7 +83,8 @@
 var(newmap) is tt(emacs) or tt(viins), it will not work for tt(vicmd), as
 switching from vi insert to command mode becomes impossible.
 
-The following operations require a keymap to be selected:
+The following operations act on the `tt(main)' keymap if no keymap
+selection option was given:
 
 startitem()
 item(tt(-m))(
@@ -92,29 +94,34 @@
 item(tt(-r) var(in-string) ...)(
 Unbind the specified var(in-string)s in the selected keymap.
 This is exactly equivalent to binding the strings to tt(undefined-key).
+When tt(-R) is also used, interpret the var(in-string)s as ranges.
 )
 item(tt(-s) var(in-string out-string) ...)(
 Bind each var(in-string) to each var(out-string).
 When var(in-string) is typed, var(out-string) will be
 pushed back and treated as input to the line editor.
+When tt(-R) is also used, interpret the var(in-string)s as ranges.
 )
 item(var(in-string command) ...)(
 Bind each var(in-string) to each var(command).
+When tt(-R) is used, interpret the var(in-string)s as ranges.
 )
 item([ var(in-string) ])(
 List key bindings.  If an var(in-string) is specified, the binding of
 that string in the selected keymap is displayed.  Otherwise, all key
-bindings in the selected keymap are displayed.  As an exception,
-if the tt(-e) or tt(-v) options are used alone, the keymap is em(not)
-displayed - the implicit linking of keymaps is the only thing that happens.
+bindings in the selected keymap are displayed.  (As a special case,
+if the tt(-e) or tt(-v) option is used alone, the keymap is em(not)
+displayed - the implicit linking of keymaps is the only thing that
+happens.)
+
+When the tt(-L) option is used, the list is in the form of tt(bindkey)
+commands to create the key bindings.
 )
 enditem()
 
-In the binding operations, if the tt(-R) option is used, the var(in-string)s
-are interpreted as ranges, instead of plain strings.  A valid range
-consists of two characters, with an optional `tt(-)'
-between them.  All characters between the two specified, inclusive,
-are bound as specified.
+When the tt(-R) option is used as noted above, a valid range consists of
+two characters, with an optional `tt(-)' between them.  All characters
+between the two specified, inclusive, are bound as specified.
 
 For either var(in-string) or var(out-string), the following
 escape sequences are recognised:

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

