From zsh-users-return-8796-mason-zsh=primenet.com.au@sunsite.dk Mon May 09 16:28:14 2005
Return-Path: <zsh-users-return-8796-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10737 invoked from network); 9 May 2005 16:28:13 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 9 May 2005 16:28:13 -0000
Received: (qmail 56065 invoked from network); 9 May 2005 16:28:06 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 9 May 2005 16:28:06 -0000
Received: (qmail 21157 invoked by alias); 9 May 2005 16:27:58 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8796
Received: (qmail 21142 invoked from network); 9 May 2005 16:27:57 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 9 May 2005 16:27:57 -0000
Received: (qmail 54990 invoked from network); 9 May 2005 16:27:57 -0000
Received: from webmail-outgoing.us4.outblaze.com (205.158.62.67)
  by a.mx.sunsite.dk with SMTP; 9 May 2005 16:27:52 -0000
Received: from unknown (unknown [192.168.9.180])
	by webmail-outgoing.us4.outblaze.com (Postfix) with QMQP id 7E4261800409
	for <zsh-users@sunsite.dk>; Mon,  9 May 2005 16:27:49 +0000 (GMT)
X-OB-Received: from unknown (205.158.62.49)
  by wfilter.us4.outblaze.com; 9 May 2005 16:27:48 -0000
Received: by ws1-1.us4.outblaze.com (Postfix, from userid 1001)
	id B7A184BEAD; Mon,  9 May 2005 16:27:45 +0000 (GMT)
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain; charset="iso-8859-1"
MIME-Version: 1.0
X-Mailer: MIME::Lite 2.117  (F2.6; A1.17; B2.12; Q2.03)
Received: from [213.187.181.70] by ws1-1.us4.outblaze.com with http for fteg@london.com; Mon, 09 May 2005 11:27:45 -0500
X-Mailer: mail.com webmail
From: "Fafa Hafiz Krantz" <fteg@london.com>
To: "Bart Schaefer" <schaefer@brasslantern.com>, zsh-users@sunsite.dk
Cc: "Peter Stephenson" <pws@csr.com>
Date: Mon, 09 May 2005 11:27:45 -0500
Subject: Re: Help help, prompt problems here!
X-Originating-Ip: 213.187.181.70
X-Originating-Server: ws1-1.us4.outblaze.com
Message-Id: <20050509162745.B7A184BEAD@ws1-1.us4.outblaze.com>
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.1 required=6.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.1


Hello!

Thank you, Bart and Peter, for all your worthy input!
I've come up with this prompt, and it's working just fine.

But how can I turn it:

PROMPT=3D$'%{\e[01;34m%}(%{\e[22;34m%}%n%{\e[01;30m%}@%{\e[22;34m%}%m%{\e[0=
1;34m%}
)%{\e[01;34m%}%{\e[01;34m%}(%{\e[22;34m%}%D{%H:%M}%{\e[01;30m%}:%{\e[22;34m=
%}%D{
%m/%d/%y}%{\e[01;34m%})%{\e[01;30m\e[00m%}%{\n%}%{\e[01;34m%}(%{\e[22;34m%}=
%#%{\
e[01;30m%}:%{\e[22;34m%}%~%{\e[01;34m%})%{\e[01;30m\e[00m%} '

Into split lines like these, just to make it look prettier?

PROMPT=3D$'%{\e[01;34m%}(%{\e[22;34m%}%n%{\e[01;30m%}@'\
       $'%{\e[22;34m%}%m%{\e[01;34m%})%{\e[01;34m%}%{\e[01;34m%}('\
       $'%{\e[22;34m%}%D{%H:%M}%{\e[01;30m%}:%{\e[22;34m%}%D{%m/%d/%y}'\
       $'%{\e[01;34m%})%{\e[01;30m\e[00m%}%{\n%}%{\e[01;34m%}('\
       $'%{\e[22;34m%}%#%{\e[01;30m%}:%{\e[22;34m%}%~%{\e[01;34m%})'\
       $'%{\e[01;30m\e[00m%} '

That one returns this error:
/etc/zshrc:35: command not found: %{^[[22;34m%}%m%{^[[01;34m%})%{^[[01;34m%=
}%{^[[01;34m%}(

> Returning to the original problem -- it seems likely that either (a)
> there's something in /etc/zshenv that you're not telling us about, and
> that something is stuck, possibly waiting for input, until you hit the
> ctrl+c, or (b) `whoam` itself is stuck for some reason, and when you
> hit ctrl+c it fails, so the "if" fails, so "prompt elite2 red" is not
> executed.

Yeah, back to the original problem. I still have it.
I don't have an zshenv, just zshrc and a zlogout containing 'clear'.

> You could find out which of these things is happening by placing a
> "set -x" at the top of /etc/zshenv, or by running "zsh -x".

I'll try that, thanks!

--

Fafa Hafiz Krantz
  Research Designer @ http://www.home.no/barbershop
  Enlightened @ http://www.home.no/barbershop/smart/sharon.pdf



--=20
___________________________________________________________
Sign-up for Ads Free at Mail.com
http://promo.mail.com/adsfreejump.htm

