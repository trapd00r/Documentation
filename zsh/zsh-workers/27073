From zsh-workers-return-27073-mason-zsh=primenet.com.au@sunsite.dk Tue Jun 30 08:44:31 2009
Return-Path: <zsh-workers-return-27073-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4785 invoked from network); 30 Jun 2009 08:44:28 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.4 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from new-brage.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.254.104)
  by ns1.primenet.com.au with SMTP; 30 Jun 2009 08:44:28 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 6084 invoked from network); 30 Jun 2009 08:44:09 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 30 Jun 2009 08:44:09 -0000
Received: (qmail 14933 invoked by alias); 30 Jun 2009 08:44:00 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 27073
Received: (qmail 14906 invoked from network); 30 Jun 2009 08:43:58 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 30 Jun 2009 08:43:58 -0000
Received: from cluster-d.mailcontrol.com (cluster-d.mailcontrol.com [85.115.60.190])
	by bifrost.dotsrc.org (Postfix) with ESMTPS id BA48780307FA
	for <zsh-workers@sunsite.dk>; Tue, 30 Jun 2009 10:43:43 +0200 (CEST)
Received: from cameurexb01.EUROPE.ROOT.PRI ([193.128.72.68])
	by rly22d.srv.mailcontrol.com (MailControl) with ESMTP id n5U8hfvI007733
	for <zsh-workers@sunsite.dk>; Tue, 30 Jun 2009 09:43:41 +0100
Received: from news01.csr.com ([10.99.50.25]) by cameurexb01.EUROPE.ROOT.PRI with Microsoft SMTPSVC(6.0.3790.3959);
	 Tue, 30 Jun 2009 09:43:40 +0100
Received: from news01.csr.com (localhost.localdomain [127.0.0.1])
	by news01.csr.com (8.14.2/8.13.4) with ESMTP id n5U8heWw011240
	for <zsh-workers@sunsite.dk>; Tue, 30 Jun 2009 09:43:41 +0100
Received: from csr.com (pws@localhost)
	by news01.csr.com (8.14.2/8.14.2/Submit) with ESMTP id n5U8hecG011236
	for <zsh-workers@sunsite.dk>; Tue, 30 Jun 2009 09:43:40 +0100
Message-Id: <200906300843.n5U8hecG011236@news01.csr.com>
X-Authentication-Warning: news01.csr.com: pws owned process doing -bs
To: Zsh list <zsh-workers@sunsite.dk>
Subject: Re: use 'P' parameter expansion flag with array?
In-reply-to: <19017.33909.493608.356003@gargle.gargle.HOWL>
References: <19017.33909.493608.356003@gargle.gargle.HOWL>
Comments: In-reply-to Greg Klanderman <gak@klanderman.net>
   message dated "Mon, 29 Jun 2009 23:20:21 -0400."
Date: Tue, 30 Jun 2009 09:43:40 +0100
From: Peter Stephenson <pws@csr.com>
X-OriginalArrivalTime: 30 Jun 2009 08:43:41.0035 (UTC) FILETIME=[DE67B3B0:01C9F95E]
X-Scanned-By: MailControl A-09-00-10 (www.mailcontrol.com) on 10.68.0.132
X-Virus-Scanned: ClamAV 0.94.2/9521/Tue Jun 30 07:22:03 2009 on bifrost
X-Virus-Status: Clean

Greg Klanderman wrote:
> If the 'P' parameter expansion flag is applied to an array parameter,
> should it be applied to each of the elements?

It does seem logical, but the code is obscure and it's not clear whether
this was intended or not---it probably fell through the cracks.  I don't
think the flag was completely thought through in other ways I've noticed
in the past, though I've forgotten what they are for the time being.
paramsubst() is full of my "one day someone should spend a year tidying
this up" comments.

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR PLC, Churchill House, Cambridge Business Park, Cowley Road
Cambridge, CB4 0WZ, UK                          Tel: +44 (0)1223 692070

