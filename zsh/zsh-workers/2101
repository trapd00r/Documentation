From zsh-workers-request@euclid.skiles.gatech.edu  Wed Sep  4 01:59:25 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by coral.primenet.com.au (8.7.5/8.7.3) with ESMTP id BAA13775 for <mason@primenet.com.au>; Wed, 4 Sep 1996 01:59:16 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id LAA18861; Tue, 3 Sep 1996 11:42:23 -0400 (EDT)
Resent-Date: Tue, 3 Sep 1996 11:42:23 -0400 (EDT)
Message-Id: <199609031539.LAA18065@redwood.skiles.gatech.edu>
To: zsh-workers@math.gatech.edu
Subject: forwarded mail
Date: Tue, 03 Sep 1996 11:39:18 -0400
From: Richard Coleman <coleman@math.gatech.edu>
Resent-Message-ID: <"KpXYF.0.dc4.U75Bo"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/2101
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu


------- Forwarded Message

From: hoh@approve.se (Goran Larsson)
Subject: Bugs in 3.0.0
To: zsh-workers-request@math.gatech.edu

Hello.

I've found the following bugs in 3.0.0:

1)
	$ asdf
	zsh: correct 'asdf' to 'adb' [nyae]? _

	If a key other than nyae is pressed then a beep is
	heard and the key is erased. This, however, is broken
	when a control key or DEL is used, they leave a ^
	for each key pressed, like so:

	zsh: correct 'asdf' to 'adb' [nyae]? ^^^^^

	This simple patch fixes this:

- ---->8-------->8-------->8-------->8-------->8-------->8-------->8----
*** utils.c,DIST	Wed Aug 14 18:18:34 1996
- --- utils.c	Sun Sep  1 22:55:08 1996
***************
*** 1150,1155 ****
- --- 1150,1157 ----
  	    break;
  	}
  	feep();
+ 	if (icntrl(c))
+ 	    write(2, "\b \b", 3);
  	write(2, "\b \b", 3);
      }
      if (isem) {
- ---->8-------->8-------->8-------->8-------->8-------->8-------->8----

2)
	$ PROMPT=AAA
	AAA_
	AAAPROMPT=AA
	AA_
	AAPROMPT=A
	 _
	 APROMPT='$'
	 APROMPT='$ '
	$ _

	Note that any one character prompt is replaced by a space.

3)
	Sometimes filename completion acts up. It is kind of hard
	to reproduce, but it goes something like this:

	$ setopt menu_complete
	$ setopt markdirs
	$ unsetopt autolist
	$ cd /a/path/x		(press TAB)
	$ cd /a/path/x1/	(notice beep, press ^D)
	x1 x2
	$ cd /a/path/x1/	(press space and ^H)
				(press TAB)
	$ cd /a/paty1		(press RETURN)
	cd: no such file or directory: /a/paty1
	$ 

	The first file in x1 overwrote part of the already
	completed path, the expected result should have been
	 cd /a/path/x1/y1
	but the result is
	 cd /a/paty1
	I have been unable to create a testcase, but if the info
	hear is not enough to find the problem, I'll try harder.

- -- 
 Goran Larsson                        mailto:hoh@approve.se
 I was an atheist,                    http://home1.swipnet.se/%7Ew-12153
 until I found out I was God.


------- End of Forwarded Message

