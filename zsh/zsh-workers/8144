From zsh-workers-return-8144-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Oct 06 19:37:19 1999
Return-Path: <zsh-workers-return-8144-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9131 invoked from network); 6 Oct 1999 19:37:17 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 6 Oct 1999 19:37:17 -0000
Received: (qmail 2949 invoked by alias); 6 Oct 1999 19:37:11 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 8144
Received: (qmail 2942 invoked from network); 6 Oct 1999 19:37:11 -0000
Date: Wed, 6 Oct 1999 20:37:10 +0100
From: Adam Spiers <adam@thelonious.new.ox.ac.uk>
To: zsh workers mailing list <zsh-workers@sunsite.auc.dk>
Subject: PATCH: bash2zshprompt converts \v and \V
Message-ID: <19991006203710.B10308@thelonious.new.ox.ac.uk>
Reply-To: Adam Spiers <adam@spiers.net>
Mail-Followup-To: zsh workers mailing list <zsh-workers@sunsite.auc.dk>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 1.0pre2i
X-URL: http://www.new.ox.ac.uk/~adam/
X-OS: Linux 2.2.12 i686

Index: Misc/bash2zshprompt
===================================================================
RCS file: /usr/local/cvsroot/zsh/Misc/bash2zshprompt,v
retrieving revision 1.1
diff -u -r1.1 bash2zshprompt
--- Misc/bash2zshprompt	1999/10/04 18:44:42	1.1
+++ Misc/bash2zshprompt	1999/10/05 09:02:47
@@ -44,6 +44,8 @@
   s/(?<!\\)\\#/%!/g; # hmmm
   s/(?<!\\)\\n/\$prompt_newline/g;
   s/(?<!\\)\\s/\$SHELL/g;
+  s/(?<!\\)\\v/\$ZSH_VERSION[1]/g;
+  s/(?<!\\)\\V/\${ZSH_VERSION%%-*}/g;
   s/(?<!\\)\\w/%~/g;
   s/(?<!\\)\\W/%1~/g;
   s/(?<!\\)\\\$(?!\()/%\#/g;

