From zsh-users-return-11444-mason-zsh=primenet.com.au@sunsite.dk Mon Apr 23 09:42:28 2007
Return-Path: <zsh-users-return-11444-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 16585 invoked from network); 23 Apr 2007 09:42:25 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.8 (2007-02-13) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00,FORGED_RCVD_HELO
	autolearn=ham version=3.1.8
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 23 Apr 2007 09:42:25 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 26509 invoked from network); 23 Apr 2007 09:42:18 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 23 Apr 2007 09:42:18 -0000
Received: (qmail 28543 invoked by alias); 23 Apr 2007 09:42:08 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 11444
Received: (qmail 28534 invoked from network); 23 Apr 2007 09:42:06 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 23 Apr 2007 09:42:06 -0000
Received: (qmail 25257 invoked from network); 23 Apr 2007 09:42:06 -0000
Received: from cluster-c.mailcontrol.com (168.143.177.190)
  by a.mx.sunsite.dk with SMTP; 23 Apr 2007 09:42:03 -0000
Received: from cameurexb01.EUROPE.ROOT.PRI ([62.189.241.200])
	by rly15c.srv.mailcontrol.com (MailControl) with ESMTP id l3N9flFr004836
	for <zsh-users@sunsite.dk>; Mon, 23 Apr 2007 10:41:57 +0100
Received: from news01.csr.com ([10.103.143.38]) by cameurexb01.EUROPE.ROOT.PRI with Microsoft SMTPSVC(6.0.3790.1830);
	 Mon, 23 Apr 2007 10:41:52 +0100
Date: Mon, 23 Apr 2007 10:41:51 +0100
From: Peter Stephenson <pws@csr.com>
To: "Zsh users list" <zsh-users@sunsite.dk>
Subject: Re: zsh 4.3.4 released
Message-Id: <20070423104151.1f5f368e.pws@csr.com>
In-Reply-To: <237967ef0704201440g1c072ca8l451439d2ec8578bf@mail.gmail.com>
References: <200704161647.l3GGl2FE027950@news01.csr.com>
	<20070419120758.e9774528.pws@csr.com>
	<237967ef0704201440g1c072ca8l451439d2ec8578bf@mail.gmail.com>
Organization: Cambridge Silicon Radio
X-Mailer: Sylpheed version 2.2.10 (GTK+ 2.10.8; i386-redhat-linux-gnu)
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 23 Apr 2007 09:41:52.0100 (UTC) FILETIME=[9F2FB240:01C7858B]
X-Scanned-By: MailControl A-07-07-00 (www.mailcontrol.com) on 10.67.0.125

"Mikael Magnusson" <mikachu@gmail.com> wrote:
> I found a weird problem yesterday, if i type 'which svmode' after
> sourcing [1] (from zsh -f), zsh allocates all free memory then ooms.
> (so set ulimit -v 50000 or so before trying). The strange thing is it
> works fine if i cat the file and paste it in the terminal.
> 
> [1] http://mikachu.ath.cx/slask/dot-zshurxvt

I haven't been able to get this to happen on various Linux systems or
Solaris 8.  The trace implies its happening in the code that recreates the
function in text for output.  Finding out where the final taddnl() is being
called from might help.  It's possibly an inconsistency with allocation
that's been hidden up to now.

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR PLC, Churchill House, Cambridge Business Park, Cowley Road
Cambridge, CB4 0WZ, UK                          Tel: +44 (0)1223 692070


To access the latest news from CSR copy this link into a web browser:  http://www.csr.com/email_sig.php

To get further information regarding CSR, please visit our Investor Relations page at http://ir.csr.com/csr/about/overview

