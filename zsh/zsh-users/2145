From zsh-users-return-2145-mason-zsh=primenet.com.au@sunsite.auc.dk Sat Feb 13 07:18:08 1999
Return-Path: <zsh-users-return-2145-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 14951 invoked from network); 13 Feb 1999 07:18:07 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 13 Feb 1999 07:18:07 -0000
Received: (qmail 28483 invoked by alias); 13 Feb 1999 07:15:49 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 2145
Received: (qmail 28476 invoked from network); 13 Feb 1999 07:15:43 -0000
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <990212231454.ZM14202@candle.brasslantern.com>
Date: Fri, 12 Feb 1999 23:14:54 -0800
In-Reply-To: <199902130246.VAA10174@ocalhost>
Comments: In reply to Timothy J Luoma <public+Lists/Unix/Zsh/Users@fdt.net>
        "Re: zsh and login shells." (Feb 12,  9:46pm)
References: <199902122123.QAA05026@po_box.cig.mot.com> 
	<199902130246.VAA10174@ocalhost>
X-Mailer: Z-Mail (4.0b.820 20aug96)
To: Timothy J Luoma <public+Lists/Unix/Zsh/Users@fdt.net>,
        "Larry P . Schrof" <schrof@cig.mot.com>
Subject: Re: zsh and login shells.
Cc: zsh-users@sunsite.auc.dk
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Feb 12,  9:46pm, Timothy J Luoma wrote:
} Subject: Re: zsh and login shells.
}
} 	Author:	"Larry P . Schrof" <schrof@cig.mot.com>
} 	Date:	Fri, 12 Feb 1999 15:22:16 -0600
} 	ID:	<199902122123.QAA05026@po_box.cig.mot.com>
} 
} > I know the system ksh was reading my old .login file before I
} > moved it out of the way and put in the (simple) new one.

Something just occurred to me that hadn't earlier:

As ksh doesn't normally read a file named .login (it uses .profile), it
must be the case that the system /etc/profile is reading .login with the
"." command.  Is your .login writable by anyone other than yourself?
Perhaps /etc/profile tests that someone else couldn't have written into
your .login before it reads it?

} What would happen when zsh starts and processes .login ?

Zsh would only process .login if it were explicitly sourced.  The usual
file for zsh is .zlogin ...

} Also, the condition should not be '-f', I would suggest something like this
} 
} check that it IS executable
} 	and NOT a directory
} 	and NOT a link

and NOT writable by group/other ...

I'm not sure the "not a link" test is all that useful.  If somebody could
put a link in his loc/bin directory, they could also replace the entire
executable.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

