From zsh-workers-return-22224-mason-zsh=primenet.com.au@sunsite.dk Sat Feb 11 12:29:00 2006
Return-Path: <zsh-workers-return-22224-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9212 invoked from network); 11 Feb 2006 12:28:58 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.0 (2005-09-13) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00,
	FORGED_RCVD_HELO autolearn=ham version=3.1.0
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 11 Feb 2006 12:28:58 -0000
Received: (qmail 84925 invoked from network); 11 Feb 2006 12:28:52 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 11 Feb 2006 12:28:52 -0000
Received: (qmail 19358 invoked by alias); 11 Feb 2006 12:28:50 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 22224
Received: (qmail 19348 invoked from network); 11 Feb 2006 12:28:50 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 11 Feb 2006 12:28:50 -0000
Received: (qmail 84640 invoked from network); 11 Feb 2006 12:28:50 -0000
Received: from flock1.newmail.ru (80.68.241.157)
  by a.mx.sunsite.dk with SMTP; 11 Feb 2006 12:28:45 -0000
Received: (qmail 10430 invoked from network); 11 Feb 2006 12:28:45 -0000
Received: from unknown (HELO cooker.local) (arvidjaar@newmail.ru@83.237.13.127)
  by smtpd.newmail.ru with SMTP; 11 Feb 2006 12:28:45 -0000
From: Andrey Borzenkov <arvidjaar@newmail.ru>
To: Zsh-workers <zsh-workers@sunsite.dk>
Subject: Re: [SOLVED] Libtool/zsh quoting problem: a zsh... bug?
Date: Sat, 11 Feb 2006 15:28:41 +0300
User-Agent: KMail/1.9.1
References: <20060209233201.GA5875@fargo> <200602111321.48602.arvidjaar@newmail.ru> <20060211110630.GA13442@DervishD>
In-Reply-To: <20060211110630.GA13442@DervishD>
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200602111528.42007.arvidjaar@newmail.ru>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

You do not need to Cc me, I am reading list every now and then :)

>
>     Could you please point me to where the standard says that the
> splitting shouldn't be done after that particular expansion? I've
> been searching with no success :((( The only thing I've found is that
> when a parameter expansion occurs in double quotes, field splitting
> shall not be done in the result, except for "@".
>
>     The problem is that libtool doesn't use "${1+... but just $1+...,
> without quotes, so the splitting *should* be done. That's why I think
> bash is wrong here and zsh is right.
>

<http://www.opengroup.org/onlinepubs/000095399/utilities/xcu_chap02.html#tag_02_05_01> 
combined with semantic of ${var+word}: 
<http://www.opengroup.org/onlinepubs/000095399/utilities/xcu_chap02.html#tag_02_06_02>

"$@" never does word splitting; and ${var+word} is replaced with result of 
_expansion_ of word. Word in this case is "$@" ...

- -andrey
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.2 (GNU/Linux)

iD8DBQFD7dh5R6LMutpd94wRAqpsAKCStkZZpKrvXXxck9mfahpWJZcbqQCfY1+K
ZXvoo+fWKpWLtKKkHTvk7cQ=
=+Mo4
-----END PGP SIGNATURE-----

