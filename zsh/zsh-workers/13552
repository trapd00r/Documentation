From zsh-workers-return-13552-mason-zsh=primenet.com.au@sunsite.dk Tue Feb 27 18:30:56 2001
Return-Path: <zsh-workers-return-13552-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 22538 invoked from network); 27 Feb 2001 18:30:55 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 27 Feb 2001 18:30:55 -0000
Received: (qmail 12953 invoked by alias); 27 Feb 2001 18:30:49 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 13552
Received: (qmail 12942 invoked from network); 27 Feb 2001 18:30:49 -0000
To: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Cc: "ZSH Workers Mailing List" <zsh-workers@sunsite.dk>
Subject: Re: FW: [Cooker] Default /etc/zshrc and russian loale problem
References: <001a01c0a0e6$e49b5040$21c9ca95@mow.siemens.ru>
	<1010227182119.ZM6444@candle.brasslantern.com>
From: Chmouel Boudjnah <chmouel@mandrakesoft.com>
Date: 27 Feb 2001 13:29:49 -0600
In-Reply-To: <1010227182119.ZM6444@candle.brasslantern.com>
Message-ID: <m3r90jgc0i.fsf@dark.mandrakesoft.com>
Lines: 31
User-Agent: Gnus/5.090001 (Oort Gnus v0.01) Emacs/20.7
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

"Bart Schaefer" <schaefer@candle.brasslantern.com> writes:

> No, I have no objection.  It was never my intent to suggest that necessary
> settings be removed from the global startup, only that global startup
> should be both minimized and carefully designed to conflict as little as
> possible with the user's own files.
> As to the specific question of whether /etc/profile.d/*.sh should be read
> from /etc/zprofile or /etc/zshrc, the problem there likely is that xterm
> and similar emulators typically start interactive shells that are not
> login shells, so if you're logging in via the XDM console you *still*
> won't get the locale settings if they're read only from /etc/zprofile.

agreed....

> I don't know how that works out when the shell is not zsh ... does, e.g.,
> bash source /etc/profile even when not a login shell?

we workaround that with in :

bashrc:

if [ -z "$PROFILE_LOADED" -a -e /etc/profile ]; then
    . /etc/profile
fi

unset PROFILE_LOADED


-- 
MandrakeSoft Inc                     http://www.chmouel.org
                      --Chmouel

