From zsh-users-return-3577-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Dec 27 16:03:04 2000
Return-Path: <zsh-users-return-3577-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2759 invoked from network); 27 Dec 2000 16:03:03 -0000
Received: from sunsite.dk (HELO sunsite.auc.dk) (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 27 Dec 2000 16:03:03 -0000
Received: (qmail 24264 invoked by alias); 27 Dec 2000 16:02:49 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 3577
Received: (qmail 24257 invoked from network); 27 Dec 2000 16:02:48 -0000
Date: Wed, 27 Dec 2000 11:01:36 -0500 (EST)
From: Vlad <tmd@tmd.df.ru>
To: Andrej Borsenkow <Andrej.Borsenkow@mow.siemens.ru>
cc: zsh-users@sunsite.auc.dk
Subject: RE: HOW do i..
In-Reply-To: <000001c06fd7$1134f930$21c9ca95@mow.siemens.ru>
Message-ID: <Pine.BSF.4.21.0012271057330.20973-100000@tmd.df.ru>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

> I suspect, you want
> 
> - get log of all user activity
> - prevent user from modifying this log
> 
> This can't be done, sorry. To save history entries in a file, this file should
> be user-writable. It does not matter, whom this file belongs to. History file
> is written (if at all) after every command. It means, user can edit it at any
> time and remove any entries. This applies to any logging.

is there a way to simultaneously log user's activity under root? 

> 
> The most you can do is to use fc command to write *current* entries (up to
> HISTSIZE) to some file at logout. But, how can you prevent user from modifying
> .logout, TRAPEXIT ot whatever?

-rw-r--r--  1 root  wheel  87 Dec 26 19:42 /etc/zshrc

> 
> -andrej
> 

