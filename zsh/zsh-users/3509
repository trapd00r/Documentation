From zsh-users-return-3509-mason-zsh=primenet.com.au@sunsite.auc.dk Sun Nov 05 02:51:48 2000
Return-Path: <zsh-users-return-3509-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5217 invoked from network); 5 Nov 2000 02:51:46 -0000
Received: from sunsite.dk (HELO sunsite.auc.dk) (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 5 Nov 2000 02:51:46 -0000
Received: (qmail 20947 invoked by alias); 5 Nov 2000 02:51:34 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 3509
Received: (qmail 20940 invoked from network); 5 Nov 2000 02:51:32 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <1001105025120.ZM7519@candle.brasslantern.com>
Date: Sun, 5 Nov 2000 02:51:20 +0000
In-Reply-To: <4816.973385487@jpeek.com>
Comments: In reply to Jerry Peek <jpeek@jpeek.com>
        "()# vs. ()## question" (Nov  4,  5:51pm)
References: <4816.973385487@jpeek.com>
X-Mailer: Z-Mail (5.0.0 30July97)
To: Jerry Peek <jpeek@jpeek.com>, zsh-users@sunsite.auc.dk
Subject: Re: ()# vs. ()## question
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Nov 4,  5:51pm, Jerry Peek wrote:
} Subject: ()# vs. ()## question
}
} I've scratched my head about this one for quite a while now.  Maybe
} someone can explain, please?
}
[...]
}
} The first one example below works the way I expect it to.  But I
} don't see why the second example is matching "server1/".
} 
}     zsh$ echo server?/(??/)#
}     server1/ server1/00/ server1/00/01/ server1/00/02/ ...many more...
} 
}     zsh$ echo server?/(??/)##
}     server1/ server1/00/ server1/00/01/ server1/00/02/ ...many more...

I don't get "server1/" in my output in 3.1.9-dev-7 for the second example.
Further, I get the correct output from both examples in 3.0.6 and 3.0.8
as well, so I'm at a loss to explain why you see the wrong thing in 3.0.7
and 3.1.9.

I've tried fiddling with globdots, cshnullglob, and kshglob, without any
effect on my results.

Now, I hate to second-guess you, but are you sure you've accurately told
us everything?  You said you made test directories {97..99}, but that's
a /00/ in your sample output, so obviously you've cooked things a bit for
our consumption.

The FAQ remarks about globbing closures have to do with _nested_ closures,
i.e., one # inside the parens and another # outside them.  That's really
not related to ##.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

