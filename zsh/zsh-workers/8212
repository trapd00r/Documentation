From zsh-workers-return-8212-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Oct 11 21:30:32 1999
Return-Path: <zsh-workers-return-8212-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 29147 invoked from network); 11 Oct 1999 21:30:31 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 11 Oct 1999 21:30:31 -0000
Received: (qmail 25320 invoked by alias); 11 Oct 1999 21:30:24 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 8212
Received: (qmail 25313 invoked from network); 11 Oct 1999 21:30:23 -0000
Date: Mon, 11 Oct 1999 22:30:22 +0100
From: Adam Spiers <adam@thelonious.new.ox.ac.uk>
To: zsh workers mailing list <zsh-workers@sunsite.auc.dk>
Subject: Re: PATCH: prompt fun
Message-ID: <19991011223022.A23117@thelonious.new.ox.ac.uk>
Reply-To: Adam Spiers <adam@spiers.net>
Mail-Followup-To: zsh workers mailing list <zsh-workers@sunsite.auc.dk>
References: <000101bf13eb$345d8650$21c9ca95@mow.siemens.ru> <991011163911.ZM6865@candle.brasslantern.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 1.0pre2i
In-Reply-To: <991011163911.ZM6865@candle.brasslantern.com>
X-URL: http://www.new.ox.ac.uk/~adam/
X-OS: Linux 2.2.12 i686

Bart Schaefer (schaefer@candle.brasslantern.com) wrote:
> On Oct 11,  5:19pm, Andrej Borsenkow wrote:
> } Subject: RE: PATCH: prompt fun
> }
> } I cannot apply this patch. It creates lots of files in top-level directory.
> [...]
> } non-POSIX mode patch selects file name with the least number of slashes.
> } And in POSIX mode it won't create files.
> 
> Run the "cvs diff" output through this:
> 
> 	sed -e '/^RCS/,/^---/d' -e '/^\+\+\+/d'
> 
> That will strip all file name lines other than the Index: line, forcing the
> patch to apply correctly in non-POSIX mode, and it should work for both
> context and unified diffs.

Will do from now on ...

What if a line within the hunk begins with `--' or `++' though?

