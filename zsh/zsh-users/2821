From zsh-users-return-2821-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Jan 03 18:04:17 2000
Return-Path: <zsh-users-return-2821-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 26771 invoked from network); 3 Jan 2000 18:04:15 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 3 Jan 2000 18:04:15 -0000
Received: (qmail 11806 invoked by alias); 3 Jan 2000 18:04:01 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 2821
Received: (qmail 11799 invoked from network); 3 Jan 2000 18:04:00 -0000
Date: Mon, 3 Jan 2000 19:03:55 +0100 (CET)
From: Christoph Berg <cb@heim-d.uni-sb.de>
To: zsh-users@sunsite.auc.dk
Subject: Re: PS1 corrupted through "su"
In-Reply-To: <14448.55754.322294.62194@bartok.lanl.gov>
Message-ID: <Pine.LNX.4.21.0001031833410.258-100000@df7cb.heim-d.uni-sb.de>
Organization: "Wohnheim D, Universitaet des Saarlandes"
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=ISO-8859-1
Content-Transfer-Encoding: 8BIT

Hello,

I have another question concering the prompt stuff:

My $prompt looks like this:
prompt="%{^[]0;%n@%m:%/^G%}
[%B%{^[[31m%}%?%{^[[0m%}%b] %U%n@%m%u:%40<..<%B%{^[[34m%}%/%{^[[0m%}%b %#"

The main point is that it puts something like "cb@df7cb:/home/cb" in
xterm's title bar.

I would like to have the name of the command currently executed included
there and $POSTEDIT seems the right place to put the escape sequences
needed; however $POSTEDIT does not evaulate variable, so I only get
"%n@%m:%/" as title.

How can I tell zsh to evaluate %- and $-expressions and which variable
contains the command being executed?

... Christoph

PS: It would be nice to have quoting for ESC (^[), ^J etc. (e.g. \012)
-- 
Christoph Berg <cb@heim-d.uni-sb.de>
Wohnheim D, Zi. 2405, Universität des Saarlandes

