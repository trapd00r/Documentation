From zsh-workers-return-20113-mason-zsh=primenet.com.au@sunsite.dk Mon Jun 28 15:15:35 2004
Return-Path: <zsh-workers-return-20113-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 20431 invoked from network); 28 Jun 2004 15:15:34 -0000
Received: from odin.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.85)
  by ns1.primenet.com.au with SMTP; 28 Jun 2004 15:15:34 -0000
Received: (qmail 30109 invoked from network); 28 Jun 2004 16:25:00 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 28 Jun 2004 16:25:00 -0000
Received: (qmail 23433 invoked by alias); 28 Jun 2004 15:14:49 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 20113
Received: (qmail 23423 invoked from network); 28 Jun 2004 15:14:49 -0000
Received: from odin.dotsrc.org (HELO a.mx.sunsite.dk) (qmailr@130.225.247.85)
  by sunsite.dk with SMTP; 28 Jun 2004 15:14:49 -0000
Received: (qmail 28679 invoked from network); 28 Jun 2004 16:24:25 -0000
Received: from unknown (HELO moonbase.zanshin.com) (@167.160.213.139)
  by a.mx.sunsite.dk with SMTP; 28 Jun 2004 16:24:14 -0000
Received: from toltec.zanshin.com (toltec.zanshin.com [64.84.47.166])
	by moonbase.zanshin.com (8.12.11/8.12.11) with ESMTP id i5SFE9V0025843;
	Mon, 28 Jun 2004 08:14:09 -0700
Date: Mon, 28 Jun 2004 08:14:09 -0700 (PDT)
From: Bart Schaefer <schaefer@brasslantern.com>
Reply-To: zsh-workers@sunsite.dk
To: zsh-workers@sunsite.dk
cc: 255788-forwarded@bugs.debian.org
Subject: Re: PATCH: (2): Bug#255788: $'' does not work after <<< 
In-Reply-To: <200406281139.i5SBdtc5013590@news01.csr.com>
Message-ID: <Pine.LNX.4.60.0406280804190.19831@toltec.zanshin.com>
References: <200406281139.i5SBdtc5013590@news01.csr.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, hits=0.0 required=6.0 tests=none autolearn=no version=2.63
X-Spam-Hits: 0.0

On Mon, 28 Jun 2004, Peter Stephenson wrote:

> " unchanged; ` now does the same thing as double quotes, which means \\
> gets turned into \, etc.; backquotes don't do command substitution ---
> they never did, but they wouldn't have been stripped properly.

Er, stripped?  They shouldn't get stripped, at least not when used as the 
marker for a here-doc.  My example from previous mail showed that:

[schaefer]$ cat <<`echo foo`
> bar
> foo
> echo foo
> `echo foo`
bar
foo
echo foo
[schaefer]$ 

(We could argue that bash is wrong in this case, but ...)

(I admit I haven't tried this second patch yet, so sorry if I've jumped to
the wrong conclusion here.)

> Here strings: [...] This should be more consistent, doing zsh's standard 
> forced single-word substitution (make sure arrays don't turn it into 
> multiple words, etc.).  I still don't see any reason why this would be 
> the wrong thing to do.

This is fine as long as it doesn't change the behavior of here-documents.
Sorry if I inadvertently implied otherwise at any point.

