From zsh-users-return-9920-mason-zsh=primenet.com.au@sunsite.dk Mon Feb 13 16:33:52 2006
Return-Path: <zsh-users-return-9920-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 823 invoked from network); 13 Feb 2006 16:33:49 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.0 (2005-09-13) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00,
	FORGED_RCVD_HELO autolearn=ham version=3.1.0
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 13 Feb 2006 16:33:49 -0000
Received: (qmail 32429 invoked from network); 13 Feb 2006 16:33:40 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 13 Feb 2006 16:33:40 -0000
Received: (qmail 28641 invoked by alias); 13 Feb 2006 16:33:33 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 9920
Received: (qmail 28632 invoked from network); 13 Feb 2006 16:33:33 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 13 Feb 2006 16:33:33 -0000
Received: (qmail 31362 invoked from network); 13 Feb 2006 16:33:33 -0000
Received: from vms046pub.verizon.net (206.46.252.46)
  by a.mx.sunsite.dk with SMTP; 13 Feb 2006 16:33:31 -0000
Received: from candle.brasslantern.com ([71.116.81.225])
 by vms046.mailsrvcs.net
 (Sun Java System Messaging Server 6.2-4.02 (built Sep  9 2005))
 with ESMTPA id <0IUM002N5WHFWJ40@vms046.mailsrvcs.net> for
 zsh-users@sunsite.dk; Mon, 13 Feb 2006 10:29:40 -0600 (CST)
Received: from candle.brasslantern.com (IDENT:schaefer@localhost [127.0.0.1])
	by candle.brasslantern.com (8.12.11/8.12.11) with ESMTP id k1DGTcWJ013340	for
 <zsh-users@sunsite.dk>; Mon, 13 Feb 2006 08:29:39 -0800
Received: (from schaefer@localhost)	by candle.brasslantern.com
 (8.12.11/8.12.11/Submit) id k1DGTcV4013339	for zsh-users@sunsite.dk; Mon,
 13 Feb 2006 08:29:38 -0800
Date: Mon, 13 Feb 2006 16:29:37 +0000
From: Bart Schaefer <schaefer@brasslantern.com>
Subject: Re: compinit causes strange tab completion on '<'
In-reply-to: <43F04230.8050708@llsd.net>
To: zsh-users@sunsite.dk
Message-id: <1060213162937.ZM13338@candle.brasslantern.com>
MIME-version: 1.0
X-Mailer: Z-Mail (5.0.0 30July97)
Content-type: text/plain; charset=us-ascii
References: <43F04230.8050708@llsd.net>
Comments: In reply to Jeff <lists@llsd.net>
 "compinit causes strange tab completion on '<'" (Feb 13,  3:24am)

On Feb 13,  3:24am, Jeff wrote:
}
} %< ./init.d/[tab]
} gives no completion
} %< /etc/init.d/[tab]
} gives no completion

This is a problem with either the _redirect completer or the _set_command
utility funtion, depending on how you look at it.  _redirect calls
_set_command to find the name of the command to which input is being
redirected, but in this case there is none.   _set_command incorrectly
returns /etc/init.d as the command name and conseqently the completion
system tries to complete arguments for init scripts, rather than the
names of the init scripts.

I'm not immediately sure what to do about it, though.

-- 
Bart Schaefer
http://www.well.com/user/barts

