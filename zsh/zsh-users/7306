From zsh-users-return-7306-mason-zsh=primenet.com.au@sunsite.dk Wed Mar 31 16:42:51 2004
Return-Path: <zsh-users-return-7306-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2647 invoked from network); 31 Mar 2004 16:42:49 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 31 Mar 2004 16:42:49 -0000
Received: (qmail 22603 invoked by alias); 31 Mar 2004 16:42:18 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 7306
Received: (qmail 22590 invoked from network); 31 Mar 2004 16:42:18 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 31 Mar 2004 16:42:18 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [130.225.247.86] by sunsite.dk (MessageWall 1.0.8) with SMTP; 31 Mar 2004 16:42:18 -0000
Received: (qmail 10551 invoked from network); 31 Mar 2004 16:42:17 -0000
Received: from wbar3.sjo1-4-11-009-147.sjo1.dsl-verizon.net (HELO candle.brasslantern.com) (4.11.9.147)
  by a.mx.sunsite.dk with SMTP; 31 Mar 2004 16:42:16 -0000
Received: (from schaefer@localhost)
	by candle.brasslantern.com (8.11.6/8.11.6) id i2VGgE729311
	for zsh-users@sunsite.dk; Wed, 31 Mar 2004 08:42:14 -0800
X-Authentication-Warning: candle.brasslantern.com: schaefer set sender to schaefer@closedmail.com using -f
From: Bart Schaefer <schaefer@brasslantern.com>
Message-Id: <1040331164214.ZM29310@candle.brasslantern.com>
Date: Wed, 31 Mar 2004 16:42:14 +0000
In-Reply-To: <20040330194311.GA2780@pecos.8d.com>
Comments: In reply to xavier <list.zsh-users@natch.dyndns.org>
        "expanding the completed arguments (ie cvs add *)" (Mar 30,  2:43pm)
References: <20040330194311.GA2780@pecos.8d.com>
X-Mailer: Z-Mail (5.0.0 30July97)
To: Zsh User ML <zsh-users@sunsite.dk>
Subject: Re: expanding the completed arguments (ie cvs add *)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: ****
X-Spam-Status: No, hits=4.7 required=6.0 tests=RCVD_IN_DYNABLOCK,
	RCVD_IN_NJABL,RCVD_IN_NJABL_DIALUP,RCVD_IN_SORBS autolearn=no 
	version=2.63
X-Spam-Hits: 4.7

On Mar 30,  2:43pm, xavier wrote:
} 
} I'd like to expand * with tab to the proposed completed possibilities
[...] 
} what did i do wrong ?

First of all, if you aren't using compsys (you probably are, but you
didn't say), the old expand-or-complete key binding for TAB expands
glob patterns as file names without regard to the completion context.

Secondly, if you are using compsys and you have the _expand completer
in your list of completers, that mimics the old style expansion and so
again you get all files globbed independent of context.

(This happens in part because the "completer" style is by necessity
looked up in the nearly-empty default context, because until the calls
to completers have begun the more specific context isn't yet known.)

In order to get the behavior you want, you need to be using compsys (and
therefore have TAB bound to complete-word rather than expand-or-complete)
and also NOT be using the _expand completer.

You might also want to look at the doc for the _all_matches completer.

