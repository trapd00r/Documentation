From zsh-users-return-6967-mason-zsh=primenet.com.au@sunsite.dk Thu Jan 01 01:32:55 2004
Return-Path: <zsh-users-return-6967-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13853 invoked from network); 1 Jan 2004 01:32:53 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 1 Jan 2004 01:32:53 -0000
Received: (qmail 9173 invoked by alias); 1 Jan 2004 01:32:40 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 6967
Received: (qmail 9131 invoked from network); 1 Jan 2004 01:32:40 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 1 Jan 2004 01:32:40 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [130.95.128.56] by sunsite.dk (MessageWall 1.0.8) with SMTP; 1 Jan 2004 1:32:39 -0000
Received: from 127.0.0.1 (localhost [127.0.0.1])
	by dummy.domain.name (Postfix) with SMTP id 9AEC3366618
	for <zsh-users@sunsite.dk>; Thu,  1 Jan 2004 09:32:37 +0800 (WST)
Received: from gulag.gu.uwa.edu.au (gulag.guild.uwa.edu.au [130.95.100.5])
	by asclepius.uwa.edu.au (Postfix) with ESMTP id 866B536660A
	for <zsh-users@sunsite.dk>; Thu,  1 Jan 2004 09:32:37 +0800 (WST)
Received: from gulag.gu.uwa.edu.au (devenish@localhost [127.0.0.1])
	by gulag.gu.uwa.edu.au (8.12.3/8.12.3/Debian-6.6) with ESMTP id i011WaoJ019546
	for <zsh-users@sunsite.dk>; Thu, 1 Jan 2004 09:32:36 +0800
Received: (from devenish@localhost)
	by gulag.gu.uwa.edu.au (8.12.3/8.12.3/Debian-6.6) id i011WZq7019544
	for zsh-users@sunsite.dk; Thu, 1 Jan 2004 09:32:35 +0800
Date: Thu, 1 Jan 2004 09:32:35 +0800
From: James Devenish <j-devenish@users.sourceforge.net>
To: zsh-users@sunsite.dk
Subject: Re: zsh 4.1.1 make check errors on OS X 10.3 [was: 10.2]
Message-ID: <20040101013235.GA18846@mail.guild.uwa.edu.au>
Mail-Followup-To: zsh-users@sunsite.dk
References: <525FE6E8-3BF2-11D8-B757-000A9591EB8C@fastmail.fm>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <525FE6E8-3BF2-11D8-B757-000A9591EB8C@fastmail.fm>
User-Agent: Mutt/1.3.28i

Hi,

In message <525FE6E8-3BF2-11D8-B757-000A9591EB8C@fastmail.fm>
on Wed, Dec 31, 2003 at 04:34:55PM -0800, Culley Harrelson wrote:
> I am new to zsh so I don't know how to do further tests on the below 
> errors.  It installed fine and seems to be working without problems.  
> With 10.3 out now my environment is getting obscure but I thought I 
> would post these test results anyway...
[...]
> ./C02cond.ztst: starting.
> Test ./C02cond.ztst failed: bad status 1, expected 0 from:
[...]
> Was testing: -N cond
> ./C02cond.ztst: test failed.

This will fail on HFS+ volumes because the access time is not stored (it
will always be equal to the modification time). I suspect there *is* a
dedicated field in the filesystem for storing it (for POSIX purposes)
but it is traditionally absent, and currently unused, under Apple
operating systems. Happily, this would not be a zsh bug per se, so the
following text could be updated:

> The following may (or may not) help identifying the cause:
>   This test can fail on NFS-mounted filesystems as the access and
>   modification times are not updated separately.  This does not indicate
>   a problem in the shell.

E.g. "...This test can fail on NFS-mounted or HFS+ (Apple Mac OS X
default) filesystems as the...".

> ./Y01completion.ztst: starting.
> comptestinit:7: failed to load module: zsh/zpty

The remainder of the errors appear to be related to the "failed to load
module: zsh/zpty" problem. I don't appear to have any such problem under
10.3.1.

PS. I get a lot of warnings about "implicit declaration of function
'ioctl'" (because sys/ioctl.h is not included) but of course there is no
problem when linking. Also, I note that object files have names like
blah..o instead of blah.o (not that it matters).


