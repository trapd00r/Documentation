From zsh-workers-return-16606-mason-zsh=primenet.com.au@sunsite.dk Tue Feb 12 12:59:14 2002
Return-Path: <zsh-workers-return-16606-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5444 invoked from network); 12 Feb 2002 12:59:14 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 12 Feb 2002 12:59:14 -0000
Received: (qmail 26040 invoked by alias); 12 Feb 2002 12:59:08 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 16606
Received: (qmail 26023 invoked from network); 12 Feb 2002 12:59:07 -0000
Date: Tue, 12 Feb 2002 04:59:01 -0800
From: Derek Peschel <dpeschel@eskimo.com>
To: zsh-workers@sunsite.dk
Subject: why is 2 the smallest HISTSIZE?
Message-ID: <20020212045901.A10430@eskimo.eskimo.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 1.0i

The manual refers to a hierarchy of history files: the saved history file,
then the internal history list, then the "last command" buffer which is
always available even if the history list is disabled.

Setting HISTSIZE to zero would disable the history list -- are there
any other ways of disabling it? -- but the code prevents HISTSIZE from
actually becoming zero.  I guess that prevention is what creates the
illusion of a "last comamnd" buffer (Is there a separate buffer,
not maintained by the history mechanism?).

But the code uses 2, not 1, as a minimum value for HISTSIZE.  So you
actually get the command you're typing and the two you typed eariler.

Did the implementation (of the "last command" buffer) change, but the
2 not get changed to 1?  Or do I not understand the code?

Thanks,

-- Derek

