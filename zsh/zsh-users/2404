From zsh-users-return-2404-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Jun 22 07:55:01 1999
Return-Path: <zsh-users-return-2404-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18435 invoked from network); 22 Jun 1999 07:54:58 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 22 Jun 1999 07:54:58 -0000
Received: (qmail 3044 invoked by alias); 22 Jun 1999 07:54:29 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 2404
Received: (qmail 3036 invoked from network); 22 Jun 1999 07:54:27 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <990622075325.ZM28012@candle.brasslantern.com>
Date: Tue, 22 Jun 1999 07:53:25 +0000
In-Reply-To: <19990622092132.A18495@loriot.cs.uni-magdeburg.de>
Comments: In reply to Roland Jesse <jesse@mail.CS.Uni-Magdeburg.De>
        "Best place to put `mesg n` into?" (Jun 22,  9:21am)
References: <19990622092132.A18495@loriot.cs.uni-magdeburg.de>
X-Mailer: Z-Mail (5.0.0 30July97)
To: Roland Jesse <jesse@prinz-atm.CS.Uni-Magdeburg.De>,
        zsh-users@sunsite.auc.dk
Subject: Re: Best place to put `mesg n` into?
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Jun 22,  9:21am, Roland Jesse wrote:
} Subject: Best place to put `mesg n` into?
} 
} I have `mesg n` in my ~/.zshrc file to avoid getting all these `talk`
} messages. This works fine for the interactive shell. It does not for
} xterms opened in a way like `xterm -e wnewmail &`.  [...] Am I wrong
} here and should I put it into .zshenv to affect _all_ possibly opended
} terminals?

If you put "mesg" in .zshenv, you'll have to protect it with something
like

	[[ -t 0 ]] && mesg n

so that you don't get "stdin: is not a tty" or similar errors for shells
that have no associated terminal.

A better solution is

	xterm -ut -e wnewmail &

The -ut means that xterm should not write an /etc/utmp (or equivalent)
entry.  `talk' et al. won't be able to find the terminal to ask for a
connection if there's no utmp entry.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

