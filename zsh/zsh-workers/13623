From zsh-workers-return-13623-mason-zsh=primenet.com.au@sunsite.dk Tue Mar 13 21:59:39 2001
Return-Path: <zsh-workers-return-13623-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 16998 invoked from network); 13 Mar 2001 21:59:38 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 13 Mar 2001 21:59:38 -0000
Received: (qmail 4068 invoked by alias); 13 Mar 2001 21:59:32 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 13623
Received: (qmail 4057 invoked from network); 13 Mar 2001 21:59:32 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <010313135746.ZM638@candle.brasslantern.com>
Date: Tue, 13 Mar 2001 13:57:46 -0800
In-Reply-To: <E14cvJO-00084f-00@crucigera.fysh.org>
Comments: In reply to Zefram <zefram@fysh.org>
        "Re: History Up key" (Mar 13,  8:22pm)
References: <E14cvJO-00084f-00@crucigera.fysh.org>
X-Mailer: Z-Mail Lite (5.0.0 30July97)
To: zsh-workers@sunsite.dk
Subject: Re: History Up key
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

(Relocated to -workers)

On Mar 13,  8:22pm, Zefram wrote:
> Subject: Re: History Up key
> 
> A.  It would be a bad idea to have arrow keys bound by default in vi
>     insert mode.  Emacs mode and vi command mode don't have the same
>     problems, because <esc> itself isn't bound to anything in those
>     keymaps.

Obviously, though, users want it, or all those vi clones wouldn't have put
in hacks to make it work.

> B.  Adapting the arrow key sequences to the local terminal is problematic.
>     Binding things like ^H as arrow key sequences will cause big problems,
>     so at minimum terminals where arrow keys don't send escape sequences
>     should be treated as having no arrow keys.

This suggests that any and all keybindings read from term(cap|info) should
be bound BEFORE any of zsh's regular defaults, so that e.g. if down-arrow
sends ^J, the binding to down-history is replaced by one for accept-line.

>     With that heuristic in
>     place, the only problem with adaption is the issue of programmatically
>     knowing where those bindings are.

Which should be easier with the termcap and terminfo modules ...

> C.  The documentation should contain advice on how to turn *on* key
>     bindings for arrow keys in vi insert mode.  This avoids the issue
>     of difficulty in turning off the bindings.

Should I commit my zkbd script?  If so, where -- under Misc/ ?
(See zsh-users/3563)

