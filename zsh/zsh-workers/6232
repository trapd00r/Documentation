From zsh-workers-return-6232-mason-zsh=primenet.com.au@sunsite.auc.dk Fri May 07 10:58:08 1999
Return-Path: <zsh-workers-return-6232-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 16033 invoked from network); 7 May 1999 10:58:06 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 7 May 1999 10:58:06 -0000
Received: (qmail 18350 invoked by alias); 7 May 1999 10:57:39 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 6232
Received: (qmail 18343 invoked from network); 7 May 1999 10:57:38 -0000
From: "Andrej Borsenkow" <borsenkow.msk@sni.de>
To: "Peter Stephenson" <pws@ibmth.df.unipi.it>,
        "Zsh hackers list" <zsh-workers@sunsite.auc.dk>
Subject: RE: Possible impact of RE: PATCH: large file support on SunOS 5 
Date: Fri, 7 May 1999 14:55:48 +0400
Message-ID: <007001be9878$29f5baa0$21c9ca95@mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2314.1300
Importance: Normal
In-Reply-To: <9905071008.AA38229@ibmth.df.unipi.it>

>
> This will take a little work, but perhaps it's not so bad.

It just occured to me, that actually things _are_ bad. Assume, that you have
generic zsh script that takes stat output and makes some computation ... the
simple thing is size(file) < free_space ... and hits a large file (and even
free space is already dangerous - I'm currently running with 9GB filesystem.
It's O.K.in blocks - but not in bytes). This would mean, that all internal
computation should be done in 64 bits ... too bad really (problem with zftp
I mentioned is exactly of this nature)

In other words, really subtle problems may arise. That is exactly the reason
why I'd prefer LP64 mode that does not have these problems.
>
> I have no idea how to do this.
>

Well, we need to have a list of possible compiler flags that force LP64
mode. Our system is using -Klp64. IRIX? Solaris? Linux? Somebody's written,
that zsh runs on Irix in LP64 mode. Gotta look in archive.


/andrej

