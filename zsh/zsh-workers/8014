From zsh-workers-return-8014-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Sep 23 08:38:08 1999
Return-Path: <zsh-workers-return-8014-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 168 invoked from network); 23 Sep 1999 08:38:06 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 23 Sep 1999 08:38:06 -0000
Received: (qmail 7065 invoked by alias); 23 Sep 1999 08:37:52 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 8014
Received: (qmail 7058 invoked from network); 23 Sep 1999 08:37:51 -0000
Message-Id: <9909230802.AA17222@ibmth.df.unipi.it>
To: zsh-workers@sunsite.auc.dk (Zsh hackers list)
Subject: PATCH: 3.1.6-pws-5: math fix
Date: Thu, 23 Sep 1999 10:02:17 +0200
From: Peter Stephenson <pws@ibmth.df.unipi.it>

I made a silly mistake in callmathfunc(), because I thought I was using
mathevalarg() rather than mathevall().  It only shows up in functions with
more than one argument.  Actually, it would be more efficient to unload the
arguments onto the stack at the point the function is found, like the grown
up languages do, but that wouldn't fit with calling functions with string
arguments.

--- Src/math.c.mf2	Wed Sep 22 14:10:17 1999
+++ Src/math.c	Thu Sep 23 09:55:50 1999
@@ -509,7 +509,6 @@
 		    addlinknode(l, q);
 		    if (errflag || mtok != COMMA)
 			break;
-		    a++;
 		}
 	    }
 	    if (*a && !errflag)

-- 
Peter Stephenson <pws@ibmth.df.unipi.it>       Tel: +39 050 844536
WWW:  http://www.ifh.de/~pws/
Dipartimento di Fisica, Via Buonarroti 2, 56127 Pisa, Italy

