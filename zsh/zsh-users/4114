From zsh-users-return-4114-mason-zsh=primenet.com.au@sunsite.dk Sat Aug 11 21:51:51 2001
Return-Path: <zsh-users-return-4114-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 543 invoked from network); 11 Aug 2001 21:51:50 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 11 Aug 2001 21:51:50 -0000
Received: (qmail 10559 invoked by alias); 11 Aug 2001 21:51:39 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4114
Received: (qmail 10548 invoked from network); 11 Aug 2001 21:51:38 -0000
Date: Sat, 11 Aug 2001 14:51:36 -0700
From: Will Yardley <william@hq.newdream.net>
To: zsh-users@sunsite.dk
Subject: Re: globbing
Message-ID: <20010811145136.B30812@hq.newdream.net>
Mail-Followup-To: zsh-users@sunsite.dk
References: <20010810002007.A4701@hq.newdream.net> <000401c1217c$38454690$21c9ca95@mow.siemens.ru> <20010810123418.H4701@hq.newdream.net> <3B7512B9.8010104@mow.siemens.ru> <1010811212358.ZM1092@candle.brasslantern.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <1010811212358.ZM1092@candle.brasslantern.com>
User-Agent: Mutt/1.3.20i
Organization: New Dream Network

Bart Schaefer wrote:
> You can, however, roll your own (but not in 3.0.x):
> 
>   bash-complete () {
>     emulate -L zsh
>     if [[ $RBUFFER = (|[[:space:]\;\&\|\>]*) ]]
>     then
>       zle complete-word         # Completing at end of word is not special
>     else
>       setopt noautomenu         # Cannot menu-complete the prefix, sorry
>       RBUFFER[1]=" $RBUFFER[1]" 
>       zle complete-word                  
>       RBUFFER[1,2]=$RBUFFER[2]           
>       if [[ $LBUFFER[-1] = $RBUFFER[1] ]]
>       then
> 	LBUFFER[-1]=''          # Suppress doubled slashes, for example
>       fi
>     fi
>   }
>   zle -N bash-complete
>   bindkey '\t' bash-complete
> 
> This could, I suppose, get added to the collection of bash-alike functions
> that PWS has created.  It does appear to work with `setopt bashautolist'.

That works _exactly_ how I wanted it to. Perhaps the normal way is better,
but old habits die hard.... thanks for going to the trouble of writing that
function too!

-- 
Sintax error in config file! (line 378)
aborted!

