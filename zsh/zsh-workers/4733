From zsh-workers-request@math.gatech.edu Wed Dec 09 12:53:13 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 28060 invoked from network); 9 Dec 1998 12:53:12 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 9 Dec 1998 12:53:12 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.9.1/8.9.1) id HAA20163;
	Wed, 9 Dec 1998 07:51:02 -0500 (EST)
Resent-Date: Wed, 9 Dec 1998 07:51:02 -0500 (EST)
From: Paul Nevai <nevai@math.ohio-state.edu>
Message-Id: <199812091250.HAA29933@math.mps.ohio-state.edu>
Subject: zsh-3.0.5 on MachTen 4.1.1 - this worked
To: machten@tenon.com (MachTen), hzoli@cs.elte.hu, zsh-workers@math.gatech.edu
Date: Wed, 9 Dec 1998 07:50:01 -0500 (EST)
Reply-To: nevai@math.ohio-state.edu (Paul Nevai)
Organization: The Ohio State University
X-Mailer: ELM [version 2.5 PL0b1]
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"J3KQ31.0.-w4.s8dRs"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/4733
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Setup: Power Mac G3 [512Mb RAM] with System 8.1 [HFS+] with MachTen 4.1.1

Problem: compiling zsh-3.0.5

Thanks to Sean Ahern [ahern@sphere.llnl.gov], this worked...

#############################################################################
Ediff configure.orig configure:

-------- 35 lines deleted at 2337:
echo $ac_n "checking if tgetent accepts NULL""... $ac_c" 1>&6
echo "configure:2339: checking if tgetent accepts NULL" >&5
if eval "test \"`echo '$''{'zsh_cv_func_tgetent_accepts_null'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test "$cross_compiling" = yes; then
  zsh_cv_func_tgetent_accepts_null=no
else
  cat > conftest.$ac_ext <<EOF
#line 2347 "configure"
#include "confdefs.h"
main(){int i = tgetent((char*)0,"vt100");exit(!i || i == -1);}
EOF
if { (eval echo configure:2351: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null
then
  zsh_cv_func_tgetent_accepts_null=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  zsh_cv_func_tgetent_accepts_null=no
fi
rm -fr conftest*
fi

fi

echo "$ac_t""$zsh_cv_func_tgetent_accepts_null" 1>&6
if test $zsh_cv_func_tgetent_accepts_null = yes; then
  cat >> confdefs.h <<\EOF
#define TGETENT_ACCEPTS_NULL 1
EOF

fi

