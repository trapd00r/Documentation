From zsh-users-return-3245-mason-zsh=primenet.com.au@sunsite.auc.dk Sun Jul 02 04:46:18 2000
Return-Path: <zsh-users-return-3245-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8978 invoked from network); 2 Jul 2000 04:46:17 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 2 Jul 2000 04:46:17 -0000
Received: (qmail 12491 invoked by alias); 2 Jul 2000 04:46:00 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 3245
Received: (qmail 12484 invoked from network); 2 Jul 2000 04:46:00 -0000
Date: Sat, 1 Jul 2000 23:45:56 -0500
From: Dan Nelson <dnelson@emsphone.com>
To: Jeroen Ruigrok/Asmodai <asmodai@wxs.nl>
Cc: zsh-users@sunsite.auc.dk, will@FreeBSD.org
Subject: Re: FreeBSD 5.0 and zsh 3.0.7 rare bug
Message-ID: <20000701234555.A18314@dan.emsphone.com>
References: <20000701225612.J26119@daemon.ninth-circle.org> <20000701230320.K26119@daemon.ninth-circle.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.3.4i
In-Reply-To: <20000701230320.K26119@daemon.ninth-circle.org>; from "Jeroen Ruigrok/Asmodai" on Sat Jul  1 23:03:20 GMT 2000
X-OS: FreeBSD 5.0-CURRENT

In the last episode (Jul 01), Jeroen Ruigrok/Asmodai said:
> -On [20000701 22:59], Jeroen Ruigrok/Asmodai (asmodai@wxs.nl) wrote:
>> I could do a ls -asl and get good output, then run a command,
>> perhaps interrupt it, and then try ls -asl again to get the output
>> all mixed up.
>
> After some inspection I came to the discovery that zsh sometimes out
> of itself sets stty's icrnl option.  Which obviously messes up
> output.  I have no idea what can cause this.

Hm. I haven't seen this at all, and I've been running 3.0.7 forever
(note that 3.0.8 is out now).  Are you sure that the command you're
running doesn't fiddle with the tty settings and neglect to restore
them when you ^C?  I have "ttyctl -f" in my zshrc, which handles these
programs very nicely.

-- 
	Dan Nelson
	dnelson@emsphone.com

