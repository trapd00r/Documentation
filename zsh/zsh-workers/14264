From zsh-workers-return-14264-mason-zsh=primenet.com.au@sunsite.dk Tue May 08 15:27:33 2001
Return-Path: <zsh-workers-return-14264-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18207 invoked from network); 8 May 2001 15:27:31 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 8 May 2001 15:27:31 -0000
Received: (qmail 20417 invoked by alias); 8 May 2001 15:27:23 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 14264
Received: (qmail 20392 invoked from network); 8 May 2001 15:27:22 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <1010508152700.ZM29937@candle.brasslantern.com>
Date: Tue, 8 May 2001 15:27:00 +0000
In-Reply-To: <200105081221.OAA03854@beta.informatik.hu-berlin.de>
Comments: In reply to Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
        "Re: Using _values with ->state transitions?" (May  8,  2:21pm)
References: <200105081221.OAA03854@beta.informatik.hu-berlin.de>
X-Mailer: Z-Mail (5.0.0 30July97)
To: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>,
        zsh-workers@sunsite.dk
Subject: Re: Using _values with ->state transitions?
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On May 8,  2:21pm, Sven Wischnowsky wrote:
} Subject: Re: Using _values with ->state transitions?
}
} Bart Schaefer wrote:
} 
} > function> _values -s ':' test 'a:arg:->foo' b c
[...]
} > schaefer[507] : a=<TAB>
} > schaefer[508] : a=foo 
} >                       ^cursor here -- why did that space get added?
} 
} Er, how should _values do that?  At the time the `foo' is added as a
} match _values isn't running anymore.

Er, um ... I was confusing the problem above with THIS problem:

} (But it was broken for the (...)-forms of actions, too.  Ahem.)

So I really wasn't thinking of the -> case at all, so ...

} We could make _values store the `-qS$sep' in some array that has to be
} declared by the calling function, but then that function has to use it
} and probably could equally well do it directly.

Right.

} Should we add that or just document what the function handling the
} `->state' would have to do?

Documenting what the ->state handler should do would be nice, yes.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

