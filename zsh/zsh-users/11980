From zsh-users-return-11980-mason-zsh=primenet.com.au@sunsite.dk Wed Oct 10 23:38:30 2007
Return-Path: <zsh-users-return-11980-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 7559 invoked from network); 10 Oct 2007 23:38:21 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.3 (2007-08-08) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.3
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 10 Oct 2007 23:38:21 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 16910 invoked from network); 10 Oct 2007 23:38:15 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 10 Oct 2007 23:38:15 -0000
Received: (qmail 3686 invoked by alias); 10 Oct 2007 23:38:07 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 11980
Received: (qmail 3667 invoked from network); 10 Oct 2007 23:38:06 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 10 Oct 2007 23:38:06 -0000
Received: (qmail 15733 invoked from network); 10 Oct 2007 23:38:06 -0000
Received: from minddrive.numenor.org (67.117.239.209)
  by a.mx.sunsite.dk with SMTP; 10 Oct 2007 23:38:00 -0000
Received: from numenor.org (delirium.numenor.org [67.117.239.210])
	by minddrive.numenor.org (8.13.4/8.13.4) with SMTP id l9ANbXw1002467
	for <zsh-users@sunsite.dk>; Wed, 10 Oct 2007 16:37:38 -0700 (PDT)
Date: Wed, 10 Oct 2007 16:37:33 -0700
From: Kenneth Lareau <elessar@numenor.org>
To: zsh-users@sunsite.dk
Subject: Looking for devious one or two liner solutions to a problem
Message-Id: <20071010163733.7875cee3.elessar@numenor.org>
Organization: Numenor
X-Mailer: Sylpheed version 2.2.7 (GTK+ 2.4.9; i386-pc-solaris2.10)
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-numenor.org-MailScanner-Information: Please contact the ISP for more information
X-numenor.org-MailScanner: Found to be clean

At my workplace, we have a given problem we give potential engineers to see how their
programming and thought process skills are; it's a relatively simple problem:

   Given a version string of the form a.b.c.d (e.g. 5.3.20.4) and an index of 0-3
   (representing the position of a given number in the version string, zero-based),
   write a function that will take the two as parameters and return a new version
   string which has the number in the index position given incremented by one and
   all successive numbers set to 0.  Examples:

        5.3.20.4, 0  ->  6.0.0.0
        8.14.0.5  1  ->  8.15.0.0
        3.9.42.6  3  ->  3.9.42.7

In Perl, I was able to come up with the very simple function below:

   sub bump_version {
       my ($vers, $ind) = @_;

       @vers = split /\./, $vers;
       $vers[$ind] += 1;
       for ($i = $ind + 1; $i < 4; $i++) {
           $vers[$i] = 0;
       }

       return join '.', @vers;
   }

I've come up with something very similar in zsh, but I'm extremely curious;
is there anyone out there who knows zsh well enough to create a highly compressed
version of this function that would fit on a single 80 character line (or perhaps
two such lines)?  While I've been using zsh for many years, I haven't delved deep
enough into it to be able to figure anything out, but if someone else could, I'd
be very appreciative to see it!

Ken

-- 
Ken Lareau
elessar@numenor.org

