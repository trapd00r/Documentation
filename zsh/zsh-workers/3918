From zsh-workers-request@math.gatech.edu Sun May 03 03:37:21 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 27072 invoked from network); 3 May 1998 03:37:20 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 3 May 1998 03:37:20 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id XAA05739;
	Sat, 2 May 1998 23:25:53 -0400 (EDT)
Resent-Date: Sat, 2 May 1998 23:25:53 -0400 (EDT)
From: Zoltan Hidvegi <hzoli@cs.elte.hu>
Message-Id: <199805030322.WAA11570@hzoli.home>
Subject: Re: foo(:...) and foo~ glob
In-Reply-To: <980502152731.ZM28509@candle.brasslantern.com> from Bart Schaefer at "May 2, 98 03:27:31 pm"
To: schaefer@brasslantern.com (Bart Schaefer)
Date: Sat, 2 May 1998 22:22:31 -0500 (CDT)
Cc: zsh-workers@math.gatech.edu
X-Mailer: ELM [version 2.4ME+ PL31 (25)]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"Nzopj2.0.ZP1.0F-Ir"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3918
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

> On May 2,  3:27pm, Zoltan Hidvegi wrote:
> } Subject: foo(:...) and foo~ glob
> }
> } After this change:
> } 
> } Sun Apr  5 20:00:40 1998  Andrew Main  <zefram@fysh.org>
> } 
> } the (:quals) syntax no longer works.
> 
> Does this also mean that either/both of the following are broken?
> 
> 	echo ${pref}**/CVS(:h) | sed 's/CVS//'
> 
> 	case $(tty)(:t) in

Perhaps I was not very clear.  Both of these works.  The (:...) syntax
triggers globbing, which means it does not work on words which are not
existing filenames.  The later $(tty)(:t) example works differently than
before, although you'll not notice it: zsh now looks at the disk if the
result of tty exists before applying the qualifier, while before the
qualifier was applied unconditionally.  Since ttyp gives you an existing
device, this does not make any difference here.  The difference is in
things like

echo asdfg(:s/g/h/)

gives you

zsh: no matches found: asdfg(:s/g/h/)

instead of asdfh if you do not have a file called asdfg in your current
directory.  Zefram is right in that the old behaviour was not very well
documented, which is really my fault, since I added this in 2.6-beta20.

Zoli

