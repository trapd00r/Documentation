From zsh-users-return-14815-mason-zsh=primenet.com.au@zsh.org Mon Feb 08 18:17:50 2010
Return-Path: <zsh-users-return-14815-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 6053 invoked by alias); 8 Feb 2010 18:17:50 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 14815
Received: (qmail 18377 invoked from network); 8 Feb 2010 18:17:48 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.2 required=5.0 tests=AWL,BAYES_00,DKIM_SIGNED,
	DKIM_VERIFIED autolearn=ham version=3.2.5
Received-SPF: pass (ns1.primenet.com.au: SPF record at _spf.google.com designates 209.85.218.216 as permitted sender)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:date:from:x-x-sender:to
         :subject:in-reply-to:message-id:references:user-agent:mime-version
         :content-type;
        bh=0zXlPjQwoEP1888VTzZa1yfmvWuYUEU8/rop/+cjFqA=;
        b=Z/SFHWXIdYWLYcs4BelsCWWJp80jcujlLVVFKD1pi+GCIqhvV3o2BgIvIX+5yeuv0X
         YelRGTbCdGDCwNA8155ksUrohXkruaOB+dx42c7KId6D1euihCx2S3L4K5Qtl0hv1N1s
         ip5IthRoDdiebLaHZUjid7iaDR/avsNsNVx7Y=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=date:from:x-x-sender:to:subject:in-reply-to:message-id:references
         :user-agent:mime-version:content-type;
        b=hnD6EVEGHJssASrB2+oIPzmOSnhhtiiqhlr0hoffh+jCvpHBaXetT8BljpaCvbeZXi
         CwjcIvG6D6I+IMfRPzR2K+jq3lOISWEAubvTx/bSATlVW/dglgm7AZF04pVT6O0tOQTH
         H6oVWsJo4XyQh8/rZoHX4KeIimvAToVsgWD+c=
Date: Mon, 8 Feb 2010 10:09:22 -0800 (PST)
From: Linus Arver <linusarver@gmail.com>
X-X-Sender: listdata@exelion.localdomain
To: zsh-users@zsh.org
Subject: Re: Want to replace bash w zsh as system shell on Ubuntu
In-Reply-To: <20100202081546.GA5930@panix.com>
Message-ID: <alpine.LNX.2.00.1002081000110.4193@exelion.localdomain>
References: <20100202081546.GA5930@panix.com>
User-Agent: Alpine 2.00 (LNX 1167 2008-08-23)
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed

On Tue, 2 Feb 2010, rj wrote:

> Though just now I saw this:
>
> "To start a root shell, but keep the current shell's environment, use:
> sudo -s  (similar to sudo su)"
>
> (where "sudo i" give you root's environment configuration.)
>
> But "sudo -s", for me, returns "sudo: shell: command not found"

As others have pointed out already, this is because you have not set your
$SHELL environment variable to a valid path. In your init script settings the
$SHELL variable to /path/to/zsh should fix the broken "sudo -s" command. So,
put this somewhere in one of your init scripts (I don't use Ubuntu, but I
assume something like /etc/rc.local, or even your plain old ~/.zshrc should
work):

     export SHELL=/path/to/zsh

You might want to check all of your environment variables by doing:

     env

You could double-check that your new SHELL variable is set properly by calling
env after re-logging into your system with your modified init script.

-Linus

