From zsh-workers-request@math.gatech.edu Fri Oct 03 17:49:55 1997
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 23236 invoked from network); 3 Oct 1997 17:49:54 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 3 Oct 1997 17:49:54 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id NAA27367;
	Fri, 3 Oct 1997 13:20:02 -0400 (EDT)
Resent-Date: Fri, 3 Oct 1997 13:20:02 -0400 (EDT)
Sender: stringfe@rmcs.cranfield.ac.uk
Message-Id: <3435296E.7A2E@rmcs.cran.ac.uk>
Date: Fri, 03 Oct 1997 18:20:46 +0100
From: "stringfellow.n.d" <stringfe@rmcs.cran.ac.uk>
X-Mailer: Mozilla 3.02 (X11; I; SunOS 5.5.1 sun4u)
Mime-Version: 1.0
To: zsh-workers@math.gatech.edu
Subject: stty problem
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"O9DDW.0.Yh6.2bIDq"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3550
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Here's a small problem that I can't find any references to
in the FAQ or zsh-workers archives, that I hope someone 
could help me with.

I am currently using zsh version 3.1.2 beta under solaris 2.5.1
and sunos 4.1.3.

Whenever a process which has been running in the background
returns, it resets the stty settings. This particularly 
causes problems with resetting ^z as the suspend character.

e.g.

> zsh@fourier:<17:34:07>:[Doc]% stty susp \^z
> zsh@fourier:<17:34:19>:[Doc]% stty         
> speed 9600 baud; -parity 
> rows = 24; columns = 115; ypixels = 0; xpixels = 0;
> quit = <undef>; eof = ^a; swtch = <undef>; dsusp = <undef>; flush = <undef>; lnext = <undef>; 
> brkint -inpck -istrip inlcr icrnl -ixany imaxbel onlcr 
> echo echoe echok echoctl echoke iexten 
> zsh@fourier:<17:34:26>:[Doc]% emacs &
> [2] 18284
> zsh@fourier:<17:34:38>:[Doc]% 
> [2]  + 18284 done       emacs
> zsh@fourier:<17:34:51>:[Doc]% stty   
> speed 9600 baud; -parity 
> rows = 24; columns = 115; ypixels = 0; xpixels = 0;
> quit = <undef>; eof = ^a; swtch = <undef>; susp = <undef>; dsusp = <undef>; flush = <undef>; lnext = <undef>; 
> brkint -inpck -istrip inlcr icrnl -ixany imaxbel onlcr 
> echo echoe echok echoctl echoke iexten 
> zsh@fourier:<17:34:54>:[Doc]% 


Note the "susp = <undef>; " entry which has appeared
in the key definitions line after the emacs had returned.
(N.B. This happens with any background process, not just
emacs.)

A similar problem was encountered with SGIs in archive reference:

http://www.primenet.com.au/zsh/workers-1996-hyper/1724.html

Can anyone help ( have I built zsh incorrectly ) ?

Neil Stringfellow.

