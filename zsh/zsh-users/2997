From zsh-users-return-2997-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Mar 31 07:43:01 2000
Return-Path: <zsh-users-return-2997-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17824 invoked from network); 31 Mar 2000 07:43:00 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 31 Mar 2000 07:43:00 -0000
Received: (qmail 25684 invoked by alias); 31 Mar 2000 07:42:22 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 2997
Received: (qmail 25674 invoked from network); 31 Mar 2000 07:42:21 -0000
Date: Fri, 31 Mar 2000 09:42:19 +0200 (MET DST)
Message-Id: <200003310742.JAA07133@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-users@sunsite.auc.dk
In-reply-to: "Andrew Morton"'s message of Fri, 31 Mar 2000 06:40:36 +0000
Subject: Re: New user questions


Andrew Morton wrote:

> Well thanks everyone for all the help.  Just about everything is working
> sweetly (better than the old shell, actually).
> 
> Trolling through the magic commands in
> /usr/share/zsh/3.1.6-dev-20/functions/Commands/ helped a lot.
> 
> A few more observations:
> 
> - The zshbuiltins manpage doesn't cover 'bindkey'

Because it's not defined by the shell core, but by the zle module. See 
zshzle(1).

> ...
> 
> - The _history-complete-older function does exactly what I wanted for
> searching back through word history!
> 
> - _history-complete-older has a bug.  In this example it is bound to ^R:
> 
> prompt> echo aa "bb" cc
> prompt> echo ^R			# OK, gives echo cc
> prompt> echo ^R^R               # oops.  gives echo aa
> 
> It is skipping quoted words in its search.

It's not a bug, it's intentional: it explicitly excludes words
starting with any of [$'"]. That was the behaviour shown by the
compctl option for history completion, but now that we have
ignored-patterns it indeed doesn't seem to make sense any more.

> ...
> 
> Question: How do I, within .zshrc, simply erase _all_ preexisting
> bindings and start afresh?  I've tried everything.
> 
> pwold011:/home/morton> bindkey -l
> .safe
> emacs
> main
> vicmd
> viins
> pwold011:/home/morton> bindkey -D emacs vicmd viins
> pwold011:/home/morton> bindkey -l
> .safe
> main
> pwold011:/home/morton> bindkey -D main
> No such keymap `main'

`main' is (internally) really only an alias or some kind of pointer to 
the keymap currently used. Keymap handling (or zle/widget stuff in
general) is one of the things we might have a look at after 3.2/4.0 is 
out. I think.

Besides... do you *really* want to remove all keymaps and begin from
scratch? Why? You would have to add all those self-insert bindings,
the cursor movement, etc etc etc. Rather tedious.

Bye
 Sven


--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

