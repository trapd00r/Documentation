From zsh-users-return-10198-mason-zsh=primenet.com.au@sunsite.dk Tue May 02 09:56:58 2006
Return-Path: <zsh-users-return-10198-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 12402 invoked from network); 2 May 2006 09:56:56 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.4 required=5.0 tests=AWL,BAYES_00,
	FORGED_RCVD_HELO autolearn=ham version=3.1.1
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 2 May 2006 09:56:56 -0000
Received: (qmail 9332 invoked from network); 2 May 2006 09:56:48 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 2 May 2006 09:56:48 -0000
Received: (qmail 1128 invoked by alias); 2 May 2006 09:56:39 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 10198
Received: (qmail 1116 invoked from network); 2 May 2006 09:56:38 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 2 May 2006 09:56:38 -0000
Received: (qmail 8234 invoked from network); 2 May 2006 09:56:38 -0000
Received: from cluster-d.mailcontrol.com (217.69.20.190)
  by a.mx.sunsite.dk with SMTP; 2 May 2006 09:56:37 -0000
Received: from exchange03.csr.com (uuk202166.uk.customer.alter.net [62.189.241.194] (may be forged))
	by rly08d.srv.mailcontrol.com (MailControl) with ESMTP id k429uZbd018307
	for <zsh-users@sunsite.dk>; Tue, 2 May 2006 10:56:35 +0100
Received: from csr.com ([10.103.143.38]) by exchange03.csr.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Tue, 2 May 2006 10:56:35 +0100
To: zsh-users@sunsite.dk
Subject: Re: zsh versus tcsh's "complete=enhance" (for Germans) 
In-reply-to: <20060501210656.GA24250@spiegl.de> 
References: <20060430160105.GA32338@tuva.opensoft.se> <ksn9xf00agjs$.1jcmnfsngz0zp.dlg@40tude.net> <20060501210656.GA24250@spiegl.de>
Comments: In-reply-to Andy Spiegl <zsh.Andy@spiegl.de>
   message dated "Mon, 01 May 2006 23:06:56 +0200."
Date: Tue, 02 May 2006 10:56:33 +0100
From: Peter Stephenson <pws@csr.com>
Message-ID: <EXCHANGE03wiZWnPkxi0000014e@exchange03.csr.com>
X-OriginalArrivalTime: 02 May 2006 09:56:35.0117 (UTC) FILETIME=[B27265D0:01C66DCE]
X-Scanned-By: MailControl A-06-00-05 (www.mailcontrol.com) on 10.68.0.118

Andy Spiegl wrote:
> for case-insensitive German I am using this:
>  zstyle ":completion:*" matcher-list 'm:{A-Zöäüa-zÖÄÜ}={a-zÖÄÜA-Zöäü}'
>
> Is there a shorter way to write this?

It looks like equivalence classes (the braces in that pattern) for
completion matchers are fairly simply handled at present.  The code for
this part of the matching appears (for once) not to be too tortuous and
it ought to be possible to extend it.

You probably want to be able to do something like
'm:{[:upper:]}={[:lower:]}' in a manner similar to ranges in normal
pattern matching.  This ought to be doable by having isupper() tests and
tolower() conversions.  However, I haven't looked at the details.

The matcher code uses multibyte strings rather than wide characters, so
it looks like yet another conversion would be needed.  Probably the
matcher code is better done entirely with wide characters, but that
requires understanding it first...

Any further details should probably go to zsh-workers.

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR PLC, Churchill House, Cambridge Business Park, Cowley Road
Cambridge, CB4 0WZ, UK                          Tel: +44 (0)1223 692070

