From zsh-workers-return-7587-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Sep 01 00:19:09 1999
Return-Path: <zsh-workers-return-7587-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 3092 invoked from network); 1 Sep 1999 00:19:08 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 1 Sep 1999 00:19:08 -0000
Received: (qmail 10499 invoked by alias); 1 Sep 1999 00:18:59 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7587
Received: (qmail 10492 invoked from network); 1 Sep 1999 00:18:58 -0000
Date: Tue, 31 Aug 1999 20:18:56 -0400
From: Will Day <willday@rom.oit.gatech.edu>
To: zsh workers mailing list <zsh-workers@sunsite.auc.dk>
Subject: recexact in 3.1.6
Message-ID: <19990831201855.A25968@rom.oit.gatech.edu>
Reply-To: Will Day <willday@rom.oit.gatech.edu>
Mime-Version: 1.0
Content-Type: multipart/signed; boundary=opJtzjQTFsWo+cga; micalg=pgp-md5;
	protocol="application/pgp-signature"
X-Mailer: Mutt 0.95.3i
X-no-archive: yes


--opJtzjQTFsWo+cga
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable

Option "recexact" doesn't seem to work quite right for me under 3.1.6, or
at least not as well as it did under 3.1.5:


Under 3.1.5:
   % /usr/local/bin/zsh-3.1.5 -f
   % setopt recexact menucomplete noautolist noautomenu
   % touch note note.old
   % ls
   note      note.old
   % vi note<TAB>
-> % vi note #		(where # indicates cursor position)


Under 3.1.6:
   % /usr/local/bin/zsh-3.1.6 -f
   % setopt recexact menucomplete noautolist noautomenu
   % touch note note.old
   % ls
   note      note.old
   % vi note<TAB>
     (beep)
-> % vi note#


Besides a beep when I didn't expect one, it tends to make me think that I
mis-typed something, because it's the same behavior as if I were trying to
complete a non-existant file:

   % ls
   % vi badfile<TAB>
     (beep)
-> % vi badfile#


At least now I finally know why zsh has been beeping at me so much
recently. :)  Looking over Src/Zle/zle_tricky., I can see where
do_ambiguous() handles REC_EXACT, but after substituting all the
variables, it appears to handle it only if:
   isset(RECEXACT) && unset(MENUCOMPLETE)

whereas before it appeared to be if:
   isset(RECEXACT) && (unset(MENUCOMPLETE) || unset(AUTOMENU))

--=20
Will Day     <PGP mail preferred>     OIT / O&E / Technical Support
willday@rom.oit.gatech.edu            Georgia Tech, Atlanta 30332-0715
  -> Opinions expressed are mine alone and do not reflect OIT policy <-
Those who would give up essential Liberty, to purchase a little temporary
Safety, deserve neither Liberty nor Safety.
    Benjamin Franklin, Pennsylvania Assembly, Nov. 11, 1755

--opJtzjQTFsWo+cga
Content-Type: application/pgp-signature

-----BEGIN PGP SIGNATURE-----
Version: 2.6.3a
Comment: http://rom.oit.gatech.edu/~willday/pubkey.asc

iQCVAwUBN8xw7xDHlOdPw2ZdAQF3QAP/Q1BhqT5ecJbBYoCO1fmC4AEf5beIP7k1
JFFeIytByPz50++aS3Cu8LkmMLmUUPTDxcEyULoVlVzFgemFrp9wQjHz2T1epkm0
1pDVRBDBmGIN/dj2W82da8bPoQPl6AuHGgOBlqQ0d7/cWrpCt9GmBCUbXCpT4lU6
Ui6c2fF+F34=
=C3Rd
-----END PGP SIGNATURE-----

--opJtzjQTFsWo+cga--

