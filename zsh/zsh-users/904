From zsh-workers-request@euclid.skiles.gatech.edu Wed Jun 18 15:34:36 1997
Return-Path: <zsh-workers-request@euclid.skiles.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 10954 invoked from network); 18 Jun 1997 15:34:35 -0000
Received: from euclid.skiles.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 18 Jun 1997 15:34:35 -0000
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id LAA28612; Wed, 18 Jun 1997 11:18:45 -0400 (EDT)
Resent-Date: Wed, 18 Jun 1997 11:14:46 -0400 (EDT)
From: Zefram <zefram@dcs.warwick.ac.uk>
Message-Id: <17851.199706181516@stone.dcs.warwick.ac.uk>
Subject: Re: globbing based on symlink contents
To: roderick@argon.org (Roderick Schertler)
Date: Wed, 18 Jun 1997 16:16:45 +0100 (BST)
Cc: zsh-users@math.gatech.edu
In-Reply-To: <4361.866645028@eeyore.ibcinc.com> from "Roderick Schertler" at Jun 18, 97 10:43:48 am
X-Loop: zefram@dcs.warwick.ac.uk
X-Stardate: [-31]9503.18
X-Phase: The Moon is Waxing Gibbous (95% of Full)
X-US-Congress: Moronic fuckers
X-Personality: INTJ
X-This-is-not-HTML: <blink> <font face="wingdings">
Content-Type: text
Resent-Message-ID: <"tK76C3.0.cy6.bj_fp"@euclid>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/904
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Roderick Schertler wrote:
>It would be great to be able to glob based on the contents of symlinks.
>(That's not already possible, is it?  I've been resorting to find.)

It's not already possible.  And I think it would not be sufficient.
There will always be another way the people will want to glob.  The only
really general way to do it is to glob using arbitrary shell code as
the criterion.  How about a syntax like

linkmatch () {
  local a
  stat -L -A a $1
  [[ "$a[14]" == $~2 ]]
}
echo *(f{linkmatch}{foo*bar})

?

-zefram

