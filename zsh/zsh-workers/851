From hzoli@cs.elte.hu Sat Mar 23 09:23:24 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by melb.werple.net.au (8.7.5/8.7.3) with ESMTP id JAA04017 for <mason@werple.mira.net.au>; Sat, 23 Mar 1996 09:23:21 +1100 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id RAA17550; Fri, 22 Mar 1996 17:03:39 -0500 (EST)
Resent-Date: Fri, 22 Mar 1996 17:03:39 -0500 (EST)
From: Zoltan Hidvegi <hzoli@cs.elte.hu>
Message-Id: <199603222202.XAA02568@bolyai.cs.elte.hu>
Subject: hzoli13 fix for HP-UX
To: zsh-workers@math.gatech.edu (zsh-workers)
Date: Fri, 22 Mar 1996 23:02:51 +0100 (MET)
Organization: Dept. of Comp. Sci., Eotvos University, Budapest, Hungary
Phone: (36 1)2669833 ext: 2667, home phone: (36 1) 2752368
X-Mailer: ELM [version 2.4ME+ PL11 (25)]
MIME-Version: 1.0
Content-Type: application/pgp; format=text; x-action=sign
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"bKoNy3.0.8I4.wEoKn"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/851
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu
Content-Length: 1308
Status: O

-----BEGIN PGP SIGNED MESSAGE-----

The native cc C compiler of HP-UX has a bug which makes zsh quite useless
on this platform.  The patch below should fix it.  You only have to apply
it if you saw `closing brace expected' messages on ${foo} substitutions.

Bye,

Zoltan


 *** Src/subst.c	1996/03/05 01:44:31	1.19
 --- Src/subst.c	1996/03/22 21:58:06
 ***************
 *** 644,651 ****
       int arrasg = 0;
       int eval = 0;
       int nojoin = 0;
 !     int inbrace = 0;		/* != 0 means ${...}, otherwise $... */
 !     int outbrace = 0;		/* it is initialized here to make gcc silent */
   
       *s++ = '\0';
       if (!ialnum(*s) && *s != '#' && *s != Pound && *s != '-' &&
 --- 644,651 ----
       int arrasg = 0;
       int eval = 0;
       int nojoin = 0;
 !     char inbrace = 0;		/* != 0 means ${...}, otherwise $... */
 !     char outbrace = 0;		/* it is initialized here to make gcc silent */
   
       *s++ = '\0';
       if (!ialnum(*s) && *s != '#' && *s != Pound && *s != '-' &&

-----BEGIN PGP SIGNATURE-----
Version: 2.6.3i
Charset: noconv

iQCVAwUBMVMjiQupSCiLN749AQH3CgQAmZsXfk08u/b/qJacRlr4m9pUQ8y9Ri3n
fM6Kv2P6YG2PVlKQtKDAS1yRbkO/iJsC+VndhKusvH40qcFH4tQYFalK1TKJo1BJ
0F96vy0gTajAJcQB9o/PWCueROEnwlLa0z6Fg92KhcGiu/YkuIrJ5jiYKRosz7TW
iGXgY7/gwl4=
=iiwH
-----END PGP SIGNATURE-----


