From zsh-workers-return-19386-mason-zsh=primenet.com.au@sunsite.dk Tue Jan 20 10:57:57 2004
Return-Path: <zsh-workers-return-19386-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13092 invoked from network); 20 Jan 2004 10:57:56 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 20 Jan 2004 10:57:56 -0000
Received: (qmail 27426 invoked by alias); 20 Jan 2004 10:57:47 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 19386
Received: (qmail 27414 invoked from network); 20 Jan 2004 10:57:46 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 20 Jan 2004 10:57:46 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [202.214.225.228] by sunsite.dk (MessageWall 1.0.8) with SMTP; 20 Jan 2004 10:57:46 -0000
Received: from exchangejp.csr.com (unverified) by mailsweeperjp.CSR.COM
 (Content Technologies SMTPRS 4.3.1) with ESMTP id <T674146752ec0a8790134c@mailsweeperjp.CSR.COM>;
 Tue, 20 Jan 2004 19:59:28 +0900
Received: from EXCHANGE02.csr.com ([192.168.137.45]) by exchangejp.csr.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Tue, 20 Jan 2004 10:59:52 +0000
Received: from csr.com ([192.168.144.127]) by EXCHANGE02.csr.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Tue, 20 Jan 2004 10:59:48 +0000
To: robert.schmertz@terpalum.umd.edu, zsh-workers@sunsite.dk
Subject: Re: Change in glibc's strncmp -> segfault? 
In-reply-to: "Bob Schmertz"'s message of "Tue, 20 Jan 2004 01:24:48 PST."
             <20040120092448.40632.qmail@web12405.mail.yahoo.com> 
Date: Tue, 20 Jan 2004 10:57:39 +0000
Message-ID: <19217.1074596259@csr.com>
From: Peter Stephenson <pws@csr.com>
X-OriginalArrivalTime: 20 Jan 2004 10:59:48.0903 (UTC) FILETIME=[859E7370:01C3DF44]

Bob Schmertz wrote:
> I man page for strcmp on my Linux system, and it doesn't say anything
> about the behavior of strcmp or stsrncmp when null pointers are passed. 
> But sometimes you call add_match_part explicitly with NULL parameters for
> the first six params.  Two of these are immediately passed into a strncmp
> call.

You're right, that's weird.  I've applied your change, since it looks
like the intention is either both pointers are NULL or neither.

The author for that part of the shell went off to do some real work a
couple of years ago.

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR Ltd., Science Park, Milton Road,
Cambridge, CB4 0WH, UK                          Tel: +44 (0)1223 692070


**********************************************************************
The information transmitted is intended only for the person or
entity to which it is addressed and may contain confidential 
and/or privileged material. 
Any review, retransmission, dissemination or other use of, or
taking of any action in reliance upon, this information by 
persons or entities other than the intended recipient is 
prohibited. 
If you received this in error, please contact the sender and 
delete the material from any computer.
**********************************************************************

