From zsh-workers-return-20289-mason-zsh=primenet.com.au@sunsite.dk Tue Aug 31 18:49:04 2004
Return-Path: <zsh-workers-return-20289-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 20531 invoked from network); 31 Aug 2004 18:49:03 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 31 Aug 2004 18:49:03 -0000
Received: (qmail 95784 invoked from network); 31 Aug 2004 18:48:56 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 31 Aug 2004 18:48:56 -0000
Received: (qmail 17270 invoked by alias); 31 Aug 2004 18:48:53 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 20289
Received: (qmail 5201 invoked from network); 31 Aug 2004 18:22:12 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 31 Aug 2004 18:22:12 -0000
Received: (qmail 80702 invoked from network); 31 Aug 2004 18:22:16 -0000
Received: from rhid.com (200.46.204.134)
  by a.mx.sunsite.dk with SMTP; 31 Aug 2004 18:22:15 -0000
Received: from [127.0.0.1] (rhid.com [200.46.204.134])
	by rhid.com (Postfix) with ESMTP id 4995BF85848
	for <zsh-workers@sunsite.dk>; Tue, 31 Aug 2004 18:22:10 +0000 (GMT)
Subject: [bug?] test adf -ge 0
From: James William Pye <flaw@rhid.com>
To: zsh-workers@sunsite.dk
Content-Type: multipart/signed; micalg=pgp-sha1; protocol="application/pgp-signature"; boundary="=-awcTM0tCxz9oJHmBT9qO"
Organization: rhid development
Message-Id: <1093976533.69019.10.camel@localhost>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.6 
Date: Tue, 31 Aug 2004 11:22:13 -0700
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, hits=-4.9 required=6.0 tests=BAYES_00 autolearn=no 
	version=2.63
X-Spam-Hits: -4.9


--=-awcTM0tCxz9oJHmBT9qO
Content-Type: text/plain
Content-Transfer-Encoding: quoted-printable

Using 4.2.0, why does this return successful?

Both sh(freebsd) and bash echo an error message and return 2.


> flaw@void:~ % echo $ZSH_VERSION
> 4.2.0
> flaw@void:~ % test sdf -ge 0
> flaw@void:~ % echo $?
> 0
> flaw@void:~ % /bin/sh
> flaw@void $ test sdf -ge 0
> test: sdf: bad number
> flaw@void $ echo $?
> 2
> flaw@void:~ % bash
> bash-2.05b$ test sdf -ge 0
> bash: test: sdf: integer expression expected
> bash-2.05b$ echo $?
> 2

I know zsh is not bash or sh, but this is a fairly serious inconsistency, I=
MO.

--=20
Regards,
        James William Pye

--=-awcTM0tCxz9oJHmBT9qO
Content-Type: application/pgp-signature; name=signature.asc
Content-Description: This is a digitally signed message part

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.5 (FreeBSD)

iQEVAwUAQTTB1KZpiPNPvu8yAQKvTAgAmSY71v1zfWe/4mniO8YItBqgt4YEzDPy
7H/NulEtddvCrT+zzKJQSKAHVhwyPiX4+O+/YRwciwLi839KKE8asze3wYRpzTi2
dbKC2FCXLeDpZh3Jt5L5fzFFuXb5pPAQEImAPbJYwZtpOu3BpDBuZ3yaJZ9TmSDJ
RLTrswcZO+X4F3/oi2+zAKid/+RtBEmIhjQNOlSzusEsgqQYO1bHNjU/3njtbMx0
ZDFzBk34qKPtpTBZeIlVGMIekZZyOdEALu9hfFBw09YczzeTTLVFUywhjwqVVQ9l
UeR77qii0B54EDk776bAy0SJTSHZBqthqCF4So2ps7kNAb87ho/b0A==
=dEQJ
-----END PGP SIGNATURE-----

--=-awcTM0tCxz9oJHmBT9qO--

