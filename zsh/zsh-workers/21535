From zsh-workers-return-21535-mason-zsh=primenet.com.au@sunsite.dk Tue Jul 26 22:37:57 2005
Return-Path: <zsh-workers-return-21535-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 23487 invoked from network); 26 Jul 2005 22:37:55 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 26 Jul 2005 22:37:55 -0000
Received: (qmail 92527 invoked from network); 26 Jul 2005 22:37:50 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 26 Jul 2005 22:37:50 -0000
Received: (qmail 26253 invoked by alias); 26 Jul 2005 22:37:46 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 21535
Received: (qmail 26243 invoked from network); 26 Jul 2005 22:37:45 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 26 Jul 2005 22:37:45 -0000
Received: (qmail 92222 invoked from network); 26 Jul 2005 22:37:45 -0000
Received: from smtprelay04.ispgateway.de (80.67.18.16)
  by a.mx.sunsite.dk with SMTP; 26 Jul 2005 22:37:40 -0000
Received: (qmail 14832 invoked from network); 26 Jul 2005 22:37:40 -0000
Received: from unknown (HELO raffi.reidel.info) (793055@[62.245.208.228])
          (envelope-sender <mark@reidel.info>)
          by smtprelay04.ispgateway.de (qmail-ldap-1.03) with SMTP
          for <zsh-workers@sunsite.dk>; 26 Jul 2005 22:37:40 -0000
Received: (qmail 6181 invoked by uid 0); 26 Jul 2005 22:37:41 -0000
Received: from unknown (HELO ?192.168.42.12?) (192.168.42.12)
  by karm.dyndns.org with SMTP; 26 Jul 2005 22:37:41 -0000
Message-ID: <42E6D755.6010803@reidel.info>
Date: Wed, 27 Jul 2005 00:37:41 +0000
From: Mark Daniel Reidel <mark@reidel.info>
User-Agent: Mozilla Thunderbird 1.0.6 (X11/20050725)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Dan Nelson <dnelson@allantgroup.com>
CC:  zsh-workers@sunsite.dk
Subject: Re: Pause when quitting under FreeBSD
References: <42E6D3E6.5070206@reidel.info> <20050726223038.GC57412@dan.emsphone.com>
In-Reply-To: <20050726223038.GC57412@dan.emsphone.com>
X-Enigmail-Version: 0.92.0.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Spam-Checker-Version: SpamAssassin 3.0.4 (2005-06-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.0.4

Dan Nelson wrote:

> corefile.  Since the next thing zsh does is unlink the history
> lockfile, I'd guess the problem is hist.c:hend() or savehistfile()
> somewhere.  Take a look at your ~/.zsh_history file; do you maybe have
> some really really long lines in it?  Maybe an NFS glitch caused a run
> of NULLs to get stored in there.

That seems to have been it. There were some NULLs inside every user's
history-file. After removing it, everyting works smooth again. Now I
only have to find out how those NULLs came in there, but that's not
zsh-matter ;o)
Thanks for the quick hint!

-- 
Fortune cookie of the hour:
Be free and open and breezy!  Enjoy!  Things won't get any better so
get used to it.

