From zsh-workers-request@math.gatech.edu  Mon Jun 26 12:53:12 1995
Received: from gatech.edu (gatech.edu [130.207.244.244]) by werple.mira.net.au (8.6.12/8.6.9) with SMTP id MAA28181 for <mason@werple.mira.net.au>; Mon, 26 Jun 1995 12:53:00 +1000
Received: from math (math.skiles.gatech.edu) by gatech.edu with SMTP id AA21882
  (5.65c/Gatech-10.0-IDA for <mason@werple.mira.net.au>); Sun, 25 Jun 1995 22:49:31 -0400
Received: by math (5.x/SMI-SVR4)
	id AA05169; Sun, 25 Jun 1995 22:45:56 -0400
Old-Return-Path: <zsh-users-request@math.gatech.edu>
Resent-Date: Sun, 25 Jun 1995 21:46:07 -0500 (CDT)
Old-Return-Path: <dnelson@xnet.com>
From: Dan Nelson <dnelson@xnet.com>
Message-Id: <199506260246.VAA18308@cyclone.xnet.com>
Subject: When does single_line_zle get set?
To: zsh-users@math.gatech.edu
Date: Sun, 25 Jun 1995 21:46:07 -0500 (CDT)
X-Mailer: ELM [version 2.4 PL23]
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-Id: <"0AdfK3.0.UG1.-yXxl"@math>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/26
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu


I just compiled zsh-2.6beta9 (was using 2.6beta-3), and now, on initial
login shells, single_line_zle mode gets set on me.  I login to an ISP via
modem, and my terminal defaults to 'unknown'.  It seems that zsh notices
this and sets single_line_zle (-M) on me.

According to the zshzle man page:

: There are two display modes.  The first, multiline mode, is the default. 
: It only works if the TERM parameter is set to a valid terminal type that
: can move the cursor up.  The second, single line mode, is used if TERM is
: invalid or incapable of moving the cursor up, or if the SINGLE_LINE_ZLE
: option is set.  This mode is similar to ksh, and uses no termcap sequences. 

The shell, however, sets the SINGLE_LINE_ZLE option _if_ "TERM is invalid or
capable of moving the cursor up".  Not quite what the man page states.

I don't quite understand why the change was made.  Anyone logging in on a
machine that sets the terminal type to 'dumb/network/unknown' must now
manually unset single_line_zle mode.

	-Dan Nelson
	dnelson@xnet.com

