From zsh-workers-return-10952-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Apr 27 06:52:00 2000
Return-Path: <zsh-workers-return-10952-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13872 invoked from network); 27 Apr 2000 06:51:59 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 27 Apr 2000 06:51:59 -0000
Received: (qmail 6957 invoked by alias); 27 Apr 2000 06:51:51 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 10952
Received: (qmail 6949 invoked from network); 27 Apr 2000 06:51:51 -0000
Message-ID: <20000427065102.6737.qmail@web1303.mail.yahoo.com>
Date: Wed, 26 Apr 2000 23:51:02 -0700 (PDT)
From: Felix Rosencrantz <f_rosencrantz@yahoo.com>
Subject: BUG: Problem with _urls and small doc patch
To: zsh-workers <zsh-workers@sunsite.auc.dk>
MIME-Version: 1.0
Content-Type: multipart/mixed; boundary="0-1804289383-956818262=:6733"

--0-1804289383-956818262=:6733
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline

I tried using completion with the _urls completer and noticed some strange
behavior:
        w3m http://local<TAB>_all_labels:39: command not found: -M       
host

I looked a little bit, and noticed the problem seems to come from this line:
_urls:52:      _wanted -C -f files _files "$@" && return 0

There may be other problems.  But it looks like there is a missing context
name.

-FR
ps i've included a patch to the manual to mention that _wanted takes the
-C flag.
/

__________________________________________________
Do You Yahoo!?
Talk to your friends online and get email alerts with Yahoo! Messenger.
http://im.yahoo.com/

__________________________________________________
Do You Yahoo!?
Talk to your friends online and get email alerts with Yahoo! Messenger.
http://im.yahoo.com/
--0-1804289383-956818262=:6733
Content-Type: text/plain; name="_wanted-C_patch.txt"
Content-Description: _wanted-C_patch.txt
Content-Disposition: inline; filename="_wanted-C_patch.txt"

--- zsh/Doc/Zsh/old.compsys.yo	Tue Apr 25 02:48:09 2000
+++ zsh/Doc/Zsh/compsys.yo	Wed Apr 26 22:45:33 2000
@@ -2586,7 +2586,7 @@
 done)
 )
 findex(_wanted)
-item(tt(_wanted) [ tt(-12VJ) ] var(tag) var(name) var(descr) var(command) var(args) ...)(
+item(tt(_wanted) [ tt(-C) var(name) ]  [ tt(-12VJ) ] var(tag) var(name) var(descr) var(command) var(args) ...)(
 In many contexts only one type of matches can be generated but even
 then it should be tested if the tag representing those matches is
 requested by the user. This function makes that easier.
@@ -2603,6 +2603,9 @@
 Unlike tt(_requested), however, tt(_wanted) can not be called without
 the var(command). That's because tt(_wanted) also implements the loop
 over the tags, not only the one for the labels.
+
+Like tt(_tags) this function supports the tt(-C) option to give a
+different name for the argument context field.
 )
 findex(_alternative)
 item(tt(_alternative) [ tt(-C) var(name) ] var(specs) ...)(

--0-1804289383-956818262=:6733--

