From zsh-workers-request@math.gatech.edu Sun May 24 16:47:04 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5002 invoked from network); 24 May 1998 16:47:03 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 24 May 1998 16:47:03 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id MAA21363;
	Sun, 24 May 1998 12:42:23 -0400 (EDT)
Resent-Date: Sun, 24 May 1998 12:42:23 -0400 (EDT)
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <980524094224.ZM7888@candle.brasslantern.com>
Date: Sun, 24 May 1998 09:42:24 -0700
In-Reply-To: <199805240751.CAA21301@hzoli.home>
Comments: In reply to Zoltan Hidvegi <hzoli@cs.elte.hu>
        "Re: PWD parameter" (May 24,  2:51am)
References: <199805240751.CAA21301@hzoli.home>
X-Mailer: Z-Mail (4.0b.820 20aug96)
To: Zoltan Hidvegi <hzoli@cs.elte.hu>
Subject: Re: PWD parameter
Cc: zsh-workers@math.gatech.edu
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Resent-Message-ID: <"yj0Cu1.0.hD5.kt4Qr"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3994
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

On May 24,  2:51am, Zoltan Hidvegi wrote:
} Subject: Re: PWD parameter
}
} Why do you think that PWD is better be a special parameter?

Because I like that it can't be *un*set.  That means I can always rely
on using it in zsh scripts, rather than having to do the silly tests for
it being set and having to assign it from `pwd` to make sure it's there.

} Scripts do set PWD and if we want to allow people to
} use zsh as /bin/sh then we have to allow them to write PWD.
} If PWD is special, assignments will write directly to the internal pwd

Why is that necessary?  PWD could be a special parameter without tying it
to any C variable that zsh uses internally.  That just happened to be the
way it was done (prior to your patch).

I don't so much care that it's read-only as I do that it's never unset.
(Thinking about it, I might throw in "and always contains an absolute
path to a directory that existed at the time the variable was assiged.")

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

