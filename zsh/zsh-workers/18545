From zsh-workers-return-18545-mason-zsh=primenet.com.au@sunsite.dk Sat May 17 08:37:56 2003
Return-Path: <zsh-workers-return-18545-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 3005 invoked from network); 17 May 2003 08:37:55 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 17 May 2003 08:37:55 -0000
Received: (qmail 3917 invoked by alias); 17 May 2003 08:37:49 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 18545
Received: (qmail 3906 invoked from network); 17 May 2003 08:37:49 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 17 May 2003 08:37:49 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [213.228.0.44] by sunsite.dk (MessageWall 1.0.8) with SMTP; 17 May 2003 8:37:49 -0000
Received: from pcchazelas.free.fr (grenoble-2-a7-62-147-2-18.dial.proxad.net [62.147.2.18])
	by postfix3-1.free.fr (Postfix) with ESMTP id 55BF8C21B
	for <zsh-workers@sunsite.dk>; Sat, 17 May 2003 10:37:47 +0200 (CEST)
Received: (from chazelas@localhost)
	by pcchazelas.free.fr (8.9.3/8.9.3) id KAA01118
	for zsh-workers@sunsite.dk; Sat, 17 May 2003 10:34:58 +0200
Date: Sat, 17 May 2003 10:34:58 +0200
From: Stephane CHAZELAS <Stephane_CHAZELAS@yahoo.fr>
To: Zsh hackers list <zsh-workers@sunsite.dk>
Subject: Re: echoti and number of arguments
Message-ID: <20030517103458.B128@pcchazelas.free.fr>
Mail-Followup-To: Zsh hackers list <zsh-workers@sunsite.dk>
References: <20030517100115.A128@pcchazelas.free.fr>
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
User-Agent: Mutt/1.3.14i
In-Reply-To: <20030517100115.A128@pcchazelas.free.fr>; from Stephane_CHAZELAS@yahoo.fr on Sat, May 17, 2003 at 10:01:16AM +0200

On Sat, May 17, 2003 at 10:01:16AM +0200, Stephane CHAZELAS wrote:
[...]
> Then, the way the argument count is checked in zsh is nonsense:
> 
>   /* count the number of arguments required */
>   for (argct = 0, u = t; *u; u++)
>       if (*u == '%') {
>           if (u++, (*u == 'd' || *u == '2' || *u == '3' || *u == '.' ||
>                     *u == '+'))
>               argct++;
>       }
[...]

I get it, it was copied from the termcap one. terminfo and
termcap escape handling are totally different.

-- 
Stéphane

