From zsh-users-return-3489-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Oct 27 13:28:28 2000
Return-Path: <zsh-users-return-3489-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24761 invoked from network); 27 Oct 2000 13:28:26 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 27 Oct 2000 13:28:26 -0000
Received: (qmail 4470 invoked by alias); 27 Oct 2000 13:27:39 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 3489
Received: (qmail 4452 invoked from network); 27 Oct 2000 13:27:38 -0000
To: zsh-users@sunsite.auc.dk
Date: 27 Oct 2000 15:28:43 +0200
From: Akim Demaille <akim@epita.fr>
Message-ID: <mv4vgue76r8.fsf@nostromo.lrde.epita.fr>
Organization: EPITA / LRDE
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
References: <000001c0400a$54f99fb0$21c9ca95@mow.siemens.ru>, <0G330024BBOLZ9@la-la.cambridgesiliconradio.com>
Subject: Re: Trap and exit
Sender: news <news@epita.fr>

>>>>> "Peter" == Peter Stephenson <pws@csr.com> writes:

Peter> But then, you could argue that the false was the last command
Peter> before the script exited, and is hence the one referred to in
Peter> this case --- given that this is exactly what happens with an
Peter> implicit exit by falling off the end.

Whatever you decide, please remain compatible with the workaround used
in Autoconf: using `(exit 77); exit 77' instead of `exit 77' must have
the desired property: the trap is triggered, and it receives $? = 77.

