From zsh-workers-return-14425-mason-zsh=primenet.com.au@sunsite.dk Mon May 21 18:28:53 2001
Return-Path: <zsh-workers-return-14425-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 23668 invoked from network); 21 May 2001 18:28:50 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 21 May 2001 18:28:50 -0000
Received: (qmail 24657 invoked by alias); 21 May 2001 18:28:37 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 14425
Received: (qmail 24636 invoked from network); 21 May 2001 18:28:36 -0000
X-Envelope-Sender-Is: Andrej.Borsenkow@mow.siemens.ru (at relayer david.siemens.de)
Message-ID: <3B095E94.8040907@mow.siemens.ru>
Date: Mon, 21 May 2001 22:29:40 +0400
From: Andrej Borsenkow <Andrej.Borsenkow@mow.siemens.ru>
User-Agent: Mozilla/5.0 (X11; U; Linux 2.4.3-27mdk i686; en-US; rv:0.9) Gecko/20010518
X-Accept-Language: en
MIME-Version: 1.0
To: Zsh Workers <zsh-workers@sunsite.dk>, cooker@linux-mandrake.com
Subject: Re: Mandrake 8.0 - compinit in /etc/zshrc
References: <Pine.LNX.4.33L2.0105211106540.1399-100000@phong.blorf.net>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Wayne Davison wrote:

> On 21 May 2001, Chmouel Boudjnah wrote:
> 
>>and how do you do when you have to modify the skel file on upgrade ?
>>
> 
> Here's an alternate solution.  See if you like this.
> 
> For a package such as zsh, create a patch in the source rpm that adds
> an extra rc-file check that works like this:  If the user's rc file is
> missing, we read the default rc file from /usr/lib/zsh (or similar).



How would you check for modified default file? I mean, the sense is to 
get file automatically updated. You are allowed to do so only if user 
has not modified old file.

Well ... adding checksum to rc file may help. I.e. if there is a new 
default file and checksum is valid, replace it. Is becoming increasingly 
more complicated but it may work.


-andrej

