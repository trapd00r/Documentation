From zsh-workers-request@euclid.skiles.gatech.edu Wed Jun 25 03:27:19 1997
Return-Path: <zsh-workers-request@euclid.skiles.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 9924 invoked from network); 25 Jun 1997 03:27:17 -0000
Received: from euclid.skiles.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 25 Jun 1997 03:27:17 -0000
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id WAA04622; Tue, 24 Jun 1997 22:59:54 -0400 (EDT)
Resent-Date: Tue, 24 Jun 1997 22:59:54 -0400 (EDT)
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <970624201012.ZM3478@candle.brasslantern.com>
Date: Tue, 24 Jun 1997 20:10:12 -0700
In-Reply-To: <9706250110.AA01977@oz.fantasy.otsl.oki.co.jp>
Comments: In reply to suzuki@otsl.oki.co.jp (SUZUKI Hisao)
        "Re: zsh-3.0.3: another problem in Src/jobs.c" (Jun 25, 10:10am)
References: <9706250110.AA01977@oz.fantasy.otsl.oki.co.jp>
X-Mailer: Z-Mail (4.0b.820 20aug96)
To: zsh-workers@math.gatech.edu
Subject: Re: zsh-3.0.3: another problem in Src/jobs.c
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Resent-Message-ID: <"nNi8E3.0.981.fc8ip"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3305
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

On Jun 25, 10:10am, SUZUKI Hisao wrote:
} Subject: Re: zsh-3.0.3: another problem in Src/jobs.c
}
} IMHO, the problem is inherent in Un*x.

That's a ridiculous statement.  All the necessary tools are available to
get it right; I've written programs that do.  It's just that most don't,
because they're not expecting to ever be backgrounded; so they don't do
the necessary checks for process groups and SIGTTIN/TTOU handling.  In
vi's case, that's most likely because it was originally written before
job-control shells even existed.  (If you really mean elvis or vim or
some such, they have no excuse at all.)

However, you're right that changing zsh is the best idea.  Tty management
is complicated, and shells that do their own sophisticated editing and
display management make it more so.  There's always going to be somebody
too lazy or inexperienced to make his code clean up after itself properly,
so it behooves zsh to make sure the terminal is functional when it wants
to use it.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts        http://www.nbn.com/people/lantern

