From zsh-users-return-9253-mason-zsh=primenet.com.au@sunsite.dk Sat Aug 06 04:55:26 2005
Return-Path: <zsh-users-return-9253-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9550 invoked from network); 6 Aug 2005 04:55:24 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 6 Aug 2005 04:55:24 -0000
Received: (qmail 27399 invoked from network); 6 Aug 2005 04:55:17 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 6 Aug 2005 04:55:17 -0000
Received: (qmail 18171 invoked by alias); 6 Aug 2005 04:55:09 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 9253
Received: (qmail 18161 invoked from network); 6 Aug 2005 04:55:08 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 6 Aug 2005 04:55:08 -0000
Received: (qmail 26376 invoked from network); 6 Aug 2005 04:55:08 -0000
Received: from p54850107.dip0.t-ipconnect.de (HELO solfire) (84.133.1.7)
  by a.mx.sunsite.dk with SMTP; 6 Aug 2005 04:55:04 -0000
Received: from localhost ([127.0.0.1])
	by solfire with esmtp (Exim 4.42)
	id 1E1Gje-0006gy-Qe
	for zsh-users@sunsite.dk; Sat, 06 Aug 2005 06:56:39 +0200
Date: Sat, 06 Aug 2005 06:56:38 +0200 (CEST)
Message-Id: <20050806.065638.92586082.Meino.Cramer@gmx.de>
To: zsh-users@sunsite.dk
From: Meino Christian Cramer <Meino.Cramer@gmx.de>
X-Mailer: Mew version 4.1 on Emacs 21.3 / Mule 5.0 (SAKAKI)
Mime-Version: 1.0
X-SA-Exim-Connect-IP: 127.0.0.1
X-SA-Exim-Rcpt-To: zsh-users@sunsite.dk
X-SA-Exim-Mail-From: Meino.Cramer@gmx.de
Subject: RFT: Request for a trick :O)
Content-Type: Text/Plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-SA-Exim-Version: 4.1+cvs (built Sat, 28 Aug 2004 13:10:40 +0200)
X-SA-Exim-Scanned: Yes (on solfire)
X-Spam-Checker-Version: SpamAssassin 3.0.4 (2005-06-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.4

Hi,

 I read about the magic of MULTIOS in the zshall manpage and I am
 wondering whether it is possible to achieve the following without
 using "the standard way" (i.e. visible temporyry files)...

 In my directory there are two files:

	a.7z

 and

    b.7z

 with both the same length. Both are packed with the p7zip-packer (by
 the way: The compression ratio of this tool is even better as that of
 bzip2 and it is available for Mi*ft Wi*ows and Linux/UNIX!). 

 A md5sum shows, that both files are "different", but it seems this is
 due to the packer, which (may be) include the packing date. So md5sum
 returns different hash value even if the contents of the archives is
 identical.

 The standard way to check both archives for identity is to unpack
 both into temporary files, md5sum both files, compare the hash
 values and at last remove both temporary files.

 In the zshall I saw constructions (if MULTIOS is set) like

	sort < foo < bar

 which have the same result as:

    cat foo bar | sort

 .

 Hmmmm.....

 May be something like

	 cmp < `7z x -so foo.7z` < `7z x -so bar.7z`

 may work I thought...but it doesnt (the assumption was totally
 wrong)...  ( "7z x -so <file>.7z" means "unpack <file>.7z to stdout)

 But...may be someone else knows a tricky way to prevent temporary
 files to compare the (single file) contents of two archives in one
 go???

 Keep zshing!
 Meino


 

