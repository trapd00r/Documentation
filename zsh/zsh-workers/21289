From zsh-workers-return-21289-mason-zsh=primenet.com.au@sunsite.dk Sun May 29 20:51:12 2005
Return-Path: <zsh-workers-return-21289-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18089 invoked from network); 29 May 2005 20:51:11 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 29 May 2005 20:51:11 -0000
Received: (qmail 86841 invoked from network); 29 May 2005 20:51:05 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 29 May 2005 20:51:05 -0000
Received: (qmail 2175 invoked by alias); 29 May 2005 20:51:02 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 21289
Received: (qmail 20849 invoked from network); 29 May 2005 20:09:20 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 29 May 2005 20:09:20 -0000
Received: (qmail 1501 invoked from network); 29 May 2005 19:42:39 -0000
Received: from mxb.rambler.ru (81.19.66.30)
  by a.mx.sunsite.dk with SMTP; 29 May 2005 19:42:35 -0000
Received: from mailc.rambler.ru (mailc.rambler.ru [81.19.66.27])
	by mxb.rambler.ru (Postfix) with ESMTP id 077D183C4E;
	Sun, 29 May 2005 23:42:35 +0400 (MSD)
Received: from localhost (nnfw2.beelinegprs.ru [217.118.93.2])
	(authenticated bits=0)
	by mailc.rambler.ru (8.12.10/8.12.10) with ESMTP id j4TJgNul051595;
	Sun, 29 May 2005 23:42:30 +0400 (MSD)
Date: Sun, 29 May 2005 23:42:14 +0400
From: Denis Lagno <dlagno@rambler.ru>
To: zsh-workers@sunsite.dk
Cc: tech-userlevel@netbsd.org
Subject: zsh configure and NetBSD's nawk
Message-ID: <20050529194214.GC28637@chup.gado>
Reply-To: dlagno@rambler.ru
Mime-Version: 1.0
Content-Type: text/plain; charset=koi8-r
Content-Disposition: inline
Organization: The METAFACH Group
WWW-Home-Page: http://members.fortunecity.de/dilmah
X-PGP-Fingerprint: F94F F38F 1895 E673 4374  9D63 2B9E FAB3 8E83 584C
User-Agent: Mutt/1.5.9i
X-Auth-User: dlagno, whoson: (null)
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-1.7 required=6.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -1.7

Hi,

configure from zsh (current from cvs) does not work on NetBSD:

checking where signal.h is located... awk: syntax error at source line 1
 context is
         { if ($1 ~ >>>  \ <<< "sig\") files[$1] = $1 }
awk: illegal statement at source line 2
/usr/include/sys/signal.h
checking where error names are located... awk: syntax error at source line 1
 context is
         { if ($1 ~ >>>  \ <<< "err\") files[$1] = $1 }
awk: illegal statement at source line 2
configure: error: ERROR MACROS NOT FOUND:  please report to developers

Apparently there is something that nawk cannot handle.
Is this non-standard construction or is NetBSD's nawk broken?

