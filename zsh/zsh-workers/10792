From zsh-workers-return-10792-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Apr 17 11:48:04 2000
Return-Path: <zsh-workers-return-10792-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8947 invoked from network); 17 Apr 2000 11:47:59 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 17 Apr 2000 11:47:59 -0000
Received: (qmail 3344 invoked by alias); 17 Apr 2000 11:47:50 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 10792
Received: (qmail 3273 invoked from network); 17 Apr 2000 11:47:41 -0000
Date: Mon, 17 Apr 2000 12:47:09 +0100
From: Peter Stephenson <pws@cambridgesiliconradio.com>
Subject: Re: PATCH: scrolling completion lists (was: Re: Questions)
In-reply-to: "Your message of Mon, 17 Apr 2000 13:10:41 +0200."
 <200004171110.NAA15088@beta.informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk (Zsh hackers list)
Message-id: <0FT5004N3SQK6P@la-la.cambridgesiliconradio.com>
Content-transfer-encoding: 7BIT

> I had been thinking about doing this, but the patch below uses a
> simple statusline below the menu when it is too big to fit on the
> screen and the $SELECTSTATUS parameter is set. That may contain some
> %-escaped (%l - line information, %m - match information, %p -
> Top/Bottom/%).

This is fine, but it should probably have some default value, which could
be set in the shell functions if that's possible, e.g.
  SELECTSTATUS='Scrolling active: current selection at %p'
although I've put a %B at the front.

At the moment it doesn't alter the default LISTMAX.  That's tricky, since
LISTMAX is set in params.c.  But it would be preferable to have that
reflect the fact that scrolling is going to be used instead of limiting the
display.  More precisely, it would be preferable for LISTMAX not to be set
if it's going to be used, and to be used if it's explicitly set, I suppose.
One problem is that until zsh/complist is loaded, LISTMAX *will* be used.
Maybe that means we just document the fact it will be ignored when using
complist.

-- 
Peter Stephenson <pws@cambridgesiliconradio.com>
Cambridge Silicon Radio, Unit 300, Science Park, Milton Road,
Cambridge, CB4 0XL, UK                          Tel: +44 (0)1223 392070

