From zsh-users-return-4502-mason-zsh=primenet.com.au@sunsite.dk Fri Nov 23 14:03:19 2001
Return-Path: <zsh-users-return-4502-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 28497 invoked from network); 23 Nov 2001 14:03:17 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 23 Nov 2001 14:03:17 -0000
Received: (qmail 28961 invoked by alias); 23 Nov 2001 14:02:52 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4502
Received: (qmail 28926 invoked from network); 23 Nov 2001 14:02:49 -0000
From: Borsenkow Andrej <Andrej.Borsenkow@mow.siemens.ru>
To: "'Vincent Lefevre'" <vincent@vinc17.org>, zsh-users@sunsite.dk
Subject: RE: gcc completion
Date: Fri, 23 Nov 2001 17:02:38 +0300
Message-ID: <000701c17427$827ef730$21c9ca95@mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2627
In-Reply-To: <20011123144536.A4447@greux.loria.fr>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000

> 
> With the gcc completion distributed with zsh, could the .c files be
> ignored after the -o option, perhaps by proposing file instead of
> file.c?
> 

bor@itsrm2% gcc -o ^Xh
tags in context :completion::complete:gcc::
    option-o-1  (_arguments _gcc)
tags in context :completion::complete:gcc:option-o-1:
    all-files  (_files _arguments _gcc)

So setting ignored-patterns for the latter context should do the trick,
i.e. something like

zstyle ':completion::complete:gcc:option-o-1:all-files' ignored-patterns
'*.c'

-andrej

