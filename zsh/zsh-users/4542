From zsh-users-return-4542-mason-zsh=primenet.com.au@sunsite.dk Mon Dec 17 16:36:44 2001
Return-Path: <zsh-users-return-4542-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18782 invoked from network); 17 Dec 2001 16:36:44 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 17 Dec 2001 16:36:44 -0000
Received: (qmail 4960 invoked by alias); 17 Dec 2001 16:36:23 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4542
Received: (qmail 4949 invoked from network); 17 Dec 2001 16:36:22 -0000
X-VirusChecked: Checked
X-Authentication-Warning: iris.logica.co.uk: Host kiddleo@rambo.logica.co.uk [158.234.33.58] claimed to be yahoo.co.uk
Sender: kiddleo@iris.logica.co.uk
Message-ID: <3C1E1EE8.9BE2B1D3@yahoo.co.uk>
Date: Mon, 17 Dec 2001 16:35:52 +0000
From: Oliver Kiddle <okiddle@yahoo.co.uk>
X-Mailer: Mozilla 4.77 [en] (X11; U; Linux 2.2.15 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: zsh-users@sunsite.dk
Subject: forward: UTF-8
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

-------- Original Message --------
Date: Sat, 15 Dec 2001 22:50:21 +0100
Subject: UTF-8
From: Olivier Verdier <Olivier.Verdier@mas.ecp.fr>
To: zsh@sunsite.dk

Hello!

I'm using Darwin and Mac OS X 10.1 together with zsh (zsh --version = 
zsh 4.0.4 (powerpc-apple-darwin1.4)), and I can't figure out how to make 
it work properly with UTF-8 encoding. All file names are indeed encoded 
in UTF-8 on macintosh hard-disk (HFS+ format). I use a terminal which is 
UTF-8 aware (apple Terminal.app). It works perfectly with 
UTF-8-configured 'less' and 'vim' commands.

Some examples of misbehaviors:
1) a 'ls' command for "Téléchargement" gives "Te??e??hargement"
	*but* 'ls | less' gives "Téléchargement" if less is configured for 
UTF-8
	so the output of 'ls' is correct, but is misinterpreted by the shell

2) completion doesn't work; if 'Télé' is on the directory, Té[tab] gives 
nothing, but 'cd Télé' works...
	*moreover* 'cd Té' writes 'cd T@' on screen, but 'cd Té[tab]' turns 
itself into 'cd Té'

3) 'cd Télé' together with the option 'printeightbit' prints correctly 
the pwd; mkdir Télé works as expected.

All theses strange behaviors make me think that the solution is not so 
far but still I can't find a way around.
Is there an easy way out, or is a complete refund of zsh necessary to 
achieve the UTF-8 compatibility?

thank you for your help and for the excellent shell you provided to the 
community!

regards,
	Olivier Verdier

_____________________________________________________________________
This message has been checked for all known viruses by the 
MessageLabs Virus Scanning Service. For further information visit
http://www.messagelabs.com/stats.asp

