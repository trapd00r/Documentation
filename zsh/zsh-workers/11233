From zsh-workers-return-11233-mason-zsh=primenet.com.au@sunsite.auc.dk Sat May 06 17:08:49 2000
Return-Path: <zsh-workers-return-11233-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 19266 invoked from network); 6 May 2000 17:08:47 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 6 May 2000 17:08:47 -0000
Received: (qmail 19052 invoked by alias); 6 May 2000 17:08:37 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 11233
Received: (qmail 19024 invoked from network); 6 May 2000 17:08:35 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <1000506170828.ZM2063@candle.brasslantern.com>
Date: Sat, 6 May 2000 17:08:28 +0000
In-Reply-To: <hvo3dnvoh59.fsf@serein.m17n.org>
Comments: In reply to Tanaka Akira <akr@m17n.org>
        "fg/bg on FreeBSD." (May  7, 12:03am)
References: <hvo3dnvoh59.fsf@serein.m17n.org>
X-Mailer: Z-Mail (5.0.0 30July97)
To: zsh-workers@sunsite.auc.dk
Subject: Re: fg/bg on FreeBSD.
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On May 7, 12:03am, Tanaka Akira wrote:
} Subject: fg/bg on FreeBSD.
}
} On FreeBSD 3.4 and 4.0, fg/bg may not activate suspended process.
} 
} Report the job info.
} echo's PID is 754 and it's already done.
} sleep's PID is 755 and it's suspended.
} 
} | dhcp21% ps j755
} | USER   PID  PPID  PGID   SESS JOBC STAT  TT       TIME COMMAND
} | akr    755   753   755 92fdc0    1 T     p1    0:00.00 sleep 10

Here's the same on linux:

zagzig[22] jobs -l
[1]  + 2052 done       echo | 
       2053 suspended  sleep 10
zagzig[23] ps j2053
 PPID   PID  PGID   SID TTY TPGID  STAT  UID   TIME COMMAND
 2013  2053  2052  2013  pc  2054  T     674   0:00 sleep 10 

Why is the PGID of sleep different on FreeBSD?  Did it change after the
sleep was started because the echo exited?

Please try the same test, but replace "echo" with "sleep 9" so that you
can stop both jobs before either one of them exits.  Then see what the
PGID of the second sleep is.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

