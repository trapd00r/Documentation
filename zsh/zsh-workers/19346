From zsh-workers-return-19346-mason-zsh=primenet.com.au@sunsite.dk Wed Jan 07 21:10:02 2004
Return-Path: <zsh-workers-return-19346-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1871 invoked from network); 7 Jan 2004 21:10:01 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 7 Jan 2004 21:10:01 -0000
Received: (qmail 11653 invoked by alias); 7 Jan 2004 21:09:50 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 19346
Received: (qmail 11613 invoked from network); 7 Jan 2004 21:09:50 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 7 Jan 2004 21:09:50 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [4.11.8.53] by sunsite.dk (MessageWall 1.0.8) with SMTP; 7 Jan 2004 21:9:49 -0000
Received: (from schaefer@localhost)
	by candle.brasslantern.com (8.11.6/8.11.6) id i07L9jh10948;
	Wed, 7 Jan 2004 13:09:45 -0800
X-Authentication-Warning: candle.brasslantern.com: schaefer set sender to schaefer@closedmail.com using -f
From: Bart Schaefer <schaefer@brasslantern.com>
Message-Id: <1040107210945.ZM10947@candle.brasslantern.com>
Date: Wed, 7 Jan 2004 21:09:45 +0000
In-Reply-To: <20040107185618.GE13633@DervishD>
Comments: In reply to DervishD <raul@pleyades.net>
        "Re: Test E01 and Y01 fails in my zsh 4.0.9" (Jan  7,  7:56pm)
References: <20040107121100.GA1432@DervishD> 
	<1040107160210.ZM10597@candle.brasslantern.com> 
	<20040107185618.GE13633@DervishD>
X-Mailer: Z-Mail (5.0.0 30July97)
To: DervishD <raul@pleyades.net>
Subject: Re: Test E01 and Y01 fails in my zsh 4.0.9
Cc: Zsh Workers <zsh-workers@sunsite.dk>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Jan 7,  7:56pm, DervishD wrote:
}
} > }     When doing 'make check', the E01options test fails when testing
} > } the option 'BSD_ECHO'.
} > On what operating system are you testing?
} 
}     Sorry, I forgot to tell: Linux, a DIY box running 2.4.21 kernel
} with glibc 2.2.4

Hrm.  I can't think of any reason, offhand, for that failure.  The output
you quoted would indicate that it's behaving as if BSD_ECHO is always on.

}     Maybe PTY handling is the problem, but if I run the test as you
} say, the test is indeed more verbose but hangs anyway :( It stops at:
} 
}     comptestinit -z $ZTST_testdir/../Src/zsh &&
[...]
}     Don't know why 'comptestinit' stops there :??

It could be a problem with globbing to initialize the fpath, but it's
far more likely that the zpty module is hanging it.

}     BTW, I have /dev/ptmx AND /dev/ptyp? so the test shouldn't fail
} even if zsh thinks I don't have the PTY multiplexer :?

If it were a problem with _finding_ the PTY, you wouldn't even get as
far as hanging.  I'd suspect a problem with actually reading or writing
the PTY.

As what user are you testing?

