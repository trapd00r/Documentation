From zsh-workers-return-10416-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Apr 03 13:11:54 2000
Return-Path: <zsh-workers-return-10416-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24079 invoked from network); 3 Apr 2000 13:11:53 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 3 Apr 2000 13:11:53 -0000
Received: (qmail 12871 invoked by alias); 3 Apr 2000 13:11:48 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 10416
Received: (qmail 12863 invoked from network); 3 Apr 2000 13:11:47 -0000
Date: Mon, 3 Apr 2000 15:11:45 +0200 (MET DST)
Message-Id: <200004031311.PAA01829@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: "Bart Schaefer"'s message of Sun, 2 Apr 2000 03:16:33 +0000
Subject: Re: Completion issues


Bart Schaefer wrote:

> On Apr 1,  9:26pm, Peter Stephenson wrote:
> ...
> 
> } Second, if I understood correctly, the default behaviour for completion is
> } to ignore ignored completions completely.  Thus the behaviour of $fignore
> } has changed.
> 
> Unless I'm getting the wrong version of a function, it appears that this
> is special-cased by _path_files so that $fignore has not changed -- but
> if you use the ignored-patterns style instead, then ignored completions
> really are ignored, and you need to add the _ignored completer to get
> the old behavior back.

No, $fignore is used in the same way as ignored-patterns (and ignored
only by _ignored).

So, this changes the default for the completer style.

Bye
 Sven

Index: Completion/Core/_main_complete
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Core/_main_complete,v
retrieving revision 1.2
diff -u -r1.2 _main_complete
--- Completion/Core/_main_complete	2000/04/01 20:43:43	1.2
+++ Completion/Core/_main_complete	2000/04/03 13:07:22
@@ -62,7 +62,7 @@
   _completers=( "$@" )
 else
   zstyle -a ":completion:${curcontext}:" completer _completers ||
-      _completers=( _complete )
+      _completers=( _complete _ignored )
 fi
 
 # And now just call the completer functions defined.
Index: Doc/Zsh/compsys.yo
===================================================================
RCS file: /cvsroot/zsh/zsh/Doc/Zsh/compsys.yo,v
retrieving revision 1.3
diff -u -r1.3 compsys.yo
--- Doc/Zsh/compsys.yo	2000/04/03 12:56:31	1.3
+++ Doc/Zsh/compsys.yo	2000/04/03 13:07:25
@@ -841,8 +841,10 @@
 zstyle ':completion:incremental:*' completer _complete _correct
 zstyle ':completion:predict:*' completer _complete)
 
-The default value for this style is tt(_complete), i.e. normally only
-completion will be done.
+The default value for this style is tt(_complete _ignored),
+i.e. normally only completion will be done, first using the
+tt(ignored-patterns) style and the tt($fignore) array and then without 
+ignoring matches because of these.
 )
 kindex(completions, completion style)
 item(tt(completions))(

--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

