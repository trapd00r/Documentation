From zsh-workers-return-21084-mason-zsh=primenet.com.au@sunsite.dk Sun Apr 03 10:35:35 2005
Return-Path: <zsh-workers-return-21084-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 27995 invoked from network); 3 Apr 2005 10:35:34 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 3 Apr 2005 10:35:34 -0000
Received: (qmail 61983 invoked from network); 3 Apr 2005 10:35:28 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 3 Apr 2005 10:35:28 -0000
Received: (qmail 19780 invoked by alias); 3 Apr 2005 10:35:25 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 21084
Received: (qmail 19746 invoked from network); 3 Apr 2005 10:35:25 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 3 Apr 2005 10:35:25 -0000
Received: (qmail 61760 invoked from network); 3 Apr 2005 10:35:25 -0000
Received: from morda.newmail.ru (HELO flock1.newmail.ru) (212.48.140.150)
  by a.mx.sunsite.dk with SMTP; 3 Apr 2005 10:35:21 -0000
Received: (qmail 25553 invoked from network); 3 Apr 2005 10:16:53 -0000
Received: from unknown (HELO ?10.0.0.1?) (arvidjaar@newmail.ru@83.237.106.140)
  by smtpd.newmail.ru with SMTP; 3 Apr 2005 10:16:53 -0000
From: Andrey Borzenkov <arvidjaar@newmail.ru>
To: zsh-workers@sunsite.dk
Subject: ${(kv)foo[bar]}
Date: Sun, 3 Apr 2005 14:35:12 +0400
User-Agent: KMail/1.7.2
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200504031435.19457.arvidjaar@newmail.ru>
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=6.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.6

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

I was under impression that

typeset -A foo
foo[bar]=baz
print ${(kv)foo[bar]}

should print "bar baz". Apparently it repsects only one flag in this case.

Having it working would be handy e.g. in _arguments callbacks that need to get 
options from command line; e.g. (current _urpmi)

      pkgs=( $(urpmq --list
                ${(k)opt_args[--media]} ${(v)opt_args[--media]}
                ${(k)opt_args[--searchmedia]} ${(v)opt_args[--searchmedia]}
                2> /dev/null
           )

- -andrey
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.0 (GNU/Linux)

iD8DBQFCT8bnR6LMutpd94wRAh8bAKC8nVCX7fMQkc6vDSJgq8McMYeyJwCeISWp
SwlkICW2j5idqVcAGoC54Gc=
=Gvn/
-----END PGP SIGNATURE-----

