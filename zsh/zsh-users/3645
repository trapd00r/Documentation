From zsh-users-return-3645-mason-zsh=primenet.com.au@sunsite.dk Tue Feb 27 08:58:15 2001
Return-Path: <zsh-users-return-3645-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9841 invoked from network); 27 Feb 2001 08:58:13 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 27 Feb 2001 08:58:13 -0000
Received: (qmail 12094 invoked by alias); 27 Feb 2001 08:57:52 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 3645
Received: (qmail 12083 invoked from network); 27 Feb 2001 08:57:51 -0000
Date: Mon, 26 Feb 2001 09:26:05 +0100 (CET)
From: Christoph Lange <langec@gmx.de>
Reply-To: Christoph Lange <duke@cyberspaces.de>
To: Andrej Borsenkow <Andrej.Borsenkow@mow.siemens.ru>
cc: zsh-users@sunsite.dk
Subject: RE: Stop _path_files from searching /
In-Reply-To: <001301c09d92$4ea33a00$21c9ca95@mow.siemens.ru>
Message-ID: <Pine.LNX.4.21.0102260917080.1090-100000@linux.local>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
Content-Transfer-Encoding: QUOTED-PRINTABLE

> >   when I try to complete a path name like /path/to/dir in zsh 3.1.9 on
> > Linux, the completion function _path_files steps up the directory tree =
and
> > searches for completions in /, /path, /path/to and /path/to/dir.
> > [...]
> >   This annoys me because my slow CD-ROM drive is automounted with autof=
s.
> > When a CD lies in the tray and a path is completed, zsh accesses /cdrom=
 and
> > thereby mounts the CD-ROM. Of course, I could remove the symlink from /=
cdrom
> > to the autofs directory, but I'd rather like to get the job done by
> > configuring the zsh completion.
> >
>=20
> I do not understand. _path_files basically evaluates
>=20
> /path*/to*/dir*
>=20
> so unless you try to complete something like
>=20
> /cd/some/path/file
>=20
> /cdrom will never be touched. Can you give specific example of what you
> try to do? Together with zstyle -L output.

$ zstyle -L
zstyle ':completion:*' ignore-parents parent pwd .. directory
zstyle ':completion:*' list-colors 'no=3D00' 'fi=3D00' 'di=3D01;34' 'ln=3D0=
1'
'pi=3D40;33' 'so=3D01;35' 'bd=3D40;33;01' 'cd=3D40;33;01' 'ex=3D01;31' '*.c=
md=3D01;32'
'*.exe=3D01;32' '*.com=3D01;32' '*.btm=3D01;32' '*.bat=3D01;32' '*.tar=3D00=
;31'
'*.tgz=3D00;31' '*.rpm=3D00;31' '*.arj=3D00;31' '*.taz=3D00;31' '*.lzh=3D00=
;31'
'*.zip=3D00;31' '*.z=3D00;31' '*.Z=3D00;31' '*.gz=3D00;31' '*.bz2=3D00;31'
'*.jpg=3D01;35' '*.gif=3D01;35' '*.bmp=3D01;35' '*.xbm=3D01;35' '*.xpm=3D01=
;35'
'*.tif=3D01;35' '*.png=3D01;35'
zstyle ':completion:*' list-prompt '%SAt %p: Hit TAB for more, or the
character to insert%s'

Now, let's go on:

$ set -x
$ cd /usr/doc/ [TAB]
+_main_complete:19> setopt localoptions nullglob
rcexpandparam extendedglob
+_main_complete:20> unsetopt markdirs globsubst shwordsplit nounset
ksharrays
+_main_complete:24> setopt localtraps noerrexit
+_main_complete:24> trap - ZERR
+_main_complete:26> local func funcs ret=3D1 tmp _compskip format nm call
_completers _completer _completer_num curtag _comp_force_list _matchers
_matcher _matcher_num _comp_tags _comp_mesg context state line opt_args
val_args curcontext=3D _last_nmatches=3D-1 _last_menu_style _def_menu_style
_menu_style sel _saved_exact=3D _saved_lastprompt=3Dyes _saved_list=3Dautol=
ist
_saved_insert=3Dautomenu-unambiguous _saved_colors=3D
+_main_complete:37> typeset -U _lastdescr _comp_ignore
+_main_complete:39> [[ -z  ]]
+_main_complete:39> curcontext=3D:::=20
+_main_complete:41> [[ automenu-unambiguous =3D=3D tab* ]]
+_main_complete:51> [[ -z  ]]
+_main_complete:52> compset -P 1 =3D
+_main_complete:54> [[ /usr/doc/ !=3D */* ]]
+_main_complete:62> _setup default
+_setup:3> local val nm=3D0
+_setup:5> zstyle -a :completion:::::default list-colors val
+_setup:6> zmodload -i zsh/complist
+_setup:7> [[ default =3D=3D default ]]
+_setup:8>
ZLS_COLORS=3Dno=3D00:fi=3D00:di=3D01;34:ln=3D01:pi=3D40;33:so=3D01;35:bd=3D=
40;33;01:cd=3D40;33;01:ex=3D01;31:*.cmd=3D01;32:*.exe=3D01;32:*.com=3D01;32=
:*.btm=3D01;32:*.bat=3D01;32:*.tar=3D00;31:*.tgz=3D00;31:*.rpm=3D00;31:*.ar=
j=3D00;31:*.taz=3D00;31:*.lzh=3D00;31:*.zip=3D00;31:*.z=3D00;31:*.Z=3D00;31=
:*.gz=3D00;31:*.bz2=3D00;31:*.jpg=3D01;35:*.gif=3D01;35:*.bmp=3D01;35:*.xbm=
=3D01;35:*.xpm=3D01;35:*.tif=3D01;35:*.png=3D01;35=20
+_setup:21> zstyle -t :completion:::::default list-packed
+_setup:23> [[ 2 -eq 1 ]]
+_setup:26> compstate[list]=3Dautolist=20
+_setup:29> zstyle -t :completion:::::default list-rows-first
+_setup:31> [[ 2 -eq 1 ]]
+_setup:34> compstate[list]=3Dautolist=20
+_setup:37> zstyle -t :completion:::::default last-prompt
+_setup:39> [[ 2 -eq 1 ]]
+_setup:42> compstate[last_prompt]=3Dyes=20
+_setup:45> zstyle -t :completion:::::default accept-exact
+_setup:47> [[ 2 -eq 1 ]]
+_setup:50> compstate[exact]=3D=20
+_setup:53> [[ _last_nmatches -ge 0 ]]
+_setup:56> zstyle -a :completion:::::default menu val
+_setup:60> _last_nmatches=3D-1=20
+_setup:63> [[  !=3D always ]]
+_setup:64> zstyle -s :completion:::::default force-list val
+_main_complete:63> _def_menu_style=3D(  )=20
+_main_complete:72> _last_menu_style=3D( )=20
+_main_complete:74> zstyle -s :completion:::::default list-prompt tmp
+_main_complete:75> LISTPROMPT=3D%SAt %p: Hit TAB for more, or the characte=
r
to insert%s=20
+_main_complete:76> zmodload -i zsh/complist
+_main_complete:78> zstyle -s :completion:::::default select-prompt tmp
+_main_complete:82> zstyle -s :completion:::::default select-scroll tmp
+_main_complete:89> ((  0  ))
+_main_complete:101> zstyle -a :completion::::: completer _completers
+_main_complete:102> _completers=3D( _complete _ignored )=20
+_main_complete:107> _completer_num=3D1=20
+_main_complete:111> funcs=3D( )=20
+_main_complete:112> compprefuncs=3D( )=20
+_main_complete:117> tmp=3D_complete
+_main_complete:119> [[ -n  ]]
+_main_complete:121> [[ _complete =3D=3D *:-* ]]
+_main_complete:124> [[ _complete =3D=3D *:* ]]
+_main_complete:128> _completer=3Dcomplete=20
+_main_complete:130> curcontext=3D:complete::=20
+_main_complete:132> zstyle -a :completion::complete::: matcher-list
_matchers
+_main_complete:133> _matchers=3D(  )=20
+_main_complete:135> _matcher_num=3D1=20
+_main_complete:136> _matcher=3D
+_main_complete:137> [[ -n  ]]
+_main_complete:142> _complete
+_complete:7> local comp name oldcontext
+_complete:8> typeset -T curcontext=3D:complete:: ccarray
+_complete:10> oldcontext=3D:complete::=20
+_complete:14> [[ -n  ]]
+_complete:25> comp=3D_first=20
+_complete:26> [[ ! -z _first ]]
+_complete:27> ccarray[3]=3D-first-=20
+_complete:28> _first
+_complete:29> [[  =3D=3D all ]]
+_complete:39> [[ -n  ]]
+_complete:43> [[ command =3D=3D command ]]
+_complete:44> curcontext=3D:complete::=20
+_complete:45> _normal -s
+_normal:3> local comp command cmd1 cmd2 pat val name i ret=3D1 _compskip=
=3D
+_normal:4> local curcontext=3D:complete::
+_normal:11> [[ -s =3D=3D -s ]]
+_normal:17> command=3Dcd=20
+_normal:18> [[ CURRENT -eq 1 ]]
+_normal:26> [[ c =3D=3D =3D ]]
+_normal:30> [[ cd =3D=3D */* ]]
+_normal:35> cmd1=3Dcd=20
+_normal:36> cmd2=3D=20
+_normal:37> curcontext=3D:complete:cd:=20
+_normal:43> [[  !=3D (all|*patterns*) ]]
+_normal:66> name=3Dcd=20
+_normal:67> comp=3D_cd=20
+_normal:69> [[ -z _cd ]]
+_normal:73> [[ -n _cd ]]
+_normal:74> _compskip=3Dpatterns=20
+_normal:75> _cd
+_cd:14> setopt localoptions nonomatch
+_cd:16> local expl
+_cd:18> [[ CURRENT -eq 3 ]]
+_cd:26> _popd
+_popd:8> setopt extendedglob nonomatch
+_popd:10> local expl list lines revlines disp
+_popd:12> zstyle -T :completion::complete:cd::directory-stack prefix-neede=
d
+_popd:13> [[ /usr/doc/ =3D=3D [-+]* ]]
+_popd:13> return 1
+_cd:26> [[ /usr/doc/ !=3D (~|/|./|../)* ]]
+_cd:46> _wanted directories expl directory _path_files -/
+_wanted:3> local __targs __gopt=3D-J
+_wanted:5> [[ directories =3D=3D -C?* ]]
+_wanted:8> [[ directories =3D=3D -C ]]
+_wanted:12> __targs=3D( )=20
+_wanted:15> [[ directories =3D=3D -([12]|)[VJ] ]]
+_wanted:20> _tags directories
+_tags:3> local prev
+_tags:10> [[ directories =3D=3D -- ]]
+_tags:15> ((  1  ))
+_tags:19> local curcontext=3D:complete:cd: order tag nodef tmp
+_tags:21> [[ directories =3D=3D -C?* ]]
+_tags:24> [[ directories =3D=3D -C ]]
+_tags:28> targs=3D( )=20
+_tags:31> [[ directories =3D=3D -(|-) ]]
+_tags:33> zstyle -a :completion::complete:cd:: group-order order
+_tags:48> comptags -i :complete:cd: directories
+_tags:52> [[ -n  ]]
+_tags:55> zstyle -a :completion::complete:cd:: tag-order order
+_tags:56> order=3D( (|*-)argument-* (|*-)option-* values options )=20
+_tags:58> tag=3D(|*-)argument-* (|*-)option-* values
+_tags:59> case (|*-)argument-* (|*-)option-* values (-)
+_tags:59> case (|*-)argument-* (|*-)option-* values (*())
+_tags:59> case (|*-)argument-* (|*-)option-* values (!*)
+_tags:59> case (|*-)argument-* (|*-)option-* values (?*)
+_tags:67> comptry -m (|*-)argument-* (|*-)option-* values
+_tags:58> tag=3Doptions
+_tags:59> case options (-)
+_tags:59> case options (*())
+_tags:59> case options (!*)
+_tags:59> case options (?*)
+_tags:67> comptry -m options
+_tags:71> [[ -z  ]]
+_tags:71> comptry directories
+_tags:76> comptags -T
+_tags:78> return
+_wanted:22> _tags
+_tags:3> local prev
+_tags:10> [[  =3D=3D -- ]]
+_tags:15> ((  0  ))
+_tags:83> comptags -N
+_wanted:23> _all_labels -J directories expl directory _path_files -/
+_all_labels:3> local __gopt=3D-J __len __tmp __pre __suf __ret=3D1 __descr
__spec __prev
+_all_labels:5> [[ -J =3D=3D - ]]
+_all_labels:10> [[ -J =3D=3D -([12]|)[VJ] ]]
+_all_labels:11> __gopt=3D-J=20
+_all_labels:12> shift
+_all_labels:15> __tmp=3D6=20
+_all_labels:16> __len=3D5=20
+_all_labels:17> [[ __tmp -lt __len ]]
+_all_labels:20> [[ __tmp -eq 5 ]]
+_all_labels:24> __pre=3D4=20
+_all_labels:25> __suf=3D5=20
+_all_labels:28> comptags -A directories curtag __spec
+_all_labels:29> _comp_tags=3D directories =20
+_all_labels:30> [[ directories =3D=3D *:* ]]
+_all_labels:37> _description -J directories expl directory
+_description:3> local name gropt=3D-J format gname hidden hide match opts
+_description:5> opts=3D( )=20
+_description:7> [[ -J =3D=3D -([12]|)[VJ] ]]
+_description:8> gropt=3D-J=20
+_description:9> shift
+_description:12> _lastdescr=3D(  directory )=20
+_description:14> _setup directories
+_setup:3> local val nm=3D0
+_setup:5> zstyle -a :completion::complete:cd::directories list-colors val
+_setup:6> zmodload -i zsh/complist
+_setup:7> [[ directories =3D=3D default ]]
+_setup:10> eval
ZLS_COLORS=3D"(directories)${(j.:(directories).)${(@)val:gs/:/\\:}}:${ZLS_C=
OLORS}"
+_setup:10>
ZLS_COLORS=3D(directories)no=3D00:(directories)fi=3D00:(directories)di=3D01=
;34:(directories)ln=3D01:(directories)pi=3D40;33:(directories)so=3D01;35:(d=
irectories)bd=3D40;33;01:(directories)cd=3D40;33;01:(directories)ex=3D01;31=
:(directories)*.cmd=3D01;32:(directories)*.exe=3D01;32:(directories)*.com=
=3D01;32:(directories)*.btm=3D01;32:(directories)*.bat=3D01;32:(directories=
)*.tar=3D00;31:(directories)*.tgz=3D00;31:(directories)*.rpm=3D00;31:(direc=
tories)*.arj=3D00;31:(directories)*.taz=3D00;31:(directories)*.lzh=3D00;31:=
(directories)*.zip=3D00;31:(directories)*.z=3D00;31:(directories)*.Z=3D00;3=
1:(directories)*.gz=3D00;31:(directories)*.bz2=3D00;31:(directories)*.jpg=
=3D01;35:(directories)*.gif=3D01;35:(directories)*.bmp=3D01;35:(directories=
)*.xbm=3D01;35:(directories)*.xpm=3D01;35:(directories)*.tif=3D01;35:(direc=
tories)*.png=3D01;35:no=3D00:fi=3D00:di=3D01;34:ln=3D01:pi=3D40;33:so=3D01;=
35:bd=3D40;33;01:cd=3D40;33;01:ex=3D01;31:*.cmd=3D01;32:*.exe=3D01;32:*.com=
=3D01;32:*.btm=3D01;32:*.bat=3D01;32:*.tar=3D00;31:*.tgz=3D00;31:*.rpm=3D00=
;31:*.arj=3D00;31:*.taz=3D00;31:*.lzh=3D00;31:*.zip=3D00;31:*.z=3D00;31:*.Z=
=3D00;31:*.gz=3D00;31:*.bz2=3D00;31:*.jpg=3D01;35:*.gif=3D01;35:*.bmp=3D01;=
35:*.xbm=3D01;35:*.xpm=3D01;35:*.tif=3D01;35:*.png=3D01;35=20
+_setup:21> zstyle -t :completion::complete:cd::directories list-packed
+_setup:23> [[ 2 -eq 1 ]]
+_setup:26> compstate[list]=3Dautolist=20
+_setup:29> zstyle -t :completion::complete:cd::directories list-rows-first
+_setup:31> [[ 2 -eq 1 ]]
+_setup:34> compstate[list]=3Dautolist=20
+_setup:37> zstyle -t :completion::complete:cd::directories last-prompt
+_setup:39> [[ 2 -eq 1 ]]
+_setup:42> compstate[last_prompt]=3Dyes=20
+_setup:45> zstyle -t :completion::complete:cd::directories accept-exact
+_setup:47> [[ 2 -eq 1 ]]
+_setup:50> compstate[exact]=3D=20
+_setup:53> [[ _last_nmatches -ge 0 ]]
+_setup:56> zstyle -a :completion::complete:cd::directories menu val
+_setup:60> _last_nmatches=3D-1=20
+_setup:63> [[  !=3D always ]]
+_setup:64> zstyle -s :completion::complete:cd::directories force-list val
+_description:16> name=3Dexpl=20
+_description:18> zstyle -s :completion::complete:cd::directories format
format
+_description:19> zstyle -s :completion::complete:cd::descriptions format
format
+_description:21> zstyle -s :completion::complete:cd::directories
hidden hidden
+_description:26> zstyle -s :completion::complete:cd::directories group-nam=
e
gname
+_description:28> zstyle -s :completion::complete:cd::directories matcher
match
+_description:30> [[ -n  ]]
+_description:32> [[ -z  ]]
+_description:33> zstyle -a :completion::complete:cd::directories
ignored-patterns _comp_ignore
+_description:37> zstyle -t :completion::complete:cd::directories
ignore-line
+_description:40> _comp_ignore=3D( )=20
+_description:46> shift 2
+_description:47> [[ -n  ]]
+_description:49> [[ -n  ]]
+_description:56> [[ -n  ]]
+_description:59> set -A expl -J -default-
+_description:63> return 0
+_all_labels:39> _path_files -J -default- -/
+_path_files:6> local linepath realpath donepath prepath testpath exppath
skips skipped
+_path_files:7> local tmp1 tmp2 tmp3 tmp4 i orig eorig pre suf tpre tsuf
opre osuf cpre
+_path_files:8> local pats haspats ignore pfxsfx remt sopt gopt opt sdirs
ignpar
+_path_files:9> local nm=3D0 menu matcher mopts sort match mid
+_path_files:11> typeset -U prepaths exppaths
+_path_files:13> setopt localoptions nullglob rcexpandparam
+_path_files:14> unsetopt markdirs globsubst shwordsplit nounset
+_path_files:16> exppaths=3D( )=20
+_path_files:20> zparseopts -a mopts P:=3Dpfxsfx S:=3Dpfxsfx q=3Dpfxsfx r:=
=3Dpfxsfx
R:=3Dpfxsfx W:=3Dprepaths F:=3Dignore M+:=3Dmatcher J+: V+: X+: 1: 2: n: f=
=3Dtmp1
/=3Dtmp1 g+:-=3Dtmp1
+_path_files:25> sopt=3D-/=20
+_path_files:26> ((  1  ))
+_path_files:26> haspats=3Dyes=20
+_path_files:27> ((  0  ))
+_path_files:28> ((  1  ))
+_path_files:29> pats=3D( *(-/) )=20
+_path_files:33> pats=3D( *(-/) )=20
+_path_files:35> ((  0  ))
+_path_files:47> prepaths=3D(  )=20
+_path_files:50> ((  0  ))
+_path_files:61> [[ -/ =3D=3D -(f|) ]]
+_path_files:70> ((  ! 1  ))
+_path_files:91> [[ -z  && 0 -eq 0 && -z  && -n  ]]
+_path_files:95> ((  0  ))
+_path_files:100> ((  0  ))
+_path_files:102> zstyle -s :completion::complete:cd::files file-sort tmp1
+_path_files:136> zstyle -t :completion::complete:cd::paths squeeze-slashes
+_path_files:139> skips=3D((.|..)/)##=20
+_path_files:142> zstyle -s :completion::complete:cd::paths special-dirs
sdirs
+_path_files:145> [[ *(-/) =3D=3D
((|*[[:blank:]])*(|[[:blank:]]*)|*([^[:blank:]]#/[^[:blank:]]#)*) ]]
+_path_files:146> sopt=3D-//=20
+_path_files:148> zstyle -s :completion::complete:cd::files ignore-parents
ignpar
+_path_files:150> [[ -n  ]]
+_path_files:178> pre=3D/usr/doc/=20
+_path_files:179> suf=3D=20
+_path_files:180> opre=3D/usr/doc/=20
+_path_files:181> osuf=3D=20
+_path_files:182> orig=3D/usr/doc/=20
+_path_files:183> eorig=3D/usr/doc/=20
+_path_files:185> [[ automenu-unambiguous =3D=3D (*menu|[0-9]*) || -n  || -=
n  ]]
+_path_files:191> [[ / =3D=3D ~ ]]
+_path_files:240> [[ /usr/doc/ =3D=3D *$*/* ]]
+_path_files:260> linepath=3D=20
+_path_files:261> realpath=3D=20
+_path_files:263> [[ / =3D=3D / ]]
+_path_files:268> pre=3Dusr/doc/=20
+_path_files:269> orig=3Dusr/doc/=20
+_path_files:270> donepath=3D/=20
+_path_files:271> prepaths=3D(  )=20
+_path_files:284> prepath=3D
+_path_files:290> skipped=3D=20
+_path_files:291> cpre=3D=20
+_path_files:292> tpre=3Dusr/doc/=20
+_path_files:293> tsuf=3D=20
+_path_files:294> testpath=3D/=20
+_path_files:296> tmp2=3D=20
+_path_files:297> tpre=3Dusr/doc/=20
+_path_files:299> tmp1=3D( / )=20
+_path_files:301> true
+_path_files:305> [[ usr/doc/ =3D=3D */* ]]
+_path_files:306> PREFIX=3Dusr=20
+_path_files:307> SUFFIX=3D=20
+_path_files:315> tmp2=3D( / )=20
+_path_files:316> [[ usr/doc/ =3D=3D */* ]]
+_path_files:317> [[ ! -o globdots && usr =3D=3D .* ]]

!! Hey, what's this?

+_path_files:320> tmp1=3D( /bin /boot /cdrom /dev /etc /home /inst /lib /mi=
sc
/mnt /opt /proc /root /sbin /tmp /usr /var )=20
+_path_files:322> [[ -n  ]]
+_path_files:345> [[ -n usr ]]
+_path_files:348> [[ -n  ]]
+_path_files:357> [[ /bin =3D=3D */* ]]
+_path_files:357> tmp2=3D( /bin /boot /cdrom /dev /etc /home /inst /lib /mi=
sc=20
/mnt /opt /proc /root /sbin /tmp /usr /var )=20
+_path_files:359> compadd -D tmp1 -F _comp_ignore - bin boot dev etc home
inst lib misc mnt opt proc root sbin tmp usr var
+_path_files:365> ((  ! 1  ))
+_path_files:411> [[ -n parent pwd .. directory && -z  && usr/doc/ !=3D */*=
 ]]
+_path_files:436> [[ usr/doc/ =3D=3D */* ]]
+_path_files:437> tpre=3Ddoc/=20
+_path_files:448> tmp2=3D=20
+_path_files:449> [[ -n  ]]
+_path_files:453> skipped=3D/=20
+_path_files:301> true
+_path_files:305> [[ doc/ =3D=3D */* ]]
+_path_files:306> PREFIX=3Ddoc=20
+_path_files:307> SUFFIX=3D=20
+_path_files:315> tmp2=3D( /usr )=20
+_path_files:316> [[ doc/ =3D=3D */* ]]
+_path_files:317> [[ ! -o globdots && doc =3D=3D .* ]]
+_path_files:320> tmp1=3D( /usr/bin /usr/cyrus /usr/dict /usr/doc /usr/etc
/usr/games /usr/i486-linux /usr/i486-linuxaout /usr/i486-linux-libc5
/usr/i486-linux-libc6 /usr/i486-suse-linux /usr/i486-sysv4 /usr/include
/usr/lib /usr/local /usr/man /usr/openwin /usr/opt /usr/sbin /usr/share
/usr/spool /usr/src /usr/ssl /usr/tmp /usr/var /usr/X11 /usr/X11R6 /usr/X38=
6
)=20
+_path_files:322> [[ -n  ]]
+_path_files:345> [[ -n doc ]]
+_path_files:348> [[ -n  ]]
+_path_files:357> [[ /usr/bin =3D=3D */* ]]
+_path_files:357> tmp2=3D( /usr/bin /usr/cyrus /usr/dict /usr/doc /usr/etc
/usr/games /usr/i486-linux /usr/i486-linuxaout /usr/i486-linux-libc5
/usr/i486-linux-libc6 /usr/i486-suse-linux /usr/i486-sysv4 /usr/include
/usr/lib /usr/local /usr/man /usr/openwin /usr/opt /usr/sbin /usr/share
/usr/spool /usr/src /usr/ssl /usr/tmp /usr/var /usr/X11 /usr/X11R6 /usr/X38=
6
)=20
+_path_files:359> compadd -D tmp1 -F _comp_ignore - bin cyrus dict doc etc
games i486-linux i486-linuxaout i486-linux-libc5 i486-linux-libc6
i486-suse-linux i486-sysv4 include lib local man openwin opt sbin share
spool src ssl tmp var X11 X11R6 X386
+_path_files:365> ((  ! 1  ))
+_path_files:411> [[ -n parent pwd .. directory && -z  && doc/ !=3D */* ]]
+_path_files:436> [[ doc/ =3D=3D */* ]]
+_path_files:437> tpre=3D=20
+_path_files:448> tmp2=3D=20
+_path_files:449> [[ -n  ]]
+_path_files:453> skipped=3D/=20
+_path_files:301> true
+_path_files:305> [[  =3D=3D */* ]]
+_path_files:309> PREFIX=3D=20
+_path_files:310> SUFFIX=3D=20
+_path_files:315> tmp2=3D( /usr/doc )=20
+_path_files:316> [[  =3D=3D */* ]]
+_path_files:330> [[ ! -o globdots &&  =3D=3D .* ]]
+_path_files:333> tmp1=3D( /usr/doc/opera /usr/doc/packages )=20
+_path_files:335> [[ -n  ]]
+_path_files:345> [[ -n  ]]
+_path_files:382> ((  ! 2  ))
+_path_files:411> [[ -n parent pwd .. directory && -z  &&  !=3D */* && 2 -n=
e 0
&& parent pwd .. directory !=3D *dir* || *(-/) =3D=3D *(-/) && parent pwd
=2E. directory !=3D *..* || /usr/doc/opera /usr/doc/packages =3D=3D *../* ]=
]
+_path_files:436> [[  =3D=3D */* ]]
+_path_files:438> [[  =3D=3D */* ]]
+_path_files:442> break
+_path_files:459> tmp3=3Dusr/doc/=20
+_path_files:460> tpre=3Dusr/doc/=20
+_path_files:461> tsuf=3D=20
+_path_files:462> tmp1=3D( usr/doc/opera usr/doc/packages )=20
+_path_files:464> true
+_path_files:470> [[ usr/doc/ =3D=3D */* ]]
+_path_files:471> tmp4=3D( usr/doc/opera usr/doc/packages )=20
+_path_files:472> ((  2  ))
+_path_files:472> tmp1=3D( usr/doc/opera usr/doc/packages )=20
+_path_files:477> [[ usr/doc/ =3D=3D */* ]]
+_path_files:478> tmp4=3D0=20
+_path_files:483> [[ usr/doc/ =3D=3D */* ]]
+_path_files:484> tmp2=3Dusr=20
+_path_files:485> PREFIX=3D/usr=20
+_path_files:486> SUFFIX=3D/doc/=20
+_path_files:493> ((  tmp4  ))
+_path_files:494> [[ -n  ]]
+_path_files:542> [[ usr/doc/ !=3D */* ]]
+_path_files:550> testpath=3D/usr/=20
+_path_files:551> tmp1=3D( doc/opera doc/packages )=20
+_path_files:553> tmp3=3Ddoc/=20
+_path_files:555> [[ usr/doc/ =3D=3D */* ]]
+_path_files:556> cpre=3Dusr/=20
+_path_files:557> tpre=3Ddoc/=20
+_path_files:464> true
+_path_files:470> [[ doc/ =3D=3D */* ]]
+_path_files:471> tmp4=3D( doc/opera doc/packages )=20
+_path_files:472> ((  2  ))
+_path_files:472> tmp1=3D( doc/opera doc/packages )=20
+_path_files:477> [[ doc/ =3D=3D */* ]]
+_path_files:478> tmp4=3D0=20
+_path_files:483> [[ doc/ =3D=3D */* ]]
+_path_files:484> tmp2=3Dusr/doc=20
+_path_files:485> PREFIX=3D/usr/doc=20
+_path_files:486> SUFFIX=3D/=20
+_path_files:493> ((  tmp4  ))
+_path_files:494> [[ -n  ]]
+_path_files:542> [[ doc/ !=3D */* ]]
+_path_files:550> testpath=3D/usr/doc/=20
+_path_files:551> tmp1=3D( opera packages )=20
+_path_files:553> tmp3=3D=20
+_path_files:555> [[ doc/ =3D=3D */* ]]
+_path_files:556> cpre=3Dusr/doc/=20
+_path_files:557> tpre=3D=20
+_path_files:464> true
+_path_files:470> [[  =3D=3D */* ]]
+_path_files:477> [[  =3D=3D */* ]]
+_path_files:480> tmp4=3D2=20
+_path_files:483> [[  =3D=3D */* ]]
+_path_files:488> tmp2=3Dusr/doc/=20
+_path_files:489> PREFIX=3D/usr/doc/=20
+_path_files:490> SUFFIX=3D=20
+_path_files:493> ((  tmp4  ))
+_path_files:502> tmp2=3D/usr/doc/=20
+_path_files:503> compquote tmp1 tmp2
+_path_files:505> [[ -n  || -z automenu-unambiguous ]]
+_path_files:506> zstyle -t :completion::complete:cd::paths expand suffix
+_path_files:507> ((  tmp4  ))
+_path_files:507> zstyle -t :completion::complete:cd::paths ambiguous
+_path_files:509> [[  =3D=3D */* ]]
+_path_files:515> compadd -Qf -J -default- -p /usr/doc/ -W /usr/doc/ -M
r:|/=3D* r:|=3D* -a tmp1
+_path_files:535> tmp4=3D-=20
+_path_files:536> break
+_path_files:569> [[ -z - ]]
+_path_files:603> zstyle -t :completion::complete:cd::paths expand prefix
+_path_files:611> [[ nm -ne compstate[nmatches] ]]
+_all_labels:39> __ret=3D0=20
+_all_labels:28> comptags -A directories curtag __spec
+_all_labels:43> return __ret
+_wanted:23> return 0
+_normal:75> ret=3D0=20
+_normal:76> [[ patterns =3D=3D (all|*patterns*) ]]
+_normal:76> return ret
+_complete:68> _compskip=3D=20
+_complete:70> ((  compstate[nmatches]  ))
+_main_complete:143> ret=3D0=20
+_main_complete:144> break 2
+_main_complete:151> curcontext=3D:::=20
+_main_complete:152> nm=3D2=20
+_main_complete:154> [[  =3D=3D keep || nm -gt 1 ]]
+_main_complete:155> [[ _last_nmatches -ge 0 ]]
+_main_complete:158> tmp=3D3=20
+_main_complete:160> _menu_style=3D(   )=20
+_main_complete:162> [[ autolist =3D=3D *list && -n  ]]
+_main_complete:165> [[ automenu-unambiguous =3D=3D automenu-unambiguous ]]
+_main_complete:166> [[ -n  ]]
+_main_complete:168> [[ -n  || -n  ]]
+_main_complete:172> [[ -n  ]]
+_main_complete:175> [[ -n  ]]
+_main_complete:177> [[ -n  || -n  ]]
+_main_complete:181> [[ -n  ]]
+_main_complete:184> [[ -n  ]]
+_main_complete:189> [[ automenu-unambiguous =3D=3D *menu* ]]
+_main_complete:190> [[ -n  ]]
+_main_complete:192> [[ -n  ]]
+_main_complete:198> [[  !=3D 0 ]]
+_main_complete:199> sel=3D( )=20
+_main_complete:201> ((  0  ))
+_main_complete:219> unset MENUSELECT
+_main_complete:252> [[  =3D=3D always ||  =3D=3D ?* ]]
+_main_complete:256> [[  =3D=3D keep ]]
+_main_complete:260> funcs=3D( )=20
+_main_complete:261> comppostfuncs=3D( )=20
+_main_complete:266> _lastcomp=3D( list_lines 1 all_quotes \ nmatches 2
restore auto context command vared  unambiguous /usr/doc/ list_max 100
unambiguous_cursor 10 list autolist exact  to_end match last_prompt yes
pattern_insert menu ignored 0 insert automenu-unambiguous )=20
+_main_complete:267> _lastcomp[nmatches]=3D2=20
+_main_complete:268> _lastcomp[completer]=3Dcomplete=20
+_main_complete:269> _lastcomp[prefix]=3D/usr/doc/=20
+_main_complete:270> _lastcomp[suffix]=3D=20
+_main_complete:271> _lastcomp[iprefix]=3D=20
+_main_complete:272> _lastcomp[isuffix]=3D=20
+_main_complete:273> _lastcomp[qiprefix]=3D=20
+_main_complete:274> _lastcomp[qisuffix]=3D=20
+_main_complete:275> _lastcomp[tags]=3D directories =20
+_main_complete:277> return ret

Hope that helps,

Christoph

--=20
A computer without Windows is like a fish without a bicycle
Christoph Lange, langec@gmx.de, http://www.cul.de/home/yaph/, ICQ #51191833

