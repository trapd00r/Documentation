From zsh-workers-return-15224-mason-zsh=primenet.com.au@sunsite.dk Tue Jul 03 11:16:20 2001
Return-Path: <zsh-workers-return-15224-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 21838 invoked from network); 3 Jul 2001 11:16:19 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 3 Jul 2001 11:16:19 -0000
Received: (qmail 21266 invoked by alias); 3 Jul 2001 11:15:20 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 15224
Received: (qmail 21241 invoked from network); 3 Jul 2001 11:15:19 -0000
Date: Tue, 03 Jul 2001 20:16:08 +0900
Message-ID: <86u20uclfr.wl@archon.local.idaemons.org>
From: "Akinori MUSHA" <knu@iDaemons.org>
To: Oliver Kiddle <opk@u.genie.co.uk>
Cc: zsh-workers@sunsite.dk
Subject: Re: a compdef for FreeBSD's sysctl(8) command
In-Reply-To: <3B41A31E.ED8B154E@u.genie.co.uk>
References: <86y9q6d0fz.wl@archon.local.idaemons.org>
	<3B41A31E.ED8B154E@u.genie.co.uk>
User-Agent: Wanderlust/2.5.4 (Smooth) SEMI/1.14.2 (=?ISO-8859-1?Q?Daish=F2?=
 =?ISO-8859-1?Q?ji?=) FLIM/1.14.2 (Yagi-Nishiguchi) APEL/10.2 MULE
 XEmacs/21.1 (patch 14) (Cuyahoga Valley) (i386--freebsd)
Organization: Associated I. Daemons
X-PGP-Public-Key: finger knu@FreeBSD.org
X-PGP-Fingerprint: 081D 099C 1705 861D 4B70  B04A 920B EFC7 9FD9 E1EE
MIME-Version: 1.0 (generated by SEMI 1.14.2 -
 =?ISO-8859-1?Q?=22Daish=F2ji=22?=)
Content-Type: text/plain; charset=US-ASCII

At Tue, 03 Jul 2001 11:49:02 +0100,
Oliver Kiddle wrote:
> First though, I've just tried to adapt it to also work for Linux. I
> also replaced your function with a substitution which I think should
> do the same thing so I would appreciate if you could check that the
> updated function below still works.

Thanks, I'm no zsh compdef hacker at all.  Please fix it as
appropriate.

> I don't suppose that $OSTYPE on FreeBSD includes any of the FreeBSD
> version. It is just that it is a tiny bit faster to check than
> `uname -sr`?

Oh, I didn't think of $OSTYPE.  On FreeBSD, its value looks like
"freebsd4.3" or "freebsd5.0" and on Linux it'd be "linux-gnu".

Why not use it then? :)

> If `sysctl -A' or `sysctl -aN' is run as a non-root user, do you get
> any output to stderr (you do on Linux)? If so, we need to add a
> redirection.

No, we don't get any stderr output on FreeBSD.

> Does anyone on zsh-workers mind if I put this on the stable branch.
> Mainly because I suspect the FreeBSD folks would otherwise be
> maintaining it as a patch for their port.

Indeed..  We'd appreciate seeing it in the stable releases.

Regards,

-- 
                     /
                    /__  __            Akinori.org / MUSHA.org
                   / )  )  ) )  /     FreeBSD.org / Ruby-lang.org
Akinori MUSHA aka / (_ /  ( (__(  @ iDaemons.org / and.or.jp

"Freeze this moment a little bit longer, make each impression
  a little bit stronger..  Experience slips away -- Time stand still"

