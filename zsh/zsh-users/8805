From zsh-users-return-8805-mason-zsh=primenet.com.au@sunsite.dk Wed May 11 15:43:27 2005
Return-Path: <zsh-users-return-8805-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1394 invoked from network); 11 May 2005 15:43:26 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 11 May 2005 15:43:26 -0000
Received: (qmail 31888 invoked from network); 11 May 2005 15:43:20 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 11 May 2005 15:43:20 -0000
Received: (qmail 29274 invoked by alias); 11 May 2005 15:43:13 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8805
Received: (qmail 29264 invoked from network); 11 May 2005 15:43:13 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 11 May 2005 15:43:13 -0000
Received: (qmail 30847 invoked from network); 11 May 2005 15:43:13 -0000
Received: from ms-smtp-01.texas.rr.com (HELO ms-smtp-01-eri0.texas.rr.com) (24.93.47.40)
  by a.mx.sunsite.dk with SMTP; 11 May 2005 15:43:05 -0000
Received: from amdxp.kalama.no-ip.org (cpe-66-68-88-186.austin.res.rr.com [66.68.88.186])
	by ms-smtp-01-eri0.texas.rr.com (8.12.10/8.12.7) with ESMTP id j4BFgkH9007504;
	Wed, 11 May 2005 10:42:55 -0500 (CDT)
Received: from [10.0.1.3] (unknown [10.0.1.3])
	by amdxp.kalama.no-ip.org (Postfix) with ESMTP id E013B43;
	Wed, 11 May 2005 10:42:46 -0500 (CDT)
In-Reply-To: <E0B61825-6DAD-46DD-84E1-C9FEAC27F437@kalama.no-ip.org>
References: <E0B61825-6DAD-46DD-84E1-C9FEAC27F437@kalama.no-ip.org>
Mime-Version: 1.0 (Apple Message framework v728)
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <F4DF8D87-91FF-4917-B61B-3BE56B5A95D3@kalama.no-ip.org>
Cc: Motoi Washida <a66@h8.dion.ne.jp>
Reply-To: zsh-users@sunsite.dk
Content-Transfer-Encoding: 7bit
From: lists <lists@kalama.no-ip.org>
Subject: Re: _mac_applications patch for Mac OS X 10.4
Date: Wed, 11 May 2005 10:42:46 -0500
To: zsh-users@sunsite.dk
X-Mailer: Apple Mail (2.728)
X-Virus-Scanned: Symantec AntiVirus Scan Engine
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=6.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.5

After poking around some more, I think the best thing to do would be  
to modify _retrieve_mac_apps() so that it uses Spotlight to find the  
apps if you're running Tiger, and the old way if you're not running  
Tiger.  This way the apps would be found using Spotlight the first  
time, then added to the cache so you don't have to keep using mdfind  
every time you try to tab complete an app's name.  Motoi, since you  
are the expert on _retrieve_mac_apps() what do you think?

-Ryan


On May 11, 2005, at 9:49 AM, lists wrote:

> I've done some tweaking based on the submission in <http:// 
> www.zsh.org/mla/users/2005/msg00479.html> (thanks Scott and Wataru)  
> and have put together a patch for _mac_applications which uses the  
> _tiger_mac_applications function from the aforementioned submission  
> (which I've renamed to _spotlight_mac_apps since Spotlight will  
> probably be around after Tiger).  _mac_applications will now use  
> Spotlight (via _spotlight_mac_apps) if you're running Mac OS X  
> 10.4, and will fall back to the old way if you're not.  I'm also  
> including the modified _spotlight_mac_apps function (which will now  
> check for an Applications folder in your home directory as well).   
> Please let me know if there are any problems/objections.
>
> Thanks,
> Ryan
>
>
> <_mac_applications.diff.gz>
> <_spotlight_mac_apps.gz>
>

