From zsh-workers-return-18333-mason-zsh=primenet.com.au@sunsite.dk Mon Mar 10 19:25:34 2003
Return-Path: <zsh-workers-return-18333-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4123 invoked from network); 10 Mar 2003 19:25:33 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 10 Mar 2003 19:25:33 -0000
Received: (qmail 26707 invoked by alias); 10 Mar 2003 19:25:27 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 18333
Received: (qmail 26696 invoked from network); 10 Mar 2003 19:25:27 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 10 Mar 2003 19:25:27 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [195.167.170.152] by sunsite.dk (MessageWall 1.0.8) with SMTP; 10 Mar 2003 19:25:26 -0000
Received: from zefram by bowl.fysh.org with local (Exim 3.35 #1 (Debian))
	id 18sStq-0004Hb-00; Mon, 10 Mar 2003 19:25:26 +0000
Date: Mon, 10 Mar 2003 19:25:26 +0000
To: Oliver Kiddle <okiddle@yahoo.co.uk>
Cc: Stephane CHAZELAS <Stephane_CHAZELAS@yahoo.fr>,
	Zsh hackers list <zsh-workers@sunsite.dk>
Subject: Re: LC_NUMERIC=fr_FR and floating point arithmetics
Message-ID: <20030310192526.GA15858@fysh.org>
References: <20030224184502.A9922@pcchazelas.free.fr> <1556.1047286700@finches.logica.co.uk>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <1556.1047286700@finches.logica.co.uk>
User-Agent: Mutt/1.3.28i
From: Zefram <zefram@fysh.org>

Oliver Kiddle wrote:
>But keeping locale handling in output means that scalar parameters
>can't be reused in a calculation.

Numeric output should by default be in the input format (C locale)
so that it can be reused in the expected manner.  If printf is not
sufficient for rendering numbers in human format, we could add an
output-using-locale flag to the output format specification syntax of
$(()) -- there's already syntax to select the radix to use on output.

-zefram

