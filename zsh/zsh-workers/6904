From zsh-workers-return-6904-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Jun 29 07:04:14 1999
Return-Path: <zsh-workers-return-6904-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 6381 invoked from network); 29 Jun 1999 07:04:12 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 29 Jun 1999 07:04:12 -0000
Received: (qmail 22664 invoked by alias); 29 Jun 1999 07:03:59 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 6904
Received: (qmail 22656 invoked from network); 29 Jun 1999 07:03:59 -0000
Date: Tue, 29 Jun 1999 09:03:58 +0200 (MET DST)
Message-Id: <199906290703.JAA19637@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
Subject: PATCH: make distclean


Am I the only one, or can't you get it to work either? When I try
`make distclean' make complains about `@make' being unknown -- there
seems to be a misplaced `@'. And when I try `./configure; make distclean' 
it doesn't work because in the Src directory this need the file
modules.index but it doesn't have a dependency for it.

Am I missing something?

Bye
 Sven

--- Src/Makefile.in.old	Mon Jun 28 22:39:41 1999
+++ Src/Makefile.in	Mon Jun 28 22:40:05 1999
@@ -206,9 +206,9 @@
 realclean: realclean-modules
 
 # Don't remake Makemod just to delete things, even if it doesn't exist.
-mostlyclean-modules clean-modules distclean-modules realclean-modules:
+mostlyclean-modules clean-modules distclean-modules realclean-modules: modules.index
 	if test -f Makemod; then \
-	  @$(MAKE) -f Makemod $(MAKEDEFS) `echo $@ | sed 's/-modules//'`; \
+	  $(MAKE) -f Makemod $(MAKEDEFS) `echo $@ | sed 's/-modules//'`; \
 	fi; \
 	exit 0
 

--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

