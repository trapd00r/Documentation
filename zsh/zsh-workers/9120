From zsh-workers-return-9120-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Dec 20 13:37:20 1999
Return-Path: <zsh-workers-return-9120-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 6630 invoked from network); 20 Dec 1999 13:37:18 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 20 Dec 1999 13:37:18 -0000
Received: (qmail 18842 invoked by alias); 20 Dec 1999 13:37:08 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 9120
Received: (qmail 18835 invoked from network); 20 Dec 1999 13:37:07 -0000
Date: Mon, 20 Dec 1999 13:37:54 GMT
Message-Id: <199912201337.NAA17923@mango.dublin.iona.ie>
To: "ZSH workers mailing list" <zsh-workers@sunsite.auc.dk>
Subject: PATCH: Re: Something weird with modules aliases
From: zefram@fysh.org

>compinit:475: failed to load module: complete
>compinit:zstyle:475: autoload failed
>compinit:476: command not found: zstyle

Slight module loading problem there.  Let me guess: you don't have any
alias modules being compiled.

Maybe this will help.

diff -crN ../zsh-/.distfiles ./.distfiles
*** ../zsh-/.distfiles	Thu Apr 15 19:05:35 1999
--- ./.distfiles	Mon Dec 20 13:10:06 1999
***************
*** 1,5 ****
  DISTFILES_SRC='
!     .cvsignore .distfiles Makefile.in
      ChangeLog ChangeLog.3.0 INSTALL META-FAQ README
      acconfig.h aclocal.m4 aczsh.m4 configure.in
      configure config.h.in stamp-h.in
--- 1,5 ----
  DISTFILES_SRC='
!     .cvsignore .distfiles .preconfig Makefile.in
      ChangeLog ChangeLog.3.0 INSTALL META-FAQ README
      acconfig.h aclocal.m4 aczsh.m4 configure.in
      configure config.h.in stamp-h.in
diff -crN ../zsh-/.preconfig ./.preconfig
*** ../zsh-/.preconfig	Thu Jan  1 01:00:00 1970
--- ./.preconfig	Mon Dec 20 13:22:03 1999
***************
*** 0 ****
--- 1,7 ----
+ #! /bin/sh
+ 
+ set -e
+ 
+ autoconf
+ autoheader
+ echo > stamp-h.in
diff -crN ../zsh-/INSTALL ./INSTALL
*** ../zsh-/INSTALL	Tue Nov 23 16:22:16 1999
--- ./INSTALL	Mon Dec 20 13:27:03 1999
***************
*** 19,24 ****
--- 19,34 ----
  for your particular architecture.  Most architectures will not require any
  special instructions.
  
+ Pre-configuration
+ -----------------
+ 
+ If you are using a normal source release, skip this section.
+ 
+ If the `configure' script does not already exist -- e.g., if you've got
+ a snapshot of the bare sources just checked out from a CVS repository
+ -- some things need to be built before the configuration can proceed.
+ Run the script `./Util/preconfig' to do this.
+ 
  Configuring Zsh
  ---------------
  
diff -crN ../zsh-/Util/.distfiles ./Util/.distfiles
*** ../zsh-/Util/.distfiles	Mon Aug 30 17:52:51 1999
--- ./Util/.distfiles	Mon Dec 20 13:22:59 1999
***************
*** 1,4 ****
--- 1,5 ----
  DISTFILES_SRC='
      .distfiles
      helpfiles mkdisttree.sh reporter
+     preconfig
  '
diff -crN ../zsh-/Util/preconfig ./Util/preconfig
*** ../zsh-/Util/preconfig	Thu Jan  1 01:00:00 1970
--- ./Util/preconfig	Mon Dec 20 13:21:44 1999
***************
*** 0 ****
--- 1,14 ----
+ #! /bin/sh
+ 
+ find . \( -name '*.*' -prune \) -o \( -name .preconfig -print \) | (
+     while read pre; do
+ 	cmd=`echo $pre | sed 's,^,cd ,;s,/\([^/]*\)$, \&\& ./\1,'`
+ 	echo >&2 "$cmd"
+ 	if ( eval "$cmd" ); then :; else
+ 	    echo "$0: $pre failed (status $?)"
+ 	    exit 1
+ 	fi
+     done
+ )
+ 
+ exit 0

