From zsh-workers-return-19590-mason-zsh=primenet.com.au@sunsite.dk Wed Mar 10 08:11:01 2004
Return-Path: <zsh-workers-return-19590-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 23461 invoked from network); 10 Mar 2004 08:11:00 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 10 Mar 2004 08:11:00 -0000
Received: (qmail 15169 invoked by alias); 10 Mar 2004 08:10:53 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 19590
Received: (qmail 15159 invoked from network); 10 Mar 2004 08:10:53 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 10 Mar 2004 08:10:53 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [216.136.128.122] by sunsite.dk (MessageWall 1.0.8) with SMTP; 10 Mar 2004 8:10:52 -0000
Message-ID: <20040310081051.29179.qmail@web10409.mail.yahoo.com>
Received: from [67.126.116.29] by web10409.mail.yahoo.com via HTTP; Wed, 10 Mar 2004 00:10:51 PST
Date: Wed, 10 Mar 2004 00:10:51 -0800 (PST)
From: Felix Rosencrantz <f_rosencrantz@yahoo.com>
Subject: Re: PATCH: terminfo configuration redux 
To: Peter Stephenson <pws@csr.com>, Zsh hackers list <zsh-workers@sunsite.dk>
In-Reply-To: <19899.1078834507@csr.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

--- Peter Stephenson <pws@csr.com> wrote:
> This should mean ac_cv_header_curses_h is not `yes', so terminfo won't
> be compiled, and HAVE_CURSES_H is not defined, so that even if it is
> compiled it is only a stub with no curses stuff in it.  Otherwise
> something is very weirdly broken.  Maybe later parts of config.log give
> a clue.

Yet the build still fails at terminfo.c because ERR is not defined.  

Some results from config.log are listed below The log is big, if there are more
details you need let me know.  I'm not sure which details are of most interest
to you.

-FR.

configure:5727: checking for library containing tgetent
configure:5758: gcc -o conftest  -Wall -Wmissing-prototypes -ggdb
-D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -g conftest.c -lm  -lc >&5
/tmp/ccKOFvzo.o(.text+0x11): In function `main':
/configure:5815: undefined reference to `tgetent'
collect2: ld returned 1 exit status
configure:5761: $? = 1
configure:5803: gcc -o conftest  -Wall -Wmissing-prototypes -ggdb
-D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -g conftest.c -ltinfo  -lm  -lc >&5
/usr/bin/ld: cannot find -ltinfo
collect2: ld returned 1 exit status
configure:5806: $? = 1
configure: failed program was:
configure:5803: gcc -o conftest  -Wall -Wmissing-prototypes -ggdb
-D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -g conftest.c -ltermcap  -lm  -lc
>&5
configure:5806: $? = 0
configure:5809: test -s conftest
configure:5812: $? = 0
configure:5826: result: -ltermcap
configure:5833: checking for library containing tigetflag
configure:5864: gcc -o conftest  -Wall -Wmissing-prototypes -ggdb
-D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -g conftest.c -ltermcap -lm  -lc >&5
/tmp/ccJBKnPf.o(.text+0x11): In function `main':
configure:5921: undefined reference to `tigetflag'
collect2: ld returned 1 exit status
configure:5867: $? = 1
configure: failed program was:
configure:5909: gcc -o conftest  -Wall -Wmissing-prototypes -ggdb
-D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -g conftest.c -ltinfo  -ltermcap -lm
 -lc >&5
/usr/bin/ld: cannot find -ltinfo
collect2: ld returned 1 exit status
configure:5912: $? = 1
configure: failed program was:
configure:5909: gcc -o conftest  -Wall -Wmissing-prototypes -ggdb
-D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -g conftest.c -ltermcap  -ltermcap
-lm  -lc >&5
/tmp/ccmqEjRC.o(.text+0x11): In function `main':
configure:5966: undefined reference to `tigetflag'
collect2: ld returned 1 exit status
configure:5912: $? = 1
configure: failed program was:
configure:5909: gcc -o conftest  -Wall -Wmissing-prototypes -ggdb
-D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -g conftest.c -lcurses  -ltermcap
-lm  -lc >&5
configure:5912: $? = 0
configure:5915: test -s conftest
configure:5918: $? = 0
configure:5932: result: -lcurses
configure:5953: checking curses.h usability
configure:5966: gcc -c  -Wall -Wmissing-prototypes -ggdb -D_LARGEFILE_SOURCE
-D_FILE_OFFSET_BITS=64 conftest.c >&5
configure:6059:20: curses.h: No such file or directory
configure:5969: $? = 1
configure: failed program was:
configure:5985: result: no
configure:5989: checking curses.h presence
configure:6000: gcc -E -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 conftest.c
configure:6061:20: curses.h: No such file or directory
configure:6006: $? = 1
configure: failed program was:
configure:6025: result: no
configure:6061: checking for curses.h
configure:6068: result: no
configure:6078: checking for Solaris 8 curses.h mistake
configure:6100: gcc -c  -Wall -Wmissing-prototypes -ggdb -D_LARGEFILE_SOURCE
-D_FILE_OFFSET_BITS=64 conftest.c >&5
configure:6153:20: curses.h: No such file or directory
configure:6103: $? = 1
configure:6122: result: no
configure:6148: checking term.h usability
configure:6161: gcc -c  -Wall -Wmissing-prototypes -ggdb -D_LARGEFILE_SOURCE
-D_FILE_OFFSET_BITS=64 conftest.c >&5
configure:6254:18: term.h: No such file or directory
configure:6164: $? = 1
configure:6180: result: no
configure:6184: checking term.h presence
configure:6195: gcc -E -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 conftest.c
configure:6256:18: term.h: No such file or directory
configure:6201: $? = 1
configure:6220: result: no
configure:6256: checking for term.h
configure:6263: result: no

__________________________________
Do you Yahoo!?
Yahoo! Search - Find what you’re looking for faster
http://search.yahoo.com

