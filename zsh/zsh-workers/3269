From zsh-workers-request@euclid.skiles.gatech.edu Sat Jun 21 15:17:58 1997
Return-Path: <zsh-workers-request@euclid.skiles.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 5894 invoked from network); 21 Jun 1997 15:17:57 -0000
Received: from euclid.skiles.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 21 Jun 1997 15:17:57 -0000
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id LAA20500; Sat, 21 Jun 1997 11:11:38 -0400 (EDT)
Resent-Date: Sat, 21 Jun 1997 11:11:38 -0400 (EDT)
From: Zefram <zefram@dcs.warwick.ac.uk>
Message-Id: <4567.199706211515@stone.dcs.warwick.ac.uk>
Subject: Re: forwarded message
To: zsh-workers@math.gatech.edu (Z Shell workers mailing list)
Date: Sat, 21 Jun 1997 16:15:23 +0100 (BST)
Cc: roberto@keltia.freenix.fr
In-Reply-To: <199706201832.OAA11300@cauchy.skiles.gatech.edu> from "Richard Coleman" at Jun 20, 97 02:32:23 pm
X-Loop: zefram@dcs.warwick.ac.uk
X-Stardate: [-31]9518.17
X-Phase: The Moon is Waning Gibbous (100% of Full)
X-US-Congress: Moronic fuckers
X-Personality: INTJ
X-This-is-not-HTML: <blink> <font face="wingdings">
Content-Type: text
Resent-Message-ID: <"VdEt_1.0.F05.gy-gp"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3269
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Richard Coleman wrote:
>set prompt="%{\033]2;%n@%M:%/ - %l\007\033]1;%l@%m\007%}%h [%T] %B%n%b@%m:%B%.2%#%b "
>
>to set my xterm icon name & title and prompt.
>
>If I try to use the same kind of strings for zsh, the %{...%} doesn't seem
>to be really interpreted as I'd expect and I get this:
>
>\033]2;roberto@keltia.freenix.fr:/build/zsh-3.1.1 - p2\007\033]1;p2@keltia\007203 [20:14] roberto@keltia:zsh-3.1.12% 

The %{...%} is working just fine.  The problem is sequences like "\033",
which have no special meaning in PS1.  You need to put a literal escape
character into PS1.

-zefram

