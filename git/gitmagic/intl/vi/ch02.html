<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
  <meta name="generator" content=
  "HTML Tidy for Linux (vers 25 March 2009), see www.w3.org">
  <meta http-equiv="Content-Type" content=
  "text/html; charset=utf-8">

  <title>Git Magic - Chương&nbsp;2.&nbsp;Các Thủ Thuật Cơ Bản</title>
  <link rel="stylesheet" href="default.css" type="text/css">
  <meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
  <link rel="home" href="index.html" title="Git Magic">
  <link rel="up" href="index.html" title="Git Magic">
  <link rel="prev" href="ch01.html" title=
  "Chương&nbsp;1.&nbsp;Giới thiệu">
  <link rel="next" href="ch03.html" title=
  "Chương&nbsp;3.&nbsp;Nhân Bản">
</head>

<body bgcolor="white" text="black" link="#0000FF" vlink="#840084"
alink="#0000FF">
    <div class="toc">
      <ul>
<li><b>Git Magic</b></li>
        <li>
          <span class="preface"><a href="index.html">Lời nói
          đầu</a></span>

          <ul>
            <li><span class="section"><a href=
            "index.html#_l%E1%BB%9Di_c%E1%BA%A3m_%C6%A1n">Lời cảm
            ơn!</a></span></li>

            <li><span class="section"><a href=
            "index.html#_gi%E1%BA%A5y_ph%C3%A9p_s%E1%BB%AD_d%E1%BB%A5ng">
            Giấy phép sử dụng</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch01.html">1. Giới
          thiệu</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch01.html#_c%C3%B4ng_vi%E1%BB%87c_gi%E1%BB%91ng_nh%C6%B0_tr%C3%B2_ch%C6%A1i">
            Công Việc giống như Trò Chơi</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_qu%E1%BA%A3n_l%C3%BD_m%C3%A3_ngu%E1%BB%93n">
            Quản Lý Mã Nguồn</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_h%E1%BB%87_th%E1%BB%91ng_ph%C3%A2n_t%C3%A1n">
            Hệ Thống Phân Tán</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_quan_ni%E1%BB%87m_c%E1%BB%95_h%E1%BB%A7">Quan
            Niệm Cổ Hủ</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_xung_%C4%91%E1%BB%99t_khi_tr%E1%BB%99n">Xung
            Đột Khi Trộn</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch02.html">2. Các Thủ
          Thuật Cơ Bản</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch02.html#_ghi_l%E1%BA%A1i_tr%E1%BA%A1ng_th%C3%A1i">Ghi
            lại Trạng thái</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_th%C3%AAm_x%C3%B3a_%C4%91%E1%BB%95i_t%C3%AAn">
            Thêm, Xóa, Đổi Tên</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_ch%E1%BB%A9c_n%C4%83ng_undo_redo">Chức Năng
            Undo/Redo</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_s%E1%BB%B1_quay_l%E1%BA%A1i">Sự quay
            lại</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_t%E1%BA%A1o_nh%E1%BA%ADt_k%C3%BD_c%C3%A1c_thay_%C4%91%E1%BB%95i">
            Tạo Nhật Ký các thay đổi</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_t%E1%BA%A3i_v%E1%BB%81_c%C3%A1c_t%E1%BB%87p_tin">
            Tải về các Tệp tin</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_th%E1%BB%AD_nghi%E1%BB%87m">Thử
            Nghiệm</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_xu%E1%BA%A5t_b%E1%BA%A3n">Xuất
            Bản</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_t%C3%B4i_%C4%91%C3%A3_l%C3%A0m_%C4%91%C6%B0%E1%BB%A3c_g%C3%AC">
            Tôi Đã Làm Được Gì?</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_b%C3%A0i_t%E1%BA%ADp">Bài
            Tập</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch03.html">3. Nhân
          Bản</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch03.html#_%C4%91%E1%BB%93ng_b%E1%BB%99_h%C3%B3a_c%C3%A1c_m%C3%A1y_t%C3%ADnh">
            Đồng bộ hóa Các Máy tính</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_qu%E1%BA%A3n_l%C3%BD_theo_c%C3%A1ch_c%C5%A9">
            Quản lý theo cách Cũ</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_m%C3%A3_ngu%E1%BB%93n_ri%C3%AAng_t%C6%B0">Mã
            nguồn riêng tư</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_kho_thu%E1%BA%A7n">Kho
            thuần</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_push_ng%C6%B0%E1%BB%A3c_v%E1%BB%9Bi_pull">Push
            ngược với pull</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_r%E1%BA%BD_nh%C3%A1nh_m%E1%BB%99t_d%E1%BB%B1_%C3%A1n">
            Rẽ Nhánh một Dự Án</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_sao_l%C6%B0u_kh%C3%B4ng_gi%E1%BB%9Bi_h%E1%BA%A1n">
            Sao Lưu Không Giới Hạn</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_l%C3%A0m_nhi%E1%BB%81u_vi%E1%BB%87c_c%C3%B9ng_l%C3%BAc">
            Làm nhiều việc cùng lúc</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_song_h%C3%A0nh_c%C3%B9ng_c%C3%A1c_h%E1%BB%87_th%E1%BB%91ng_scm_kh%C3%A1c">
            Song Hành cùng các hệ thống SCM khác</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_mercurial">Mercurial</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_bazaar">Bazaar</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_t%E1%BA%A1i_sao_t%C3%B4i_s%E1%BB%AD_d%E1%BB%A5ng_git">
            Tại sao Tôi sử dụng Git</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch04.html">4. Thủ Thuật
          Tạo Nhánh</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch04.html#_n%C3%BAt_%C4%91i%E1%BB%81u_khi%E1%BB%83n">Nút
            Điều Khiển</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_b%E1%BA%A3n_nh%C3%A1p">Bản
            Nháp</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_s%E1%BB%ADa_nhanh">Sửa
            Nhanh</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_tr%E1%BB%99n">Trộn</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_l%C3%A0m_vi%E1%BB%87c_li%C3%AAn_t%E1%BB%A5c">
            Làm Việc Liên Tục</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_c%E1%BA%A3i_t%E1%BB%95_l%E1%BA%A1i_s%E1%BB%B1_pha_tr%E1%BB%99n">
            Cải Tổ Lại Sự Pha Trộn</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_qu%E1%BA%A3n_l%C3%BD_c%C3%A1c_nh%C3%A1nh">Quản
            Lý Các Nhánh</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_nh%C3%A1nh_t%E1%BA%A1m">Nhánh
            Tạm</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_l%C3%A0m_theo_c%C3%A1ch_c%E1%BB%A7a_m%C3%ACnh">
            Làm Theo Cách Của Mình</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch05.html">5. Bài Học về
          Lịch Sử</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch05.html#_d%E1%BB%ABng_l%E1%BA%A1i_s%E1%BB%ADa_ch%E1%BB%AFa">
            Dừng Lại Sửa Chữa</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_8230_v%C3%A0_sau_%C4%91%C3%B3_l%C3%A0_nhi%E1%BB%81u_l%E1%BA%A7n">
            … Và Sau đó là Nhiều Lần</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_thay_%C4%91%E1%BB%95i_ri%C3%AAng_s%E1%BA%AFp_x%E1%BA%BFp_sau">
            Thay Đổi Riêng Sắp Xếp Sau</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_vi%E1%BA%BFt_l%E1%BA%A1i_l%E1%BB%8Bch_s%E1%BB%AD">
            Viết Lại Lịch Sử</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_t%E1%BB%B1_t%E1%BA%A1o_l%E1%BB%8Bch_s%E1%BB%AD">
            Tự Tạo Lịch Sử</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_v%E1%BB%8B_tr%C3%AD_n%C3%A0o_ph%C3%A1t_sinh_l%E1%BB%97i">
            Vị Trí Nào Phát Sinh Lỗi?</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_ai_%C4%91%C3%A3_l%C3%A0m_n%C3%B3_sai">Ai Đã
            Làm Nó Sai?</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_kinh_nghi%E1%BB%87m_ri%C3%AAng">Kinh Nghiệm
            Riêng</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch06.html">6. Đa Người
          Dùng</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch06.html#_t%C3%B4i_l%C3%A0_ai">Tôi Là
            Ai?</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_git_th%C3%B4ng_qua_ssh_http">Git Thông Qua
            SSH, HTTP</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_git_th%C3%B4ng_qua_m%E1%BB%8Di_th%E1%BB%A9">
            Git Thông Qua Mọi Thứ</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_v%C3%A1_s%E1%BB%B1_th%E1%BB%8Bnh_h%C3%A0nh_to%C3%A0n_c%E1%BA%A7u">
            Vá: Sự Thịnh Hành Toàn Cầu</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_r%E1%BA%A5t_ti%E1%BA%BFc_t%C3%B4i_%C4%91%C3%A3_chuy%E1%BB%83n_%C4%91i">
            Rất tiếc! Tôi đã chuyển đi</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_nh%C3%A1nh_tr%C3%AAn_m%E1%BA%A1ng">Nhánh
            Trên Mạng</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_%C4%91a_m%C3%A1y_ch%E1%BB%A7">Đa Máy
            chủ</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_s%E1%BB%9F_th%C3%ADch_ri%C3%AAng_c%E1%BB%A7a_t%C3%B4i">
            Sở Thích Riêng Của Tôi</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch07.html">7. Trở Thành
          Kiện Tướng</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch07.html#_ph%C3%A1t_h%C3%A0nh_m%C3%A3_ngu%E1%BB%93n">Phát
            hành Mã Nguồn</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_ch%E1%BB%89_commit_nh%E1%BB%AFng_g%C3%AC_thay_%C4%91%E1%BB%95i">
            Chỉ Commit Những Gì Thay Đổi</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_l%E1%BA%A7n_commit_n%C3%A0y_nhi%E1%BB%81u_qu%C3%A1">
            Lần commit này Nhiều Quá!</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_m%E1%BB%A5c_l%E1%BB%A5c_v%C3%B9ng_tr%E1%BA%A1ng_th%C3%A1i_c%E1%BB%A7a_git">
            Mục Lục: Vùng trạng thái của Git</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_%C4%91%E1%BB%ABng_qu%C3%AAn_head_c%E1%BB%A7a_m%C3%ACnh">
            Đừng Quên HEAD Của Mình</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_s%C4%83n_t%C3%ACm_head">Săn
            tìm-HEAD</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_x%C3%A2y_d%E1%BB%B1ng_tr%C3%AAn_git">Xây
            Dựng trên Git</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_c%E1%BB%A9_phi%C3%AAu_l%C6%B0u">Cứ Phiêu
            Lưu</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_ng%C4%83n_ng%E1%BB%ABa_commit_sai">Ngăn
            Ngừa Commit Sai</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch08.html">8. Bí Quyết của
          Git</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch08.html#_t%C3%ADnh_%E1%BA%A9n">Tính
            Ẩn</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_to%C3%A0n_v%E1%BA%B9n_d%E1%BB%AF_li%E1%BB%87u">
            Toàn Vẹn Dữ Liệu</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_th%C3%B4ng_minh">Thông Minh</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_m%E1%BB%A5c_l%E1%BB%A5c">Mục
            Lục</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_ngu%E1%BB%93n_g%E1%BB%91c_c%E1%BB%A7a_git">Nguồn
            Gốc của Git</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_%C4%91%E1%BB%91i_t%C6%B0%E1%BB%A3ng_c%C6%A1_s%E1%BB%9F_d%E1%BB%AF_li%E1%BB%87u">
            Đối tượng Cơ Sở Dữ Liệu</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_%C4%91%E1%BB%91i_t%C6%B0%E1%BB%A3ng_blob">Đối
            Tượng Blob</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_%C4%91%E1%BB%91i_t%C6%B0%E1%BB%A3ng_tree">Đối
            Tượng Tree</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_l%E1%BA%A7n_commit">Lần
            Commit</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_kh%C3%B3_ph%C3%A2n_bi%E1%BB%87t_%C4%91%C6%B0%E1%BB%A3c_s%E1%BB%B1_th%E1%BA%A7n_k%E1%BB%B3">
            Khó Phân Biệt Được sự Thần Kỳ</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch09.html">9. Phụ lục A:
          Hạn chế của Git</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch09.html#_%C4%91i%E1%BB%83m_y%E1%BA%BFu_sha1">Điểm
            Yếu SHA1</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_microsoft_windows">Microsoft
            Windows</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_c%C3%A1c_t%E1%BB%87p_tin_kh%C3%B4ng_li%C3%AAn_quan">
            Các Tệp tin Không liên quan</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_ai_s%E1%BB%ADa_v%C3%A0_s%E1%BB%ADa_g%C3%AC">
            Ai Sửa và Sửa gì?</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_l%E1%BB%8Bch_s%E1%BB%AD_t%E1%BB%87p_tin">Lịch
            Sử Tệp Tin</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_kh%E1%BB%9Fi_t%E1%BA%A1o_b%E1%BA%A3n_sao">Khởi
            tạo Bản Sao</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_c%C3%A1c_d%E1%BB%B1_%C3%A1n_hay_thay_%C4%91%E1%BB%95i">
            Các Dự Án Hay Thay Đổi</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_b%E1%BB%99_%C4%91%E1%BA%BFm">Bộ
            Đếm</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_v%E1%BB%9Bi_th%C6%B0_m%E1%BB%A5c_r%E1%BB%97ng">
            Với Thư Mục Rỗng</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_l%E1%BA%A7n_commit_kh%E1%BB%9Fi_t%E1%BA%A1o">
            Lần Commit Khởi tạo</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_giao_di%E1%BB%87n_l%E1%BA%ADp_l%E1%BB%9D">Giao
            diện Lập lờ</a></span></li>
          </ul>
        </li>

        <li><span class="chapter"><a href="ch10.html">10. Phụ lục
        B: Dịch Bản Hướng Dẫn Này</a></span></li>
      </ul>
    </div>
<div class="content">
  <div class="chapter" title=
  "Chương&nbsp;2.&nbsp;Các Thủ Thuật Cơ Bản">
    <div class="titlepage">
      <div>
        <div>
          <h2 class="title"><a name=
          "_c%C3%A1c_th%E1%BB%A7_thu%E1%BA%ADt_c%C6%A1_b%E1%BA%A3n">
          </a>Chương&nbsp;2.&nbsp;Các Thủ Thuật Cơ Bản</h2>
        </div>
      </div>
    </div>

    <p>Thay vì lao vào cả một biển lệnh với Git, bạn hãy sử dụng
    các ví dụ cơ bản để bắt đầu. Mặc dù chúng rất đơn giản, nhưng
    tất cả chúng đều rất hữu dụng. Quả thực là vậy, trong tháng đầu
    tiên sử dụng Git tôi chưa bao giờ vượt qua những gì nói trong
    chương này.</p>

    <div class="section" title="Ghi lại Trạng thái">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_ghi_l%E1%BA%A1i_tr%E1%BA%A1ng_th%C3%A1i"></a>Ghi lại
            Trạng thái</h2>
          </div>
        </div>
      </div>

      <p>Bạn muốn thử thực hiện một số lệnh gì đó với Git? Trước
      khi làm điều đó, thực hiện các lệnh sau trong thư mục hiện
      hành chứa các mã nguồn hay văn bản mà bạn muốn quản lý:</p>
      <pre class="literallayout">
$ git init
$ git add .
$ git commit -m "Bản sao lưu đầu tiên"
</pre>

      <p>Bây giờ nếu như các sửa đổi vừa xong của bạn không như
      mong đợi, hãy phục hồi lại bản cũ:</p>
      <pre class="literallayout">
$ git reset --hard # Đặt lại trạng thái và dữ liệu như lần commit cuối
</pre>

      <p>Sau đó sửa nội dung cho đúng ý bạn rồi ghi lại thành một
      trạng thái mới:</p>
      <pre class="literallayout">
$ git commit -a -m "Bản sao lưu khác"
</pre>
    </div>

    <div class="section" title="Thêm, Xóa, Đổi Tên">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_th%C3%AAm_x%C3%B3a_%C4%91%E1%BB%95i_t%C3%AAn"></a>Thêm,
            Xóa, Đổi Tên</h2>
          </div>
        </div>
      </div>

      <p>Lệnh ở trên chỉ giữ dấu vết các tệp tin hiện diện tại thời
      điểm bạn chạy lệnh <span class="strong"><strong>git
      add</strong></span>. Nếu bạn thêm các tệp tin hay thư mục,
      thì bạn sẽ phải thông báo với Git:</p>
      <pre class="literallayout">
$ git add readme.txt Documentation
</pre>

      <p>Tương tự như vậy, nếu bạn muốn Git bỏ đi các tệp tin nào
      đó:</p>
      <pre class="literallayout">
$ git rm kludge.h obsolete.c
$ git rm -r incriminating/evidence/ #gỡ bỏ một cách đệ qui
</pre>

      <p>Git xóa bỏ những tệp tin nếu như bạn chưa làm.</p>

      <p>Đổi tên tệp tin thì cũng giống như là việc bạn gỡ bỏ tên
      cũ và đặt vào nó cái tên mới. Sử dụng lệnh <span class=
      "strong"><strong>git mv</strong></span> có cú pháp rất giống
      lệnh <span class="strong"><strong>mv</strong></span> của hệ
      thống Linux. Ví dụ:</p>
      <pre class="literallayout">
$ git mv bug.c feature.c
</pre>
    </div>

    <div class="section" title="Chức Năng Undo/Redo">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_ch%E1%BB%A9c_n%C4%83ng_undo_redo"></a>Chức Năng
            Undo/Redo</h2>
          </div>
        </div>
      </div>

      <p>Đôi khi bạn chỉ muốn quay trở lại và bỏ đi những thay đổi
      trong quá khứ tại một thời điểm nào đó bởi vì chúng tất cả đã
      sai. Thì lệnh:</p>
      <pre class="literallayout">
$ git log
</pre>

      <p>sẽ hiển thị cho bạn danh sách các lần commit gần đây cùng
      với giá trị băm SHA1:</p>
      <pre class="screen">
commit 766f9881690d240ba334153047649b8b8f11c664
Author: Bob &lt;bob@example.com&gt;
Date:   Tue Mar 14 01:59:26 2000 -0800

    Replace printf() with write().

commit 82f5ea346a2e651544956a8653c0f58dc151275c
Author: Alice &lt;alice@example.com&gt;
Date:   Thu Jan 1 00:00:00 1970 +0000

    Initial commit.
</pre>

      <p>Chỉ vài ký tự của giá trị băm là đủ để chỉ ra một commit
      cụ thể; một cách khác là chép và dán giá trị băm. Gõ:</p>
      <pre class="literallayout">
$ git reset --hard 766f
</pre>

      <p>để phục hồi lại trạng thái đã được chỉ ra và xóa bỏ tất cả
      các lần commit mới hơn kể từ đó.</p>

      <p>Một lúc nào đó bạn lại muốn nhảy tới một bản cũ hơn. Trong
      trường hợp này thì gõ:</p>
      <pre class="literallayout">
$ git checkout 82f5
</pre>

      <p>Nó giúp bạn quay lại đúng thời điểm đó, trong khi vẫn giữ
      lại những lần commit mới hơn. Tuy nhiên, giống như cỗ máy
      thời gian trong các bộ phim khoa học viễn tưởng, nếu bây giờ
      bạn sửa sau đó commit, bạn sẽ ở trong một thực tại khác, bởi
      vì hành động của bạn bây giờ đã khác với khi chúng ta lần đầu
      tiên ở tại đây.</p>

      <p>Có cách thực tế hơn là sử dụng <span class=
      "emphasis"><em>branch</em></span>, và <a class="link" href=
      "ch04.html#branch">chúng ta có nhiều điều để nói về nó sau
      này</a>. Bây giờ, chỉ cần nhớ là:</p>
      <pre class="literallayout">
$ git checkout master
</pre>

      <p>sẽ mang chúng ta trở về hiện tại. Ngoài ra, để tránh rủi
      ro khi sử dụng Git, thì luôn luôn commit hay reset các thay
      đổi của bạn trước khi chạy lệnh checkout.</p>

      <p>Sự tương đồng với game trên máy tính:</p>

      <div class="itemizedlist">
        <ul class="itemizedlist">
          <li class="listitem"><span class=
          "strong"><strong><code class="literal">git reset
          --hard</code></strong></span>: lấy cái cũ đã được lưu lại
          và xóa tất cả các games mới hơn cái vừa lấy.</li>

          <li class="listitem"><span class=
          "strong"><strong><code class="literal">git
          checkout</code></strong></span>: lấy một cái cũ, nhưng
          chỉ chơi với nó, trạng thái của game sẽ tách riêng về
          phía mới hơn chỗ mà bạn đã ghi lại lần đầu tiên. Bất kỳ
          game nào bạn tạo từ bây giờ sẽ là bản cuối cùng trong
          nhánh riêng rẽ tương ứng với một thực tại khác mà bạn đã
          gia nhập vào. <a class="link" href=
          "ch04.html#branch">chúng tôi sẽ nói sau</a>.</li>
        </ul>
      </div>

      <p>Bạn có thể chọn chỉ phục hồi lại các tệp tin hay thư mục
      bạn muốn bằng cách thêm vào chúng vào phần sau của câu
      lệnh:</p>
      <pre class="literallayout">
$ git checkout 82f5 some.file another.file
</pre>

      <p>Bạn phải cẩn thận khi sử dụng các lệnh, như là lệnh
      <span class="strong"><strong>checkout</strong></span> có thể
      âm thầm ghi đè lên các tệp tin. Để ngăn ngừa rủi ro như thế,
      hãy commit trước khi chạy lệnh checkout, nhất là khi mới học
      sử dụng Git. Tóm lại, bất kỳ khi nào bạn không chắc chắn về
      một lệnh nào đó, dù có là lệnh của Git hay không, đầu tiên
      hãy chạy lệnh <span class="strong"><strong>git commit
      -a</strong></span>.</p>

      <p>Bạn không thích việc cắt dán ư? Hãy sử dụng:</p>
      <pre class="literallayout">
$ git checkout :/"My first b"
</pre>

      <p>để nhảy tới lần commit mà phần chú thích của nó bắt đầu
      với chuỗi bạn đã cho. Bạn cũng có thể yêu cầu trạng thái thứ
      5 kể từ cái cuối cùng:</p>
      <pre class="literallayout">
$ git checkout master~5
</pre>
    </div>

    <div class="section" title="Sự quay lại">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_s%E1%BB%B1_quay_l%E1%BA%A1i"></a>Sự quay lại</h2>
          </div>
        </div>
      </div>

      <p>Trong một phiên tòa, mỗi sự kiện được gắn với một bản ghi.
      Cũng giống thế, bạn có thể chọn lệnh commit để undo.</p>
      <pre class="literallayout">
$ git commit -a
$ git revert 1b6d
</pre>

      <p>sẽ chỉ undo lần commit với giá trị băm đã chỉ ra. Sự quay
      trở lại được ghi nhận như là một lần commit mới, bạn có thể
      xác nhận lại điều này bằng lệnh <span class=
      "strong"><strong>git log</strong></span>.</p>
    </div>

    <div class="section" title="Tạo Nhật Ký các thay đổi">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_t%E1%BA%A1o_nh%E1%BA%ADt_k%C3%BD_c%C3%A1c_thay_%C4%91%E1%BB%95i">
            </a>Tạo Nhật Ký các thay đổi</h2>
          </div>
        </div>
      </div>

      <p>Một số dự án yêu cầu có một <a class="ulink" href=
      "http://en.wikipedia.org/wiki/Changelog" target=
      "_top">changelog</a>. Tạo một cái bằng cách gõ:</p>
      <pre class="literallayout">
$ git log &gt; ThayĐổi
</pre>
    </div>

    <div class="section" title="Tải về các Tệp tin">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_t%E1%BA%A3i_v%E1%BB%81_c%C3%A1c_t%E1%BB%87p_tin"></a>Tải
            về các Tệp tin</h2>
          </div>
        </div>
      </div>

      <p>Lấy về một bản sao của một dự án quản lý bằng Git bằng
      cách gõ:</p>
      <pre class="literallayout">
$ git clone git://server/path/to/files
</pre>

      <p>Ví dụ, để lấy tất cả các tệp tin mà tôi đã dùng để tạo ra
      cho quyển sách này là:</p>
      <pre class="literallayout">
$ git clone git://git.or.cz/gitmagic.git
</pre>

      <p>Chúng ta sẽ có nhiều điều để nói về lệnh <span class=
      "strong"><strong>clone</strong></span> sớm thôi.</p>
    </div>

    <div class="section" title="Thử Nghiệm">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_th%E1%BB%AD_nghi%E1%BB%87m"></a>Thử Nghiệm</h2>
          </div>
        </div>
      </div>

      <p>Nếu bạn đã tải về một bản sao của một dự án bằng lệnh
      <span class="strong"><strong>git clone</strong></span>, bạn
      có thể lấy về phiên bản cuối cùng với lệnh:</p>
      <pre class="literallayout">
$ git pull
</pre>
    </div>

    <div class="section" title="Xuất Bản">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_xu%E1%BA%A5t_b%E1%BA%A3n"></a>Xuất Bản</h2>
          </div>
        </div>
      </div>

      <p>Giả sử bạn đã tạo được một kho Git và bạn muốn chia sẻ nó
      với người khác. Bạn có thể bảo họ tải về từ máy tính của
      mình, nhưng nếu họ làm như thế trong khi bạn đang cải tiến nó
      hay có những thay đổi mang tính thử nghiệm, họ có thể gặp
      trục trặc. Dĩ nhiên, đây là lý do tại sao mà chu kỳ phát hành
      phần mềm lại tồn tại phải không nào. Những người phát triển
      có thể làm việc thường xuyên trên một dự án, nhưng họ chỉ
      xuất bản những đoạn mã mà họ cảm thấy nó có thể dùng được để
      tránh ảnh hưởng đến người khác.</p>

      <p>Thực hiện điều này với Git, trong thư mục làm việc của
      Git:</p>
      <pre class="literallayout">
$ git init
$ git add .
$ git commit -m "Bản phát hành đầu tiên"
</pre>

      <p>Sau đó nói với những người cùng sử dụng hãy chạy:</p>
      <pre class="literallayout">
$ git clone your.computer:/path/to/script
</pre>

      <p>để tải dữ liệu về. Giả định là họ truy cập thông qua ssh.
      Nếu không, chạy <span class="strong"><strong>git
      daemon</strong></span> và nói với người sử dụng là chạy lệnh
      sau để thay thế:</p>
      <pre class="literallayout">
$ git clone git://your.computer/path/to/script
</pre>

      <p>Kể từ lúc này, bất cứ khi nào mã nguồn của bạn đã có thể
      sử dụng được, chỉ việc thực hiện:</p>
      <pre class="literallayout">
$ git commit -a -m "Bản phát hành tiếp"
</pre>

      <p>và những người sử dụng có thể cập nhật dữ liệu của họ bằng
      cách chuyển tới thư mục làm việc tương ứng và gõ:</p>
      <pre class="literallayout">
$ git pull
</pre>

      <p>Những người sử dụng sẽ không bao giờ thấy được dữ liệu
      cuối cùng của bạn mà bạn không muốn họ thấy.</p>
    </div>

    <div class="section" title="Tôi Đã Làm Được Gì?">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_t%C3%B4i_%C4%91%C3%A3_l%C3%A0m_%C4%91%C6%B0%E1%BB%A3c_g%C3%AC">
            </a>Tôi Đã Làm Được Gì?</h2>
          </div>
        </div>
      </div>

      <p>Tìm tất cả các thay đổi kề từ lần bạn commit lần cuối bằng
      lệnh:</p>
      <pre class="literallayout">
$ git diff
</pre>

      <p>Hay từ hôm qua:</p>
      <pre class="literallayout">
$ git diff "@{yesterday}"
</pre>

      <p>Hay giữa một bản nào đó và bản trước đây 2 bản:</p>
      <pre class="literallayout">
$ git diff 1b6d "master~2"
</pre>

      <p>Trong từng trường hợp, đầu ra là một miếng vá mà nó có thể
      được sử dụng với lệnh <span class="strong"><strong>git
      apply</strong></span>. Cũng có thể dùng lệnh:</p>
      <pre class="literallayout">
$ git whatchanged --since="2 weeks ago"
</pre>

      <p>Thường thường, tôi duyệt lịch sử bằng <a class="ulink"
      href="http://sourceforge.net/projects/qgit" target=
      "_top">qgit</a> để thay thế cách ở trên, bởi vì nó có giao
      diện đồ họa bóng bẩy, hay <a class="ulink" href=
      "http://jonas.nitro.dk/tig/" target="_top">tig</a>, có giao
      diện dòng lệnh làm việc rất tốt với các máy có kết nối mạng
      chậm. Một lựa chọn khác là cài đặt máy chủ web, chạy lệnh
      <span class="strong"><strong>git instaweb</strong></span> và
      sử dụng bất kỳ trình duyệt web nào.</p>
    </div>

    <div class="section" title="Bài Tập">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_b%C3%A0i_t%E1%BA%ADp"></a>Bài Tập</h2>
          </div>
        </div>
      </div>

      <p>Coi A, B, C, D là 4 lần commit thành công, nơi mà B giống
      A ngoại trừ một số tệp tin bị xóa bỏ. Chúng ta muốn thêm các
      tệp tin đó trở lại D. Chúng ta thực hiện điều này bằng cách
      nào?</p>

      <p>Ở đây chúng ta có ít nhất 3 giải pháp. Giả thiết chúng ta
      đang ở D:</p>

      <div class="orderedlist">
        <ol class="orderedlist" type="1">
          <li class="listitem">
            <p class="simpara">Sự khác nhau giữa A và B là việc các
            tệp tin đã bị gỡ bỏ. Chúng ta có thể tạo miếng vá tương
            ứng với sự khác biệt này và apply nó:</p>
            <pre class="literallayout">
$ git diff B A | git apply
</pre>
          </li>

          <li class="listitem">
            <p class="simpara">Kể từ sau khi chúng ta ghi lại các
            tệp tin tại A trở đi, chúng ta có thể lấy lại:</p>
            <pre class="literallayout">
$ git checkout A foo.c bar.h
</pre>
          </li>

          <li class="listitem">
            <p class="simpara">Chúng ta có thể xem sự di chuyển từ
            A tới B giống như là một thay đổi mà chúng ta muốn
            undo:</p>
            <pre class="literallayout">
$ git revert B
</pre>
          </li>
        </ol>
      </div>

      <p>Lựa chọn nào là tốt nhất? Cách nào bạn thích nhất. Thật dễ
      dàng để có được thứ mà bạn muốn với Git, và thường là có
      nhiều hơn một cách để thực hiện được một thứ bạn muốn.</p>
    </div>
  </div><script type="text/javascript" src="find_selflink.js">
</script><script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
  document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
  </script><script type="text/javascript">
var pageTracker = _gat._getTracker("UA-1901330-2");
  pageTracker._initData();
  pageTracker._trackPageview();
  </script>
</div>
</div><div class="footer"><a href="/~blynn/">Ben Lynn</a></div>
</body>
</html>
