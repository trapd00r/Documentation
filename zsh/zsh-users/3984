From zsh-users-return-3984-mason-zsh=primenet.com.au@sunsite.dk Fri Jun 29 18:15:13 2001
Return-Path: <zsh-users-return-3984-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13025 invoked from network); 29 Jun 2001 18:15:12 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 29 Jun 2001 18:15:12 -0000
Received: (qmail 25670 invoked by alias); 29 Jun 2001 18:14:09 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 3984
Received: (qmail 25659 invoked from network); 29 Jun 2001 18:14:09 -0000
MIME-Version: 1.0
From: Vincent Lefevre <vincent@vinc17.org>
To: zsh-users@sunsite.dk
Date: Fri, 29 Jun 2001 20:14:45 +0200
Subject: Re: [4.0.2 bug] commands not written to history
Message-ID: <4a9256987fvincent@vinc17.org>
In-Reply-To: <1010629155017.ZM14989@candle.brasslantern.com>
References: <20010629163348.A9632@greux.loria.fr> <1010629155017.ZM14989@candle.brasslantern.com>
User-Agent: Pluto/2.02e (RISC-OS/4.02) POPstar/2.03
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

On 29 Jun, Bart Schaefer <schaefer@candle.brasslantern.com> wrote:
> And you're quite sure that you never *did* need to insert commands in
> between cmd1 and cmd2, at some point in past history?

Yes. I can even tell you that the last time this problem occurs, the
command after cmd1 was xinit, i.e. the first command I type after I
log in.

> } Here are my history options:
> } 
> } incappendhistory
>   ^^^^^^^^^^^^^^^^

> Are you also sure that you've never had two shells running at the same
> time, such that their incremental appends to the history might become
> interleaved?

I probably had several opened shells. But here, I'm sure I typed both
commands one after the other. And anyway, a xinit can't have been
interleaved. It seems that cmd2 simply disappeared from the history;
cmd2 probably was the last command I typed in the shell, then I logged
out, and logged in again (thus, the xinit in the history just after
cmd1).

BTW, I use NFS, but all the shells were on the same machine.

-- 
Vincent Lefèvre <vincent@vinc17.org> - Web: <http://www.vinc17.org/> - 100%
validated HTML - Acorn Risc PC, Yellow Pig 17, Championnat International des
Jeux Mathématiques et Logiques, TETRHEX, etc.
Work: CR INRIA - computer arithmetic / SPACES project at LORIA

