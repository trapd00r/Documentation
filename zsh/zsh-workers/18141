From zsh-workers-return-18141-mason-zsh=primenet.com.au@sunsite.dk Sun Jan 26 14:14:59 2003
Return-Path: <zsh-workers-return-18141-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 3037 invoked from network); 26 Jan 2003 14:14:58 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 26 Jan 2003 14:14:58 -0000
Received: (qmail 26139 invoked by alias); 26 Jan 2003 14:14:48 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 18141
Received: (qmail 26131 invoked from network); 26 Jan 2003 14:14:48 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 26 Jan 2003 14:14:48 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [203.109.250.27] by sunsite.dk (MessageWall 1.0.8) with SMTP; 26 Jan 2003 14:14:47 -0000
Received: from p167-tnt1.syd.ihug.com.au (localhost.localdomain) [203.173.128.167] 
	by new-smtp1.ihug.com.au with esmtp (Exim 3.22 #1 (Debian))
	id 18cnYc-0000JJ-00; Mon, 27 Jan 2003 01:14:47 +1100
Received: from localhost.localdomain (localhost.localdomain [127.0.0.1])
	by localhost.localdomain (8.12.5/8.12.5) with ESMTP id h0QEWj2h004864
	for <zsh-workers@sunsite.dk>; Mon, 27 Jan 2003 01:32:46 +1100
Received: (from doug@localhost)
	by localhost.localdomain (8.12.5/8.12.5/Submit) id h0QEWhah004862
	for zsh-workers@sunsite.dk; Mon, 27 Jan 2003 01:32:43 +1100
X-Authentication-Warning: localhost.localdomain: doug set sender to djkea2@mugca.its.monash.edu.au using -f
Date: Mon, 27 Jan 2003 01:32:43 +1100
From: Doug Kearns <djkea2@mugca.its.monash.edu.au>
To: zsh-workers@sunsite.dk
Subject: PATCH: elinks completion
Message-ID: <20030126143243.GA4521@localhost.localdomain>
Mime-Version: 1.0
Content-Type: multipart/mixed; boundary="Nq2Wo0NMKNjxTN9z"
Content-Disposition: inline
User-Agent: Mutt/1.4i


--Nq2Wo0NMKNjxTN9z
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline

G'day all,

Attached is a completion function for 'elinks'.

Regards,
Doug

--Nq2Wo0NMKNjxTN9z
Content-Type: text/plain; charset=us-ascii
Content-Disposition: attachment; filename=_elinks

#compdef elinks

#ELinks 0.4.1 - Text WWW browser

local curcontext="$curcontext" state line
typeset -A opt_args

_arguments -C -A '-*' \
	'*-anonymous[Restrict to anonymous mode]:boolean:(0 1)' \
	'*-auto-submit[Autosubmit first form]:boolean:(0 1)' \
	'*-base-session[Clone session with given ID]:ID number:' \
	'*-dump[Write formatted version of given URL to stdout]:boolean:(0 1)' \
	'*-dump-charset[Codepage to use with -dump]:codepage:' \
	'*-dump-width[Width of document formatted with -dump]:width:' \
	'*-eval[Evaluate given configuration option]:configuration option:' \
	'(- 1)-'{\?,h,help}'[Print usage help and exit]' \
	'(- 1)-long-help[Print detailed usage help and exit]' \
	'(- 1)-config-help[Print help for configuration options]' \
	'(- 1)-lookup[Look up specified host]:host:_hosts' \
	'*-no-connect[Run as separate instance]:boolean:(0 1)' \
	'*-no-home[Don'"'"'t use files in ~/.elinks]:boolean:(0 1)' \
	'*-session-ring[Connect to session ring with given ID]:ID number:' \
	'*-source[Write the source of given URL to stdout]:boolean:(0 1)' \
	'(1)*-stdin[Read document from stdin]:boolean:(0 1)' \
	'*-touch-files[Touch files in ~/.elinks when running with -no-connect/-session-ring]:boolean:(0 1)' \
	'(- 1)-version[Print version information and exit]' \
	'1:url:->url'

if [[ "$state" = url ]]; then
	local elinks_bookmarks elinks_urls

	if [[ -s ~/.elinks/bookmarks ]]; then
		elinks_bookmarks=( $( cut -f2 ~/.elinks/bookmarks ) )
	fi

	elinks_urls=(
		'files:file:_files' \
		'bookmarks:bookmark:compadd -a elinks_bookmarks' \
		'urls:url:_urls'
	)

	_alternative "$elinks_urls[@]"
fi

--Nq2Wo0NMKNjxTN9z--

