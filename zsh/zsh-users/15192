From zsh-users-return-15192-mason-zsh=primenet.com.au@zsh.org Tue Jul 20 14:01:41 2010
Return-Path: <zsh-users-return-15192-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10585 invoked by alias); 20 Jul 2010 14:01:41 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 15192
Received: (qmail 16212 invoked from network); 20 Jul 2010 14:01:40 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.9 required=5.0 tests=BAYES_00,SPF_HELO_PASS
	autolearn=ham version=3.3.1
Received-SPF: pass (ns1.primenet.com.au: SPF record at m.gmane.org designates 80.91.229.12 as permitted sender)
X-Injected-Via-Gmane: http://gmane.org/
To: zsh-users@zsh.org
From: Thorsten Kampe <thorsten@thorstenkampe.de>
Subject: Re: zsh portable script
Date: Tue, 20 Jul 2010 16:01:00 +0200
Lines: 28
Message-ID: <i24a7i$jk3$2@dough.gmane.org>
References: <1007130241570.5546@smasher> <201007121737.21296.joke@seiken.de> <EE6FB4D5-CC70-4394-BF0D-64FCA6497CA6@free.fr>
Mime-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: 8bit
X-Complaints-To: usenet@dough.gmane.org
X-Gmane-NNTP-Posting-Host: nat.scz.novell.com
User-Agent: MicroPlanet-Gravity/2.9.15

* François Revol (Tue, 13 Jul 2010 15:43:31 +0200)
> Le 12 juil. 2010 à 17:37, Joke de Buhr a écrit :
> > On Monday 12 July 2010 16:46:22 Atom Smasher wrote:
> >> on freebsd, zsh installs as /usr/local/bin/zsh. on linux (and most other
> >> systems?) it installs as /usr/bin/zsh.
> >> 
> >> what's the best way to make zsh script portable between linux and freebsd?
> >> 
> >> i could start the script with:
> >> 	#!/usr/bin/env zsh
> >> 
> >> or i could specify that the script be executed as:
> >> 	zsh script
> >> 
> >> is there a better way?
> > 
> > Using env doesn't solve the problem either. There is no guarantee the "env" 
> > program is installed under /usr/bin/env. It may as well be installed under 
> > /usr/local/bin/env.
> 
> Indeed, this kind of "too smart" stuff fails miserably on BeOS and Haiku, which does not have /usr.

Now that is a really convincing argument. BeOS was last updated in 2001 
and "Haiku" has reached now Alpha stage after nine years. Seriously, on 
systems that don't follow the FHS at all, you will have a lot more 
serious problems running any kind of script.

Thorsten

