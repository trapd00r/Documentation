From zsh-users-return-10273-mason-zsh=primenet.com.au@sunsite.dk Thu May 18 09:05:46 2006
Return-Path: <zsh-users-return-10273-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 20391 invoked from network); 18 May 2006 09:05:42 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-0.6 required=5.0 tests=BAYES_20,FORGED_RCVD_HELO 
	autolearn=ham version=3.1.1
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 18 May 2006 09:05:42 -0000
Received: (qmail 18429 invoked from network); 18 May 2006 09:05:31 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 18 May 2006 09:05:31 -0000
Received: (qmail 25683 invoked by alias); 18 May 2006 09:05:24 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 10273
Received: (qmail 25671 invoked from network); 18 May 2006 09:05:23 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 18 May 2006 09:05:23 -0000
Received: (qmail 17394 invoked from network); 18 May 2006 09:05:23 -0000
Received: from osl1smout1.broadpark.no (80.202.4.58)
  by a.mx.sunsite.dk with SMTP; 18 May 2006 09:05:22 -0000
Received: from osl1sminn1.broadpark.no ([80.202.4.59])
 by osl1smout1.broadpark.no
 (Sun Java System Messaging Server 6.1 HotFix 0.05 (built Oct 21 2004))
 with ESMTP id <0IZG0052FEKYXW00@osl1smout1.broadpark.no> for
 zsh-users@sunsite.dk; Thu, 18 May 2006 11:05:22 +0200 (CEST)
Received: from urban.broadpark.no ([80.203.212.30]) by osl1sminn1.broadpark.no
 (Sun Java System Messaging Server 6.1 HotFix 0.05 (built Oct 21 2004))
 with ESMTP id <0IZG00DGZEKYTWB0@osl1sminn1.broadpark.no> for
 zsh-users@sunsite.dk; Thu, 18 May 2006 11:05:22 +0200 (CEST)
Date: Thu, 18 May 2006 11:05:23 +0200
From: Kyrre Nygard <kyrreny@broadpark.no>
Subject: Would like help with prompt
To: zsh-users@sunsite.dk
Message-id: <7.0.1.0.2.20060518110006.0226ccf0@broadpark.no>
MIME-version: 1.0
X-Mailer: QUALCOMM Windows Eudora Version 7.0.1.0
Content-type: text/plain; charset=us-ascii; format=flowed
Content-transfer-encoding: 7BIT


Hello!

This is my prompt (with some nice bolds and colors):

(kyrre@merhaba)(11:01+18/05)
(%:~)

It is set in /etc/zshrc like this:

PROMPT=$'%{\e[01;36m%}(%{\e[22;36m%}%n%{\e[01;30m%}@'
PROMPT+=$'%{\e[22;36m%}%m%{\e[01;36m%})%{\e[01;36m%}%{\e[01;36m%}('
PROMPT+=$'%{\e[22;36m%}%D{%H:%M}%{\e[01;30m%}+%{\e[22;36m%}%D{%d/%m}'
PROMPT+=$'%{\e[01;36m%})%{\e[01;30m\e[00m%}\n%{\e[01;36m%}('
PROMPT+=$'%{\e[22;36m%}%#%{\e[01;30m%}:%{\e[22;36m%}%~%{\e[01;36m%})'
PROMPT+=$'%{\e[01;30m\e[00m%} '

if [[ `whoami` = root ]] then

	PROMPT=$'%{\e[01;31m%}(%{\e[22;31m%}%n%{\e[01;30m%}@'
	PROMPT+=$'%{\e[22;31m%}%m%{\e[01;31m%})%{\e[01;31m%}%{\e[01;31m%}('
	PROMPT+=$'%{\e[22;31m%}%D{%H:%M}%{\e[01;30m%}+%{\e[22;31m%}%D{%d/%m}'
	PROMPT+=$'%{\e[01;31m%})%{\e[01;30m\e[00m%}\n%{\e[01;31m%}('
	PROMPT+=$'%{\e[22;31m%}%#%{\e[01;30m%}:%{\e[22;31m%}%~%{\e[01;31m%})'
	PROMPT+=$'%{\e[01;30m\e[00m%} '

fi

However this setup is darn ugly.

So I've been trying to simplify and adding some order to it:

I know I could load `colors' but I'm not sure if my colors are 
available. Anyway ...

local a1="01;36m"
local a2="22;36m"
local a3="01;30m"

local b1="01;31m"
local b2="22;31m"
local b3="01;30m"

PROMPT=$'%{$a1}(%{$a2}%n%{$a3}@%{$a2}%m%{$a1})'
PROMPT+=$'%{$a1}('{$a2}%D{%H:%M}%{$a3}+%{$a2}%D{%d/%m}%{$a1})%{$a3}\n'
PROMPT+=$'%{$a1}(%{$a2}%#%{$a3}:%{$a2}%~%{$a1})'

if [[ `whoami` = root ]] then

	PROMPT=$'%{$b1}(%{$b2}%n%{$b3}@%{$b2}%m%{$b1})'
	PROMPT+=$'%{$b1}%{$b1}(%{$b2}%D{%H:%M}%{$b3}+%{$b2}%D{%d/%m}%{$b1})%{$b3}\n'
	PROMPT+=$'%{$b1}(%{$b2}%#%{$b3}:%{$b2}%~%{$b1})'

fi

But so far that doesn't work:

/etc/zshrc:32: parse error near `)'
$a1}($a2}kyrre$a3}@$a2}merhaba$a1})

Maybe somebody out there can offer me some help?

Thanks a lot,
Kyrre

