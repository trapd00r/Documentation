From zsh-users-return-7091-mason-zsh=primenet.com.au@sunsite.dk Thu Feb 26 22:57:37 2004
Return-Path: <zsh-users-return-7091-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 26304 invoked from network); 26 Feb 2004 22:57:36 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 26 Feb 2004 22:57:36 -0000
Received: (qmail 13856 invoked by alias); 26 Feb 2004 22:57:23 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 7091
Received: (qmail 13823 invoked from network); 26 Feb 2004 22:57:22 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 26 Feb 2004 22:57:22 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [207.71.22.10] by sunsite.dk (MessageWall 1.0.8) with SMTP; 26 Feb 2004 22:57:21 -0000
Received: from elm.teratorn.org (unknown [10.0.0.23])
	by oak.teratorn.org (Postfix) with ESMTP
	id 0D6122DD; Thu, 26 Feb 2004 17:26:36 -0600 (CST)
Cc: "zsh-users@sunsite.dk" <zsh-users@sunsite.dk>
To: Dominic Mitchell <dom@happygiraffe.net>
Subject: Re: Adding new completions to zsh
References: <opr3ykfw19i4eeqj@mail.oaktech.net> <20040226213704.GA91706@ppe.happygiraffe.net>
Message-ID: <opr3zy89mci4eeqj@mail.oaktech.net>
From: Eric Mangold <teratorn@world-net.net>
Content-Type: text/plain; format=flowed; charset=iso-8859-1
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Date: Thu, 26 Feb 2004 14:56:59 -0700
In-Reply-To: <20040226213704.GA91706@ppe.happygiraffe.net>
User-Agent: Opera7.23/Linux M2 build 518

On Thu, 26 Feb 2004 21:37:04 +0000, Dominic Mitchell 
<dom@happygiraffe.net> wrote:

> On Wed, Feb 25, 2004 at 08:39:22PM -0700, Eric Mangold wrote:
>> My idea for allowing greater flexibility is to bundle the actual zsh
>> completion functionality as part of the Twisted distribution and give 
>> zsh
>> a "stub" that will use the completion functions that are bundled with
>> Twisted.
>
> Would it not make more sense to get your extensions bundled with Twisted
> and then installed in the site-functions directory?  This is what the
> FreeBSD portupgrade commands do and it works great!

I've considered this, however I don't believe it is ideal for this 
specific situation. There are a couple different scenarios where using the 
completion info installed by Twisted's installion routine would be 
undesireable.

First, there's no guarantee that the user even has Twisted /installed/. It 
is very common for the users and developers of Twisted to be working 
directly out of a CVS checkout. They will do this by adding the directory 
containing the CVS checkout to their PYTHONPATH env var.

Secondly, the user may have a release version of Twisted installed yet be 
using another version somewhere else. Such as CVS or having simply 
extracted a newer Twisted release tarball in their home dir and set 
PYTHONPATH accordingly.

So asking python is the only sure way to provide info that is accurate for 
what the user is presently doing.

	-Eric






