From zsh-workers-return-28868-mason-zsh=primenet.com.au@zsh.org Sun Mar 06 22:34:06 2011
Return-Path: <zsh-workers-return-28868-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13304 invoked by alias); 6 Mar 2011 22:34:06 -0000
Mailing-List: contact zsh-workers-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Workers List <zsh-workers.zsh.org>
List-Post: <mailto:zsh-workers@zsh.org>
List-Help: <mailto:zsh-workers-help@zsh.org>
Delivered-To: mailing list zsh-workers@zsh.org
X-Seq: 28868
Received: (qmail 4398 invoked from network); 6 Mar 2011 22:34:04 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.0 required=5.0 tests=BAYES_00,DKIM_SIGNED,
	DKIM_VALID,DKIM_VALID_AU,FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,UNPARSEABLE_RELAY
	autolearn=ham version=3.3.1
Received-SPF: none (ns1.primenet.com.au: domain at yahoo.co.uk does not designate permitted sender hosts)
X-Yahoo-Newman-Id: 710683.34981.bm@omp1020.mail.ukl.yahoo.com
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=DKIM-Signature:Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Received:In-reply-to:From:References:To:Subject:Date:Message-ID;
  b=OKk4WbAkuXin84MH2eWrtIK10/Mr+HeG3esCbrepwgBnMl8jnnQgZbEgJFSobxy0fuQpOWCXPbGUZhIkSuTSz14bX4m5+gwHQULrJUHDOy45UAwiq+KeD6s95zj7lL4jAx1OUwWDbnzW4tP0vd1VPMVHodLtmqSzTH0FbgsNGso=  ;
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.uk; s=s1024; t=1299450497; bh=2Ma9TDfOFdpIz4tLGhk6IOhbEA++/HZxqlKRzBg3zAU=; h=Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Received:In-reply-to:From:References:To:Subject:Date:Message-ID; b=ngtpjFUIv4SZWdyoo876MJu2WVWb4kBhIzhjeX0o11AaPzWFCbpA2QKB390nd/zpbzMP8KOLHkVPY+bfOJLyK17BuiFKDzn5b74Ui1ukWqcqsxXDFZmYphg9JH6d0+JcRf8sW+2VsHXWnG2ZYHLYMPUUfOvB47jpCs9UgrtlaZM=
X-Yahoo-SMTP: opAkk_CswBAce_kJ3nIPlH80cJI-
X-YMail-OSG: t4v1zWcVM1kkqgT_k1FLw27RG1M3OPqSauks7NPayqsZYdv
 5wLxjIf043GrOgGK_VpHIyVOC1r9oU89XJEHlGUskj5fS2Yv0YNw7_VdJuyN
 gA42Vdj2W0fpfQjUms8MdoRHOEmdS2jlgTK5h.e3gsJ476_kq3rifPuMT2va
 mcNeM3pgIhcL.yDtt89kIR7HCSwkIXHqyR_W4GzPDpWXYeEfXJZYRZnq.C9D
 E5_gKNtedZ7T_N.5JfNmsqHTMi_38.9zFkok-
X-Yahoo-Newman-Property: ymail-3
In-reply-to: <20110305141540.GB18627@lorien.comfychair.org>
From: Oliver Kiddle <okiddle@yahoo.co.uk>
References: <20110303230047.GA12871@lorien.comfychair.org> <AANLkTinR9Z7LAW9HYKq_Z7SLNc7ZRT9V87Z7gSdiUF8Z@mail.gmail.com> <20110303235836.GB12871@lorien.comfychair.org> <20110305010019.GA18627@lorien.comfychair.org> <87lj0tordv.fsf@gmail.com> <20110305141540.GB18627@lorien.comfychair.org>
To: Danek Duvall <duvall@comfychair.org>,
  =?utf-8?B?xaB0xJtww6FuIE7Em21lYw==?= <stepnem@gmail.com>,
  zsh-workers@zsh.org
Subject: Re: completing a comma-separated pair of values
Date: Sun, 06 Mar 2011 23:28:16 +0100
Message-ID: <9974.1299450496@thecus>

Danek Duvall wrote:
> 
> Here's the function I ended up with:
> 
> 	    if [[ $words[$CURRENT] == *,* ]]; then

I may have misunderstood this but you can use the return status of
compset -P directly so that you possibly don't need this. e.g:
	if compset -P '*,'; then

> The only problem is that (I think) this may need to be completed in a
> longer series of comma-separated values:

You can also do a while loop if there's no particular ordering to
things in the list: while compset -P '*,' Otherwise, use elif for each
component.

Oliver

