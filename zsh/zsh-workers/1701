From schaefer@candle.brasslantern.com Fri Jul 19 10:44:42 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by melb.werple.net.au (8.7.5/8.7.3/2) with ESMTP id KAA26395 for <mason@werple.mira.net.au>; Fri, 19 Jul 1996 10:44:40 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id UAA12789; Thu, 18 Jul 1996 20:38:10 -0400 (EDT)
Resent-Date: Thu, 18 Jul 1996 20:38:10 -0400 (EDT)
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <9607181738.ZM14804@candle.brasslantern.com>
Date: Thu, 18 Jul 1996 17:38:56 -0700
Reply-To: schaefer@nbn.com
X-Mailer: Z-Mail (3.2.1 24feb96 Caldera)
To: zsh-workers@math.gatech.edu
Subject: Zefram's FUNCTIONARGZERO and SHFILESUBST patches
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Resent-Message-ID: <"j1MvQ1.0.m73.oZjxn"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/1701
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu
Content-Length: 5902
Status: O

Just to save others the trouble, here are Zefram's two patches
diffed against pre3 *without* his (article 1275) options patch.
(In case anyone else needs to be reminded what that means, 1275
was the patch to reverse the sense of all the NO* options, and
then make a leading `NO' on any option reverse the sense of the
setopt or unsetopt command for that option.)

By the way, how many MIME-unaware mail readers do we have on
this list?  As an author of email software, it kinda bugs me
to be sending a uuencoded block in my message text rather than
using the nifty MIME body part capabilities of my user agent.

begin 664 emulation.patch.gz
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
A#?:3[`[V#XX'P[V#X[CAEY/^WJ!WB&+Z+Z4D/4O,,@``
`
end


