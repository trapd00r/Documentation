From zsh-workers-return-17270-mason-zsh=primenet.com.au@sunsite.dk Sun Jun 02 13:25:28 2002
Return-Path: <zsh-workers-return-17270-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2502 invoked from network); 2 Jun 2002 13:25:27 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 2 Jun 2002 13:25:27 -0000
Received: (qmail 1090 invoked by alias); 2 Jun 2002 13:25:20 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 17270
Received: (qmail 1074 invoked from network); 2 Jun 2002 13:25:19 -0000
From: Borsenkow Andrej <Andrej.Borsenkow@mow.siemens.ru>
To: Zsh hackers list <zsh-workers@sunsite.dk>
Subject: path completion in menu selection and exact match
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
X-Mailer: Ximian Evolution 1.0.5-1mdk 
Date: 02 Jun 2002 17:25:04 +0400
Message-Id: <1023024312.14559.4.camel@localhost.localdomain>
Mime-Version: 1.0

There is peculiar problem in path completion using menu selection.

{pts/0}% cd /u/s/li/fsTAB
{pts/0}% cd /usr/src/linux-2.4.18-18mdk/fs/
Completing directory
linux@               linux-2.4.18-13mdk/  linux-2.4.18-17mdk/
linux-2.4.18-18mdk/

now I have two possibility - accepting match so far and hitting a-a-m-c.
If I hit accept (= ENTER) and then ENTER to execute I get:

{pts/0}% cd /usr/src/linux-2.4.18-18mdkfs/
cd:cd:2: no such file or directory: /usr/src/linux-2.4.18-18mdkfs/

i.e. `/' is autoremoved.

If I hit a-a-m-c I get:
{pts/0}% cd /usr/src/linux-2.4.18-18mdk/fs/adfs/
Completing directory
adfs/         affs/         autofs/       autofs4/      bfs/
coda/         cramfs/       devfs/        devpts/       efs/
...

i.e. it tries to complete further.

The first case appears as a bug to me ... it may be depndent on
completinword settings still autoremoving path separator in the middle
of path does not look like a right thing to do.

The second case is just nasty :-0

I do not actually have an idea what it should do as yet (except "it
should do what I intend").

-andrej





