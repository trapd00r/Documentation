From zsh-workers-return-9387-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Jan 20 10:21:29 2000
Return-Path: <zsh-workers-return-9387-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 16076 invoked from network); 20 Jan 2000 10:21:28 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 20 Jan 2000 10:21:28 -0000
Received: (qmail 5556 invoked by alias); 20 Jan 2000 10:21:22 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 9387
Received: (qmail 5549 invoked from network); 20 Jan 2000 10:21:21 -0000
To: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
Cc: zsh-workers@math.gatech.edu
Subject: Re: completion after //
References: <200001200923.KAA22709@beta.informatik.hu-berlin.de>
X-Attribution: adl
From: Alexandre Duret-Lutz <duret_g@epita.fr>
Date: 20 Jan 2000 11:21:11 +0100
In-Reply-To: Sven Wischnowsky's message of "Thu, 20 Jan 2000 10:23:47 +0100 (MET)"
Message-ID: <mvb1z7dyrfs.fsf@phobos.lrde.epita.fr>
Lines: 40
User-Agent: Gnus/5.070096 (Pterodactyl Gnus v0.96) Emacs/20.5
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

>>> "Sven" == Sven Wischnowsky <wischnow@informatik.hu-berlin.de> writes:

[...]

 Sven>> ls ./////f{o/b/b/p<TAB>

 Sven> gives:

 Sven>> ls ./foo/bar/{baz/plop/

 Sven> I don't see a solution. But maybe it's seldom enough. Maybe we should
 Sven> add a comment about this in the docs.

[...]

I will try later not to rewrite PREFIX and SUFFIX but only the copies
of these used by _path_files.  Then,_path_files should complete
as if there no sequence of slashes, but since the line won't be modified,
I suppose the braces won't move.

Index: Doc/Zsh/compsys.yo
--- Doc/Zsh/compsys.yo Thu, 20 Jan 2000 10:18:01 +0100 Alexandre
+++ Doc/Zsh/compsys.yo Thu, 20 Jan 2000 11:10:30 +0100 Alexandre
@@ -1167,9 +1167,10 @@
 if it is set to tt(..), only `tt(..)' will be added.
 )
 item(tt(squeeze-slashes))(
-If set to `true', sequences of slashes (such as tt(foo//bar)) will 
-be rewritten with a single slash (tt(foo/bar)) when completing
-directory names.
+If set to `true', sequences of slashes (like in `tt(foo//bar)') will be
+rewritten with a single slash (`tt(foo/bar)') when completing directory
+names.  Using this style can confuse tt(zsh) if slashes get squeezed 
+before braces completion (e.g. when trying to complete `tt(//{etc)').
 )
 item(tt(stop))(
 If set to `true', the tt(_history_complete_word) bindable

-- 
Alexandre Duret-Lutz

