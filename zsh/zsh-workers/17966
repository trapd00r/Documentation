From zsh-workers-return-17966-mason-zsh=primenet.com.au@sunsite.dk Tue Nov 26 14:15:49 2002
Return-Path: <zsh-workers-return-17966-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1479 invoked from network); 26 Nov 2002 14:15:49 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 26 Nov 2002 14:15:49 -0000
Received: (qmail 27843 invoked by alias); 26 Nov 2002 14:15:42 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 17966
Received: (qmail 27816 invoked from network); 26 Nov 2002 14:15:38 -0000
Date: Tue, 26 Nov 2002 09:15:32 -0500
From: Clint Adams <clint@zsh.org>
To: zsh-workers@sunsite.dk
Subject: B02 failure
Message-ID: <20021126141532.GA32568@dman.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.4i
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)

Same happens with 4.1.

ZTST_test: looking for new test
ZTST_test: examining line:

ZTST_test: examining line:
 # The first declare works around the "not an identifier" bug with -h
ZTST_getchunk: read code chunk:
 # The first declare works around the "not an identifier" bug with -h
 declare \! \# \$ * - ? @
 typeset -h +g -m *
 unset -m *
 integer i=9
 float -H f=9
 declare -t scalar
 declare -H -a array
 typeset
 typeset +
ZTST_test: examining line:
>array local array
ZTST_getredir: read redir for '>':
array local array
float local f
integer local i=9
local tagged scalar=''
array local array
float local f
integer local i
local tagged scalar
ZTST_test: examining line:

Running test: Parameter hiding and tagging, printing types and values
ZTST_test: expecting status: 0
Input: /tmp/zsh.ztst.in.11048, output: /tmp/zsh.ztst.out.11048, error: /tmp/zsh.ztst.terr.11048
ZTST_test: test produced standard output:

ZTST_test: and standard error:
ZTST_execchunk:typeset:2: not valid in this context: 0
*** /tmp/zsh.ztst.out.11048     Tue Nov 26 08:58:54 2002
--- /tmp/zsh.ztst.tout.11048    Tue Nov 26 08:58:54 2002
***************
*** 1,8 ****
- array local array
- float local f
- integer local i=9
- local tagged scalar=''
- array local array
- float local f
- integer local i
- local tagged scalar
--- 0 ----
Test Test/B02typeset.ztst failed: output differs from expected as shown above for:
 # The first declare works around the "not an identifier" bug with -h
 declare \! \# \$ * - ? @
 typeset -h +g -m *
 unset -m *
 integer i=9
 float -H f=9
 declare -t scalar
 declare -H -a array
 typeset
 typeset +
Error output:
ZTST_execchunk:typeset:2: not valid in this context: 0
Was testing: Parameter hiding and tagging, printing types and values
Test/B02typeset.ztst: test failed.



