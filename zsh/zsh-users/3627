From zsh-users-return-3627-mason-zsh=primenet.com.au@sunsite.dk Fri Feb 16 18:21:26 2001
Return-Path: <zsh-users-return-3627-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 14018 invoked from network); 16 Feb 2001 18:21:25 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 16 Feb 2001 18:21:25 -0000
Received: (qmail 28938 invoked by alias); 16 Feb 2001 18:21:09 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 3627
Received: (qmail 28923 invoked from network); 16 Feb 2001 18:21:07 -0000
Date: Fri, 16 Feb 2001 10:23:38 -0800 (PST)
From: Wayne Davison <wayned@users.sourceforge.net>
X-Sender: wayne@phong.blorf.net
To: Bart Schaefer <schaefer@candle.brasslantern.com>
Cc: Louis-David Mitterrand <cunctator@apartia.ch>,
	zsh-users@sunsite.auc.dk
Subject: Re: "rehash" each time a new program is installed?
In-Reply-To: <1010215193109.ZM12208@candle.brasslantern.com>
Message-ID: <Pine.LNX.4.21.0102161009010.20312-100000@phong.blorf.net>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Thu, 15 Feb 2001, Bart Schaefer wrote:
> On Feb 15,  6:57pm, Louis-David Mitterrand wrote:
> } Oh, and a last one ;) Is it possible to "fignore" a file except when
> } it's the only completion candidate (considering the typed string e.g.)?
> 
> That should happen already:

There's a problem with this in the new completion system (which I
complained about quite a while ago).  Fignore works with the old
completion code, but the new system will never complete a file name
in the fignore list.  An example of doing both:

    % zsh -f
    % fignore=( .bak )
    % touch test1 test1.bak
    % ls test1.<TAB>

This results in the expected test1.bak.  Now continue:

    % autoload -U compinit
    % compinit
    % zstyle ':completion:*' completer _expand _complete
    % bindkey '\t' complete-word
    % ls test1.<TAB>

It just beeps at you.  Using a wildcard will cause _expand to list the
file, but _complete totally ignores it.  Is there an option that I'm
missing?  I've tried using:

    % zstyle ':completion:*:all-files' ignored-patterns \*.bak

(instead of fignore) with the same results.

..wayne..

