From zsh-workers-return-6620-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Jun 14 14:53:30 1999
Return-Path: <zsh-workers-return-6620-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1476 invoked from network); 14 Jun 1999 14:53:28 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 14 Jun 1999 14:53:28 -0000
Received: (qmail 2178 invoked by alias); 14 Jun 1999 14:41:24 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 6620
Received: (qmail 1998 invoked from network); 14 Jun 1999 14:41:14 -0000
Message-ID: <4FBF540FF16FD1119D9600A0C94B2B51F29E83@napier.logica.co.uk>
From: "Kiddle, Oliver" <KiddleO@logica.com>
To: "'zsh-workers@sunsite.auc.dk'" <zsh-workers@sunsite.auc.dk>
Subject: Parameter exansion, correction and small patch
Date: Mon, 14 Jun 1999 13:52:47 +0100
X-Mailer: Internet Mail Service (5.5.2448.0)

Two questions:

First, how do I take the output of a command in $(...) and use the parameter
expansion flags to split the output into an array for each line. I'm sure
I've done this before but can't get it to work anymore. I've tried most
things I can think of without success. For example:
  echo ${${(f)$(ps)}% *}
I would expect this to apply the '% *' substitution for each line of the
output of ps but it does it for all the lines combined.

Second, correction seems to be applied when I declare a function which can
be annoying. e.g.
zsh -f
setopt correct
les() {
zsh: correct 'les' to 'els' [nyae]? n
function>

You might consider this to be a bug but if not, is there any way of
preventing it?

Finally, disown has been left out from the new style completions for
builtins. The patch follows (although you can probably do the edit quicker
than you can apply the patch).

Thanks

Oliver Kiddle

*** Completion/Builtins/_jobs.old	Mon Jun 14 13:42:15 1999
--- Completion/Builtins/_jobs	Mon Jun 14 13:42:25 1999
***************
*** 1,3 ****
! #compdef fg jobs
  
  compgen -j -P '%'
--- 1,3 ----
! #compdef disown fg jobs
  
  compgen -j -P '%'

