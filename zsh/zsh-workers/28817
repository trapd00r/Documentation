From zsh-workers-return-28817-mason-zsh=primenet.com.au@zsh.org Mon Feb 28 17:13:46 2011
Return-Path: <zsh-workers-return-28817-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 11655 invoked by alias); 28 Feb 2011 17:13:46 -0000
Mailing-List: contact zsh-workers-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Workers List <zsh-workers.zsh.org>
List-Post: <mailto:zsh-workers@zsh.org>
List-Help: <mailto:zsh-workers-help@zsh.org>
Delivered-To: mailing list zsh-workers@zsh.org
X-Seq: 28817
Received: (qmail 16603 invoked from network); 28 Feb 2011 17:13:35 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00,DKIM_SIGNED,
	DKIM_VALID,RCVD_IN_DNSWL_LOW autolearn=ham version=3.3.1
Received-SPF: pass (ns1.primenet.com.au: SPF record at _spf.google.com designates 209.85.212.43 as permitted sender)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:sender:in-reply-to:references:date
         :x-google-sender-auth:message-id:subject:from:to:cc:content-type
         :content-transfer-encoding;
        bh=0Espf26YoAf320egGoZvzbHPfhqBNhc3nEtFNGNb9UU=;
        b=ZHRtduQb5bCFDJ5x3fkYie7XOZdfJRw5EXmn06b6WK9aP4rnDTyAR4ZW4+MQJ82Txv
         vIBMSYPM1pXv71qSIyJW6pyOzz+KdbFZjvFJ32mnfo9A/y0kQGPMg0crSjY+jw/6ubsx
         zlnTz38Hze5xSxebxvObRAYD4O6ku1bs63lZI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:in-reply-to:references:date
         :x-google-sender-auth:message-id:subject:from:to:cc:content-type
         :content-transfer-encoding;
        b=N7a4oV29H/DnQUzkhhMdhB4e7HaXDEKJWN0jHhu/QedcbKBseB0A8as5bdIvlwfLIl
         QWNkQoh68mwfsgbrqV20SgJg5wiF3IX9quQs6y7pPLa4B8aqgJct17KSwB3Ub29hI8Sg
         CAXl0tVMrHgLoOqqV+RcgPVPimR+nhUXE7brY=
MIME-Version: 1.0
Sender: nikolai.weibull@gmail.com
In-Reply-To: <AANLkTinfE4x-qg=5BMX=OLTv53i2aFFAKSAZ-hcJTbY2@mail.gmail.com>
References: <20110219133951.GA32368@ruderich.org>
	<AANLkTim_nZMNsvpCzF1Ezg0O_6xcuC5gGHrJzB0+4_Mm@mail.gmail.com>
	<20110228135851.GA23157@ruderich.org>
	<AANLkTinfE4x-qg=5BMX=OLTv53i2aFFAKSAZ-hcJTbY2@mail.gmail.com>
Date: Mon, 28 Feb 2011 18:07:15 +0100
X-Google-Sender-Auth: Ez5B2LH8o3snXTpObU-ZlyY7J6A
Message-ID: <AANLkTikiXX-aurZ4YUGg+f8=cM=z=-Uj_w2nycEQFVSL@mail.gmail.com>
Subject: Re: Updated _git completion (not attached)
From: Nikolai Weibull <now@bitwi.se>
To: Wayne Davison <wayned@users.sourceforge.net>
Cc: Simon Ruderich <simon@ruderich.org>, Zsh Workers <zsh-workers@zsh.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Mon, Feb 28, 2011 at 17:33, Wayne Davison
<wayned@users.sourceforge.net> wrote:
>>
>> On Sat, Feb 19, 2011 at 02:39:57PM +0100, Simon Ruderich wrote:
>> - It seems like git checkout doesn't list only modified files but all
>> files.

> One thing to keep in mind is that it is right for it to list all
> (known-to-git) files after a tag or hash, since the user may want to chan=
ge
> the file to a prior state. =C2=A0It is only the default "git checkout FIL=
E" that
> only really has meaning for changed files.

> And, I had thought for sure that
> git didn't allow filenames after git checkout -f (and indeed, the current
> completion code doesn't complete files after it), but in my testing of gi=
t
> 1.7.1, it accepted files to force w/o complaint.

If no tree-ish is given it uses HEAD as the tree-ish to look for files
in.  Perhaps it should only list files modified between HEAD and the
working tree when the tree-ish is HEAD.

> For instance, "git checkout -f zsh-4.3.9 ChangeLog" changes to that versi=
on,
> and if the file is tweaked and followed by "git checkout -f ChangeLog", t=
he
> zsh-4.3.9 content is restored. =C2=A0In both cases it seems to me that th=
e -f was
> superfluous, but allowed (since the commands do the same thing w/o the -f=
).

I don=E2=80=99t see how -f should change anything in the completion.

