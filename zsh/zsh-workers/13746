From zsh-workers-return-13746-mason-zsh=primenet.com.au@sunsite.dk Sun Mar 25 02:48:03 2001
Return-Path: <zsh-workers-return-13746-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 28194 invoked from network); 25 Mar 2001 02:48:02 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 25 Mar 2001 02:48:02 -0000
Received: (qmail 19291 invoked by alias); 25 Mar 2001 02:47:53 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 13746
Received: (qmail 19280 invoked from network); 25 Mar 2001 02:47:52 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <1010325024703.ZM4864@candle.brasslantern.com>
Date: Sun, 25 Mar 2001 02:47:02 +0000
X-Mailer: Z-Mail (5.0.0 30July97)
To: zsh-workers@sunsite.dk
Subject: PATCH: Tests to go with 13492
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Honesty is the best policy.  I think I'm done fooling with the tests for now.

Index: Test/13parameter.ztst
===================================================================
--- Test/13parameter.ztst	2001/03/24 23:38:47	1.2
+++ Test/13parameter.ztst	2001/03/25 02:17:14
@@ -491,3 +489,40 @@
 >1
 >a
 > b
+
+  set If "this test fails" "we have broken" the shell again
+  print -l ${1+"$@"}
+0:Regression test of ${1+"$@"} bug
+>If
+>this test fails
+>we have broken
+>the
+>shell
+>again
+
+  set If "this test fails" "we have broken" the shell again
+  print -l "${(A)foo::=$@}"
+  print -l $foo
+0:Regression test of "${(A)foo=$@}" bug
+>If this test fails we have broken the shell again
+>If
+>this test fails
+>we have broken
+>the
+>shell
+>again
+
+  set If "this test fails" maybe "we have finally fixed" the shell
+  print -l ${=1+"$@"}
+0:Regression test of unfixed ${=1+"$@"} bug
+>If
+>this
+>test
+>fails
+>maybe
+>we
+>have
+>finally
+>fixed
+>the
+>shell

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

