From zsh-workers-return-8612-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Nov 10 17:27:12 1999
Return-Path: <zsh-workers-return-8612-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 21268 invoked from network); 10 Nov 1999 17:27:11 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 10 Nov 1999 17:27:11 -0000
Received: (qmail 22177 invoked by alias); 10 Nov 1999 17:27:06 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 8612
Received: (qmail 22170 invoked from network); 10 Nov 1999 17:27:06 -0000
To: Zsh Task Force <zsh-workers@sunsite.auc.dk>
Subject: Portabilities issues of the completion
From: Akim Demaille <akim@epita.fr>
Date: 10 Nov 1999 18:29:38 +0100
Message-ID: <mv4hfiuuuf1.fsf@nostromo.lrde.epita.fr>
Lines: 20
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Sender: DEMAILLE Akim <akim@epita.fr>


Sorry,

My previous mail contains a mistake: use ?, not \?.  Though it should
not make differences, AFAICT.

        Akim

share/zsh/functions # diff -u _make.orig _make                   nostromo 18:16
--- _make.orig  Wed Nov 10 18:13:37 1999
+++ _make       Wed Nov 10 18:14:02 1999
@@ -22,7 +22,7 @@
   [[ -n "$file" ]] &&
     compadd "$expl[@]" - \
       $(awk '/^[a-zA-Z0-9][^\/ \t]+:/ {print $1}
-            /^\.include  *<bsd\.port\.(subdir\.|pre\.|)mk>/ || /^\.include  *".*mk\/bsd\.pkg\.(subdir\.|)mk"/ {
+            /^\.include  *<bsd\.port\.(subdir\.|pre\.)?mk>/ || /^\.include  *".*mk\/bsd\.pkg\.(subdir\.)\?mk"/ {
               print "fetch fetch-list extract patch configure build install reinstall deinstall package describe checkpatch checksum makesum" }' \
            FS=: $file) && ret=0
   (( ret )) && { compset -P 1 '*\='; _files }

