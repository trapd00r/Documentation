From zsh-workers-return-14933-mason-zsh=primenet.com.au@sunsite.dk Fri Jun 15 13:09:55 2001
Return-Path: <zsh-workers-return-14933-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 21155 invoked from network); 15 Jun 2001 13:09:54 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 15 Jun 2001 13:09:54 -0000
Received: (qmail 3353 invoked by alias); 15 Jun 2001 13:09:25 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 14933
Received: (qmail 3313 invoked from network); 15 Jun 2001 13:09:20 -0000
X-Envelope-Sender-Is: Andrej.Borsenkow@mow.siemens.ru (at relayer david.siemens.de)
From: "Andrej Borsenkow" <Andrej.Borsenkow@mow.siemens.ru>
To: "ZSH Workers Mailing List" <zsh-workers@sunsite.dk>
Subject: core dump after in zftp open after zftp close
Date: Fri, 15 Jun 2001 17:09:40 +0400
Message-ID: <004801c0f59c$6f85b1f0$21c9ca95@mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
Importance: Normal


bor@itsrm2% zsh
bor@itsrm2% zmodload zsh/net/tcp
bor@itsrm2% zmodload zsh/zftp
bor@itsrm2% zftp open localhost
bor@itsrm2% zftp close
bor@itsrm2% zftp open localhost
zsh: bus error (core dumped)  zsh
bor@itsrm2% dbx =zsh core
dbx V2.4C00 SINIX (Jun 19 2000)
Copyright (C) Siemens AG 1998
Base:   BSD, Copyright (C) The Regents of the University of California
All rights reserved
reading symbolic information ...
Current signal in memory image is: SIGBUS (10) (non-existent physical
address, faulting address = 0x0000000c)
needed shared libraries:
        /usr/lib/tcpip.so
        /tools/lib/zsh/4.1.0-dev-0/zsh/zftp.so
        /tools/lib/zsh/4.1.0-dev-0/zsh/net/tcp.so
        /tools/lib/zsh/4.1.0-dev-0/zsh/parameter.so
        /tools/lib/zsh/4.1.0-dev-0/zsh/zutil.so
        /tools/lib/zsh/4.1.0-dev-0/zsh/complist.so
        /tools/lib/zsh/4.1.0-dev-0/zsh/complete.so
        /tools/lib/zsh/4.1.0-dev-0/zsh/zle.so
        /usr/lib/libc.so.1
        /lib/libnsl.so
        /lib/libdl.so
        /lib/libsocket.so
... reading /usr/lib/tcpip.so
... reading /tools/lib/zsh/4.1.0-dev-0/zsh/zftp.so
... reading /tools/lib/zsh/4.1.0-dev-0/zsh/net/tcp.so
... reading /tools/lib/zsh/4.1.0-dev-0/zsh/parameter.so
... reading /tools/lib/zsh/4.1.0-dev-0/zsh/zutil.so
... reading /tools/lib/zsh/4.1.0-dev-0/zsh/complist.so
... reading /tools/lib/zsh/4.1.0-dev-0/zsh/complete.so
... reading /tools/lib/zsh/4.1.0-dev-0/zsh/zle.so
... reading /usr/lib/libc.so.1
... reading /lib/libnsl.so
... reading /lib/libdl.so
... reading /lib/libsocket.so
[using memory image in core]
32bit dbx - 32bit program
Type 'help' for help
(dbx32) where
_filbuf() at 0xc04ad60
zfgetline(ln = "", lnsize = 255, tmout = 60), line 597 in
"/tools/src/zsh/Src/Modules/zftp.c"
zfgetmsg(), line 713 in "/tools/src/zsh/Src/Modules/zftp.c"
zftp_test(name = "zftp test", args = (nilv), flags = 0), line 2220 in
"/tools/src/zsh/Src/Modules/zftp.c"
bin_zftp(name = "zftp", args = 0x789844, ops = "", func = 0), line 2993 in
"/tools/src/zsh/Src/Modules/zftp.c"
$b125, line 367 in "/tools/src/zsh/Src/builtin.c"
execbuiltin(args = 0x7897f0, bn = 0xd40f9ac), line 367 in
"/tools/src/zsh/Src/builtin.c"
$b454, line 2287 in "/tools/src/zsh/Src/exec.c"
execcmd(state = 0x7ffeeca4, input = 0, output = 0, how = 18, last1 = 2),
line 2287 in "/tools/src/zsh/Src/exec.c"
execpline2(state = 0x7ffeeca4, pcode = 387, how = 18, input = 0, output = 0,
last1 = 0), line 1192 in "/tools/src/zsh/Src/exec.c"
execpline(state = 0x7ffeeca4, slcode = 5122, how = 18, last1 = 0), line 982
in "/tools/src/zsh/Src/exec.c"
execlist(state = 0x7ffeeca4, dont_change_job = 0, exiting = 0), line 826 in
"/tools/src/zsh/Src/exec.c"
execode(p = 0x789798, dont_change_job = 0, exiting = 0), line 729 in
"/tools/src/zsh/Src/exec.c"
$b501, line 160 in "/tools/src/zsh/Src/init.c"
.init.loop(toplevel = 1, justonce = 0), line 160 in
"/tools/src/zsh/Src/init.c"
zsh_main(argc = 1, argv = 0x7ffeeddc), line 1209 in
"/tools/src/zsh/Src/init.c"
.main.main(argc = 1, argv = 0x7ffeeddc), line 37 in
"/tools/src/zsh/Src/main.c"
__start() at 0x40a144
(dbx32)

