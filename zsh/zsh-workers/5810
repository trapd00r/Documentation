From zsh-workers-return-5810-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Mar 15 11:47:35 1999
Return-Path: <zsh-workers-return-5810-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 27142 invoked from network); 15 Mar 1999 11:47:34 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 15 Mar 1999 11:47:34 -0000
Received: (qmail 17793 invoked by alias); 15 Mar 1999 11:47:15 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 5810
Received: (qmail 17786 invoked from network); 15 Mar 1999 11:47:13 -0000
Date: Mon, 15 Mar 1999 12:47:02 +0100 (MET)
Message-Id: <199903151147.MAA23141@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: "Andrej Borsenkow"'s message of Mon, 15 Mar 1999 14:33:22 +0300
Subject: Re: zsh-3.1.2-pws-12: append slash in cd completion weirdness with globcomplete


Andrej Borsenkow wrote:

> Slash is autoappended if directory in in current directory but not if it is
> in cdpath. E.g.:
> 
> bor@itsrm2:~%> cd samba-2.0.3    (/tools/src/...)
> 
> but
> 
> bor@itsrm2:~%> cd save/          (where save is subdir of current)
> 
> this all with new completion stuff 'course. Unmodified from pws-12 if
> globcomplete is unset - it's O.K.

Are you sure there is no other dir starting with `samba-2.0.3'
reachable through `cdpath'? At least, it works for me.

> P.S. Looking at _cd I'd say, it is the subdir case that is wrong. Why does
> _path_files decide for me, if I want to use any magical suffix? If anybody
> likes it this way - let him set user preferences.
> 
> Again, any function from Core must do _only_ what it is told explicitly. It
> should _not_ assume anything about user's intention. So, the correct way in
> above example is to use
> 
> _path_files -/ -W cdpath -S/ -q
> 
> in _cd.

I don't thnik so, at least when we speak about `_path_files' since
that completes only file names and there the slash is not only useful
to have, but it's also the way builtin completion behaves.

Otherwise, I'd liek to mention my suggestion about `style'-entries in
`compconfig' again. Could you sent a list of all the things the
example functions do that you don't like? That way we could probably
come up with a list of things we'd like to make user-configurable.

Bye
 Sven


--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

