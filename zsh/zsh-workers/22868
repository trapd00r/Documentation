From zsh-workers-return-22868-mason-zsh=primenet.com.au@sunsite.dk Wed Oct 11 19:23:09 2006
Return-Path: <zsh-workers-return-22868-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 6097 invoked from network); 11 Oct 2006 19:23:08 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.6 (2006-10-03) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=BAYES_00,FORGED_RCVD_HELO 
	autolearn=ham version=3.1.6
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 11 Oct 2006 19:23:08 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 58238 invoked from network); 11 Oct 2006 19:23:00 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 11 Oct 2006 19:23:00 -0000
Received: (qmail 9846 invoked by alias); 11 Oct 2006 19:22:53 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 22868
Received: (qmail 9835 invoked from network); 11 Oct 2006 19:22:53 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 11 Oct 2006 19:22:53 -0000
Received: (qmail 57533 invoked from network); 11 Oct 2006 19:22:53 -0000
Received: from mailfe07.tele2.fr (HELO swip.net) (212.247.154.204)
  by a.mx.sunsite.dk with SMTP; 11 Oct 2006 19:22:52 -0000
X-T2-Posting-ID: mBXjJ9CYMpI3HGlT2s4LT8j3JzBVs7ioB0ePn7y7rgg=
X-Cloudmark-Score: 0.000000 []
Received: from [80.170.35.111] (HELO localhost)
  by mailfe07.swip.net (CommuniGate Pro SMTP 5.0.8)
  with ESMTPS id 299338655 for zsh-workers@sunsite.dk; Wed, 11 Oct 2006 21:22:51 +0200
Date: Wed, 11 Oct 2006 21:22:50 +0200
From: "arno." <arno.@no-log.org>
To: zsh-workers@sunsite.dk
Subject: bug: ${_comps[firefox]} is _webbrowser instead of _mozilla
Message-ID: <20061011192250.GA30802@localhost.localdomain>
MIME-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-sha1;
	protocol="application/pgp-signature"; boundary="LQksG6bCIzRHxTLp"
Content-Disposition: inline
User-Agent: Mutt/1.5.13 (2006-08-11)


--LQksG6bCIzRHxTLp
Content-Type: text/plain; charset=iso-8859-15
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

Hi,
there is completion file _mozilla for mozilla and firefox.
Unfortunately, that completion is not registered for firefox by default.

print ${_comps[firefox]}
_webbrowser

That's because there is a completion Unix/_webbrowser with=20

#compdef [...] firefox [...]
that register _webbrowser for firefox
when it comes to X/_mozilla=20
#compdef [...] firefox
that function cannot be registered for firefox because compdef is called=20
with '-n'
compinit line 478: compdef -na "${_i_name}" "${_i_line[@]}"

So may be, firefox should be removed from _webbrowser

arno


? _webbrowser.patch
Index: Completion/Unix/Command/_webbrowser
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_webbrowser,v
retrieving revision 1.7
diff -r1.7 _webbrowser
1c1
< #compdef amaya arena chimera dillo express firefox galeon grail gzilla ho=
tjava konqueror light mmm Mosaic netrik opera phoenix retawq skipstone www =
xmosaic zen
---
> #compdef amaya arena chimera dillo express galeon grail gzilla hotjava ko=
nqueror light mmm Mosaic netrik opera phoenix retawq skipstone www xmosaic =
zen

--LQksG6bCIzRHxTLp
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: Digital signature
Content-Disposition: inline

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.5 (GNU/Linux)

iD8DBQFFLUSJiH9aBScBsrMRAjOUAKCIq46OrnDRVSStBb8bgx5klTxc7QCghRwq
Rmqn01nTSCxBqfWtSOLDZXg=
=TRGq
-----END PGP SIGNATURE-----

--LQksG6bCIzRHxTLp--

