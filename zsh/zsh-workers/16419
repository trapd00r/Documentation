From zsh-workers-return-16419-mason-zsh=primenet.com.au@sunsite.dk Tue Jan 08 17:08:03 2002
Return-Path: <zsh-workers-return-16419-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8218 invoked from network); 8 Jan 2002 17:08:03 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 8 Jan 2002 17:08:03 -0000
Received: (qmail 26393 invoked by alias); 8 Jan 2002 17:07:56 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 16419
Received: (qmail 26381 invoked from network); 8 Jan 2002 17:07:55 -0000
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <1020108170749.ZM11234@candle.brasslantern.com>
Date: Tue, 8 Jan 2002 17:07:49 +0000
In-Reply-To: <15419.3373.813052.323265@wischnow.berkom.de>
Comments: In reply to Sven Wischnowsky <wischnow@berkom.de>
        "Re: _cvs(&_arguments) bug" (Jan  8,  4:15pm)
References: <20011228055923.2869.qmail@web10402.mail.yahoo.com> 
	<15419.3373.813052.323265@wischnow.berkom.de>
X-Mailer: Z-Mail (5.0.0 30July97)
To: zsh-workers@sunsite.dk
Subject: Re: _cvs(&_arguments) bug
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Jan 8,  4:15pm, Sven Wischnowsky wrote:
}
} Felix Rosencrantz wrote:
} 
} > Though, I think _arguments should also be modified to provide a way to
} > say that there is an end to the flags being given to _arguments, and the
} > specifications are starting.  It's an easy mistake to make.
} 
} Yes, I've been thinking the same some time ago, but couldn't find a
} good `marker' that can be used to separate the _arguments-options from
} the specifications.  Any ideas?

I always wondered about the wisdom of making `--' mean something other
than "end of the _arguments options."

Just pick another option character; -e or -E or -: or some such.

And document it in a less-well-hidden spot.  The -A might be less likely to
cause such problems with the following patch:

Index: Doc/Zsh/compsys.yo
===================================================================
RCS file: /extra/cvsroot/zsh/zsh-4.0/Doc/Zsh/compsys.yo,v
retrieving revision 1.13
diff -c -r1.13 compsys.yo
--- Doc/Zsh/compsys.yo	2002/01/07 15:18:21	1.13
+++ Doc/Zsh/compsys.yo	2002/01/08 17:05:05
@@ -2955,7 +2955,7 @@
 different name for the argument context field.
 )
 findex(_arguments)
-item(tt(_arguments) var(spec) ...)(
+item(tt(_arguments) [ tt(-ACS) ] [ tt(-O) var(name) ] [ tt(-M) var(matchspec) ] var(spec) ...)(
 This function can be used to complete words on the line by describing the
 options and arguments which may be passed to the command for which
 completion is being performed.  The description is given as arguments to


-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

