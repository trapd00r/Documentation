From zsh-users-return-4741-mason-zsh=primenet.com.au@sunsite.dk Sat Mar 09 03:14:08 2002
Return-Path: <zsh-users-return-4741-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 15511 invoked from network); 9 Mar 2002 03:14:08 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 9 Mar 2002 03:14:08 -0000
Received: (qmail 25722 invoked by alias); 9 Mar 2002 03:13:52 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4741
Received: (qmail 25711 invoked from network); 9 Mar 2002 03:13:52 -0000
X-Authentication-Warning: verso.st.jyu.fi: juhtolv set sender to juhtolv@st.jyu.fi using -f
Date: Sat, 9 Mar 2002 05:12:50 +0200
From: Juhapekka Tolvanen <juhtolv@st.jyu.fi>
To: zsh-users@sunsite.dk, Sven Guckes <guckes@math.fu-berlin.de>, jw@cs.fau.de,
   ric@giccs.georgetown.edu
Subject: Titlebar-handling with zsh and screen
Message-ID: <20020309051250.A30021@verso.st.jyu.fi>
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
User-Agent: Mutt/1.2.5i
Organization: =?iso-8859-1?Q?University_of_Jyv=E4skyl=E4?=
X-URL: http://www.cc.jyu.fi/~juhtolv/
X-Mailer-URL: http://www.mutt.org/
X-Editor: Vim http://www.vim.org/
X-Operating-System: Linux 2.4.7-10 on an i686


Maybe this is already mentioned in soon-to-be-released new version of
"Xterm-Title mini-HOWTO":

http://cns.georgetown.edu/~ric/howto/Xterm-Title/

I just added handling of titlebar uner screen to my zsh-configs. I had
to add some stuff to my ~/.screenrc because of that, so from now on that
file is part of my shellrc-tarball. You can get it right here:

http://www.cc.jyu.fi/~juhtolv/configs/shellrc/

>From this doc:

http://www4.informatik.uni-erlangen.de/~jnweiger/screen-faq.html

I found this:

---- Clip ----
if ($TERM == screen) then
        set prompt="%{ESC_#$WINDOW %m:%c3ESC\\%}%h (%m:%.)%# "
else
        set prompt="%h (%m:%.)%# "
endif

(Note that ESC means a real ESC (octal 033) chars).
---- Clip ----

Unfortunately that setting is for certain distorted image of shell. That
shell is known as tcsh and it is really b0rken. Therefore I had to
create such settings for zsh myself.

So, please download my shellconfigs and check out files dot.zshrc and
dot.screenrc and try to find bugs or other errors. They seem to work for
me, but I am not very sure, why on earth they work.

P.S: I do not subscribe to zsh-mailinglists, so please Cc: to me your
replies. And I do not subscribe to mailinglists of screen, so please
forward this to that kind of lists.


-- 
Juhapekka "naula" Tolvanen * * * Univ. of Jyväskylä * * * juhtolv@st.jyu.fi
http://www.st.jyu.fi/~juhtolv/index.html * * * * "STRAIGHT BUT NOT NARROW!"
"ei, en elättele kuvitelmia. on arjen koura kova kohtaan keltanokkia."  CMX

