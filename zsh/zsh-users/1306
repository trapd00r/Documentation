From zsh-workers-request@math.gatech.edu Mon Feb 02 16:18:24 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 24671 invoked from network); 2 Feb 1998 16:18:23 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 2 Feb 1998 16:18:23 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id LAA10114;
	Mon, 2 Feb 1998 11:01:06 -0500 (EST)
Resent-Date: Mon, 2 Feb 1998 10:59:49 -0500 (EST)
Message-ID: <19980202075821.18238@sco.com>
Date: Mon, 2 Feb 1998 07:58:21 -0800
From: "Adam R. Paul" <adamp@sco.com>
To: "Erwin J. van Eijk" <eijk@huygens.org>
Cc: zsh-users@math.gatech.edu
Subject: Re: Compctl question
References: <199802021257.NAA01763@hyper.huygens.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 0.88
In-Reply-To: <199802021257.NAA01763@hyper.huygens.org>; from Erwin J. van Eijk on Mon, Feb 02, 1998 at 01:57:12PM +0100
Resent-Message-ID: <"655S-3.0.yS2.qrUrq"@math>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/1306
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

On 02 Feb, 1998, Erwin J. van Eijk put forth:
> Hi
> 
> This is in the manpage somewhere, but I can't quite get a fix on how
> to do it.
> 
> I have a command named really, which has the following cmd line:
> 
> really [-u username] [-s shell] command
> 
> And I want to compose a compctl for it, but I can't quite do it.

Something like:

getshells() {
	reply=($(sed '/#.*/d' /etc/shells))
}
compctl -l '' -x 'c[-1,-u]' -u -x 'c[-1,-s]' -K getshells -- really

should work (it appears to for me at least...)

_Adam

-----
Adam R. Paul    - adamp@sco.com 
SCO Engineering - from std import disclaimer

Oahagggoo.  Iongah agbh ouht chmmaeao thg thm'eiagg.  

