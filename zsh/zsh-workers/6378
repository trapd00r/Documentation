From zsh-workers-return-6378-mason-zsh=primenet.com.au@sunsite.auc.dk Mon May 31 08:51:51 1999
Return-Path: <zsh-workers-return-6378-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2438 invoked from network); 31 May 1999 08:51:47 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 31 May 1999 08:51:47 -0000
Received: (qmail 10103 invoked by alias); 31 May 1999 08:51:28 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 6378
Received: (qmail 10091 invoked from network); 31 May 1999 08:51:25 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <990531085121.ZM4364@candle.brasslantern.com>
Date: Mon, 31 May 1999 08:51:20 +0000
X-Mailer: Z-Mail (5.0.0 30July97)
To: zsh-workers@sunsite.auc.dk
Subject: Patch available for 3.0.6-pre-3
MIME-Version: 1.0
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

I've made up another pre-patch for 3.0.6, which carries the version number
3.0.6-pre-3.  The set is now:
        ftp://ftp.brasslantern.com/pub/zsh/zsh-3.0.5-3.0.6-pre-0.diff
        ftp://ftp.brasslantern.com/pub/zsh/zsh-3.0.6-pre-0-pre-1.diff
        ftp://ftp.brasslantern.com/pub/zsh/zsh-3.0.6-pre-1-pre-2.diff
        ftp://ftp.brasslantern.com/pub/zsh/zsh-3.0.6-pre-2-pre-3.diff

Remember that after applying patches to 3.0.5, you must "touch stamp-h.in"
before running configure to prevent make from attempting to rerun autoconf
and autoheader.

Checksums on the latest diff:

(BSD)  23656    29
(SYSV) 5822 58 zsh-3.0.6-pre-2-pre-3.diff

This patch is much smaller than the others, and includes bugfixes only.
Except for the several items noted below, I believe the code to be ready
for release as 3.0.6.  Things that still need to be addressed:

* I haven't done anything with Greg Badros's color completion patches;
  I was in the middle of working on this when my disk was trashed and
  I lost it all.  Greg, if you could redo your patch against -pre-3 it
  would be of help to me.

* I haven't put in Wayne Davison's history changes (6236), and I must
  confess I'm inclined not to, except for the bug fixes.  I'm also not
  sure what state it was all left in after the on-list discussion with
  PWS.  Wayne, if you could redo your patch against -pre-3 it'd help.

* I have yet to assess the whole string of articles on pipelines and
  tty process groups (6240, 6257, 6258, 6285, 6302) for applicability
  to 3.0.6.

* I'm waiting for opinions (particularly PWS's) on whether to put in the
  parameter substitution change from 6335.

Here are the new ChangeLog entries since -pre-2:

+ 1999-05-31 07:57  schaefer
+ 
+ 	* Src/system.h: Pick up from 3.1.5 the #define-renamings of a few
+ 	zsh global symbols to avoid name conflicts with system library
+       functions on some platforms.
+ 
+ 1999-05-31 03:31  Bart Schaefer <schaefer@zsh.org>
+ 
+ 	* Src/zle_tricky.c: Fix display bug when listing completion
+ 	matches; Sven, zsh-workers 6247. Fix for duplicated last character
+ 	when completing inside $(...); Sven, zsh-workers 6344 (as
+ 	corrected by zsh-workers 6351).
+ 
+ 	* Src/exec.c: Make ERREXIT behavior consistent with non-broken
+       Bourne shells; PWS in zsh-workers 6314.
+ 
+ 	* Src/builtin.c: Use the correct printf() format when
+ 	RLIM_T_IS_UNSIGNED; adapted from PWS's patch in zsh-workers 6272,
+ 	but does not include "long long" support. Change "typeset -U" to
+ 	work on the colon-array version of linked parameters; PWS in
+ 	zsh-workers 6294.
+ 
+ 	* Src/globals.h, Src/zle_refresh.c: Relocate the new globals from
+ 	zsh-workers 6211 into globals.h, as suggested by Wayne Davison in
+       6225.
+ 
+ 1999-05-31 01:18  Bart Schaefer <schaefer@zsh.org>
+ 
+ 	* Src/zle_main.c: Additional typeahead repairs from PWS in
+       zsh-workers 6224.
+ 
+ 1999-05-04 18:06  Bart Schaefer <schaefer@zsh.org>
+ 
+ 	* Src/zle_hist.c, Src/zle_main.c, Src/zle_misc.c,
+ 	Src/zle_refresh.c, Src/zle_tricky.c, Src/zle_utils.c, Src/zle_vi.c:
+ 	Clear the completion listing upon starting assorted zle commands;
+       adapted from 3.1.5 by Sven in zsh-workers 6211.
+ 
+ 	* config.h.in, configure: Improved typeahead behavior on all
+       systems; PWS, 6205 (plus rerun autoconf).
+ 
+ 	* Src/exec.c: Use waitforpid() in getoutput() to be sure we don't
+ 	hang on child_suspend(), which can happen if all children are
+       reaped during handling of a user-defined signal trap.
+ 
+ 1999-05-03 23:53  Bart Schaefer <schaefer@zsh.org>
+ 
+ 	* acconfig.h, configure.in, Src/zle_main.c: Improved typeahead
+       behavior on all systems; PWS, 6205.
+ 
+ 1999-05-03 09:49  Bart Schaefer <schaefer@zsh.org>
+ 
+ 	* Src/utils.c: Setopt shouldn't complain about setting an option to
+ 	its current value; PWS, 6193.
+ 
+ 1999-04-30 10:28  Bart Schaefer <schaefer@zsh.org>
+ 
+ 	* Src/glob.c: Expansion of ~ and other assorted globbing flags via
+ 	globsubst or ${~param} should not depend upon the extendedglob
+ 	option; PWS, 6165.
+ 
+ 1999-04-30 05:42  Bart Schaefer <schaefer@zsh.org>
+ 
+ 	* Src/utils.c: Copy the window size from the shttyinfo structure
+ 	upon SIGWINCH, as per zsh-workers 4447.

(BTW, all those times are GMT, which is how CVS stores dates.  I didn't
really do quite that much work between 3 and 7 AM.)

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

