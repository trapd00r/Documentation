From zsh-users-return-10898-mason-zsh=primenet.com.au@sunsite.dk Wed Oct 25 08:53:15 2006
Return-Path: <zsh-users-return-10898-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8909 invoked from network); 25 Oct 2006 08:53:12 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.7 (2006-10-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00,
	FORGED_RCVD_HELO autolearn=ham version=3.1.7
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 25 Oct 2006 08:53:12 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 52974 invoked from network); 25 Oct 2006 08:53:02 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 25 Oct 2006 08:53:02 -0000
Received: (qmail 20878 invoked by alias); 25 Oct 2006 08:52:50 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 10898
Received: (qmail 20869 invoked from network); 25 Oct 2006 08:52:49 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 25 Oct 2006 08:52:49 -0000
Received: (qmail 51421 invoked from network); 25 Oct 2006 08:52:49 -0000
Received: from goliath.siemens.de (192.35.17.28)
  by a.mx.sunsite.dk with SMTP; 25 Oct 2006 08:52:47 -0000
Received: from mail3.siemens.de (localhost [127.0.0.1])
	by goliath.siemens.de (8.12.6/8.12.6) with ESMTP id k9P8qiit023215
	for <zsh-users@sunsite.dk>; Wed, 25 Oct 2006 10:52:44 +0200
Received: from mchp7wta.ww002.siemens.net (mchp7wta.ww002.siemens.net [139.25.131.193])
	by mail3.siemens.de (8.12.6/8.12.6) with ESMTP id k9P8qi9b027901
	for <zsh-users@sunsite.dk>; Wed, 25 Oct 2006 10:52:44 +0200
Received: from MCHP7R6A.ww002.siemens.net ([139.25.131.164]) by mchp7wta.ww002.siemens.net with Microsoft SMTPSVC(6.0.3790.1830);
	 Wed, 25 Oct 2006 10:52:43 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: Why do I get a "bad filedescriptor" here? (redirection problem)
Date: Wed, 25 Oct 2006 10:52:42 +0200
Message-ID: <F7507090F1A72B43A51444325DFBE43101426B12@MCHP7R6A.ww002.siemens.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Why do I get a "bad filedescriptor" here? (redirection problem)
thread-index: Acb4Eu7E8mqlozeHRVmYvW2IfrkSzg==
From: "Com MN PG P E B Consultant 3" <mn-pg-p-e-b-consultant-3.com@siemens.com>
To: "zsh-users Mailinglist" <zsh-users@sunsite.dk>
X-OriginalArrivalTime: 25 Oct 2006 08:52:43.0885 (UTC) FILETIME=[EF8EC9D0:01C6F812]

zsh 4.0.7

$ ls >& -
/bin/ls: write error: Bad file descriptor
$ cat >&- <<<d
cat: standard output: Bad file descriptor
$ ls >/dev/null
$ echo x >& -
$=20

Why do I get a "bad file descriptor" in the first two cases?
Note that closing stdout with echo works fine, as does
(of course) redirection of ls output to the bit bucket.

And in case this matters:

$ type ls
ls is an alias for /bin/ls --almost-all --color --classify
$ type cat
cat is /bin/cat

Ronald
--=20
Ronald Fischer (phone +49-89-63676431)
mailto:mn-pg-p-e-b-consultant-3.com@siemens.com

