From zsh-users-return-10376-mason-zsh=primenet.com.au@sunsite.dk Thu Jun 15 18:41:43 2006
Return-Path: <zsh-users-return-10376-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 15 invoked from network); 15 Jun 2006 18:41:41 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.3 (2006-06-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00,
	FORGED_RCVD_HELO autolearn=ham version=3.1.3
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 15 Jun 2006 18:41:41 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 7265 invoked from network); 15 Jun 2006 18:41:35 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 15 Jun 2006 18:41:35 -0000
Received: (qmail 29917 invoked by alias); 15 Jun 2006 18:41:24 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 10376
Received: (qmail 29904 invoked from network); 15 Jun 2006 18:41:23 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 15 Jun 2006 18:41:23 -0000
Received: (qmail 5761 invoked from network); 15 Jun 2006 18:41:23 -0000
Received: from batman.mns.ru (80.70.224.14)
  by a.mx.sunsite.dk with SMTP; 15 Jun 2006 18:41:22 -0000
Received: from lan-228-198.users.mns.ru ([80.70.228.198])
  by batman.mns.ru with esmtp; Thu, 15 Jun 2006 22:41:21 +0400
  id 00019A07.4491A9D1.00007C04
From: Konstantin Sobolev <kos@supportwizard.com>
Reply-To: kos@supportwizard.com
Organization: SupportWizard
To: Peter Stephenson <pws@csr.com>
Subject: Re: java class names completion widget
Date: Thu, 15 Jun 2006 22:41:18 +0400
User-Agent: KMail/1.9.3
Cc: Zsh users list <zsh-users@sunsite.dk>
References: <200606052240.27880.kos@supportwizard.com> <200606151938.36646.kos@supportwizard.com> <200606151619.k5FGJBFb022067@news01.csr.com>
In-Reply-To: <200606151619.k5FGJBFb022067@news01.csr.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="koi8-r"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200606152241.18524.kos@supportwizard.com>

On Thursday 15 June 2006 20:19, Peter Stephenson wrote:

> _expand_java_path now contains:
>
>   #autoload
>   local MATCH MBEGIN MEND pref suf
>
>   pref="**/${PREFIX//(#m)[[:upper:]]/${MATCH}[^[:upper:]]#}"
>   suf="${SUFFIX//(#m)[[:upper:]]/${MATCH}[^[:upper:]]#}*.java"
>
>   local expl
>   local -a exp
>   exp=(${~pref}${~suf}(N))
>   if (( ${#exp} )); then
>     _wanted java-files expl 'java source file (search)' \
>       compadd -U -a exp
>   else
>     return 1
>   fi
>

Great!
It took me around 2 hours to understand how these 12 lines work, and I'm still 
a bit confused by the magic happening behind _wanted :)

Many thanks

-- 
/KoS
* I Print on Steel with an Industrial Laser			      

