From zsh-workers-return-17101-mason-zsh=primenet.com.au@sunsite.dk Wed May 08 16:25:18 2002
Return-Path: <zsh-workers-return-17101-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 27105 invoked from network); 8 May 2002 16:25:16 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 8 May 2002 16:25:16 -0000
Received: (qmail 16783 invoked by alias); 8 May 2002 16:25:02 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 17101
Received: (qmail 16643 invoked from network); 8 May 2002 16:24:59 -0000
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <1020508153855.ZM7837@candle.brasslantern.com>
Date: Wed, 8 May 2002 15:38:55 +0000
In-Reply-To: <15577.7296.682622.411849@wischnow.berkom.de>
Comments: In reply to Sven Wischnowsky <wischnow@berkom.de>
        "RE: completion in quotes - " vs ' - no suffix added" (May  8,  2:39pm)
References: <15576.54689.459113.686818@wischnow.berkom.de> 
	<6134254DE87BD411908B00A0C99B044F02E89A73@mowd019a.mow.siemens.ru> 
	<15577.7296.682622.411849@wischnow.berkom.de>
X-Mailer: Z-Mail (5.0.0 30July97)
To: Sven Wischnowsky <wischnow@berkom.de>, zsh-workers@sunsite.dk
Subject: Re: completion in quotes - " vs ' - no suffix added
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On May 8,  2:39pm, Sven Wischnowsky wrote:
} Subject: RE: completion in quotes - " vs ' - no suffix added
}
} 
} Borsenkow Andrej wrote:
} 
} > ...
} > 
} > It does not for me. It is the same ` vs " thing:
} > 
} > bor@itsrm2% zsh -c "cd ./a\\ b
} > Completing directory
} > a\\ b      c\\ d      uudecode/


} So it does for you, too.


Sven, what you're missing is that although the result is correct after
you execute the command, the completion is not correct while the command
line is being built.  That is, if the completion system is going to turn
the file name `a\ b' into the string `"a\\ b"' when it inserts it on the
line, then `compset -q' should also UNDO the backslash-doubling again
when the quote character is a double-quote, so that it's possible to
correctly complete the file path on the second and subsequent calls to
the completion system.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

