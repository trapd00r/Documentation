From zsh-workers-return-9309-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Jan 13 18:39:59 2000
Return-Path: <zsh-workers-return-9309-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 7477 invoked from network); 13 Jan 2000 18:39:57 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 13 Jan 2000 18:39:57 -0000
Received: (qmail 6369 invoked by alias); 13 Jan 2000 18:39:51 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 9309
Received: (qmail 6359 invoked from network); 13 Jan 2000 18:39:51 -0000
To: zsh-workers@sunsite.auc.dk (Zsh hackers list)
Subject: PATCH: Beep.
Date: Thu, 13 Jan 2000 18:41:55 +0000
From: Peter Stephenson <pws@pwstephenson.fsnet.co.uk>
Message-Id: <E128p9r-0000yy-00.2000-01-13-18-39-43@cmailg1.svr.pol.co.uk>

I'm having problems with unsetting fignore.

I've renamed ignored-suffixes in _zstyle, too.

Index: Completion/Core/_path_files
===================================================================
RCS file: /home/pws/CVSROOT/projects/zsh/Completion/Core/_path_files,v
retrieving revision 1.15
diff -u -r1.15 _path_files
--- Completion/Core/_path_files	2000/01/12 18:42:36	1.15
+++ Completion/Core/_path_files	2000/01/12 19:49:59
@@ -159,7 +159,8 @@
 
 # If given no `-F' option, we may want to use $fignore, turned into patterns.
 
-[[ $#ignore -eq 0 && -z $gopt ]] && ignore=( "?*${^fignore[@]}" )
+[[ $#ignore -eq 0 && -z $gopt && -n $FIGNORE ]] && 
+   ignore=( "?*${^fignore[@]}" )
 
 if (( $#ignore )); then
   _comp_ignore=( "$_comp_ignore[@]" "$ignore[@]" )
Index: Completion/Builtins/_zstyle
===================================================================
RCS file: /home/pws/CVSROOT/projects/zsh/Completion/Builtins/_zstyle,v
retrieving revision 1.4
diff -u -r1.4 _zstyle
--- Completion/Builtins/_zstyle	2000/01/07 19:42:02	1.4
+++ Completion/Builtins/_zstyle	2000/01/12 19:55:06
@@ -27,7 +27,7 @@
   hosts			 c:_hosts
   hosts-ports		 c:host-port
   hosts-ports-users	 c:host-port-user
-  ignored-suffixes	 c:
+  ignored-patterns	 c:
   insert-unambiguous	 c:bool
   last-prompt		 c:bool
   list			 c:listwhen


-- 
Peter Stephenson <pws@pwstephenson.fsnet.co.uk>

