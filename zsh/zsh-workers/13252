From zsh-workers-return-13252-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Dec 13 11:08:59 2000
Return-Path: <zsh-workers-return-13252-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 22159 invoked from network); 13 Dec 2000 11:08:53 -0000
Received: from sunsite.dk (HELO sunsite.auc.dk) (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 13 Dec 2000 11:08:53 -0000
Received: (qmail 23415 invoked by alias); 13 Dec 2000 11:08:33 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 13252
Received: (qmail 23408 invoked from network); 13 Dec 2000 11:08:32 -0000
X-Authentication-Warning: vin.ens-lyon.fr: vlefevre set sender to vincent@vinc17.org using -f
Date: Wed, 13 Dec 2000 12:08:22 +0100
From: Vincent Lefevre <vincent@vinc17.org>
To: zsh-workers@sunsite.auc.dk
Subject: [3.1.9-dev-8] ZLS_COLORS cleared by compinit
Message-ID: <20001213120822.A3535@vin.ens-lyon.fr>
Mail-Followup-To: Vincent Lefevre <vincent@vinc17.org>,
	zsh-workers@sunsite.auc.dk
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
User-Agent: Mutt/1.2.5i
X-Mailer-Info: http://www.vinc17.org/mutt_eng.html
Content-Transfer-Encoding: 8bit

When compinit is executed from the .zshrc, the ZLS_COLORS variable
is cleared. For instance, in my .zshrc:

  compinit
  export ZLS_COLORS=$LS_COLORS
  echo blah2 $ZLS_COLORS

shows that ZLS_COLORS is set, but when I get the prompt:

lepois:~> env | grep ZLS                                              <14:00:02
ZLS_COLORS=

Moreover, it is cleared each time I do a completion, in fact before
the completion, so that it is never taken into account. This is
partly due to the "ZLS_COLORS=..." in _main_complete and _setup.

The system:

lepois:~> uname -a                                                    <14:00:04
OSF1 lepois.loria.fr V4.0 1229 alpha

-- 
Vincent Lefèvre <vincent@vinc17.org> - Web: <http://www.vinc17.org/> - 100%
validated HTML - Acorn Risc PC, Yellow Pig 17, Championnat International des
Jeux Mathématiques et Logiques, TETRHEX, etc.
Work: CR INRIA - computer arithmetic / PolKA research team at LORIA

