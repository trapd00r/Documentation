From zsh-users-return-4267-mason-zsh=primenet.com.au@sunsite.dk Thu Sep 20 01:02:39 2001
Return-Path: <zsh-users-return-4267-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1762 invoked from network); 20 Sep 2001 01:02:38 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 20 Sep 2001 01:02:38 -0000
Received: (qmail 7236 invoked by alias); 20 Sep 2001 01:02:20 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4267
Received: (qmail 7224 invoked from network); 20 Sep 2001 01:02:19 -0000
Message-ID: <3BA93FDC.8070904@davh.dk>
Date: Thu, 20 Sep 2001 03:01:16 +0200
From: Dennis Haney <davh@davh.dk>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:0.9.4+) Gecko/20010916
X-Accept-Language: da, en-us
MIME-Version: 1.0
To: zsh-users@sunsite.dk
Subject: GLOB_DOTS and special_dirs in coexistense
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit

I hope someone can help me with this:

I have declared
zstyle ':completion:*' special-dirs '..'
because I really like things like
cd ..
to be expanded to
cd ../
but I dont want it to match when its not the top...
except when its .. again
cd ../../../../ and so on

Lets say I only have a single dir called 'adir' inside 'somedir'.
Then when writing
cd somedir/
when I [TAB] with GLOB_DOTS enabled I get .. as an option.
If I turn off GLOB_DOTS it works just fine (expanding to 'adir'
since its the only option) but I really like GLOB_DOTS...

Also I dont want
cd .
expanded to
cd ../
if there are other dot-file(s)/dot-dir(s)

same goes for ls and all other dir and file completeres...

So how do I make this work?
preferable without compctl...

its zsh 4.0.2 if its any help.


-- 
Dennis
use Inline C => qq{void p(char*g){printf("Just Another %s Hacker\n",g);}};p("Perl");


