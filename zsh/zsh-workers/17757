From zsh-workers-return-17757-mason-zsh=primenet.com.au@sunsite.dk Wed Oct 02 08:13:29 2002
Return-Path: <zsh-workers-return-17757-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24520 invoked from network); 2 Oct 2002 08:13:28 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 2 Oct 2002 08:13:28 -0000
Received: (qmail 20186 invoked by alias); 2 Oct 2002 08:13:19 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 17757
Received: (qmail 20158 invoked from network); 2 Oct 2002 08:13:16 -0000
Date: Wed, 2 Oct 2002 10:08:50 +0200
From: Thomas =?iso-8859-1?Q?K=F6hler?= <jean-luc@picard.franken.de>
To: David =?iso-8859-1?Q?G=F3mez?= <david@pleyades.net>
Cc: Zsh-workers <zsh-workers@sunsite.dk>
Subject: Re: Argument list
Message-ID: <20021002080850.GA3286@picard.franken.de>
Mail-Followup-To: David =?iso-8859-1?Q?G=F3mez?= <david@pleyades.net>,
	Zsh-workers <zsh-workers@sunsite.dk>
References: <20021001195417.GA13192@fargo> <20021001202002.GG7147@dan.emsphone.com> <20021001210742.GA13924@fargo>
Mime-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-sha1;
	protocol="application/pgp-signature"; boundary="ReaqsoxgOBHFXBhH"
Content-Disposition: inline
In-Reply-To: <20021001210742.GA13924@fargo>
User-Agent: Mutt/1.4i
X-Operating-System: Linux picard 2.4.18
X-Editor: VIM - Vi IMproved 6.1 http://www.vim.org/
X-IRC: tirc; Nick: jeanluc
X-URL: http://jeanluc-picard.de/


--ReaqsoxgOBHFXBhH
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

David G=F3mez wrote [2002/10/02 09:12]:
>=20
> > > I created a directory with 100000 files to test the new htree patch
> > > for the ext3 filesystem, and found a =BFbug? when I tried to remove a=
ll
> > > the files. The command 'rm *' gave the error 'zsh: argument list too
> > > long'. If expansion doesn't support so many parameters, what it's the
> > > supossed way to remove all these files without deleting the
> > > directory?
> >=20
> > You sure the error wasn't 'zsh: argument list too long: rm' ?
>=20
> You're right, that was the full error line. I didn't put the rm because
> i thought it wasn't important, my fault.
>=20
> > internal shell wildcard expansion has no argument limit.  execve()
> > does.  Either raise your kernel's limit (sorry; don't know how to do it
> > on Linux),=20
>=20
> I've been trying to raise some limits, but none of them affect the number=
 of=20
> parameters execve() supports, maybe is possible to change it in linux thr=
ough
> some /proc variable, or a kernel recompilation is needed.
>=20
> I just wanted to know if this was a zsh related problem, now i'll look fo=
rward
> to know how to change execve limits.

/usr/src/linux/include/linux> grep ARG_MAX limits.h=20
#define ARG_MAX       131072    /* # bytes of args + environ for exec() */

Hopefully, changing this value and recompiling your kernel will help...

Ciao,
Thomas

--=20
 Thomas K=F6hler Email:   jean-luc@picard.franken.de     | LCARS - Linux
     <><        WWW:     http://jeanluc-picard.de      | for Computers
                IRC:             jeanluc               | on All Real
               PGP public key available from Homepage! | Starships

--ReaqsoxgOBHFXBhH
Content-Type: application/pgp-signature
Content-Disposition: inline

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.7 (GNU/Linux)

iD8DBQE9mqmSTEYXWMJlHuYRAgR6AJ0TtfiT8vqm7qtSF3rRRSfFIkiS3ACfWkD/
vPyQhOrn7/JhybehK6+TUFs=
=+U0b
-----END PGP SIGNATURE-----

--ReaqsoxgOBHFXBhH--

