From zsh-workers-return-21716-mason-zsh=primenet.com.au@sunsite.dk Fri Sep 09 13:36:07 2005
Return-Path: <zsh-workers-return-21716-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18214 invoked from network); 9 Sep 2005 13:36:00 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 9 Sep 2005 13:36:00 -0000
Received: (qmail 92979 invoked from network); 9 Sep 2005 13:35:53 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 9 Sep 2005 13:35:53 -0000
Received: (qmail 8054 invoked by alias); 9 Sep 2005 13:35:50 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 21716
Received: (qmail 8045 invoked from network); 9 Sep 2005 13:35:49 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 9 Sep 2005 13:35:49 -0000
Received: (qmail 92694 invoked from network); 9 Sep 2005 13:35:49 -0000
Received: from e4.ny.us.ibm.com (32.97.182.144)
  by a.mx.sunsite.dk with SMTP; 9 Sep 2005 13:35:44 -0000
Received: from d01relay02.pok.ibm.com (d01relay02.pok.ibm.com [9.56.227.234])
	by e4.ny.us.ibm.com (8.12.11/8.12.11) with ESMTP id j89DZgSp032288
	for <zsh-workers@sunsite.dk>; Fri, 9 Sep 2005 09:35:42 -0400
Received: from d01av03.pok.ibm.com (d01av03.pok.ibm.com [9.56.224.217])
	by d01relay02.pok.ibm.com (8.12.10/NCO/VERS6.7) with ESMTP id j89DZfP3090948
	for <zsh-workers@sunsite.dk>; Fri, 9 Sep 2005 09:35:42 -0400
Received: from d01av03.pok.ibm.com (loopback [127.0.0.1])
	by d01av03.pok.ibm.com (8.12.11/8.13.3) with ESMTP id j89DVg0B011746
	for <zsh-workers@sunsite.dk>; Fri, 9 Sep 2005 09:31:42 -0400
Received: from aasc24.austin.ibm.com (aasc24.austin.ibm.com [9.41.81.30])
	by d01av03.pok.ibm.com (8.12.11/8.12.11) with ESMTP id j89DVXdm010026
	for <zsh-workers@sunsite.dk>; Fri, 9 Sep 2005 09:31:33 -0400
Received: from [127.0.0.1] (localhost.austin.ibm.com [127.0.0.1])
	by aasc24.austin.ibm.com (AIX5.1/8.11.6p2/8.11.0-client1.01) with ESMTP id j89DVR538672
	for <zsh-workers@sunsite.dk>; Fri, 9 Sep 2005 08:31:27 -0500
Message-ID: <43218EAE.5060009@davidfavor.com>
Date: Fri, 09 Sep 2005 08:31:26 -0500
From: David Favor <david@davidfavor.com>
User-Agent: Mozilla/5.0 (X11; U; AIX 000F2B4C4C00; en-US; rv:1.8a6) Gecko/20050907
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Zsh Workers <zsh-workers@sunsite.dk>
Subject: zsh 4.2.5 compile problem on AIX
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Checker-Version: SpamAssassin 3.0.4 (2005-06-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.0.4

I've built many version of zsh for AIX including 4.2.0
which I'm currently running. This appears to be a new
problem.

Building zsh-4.2.5 on AIX 5100-08 the following shows up:

    gmake[2]: Entering directory `/data/build/work/zsh-4.2.5/Src/Zle'
    rm -f complete.so
    xlc_r -s -bM:SRE -o complete.so -bI:zle.export -bI:../../Src/zsh.export \
       -bE:complete.export -emodentry complete..o compcore..o compmatch..o \
       compresult..o  ../../Src/modentry..o  -L/usr/local/lib -lpcre -liconv \
       -ldl -lcurses -lm  -lc
    ld: 0711-317 ERROR: Undefined symbol: nullstrsetfn
    ld: 0711-345 Use the -bloadmap or -bnoquiet option to obtain more information.
    gmake[2]: *** [complete.so] Error 8
    gmake[2]: Leaving directory `/data/build/work/zsh-4.2.5/Src/Zle'
    gmake[1]: *** [modules] Error 1
    gmake[1]: Leaving directory `/data/build/work/zsh-4.2.5/Src'
    gmake: *** [modules] Error 2

The problem appears to be nullstrsetfn being located in params.o
and having no reference to params.o anywhere on link line. There
is an entry for nullstrsetfn in ../../Src/zsh.export so perhaps
this is where the nullstrsetfn reference is meant to be satisfied.

Suggestions about how to fix this?

Thanks.



-- 
Extreme Mood, Beauty & Youthing, The Easy Way
join@RadicalHealth.com - http://RadicalHealth.com

