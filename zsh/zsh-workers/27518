From zsh-workers-return-27518-mason-zsh=primenet.com.au@zsh.org Mon Dec 14 21:14:36 2009
Return-Path: <zsh-workers-return-27518-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 6863 invoked by alias); 14 Dec 2009 21:14:36 -0000
Mailing-List: contact zsh-workers-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Workers List <zsh-workers.zsh.org>
List-Post: <mailto:zsh-workers@zsh.org>
List-Help: <mailto:zsh-workers-help@zsh.org>
Delivered-To: mailing list zsh-workers@zsh.org
X-Seq: 27518
Received: (qmail 25607 invoked from network); 14 Dec 2009 21:14:33 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received-SPF: pass (ns1.primenet.com.au: SPF record at ntlworld.com designates 81.103.221.31 as permitted sender)
Date: Mon, 14 Dec 2009 20:46:22 +0000
From: Peter Stephenson <p.w.stephenson@ntlworld.com>
To: zsh-workers@zsh.org
Subject: Re: Problem with _configure argument autocomplete
Message-ID: <20091214204622.31a17e90@pws-pc>
In-Reply-To: <14d6ea0c0912131704h74b9936en9f1746397a5c5359@mail.gmail.com>
References: <14d6ea0c0912131704h74b9936en9f1746397a5c5359@mail.gmail.com>
X-Mailer: Claws Mail 3.7.3 (GTK+ 2.16.6; x86_64-redhat-linux-gnu)
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Cloudmark-Analysis: v=1.1 cv=ZtHxNT4mZm3rCuM0SmWmgWxeBwJsziC8EqOrwwVkrhA= c=1 sm=0 a=Dp15ja2Si84A:10 a=pGLkceISAAAA:8 a=NLZqzBF-AAAA:8 a=pQhsDvCCCajncet8SiwA:9 a=HPeB89GEBvP3zsZra6NgCCnAeY0A:4 a=MSl-tDqOz04A:10 a=_dQi-Dcv4p4A:10 a=HpAAvcLHHh0Zw7uRqdWCyQ==:117

On Sun, 13 Dec 2009 20:04:54 -0500
Andrew Ryan <nerdrew@gmail.com> wrote:
> The mod_wsgi configure script has the following options (taken from
> ./configure -h):
> 
> Optional Packages:
>   --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]
>   --without-PACKAGE       do not use PACKAGE (same as --with-PACKAGE=no)
>   --with-apxs=NAME        name of the apxs executable [apxs]
>   --with-python=NAME      name of the python executable [python]
> 
> 
> The "--with-python=NAME" option does not autocomplete the path
> following the equal sign.
> 
> Adding the following to the end of _configure makes it autocomplete correctly:
> 
> '*=NAME*:directory:_files -/'

Surely that should be a regular file (if not an executable)?

Index: Completion/Unix/Command/_configure
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_configure,v
retrieving revision 1.2
diff -u -r1.2 _configure
--- Completion/Unix/Command/_configure	13 May 2007 19:49:00 -0000	1.2
+++ Completion/Unix/Command/_configure	14 Dec 2009 20:45:23 -0000
@@ -6,4 +6,6 @@
 		   (#s)--with- --without-
 		   (#s)--without- --with-)' \
 	      '*=(E|)PREFIX*:prefix directory:_files -/' \
-              '*=PROGRAM*:program:_command_names -e'
+              '*=PROGRAM*:program:_command_names -e' \
+	      '*=NAME*executable*:program:_command_names -e' \
+	      '*=NAME*:file:_files'

-- 
Peter Stephenson <p.w.stephenson@ntlworld.com>
Web page now at http://homepage.ntlworld.com/p.w.stephenson/

