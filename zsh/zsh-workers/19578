From zsh-workers-return-19578-mason-zsh=primenet.com.au@sunsite.dk Tue Mar 09 13:49:16 2004
Return-Path: <zsh-workers-return-19578-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 487 invoked from network); 9 Mar 2004 13:49:15 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 9 Mar 2004 13:49:15 -0000
Received: (qmail 19256 invoked by alias); 9 Mar 2004 13:49:07 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 19578
Received: (qmail 19243 invoked from network); 9 Mar 2004 13:49:06 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 9 Mar 2004 13:49:06 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [193.109.254.211] by sunsite.dk (MessageWall 1.0.8) with SMTP; 9 Mar 2004 13:49:6 -0000
X-VirusChecked: Checked
X-Env-Sender: okiddle@yahoo.co.uk
X-Msg-Ref: server-4.tower-36.messagelabs.com!1078840145!4485960
X-StarScan-Version: 5.2.5; banners=-,-,-
X-Originating-IP: [158.234.9.163]
Received: (qmail 26031 invoked from network); 9 Mar 2004 13:49:05 -0000
Received: from iris.logica.co.uk (158.234.9.163)
  by server-4.tower-36.messagelabs.com with SMTP; 9 Mar 2004 13:49:05 -0000
Received: from trentino.logica.co.uk ([158.234.142.61])
	by iris.logica.co.uk (8.12.3/8.12.3/Debian -4) with ESMTP id i29Dn4Ck020104;
	Tue, 9 Mar 2004 13:49:04 GMT
Received: from trentino.logica.co.uk (localhost [127.0.0.1])
	by trentino.logica.co.uk (Postfix) with ESMTP
	id 63F8679721BB; Tue,  9 Mar 2004 14:48:20 +0100 (CET)
Cc: zsh-workers@sunsite.dk
X-VirusChecked: Checked
X-StarScan-Version: 5.0.7; banners=.,-,-
In-reply-to: <404DC5C9.6010005@crapoud.com> 
From: Oliver Kiddle <okiddle@yahoo.co.uk>
References: <404DC5C9.6010005@crapoud.com>
To: "Hartwig, Thomas" <t.hartwig@crapoud.com>
Subject: Re: problem deleting special chars 
Date: Tue, 09 Mar 2004 14:48:20 +0100
Message-ID: <28198.1078840100@trentino.logica.co.uk>

"Hartwig, Thomas" wrote:
> 
> since my installation of zsh 4.1.1, I have problems deleting special 
> chars in the shell. I use german layout keyboard and deleting of umlauts 
> like "ä", "ü" does not work any more. If I want to delete such a char I 
> have to press the backspace key twice and the position of the cursor is 
> broken. I used zsh version below 4.0 before, so I can't tell exactly at 
> which version this happend. This is independent from the settings of the 
>   shell, I tested this without a zshrc as well.

Unfortunately, zsh doesn't have full support for the UTF-8 character
encoding. It is also the case that it never has done. Did you upgrade
more than just zsh? Having to press backspace twice makes sense
because, characters like ä are represented using 2 bytes in UTF-8.

> $ echo $LANG
> en_US.UTF-8 (other language settings tested as well)

To try other language settings, did you just assign to LANG? The
trouble is that your xterm is probably running in the UTF-8 locale and
changing LANG from zsh won't change that. LANG needs to be set in
xterm's environment when it runs.

Oliver

