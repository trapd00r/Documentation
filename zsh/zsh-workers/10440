From zsh-workers-return-10440-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Apr 03 23:32:39 2000
Return-Path: <zsh-workers-return-10440-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8374 invoked from network); 3 Apr 2000 23:32:38 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 3 Apr 2000 23:32:38 -0000
Received: (qmail 8749 invoked by alias); 3 Apr 2000 23:32:31 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 10440
Received: (qmail 8736 invoked from network); 3 Apr 2000 23:32:30 -0000
X-Authentication-Warning: natanya.us.mandrakesoft.com: chmou set sender to chmouel@mandrakesoft.com using -f
To: zsh-workers@sunsite.auc.dk
Subject: PATCH: completion on querytags
From: Chmouel Boudjnah <chmouel@mandrakesoft.com>
Date: 03 Apr 2000 16:32:46 -0700
Message-ID: <m27leesqu9.fsf@natanya.us.mandrakesoft.com>
Lines: 26
User-Agent: Gnus/5.0804 (Gnus v5.8.4) Emacs/20.6
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii


if we want to do completion on tags the user should always specify a %
before the braces, so :

Index: Completion/Linux/_rpm
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Linux/_rpm,v
retrieving revision 1.2
diff -u -r1.2 _rpm
--- Completion/Linux/_rpm       2000/04/01 20:43:43     1.2
+++ Completion/Linux/_rpm       2000/04/03 23:30:50
@@ -202,7 +202,7 @@
     fi
     ;;
   tags)
-    if compset -P '*\{'; then
+    if compset -P '*%*\{'; then
       _wanted tags expl 'RPM tag' \
           compadd -M 'm:{a-z}={A-Z}' -S '\}' - \
                   "${(@)${(@f)$(_call tags rpm --querytags)}#RPMTAG_}" && ret=0


PS: do i need to use the patch manager of srcforge ?
-- 
MandrakeSoft Inc                http://www.mandrakesoft.com
Pasadena, CA USA                                  --Chmouel

