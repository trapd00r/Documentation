From zsh-workers-return-18860-mason-zsh=primenet.com.au@sunsite.dk Wed Jul 16 11:15:28 2003
Return-Path: <zsh-workers-return-18860-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13936 invoked from network); 16 Jul 2003 11:15:27 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 16 Jul 2003 11:15:27 -0000
Received: (qmail 18162 invoked by alias); 16 Jul 2003 11:15:21 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 18860
Received: (qmail 17429 invoked from network); 16 Jul 2003 11:13:39 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 16 Jul 2003 11:13:39 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [62.147.77.86] by sunsite.dk (MessageWall 1.0.8) with SMTP; 16 Jul 2003 11:13:38 -0000
Received: from [127.0.0.1] by monpc
  (ArGoSoft Mail Server Freeware, Version 1.8 (1.8.3.6)); Wed, 16 Jul 2003 13:16:32 +0200
From: Guillaume Chazarain <gfc@altern.org>
To: zsh-workers@sunsite.dk
Date: Wed, 16 Jul 2003 13:16:31 +0200
X-Priority: 3 (Normal)
Message-Id: <WMLXW933VXMGWU3V62QML52GE5YB7.3f15340f@monpc>
Subject: du(1) completion and a little $RANDOM problem
MIME-Version: 1.0
Content-Type: text/plain; charset="iso-8859-15"
X-Mailer: Opera 6.06 build 1145

Hi list,

Zsh's default completion on the du(1) command is to show only the
directories, but why? since du can also be used on files.

Here is what I mean, against zsh-4.1.1.

--- Completion/Unix/Type/_directories.old
+++ Completion/Unix/Type/_directories
@@ -1,4 +1,4 @@
-#compdef rmdir df du dircmp -P -value-,*path,-default-
+#compdef rmdir df dircmp -P -value-,*path,-default-
 
 local expl
 

Another problem I have deals with $RANDOM. Using echo $RANDOM works as
expected, a new random value is printed each time.

[g ~]$ echo $RANDOM
29407
[g ~]$ echo $RANDOM
31292
[g ~]$ echo $RANDOM
11843
[g ~]$ echo $RANDOM
22883
[g ~]$ echo $RANDOM
20814

But if I do echo `echo $RANDOM` then the random value is always the same.

[g ~]$ echo `echo $RANDOM`
6853
[g ~]$ echo `echo $RANDOM`
6853
[g ~]$ echo `echo $RANDOM`
6853
[g ~]$ echo `echo $RANDOM`
6853
[g ~]$ echo `echo $RANDOM`
6853


And the behaviour is the same if zsh is called as sh.

Thanks
Guillaume






