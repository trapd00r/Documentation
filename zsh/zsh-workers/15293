From zsh-workers-return-15293-mason-zsh=primenet.com.au@sunsite.dk Fri Jul 06 22:41:14 2001
Return-Path: <zsh-workers-return-15293-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 12418 invoked from network); 6 Jul 2001 22:41:13 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 6 Jul 2001 22:41:13 -0000
Received: (qmail 10380 invoked by alias); 6 Jul 2001 22:40:10 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 15293
Received: (qmail 10356 invoked from network); 6 Jul 2001 22:40:09 -0000
X-Authentication-Warning: water.cs.brown.edu: tsm set sender to tsm@water.cs.brown.edu using -f
To: "Bart Schaefer" <schaefer@candle.brasslantern.com>
cc: zsh-workers@sunsite.dk
Subject: Re: fatal flaw zsh 4.0.1 on irix 6.3 & 6.5: suspend "ls -l|less" then resume hangs
References: <200106120815.KAA02209@beta.informatik.hu-berlin.de> <yehy9qxkakg.fsf@water.cs.brown.edu> <1010612154026.ZM24394@candle.brasslantern.com> <yehu21lk76h.fsf@water.cs.brown.edu> <1010613035523.ZM25016@candle.brasslantern.com>
From: Timothy Miller <tsm@cs.brown.edu>
Date: 06 Jul 2001 18:40:04 -0400
In-Reply-To: "Bart Schaefer"'s message of "Wed, 13 Jun 2001 03:55:22 +0000"
Message-ID: <yehhewplm0r.fsf@water.cs.brown.edu>
Lines: 35
User-Agent: Gnus/5.0802 (Gnus v5.8.2) XEmacs/21.1 (Big Bend)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Wed, 13 Jun 2001 03:55:22 +0000, "Bart Schaefer" <schaefer@candle.brasslantern.com> wrote:
> On Jun 12, 12:13pm, Timothy Miller wrote:
> } Subject: Re: fatal flaw zsh 4.0.1 on irix 6.3 & 6.5: suspend "ls -l|less" 
> }
> } just found more authoritative info on syscall numbers; syscall 4 is read(),
> } syscall 5 is write(), syscall 166 is sigsuspend(), which makes much more
> } sense.
> 
> What output do you get from `egrep 'BROKEN|SIG' config.h` ?

I've now switched to zsh-4.0.2 for the irix debugging process, since it came
out before I had a chance to look at it again and since I get the same
problem with suspending. This is the output I get:

#define RETSIGTYPE void
/* #undef STAT_MACROS_BROKEN */
/* #undef BROKEN_SIGNED_TO_UNSIGNED_CASTING */
#define POSIX_SIGNALS 1
/* #undef BSD_SIGNALS */
/* #undef SYSV_SIGNALS */
/* #undef NO_SIGNAL_BLOCKING */
/* #undef RLIM_T_IS_UNSIGNED */
/* #undef BROKEN_KILL_ESRCH */
/* #undef BROKEN_POSIX_SIGSUSPEND */
/* #undef BROKEN_TCSETPGRP */
#define HAVE_SIGACTION 1
#define HAVE_SIGBLOCK 1
#define HAVE_SIGHOLD 1
#define HAVE_SIGNGAM 1
#define HAVE_SIGPROCMASK 1
#define HAVE_SIGRELSE 1
#define HAVE_SIGSETMASK 1


   Tim

