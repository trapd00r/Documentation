From zsh-users-return-3226-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Jun 28 13:24:33 2000
Return-Path: <zsh-users-return-3226-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 14770 invoked from network); 28 Jun 2000 13:24:32 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 28 Jun 2000 13:24:32 -0000
Received: (qmail 6123 invoked by alias); 28 Jun 2000 13:22:49 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 3226
Received: (qmail 6056 invoked from network); 28 Jun 2000 13:22:21 -0000
X-Envelope-Sender-Is: Andrej.Borsenkow@mow.siemens.ru (at relayer goliath.siemens.de)
From: "Andrej Borsenkow" <Andrej.Borsenkow@mow.siemens.ru>
To: "Matthias Kopfermann" <kopfermann@trio-hittfeld.de>,
   "Zsh Users" <zsh-users@sunsite.auc.dk>
Subject: RE: --help trough _use_lo , but how with -h style?
Date: Wed, 28 Jun 2000 17:22:09 +0400
Message-ID: <000e01bfe103$dcd6f650$21c9ca95@mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
In-Reply-To: <20000628150234.A32686@linux-ws.kg-hittfeld.local>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6700

I am not sure what do you mean. _use_lo simply does very general parsing
of 'command --help' output. But note, that --help is de facto standard
for GNU long options; and help format is more or less (actually, much
less :-) similar between commands. What you want is a function that
would parse general output of arbitrary command and generate useful
completion out of this. I doubt that it ever be possible.

Please, note, that as far as I can tell --help parsing is used only in
three completion functions currently - _configure, _tar and _gdb. Of
these three I  believe that _tar and _gdb use it only for historical
reasons - the single command where this makes sense is _configure.

Note, that parsing of help text has many drawbacks. You cannot supply
description; you cannot define mutualy excluding options; you cannot
define mutually dependent options or option sets. I.e. _arguments is
much better suited - with the additional cost of writing separate
function for every command.

Are you aware about _arguments and it's possibilities?

-andrej

> -----Original Message-----
> From: Matthias Kopfermann [mailto:kopfermann@trio-hittfeld.de]
> Sent: Wednesday, June 28, 2000 5:03 PM
> To: Zsh Users
> Subject: --help trough _use_lo , but how with -h style?
>
>
> Hi again,
> After I got the information about the use of `compdef _use_lo
> x y z' to
> have x y and z commands completed I asked myself:
> How can i do it with these `-h' commands. e.g. mutt only wants
> -x flags. i would like to have such commands being completed just
> like the much nicer to read --x commands. is there a function
> already for these kind of commands? (I am not talking about a
> specific mutt completion though that may be nice, too.)
>
> BTW: i used to use perl for having --help commands being
> completed and i have a function that does it with -h commands ,
> too,  but it would be much nicer, if there was such a function in
> plain-zsh already. Thats why i ask.
>
> --
> And in the end the love you take
> is equal to the love you make
> THE BEATLES
>
>

