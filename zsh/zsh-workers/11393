From zsh-workers-return-11393-mason-zsh=primenet.com.au@sunsite.auc.dk Mon May 15 23:44:33 2000
Return-Path: <zsh-workers-return-11393-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 23545 invoked from network); 15 May 2000 23:44:32 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 15 May 2000 23:44:32 -0000
Received: (qmail 26502 invoked by alias); 15 May 2000 23:44:22 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 11393
Received: (qmail 26495 invoked from network); 15 May 2000 23:44:20 -0000
To: zsh-workers@sunsite.auc.dk
Subject: PATCH: _diff_options to use =-
MIME-Version: 1.0 (generated by SEMI 1.13.7 - "Awazu")
Content-Type: text/plain; charset=US-ASCII
From: Tanaka Akira <akr@m17n.org>
Date: 16 May 2000 08:45:49 +0900
Message-ID: <hvod7mnpec2.fsf@serein.m17n.org>
Lines: 32
User-Agent: T-gnus/6.14.1 (based on Gnus v5.8.3) (revision 16) SEMI/1.13.7 (Awazu) FLIM/1.13.2 (Kasanui) Emacs/20.6 (i686-pc-linux-gnu) MULE/4.0 (HANANOEN)

This patch modifies _diff_options to use =-.

Apart from that, I found another use of optional argument in _a2ps:

           "--pretty-print*::style:(${_a2ps_cache_values[1]})" \
           ...

But this is a description for automatic option detection.  Is there a
way to specify that it should use `=-'?

Index: Completion/User/_diff_options
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/User/_diff_options,v
retrieving revision 1.4
diff -u -r1.4 _diff_options
--- Completion/User/_diff_options	2000/05/05 20:36:13	1.4
+++ Completion/User/_diff_options	2000/05/15 23:36:26
@@ -61,10 +61,10 @@
     '(--ignore-matching-lines)-I+[ignore lines that match regex]:line exclusion regex:' \
     '(-a)--text[treat all files as text]' \
     '(--text)-a[treat all files as text]' \
-    "($of $oss)--context=[context diff]::number of lines of copied context:" \
+    "($of $oss)--context=-[context diff]:number of lines of copied context:" \
     "($of $oss)-C+[output a context diff]:number of lines of copied context:" \
     "($of $oss)-c[output a context diff]" \
-    "($of $oss)--unified=[output a unified diff]::number of lines of unified context:" \
+    "($of $oss)--unified=-[output a unified diff]:number of lines of unified context:" \
     "($of $oss)-U+[output a unified diff]:number of lines of unified context:" \
     "($of $oss)-u[output a unified diff]" \
     "($ofwuc $oss -L)--label=[set label to use instead of file name]:label:" \
-- 
Tanaka Akira

