From zsh-workers-return-16155-mason-zsh=primenet.com.au@sunsite.dk Thu Oct 25 13:26:01 2001
Return-Path: <zsh-workers-return-16155-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5704 invoked from network); 25 Oct 2001 13:26:01 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 25 Oct 2001 13:26:01 -0000
Received: (qmail 15313 invoked by alias); 25 Oct 2001 13:25:55 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 16155
Received: (qmail 15294 invoked from network); 25 Oct 2001 13:25:53 -0000
From: Borsenkow Andrej <Andrej.Borsenkow@mow.siemens.ru>
To: =?koi8-r?Q?=27Ra=DFl_N=DF=D3ez_de_Arenas_Coronado=27?=
	 <dervishd@jazzfree.com>,
   zsh-workers@sunsite.dk
Subject: RE: About MODDIR (again...)
Date: Thu, 25 Oct 2001 17:25:46 +0400
Message-ID: <000201c15d58$8e821700$21c9ca95@mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.3311
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
In-Reply-To: <E15wjtQ-0002Dk-00@DervishD>
Importance: Normal

> 
>     I've downloaded and tested zsh 4.0.3, and I have the
> same suggestion: is really needed to install modules onto
> /usr/lib/zsh/4.0.3/zsh/? For me it has no sense: /usr/lib/zsh
> is empty except for directory '4.0.3'. But this directory is
> empty too. It only contains 'zsh', which contains the modules.
>

Modules are installed into /usr/lib/zsh/$ZSH_VERSION. The modules names
are zsh/foo.

Not that I believe we ever get another top-level name part (given
interpretation of Zefram).

 
>     Is necessary such a long hierarchy just for keeping the modules.
> At least the last 'zsh' is not needed (IMHO), 

It is part of module name. You must have module as zsh/complist inside
of directory in $MODULE_PATH else it won't be found.


and the version number
> should be made optional for systems with just one version of zsh
> installed. For removing the last 'zsh' only a few makefiles need to
> be edited,

No. Much more needs to be edited because Zsh modules are referred to as
zsh/something in many places.

 and for the rest... Well, if MODDIR could be chosen thru
> the 'configure' script, all this matter will vanish.
> 
>     Why is it hardcoded? 

It is not hardcoded. I think, it was explained once already.

It is possible to add --with-moddir=... configure parameter that will
override default $libdir/zsh/$VERSION. The final zsh part cannot be
removed without major redesign and it is not going to happen for 4.0 in
any case.


>     Please excuse me asking again the same, but I really don't like
> not having control over where my packages deploy its files ;))))
>

You have. Do you request autoconf maintainers to give control ove final
part in  /usr/share/autoconf as example?


-andrej

