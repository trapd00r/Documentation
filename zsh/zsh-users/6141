From zsh-users-return-6141-mason-zsh=primenet.com.au@sunsite.dk Mon Jun 02 06:25:45 2003
Return-Path: <zsh-users-return-6141-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 3013 invoked from network); 2 Jun 2003 06:25:40 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 2 Jun 2003 06:25:40 -0000
Received: (qmail 11783 invoked by alias); 2 Jun 2003 06:25:27 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 6141
Received: (qmail 11776 invoked from network); 2 Jun 2003 06:25:27 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 2 Jun 2003 06:25:27 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [66.93.131.57] by sunsite.dk (MessageWall 1.0.8) with SMTP; 2 Jun 2003 6:25:26 -0000
Received: from lorien.emufarm.org (localhost [127.0.0.1])
	by lorien.emufarm.org (8.12.7/8.12.7) with ESMTP id h526OsPH028721;
	Sun, 1 Jun 2003 23:24:54 -0700
Received: (from duvall@localhost)
	by lorien.emufarm.org (8.12.7/8.12.7/Submit) id h526Osab028720;
	Sun, 1 Jun 2003 23:24:54 -0700
Date: Sun, 1 Jun 2003 23:24:54 -0700
From: Danek Duvall <duvall@emufarm.org>
To: Borzenkov Andrey <Andrey.Borzenkov@siemens.com>
Cc: "'Eric Mangold'" <teratorn@world-net.net>, zsh-users@sunsite.dk
Subject: Re: using command aliases with sudo
Message-ID: <20030602062454.GE16251@lorien.emufarm.org>
Mail-Followup-To: Danek Duvall <duvall@emufarm.org>,
	Borzenkov Andrey <Andrey.Borzenkov@siemens.com>,
	'Eric Mangold' <teratorn@world-net.net>, zsh-users@sunsite.dk
References: <200305280204.44215.teratorn@world-net.net> <6134254DE87BD411908B00A0C99B044F05A0C92F@mowd019a.mow.siemens.ru>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <6134254DE87BD411908B00A0C99B044F05A0C92F@mowd019a.mow.siemens.ru>
User-Agent: Mutt/1.5.4i

Andrey Borzenkov wrote:

> sudo() {
> 	... add sudo options parsing here that sets sudo_options and
> sudo_command...
> 	command sudo $sudo_options zsh -c "$sudo_command"
> }
> 
> with obvious caveat that you have to modify sudoers to account for this. 

What about

	if [[ -n $aliases[$sudo_command[1]] ]]; then
		sudo_command[1]=( $=aliases[$sudo_command[1]] )
	fi
	command sudo $sudo_options "$sudo_command"

Danek

