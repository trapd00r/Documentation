From zsh-users-return-7090-mason-zsh=primenet.com.au@sunsite.dk Thu Feb 26 22:43:42 2004
Return-Path: <zsh-users-return-7090-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 27677 invoked from network); 26 Feb 2004 22:43:41 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 26 Feb 2004 22:43:41 -0000
Received: (qmail 2510 invoked by alias); 26 Feb 2004 22:43:20 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 7090
Received: (qmail 2501 invoked from network); 26 Feb 2004 22:43:19 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 26 Feb 2004 22:43:19 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [207.71.22.10] by sunsite.dk (MessageWall 1.0.8) with SMTP; 26 Feb 2004 22:43:18 -0000
Received: from elm.teratorn.org (unknown [10.0.0.23])
	by oak.teratorn.org (Postfix) with ESMTP id 41B2031C
	for <zsh-users@sunsite.dk>; Thu, 26 Feb 2004 17:12:34 -0600 (CST)
In-Reply-To: <20040226102913.0002cbc8.pws@csr.com>
References: <opr3ykfw19i4eeqj@mail.oaktech.net> <20040226102913.0002cbc8.pws@csr.com>
Subject: Re: Adding new completions to zsh
To: "zsh-users@sunsite.dk" <zsh-users@sunsite.dk>
Message-ID: <opr3zylubpi4eeqj@mail.oaktech.net>
From: Eric Mangold <teratorn@world-net.net>
Content-Type: text/plain; format=flowed; charset=iso-8859-1
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Date: Thu, 26 Feb 2004 14:42:56 -0700
User-Agent: Opera7.23/Linux M2 build 518

On Thu, 26 Feb 2004 10:29:13 +0000, Peter Stephenson <pws@csr.com> wrote:

> On Wed, 25 Feb 2004 20:39:22 -0700
> Eric Mangold <teratorn@world-net.net> wrote:
>> My idea for allowing greater flexibility is to bundle the actual zsh
>> completion functionality as part of the Twisted distribution and give 
>> zsh
>> a "stub" that will use the completion functions that are bundled with
>> Twisted.
>
> This sounds OK... I presume you're going to add some hook to the main 
> Twisted
> program (or some configuration utility) that reports the installation 
> location
> so that the functions distribution with zsh can find the functions
> distributed with Twisted.

Since Twisted is a Python package I can (fairly easily) use the standard 
python mechanisms to locate files or otherwise pull data out of that 
package.

So the first time someone tries one of the completions it will call python 
to acquire the completion info, and then I guess I'll cache that in a 
global variable to speed it up for further completions done in that shell 
session.


	-Eric

