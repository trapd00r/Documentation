From zsh-workers-return-27420-mason-zsh=primenet.com.au@zsh.org Sat Nov 21 17:35:37 2009
Return-Path: <zsh-workers-return-27420-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 500 invoked by alias); 21 Nov 2009 17:35:37 -0000
Mailing-List: contact zsh-workers-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Workers List <zsh-workers.zsh.org>
List-Post: <mailto:zsh-workers@zsh.org>
List-Help: <mailto:zsh-workers-help@zsh.org>
Delivered-To: mailing list zsh-workers@zsh.org
X-Seq: 27420
Received: (qmail 15981 invoked from network); 21 Nov 2009 17:35:34 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.5
Received-SPF: none (ns1.primenet.com.au: domain at altlinux.org does not designate permitted sender hosts)
Date: Sat, 21 Nov 2009 20:35:31 +0300
From: "Alexey I. Froloff" <raorn@altlinux.org>
To: zsh-workers@zsh.org
Subject: sudo rpm -e completion b0rken
Message-ID: <20091121173531.GA21302@altlinux.org>
MIME-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-sha1;
	protocol="application/pgp-signature"; boundary="cWoXeonUoKmBZSoM"
Content-Disposition: inline
User-Agent: Mutt/1.5.20 (2009-06-23)

--cWoXeonUoKmBZSoM
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

Completion for rpm -e is broken (completes local files, not
packages) when it's going to be executed under sudo.  However,
rpm --erase works as expected.

$ rpm -e <Tab>
---- package ----
=2E..
$ sudo rpm -e <Tab>
---- file ----
=2E..
$ sudo rpm --erase <Tab>
---- package ----
=2E..

--=20
Regards,
Sir Raorn.

--cWoXeonUoKmBZSoM
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: Digital signature
Content-Disposition: inline

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)

iEYEARECAAYFAksIJN0ACgkQVqT7+fkT8woMVACghl2478Cd/UeDC6io5NohXbtS
md0An1LMWvHOx6ZVxcpH0zMzcb7sjpMK
=1d17
-----END PGP SIGNATURE-----

--cWoXeonUoKmBZSoM--

