From zsh-workers-request@math.gatech.edu Tue Jan 13 14:54:13 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 12693 invoked from network); 13 Jan 1998 14:54:11 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 13 Jan 1998 14:54:11 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id JAA00705;
	Tue, 13 Jan 1998 09:34:34 -0500 (EST)
Resent-Date: Tue, 13 Jan 1998 09:34:34 -0500 (EST)
Date: Tue, 13 Jan 1998 17:36:06 +0300 (MSK)
From: Andrej Borsenkow <borsenkow.msk@sni.de>
X-Sender: bor@itsrm1
Reply-To: borsenkow.msk@sni.de
To: Andrew Main <zefram@tao.co.uk>
cc: zsh-workers@math.gatech.edu
Subject: Re: zsh-3.1.2-zefram3 - first experience
In-Reply-To: <199801131250.MAA21364@taos.demon.co.uk>
Message-ID: <Pine.SV4.3.95.980113172532.21704B-100000@itsrm1>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
Resent-Message-ID: <"CGIoE1.0.vA.wjtkq"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3702
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

On Tue, 13 Jan 1998, Andrew Main wrote:

> 
> >4. Finally, after I managed to compile it, I lost ZLE!!! All seems to
> >work, zle.so, comp1.so, compctl.so are loaded, bindkey shows all bindings,
> >but when I try to use *any* bound character, I get no effects. '^P' gives
> >fine message `'^P' not found" :-)
> 
> "'^P' not found" sounds like it's looking for a *function* called '^P'.
> What bindkey instructions are you executing on startup?
> 

Oops!! I totally forgot, that libzsh.so is not installed when I do
make install :-( 

This opens up two questions:

  1. libzsh.so *must* be installed. I think, it was on Zoltan's to do
     list ...

  2. There must be a way for several dynamic ZSH versions to coexist. It 
     can be done in (at least) two ways:

     - easy and portable :)
         just build (and link with) libzsh.x.y.z.so instead of libzsh.so
         It will run on every system which supports shared libraries

     - at least on SVR4 is possible to give shared library a name (-h 
       option). If library libfoo.so was built with -h libfoo.so.x.y.z, 
       then after initial linking with -lfoo run time loader will look
       for libfoo.so.x.y.z. I think, it works this way on Linux as well. 

Zefram, I think you were the author of most dynamic hacks. What do you
think?

BTW this version defaults to -O -g compiler options and -s linker option.
I would expect developer version to not be stripped, and -O -g doesn't
work with most compilers.


-------------------------------------------------------------------------
Andrej Borsenkow 		Fax:   +7 (095) 252 01 05
SNI ITS Moscow			Tel:   +7 (095) 252 13 88

NERV:  borsenkow.msk		E-Mail: borsenkow.msk@sni.de
-------------------------------------------------------------------------


