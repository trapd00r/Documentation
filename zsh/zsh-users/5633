From zsh-users-return-5633-mason-zsh=primenet.com.au@sunsite.dk Fri Jan 03 04:33:42 2003
Return-Path: <zsh-users-return-5633-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10095 invoked from network); 3 Jan 2003 04:33:41 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 3 Jan 2003 04:33:41 -0000
Received: (qmail 21287 invoked by alias); 3 Jan 2003 04:33:26 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 5633
Received: (qmail 21278 invoked from network); 3 Jan 2003 04:33:25 -0000
Date: Fri, 3 Jan 2003 12:33:21 +0800
From: James Devenish <j-devenish@users.sourceforge.net>
To: zsh-users@sunsite.dk
Subject: Reinsertion of file prefix for accepted completion?
Message-ID: <20030103043321.GC14622@gulag.guild.uwa.edu.au>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.3.28i

Hi,

Is there some way (that isn't too outrageous, but perhaps involves the
calling of a 'fixup' function) to reinsert a compadd -W file prefix when
the completion is accepted? For example, pretend that arguments for 'echo'
are paths, being matched using -W "( . /not/current/directory )":

% ls /not/current/directory<Enter>
a1 a2 b1 c1
% ls<Enter>
d1 d2 e1
% echo a<Tab>
a1 a2
% echo a1<Tab><Enter>
/not/current/directory/a1
% echo b<Tab><Enter>
/not/current/directory/b1
% echo e<Tab><Enter>
e1

Or at worst:

% echo e<Tab><Enter>
./e1

(The above notation is probably a bit ambiguous, but hopefully my first
paragraph helps explain what I mean.)


