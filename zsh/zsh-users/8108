From zsh-users-return-8108-mason-zsh=primenet.com.au@sunsite.dk Mon Oct 25 01:12:20 2004
Return-Path: <zsh-users-return-8108-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 25704 invoked from network); 25 Oct 2004 01:12:19 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 25 Oct 2004 01:12:19 -0000
Received: (qmail 9630 invoked from network); 25 Oct 2004 01:12:13 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 25 Oct 2004 01:12:13 -0000
Received: (qmail 3571 invoked by alias); 25 Oct 2004 01:11:30 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8108
Received: (qmail 3554 invoked from network); 25 Oct 2004 01:11:29 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 25 Oct 2004 01:11:29 -0000
Received: (qmail 8315 invoked from network); 25 Oct 2004 01:11:27 -0000
Received: from moonbase.zanshin.com (64.84.47.139)
  by a.mx.sunsite.dk with SMTP; 25 Oct 2004 01:11:25 -0000
Received: from toltec.zanshin.com (toltec.zanshin.com [64.84.47.166])
	by moonbase.zanshin.com (8.13.1/8.13.1) with ESMTP id i9P1BGhx011007;
	Sun, 24 Oct 2004 18:11:18 -0700
Date: Sun, 24 Oct 2004 18:11:16 -0700 (PDT)
From: Bart Schaefer <schaefer@brasslantern.com>
Reply-To: zsh-users@sunsite.dk
To: "s. keeling" <keeling@spots.ab.ca>
cc: zsh-users <zsh-users@sunsite.dk>
Subject: Re: Newbie zsh setup warts (history, pipes, export, ...).
In-Reply-To: <20041024230623.GA3675@infidel.spots.ab.ca>
Message-ID: <Pine.LNX.4.61.0410241803320.23496@toltec.zanshin.com>
References: <20041024230623.GA3675@infidel.spots.ab.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, hits=-0.0 required=6.0 tests=BAYES_44 autolearn=no 
	version=2.63
X-Spam-Hits: -0.0

On Sun, 24 Oct 2004, s. keeling wrote:

> I also don't appear to have history set up correctly.  It's not
> saving my history between sessions.  These are in my ~/.zshenv:
> 
>   -------------------------------
> HISTCONTROL=ignoredups

This is only used by bash2.  You need "setopt HIST_IGNORE_DUPS" to get the 
zsh equivalent.  But if history ignores dups, then this ...

> setopt HIST_EXPIRE_DUPS_FIRST

... is a no-op, because there won't be any dups to expire.

> export        HISTCONTROL         \
>               HISTFILE            \
>               HISTSIZE
>   -------------------------------
> 
> What am I missing here, and does zsh need those last three exported?

No, they don't need to be exported, the latter two just need to be set. 

(It doesn't do any good to both export them and set them in ~/.zshenv, 
because every zsh will re-read ~/.zshenv and clobber the environment 
value.  You'd only export them if e.g. they were set in ~/.zlogin, which 
is not read by non-login shells.)

Clint answered the "missing" part.

