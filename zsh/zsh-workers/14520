From zsh-workers-return-14520-mason-zsh=primenet.com.au@sunsite.dk Tue May 29 07:00:10 2001
Return-Path: <zsh-workers-return-14520-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 16325 invoked from network); 29 May 2001 07:00:08 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 29 May 2001 07:00:08 -0000
Received: (qmail 25361 invoked by alias); 29 May 2001 06:59:58 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 14520
Received: (qmail 25341 invoked from network); 29 May 2001 06:59:56 -0000
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
Date: Tue, 29 May 2001 08:59:01 +0200 (MET DST)
Message-Id: <200105290659.IAA08490@beta.informatik.hu-berlin.de>
To: zsh-workers@sunsite.dk
Subject: Re: vi editting troubles
In-Reply-To: <010523123147.ZM9692@candle.brasslantern.com>

Bart Schaefer wrote:

> On May 23, 11:18am, Wayne Davison wrote:
> > 
> > An off-the-cuff suggestion:  Would it be possible to have the C code
> > call a "set completion defaults" shell function
> 
> The problem with any shell-function-based solution is that it requires a
> special case for the `localoptions' setting.
> 
> Better, perhaps, would be to augment the _comp_options variable with a
> _comp_setup variable, which would look something like this:
> 
>     _comp_setup='setopt ${_comp_options[@]} localtraps;
> 		 exec </dev/null;
> 		 trap - ZERR'
> 
> and then `eval' that variable in any function that is an entry point into
> the completion system.

Hm, not one reply so far (unless I've missed something).

This is of course better than what I suggested in 14449 because I always
forget about eval.  I'd even volunteer to make that change... or is
anyone really against it?

Bye
  Sven


-- 
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

