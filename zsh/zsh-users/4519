From zsh-users-return-4519-mason-zsh=primenet.com.au@sunsite.dk Thu Dec 06 15:31:28 2001
Return-Path: <zsh-users-return-4519-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 7594 invoked from network); 6 Dec 2001 15:31:27 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 6 Dec 2001 15:31:27 -0000
Received: (qmail 21461 invoked by alias); 6 Dec 2001 15:31:11 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4519
Received: (qmail 21450 invoked from network); 6 Dec 2001 15:31:10 -0000
X-VirusChecked: Checked
X-Authentication-Warning: iris.logica.co.uk: Host kiddleo@rambo.logica.co.uk [158.234.33.58] claimed to be yahoo.co.uk
Sender: kiddleo@iris.logica.co.uk
Message-ID: <3C0F8F18.11B45A07@yahoo.co.uk>
Date: Thu, 06 Dec 2001 15:30:32 +0000
From: Oliver Kiddle <okiddle@yahoo.co.uk>
X-Mailer: Mozilla 4.77 [en] (X11; U; Linux 2.2.15 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Vincent Lefevre <vincent@vinc17.org>
CC: zsh-users@sunsite.dk
Subject: Re: zip completion bug
References: <20011206141232.GA9870@greux.loria.fr>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Vincent Lefevre wrote:
> 
> When I type something like
> 
>   zip file.zip file1 fi[TAB]
> 
> the completion doesn't work, i.e. it only works for the first file.

That'll be my fault then. Seems I made a few mistakes in _zip so I'll
have to recheck it sometime.

Index: Completion/Unix/Command/_zip
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_zip,v
retrieving revision 1.3
diff -u -r1.3 _zip
--- Completion/Unix/Command/_zip        2001/10/17 15:14:45     1.3
+++ Completion/Unix/Command/_zip        2001/12/06 15:29:03
@@ -51,7 +51,7 @@
       '-x[exclude the following names]' \
       '-i[include only the following names]' \
       "(-f -d -R -q -c -b -@ -F -FF -A -T -y -e -h -u -m -g -j -l -ll -L -v -z -t -tt -o -D -J -X -n -0 -1 -2 -3 -4 -5 -6 -7 -8 -9):zip file:_files -g '(#i)*.(zip|[jw]ar)'" \
-      ':file:->files' && return 0
+      '*:file:->files' && return 0
   ;;
   unzip)
     _arguments -C -s \

_____________________________________________________________________
This message has been checked for all known viruses by the 
MessageLabs Virus Scanning Service. For further information visit
http://www.messagelabs.com/stats.asp

