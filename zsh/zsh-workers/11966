From zsh-workers-return-11966-mason-zsh=primenet.com.au@sunsite.auc.dk Sun Jun 18 14:14:38 2000
Return-Path: <zsh-workers-return-11966-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 28702 invoked from network); 18 Jun 2000 14:14:36 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 18 Jun 2000 14:14:36 -0000
Received: (qmail 3337 invoked by alias); 18 Jun 2000 14:14:25 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 11966
Received: (qmail 3323 invoked from network); 18 Jun 2000 14:14:23 -0000
Date: Sun, 18 Jun 2000 10:14:07 -0400
From: Clint Adams <schizo@debian.org>
To: Tanaka Akira <akr@m17n.org>
Cc: zsh-workers@sunsite.auc.dk
Subject: PATCH: Re: completion at beginning of line
Message-ID: <20000618101407.A26426@scowler.net>
References: <hvog0qb72qf.fsf@serein.m17n.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
User-Agent: Mutt/1.0.1i
In-Reply-To: <hvog0qb72qf.fsf@serein.m17n.org>; from akr@m17n.org on Sun, Jun 18, 2000 at 06:33:28PM +0900

> Z(2):akr@flux% Src/zsh -f  
> flux% bindkey -e; autoload -U compinit; compinit -D
> flux% <TAB>
> _main_complete:52: command not found: no
> zsh: do you wish to see all 2100 possibilities (525 lines)? 
> 
> Hm.  Why?

This seems to clear up that error and do what was intended.
There looks to be a similar potential problem on line 44.

Index: Completion/Core/_main_complete
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Core/_main_complete,v
retrieving revision 1.28
diff -u -r1.28 _main_complete
--- Completion/Core/_main_complete	2000/06/13 11:45:26	1.28
+++ Completion/Core/_main_complete	2000/06/18 14:10:42
@@ -49,7 +49,7 @@
 fi
 
 if [[ "$compstate[insert]" = tab* ]]; then
-  { "$tmp" = (|[[:blank:]]*)(yes|true|on|1)(|[[:blank:]]*) &&
+  { [[ "$tmp" = (|[[:blank:]]*)(yes|true|on|1)(|[[:blank:]]*) ]] &&
     { [[ "$curcontext" != :* || -z "$compstate[vared]" ]] ||
         zstyle -t ":completion:vared${curcontext}:" insert-tab } } && return 0
 

