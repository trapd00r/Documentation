From zsh-workers-return-19387-mason-zsh=primenet.com.au@sunsite.dk Tue Jan 20 14:23:20 2004
Return-Path: <zsh-workers-return-19387-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18531 invoked from network); 20 Jan 2004 14:23:17 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 20 Jan 2004 14:23:17 -0000
Received: (qmail 10826 invoked by alias); 20 Jan 2004 14:23:10 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 19387
Received: (qmail 10795 invoked from network); 20 Jan 2004 14:23:09 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 20 Jan 2004 14:23:09 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [195.245.230.51] by sunsite.dk (MessageWall 1.0.8) with SMTP; 20 Jan 2004 14:23:8 -0000
X-VirusChecked: Checked
X-Env-Sender: okiddle@yahoo.co.uk
X-Msg-Ref: server-23.tower-33.messagelabs.com!1074608586!786673
X-StarScan-Version: 5.1.15; banners=-,-,-
Received: (qmail 25265 invoked from network); 20 Jan 2004 14:23:07 -0000
Received: from iris.logica.co.uk (158.234.9.163)
  by server-23.tower-33.messagelabs.com with SMTP; 20 Jan 2004 14:23:07 -0000
Received: from gmcs3.local ([158.234.142.61])
	by iris.logica.co.uk (8.12.3/8.12.3/Debian -4) with ESMTP id i0KEM4uB029124
	for <zsh-workers@sunsite.dk>; Tue, 20 Jan 2004 14:22:04 GMT
Received: from gmcs3.local (localhost [127.0.0.1])
	by gmcs3.local (8.11.6/8.11.6/SuSE Linux 0.5) with ESMTP id i0KEQEI16583
	for <zsh-workers@sunsite.dk>; Tue, 20 Jan 2004 15:26:14 +0100
X-VirusChecked: Checked
X-StarScan-Version: 5.1.13; banners=.,-,-
From: Oliver Kiddle <okiddle@yahoo.co.uk>
To: Zsh workers <zsh-workers@sunsite.dk>
Subject: PATCH: use (-.) qualifier with _files -g
Date: Tue, 20 Jan 2004 15:26:14 +0100
Message-ID: <16581.1074608774@gmcs3.local>

As I said I'd do last month, this adds (-.) glob qualifiers to the many
places where we use _files -g to pick out files. The exception is where
a directory is a valid argument on its own such as for _chown.

If there's no complaints, I'll commit this and 19309 which was my _files
change to add #q in. If we need quoted characters in an (e) qualifier,
we can always use a separate function (like in _subversion) or try to
make _files cleverer later. You have to be using glob qualifiers in the
file-patterns style for it to make any difference anyway.

Oliver

Index: Completion/AIX/Type/_object_classes
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/AIX/Type/_object_classes,v
retrieving revision 1.1
diff -u -r1.1 _object_classes
--- Completion/AIX/Type/_object_classes	2 Apr 2001 12:17:43 -0000	1.1
+++ Completion/AIX/Type/_object_classes	20 Jan 2004 13:56:34 -0000
@@ -3,4 +3,4 @@
 local expl
 
 _wanted objectclasses expl 'object class' \
-   _files -W ${ODMDIR:-/etc/objrepos} -g '^*.vc'
+   _files -W ${ODMDIR:-/etc/objrepos} -g '^*.vc(-.)'
Index: Completion/BSD/Command/_bsd_pkg
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/BSD/Command/_bsd_pkg,v
retrieving revision 1.5
diff -u -r1.5 _bsd_pkg
--- Completion/BSD/Command/_bsd_pkg	26 Sep 2002 10:30:01 -0000	1.5
+++ Completion/BSD/Command/_bsd_pkg	20 Jan 2004 13:56:34 -0000
@@ -16,9 +16,9 @@
   pkgsdir=${PACKAGES:-$portsdir/packages}/All
 
   paths=( "${(@)${(@s.:.)PKG_PATH}:#}" )
-  _files "$@" -g '*.t[bg]z' && ret=0
-  (( $#path )) && _files "$@" -W paths -g '*.t[bg]z' && ret=0
-  compadd "$@" - $pkgsdir/*.t[bg]z && ret=0
+  _files "$@" -g '*.t[bg]z(-.)' && ret=0
+  (( $#path )) && _files "$@" -W paths -g '*.t[bg]z(-.)' && ret=0
+  compadd "$@" - $pkgsdir/*.t[bg]z(-.) && ret=0
 
   return ret
 }
Index: Completion/BSD/Command/_kld
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/BSD/Command/_kld,v
retrieving revision 1.2
diff -u -r1.2 _kld
--- Completion/BSD/Command/_kld	6 Jul 2001 11:22:15 -0000	1.2
+++ Completion/BSD/Command/_kld	20 Jan 2004 13:56:34 -0000
@@ -4,8 +4,8 @@
 _kld_module() {
   local ret=1
 
-  compadd "$@" - /boot/kernel/*.ko(:t) /modules/*.ko(:t) && ret=0
-  _files "$@" -g \*.ko && ret=0
+  compadd "$@" - /boot/kernel/*.ko(-.:t) /modules/*.ko(-.:t) && ret=0
+  _files "$@" -g '*.ko(-.)' && ret=0
 
   return ret
 }
Index: Completion/Debian/Command/_debsign
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Debian/Command/_debsign,v
retrieving revision 1.3
diff -u -r1.3 _debsign
--- Completion/Debian/Command/_debsign	31 Jul 2003 15:26:14 -0000	1.3
+++ Completion/Debian/Command/_debsign	20 Jan 2004 13:56:34 -0000
@@ -12,4 +12,4 @@
   '-t[GNU system type]:GNU system type' \
   '--help[display help information]' \
   '--version[display version information]' \
-  '*:changes or dsc file:_files -g "*.(changes|dsc)"'
+  '*:changes or dsc file:_files -g "*.(changes|dsc)(-.)"'
Index: Completion/Debian/Command/_dpkg
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Debian/Command/_dpkg,v
retrieving revision 1.8
diff -u -r1.8 _dpkg
--- Completion/Debian/Command/_dpkg	31 Jul 2003 15:26:14 -0000	1.8
+++ Completion/Debian/Command/_dpkg	20 Jan 2004 13:56:34 -0000
@@ -7,13 +7,13 @@
 
 _dpkg_deb_actions=(
   '(--build -b)'{--build,-b}'[build archive]:directory:_files -/'
-  '(--contents -c)'{--contents,-c}'[list contents]:Debian package:_files -g \*.u\#deb'
-  '(--info -I)'{--info,-I}'[show info]:Debian package:_files -g \*.u\#deb'
-  '(--field -f)'{--field,-f}'[show fields]:Debian package:_files -g \*.u\#deb'
-  '(--control -e)'{--control,-e}'[extract control]:Debian package:_files -g \*.u\#deb'
-  '(--extract -x)'{--extract,-x}'[extract files]:Debian package:_files -g \*.u\#deb'
-  '(--vextract -X)'{--vextract,-X}'[extract and list files]:Debian package:_files -g \*.u\#deb'
-  '--fsys-tarfile[output fs tarfile]:Debian package:_files -g \*.u\#deb'
+  '(--contents -c)'{--contents,-c}'[list contents]:Debian package:_files -g "*.u#deb(-.)"'
+  '(--info -I)'{--info,-I}'[show info]:Debian package:_files -g "*.u#deb(-.)"'
+  '(--field -f)'{--field,-f}'[show fields]:Debian package:_files -g "*.u#deb(-.)"'
+  '(--control -e)'{--control,-e}'[extract control]:Debian package:_files -g "*.u#deb(-.)"'
+  '(--extract -x)'{--extract,-x}'[extract files]:Debian package:_files -g "*.u#deb(-.)"'
+  '(--vextract -X)'{--vextract,-X}'[extract and list files]:Debian package:_files -g "*.u#deb(-.)"'
+  '--fsys-tarfile[output fs tarfile]:Debian package:_files -g "*.u#deb(-.)"'
 )
 
 _dpkg_common_actions=(
@@ -24,7 +24,7 @@
 
 _dpkg_actions=(
   '(--install -i)'{--install,-i}'[install packages]:*:Debian packages:->install'
-  '--unpack[unpack package]:Debian package:_files -g \*.deb'
+  '--unpack[unpack package]:Debian package:_files -g "*.deb(-.)"'
   '--configure[reconfigure specified packages]:*:package:->configure'
   '(--remove -r)'{--remove,-r}'[remove package]:*:package:->remove'
   '(--purge -P)'{--purge,-P}'[purge package]:*:package:->purge'
@@ -111,7 +111,7 @@
 	"$_dpkg_options_recursive[@]" \
 	'*:directory:_path_files -/' \
       - nonrecur \
-	'*:Debian package:_path_files -g \*.deb'
+	'*:Debian package:_path_files -g "*.deb(-.)"'
   ;;
   remove|purge|status|listfiles)
     _call_function ret _dpkg_$state && return ret
Index: Completion/Debian/Command/_dpkg_source
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Debian/Command/_dpkg_source,v
retrieving revision 1.2
diff -u -r1.2 _dpkg_source
--- Completion/Debian/Command/_dpkg_source	31 Jul 2003 15:26:14 -0000	1.2
+++ Completion/Debian/Command/_dpkg_source	20 Jan 2004 13:56:34 -0000
@@ -1,7 +1,7 @@
 #compdef dpkg-source
 
 _arguments \
-  '-x[specify source file]:Debian source file:_files -g \*.dsc' \
+  '-x[specify source file]:Debian source file:_files -g "*.dsc(-.)"' \
   '-b[specify source directory]:Debian source directory:_files -/' \
   '-c-[control file]:control file:_files' \
   '-l-[changelog file]:changelog file:_files' \
Index: Completion/Debian/Command/_dput
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Debian/Command/_dput,v
retrieving revision 1.3
diff -u -r1.3 _dput
--- Completion/Debian/Command/_dput	31 Jul 2003 15:26:14 -0000	1.3
+++ Completion/Debian/Command/_dput	20 Jan 2004 13:56:34 -0000
@@ -11,4 +11,4 @@
   '(-s --simulate)'{-s,--simulare}'[simulate an upload only]' \
   '(-u --unchecked)'{-u,--unchecked}'[do not check GPG signature on the changes file]' \
   '(-v --version)'{-v,--version}'[show version information]' \
-  '*:changes file:_files -g \*.changes'
+  '*:changes file:_files -g "*.changes(-.)"'
Index: Completion/Debian/Command/_dupload
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Debian/Command/_dupload,v
retrieving revision 1.3
diff -u -r1.3 _dupload
--- Completion/Debian/Command/_dupload	31 Jul 2003 15:26:14 -0000	1.3
+++ Completion/Debian/Command/_dupload	20 Jan 2004 13:56:34 -0000
@@ -18,4 +18,4 @@
   '(-p --print)'{-p,--print}'[print config legibly]' \
   '(-q --quiet)'{-q,--quiet}'[quiet]' \
   '(-V --Version)'{-V,--Version}'[display version information]' \
-  '*:changes file:_files -g \*.changes'
+  '*:changes file:_files -g "*.changes(-.)"'
Index: Completion/Linux/Command/_losetup
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Linux/Command/_losetup,v
retrieving revision 1.1
diff -u -r1.1 _losetup
--- Completion/Linux/Command/_losetup	3 Sep 2002 12:26:21 -0000	1.1
+++ Completion/Linux/Command/_losetup	20 Jan 2004 13:56:34 -0000
@@ -10,5 +10,5 @@
   '(-d --delete --detach -o --offset)'{-o,--offset}'+[specify data start is offset]:offset (bytes)' \
   '(-d --delete --detach -p --pass-fd)'{-p,--pass-fd}'+[read passphrase from specified file descriptor]:file descriptor:_file_descriptors' \
   '(-d --delete --detach -k --keybits)'{-k,--keybits}'+[set the number of bits to use in key]:key size:(64 128 160 192 256)' \
-  '1:device:_files -g loop\*' \
+  '1:device:_files -g "loop*(-.)"' \
   '(-d --delete --detach)2:file:_files'
Index: Completion/Linux/Command/_mondo
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Linux/Command/_mondo,v
retrieving revision 1.2
diff -u -r1.2 _mondo
--- Completion/Linux/Command/_mondo	14 Nov 2003 11:56:55 -0000	1.2
+++ Completion/Linux/Command/_mondo	20 Jan 2004 13:56:34 -0000
@@ -26,7 +26,7 @@
   '-F[do not create floppy]' \
   '-H[create autorestore image]' \
   '-L[use lzo instead of bzip2]' \
-  '-P[post-nuke tarball]:post-nuke tarball:_files -g "*.(#i)(tar.gz|tgz)"' \
+  '-P[post-nuke tarball]:post-nuke tarball:_files -g "*.(#i)(tar.gz|tgz)(-.)"' \
   '-S[scratch directory]:scratch directory:_files -/' \
   '-T[temporary directory]:temporary directory:_files -/' \
   '-f[device with MBR]:device with MBR:_files -g "*(%b)"' \
Index: Completion/Linux/Command/_pkgtool
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Linux/Command/_pkgtool,v
retrieving revision 1.4
diff -u -r1.4 _pkgtool
--- Completion/Linux/Command/_pkgtool	31 Jul 2003 15:26:14 -0000	1.4
+++ Completion/Linux/Command/_pkgtool	20 Jan 2004 13:56:34 -0000
@@ -10,7 +10,7 @@
       "-ask[always ask on package installation regardless of package's priority]" \
       '-priority[provide a priority for the entire package list to use]:priority list:(ADD REC OPT SKP)' \
       '-tagfile[specify a different file to use for package priorities]:tagfile:_files -/' \
-      '*:package file:_files -g \*.tgz'
+      '*:package file:_files -g "*.tgz(-.)"'
   ;;
 
   removepkg)
@@ -27,11 +27,11 @@
       '--install-new[install new packages in addition to upgrading existing ones]' \
       '--reinstall[upgrade even when the same version is already installed]' \
       '--verbose[show all the gory details of the upgrade]' \
-      '*:package file:_files -g \*.tgz'
+      '*:package file:_files -g "*.tgz(-.)"'
   ;;
 
   explodepkg)
-    _wanted file expl 'package file' _files -g \*.tgz
+    _wanted file expl 'package file' _files -g '*.tgz(-.)'
   ;;
 
   makepkg)
Index: Completion/Linux/Command/_uml
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Linux/Command/_uml,v
retrieving revision 1.3
diff -u -r1.3 _uml
--- Completion/Linux/Command/_uml	25 Jun 2003 09:03:06 -0000	1.3
+++ Completion/Linux/Command/_uml	20 Jan 2004 13:56:34 -0000
@@ -5,7 +5,7 @@
 
 case $service in
   uml_moo)
-    _arguments '1:COW file:_files -g \*cow\*' '2:new backing file:_files'
+    _arguments '1:COW file:_files -g "*cow*(-.)"' '2:new backing file:_files'
     return
   ;;
   uml_switch)
Index: Completion/Mandrake/Command/_urpmi
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Mandrake/Command/_urpmi,v
retrieving revision 1.9
diff -u -r1.9 _urpmi
--- Completion/Mandrake/Command/_urpmi	14 Nov 2003 11:56:55 -0000	1.9
+++ Completion/Mandrake/Command/_urpmi	20 Jan 2004 13:56:34 -0000
@@ -44,7 +44,7 @@
     fi
 
     _requested files expl '(S)RPM file' \
-      _files -g '*.(#i)rpm' && ret=0
+      _files -g '*.(#i)rpm(-.)' && ret=0
   
     (( ret )) || break
   done
Index: Completion/Redhat/Command/_rpm
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Redhat/Command/_rpm,v
retrieving revision 1.7
diff -u -r1.7 _rpm
--- Completion/Redhat/Command/_rpm	31 Jul 2003 15:26:14 -0000	1.7
+++ Completion/Redhat/Command/_rpm	20 Jan 2004 13:56:34 -0000
@@ -172,10 +172,10 @@
 	'*:package:->package' && ret=0
       ;;
     build_b)
-      tmp=( '*:spec file:_files -g \*.spec' )
+      tmp=( '*:spec file:_files -g "*.spec(-.)"' )
       ;&
     build_t)
-      (( $#tmp )) || tmp=( '*:tar file:_files -g \*.\(\#i\)tar\(.\*\|\)' )
+      (( $#tmp )) || tmp=( '*:tar file:_files -g "*.(#i)tar(.*|)(-.)"' )
 
       _arguments -s \
 	"${commonopts[@]}" "${pathopts[@]}" \
@@ -258,21 +258,21 @@
       ;;
     spec_files)
       _wanted specfiles expl 'spec file' \
-	  _files -g \*.spec && ret=0
+	  _files -g '*.spec(-.)' && ret=0
       ;;
     package_file)
       _wanted files expl 'package file' \
-	  _files -g '*.(#i)rpm' && ret=0
+	  _files -g '*.(#i)rpm(-.)' && ret=0
       if [[ -prefix 1 (f|ht)tp:// ]]; then
 	_wanted urls expl 'URL of rpm package file' \
-	    _urls -f -g '*.(#i)rpm' "${expl[@]}" && ret=0
+	    _urls -f -g '*.(#i)rpm(-.)' "${expl[@]}" && ret=0
       else
 	_wanted urls expl 'URL of rpm package file' \
 	    compadd -S '' "${expl[@]}" ftp:// http:// && ret=0
       fi
       ;;
     package_src)
-      _files -g "(#i)*.src.rpm" && ret=0
+      _files -g '(#i)*.src.rpm(-.)' && ret=0
       ;;
     tags)
       local -a suf
Index: Completion/Unix/Command/_aap
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_aap,v
retrieving revision 1.2
diff -u -r1.2 _aap
--- Completion/Unix/Command/_aap	17 Jul 2003 12:42:17 -0000	1.2
+++ Completion/Unix/Command/_aap	20 Jan 2004 13:56:34 -0000
@@ -27,7 +27,7 @@
   {-j,--jobs=}'[maximum number of parallel jobs]:number of jobs:' \
   {-u,--search-up,--up}'[search directory tree upwards for main.aap recipe]' \
   \*{-I,--include=}'[directory to search for included recipes]:include directory:_files -/' \
-  {-f,--recipe=}'[recipe file to be executed]:recipe file:_files -g \*.aap' \
+  {-f,--recipe=}'[recipe file to be executed]:recipe file:_files -g \*.aap\(-.\)' \
   '--install=[install specified package]:package name:' \
   '--[end of options, targets and assignments follow]' \
   '*:aap target:->target' && ret=0
Index: Completion/Unix/Command/_antiword
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_antiword,v
retrieving revision 1.1
diff -u -r1.1 _antiword
--- Completion/Unix/Command/_antiword	14 Mar 2003 12:14:30 -0000	1.1
+++ Completion/Unix/Command/_antiword	20 Jan 2004 13:56:34 -0000
@@ -11,6 +11,6 @@
   '(-t -w)-L[use landscape mode (PostScript only)]' \
   '-s[show hidden (by Word) text]' \
   '(* -)-h[give a help message]' \
-  '*:MS Word file:_files -g \*.doc' && return
+  '*:MS Word file:_files -g "*.doc(-.)"' && return
 
 return 1
Index: Completion/Unix/Command/_bison
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_bison,v
retrieving revision 1.1
diff -u -r1.1 _bison
--- Completion/Unix/Command/_bison	2 Apr 2001 11:45:46 -0000	1.1
+++ Completion/Unix/Command/_bison	20 Jan 2004 13:56:34 -0000
@@ -1,21 +1,21 @@
 #compdef bison
 
 _arguments -s -S \
-  '(--file-prefix)-b+[specify output file prefix]:output file prefix:' \
+  '(--file-prefix)-b+[specify output file prefix]:output file prefix' \
   '(--defines)-d[write token definition file]' \
   '(--raw)-r[output bison token numbers]' \
   '(--token-table)-k[output token table]' \
   '(--no-lines)-l[don'"'"'t generate #line directives]' \
   '(--no-parser)-n[don'"'"'t generate parse (only declarations)]' \
   '(--output-file)-o+[specify parser output file name]:parser file name:_files' \
-  '(--name-prefix)-p+[change yy prefix]:prefix string:' \
+  '(--name-prefix)-p+[change yy prefix]:prefix string' \
   '(--debug)-t[output YYDEBUG definition]' \
   '(--verbose)-v[verbose mode]' \
   '(--version)-V[show version]' \
   '(--help)-h[show help]' \
   '(--yacc --fixed-output-file)-y[imitate yacc'"'"'s output file convention]' \
-  ':input file:_files -g \*.\(\#i\)\(bison\|yacc\|y\)' \
+  ':input file:_files -g \*.\(\#i\)\(bison\|yacc\|y\)\(-.\)' \
   -- \
   '*=outfile:parser file name:_files' \
-  '*file-prefix=prefix:output file prefix:' \
-  '*name-prefix=prefix:prefix string:'
+  '*file-prefix=prefix:output file prefix' \
+  '*name-prefix=prefix:prefix string'
Index: Completion/Unix/Command/_bzip2
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_bzip2,v
retrieving revision 1.4
diff -u -r1.4 _bzip2
--- Completion/Unix/Command/_bzip2	25 Jun 2003 09:03:06 -0000	1.4
+++ Completion/Unix/Command/_bzip2	20 Jan 2004 13:56:34 -0000
@@ -49,10 +49,10 @@
       $+opt_args[--test] )) && unset decompress
   if [[ -z "$decompress" ]]; then
     _description files expl 'compressed file'
-    _files "$expl[@]" -g '*.(bz2|tbz|tbz2)' && return
+    _files "$expl[@]" -g '*.(bz2|tbz|tbz2)(-.)' && return
   else
     _description files expl 'file to compress'
-    _files "$expl[@]" -g '*~*.(bz2|tbz|tbz2)' && return
+    _files "$expl[@]" -g '^*.(bz2|tbz|tbz2)(-.)' && return
   fi
 fi
 
Index: Completion/Unix/Command/_cdrecord
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_cdrecord,v
retrieving revision 1.2
diff -u -r1.2 _cdrecord
--- Completion/Unix/Command/_cdrecord	6 Aug 2003 09:22:37 -0000	1.2
+++ Completion/Unix/Command/_cdrecord	20 Jan 2004 13:56:34 -0000
@@ -80,8 +80,8 @@
 	'mcn[set media catalog number for this CD]:text' \
 	'isrc[set isrc number for the next track]:text' \
 	'index[set the index list for the next track]:list' \
-	'textfile[set the file with CD-Text data]:name:_files -g "*.inf"' \
-	'cuefile[set the file with CDRWIN CUE data]:name:_files -g "*.cue"' && ret=0
+	'textfile[set the file with CD-Text data]:name:_files -g "*.inf(-.)"' \
+	'cuefile[set the file with CDRWIN CUE data]:name:_files -g "*.cue(-.)"' && ret=0
     fi
     _requested files expl track _files && ret=0
     (( ret )) || break
Index: Completion/Unix/Command/_compress
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_compress,v
retrieving revision 1.3
diff -u -r1.3 _compress
--- Completion/Unix/Command/_compress	25 Jun 2003 09:03:06 -0000	1.3
+++ Completion/Unix/Command/_compress	20 Jan 2004 13:56:34 -0000
@@ -38,10 +38,10 @@
 if [[ "$state" = files ]]; then
   if [[ -z "$decompress" ]] || (( $+opt_args[-d] )); then
     _description files expl 'file to compress'
-    _files "$expl[@]" -g '*~*.Z' && return
+    _files "$expl[@]" -g '^*.Z(-.)' && return
   else
     _description files expl 'compressed file'
-    _files "$expl[@]" -g '*.Z' && return
+    _files "$expl[@]" -g '*.Z(-.)' && return
   fi
 fi
 
Index: Completion/Unix/Command/_dvi
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_dvi,v
retrieving revision 1.1
diff -u -r1.1 _dvi
--- Completion/Unix/Command/_dvi	2 Apr 2001 11:48:36 -0000	1.1
+++ Completion/Unix/Command/_dvi	20 Jan 2004 13:56:34 -0000
@@ -3,10 +3,10 @@
 local expl args
 
 args=(
-  '-i[specify input file]:input DVI file:_files -g \*.\(dvi\|DVI\)' \
-  '-o[specify output file]:output DVI file:_files -g \*.\(dvi\|DVI\)' \
-  ':input DVI file:_files -g \*.\(dvi\|DVI\)' \
-  ':output DVI file:_files -g \*.\(dvi\|DVI\)'
+  '-i[specify input file]:input DVI file:_files -g "*.(dvi|DVI)(-.)"' \
+  '-o[specify output file]:output DVI file:_files -g "*.(dvi|DVI)(-.)"' \
+  ':input DVI file:_files -g "*.(dvi|DVI)(-.)"' \
+  ':output DVI file:_files -g "*.(dvi|DVI)(-.)"'
 )
 
 case "$service" in
@@ -24,7 +24,7 @@
     '-E[generate EPSF file]' \
     '(-o)-f[write to stdout]' \
     '-F[append control-D]' \
-    '-h[specify additional header file]:postscript header file:_files -g \*.\(\#i\)\(ps\|eps\)' \
+    '-h[specify additional header file]:postscript header file:_files -g "*.(#i)(ps|eps)(-.)"' \
     '-i[one file per section]' \
     '-k[print crop marks]' \
     '-K[include postscript comments]' \
@@ -33,7 +33,7 @@
     '-M[no automatic font generation]' \
     '(-pp)-n[specify maximum number of pages to print]:maximum number of pages:' \
     '-N[turn off structured comments]' \
-    '(-f)-o[specify output file name]:output file name:_files -g \*.\(\#i\)\(ps\|eps\)' \
+    '(-f)-o[specify output file name]:output file name:_files -g "*.(#i)(ps|eps)(-.)"' \
     '-O[specify offset of origin]:offset of origin (<x>,<y>):' \
     '(-p -l -n)-pp[specify which pages to print]:list of pages or ranges to print:' \
     '(-pp)-p[specify first page to print]:number of first page:' \
@@ -48,7 +48,7 @@
     '(-D)-X[set horizontal resolution]:horizontal resolution:' \
     '(-D)-Y[set vertical resolution]:vertical resolution:' \
     '-Z[compress bitmapped fonts]' \
-    ':input file:_files -g \*.\(dvi\|DVI\)'
+    ':input file:_files -g "*.(dvi|DVI)(-.)"'
   ;;
 dvibook)
   _arguments -s \
@@ -59,8 +59,8 @@
 dviconcat)
   _arguments \
     '-m[specify magnification]:magnification factor:' \
-    '-o[specify output file]:output DVI file:_files -g \*.\(dvi\|DVI\)' \
-    '*:input DVI file:_files -g \*.\(dvi\|DVI\)'
+    '-o[specify output file]:output DVI file:_files -g "*.(dvi|DVI)(-.)"' \
+    '*:input DVI file:_files -g "*.(dvi|DVI)(-.)"'
   ;;
 dvidvi)
   _arguments -s \
@@ -71,8 +71,8 @@
     '(-i -x)-n[select number of pages]:maximum number of pages:' \
     '(-f -l -n)-i[specify included pages]:list of included pages:' \
     '(-f -l -n)-x[specify excluded pages]:list of excluded pages:' \
-    ':input DVI file:_files -g \*.\(dvi\|DVI\)' \
-    ':output DVI file:_files -g \*.\(dvi\|DVI\)'
+    ':input DVI file:_files -g "*.(dvi|DVI)(-.)"' \
+    ':output DVI file:_files -g "*.(dvi|DVI)(-.)"'
   ;;
 dviselect)
   _arguments -s \
@@ -90,6 +90,6 @@
   ;;
 *)
   _description files expl 'DVI file'
-  _files "$expl[@]" -g '*.(dvi|DVI)'
+  _files "$expl[@]" -g '*.(dvi|DVI)(-.)'
   ;;
 esac
Index: Completion/Unix/Command/_ecasound
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_ecasound,v
retrieving revision 1.2
diff -u -r1.2 _ecasound
--- Completion/Unix/Command/_ecasound	16 Jul 2003 01:44:17 -0000	1.2
+++ Completion/Unix/Command/_ecasound	20 Jan 2004 13:56:34 -0000
@@ -29,7 +29,7 @@
   '*-Md\:-[set the active MIDI-device]:device name:_files' \
   '*-Mms\:-[send MMC start/stop to MIDI device-id]:device id' \
   '*-mss[sends MIDI-sync to the selected MIDI-device]' \
-  '*-pf\:-[use the first preset found from file as chain operator]:preset file:_files -g *.epp' \
+  '*-pf\:-[use the first preset found from file as chain operator]:preset file:_files -g \*.epp\(-.\)' \
   '*-pn\:-[find preset from global preset database]:preset name:->pn' \
   '*-ev[analyze sample data to find max apm value without clipping]' \
   '*-ezf[find the optimal value for DC-adjusting]' \
@@ -135,7 +135,7 @@
       fi
     else
       _alternative \
-        'files:input/output file:_files -g "*.(aif|aiff|mid|wav|ewf|mp3|mp2)"' \
+        'files:input/output file:_files -g "*.(aif|aiff|mid|wav|ewf|mp3|mp2)(-.)"' \
         'streams:stream:(stdin stdout)' \
 	'devices:realtime device:((/dev/dsp alsa\:alsa\ device null\:null\ device))'
     fi
Index: Completion/Unix/Command/_figlet
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_figlet,v
retrieving revision 1.2
diff -u -r1.2 _figlet
--- Completion/Unix/Command/_figlet	25 Apr 2003 11:19:08 -0000	1.2
+++ Completion/Unix/Command/_figlet	20 Jan 2004 13:56:34 -0000
@@ -27,9 +27,9 @@
   "(-L -R)-X[use default writing direction of font]" \
   "(-t)-w+[specify output width]:output width (in columns)" \
   "-d+[specify font directory]:font directory:_path_files -/" \
-  '-f+[specify font]:font:_files -W ${~opt_args[-d]\:-$fontdir} -g \*flf\*\(\:r\)' \
+  '-f+[specify font]:font:_files -W ${~opt_args[-d]\:-$fontdir} -g \*flf\*\(-.\:r\)' \
   '(-k -S -s -o -W)-m+[specify layout mode]:layout mode' \
-  '(-N)-C+[specify control file]:control file:_files -W ${~opt_args[-d]\:-$fontdir} -g \*flc\*\(\:r\)' \
+  '(-N)-C+[specify control file]:control file:_files -W ${~opt_args[-d]\:-$fontdir} -g \*flc\*\(-.\:r\)' \
   "(-v)-I+[display info]:info code:((
     -1\:normal\ operation\ \(default\)
     0\:version,\ copyright\ and\ usage\ information
Index: Completion/Unix/Command/_flex
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_flex,v
retrieving revision 1.1
diff -u -r1.1 _flex
--- Completion/Unix/Command/_flex	2 Apr 2001 11:50:38 -0000	1.1
+++ Completion/Unix/Command/_flex	20 Jan 2004 13:56:34 -0000
@@ -29,7 +29,7 @@
   '-o-[specify output file]:output file:_files' \
   '-P-[change yy prefix]:prefix string:' \
   '-S-[override skeleton file]:skeleton file:_files' \
-  '*:input files:_files -g \*.\(\#i\)\(f\|\)lex' && ret=0
+  '*:input files:_files -g "*.(#i)(f|)lex(-.)"' && ret=0
 
 if [[ -n "$state" ]]; then
   _values -s '' 'table compression' \
Index: Completion/Unix/Command/_gcc
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_gcc,v
retrieving revision 1.5
diff -u -r1.5 _gcc
--- Completion/Unix/Command/_gcc	13 Mar 2002 09:28:05 -0000	1.5
+++ Completion/Unix/Command/_gcc	20 Jan 2004 13:56:34 -0000
@@ -13,7 +13,7 @@
     args2=()
   fi
 else
-  args2=( '*:input file:_files -g \*.\(\[cCmisSoak\]\|cc\|cxx\|ii\|k\[ih\]\)' )
+  args2=( '*:input file:_files -g "*.([cCmisSoak]|cc|cxx|ii|k[ih])(-.)"' )
 fi
 
 args=()
@@ -179,7 +179,7 @@
 _arguments -C -M 'L:|-{fW}no-=-{fW} r:|[_-]=* r:|=*' \
   "$args[@]" \
   -c -S -E -v -a -w -C -H -P -s '(-pg)-p' '(-p)-pg' \
-  '-o:output file:_files -g \^\*.\(c\|h\|cc\|C\|cxx\)' \
+  '-o:output file:_files -g "^*.(c|h|cc|C|cxx)(-.)"' \
   '-x:input file language:(c objective-c c++ c-header cpp-output c++-cpp-output assembler assembler-with-cpp none)' \
   '+e-:virtual function definitions in classes:((0\:only\ interface 1\:generate\ code))' \
   '-d-:dump:->dump' \
@@ -202,8 +202,8 @@
   '-V:gcc version:' \
   '-print-file-name=:library:->library' \
   '-print-prog-name=:program:' \
-  '*-include:include file:_files -g \*.h' \
-  '*-imacros:macro input file:_files -g \*.h' \
+  '*-include:include file:_files -g \*.h\(-.\)' \
+  '*-imacros:macro input file:_files -g \*.h\(-.\)' \
   '*-idirafter:second include path directory:_files -/' \
   '*-iprefix:prefix:_files' \
   '*-iwithprefix:second include path directory:_files -/' \
Index: Completion/Unix/Command/_gdb
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_gdb,v
retrieving revision 1.2
diff -u -r1.2 _gdb
--- Completion/Unix/Command/_gdb	1 Jun 2001 12:18:03 -0000	1.2
+++ Completion/Unix/Command/_gdb	20 Jan 2004 13:56:34 -0000
@@ -47,7 +47,7 @@
   done
 
   if [[ $#w -gt 1 ]]; then
-    _alternative "files:: _files -g '*core'" "processes:: _pids -m ${w[1]:t}"
+    _alternative "files:: _files -g '*core(-.)'" "processes:: _pids -m ${w[1]:t}"
   else
     _description files expl executable
     _files "$expl[@]" -g '*(-*)'
Index: Completion/Unix/Command/_gprof
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_gprof,v
retrieving revision 1.1
diff -u -r1.1 _gprof
--- Completion/Unix/Command/_gprof	2 Apr 2001 11:51:50 -0000	1.1
+++ Completion/Unix/Command/_gprof	20 Jan 2004 13:56:34 -0000
@@ -8,8 +8,8 @@
 	   '-I:directory:_dir_list' \
 	   '-d-:debug level:' '-k:function names:->pair' \
 	   '-m:minimum execution count:' \
-	   ':executable:_files -g \*\(\*\)' \
-	   ':profile file:_files -g gmon.\*' \
+	   ':executable:_files -g \*\(-\*\)' \
+	   ':profile file:_files -g gmon.\*\(-.\)' \
 	   -- -s '((#s)--[no-] --)' \
            '*=name*:function name:->funcs' \
 	   '*=dirs*:directory:_dir_list' && ret=0
Index: Completion/Unix/Command/_gzip
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_gzip,v
retrieving revision 1.5
diff -u -r1.5 _gzip
--- Completion/Unix/Command/_gzip	25 Jun 2003 09:03:06 -0000	1.5
+++ Completion/Unix/Command/_gzip	20 Jan 2004 13:56:34 -0000
@@ -79,10 +79,10 @@
   else
     if [[ -z "$decompress" ]]; then
       _description files expl 'file to compress'
-      _files "$expl[@]" -g '*~*.(([tT]|)[gG]|)[zZ]' && return
+      _files "$expl[@]" -g '^*.(([tT]|)[gG]|)[zZ](-.)' && return
     else
       _description files expl 'compressed file'
-      _files "$expl[@]" -g '*.(([tT]|)[gG]|)[zZ]' && return
+      _files "$expl[@]" -g '*.(([tT]|)[gG]|)[zZ](-.)' && return
     fi
   fi
   ;;
Index: Completion/Unix/Command/_imagemagick
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_imagemagick,v
retrieving revision 1.5
diff -u -r1.5 _imagemagick
--- Completion/Unix/Command/_imagemagick	31 Jul 2003 15:26:14 -0000	1.5
+++ Completion/Unix/Command/_imagemagick	20 Jan 2004 13:56:34 -0000
@@ -14,7 +14,7 @@
 formats=jpg:jpeg:tiff:miff:ras:bmp:cgm:dcx:ps:eps:fig:fits:fpx:gif:mpeg:pbm:pgm:ppm:pcd:pcl:pdf:pcx:png:rad:rgb:rgba:rle:sgi:html:shtml:tga:ttf:uil:xwd:xbm:xpm:yuv
 
 if (( $# )); then
-  _files "$@" "$expl[@]" -g '*.(#i)(${~format//:/|})'
+  _files "$@" "$expl[@]" -g '*.(#i)(${~format//:/|})(-.)'
   return
 fi
 
Index: Completion/Unix/Command/_ispell
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_ispell,v
retrieving revision 1.1
diff -u -r1.1 _ispell
--- Completion/Unix/Command/_ispell	2 Apr 2001 11:54:16 -0000	1.1
+++ Completion/Unix/Command/_ispell	20 Jan 2004 13:56:34 -0000
@@ -36,17 +36,17 @@
 buildhash)
   _arguments \
     '(-c)-s[silent operation]' \
-    '(: -s)-c[count mode]:count: :affix file:_files -g \*.\(\#i\)aff' \
+    '(: -s)-c[count mode]:count: :affix file:_files -g "*.(#i)aff(-.)"' \
     ':raw dictionary file:_files:' \
-    ':affix file:_files -g \*.\(\#i\)aff' \
-    ':hashed output file:_files \*.\(\#i\)hash'
+    ':affix file:_files -g "*.(#i)aff(-.)"' \
+    ':hashed output file:_files "*.(#i)hash(-.)"'
   ;;
 munchlist)
   _arguments -s \
-    '-l[specify affix file]:affix file:_files -g \*.\(\#i\)aff' \
+    '-l[specify affix file]:affix file:_files -g "*.(#i)aff(-.)"' \
     '-c[specify converted output file name]:converted file name:_files' \
     '-T[specify string character type]:string character type:' \
-    '-s[specify strip hash file]:hash file:_files \*.\(\#i\)hash' \
+    '-s[specify strip hash file]:hash file:_files "*.(#i)hash(-.)"' \
     '-D[debug mode]' \
     '-v[verbose mode]' \
     '-w[specify additional word characters]:word characters:' \
@@ -76,7 +76,7 @@
 icombine)
   _arguments \
     '-T[specify string character type]:string character type:' \
-    ':affix file:_files -g \*.\(\#i\)aff'
+    ':affix file:_files -g "*.(#i)aff(-.)"'
   ;;
 ijoin)
   _arguments -s \
Index: Completion/Unix/Command/_java
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_java,v
retrieving revision 1.12
diff -u -r1.12 _java
--- Completion/Unix/Command/_java	21 Jul 2003 07:29:59 -0000	1.12
+++ Completion/Unix/Command/_java	20 Jan 2004 13:56:34 -0000
@@ -22,7 +22,7 @@
     '-source[provide source compatibility with specified release]:release:(1.3 1.4)' \
     '-target[specify VM version]:release:(1.{1..4})' \
     '-help[print a synopsis of standard options]' \
-    '*:java source file:_files -g \*.java' && return 0
+    '*:java source file:_files -g \*.java\(-.\)' && return 0
   ;;
 
 jdb)
@@ -43,7 +43,7 @@
     '-verbose\:jni[print JNI information]' \
     '-version[print version]' \
     '-help[print help message]' \
-    '(- 1)-jar[specify a program capsulated as jar]:jar:_files -g \*.jar' \
+    '(- 1)-jar[specify a program capsulated as jar]:jar:_files -g \*.jar\(-.\)' \
     '(-):class:_java_class -m main ${(kv)opt_args[(i)(-classpath|-cp)]}' \
     '*::args: _normal' \
      && return 0
@@ -118,7 +118,7 @@
     jar_cmd="${words[2]#-}"
     tmpassoc=(
       m ':manifest file:_files'
-      f ':archive file:_files -g \*.\([ejw]ar\|zip\)'
+      f ':archive file:_files -g "*.([ejw]ar|zip)(-.)"'
     )
     _arguments -C \
       "${jar_cmd/[^-]*/:dummy:}" \
@@ -165,7 +165,7 @@
 extcheck)
   _arguments \
     '-verbose[print verbose messages]' \
-    ':target jar file:_files -g \*.jar' && return 0
+    ':target jar file:_files -g \*.jar\(-.\)' && return 0
   ;;
 
 rmic)
@@ -336,14 +336,14 @@
     '-storepass[specify password for keystore]:password:' \
     '-keypass[specify password for private key]:password:' \
     '-sigfile[specify base file name of .SF and .DSA files to be generated]:sigfile:_files' \
-    '-signedjar[specify signed JAR file]:_files -g \*.\(jar\|zip\)' \
+    '-signedjar[specify signed JAR file]:_files -g "*.(jar|zip)(-.)"' \
     '(2)-verify[verify mode]' \
     '-certs[output certificate information in verify mode]' \
     '-verbose[print verbose messages]' \
     '-internalsf[old behaviour]' \
     '-sectionsonly[omit header of hash of the whole manifest file]' \
     '-J-[specify java option]:java option:' \
-    ':jar file:_files -g \*.\(jar\|zip\)' \
+    ':jar file:_files -g "*.(jar|zip)(-.)"' \
     ':alias:' && return 0
   ;;
 
@@ -374,7 +374,7 @@
   compset -P '*:'
   compset -S ':*'
   _alternative \
-    "classpath:$state:_path_files -qS: -g '*.(jar|zip)'" \
+    "classpath:$state:_path_files -qS: -g '*.(jar|zip)(-.)'" \
     "classpath:$state:_path_files -r': ' -/" && return
   ;;
 
@@ -553,7 +553,7 @@
   if compset -P @; then
     _wanted files expl 'package/source list file' _files && return
   else
-    _wanted files expl 'package or source' _files -g '*.java' && return
+    _wanted files expl 'package or source' _files -g '*.java(-.)' && return
   fi
   ;;
 
Index: Completion/Unix/Command/_links
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_links,v
retrieving revision 1.6
diff -u -r1.6 _links
--- Completion/Unix/Command/_links	4 Dec 2003 14:23:31 -0000	1.6
+++ Completion/Unix/Command/_links	20 Jan 2004 13:56:34 -0000
@@ -29,7 +29,7 @@
 
 case $state in
   html)
-    _alternative 'files:file:_files -g "*.x#html"' 'urls:url:_urls' && ret=0
+    _alternative 'files:file:_files -g "*.x#html(-.)"' 'urls:url:_urls' && ret=0
   ;;
   graphics_drivers)
     vals=(${=${${${(f)"$(_call_program links-graphics-drivers links -driver help 2>&1)"}[-1]}//','/''}} )
Index: Completion/Unix/Command/_lynx
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_lynx,v
retrieving revision 1.7
diff -u -r1.7 _lynx
--- Completion/Unix/Command/_lynx	25 Jun 2003 09:03:06 -0000	1.7
+++ Completion/Unix/Command/_lynx	20 Jan 2004 13:56:34 -0000
@@ -140,7 +140,7 @@
     outside_telnet print shell suspend telnet_port useragent && return
   ;;
 html)
-  _alternative 'files:file:_files -g "*.x#html"' 'urls:url:_urls' && return
+  _alternative 'files:file:_files -g "*.x#html(-.)"' 'urls:url:_urls' && return
   ;;
 esac
 
Index: Completion/Unix/Command/_lzop
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_lzop,v
retrieving revision 1.3
diff -u -r1.3 _lzop
--- Completion/Unix/Command/_lzop	25 Jun 2003 09:03:06 -0000	1.3
+++ Completion/Unix/Command/_lzop	20 Jan 2004 13:56:34 -0000
@@ -83,10 +83,10 @@
 	$+opt_args[--test] || $+opt_args[-t] || $+opt_args[--list] ||
 	$+opt_args[-l] || $+opt_args[--ls] || $+opt_args[--info] )); then
       _description files expl 'compressed file'
-      _files "$expl[@]" -g '*.[tl]zo' && ret=0
+      _files "$expl[@]" -g '*.[tl]zo(-.)' && ret=0
     else
       _description files expl 'file to compress'
-      _files "$expl[@]" -g '*~*.[tl]zo' && ret=0
+      _files "$expl[@]" -g '*~*.[tl]zo(-.)' && ret=0
 
     fi
   ;;
Index: Completion/Unix/Command/_mh
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_mh,v
retrieving revision 1.4
diff -u -r1.4 _mh
--- Completion/Unix/Command/_mh	14 Nov 2003 11:56:55 -0000	1.4
+++ Completion/Unix/Command/_mh	20 Jan 2004 13:56:34 -0000
@@ -49,7 +49,7 @@
   mhlib=${${$(mhparam mhlproc 2>/dev/null):h}:-/usr/lib/mh}
   mhfpath=($mymhdir $mhlib)
 
-  _wanted files expl 'MH template file' _files -W mhfpath -g '*(.)'
+  _wanted files expl 'MH template file' _files -W mhfpath -g '*(-.)'
 elif [[ $service = mhmail ]]; then
   _email_addresses
 elif [[ "$prev" = -(no|)cc ]]; then
@@ -83,7 +83,7 @@
       compadd "$expl[@]" $(mark $foldnam 2>/dev/null | awk -F: '{ print $1 }') &&
         ret=0
       compadd "$expl[@]" reply next cur prev first last all unseen && ret=0
-      _path_files "$expl[@]" -W folddir -g '<->' && ret=0
+      _path_files "$expl[@]" -W folddir -g '<->(-.)' && ret=0
     done
     (( ret )) || return 0
   done
Index: Completion/Unix/Command/_mysqldiff
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_mysqldiff,v
retrieving revision 1.1
diff -u -r1.1 _mysqldiff
--- Completion/Unix/Command/_mysqldiff	7 Mar 2002 14:00:43 -0000	1.1
+++ Completion/Unix/Command/_mysqldiff	20 Jan 2004 13:56:34 -0000
@@ -24,7 +24,7 @@
 _mysql_db_or_file () {
   _alternative \
     'databases:MySQL databases:_mysql_databases' \
-    'files:MySQL database definition files:_files -g \*.\(my\|\)sql'
+    'files:MySQL database definition files:_files -g "*.(my|)sql(-.)"'
 }
 
 _mysql_utils
Index: Completion/Unix/Command/_pack
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_pack,v
retrieving revision 1.1
diff -u -r1.1 _pack
--- Completion/Unix/Command/_pack	2 Apr 2001 11:59:06 -0000	1.1
+++ Completion/Unix/Command/_pack	20 Jan 2004 13:56:34 -0000
@@ -7,10 +7,10 @@
     _arguments -C \
       '-f[force packing even for files which will not benefit]' \
       '-[show statistics for files]' \
-      '*:file to compress:_files -g \*\~\*.z'
+      '*:file to compress:_files -g "^*.z(-.)"'
   ;;
   unpack)
     _description files expl 'compressed file'
-    _files "$expl[@]" -g '*.z'
+    _files "$expl[@]" -g '*.z(-.)'
   ;;
 esac
Index: Completion/Unix/Command/_pbm
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_pbm,v
retrieving revision 1.6
diff -u -r1.6 _pbm
--- Completion/Unix/Command/_pbm	31 Jul 2003 15:26:14 -0000	1.6
+++ Completion/Unix/Command/_pbm	20 Jan 2004 13:56:34 -0000
@@ -9,16 +9,16 @@
 local pat expl ret=1
 
 if [[ "$service" = pnm* ]]; then
-  pat='*.(#i)p[bgp]m'
+  pat='*.(#i)p[bgp]m(-.)'
 elif [[ "$service" = *top[bgpn]m ]]; then
-  pat="*.(#i)${service%%top[bgpn]m}"
+  pat="*.(#i)${service%%top[bgpn]m}(-.)"
 else
-  pat="*.(#i)${service[1,3]}"
+  pat="*.(#i)${service[1,3]}(-.)"
 fi
 
 if (( $# + $+_in_pbm )); then
   _wanted files expl 'picture file' _path_files "$@" -g "$pat" - ||
-      _files "$@" "$expl[@]" -g '*.(#i)p[bgp]m'
+      _files "$@" "$expl[@]" -g '*.(#i)p[bgp]m(-.)'
   return
 fi
 
@@ -114,7 +114,7 @@
 
 pbmtext)
   _arguments \
-    '(-builtin)-font[specify font file]:font file:_files -g \*.\(\#i\)pbm' \
+    '(-builtin)-font[specify font file]:font file:_files -g "*.(#i)pbm(-.)"' \
     '(-font)-builtin[select builtin font]:builtin font:(bdf fixed)' \
     '-space[add space between characters]:space (pixels)' \
     '*:text'
@@ -184,8 +184,8 @@
     '*-v[specify vertical escapement of next character]:vertical escapement' \
     '*-x[specify x offset of next character]:x offset' \
     '*-y[specify y offset of next character]:y offset' \
-    ':pk file:_files -g \*.\(\#i\)pk' \
-    ':tfm file:_files -g \*.\(\#i\)tfm' \
+    ':pk file:_files -g "*.(#i)pk(-.)"' \
+    ':tfm file:_files -g "*.(#i)tfm(-.)"' \
     '*:file:_pbm'
   ;;
 
@@ -269,7 +269,7 @@
     return ret
   elif [[ CURRENT -eq 3 && "$words[2]" = -map ]]; then
     _description files expl 'map file'
-    _files "$expl[@]" -g '*.(#i)ppm'
+    _files "$expl[@]" -g '*.(#i)ppm(-.)'
   else
     _pbm
   fi
@@ -280,7 +280,7 @@
     '*-x[set width of next bitmap]:width' \
     '*-y[set height of next bitmap]:height' \
     '*-c[set next character number]:character number' \
-    ':pk file:_files -g \*.\(\#i\)pk' \
+    ':pk file:_files -g "*.(#i)pk(-.)"' \
     '*:file:_pbm'
   ;;
 
@@ -332,7 +332,7 @@
     '(-valign)-yoff[specify overlay y offset]:y offset' \
     '(-xoff)-align=[specify horizontal alignment for overlay image]:alignment:(left center right)' \
     '(-yoff)-valign=[specify vertical alignment for overlay image]:alignment:(top middle bottom)' \
-    '-alpha[specify alpha mask file]:alpha mask file:_files -g \*.\(\#i\)pgm' \
+    '-alpha[specify alpha mask file]:alpha mask file:_files -g "*.(#i)pgm(-.)"' \
     ':overlay file:_pbm' '*:file:_pbm'
   ;;
 
@@ -384,8 +384,8 @@
   _arguments \
     '-verbose[verbose mode]' \
     '-gray[modify only gray pixels]' \
-    '-rmap[specify input luminosity map file]:luminosity map file:_files -g \*.\(\#i\)pgm' \
-    '-wmap[specify output luminosity map file]:luminosity map file:_files -g \*.\(\#i\)pgm' \
+    '-rmap[specify input luminosity map file]:luminosity map file:_files -g "*.(#i)pgm(-.)"' \
+    '-wmap[specify output luminosity map file]:luminosity map file:_files -g "*.(#i)pgm(-.)"' \
     ':file:_pbm'
   ;;
 pnmhistmap)
@@ -470,7 +470,7 @@
 pnmtoddif)
   _arguments \
     '-resolution:horizontal resolution::vertical resolution' \
-    ':file:_pbm' ':ddif file:_files -g \*.\(\#i\)ddif'
+    ':file:_pbm' ':ddif file:_files -g "*.(#i)ddif(-.)"'
   ;;
 
 pnmtofits)
@@ -664,7 +664,7 @@
     return ret
   elif [[ CURRENT -eq 3 && "$words[2]" = -map ]]; then
     _description files expl 'map file'
-    _files "$expl[@]" -g '*.(#i)ppm'
+    _files "$expl[@]" -g '*.(#i)ppm(-.)'
   else
     _pbm
   fi
@@ -798,7 +798,7 @@
 psidtopgm)
   _arguments \
     ':width' ':height' ':bits per sample' \
-    ':postscript file:_files -g "*.(#i)(ps|eps)"'
+    ':postscript file:_files -g "*.(#i)(ps|eps)(-.)"'
   ;;
 pstopnm)
   _arguments \
@@ -813,7 +813,7 @@
     '-xborder:x border fraction' '-yborder:y border fraction' \
     '-xmax:maximum width' '-ymax:maximum height' \
     '-xsize:width' '-ysize:height' \
-    ':postscript file:_files -g \*.\(\#i\)\(ps\|eps\)'
+    ':postscript file:_files -g "*.(#i)(ps|eps)(-.)"'
   ;;
 
 rawtopgm)
@@ -848,7 +848,7 @@
 
   if [[ -n "$expl" ]]; then
     _description files expl "$expl"
-    _files "$expl" -g '*.(#i)pgm'
+    _files "$expl" -g '*.(#i)pgm(-.)'
   fi
   ;;
 
@@ -887,5 +887,5 @@
 
 *)
   _wanted files expl 'picture file' _path_files -g "$pat" ||
-      _files "$expl[@]" -g '*.(#i)p[bgp]m'
+      _files "$expl[@]" -g '*.(#i)p[bgp]m(-.)'
 esac
Index: Completion/Unix/Command/_perl
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_perl,v
retrieving revision 1.6
diff -u -r1.6 _perl
--- Completion/Unix/Command/_perl	19 Aug 2003 22:03:02 -0000	1.6
+++ Completion/Unix/Command/_perl	20 Jan 2004 13:56:34 -0000
@@ -31,7 +31,7 @@
     "-V-[print perl configuration information]:configuration keys:_perl_config_vars" \
     '-w[TURN WARNINGS ON FOR COMPILATION OF YOUR SCRIPT. Recommended.]' \
     '-x-[strip off text before #!perl line and perhaps cd to directory]:directory to cd to:_files -/' \
-    '1:Perl script:_files -/ -g \*.\(p\[ml\]\|PL\)' \
+    '1:Perl script:_files -/ -g "*.(p[ml]|PL)(-.)"' \
     '*::args: _normal' 
 }
 
Index: Completion/Unix/Command/_perldoc
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_perldoc,v
retrieving revision 1.1
diff -u -r1.1 _perldoc
--- Completion/Unix/Command/_perldoc	2 Apr 2001 12:00:14 -0000	1.1
+++ Completion/Unix/Command/_perldoc	20 Jan 2004 13:56:34 -0000
@@ -17,7 +17,7 @@
   _alternative \
     'modules:: _perl_modules' \
     'pods:: _perl_basepods' \
-    'files:Perl modules and .pods:_files -g \*.\(pod\|pm\)'
+    'files:Perl modules and .pods:_files -g "*.(pod|pm)(-.)"'
 }
 
 _perldoc "$@"
Index: Completion/Unix/Command/_python
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_python,v
retrieving revision 1.1
diff -u -r1.1 _python
--- Completion/Unix/Command/_python	27 Feb 2003 05:12:29 -0000	1.1
+++ Completion/Unix/Command/_python	20 Jan 2004 13:56:34 -0000
@@ -20,7 +20,7 @@
   '-W+[warning control (arg is action:message:category:module:lineno)]:warning filter:(default always ignore module once error)' \
   '-x[skip first line of source, allowing use of non-Unix forms of #!cmd]' \
   '(1 -)-[program read from stdin (default; interactive mode if a tty)]' \
-  '(-)1:script file:_files -g \*.py\(\|c\|o\)' \
+  '(-)1:script file:_files -g "*.py(|c|o)(-.)"'
   '*:script argument:_files' && return
 
 return 1
Index: Completion/Unix/Command/_rar
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_rar,v
retrieving revision 1.2
diff -u -r1.2 _rar
--- Completion/Unix/Command/_rar	31 Jul 2003 15:26:14 -0000	1.2
+++ Completion/Unix/Command/_rar	20 Jan 2004 13:56:34 -0000
@@ -39,7 +39,7 @@
     if (( CURRENT == 2 )); then
       _wanted commands expl 'rar command' compadd e l lt p t v vt x && return
     else
-      _arguments "$common[@]" '*:RAR files:_files -g \*.rar' && return
+      _arguments "$common[@]" '*:RAR files:_files -g \*.rar\(-.\)' && return
     fi
   ;;
   rar)
Index: Completion/Unix/Command/_ruby
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_ruby,v
retrieving revision 1.3
diff -u -r1.3 _ruby
--- Completion/Unix/Command/_ruby	16 Aug 2003 09:22:18 -0000	1.3
+++ Completion/Unix/Command/_ruby	20 Jan 2004 13:56:34 -0000
@@ -32,7 +32,7 @@
   '(1 * -)--copyright[print the copyright]' \
   '(1 * -)'{-h,--help}'[print help message]' \
   '(1 * -)--version[print the version]' \
-  '(-)1:script file:_files -g \*.rb' \
+  '(-)1:script file:_files -g "*.rb(-.)"' \
   '*:script argument:_files' && ret=0
 
 case $state in
Index: Completion/Unix/Command/_sablotron
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_sablotron,v
retrieving revision 1.1
diff -u -r1.1 _sablotron
--- Completion/Unix/Command/_sablotron	23 Jul 2003 11:11:44 -0000	1.1
+++ Completion/Unix/Command/_sablotron	20 Jan 2004 13:56:34 -0000
@@ -33,7 +33,7 @@
       case $mode:${#words[1,CURRENT-1]:#(-*|*=*)}; in
         default:1|chain:<3->|batch-x:2|batch-s:1)
 	  _description files expl stylesheet
-	  _files "$expl[@]" -g \*.xsl && ret=0
+	  _files "$expl[@]" -g "*.xsl(-.)" && ret=0
 	;;
         default:2|chain:1|batch-x:1|batch-s:2)
 	  _description files expl 'input file'
Index: Completion/Unix/Command/_sccs
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_sccs,v
retrieving revision 1.5
diff -u -r1.5 _sccs
--- Completion/Unix/Command/_sccs	25 Jun 2003 09:03:06 -0000	1.5
+++ Completion/Unix/Command/_sccs	20 Jan 2004 13:56:34 -0000
@@ -10,7 +10,7 @@
   PREFIX="$pref"
   IPREFIX="$ipref"
   _wanted sccs-files expl 'sccs file' _files -W ${PROJECTDIR:-~+} \
-      -g 's.*' && ret=0
+      -g 's.*(-.)' && ret=0
   
   return ret
 }
@@ -49,7 +49,7 @@
 
 ropt='-r+[specify sccs delta id]:sccs delta id'
 copt='-c+[specify date]:date-stamp'
-sfiles=":file:_files -g s.\*"
+sfiles=':file:_files -g "s.*(-.)"'
 
 if [[ $service = sccs ]]; then
   _arguments -C -A "-*" \
Index: Completion/Unix/Command/_texinfo
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_texinfo,v
retrieving revision 1.4
diff -u -r1.4 _texinfo
--- Completion/Unix/Command/_texinfo	25 Apr 2003 11:19:09 -0000	1.4
+++ Completion/Unix/Command/_texinfo	20 Jan 2004 13:56:34 -0000
@@ -11,12 +11,12 @@
       '(: -)--apropos=[look up string in indices]:search string: ' \
       '(-f --file)'{\*-d,\*--directory=}'[add directory to infopath]:info dir:_files -/' \
       '--dribble=[record keystrokes]:file with keystrokes:_files' \
-      '(-f --file -d --directory)'{-f,--file=}'[info file to show]:info file:_files -g "*.info(|.gz|.bz2)"' \
+      '(-f --file -d --directory)'{-f,--file=}'[info file to show]:info file:_files -g "*.info(|.gz|.bz2)(-.)"' \
       '(: - -h --help)'{-h,--help}'[display usage]' \
       '(-o --output -O)--index-search=[go directly to node if found]:search string: ' \
-      '(--index-search -o --output -O)'{-o,--output=}'[dump selected nodes to filename]:filename:_files -g "*(^/)"' \
+      '(--index-search -o --output -O)'{-o,--output=}'[dump selected nodes to filename]:filename:_files -g "*(-.)"' \
       '(-R --raw-escapes)'{-R,--raw-escapes}'[do not remove ANSI escapes from man pages]' \
-      '--restore=[read keystrokes from file]:filename:_files -g "*(^/)"' \
+      '--restore=[read keystrokes from file]:filename:_files -g "*(-.)"' \
       '(--index-search -o --output -O --show-options --usage)'{-O,--show-options,--usage}'[go to command-line options node]' \
       '--subnodes[recursively output menu items]' \
       '--vi-keys[use Vi-like key bindings]' \
@@ -43,21 +43,21 @@
         '--keep-old=[inhibit replacement of existing entries/removal of empty sections]' \
         '--test[do not update dir file]' \
         '--debug[enable debugging]' \
-        '*:info file:_files -g \*.info'
+        '*:info file:_files -g "*.info(-.)"'
 	return
     else
       _arguments \
         '(--delete --remove)'{--delete,--remove}'[delete existing entries]' \
-        '(2)--dir-file=[specify dir file]:dir file:_files -g dir' \
+        '(2)--dir-file=[specify dir file]:dir file:_files -g "dir(-.)"' \
         \*{--entry,--info}'[specify directory entry to add]:text' \
         '(- 1 2)--help[display help information]' \
-        '(1)--info-file=[specify info file to install in the directory]:info file:_files -g *.info' \
+        '(1)--info-file=[specify info file to install in the directory]:info file:_files -g "*.info(-.)"' \
         '(2)--info-dir=[specify directory containing dir file]:info directory:_files -/' \
         '--quiet[suppress warnings]' \
         '(--delete --remove)--section=[put new entries in specified section]' \
         '(- 1 2)--version[display version information]' \
-        '1:info file:_files -g \*.info' \
-        '2:dir file:_files -g dir'
+        '1:info file:_files -g "*.info(-.)"' \
+        '2:dir file:_files -g "dir(-.)"'
 	return
     fi
   ;;
@@ -137,7 +137,7 @@
       '-searchlook:search match display:(color inverse underline)' \
       '-iconic' \
       '-dir:info path:_dir_list' \
-      '-file:info file:_files -g "*.info(|.gz|.bz2)"' \
+      '-file:info file:_files -g "*.info(|.gz|.bz2)(-.)"' \
       '-node:info node:->item' \
       '*::menu items:->item' && ret=0
     info=( _call_program info info ${(kv)opt_args[(I)-file]/-file/-f} )
Index: Completion/Unix/Command/_tiff
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_tiff,v
retrieving revision 1.2
diff -u -r1.2 _tiff
--- Completion/Unix/Command/_tiff	16 Apr 2002 07:48:46 -0000	1.2
+++ Completion/Unix/Command/_tiff	20 Jan 2004 13:56:34 -0000
@@ -3,9 +3,9 @@
 local pat expl ret=1
 
 if [[ "$service" = *2tiff ]]; then
-  pat="*.(#i)${service}"
+  pat="*.(#i)${service}(-.)"
 else
-  pat="*.(#i)tiff"
+  pat='*.(#i)tiff(-.)'
 fi
 
 if [[ $# -ne 0 || $+_in_tiff -ne 0 ]]; then
@@ -14,7 +14,7 @@
     set -- "$expl[@]"
   fi
   _wanted files expl 'picture file' _path_files "$@" -g "$pat" - ||
-      _files "$@" "$expl[@]" -g '*.(#i)tiff'
+      _files "$@" "$expl[@]" -g '*.(#i)tiff(-.)'
   return
 fi
 
@@ -27,67 +27,67 @@
 tiff2bw)
   _arguments -C \
     '-c[specify compression scheme]:compression scheme:->compress' \
-    '-r[specify rows per strip]:rows per strip:' \
-    '-R[specify percentage of red channel]:percentage of red channel:' \
-    '-G[specify percentage of green channel]:percentage of green channel:' \
-    '-B[specify percentage of blue channel]:percentage of blue channel:' \
-    ':input file:_files -g \*.\(\#i\)tif\(\|f\)' \
-    ':output file:_files -g \*.\(\#i\)tif\(\|f\)' && ret=0
+    '-r[specify rows per strip]:rows per strip' \
+    '-R[specify percentage of red channel]:percentage of red channel' \
+    '-G[specify percentage of green channel]:percentage of green channel' \
+    '-B[specify percentage of blue channel]:percentage of blue channel' \
+    ':input file:_files -g "*.(#i)tif(|f)(-.)"' \
+    ':output file:_files -g "*.(#i)tif(|f)(-.)"' && ret=0
   ;;
 tiff2ps)
   _arguments \
     '-1[generate PostScript Level I output]' \
     '-2[generate PostScript Level II output]' \
     '-a[generate output for all IFDs]' \
-    '-d[set initial TIFF directory]:initial TIFF directory:' \
+    '-d[set initial TIFF directory]:initial TIFF directory' \
     '(-p)-e[generate Encapsulated PostScript]' \
-    '-o[set initial TIFF directory (file offset)]:file offset:' \
+    '-o[set initial TIFF directory (file offset)]:file offset' \
     '(-e)-p[generate non-Encapsulated PostScript]' \
-    '-h[set page height]:page height:' \
-    '-w[set page width]:page width:' \
+    '-h[set page height]:page height' \
+    '-w[set page width]:page width' \
     '-8[disable use of ASCII85 encoding]' \
     '-D[print two pages per sheet]' \
-    '-O[specify output file]:output file:_files -g \*.\(\#i\)ps' \
+    '-O[specify output file]:output file:_files -g "*.(#i)ps(-.)"' \
     '-s[generate output for a single image]' \
     '-T[print pages for top edge binding]' \
-    '*:input TIFF file:_files -g \*.\(\#i\)tif\(\|f\)' && ret=0
+    '*:input TIFF file:_files -g "*.(#i)tif(|f)(-.)"' && ret=0
   ;;
 tiffcmp)
   _arguments \
     '-l[list all differing bytes]' \
     '-t[ignore differences in directories]' \
-    ':first input TIFF file:_files -g \*.\(\#i\)tif\(\|f\)' \
-    ':second input TIFF file:_files -g \*.\(\#i\)tif\(\|f\)' && ret=0
+    ':first input TIFF file:_files -g "*.(#i)tif(|f)(-.)"' \
+    ':second input TIFF file:_files -g "*.(#i)tif(|f)(-.)"' && ret=0
   ;;
 tiffcp)
   _arguments -C \
     '-B[write output in bin-endian byte order]' \
     '-c[specify compression scheme]:compression scheme:->compress' \
-    '-o[set initial TIFF directory (file offset)]:file offset:' \
+    '-o[set initial TIFF directory (file offset)]:file offset' \
     '-p[set sample packing]:sample packing:(contig separate)' \
     '(-t)-s[write output in strips]' \
     '(-s)-t[write output in tiles]' \
     '-i[ignore read errors]' \
-    '-r[specify rows per strip]:rows per strip:' \
-    '-w[specify output tile width]:output tile width:' \
-    '-l[specify output tile length]:output tile length:' \
+    '-r[specify rows per strip]:rows per strip' \
+    '-w[specify output tile width]:output tile width' \
+    '-l[specify output tile length]:output tile length' \
     '-f[specify fill order]:fill order:(lsb2msb msb2lsb)' \
-    '*:input TIFF file:_files -g \*.\(\#i\)tif\(\|f\)' && ret=0
+    '*:input TIFF file:_files -g "*.(#i)tif(|f)(-.)"' && ret=0
   ;;
 tiffdither)
   _arguments -C \
     '-c[specify compression scheme]:compression scheme:->compress' \
     '-f[specify fill order]:fill order:(lsb2msb msb2lsb)' \
-    '-r[specify rows per strip]:rows per strip:' \
-    '-t[set threshold for dithering]:dither threshold value:' \
-    ':input file:_files -g \*.\(\#i\)tif\(\|f\)' \
-    ':output file:_files -g \*.\(\#i\)tif\(\|f\)' && ret=0
+    '-r[specify rows per strip]:rows per strip' \
+    '-t[set threshold for dithering]:dither threshold value' \
+    ':input file:_files -g "*.(#i)tif(|f)(-.)"' \
+    ':output file:_files -g "*.(#i)tif(|f)(-.)"' && ret=0
   ;;
 tiffdump)
   _arguments \
     '-o[set initial TIFF directory (file offset)]:file offset:' \
     '-h[print numbers in hexadecimal]' \
-    '*:input TIFF file:_files -g \*.\(\#i\)tif\(\|f\)' && ret=0
+    '*:input TIFF file:_files -g "*.(#i)tif(|f)(-.)"' && ret=0
   ;;
 tiffinfo)
   _arguments \
@@ -95,26 +95,26 @@
     '-D[read and decompress data]' \
     '-d[print decompressed data]' \
     '-j[display JPEG-related tags]' \
-    '-o[set initial TIFF directory (file offset)]:file offset:' \
+    '-o[set initial TIFF directory (file offset)]:file offset' \
     '-s[display offsets and byte counts for all data strips]' \
     '-i[ignore read errors]' \
     '-f[force fill order]:fill order:(lsb2msb msb2lsb)' \
     '-w[display raw data in words]' \
-    '*:input TIFF file:_files -g \*.\(\#i\)tif\(\|f\)' && ret=0
+    '*:input TIFF file:_files -g "*.(#i)tif(|f)(-.)"' && ret=0
   ;;
 tiffmedian)
   _arguments -C \
-    '-r[specify rows per strip]:rows per strip:' \
-    '-C[specify number of colormap entries]:number of colormap entries:' \
+    '-r[specify rows per strip]:rows per strip' \
+    '-C[specify number of colormap entries]:number of colormap entries' \
     '-c[specify compression scheme]:compression scheme:->compress' \
     '-f[use Floyd-Steinberg dithering]' \
-    ':input file:_files -g \*.\(\#i\)tif\(\|f\)' \
-    ':output file:_files -g \*.\(\#i\)tif\(\|f\)' && ret=0
+    ':input file:_files -g "*.(#i)tif(|f)(-.)"' \
+    ':output file:_files -g "*.(#i)tif(|f)(-.)"' && ret=0
   ;;
 tiffsplit)
   _arguments \
-    ':input file:_files -g \*.\(\#i\)tif\(\|f\)' \
-    ':output file prefix:' && ret=0
+    ':input file:_files -g "*.(#i)tif(|f)(-.)"' \
+    ':output file prefix' && ret=0
   ;;
 fax2tiff)
   _arguments \
@@ -125,46 +125,46 @@
     '(-B)-W[0 in input is white]' \
     '(-M)-L[input is lsb-to-msb]' \
     '(-L)-M[input is msb-to-lsb]' \
-    '-R[specify resolution]:resolution (lines per inch):' \
-    '-o[specify output file]:output file:_files -g \*.\(\#i\)tif\(\|f\)' \
+    '-R[specify resolution]:resolution (lines per inch)' \
+    '-o[specify output file]:output file:_files -g "*.(#i)tif(|f)(-.)"' \
     '(-f)-c[generate `classic'"'"' TIFF format]' \
     '(-c)-f[generate TIFF Class F format]' \
     '-m[output in msb-to-lsb order]' \
-    '-p[don'"'"'t align EOL codes]' \
+    "-p[don't align EOL codes]" \
     '-s[duplicate all rows]' \
     '-v[verbose mode]' \
-    ':FAX input file:_files -g \*.\(\#i\)\(g\[34\]\|fax\)' && ret=0
+    ':FAX input file:_files -g "*.(#i)(g[34]|fax)(-.)"' && ret=0
   ;;
 gif2tiff)
   _arguments -C \
-    '-r[specify rows per strip]:rows per strip:' \
+    '-r[specify rows per strip]:rows per strip' \
     '-c[specify compression scheme]:compression scheme:->compress' \
-    ':input GIF file:_files -g \*.\(\#i\)gif' \
-    ':output file:_files -g \*.\(\#i\)tif\(\|f\)' && ret=0
+    ':input GIF file:_files -g "*.(#i)gif(-.)"' \
+    ':output file:_files -g "*.(#i)tif(|f)(-.)"' && ret=0
   ;;
 ppm2tiff)
   _arguments -C \
-    '-r[specify rows per strip]:rows per strip:' \
+    '-r[specify rows per strip]:rows per strip' \
     '-c[specify compression scheme]:compression scheme:->compress' \
     '-R[specify resolution]:resolution:' \
-    ':input GIF file:_files -g \*.\(\#i\)ppm' \
-    ':output file:_files -g \*.\(\#i\)tif\(\|f\)' && ret=0
+    ':input GIF file:_files -g "*.(#i)ppm(-.)"' \
+    ':output file:_files -g "*.(#i)tif(|f)(-.)"' && ret=0
   ;;
 ras2tiff)
   _arguments -C \
-    '-r[specify rows per strip]:rows per strip:' \
+    '-r[specify rows per strip]:rows per strip' \
     '-c[specify compression scheme]:compression scheme:->compress' \
-    ':input raster image file:_files -g \*.\(\#i\)ras\(\|t\)' \
-    ':output file:_files -g \*.\(\#i\)tif\(\|f\)' && ret=0
+    ':input raster image file:_files -g "*.(#i)ras(|t)(-.)"' \
+    ':output file:_files -g "*.(#i)tif(|f)(-.)"' && ret=0
   ;;
 pal2rgb)
   _arguments -C \
     '-C[specify number of bits for colormap entries]:bits for colormap entries:(8 16)' \
     '-p[set sample packing]:sample packing:(contig separate)' \
     '-c[specify compression scheme]:compression scheme:->compress' \
-    '-r[specify rows per strip]:rows per strip:' \
-    ':input file:_files -g \*.\(\#i\)tif\(\|f\)' \
-    ':output file:_files -g \*.\(\#i\)tif\(\|f\)' && ret=0
+    '-r[specify rows per strip]:rows per strip' \
+    ':input file:_files -g "*.(#i)tif(|f)(-.)"' \
+    ':output file:_files -g "*.(#i)tif(|f)(-.)"' && ret=0
   ;;
 *)
   _description files expl 'picture file'
@@ -185,7 +185,7 @@
 	'fill[byte-align EOL codes]' && ret=0
       ;;
     jpeg)
-      _message -e values 'compression quality (0-100), or `r'"'"' (output RGB)'
+      _message -e values "compression quality (0-100), or \`r' (output RGB)"
       ret=0
       ;;
     lzw|zip)
Index: Completion/Unix/Command/_vorbis
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_vorbis,v
retrieving revision 1.2
diff -u -r1.2 _vorbis
--- Completion/Unix/Command/_vorbis	31 Jul 2003 15:26:14 -0000	1.2
+++ Completion/Unix/Command/_vorbis	20 Jan 2004 13:56:34 -0000
@@ -30,7 +30,7 @@
       '(-N --tracknum)'{-N,--tracknum}'[set the track number comment field to the given value]:track number' \
       '(-t --title)'{-t,--title}'[set the track title comment field to title]:title' \
       '(-l --album)'{-l,--album}'[set the album comment field to album]' \
-      '*:wav file:_files -g "(#i)*.wav"' && ret=0
+      '*:wav file:_files -g "(#i)*.wav(-.)"' && ret=0
   ;;
   ogg123)
     _arguments -C -s \
@@ -76,7 +76,7 @@
 case $state in
   oggfiles)
     _wanted files expl 'ogg vorbis file' \
-	_files "$expl[@]" -g '(#i)*.ogg' && return
+	_files "$expl[@]" -g '(#i)*.ogg(-.)' && return
   ;;
   devopts)
     if compset -p '*:'; then
Index: Completion/Unix/Command/_w3m
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_w3m,v
retrieving revision 1.9
diff -u -r1.9 _w3m
--- Completion/Unix/Command/_w3m	14 Nov 2003 11:56:55 -0000	1.9
+++ Completion/Unix/Command/_w3m	20 Jan 2004 13:56:34 -0000
@@ -38,7 +38,7 @@
 
   _tags files w3mhistory urls
   while _tags; do
-    _requested files expl 'file' _files -g "*.x#html" && ret=0
+    _requested files expl 'file' _files -g "*.x#html(-.)" && ret=0
     _requested urls expl 'url' _urls && ret=0
     if [[ -s ~/.w3m/history ]] && _requested w3mhistory; then
       w3mhistory=( ${(f)"$(<~/.w3m/history)"} )
Index: Completion/Unix/Command/_xmlsoft
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_xmlsoft,v
retrieving revision 1.5
diff -u -r1.5 _xmlsoft
--- Completion/Unix/Command/_xmlsoft	14 Nov 2003 11:56:55 -0000	1.5
+++ Completion/Unix/Command/_xmlsoft	20 Jan 2004 13:56:34 -0000
@@ -29,8 +29,8 @@
       '--xinclude[do XInclude processing on document input]' \
       '--load-trace[print trace of all external entites loaded]' \
       {--profile,--norman}'[dump profiling information]' \
-      '1:stylesheet:_files -g \*.xsl' \
-      ':file:_files -g \*.xml' && return
+      '1:stylesheet:_files -g "*.xsl(-.)"' \
+      ':file:_files -g "*.xml(-.)"' && return
   ;;
   xmllint)
     local -a encoding
Index: Completion/Unix/Command/_yodl
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_yodl,v
retrieving revision 1.1
diff -u -r1.1 _yodl
--- Completion/Unix/Command/_yodl	2 Apr 2001 12:06:35 -0000	1.1
+++ Completion/Unix/Command/_yodl	20 Jan 2004 13:56:34 -0000
@@ -11,4 +11,4 @@
   '-v[enable verbose mode]' \
   '-w[enable warnings]' \
   '-h[show usage information]' \
-  '*:YODL input file:_files -g \*.\(\#i\)yo\(\|dl\)'
+  '*:YODL input file:_files -g "*.(#i)yo(|dl)(-.)'
Index: Completion/Unix/Command/_zip
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_zip,v
retrieving revision 1.7
diff -u -r1.7 _zip
--- Completion/Unix/Command/_zip	25 Jun 2003 09:03:06 -0000	1.7
+++ Completion/Unix/Command/_zip	20 Jan 2004 13:56:34 -0000
@@ -50,7 +50,7 @@
       '(-0 -1 -2 -3 -4 -5 -6 -7 -8   )-9[compress better]' \
       '-x[exclude the following names]' \
       '-i[include only the following names]' \
-      "(-f -d -R -q -c -b -@ -F -FF -A -T -y -e -h -u -m -g -j -l -ll -L -v -z -t -tt -o -D -J -X -n -0 -1 -2 -3 -4 -5 -6 -7 -8 -9):zip file:_files -g '(#i)*.(zip|[ejw]ar)'" \
+      "(-f -d -R -q -c -b -@ -F -FF -A -T -y -e -h -u -m -g -j -l -ll -L -v -z -t -tt -o -D -J -X -n -0 -1 -2 -3 -4 -5 -6 -7 -8 -9):zip file:_files -g '(#i)*.(zip|[ejw]ar)(-.)'" \
       '*:file:->files' && ret=0
   ;;
   unzip)
@@ -75,7 +75,7 @@
       '-M[page output]' \
       '-x[exclude the following names]' \
       '-Z[zipinfo mode]:zipinfomode:->zipinfo' \
-      "(-p -f -u -l -t -z -n -o -j -C -X -q -qq -a -aa -v -L -M)1:zip file:_files -g '(#i)*.(zip|[ejw]ar)'" \
+      "(-p -f -u -l -t -z -n -o -j -C -X -q -qq -a -aa -v -L -M)1:zip file:_files -g '(#i)*.(zip|[ejw]ar)(-.)'" \
       '*:file:->files' && ret=0
   ;;
 esac
@@ -98,7 +98,7 @@
       '(-1 -2)-T[use sortable decimal format for file times]' \
       '-M[page output]' \
       '-x[exclude the following names]' \
-      "(-1 -2 -s -m -l -v -h -z -C -t -T -M)1:zip file:_files -g '(#i)*.(zip|[ejw]ar)'" \
+      "(-1 -2 -s -m -l -v -h -z -C -t -T -M)1:zip file:_files -g '(#i)*.(zip|[ejw]ar)(-.)'" \
       '*:file:->files' && ret=0
 fi
 
@@ -112,7 +112,7 @@
   ;;
   files)
     if [[ $service = zip ]] && (( ! ${+opt_args[-d]} )); then
-      _wanted files expl zfile _files -g '^(#i)*.(zip|[ejw]ar)' && return
+      _wanted files expl zfile _files -g '^(#i)*.(zip|[ejw]ar)(-.)' && return
     else
       zipfile=( $~line[1](|.zip|.ZIP) )
       [[ -z $zipfile[1] ]] && return 1
Index: Completion/Unix/Type/_pdf
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Type/_pdf,v
retrieving revision 1.3
diff -u -r1.3 _pdf
--- Completion/Unix/Type/_pdf	25 Apr 2003 14:15:52 -0000	1.3
+++ Completion/Unix/Type/_pdf	20 Jan 2004 13:56:34 -0000
@@ -13,4 +13,4 @@
 fi
 
 _description files expl 'PDF file'
-_files "$@" "$expl[@]" -g "*.(#i)pdf$ext"
+_files "$@" "$expl[@]" -g "*.(#i)pdf$ext(-.)"
Index: Completion/Unix/Type/_ps
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Type/_ps,v
retrieving revision 1.2
diff -u -r1.2 _ps
--- Completion/Unix/Type/_ps	18 Apr 2003 08:15:54 -0000	1.2
+++ Completion/Unix/Type/_ps	20 Jan 2004 13:56:34 -0000
@@ -11,4 +11,4 @@
 fi
 
 _description files expl 'PostScript file'
-_files "$@" "$expl[@]" -g "*.(#i)(ps|eps)$ext"
+_files "$@" "$expl[@]" -g "*.(#i)(ps|eps)$ext(-.)"
Index: Completion/Unix/Type/_pspdf
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Type/_pspdf,v
retrieving revision 1.1
diff -u -r1.1 _pspdf
--- Completion/Unix/Type/_pspdf	2 Apr 2001 11:41:39 -0000	1.1
+++ Completion/Unix/Type/_pspdf	20 Jan 2004 13:56:34 -0000
@@ -11,4 +11,4 @@
 fi
 
 _description files expl 'PostScript or PDF file'
-_files "$@" "$expl[@]" -g "*.(#i)(pdf|ps|eps)$ext"
+_files "$@" "$expl[@]" -g "*.(#i)(pdf|ps|eps)$ext(-.)"
Index: Completion/Unix/Type/_tar_archive
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Type/_tar_archive,v
retrieving revision 1.2
diff -u -r1.2 _tar_archive
--- Completion/Unix/Type/_tar_archive	26 Feb 2003 14:56:55 -0000	1.2
+++ Completion/Unix/Type/_tar_archive	20 Jan 2004 13:56:34 -0000
@@ -15,11 +15,11 @@
 
 if [[ "$1" = *[urtx]* ]]; then
   if [[ "$1" = *[zZ]* ]]; then
-    _files "$expl[@]" -g '*.((tar|TAR).(gz|GZ|Z)|tgz)'
+    _files "$expl[@]" -g '*.((tar|TAR).(gz|GZ|Z)|tgz)(-.)'
   elif [[ "$1" = *[Ijy]* ]]; then
-    _files "$expl[@]" -g '*.(tar|TAR).bz2'
+    _files "$expl[@]" -g '*.(tar|TAR).bz2(-.)'
   else
-    _files "$expl[@]" -g '*.(tar|TAR)'
+    _files "$expl[@]" -g '*.(tar|TAR)(-.)'
   fi
 else
   _files "$expl[@]"
Index: Completion/Unix/Type/_tex
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Type/_tex,v
retrieving revision 1.2
diff -u -r1.2 _tex
--- Completion/Unix/Type/_tex	18 May 2001 02:51:41 -0000	1.2
+++ Completion/Unix/Type/_tex	20 Jan 2004 13:56:34 -0000
@@ -3,4 +3,4 @@
 local expl
 
 _description files expl 'TeX or LaTeX file'
-_files "$expl[@]" -g '*.(tex|TEX|texinfo|texi)'
+_files "$expl[@]" -g '*.(tex|TEX|texinfo|texi)(-.)'
Index: Completion/Unix/Type/_texi
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Type/_texi,v
retrieving revision 1.1
diff -u -r1.1 _texi
--- Completion/Unix/Type/_texi	2 Apr 2001 11:42:31 -0000	1.1
+++ Completion/Unix/Type/_texi	20 Jan 2004 13:56:34 -0000
@@ -3,4 +3,4 @@
 local expl
 
 _description files expl 'texinfo file'
-_files "$expl[@]" -g '*.(texinfo|texi)'
+_files "$expl[@]" -g '*.(texinfo|texi)(-.)'
Index: Completion/X/Command/_acroread
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/X/Command/_acroread,v
retrieving revision 1.2
diff -u -r1.2 _acroread
--- Completion/X/Command/_acroread	31 Jul 2003 15:26:14 -0000	1.2
+++ Completion/X/Command/_acroread	20 Jan 2004 13:56:34 -0000
@@ -16,10 +16,10 @@
   '-visual:X visual:_x_visual' \
   '-xrm:X resource specification:_x_resource' \
   '-toPostScript:*::PostScript conversion options:= ->tops' \
-  '*:pdf file:_files -g "*.(#i)pdf"' && return
+  '*:pdf file:_files -g "*.(#i)pdf(-.)"' && return
 
 [[ -n "$state" ]] && _arguments \
-  '-pairs:*:pdf_file_1 ps_file_1 ...:_files -g "*.(#i)(pdf|ps)"' \
+  '-pairs:*:pdf_file_1 ps_file_1 ...:_files -g "*.(#i)(pdf|ps)(-.)"' \
   -binary \
   '-start:integer' \
   '-end:integer' \
@@ -38,6 +38,6 @@
   -shrink \
   '-size:page size (or custom size wxh in points):(letter tabloid ledger legal executive a3 a4 a5 b4 b5)' \
   '-transQuality:transparency flattening level:(1 2 3 4 5)' \
-  '*:pdf file:_files -g "*.(#i)pdf"' && return
+  '*:pdf file:_files -g "*.(#i)pdf(-.)"' && return
 
 return 1
Index: Completion/X/Command/_gqview
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/X/Command/_gqview,v
retrieving revision 1.1
diff -u -r1.1 _gqview
--- Completion/X/Command/_gqview	18 Apr 2003 08:16:21 -0000	1.1
+++ Completion/X/Command/_gqview	20 Jan 2004 13:56:34 -0000
@@ -9,4 +9,4 @@
   '--debug[turn on debug output]' \
   '(--version -v)'{-v,--version}'[print version info]' \
   '(--help -h)'{-h,--help}'[show help]' \
-  '*:picture file:_files -/ -g \*.\(\#i\)\(jpg\|jpe\|jpeg\|png\|gif\|tif\|tiff\|bmp\)'
+  '*:picture file:_files -g "*.(#i)(jpg|jpe|jpeg|png|gif|tif|tiff|bmp)(-.)"'
Index: Completion/X/Command/_mplayer
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/X/Command/_mplayer,v
retrieving revision 1.2
diff -u -r1.2 _mplayer
--- Completion/X/Command/_mplayer	4 Dec 2003 14:23:31 -0000	1.2
+++ Completion/X/Command/_mplayer	20 Jan 2004 13:56:34 -0000
@@ -14,7 +14,7 @@
   '-aofile:file:_files' \
   '(-nosound)*-aop[specify audio output filter]:audio output filter:->audio-plugins' \
   '-aspect:ratio' \
-  '-audiofile:audio file:_files -g "(#i)*.(wav|mp3|ogg)"' \
+  '-audiofile:audio file:_files -g "(#i)*.(wav|mp3|ogg)(-.)"' \
   -autoq:quality -autosync:factor \
   -bandwidth:bandwidth\ value -benchmark -bpp:depth \
   '(-nocache)-cache:cache size (kb)' \
@@ -115,7 +115,7 @@
     _tags files urls
     while _tags; do
       _requested files expl 'video file' _files -g \
-          "*.(#i)(avi|mp3|mpg|mpe|mpeg|m1v|mov|asf|vob|mjpg|wma|wmv|asx|qt|rm|mkv|mka|ogm|ogg)" && ret=0
+          "*.(#i)(avi|mp3|mpg|mpe|mpeg|m1v|mov|asf|vob|mjpg|wma|wmv|asx|qt|rm|mkv|mka|ogm|ogg)(-.)" && ret=0
       if _requested urls; then
         while _next_label urls expl url; do
           _urls "$expl[@]" && ret=0
Index: Completion/X/Command/_x_utils
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/X/Command/_x_utils,v
retrieving revision 1.3
diff -u -r1.3 _x_utils
--- Completion/X/Command/_x_utils	16 Apr 2002 07:48:46 -0000	1.3
+++ Completion/X/Command/_x_utils	20 Jan 2004 13:56:34 -0000
@@ -113,9 +113,9 @@
 xsetroot)
   _x_arguments \
     -{help,def,gray,grey,rv} \
-    '-cursor:cursor file:_files -g \*.\(\#i\)\(xbm\|curs\(\|or\)\):mask file:_files -g \*.\(\#i\)\(xbm\|curs\(\|or\)\|mask\)' \
+    '-cursor:cursor file:_files -g \*.\(\#i\)\(xbm\|curs\(\|or\)\):mask file:_files -g \*.\(\#i\)\(xbm\|curs\(\|or\)\|mask\)\(-.\)' \
     '-cursor_name:cursor name:_x_cursor' \
-    '-bitmap:bitmap file:_files -g \*.\(\#i\)xbm' \
+    '-bitmap:bitmap file:_files -g \*.\(\#i\)xbm\(-.\)' \
     '-mod:x grid distance (1-16): :y grid distance (1-16):' \
     '-fg:foreground color:_x_color' \
     '-bg:background color:_x_color' \
@@ -135,7 +135,7 @@
     -{help,new,noclick,raw,rv,scale} \
     '-bg:background color:_x_color' \
     '-fg:foreground color:_x_color' \
-    '-in:input file:_files -g \*.\(\#i\)xwd' \
+    '-in:input file:_files -g \*.\(\#i\)xwd\(-.\)' \
     '-plane:image plane to display:' \
     '-std:standard colormap:(best default gray red blue green)' \
     '-vis:visual:_x_visual'
Index: Completion/X/Command/_xdvi
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/X/Command/_xdvi,v
retrieving revision 1.2
diff -u -r1.2 _xdvi
--- Completion/X/Command/_xdvi	17 Mar 2002 05:00:48 -0000	1.2
+++ Completion/X/Command/_xdvi	20 Jan 2004 13:56:34 -0000
@@ -27,4 +27,4 @@
   '-topmargin:top margin:' \
   '-xoffset:horizontal offset:' \
   '-yoffset:vertical offset:' \
-  '*:DVI file:_files -g \*.\(\#i\)dvi\(\|.Z\|.gz\|.bz2\)'
+  '*:DVI file:_files -g "*.(#i)dvi(|.Z|.gz|.bz2)(-.)"'
Index: Completion/X/Command/_xfig
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/X/Command/_xfig,v
retrieving revision 1.3
diff -u -r1.3 _xfig
--- Completion/X/Command/_xfig	16 Jan 2002 16:29:52 -0000	1.3
+++ Completion/X/Command/_xfig	20 Jan 2004 13:56:34 -0000
@@ -31,4 +31,4 @@
   '-userunit:unit string:' \
   '-visual:visual:_x_visual' \
   '-zoom:zoom scale:' \
-  '*:xfig file:_files -g \*.\(\#i\)\(\|x\)fig'
+  '*:xfig file:_files -g "*.(#i)(|x)fig(-.)"'
Index: Completion/X/Command/_xloadimage
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/X/Command/_xloadimage,v
retrieving revision 1.3
diff -u -r1.3 _xloadimage
--- Completion/X/Command/_xloadimage	17 Oct 2002 09:06:43 -0000	1.3
+++ Completion/X/Command/_xloadimage	20 Jan 2004 13:56:34 -0000
@@ -46,7 +46,7 @@
   '-default[set root background to default]' \
   '-fit[use default visual and colormap]' \
   '-fullscreen[use whole screen, surrounding image with border]' \
-  "-goto[specify image to display at end]:image name:_files -W ipath -g '*(#i)(${(j:|:)extension})(|${(j:|:)filters})'" \
+  "-goto[specify image to display at end]:image name:_files -W ipath -g '*(#i)(${(j:|:)extension})(|${(j:|:)filters})(-.)'" \
   '(*)-help[display information on options]' \
   '-identity[identify supplied images instead of displaying]' \
   '-install[forcibly install image colormap on focus]' \
@@ -84,7 +84,7 @@
   '*-halftone[force halftone dithering]' \
   '*-invert[invert a monochrome image]' \
   '*-merge[merge image onto the base image]' \
-  "*-name[specify image name]:picture file:_files -W ipath -g '*(#i)(${(j:|:)extension})(|${(j:|:)filters})'" \
+  "*-name[specify image name]:picture file:_files -W ipath -g '*(#i)(${(j:|:)extension})(|${(j:|:)filters})(-.)'" \
   '*-normalize' \
   '*-rotate[rotate image clockwise]:degrees of rotation:(90 180 270)' \
-  "*:picture file:_files -W ipath -g '*(#i)(${(j:|:)extension})(|${(j:|:)filter})'"
+  "*:picture file:_files -W ipath -g '*(#i)(${(j:|:)extension})(|${(j:|:)filter})(-.)'"
Index: Completion/X/Command/_xv
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/X/Command/_xv,v
retrieving revision 1.2
diff -u -r1.2 _xv
--- Completion/X/Command/_xv	2 Jan 2002 14:45:22 -0000	1.2
+++ Completion/X/Command/_xv	20 Jan 2004 13:56:34 -0000
@@ -42,4 +42,4 @@
   '-gsres:ghostscript resolution:' \
   '-gsgeom:ghostscript page size:' \
   '-DEBUG:debug level:' \
-  '*:picture file:_files -g \*.\(\#i\)\(png\|gif\|jpeg\|jpg\|tiff\|tif\|pbm\|pgm\|ppm\|xbm\|xpm\|ras\(\|t\)\|tga\|rle\|rgb\|bmp\|pcx\|fits\|pm\)'
+  '*:picture file:_files -g \*.\(\#i\)\(png\|gif\|jpeg\|jpg\|tiff\|tif\|pbm\|pgm\|ppm\|xbm\|xpm\|ras\(\|t\)\|tga\|rle\|rgb\|bmp\|pcx\|fits\|pm\)\(-.\)'
Index: Completion/X/Command/_xwit
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/X/Command/_xwit,v
retrieving revision 1.2
diff -u -r1.2 _xwit
--- Completion/X/Command/_xwit	16 Apr 2002 07:48:46 -0000	1.2
+++ Completion/X/Command/_xwit	20 Jan 2004 13:56:34 -0000
@@ -62,9 +62,9 @@
   \| "/-iconname$nul/" "$guard" \
      "/$word/" ':option-name:iconname:_x_name' \
   \| "/-bitmap$nul/" "$guard" \
-     "/$word/" ':option-bitmap:bitmap file:_files -g *.xbm' \
+     "/$word/" ':option-bitmap:bitmap file:_files -g *.xbm\(-.\)' \
   \| "/-mask$nul/" "$guard" \
-     "/$word/" ':option-mask:mask file:_files -g *.xbm' \
+     "/$word/" ':option-mask:mask file:_files -g *.xbm\(-.\)' \
   \| "/-iconmove$nul/" "$guard" \
      "/$word/" ':option-iconmove-x:x:' \
      "/$word/" ':option-iconmove-y:y:' \
Index: Completion/Zsh/Command/_autoload
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Zsh/Command/_autoload,v
retrieving revision 1.1
diff -u -r1.1 _autoload
--- Completion/Zsh/Command/_autoload	2 Apr 2001 11:25:43 -0000	1.1
+++ Completion/Zsh/Command/_autoload	20 Jan 2004 13:56:34 -0000
@@ -4,7 +4,7 @@
 
 if (( $words[(I)[-+]*w*] )); then
   _description files expl 'zwc file'
-  _files "$expl[@]" -g '*.zwc'
+  _files "$expl[@]" -g '*.zwc(-.)'
 else
   _wanted functions expl 'shell function' compadd - ${^fpath}/*(:t)
 fi
Index: Completion/Zsh/Command/_mere
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Zsh/Command/_mere,v
retrieving revision 1.1
diff -u -r1.1 _mere
--- Completion/Zsh/Command/_mere	2 Apr 2001 11:34:28 -0000	1.1
+++ Completion/Zsh/Command/_mere	20 Jan 2004 13:56:34 -0000
@@ -1,3 +1,3 @@
 #compdef mere
 
-_files -g '*.[1-9]([a-z]|) *.man'
+_files -g '*.[1-9]([a-z]|)(-.) *.man(-.)'

