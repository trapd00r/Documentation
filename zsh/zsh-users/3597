From zsh-users-return-3597-mason-zsh=primenet.com.au@sunsite.dk Thu Jan 25 13:43:03 2001
Return-Path: <zsh-users-return-3597-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10040 invoked from network); 25 Jan 2001 13:43:02 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 25 Jan 2001 13:43:02 -0000
Received: (qmail 6787 invoked by alias); 25 Jan 2001 13:42:50 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 3597
Received: (qmail 6776 invoked from network); 25 Jan 2001 13:42:50 -0000
Message-ID: <1897602.980430168905.JavaMail.wls@webwl01>
Date: Thu, 25 Jan 2001 13:42:48 +0000 (GMT+00:00)
From: Tarmo =?ISO-8859-1?Q?J=E4rvi?= <tarmoj@iobox.com>
To: zsh-users@sunsite.auc.dk
Subject: Re: process limit/su problem
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hello,

>> I have following lines in /etc/zshenv to prevent fork-bombing etc
>> by ordinary users :
>>
>> if [ `id -gn` = `id -un` -a `id -u` -gt 14 ]
>> then
>>         ulimit -H -u 64 -c 65536 -f 2097152 -n 128
>> else
>>         ulimit -u 2048 -c 65536 -f 4194394 -n 1024
>> fi
>
>another (less daunting :-) way to do the same
>
>while read line
>do
>if [[ ${line[(ws/:/)3]} = $GID ]]; then
>  GNAME=${line[(ws/:/)1]}
>  break
  fi
>done < /etc/group

Yes, it works! Even with ypcat passwd | while ....

Thanks a lot!

