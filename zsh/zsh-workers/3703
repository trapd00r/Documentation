From zsh-workers-request@math.gatech.edu Tue Jan 13 15:11:34 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 12786 invoked from network); 13 Jan 1998 15:11:32 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 13 Jan 1998 15:11:32 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id JAA01361;
	Tue, 13 Jan 1998 09:51:33 -0500 (EST)
Resent-Date: Tue, 13 Jan 1998 09:51:33 -0500 (EST)
From: Andrew Main <zefram@tao.co.uk>
Message-Id: <199801131452.OAA23815@taos.demon.co.uk>
Subject: Re: zsh-3.1.2-zefram3 - first experience
To: borsenkow.msk@sni.de
Date: Tue, 13 Jan 1998 14:52:46 +0000 (GMT)
Cc: zefram@tao.co.uk, zsh-workers@math.gatech.edu
In-Reply-To: <Pine.SV4.3.95.980113172532.21704B-100000@itsrm1> from "Andrej Borsenkow" at Jan 13, 98 05:36:06 pm
X-Loop: zefram@tao.co.uk
X-Headers: in preparation
X-Mailer: ELM [version 2.4 PL25]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"P_ubJ.0.CL.rztkq"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3703
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Andrej Borsenkow wrote:
>Oops!! I totally forgot, that libzsh.so is not installed when I do
>make install :-( 

Ah yes, I forgot about that too.  libzsh isn't required on any of the
platforms I've ever built zsh on.

>  1. libzsh.so *must* be installed. I think, it was on Zoltan's to do
>     list ...

Aside: everyone's talking about Zoltan in the past tense.  I forget to
mention it yesterday, but he did answer the ping that I cced to the list.
He says he no longer has sufficient time to work on zsh, but he does
plan to make at least one more release.

>  2. There must be a way for several dynamic ZSH versions to coexist. It 
>     can be done in (at least) two ways:

The modules themselves are fine -- they have been installed in a
version-dependent directory from day one.  (See, I learn from other
people's mistakes.)  libzsh needs a version number in its name.

>     - easy and portable :)
>         just build (and link with) libzsh.x.y.z.so instead of libzsh.so
>         It will run on every system which supports shared libraries

Precisely.

>BTW this version defaults to -O -g compiler options and -s linker option.
>I would expect developer version to not be stripped, and -O -g doesn't
>work with most compilers.

Huh?  autoconf likes to use "-O -g", but the zsh configuration overrides
that, so zsh will never default to using both -O and -g.  You must have
specified that explicitly by exporting CFLAGS to the configure script.
As for -s, this is used by default if you do not enable debugging.
Again, you can override that in the environment.

-zefram

