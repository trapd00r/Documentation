From zsh-users-return-8007-mason-zsh=primenet.com.au@sunsite.dk Sun Sep 19 20:32:48 2004
Return-Path: <zsh-users-return-8007-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2010 invoked from network); 19 Sep 2004 20:32:48 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 19 Sep 2004 20:32:48 -0000
Received: (qmail 26837 invoked from network); 19 Sep 2004 20:32:42 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 19 Sep 2004 20:32:42 -0000
Received: (qmail 471 invoked by alias); 19 Sep 2004 20:31:55 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8007
Received: (qmail 452 invoked from network); 19 Sep 2004 20:31:54 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 19 Sep 2004 20:31:54 -0000
Received: (qmail 25623 invoked from network); 19 Sep 2004 20:31:54 -0000
Received: from moonbase.zanshin.com (64.84.47.139)
  by a.mx.sunsite.dk with SMTP; 19 Sep 2004 20:31:51 -0000
Received: from toltec.zanshin.com (toltec.zanshin.com [64.84.47.166])
	by moonbase.zanshin.com (8.13.1/8.13.1) with ESMTP id i8JKVnpp002868
	for <zsh-users@sunsite.dk>; Sun, 19 Sep 2004 13:31:49 -0700
Date: Sun, 19 Sep 2004 13:31:49 -0700 (PDT)
From: Bart Schaefer <schaefer@brasslantern.com>
Reply-To: zsh-users@sunsite.dk
To: zsh-users@sunsite.dk
Subject: Re: 2 things
In-Reply-To: <20040916134327.GA5613@blackbeard.valdosta.edu>
Message-ID: <Pine.LNX.4.61.0409191256580.6971@toltec.zanshin.com>
References: <20040916134327.GA5613@blackbeard.valdosta.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, hits=0.0 required=6.0 tests=none autolearn=no version=2.63
X-Spam-Hits: 0.0

No one ever responded directly to this ...

On Thu, 16 Sep 2004, keef wrote:

> I would like to [use ignored-patterns to] ignore directories as well..
> I have tried '*(-/)' '(*/)' and many combinations inbetween but with no
> luck whatsoever...

As mentioned on the "Globbing question" thread, ignored-patterns are not 
filename generation patterns, they're just string comparison patterns.  
You have to exclude the directories another way; the usual way is to use 
the file-patterns style to split files into tagged groups, and then the 
tag-order style to select which groups get offered as completions.

> I have auto_param_slash and mark_dirs set... Is this ok ?

Shouldn't matter, the completion system turns those off again internally.

> in my .zshrc is have an alias -s set up to assocate all pdfs with
> xpdf ... so, ideally I would like to [complete PDF files in command
> position but] zsh looks through my path and completes binaries

Actually, and again as mentioned on the "Globbing question" thread, zsh
completes entries from the command hash table.  It also completes a lot
of other things, including suffix aliases.  I suspect that your PDF files
really are being completed, they're just buried somewhere in the mass of
commands, and what you want is for them to be preferred.

In this case the group-name and group-order styles are your friends.  
Unless you already have a generic group-name style, try:

    zstyle ':completion:*' group-name ''

Then (whatever your group-name style is) try:

    zstyle ':completion:*:*:-command-:*' group-order suffix-aliases

(Any groups not named in the style simply get tacked on at the end in 
their default ordering.)  For me, at least, the above is sufficient to
cause any files that match suffix aliases to float to the top of the
completion listing.

