From zsh-workers-request@math.gatech.edu Fri Nov 13 07:05:55 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 19122 invoked from network); 13 Nov 1998 07:05:53 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 13 Nov 1998 07:05:53 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.9.1/8.9.1) id CAA03267;
	Fri, 13 Nov 1998 02:00:56 -0500 (EST)
Resent-Date: Fri, 13 Nov 1998 02:00:56 -0500 (EST)
Message-ID: <19981113175933.A18622@primenet.com.au>
Date: Fri, 13 Nov 1998 17:59:33 +1100
From: Geoff Wing <gcw@pobox.com>
To: Zsh Hackers <zsh-workers@math.gatech.edu>
Subject: Re: PATCH: 3.1.5: ``***'' symlink follow broken
References: <19981112172055.A21356@primenet.com.au>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 0.93.2i
In-Reply-To: <19981112172055.A21356@primenet.com.au>; from Geoff Wing on Thu, Nov 12, 1998 at 05:20:56PM +1100
Organization: PrimeNet Computer Consultancy
Resent-Message-ID: <"h0lfa3.0.-o.eazIs"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/4621
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Heyla,
I've got a much better patch for it now.   Just above the line ``if (dirs) {''
put ``#if 0''  and after the closing brace for it, put "#endif"

% mkdir foo bar
% cd foo
% I=0; repeat 10 do mkdir $I; ln ../foo/$I ../bar/; echo > ../bar/$I/$I; let I++; done
% cd ../bar
% zsh-3.1.5 -fc 'echo */*'
zsh: no matches found: */*
% zsh-3.1.2 -fc 'echo */*'
zsh: no matches found: */*
% zsh-3.1.0-test3 -fc 'echo */*'
0/0 1/1 2/2 3/3 4/4 5/5 6/6 7/7 8/8 9/9
% zsh-3.0.5 -fc 'echo */*'
0/0 1/1 2/2 3/3 4/4 5/5 6/6 7/7 8/8 9/9

Maybe the whole  if (dirs)  thing is a case of trying to be too clever :-)
-- 
Geoff Wing   <gcw@pobox.com>            Mobile : 0412 162 441
Work URL: http://www.primenet.com.au/   Ego URL: http://pobox.com/~gcw/

