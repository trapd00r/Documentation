From zsh-users-return-15831-mason-zsh=primenet.com.au@zsh.org Wed Mar 02 09:44:01 2011
Return-Path: <zsh-users-return-15831-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 3223 invoked by alias); 2 Mar 2011 09:44:00 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 15831
Received: (qmail 5720 invoked from network); 2 Mar 2011 09:43:48 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-0.6 required=5.0 tests=BAYES_00,DEAR_SOMETHING,
	RCVD_IN_DNSWL_LOW,SPF_HELO_PASS autolearn=no version=3.3.1
Received-SPF: none (ns1.primenet.com.au: domain at csr.com does not designate permitted sender hosts)
Date: Wed, 2 Mar 2011 09:43:36 +0000
From: Peter Stephenson <pws@csr.com>
To: "Zsh Users' List" <zsh-users@zsh.org>
Subject: Fw: ZSH history file VS. UTF-8 data
Message-ID: <20110302094336.62001793@pwslap01u.europe.root.pri>
Organization: Cambridge Silicon Radio
X-Mailer: Claws Mail 3.7.8 (GTK+ 2.22.0; i386-redhat-linux-gnu)
MIME-Version: 1.0
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable
X-Originating-IP: [10.103.11.49]
X-Scanned-By: MailControl A_10_80_00 (www.mailcontrol.com) on 10.68.0.162

I got this.  I haven't investigated.  Replies will need to be copied
directly.


Begin forwarded message:

Date: Wed, 2 Mar 2011 11:49:29 +0900
From: =C4=B1=C9=A5=C9=94=C4=B1=C9=90=CA=87 =C9=90=CA=87=C9=90q=C9=90=CA=8D=
=C9=90=CA=9E <kawabata.taichi@gmail.com>
To: <pws@csr.com>
Subject: ZSH history file VS. UTF-8 data


Dear sir,

I'm sorry to disturb you.

I've been a user of ZSH  for a long time and I really
appreciate for the developer of this great software.

Recently, I've got one trouble in ZSH history file, and as I tried to
solve it by
surveying Webs and Sources, with no help.  As of it, knowing that this
disturbs you,
I'm trying to ask for any help.

The trouble is as follows:

When I try to use UTF-8 file name in shell command, ZHS history file
seems to save
it with "meta code".

For example, executing
 $ ls \346\226\207\345\255\227  (octal expression of "ls =E6=96=87=E5=AD=97=
=E2=80=9D=EF=BC=89
results in histfile
 $ ls \346\203\266\203\247\2\345\255\203\267

That is, when 0x80-0x9F characters are used, then always 0x83 Meta
character is inserted and following character is bit shifted, resulting
garbage history.

Any way to avoid this situation?

Any help is really appreciated,

Sincerely,

--=20
---------------------------------------------------------------------
=E3=80=80=E5=B7=9D=E5=B9=A1 =E5=A4=AA=E4=B8=80 (KAWABATA, Taichi)=E3=80=80=
=E3=80=80=E3=80=80E-mail: kawabata.taichi@gmail.com
]


 To report this email as spam click
 https://www.mailcontrol.com/sr/wQw0zmjPoHdJTZGyOCrrhg=3D=3D .


Member of the CSR plc group of companies. CSR plc registered in England and=
 Wales, registered number 4187346, registered office Churchill House, Cambr=
idge Business Park, Cowley Road, Cambridge, CB4 0WZ, United Kingdom

