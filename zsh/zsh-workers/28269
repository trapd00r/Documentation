From zsh-workers-return-28269-mason-zsh=primenet.com.au@zsh.org Fri Sep 17 18:13:40 2010
Return-Path: <zsh-workers-return-28269-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 23077 invoked by alias); 17 Sep 2010 18:13:40 -0000
Mailing-List: contact zsh-workers-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Workers List <zsh-workers.zsh.org>
List-Post: <mailto:zsh-workers@zsh.org>
List-Help: <mailto:zsh-workers-help@zsh.org>
Delivered-To: mailing list zsh-workers@zsh.org
X-Seq: 28269
Received: (qmail 18401 invoked from network); 17 Sep 2010 18:13:38 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-6.9 required=5.0 tests=BAYES_00,RCVD_IN_DNSWL_HI,
	SPF_HELO_PASS autolearn=ham version=3.3.1
Received-SPF: pass (ns1.primenet.com.au: SPF record at spf-1.redhat.com designates 209.132.183.28 as permitted sender)
Message-ID: <4C93A654.90807@redhat.com>
Date: Fri, 17 Sep 2010 11:33:08 -0600
From: Eric Blake <eblake@redhat.com>
Organization: Red Hat
User-Agent: Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.2.9) Gecko/20100907 Fedora/3.1.3-1.fc13 Mnenhy/0.8.3 Thunderbird/3.1.3
MIME-Version: 1.0
To: zsh-workers@zsh.org
Subject: avoid $status and $options in POSIX mode
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Scanned-By: MIMEDefang 2.67 on 10.5.11.11

POSIX states "The name space of environment variable names containing 
lowercase letters is reserved for applications. Applications can define 
any environment variables with names from this name space without 
modifying the behavior of the standard utilities."
http://www.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap08.html#tag_08

Yet, the existence of zsh-magic variables like $status and $options 
infringe upon the right of a user's script to use this namespace for 
their own desires.  For example, see this recent autoconf patch:
http://git.sv.gnu.org/cgit/autoconf.git/commit/?id=23a2c336

It would be really nice if 'emulate sh' could disable zsh magic handling 
of any variables that infringe upon the lower-case namespace reserved 
for applications.

-- 
Eric Blake   eblake@redhat.com    +1-801-349-2682
Libvirt virtualization library http://libvirt.org

