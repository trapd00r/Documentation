From zsh-users-return-6873-mason-zsh=primenet.com.au@sunsite.dk Fri Dec 12 18:40:49 2003
Return-Path: <zsh-users-return-6873-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4670 invoked from network); 12 Dec 2003 18:40:48 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 12 Dec 2003 18:40:48 -0000
Received: (qmail 25645 invoked by alias); 12 Dec 2003 18:40:36 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 6873
Received: (qmail 25591 invoked from network); 12 Dec 2003 18:40:35 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 12 Dec 2003 18:40:35 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [35.9.66.29] by sunsite.dk (MessageWall 1.0.8) with SMTP; 12 Dec 2003 18:40:35 -0000
Received: from valentino.pa.msu.edu (localhost.localdomain [127.0.0.1])
	by valentino.pa.msu.edu (8.12.8/8.12.8) with ESMTP id hBCIeYdB010619
	for <zsh-users@sunsite.dk>; Fri, 12 Dec 2003 13:40:34 -0500
Received: (from juhas@localhost)
	by valentino.pa.msu.edu (8.12.8/8.12.8/Submit) id hBCIeYWh010617
	for zsh-users@sunsite.dk; Fri, 12 Dec 2003 13:40:34 -0500
X-Authentication-Warning: valentino.pa.msu.edu: juhas set sender to juhas@pa.msu.edu using -f
Date: Fri, 12 Dec 2003 13:40:34 -0500
From: Pavol Juhas <juhas@pa.msu.edu>
To: zsh users <zsh-users@sunsite.dk>
Subject: Re: CLI Tricks
Message-ID: <20031212184034.GC10416@pa.msu.edu>
Mail-Followup-To: zsh users <zsh-users@sunsite.dk>
References: <ge9jtvgbe5b8ht7motdbfq9ggsjmfsq50d@4ax.com> <25ajtv4u5ps1npttivtiguuljeb27f0u4m@4ax.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <25ajtv4u5ps1npttivtiguuljeb27f0u4m@4ax.com>
User-Agent: Mutt/1.4.1i

On Fri, Dec 12, 2003 at 11:38:34AM +0000, zzapper wrote:
> >
> >is there any where to get it start in non-insert mode (ie command mode)
> >
> I meant NON-INSERT

You can do

# my-cr() pushes \r\e to zle buffer as if typed
my-cr() { zle -U $'\r\e' }
# define my-cr as widget function
zle -N my-cr my-cr
# insert mode maps
bindkey '^m' my-cr
bindkey '^j' my-cr
# command mode maps
bindeky -a '^m' my-cr
bindeky -a '^j' my-cr

which remaps <cr> to <cr><esc>.  The very first input would be
in insert mode, but maybe you can live with that.  ;-)

Pavol

