From zsh-workers-return-20377-mason-zsh=primenet.com.au@sunsite.dk Thu Sep 16 16:29:07 2004
Return-Path: <zsh-workers-return-20377-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 20627 invoked from network); 16 Sep 2004 16:29:06 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 16 Sep 2004 16:29:06 -0000
Received: (qmail 44245 invoked from network); 16 Sep 2004 16:29:00 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 16 Sep 2004 16:29:00 -0000
Received: (qmail 26127 invoked by alias); 16 Sep 2004 16:28:58 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 20377
Received: (qmail 26114 invoked from network); 16 Sep 2004 16:28:58 -0000
Received: from unknown (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 16 Sep 2004 16:28:58 -0000
Received: (qmail 43906 invoked from network); 16 Sep 2004 16:28:32 -0000
Received: from lhuumrelay3.lnd.ops.eu.uu.net (62.189.58.19)
  by a.mx.sunsite.dk with SMTP; 16 Sep 2004 16:28:30 -0000
Received: from MAILSWEEPER01.csr.com (mailhost1.csr.com [62.189.183.235])
	by lhuumrelay3.lnd.ops.eu.uu.net (8.11.0/8.11.0) with ESMTP id i8GGSUv23577
	for <zsh-workers@sunsite.dk>; Thu, 16 Sep 2004 16:28:30 GMT
Received: from EXCHANGE02.csr.com (unverified [192.168.137.45]) by MAILSWEEPER01.csr.com
 (Content Technologies SMTPRS 4.3.12) with ESMTP id <T6c14b1a66dc0a88d016fc@MAILSWEEPER01.csr.com> for <zsh-workers@sunsite.dk>;
 Thu, 16 Sep 2004 17:27:34 +0100
Received: from news01.csr.com ([192.168.143.38]) by EXCHANGE02.csr.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 16 Sep 2004 17:29:48 +0100
Received: from news01.csr.com (localhost.localdomain [127.0.0.1])
	by news01.csr.com (8.12.11/8.12.11) with ESMTP id i8GGSP0x012782
	for <zsh-workers@sunsite.dk>; Thu, 16 Sep 2004 17:28:25 +0100
Received: from csr.com (pws@localhost)
	by news01.csr.com (8.12.11/8.12.11/Submit) with ESMTP id i8GGSPkj012779
	for <zsh-workers@sunsite.dk>; Thu, 16 Sep 2004 17:28:25 +0100
Message-Id: <200409161628.i8GGSPkj012779@news01.csr.com>
X-Authentication-Warning: news01.csr.com: pws owned process doing -bs
To: zsh-workers@sunsite.dk
Subject: Re: PATCH: exit after 10 EOF's 
In-reply-to: <Pine.LNX.4.61.0409160903390.27056@toltec.zanshin.com> 
References: <200409131118.i8DBIM5B005245@news01.csr.com> <Pine.LNX.4.61.0409131047340.10799@toltec.zanshin.com> <200409150946.i8F9k81A008659@news01.csr.com> <Pine.LNX.4.61.0409150818210.20146@toltec.zanshin.com> <Pine.LNX.4.61.0409150854430.20146@toltec.zanshin.com> <200409151614.i8FGE5nC010329@news01.csr.com> <200409161457.i8GEvWru012584@news01.csr.com> <Pine.LNX.4.61.0409160903390.27056@toltec.zanshin.com>
Date: Thu, 16 Sep 2004 17:28:24 +0100
From: Peter Stephenson <pws@csr.com>
X-OriginalArrivalTime: 16 Sep 2004 16:29:48.0660 (UTC) FILETIME=[62559B40:01C49C0A]
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, hits=0.0 required=6.0 tests=none autolearn=no version=2.63
X-Spam-Hits: 0.0

Bart Schaefer wrote:
> This is a backwards-incompatible change, and I 
> object to it.  The default behavior of ZLE on receiving an EOF character 
> is supposed to be identical to the default behavior of 4.3BSD csh upon 
> receiving an EOF character.  That is, either exit (when not ignoreeof) or 
> print a warning (when ignoreeof) if the character is received at the start 
> of an empty buffer.

Well, hence the exit after 10 characters, which was what made the
behaviour actually compatible... I still consider the behaviour before
my previous patch confusing well past the point of unusability.

I'm prepared to consider another option, such as zle_ignore_eof (meaning
that ignore_eof really did what csh used to, and zle_ignore_eof would be
my current proposal, or something such), or anything other than what was
there just before...

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR Ltd., Science Park, Milton Road,
Cambridge, CB4 0WH, UK                          Tel: +44 (0)1223 692070


**********************************************************************
This email and any files transmitted with it are confidential and
intended solely for the use of the individual or entity to whom they
are addressed. If you have received this email in error please notify
the system manager.

This footnote also confirms that this email message has been swept by
MIMEsweeper for the presence of computer viruses.

www.mimesweeper.com
**********************************************************************

