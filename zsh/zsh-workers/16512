From zsh-workers-return-16512-mason-zsh=primenet.com.au@sunsite.dk Tue Jan 29 18:22:23 2002
Return-Path: <zsh-workers-return-16512-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 15344 invoked from network); 29 Jan 2002 18:22:22 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 29 Jan 2002 18:22:22 -0000
Received: (qmail 18522 invoked by alias); 29 Jan 2002 18:22:04 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 16512
Received: (qmail 18488 invoked from network); 29 Jan 2002 18:22:03 -0000
X-VirusChecked: Checked
X-Authentication-Warning: iris.logica.co.uk: Host rambo.logica.co.uk [158.234.33.58] claimed to be yahoo.co.uk
Sender: kiddleo@iris.logica.co.uk
Message-ID: <3C56E82C.64A1D159@yahoo.co.uk>
Date: Tue, 29 Jan 2002 18:21:32 +0000
From: Oliver Kiddle <okiddle@yahoo.co.uk>
X-Mailer: Mozilla 4.77 [en] (X11; U; Linux 2.4.16-686-smp i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Derek Peschel <dpeschel@eskimo.com>
CC: zsh-workers@sunsite.dk
Subject: Re: PATCH: 4.0.2: rprompt2 variable
References: <20020125044808.C7661@eskimo.eskimo.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Derek Peschel wrote:
> 
> Even if a feature (right-hand prompts) is frivolous, it might as well be
> available in general.
> 
> Now you can see the parser state (or whatever else you might want to put
> in PROMPT2) and still have a consistent left margin when entering a multi-
> line command.  See my companion "reverse parser state" patch if you want
> the parser state to expand leftward on your screen.
> 
> Comments welcome (I just started using zsh and I have no idea if anyone
> else will find these patches useful).

I'd just like to say that I like this. I've never actually used
rprompts but this with the transient_rprompt option (new since 4.0.2)
is useful. For one thing, it makes life easier if I decide to cut 'n'
paste the lines into an editor or other terminal because I don't then
have a prompt to get rid of. I fear that other people may want a
separate transient_rprompt2 option with this.

> %_ no longer treats negative integers like zero, but instead extracts
> leading (outermost) words.  Maybe someone somewhere cares more about
> the outer state than the inner state.
> 
> %^ works like %_ (including the behavior described above) but after
> the words are selected they are printed in reverse order.  Try using %^
> in RPS2.
> 
> I picked ^ because it comes before _ in ASCII.

I'm not sure whether the negative integers part might ever be useful
though I have no objections because it is logical. I'd be tempted to
use negative numbers for reversing the order but -0 not being a
distinct number from +0 makes that less clean as a solution.

Note that these patches do apply to the latest code from cvs. Has
anyone else tried them?

Oliver

________________________________________________________________________
This email has been scanned for all viruses by the MessageLabs SkyScan
service. For more information on a proactive anti-virus service working
around the clock, around the globe, visit http://www.messagelabs.com
________________________________________________________________________

