From zsh-workers-return-20749-mason-zsh=primenet.com.au@sunsite.dk Wed Jan 26 11:35:01 2005
Return-Path: <zsh-workers-return-20749-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 16843 invoked from network); 26 Jan 2005 11:35:00 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 26 Jan 2005 11:35:00 -0000
Received: (qmail 42568 invoked from network); 26 Jan 2005 11:34:54 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 26 Jan 2005 11:34:54 -0000
Received: (qmail 29367 invoked by alias); 26 Jan 2005 11:34:52 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 20749
Received: (qmail 29358 invoked from network); 26 Jan 2005 11:34:51 -0000
Received: from unknown (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 26 Jan 2005 11:34:51 -0000
Received: (qmail 42255 invoked from network); 26 Jan 2005 11:34:15 -0000
Received: from unknown (HELO mailsweeperjp.CSR.COM) (202.214.225.228)
  by a.mx.sunsite.dk with SMTP; 26 Jan 2005 11:34:10 -0000
Received: from exchangejp.csr.com (unverified) by mailsweeperjp.CSR.COM
 (Content Technologies SMTPRS 4.3.1) with ESMTP id <T6ebcf26c70c0a879018d4@mailsweeperjp.CSR.COM> for <zsh-workers@sunsite.dk>;
 Wed, 26 Jan 2005 19:40:06 +0900
Received: from exchange03.csr.com ([10.100.137.60]) by exchangejp.csr.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Wed, 26 Jan 2005 10:33:37 +0000
Received: from news01.csr.com ([10.103.143.38]) by exchange03.csr.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Wed, 26 Jan 2005 10:33:33 +0000
Received: from news01.csr.com (localhost.localdomain [127.0.0.1])
	by news01.csr.com (8.13.1/8.12.11) with ESMTP id j0QAXmHL032045
	for <zsh-workers@sunsite.dk>; Wed, 26 Jan 2005 10:33:48 GMT
Received: from csr.com (pws@localhost)
	by news01.csr.com (8.13.1/8.13.1/Submit) with ESMTP id j0QAXmjA032042
	for <zsh-workers@sunsite.dk>; Wed, 26 Jan 2005 10:33:48 GMT
Message-Id: <200501261033.j0QAXmjA032042@news01.csr.com>
X-Authentication-Warning: news01.csr.com: pws owned process doing -bs
To: Zsh hackers list <zsh-workers@sunsite.dk>
Subject: Re: PATCH: Unicode additions, next phase. 
In-reply-to: <20050126022947.GA12574@scowler.net> 
References: <200501251446.j0PEkoFJ024136@news01.csr.com> <20050126022947.GA12574@scowler.net>
Date: Wed, 26 Jan 2005 10:33:47 +0000
From: Peter Stephenson <pws@csr.com>
X-OriginalArrivalTime: 26 Jan 2005 10:33:33.0876 (UTC) FILETIME=[7C7F6740:01C50392]
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=6.0 tests=BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.6

Clint Adams wrote:
> > The key missing bits are screen output from zle_refresh.c and key
> 
> Here's a stab at that, though any line containing the string "error" is
> broken.

Plus we'll probably need to have wcwidth on the menu at some
point... not sure if that helps with wide characters that are control
characters (do these exist?), probably not.  I'd be tempted to see if
control characters were converted to a single byte string, if they do
print them as at present, and if they don't just skip them; same for
conversion failures, although that shouldn't happen for characters that
convert to 7-bit ASCII anyway.

Terminal emulators never treat 8-bit characters as special (apart from
extended character sets), do they?  I presume someone thought of that
before now.

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR PLC, Churchill House, Cambridge Business Park, Cowley Road
Cambridge, CB4 0WZ, UK                          Tel: +44 (0)1223 692070


**********************************************************************
The information transmitted is intended only for the person or
entity to which it is addressed and may contain confidential 
and/or privileged material. 
Any review, retransmission, dissemination or other use of, or
taking of any action in reliance upon, this information by 
persons or entities other than the intended recipient is 
prohibited. 
If you received this in error, please contact the sender and 
delete the material from any computer.
**********************************************************************

