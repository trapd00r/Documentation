From zsh-users-return-4211-mason-zsh=primenet.com.au@sunsite.dk Sun Sep 09 08:18:03 2001
Return-Path: <zsh-users-return-4211-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 29009 invoked from network); 9 Sep 2001 08:18:01 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 9 Sep 2001 08:18:01 -0000
Received: (qmail 9405 invoked by alias); 9 Sep 2001 08:17:41 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4211
Received: (qmail 9394 invoked from network); 9 Sep 2001 08:17:39 -0000
Date: Sun, 9 Sep 2001 10:17:39 +0200
From: Simon Hausmann <hausmann@kde.org>
To: Borsenkow Andrej <Andrej.Borsenkow@mow.siemens.ru>
Cc: zsh-users@sunsite.dk
Subject: Re: quick question about '%s' expansion
Message-ID: <20010909101739.A15515@master.kde.org>
References: <20010908234535.A13658@master.kde.org> <3B9A9379.6000202@mow.siemens.ru>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5i
In-Reply-To: <3B9A9379.6000202@mow.siemens.ru>; from Andrej.Borsenkow@mow.siemens.ru on Sun, Sep 09, 2001 at 01:54:01AM +0400

On Sun, Sep 09, 2001 at 01:54:01AM +0400, Borsenkow Andrej wrote:
> Simon Hausmann wrote:
> > 	date +%s
> > 
> > results in the following output
> > 
> > 	" date "+" date "+"999985277
> > 
> 
> {pts/2}% date +%s
> 999985938
> {pts/2}% echo $ZSH_VERSION
> 4.0.2
> 
> Check with zsh -f. Is it possible that date is aliased/defined as function?

Ah, yes, with -f it works. Silly me, I had a preexec which looked like

	preexec () {print -Pn "\e]0;%n@%m: $*\a"}

and apparently the %s got caught by the prompt expansion, causing output
beyond the xterm escape sequence. I splitted it up in two print's 
(one with -P and one without) and now it works :)


Simon

