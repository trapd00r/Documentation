From zsh-workers-return-26573-mason-zsh=primenet.com.au@sunsite.dk Wed Feb 18 08:21:58 2009
Return-Path: <zsh-workers-return-26573-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 22951 invoked from network); 18 Feb 2009 08:21:54 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 18 Feb 2009 08:21:54 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 92776 invoked from network); 18 Feb 2009 08:21:45 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 18 Feb 2009 08:21:45 -0000
Received: (qmail 24883 invoked by alias); 18 Feb 2009 08:21:40 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 26573
Received: (qmail 21763 invoked from network); 18 Feb 2009 08:14:59 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 18 Feb 2009 08:14:59 -0000
Received: from main.carme.maven.pl (main.carme.maven.pl [193.239.45.138])
	by bifrost.dotsrc.org (Postfix) with ESMTPS id BBAF480271F0
	for <zsh-workers@sunsite.dk>; Wed, 18 Feb 2009 09:14:56 +0100 (CET)
Received: from [83.238.65.58] (port=3455 helo=maven.pl ident=matrix157)
	by main.carme.maven.pl with esmtpsa (TLSv1:DHE-RSA-AES256-SHA:256)
	(Exim 4.69)
	(envelope-from <arekm@maven.pl>)
	id 1LZha3-0002OE-CV
	for zsh-workers@sunsite.dk; Wed, 18 Feb 2009 09:14:55 +0100
Received: from arekm by maven.pl with local (Exim 4.69)
	(envelope-from <arekm@maven.pl>)
	id 1LZha1-000835-On
	for zsh-workers@sunsite.dk; Wed, 18 Feb 2009 09:14:54 +0100
From: Arkadiusz Miskiewicz <arekm@maven.pl>
To: zsh-workers@sunsite.dk
Subject: force overwrite in completions
Date: Wed, 18 Feb 2009 09:14:53 +0100
User-Agent: PLD Linux KMail/1.9.10
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200902180914.53604.arekm@maven.pl>
X-Virus-Scanned: ClamAV 0.92.1/9000/Tue Feb 17 22:29:35 2009 on bifrost
X-Virus-Status: Clean


Hi,

I'm using zsh on a system which shares $HOME between two separate servers a=
nd=20
when using both at the same time, switching to root at these (and so on) I=
=20
sometimes get a question from mv asking me if I want to overwrite a file ov=
er=20
and over.

This patch just forces such overwrite.

=2D-- zsh-4.3.9/./Completion/compdump~    2008-07-29 10:53:08.000000000 +02=
00
+++ zsh-4.3.9/./Completion/compdump     2009-02-11 20:13:11.358508082 +0100
@@ -132,7 +132,7 @@
 print "typeset -gUa _comp_assocs" >> $_d_file
 print "_comp_assocs=3D( ${(qq)_comp_assocs} )" >> $_d_file

=2Dmv $_d_file ${_d_file%.$HOST.$$}
+mv -f $_d_file ${_d_file%.$HOST.$$}

 unfunction compdump
 autoload -Uz compdump


=2D-=20
Arkadiusz Mi=C5=9Bkiewicz        PLD/Linux Team
arekm / maven.pl            http://ftp.pld-linux.org/

