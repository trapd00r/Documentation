From zsh-workers-return-12918-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Oct 06 13:00:50 2000
Return-Path: <zsh-workers-return-12918-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5185 invoked from network); 6 Oct 2000 13:00:49 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 6 Oct 2000 13:00:49 -0000
Received: (qmail 17053 invoked by alias); 6 Oct 2000 13:00:23 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 12918
Received: (qmail 17046 invoked from network); 6 Oct 2000 13:00:22 -0000
Date: Fri, 6 Oct 2000 15:00:20 +0200 (MET DST)
Message-Id: <200010061300.PAA14911@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: "Andrej Borsenkow"'s message of Fri, 6 Oct 2000 16:34:29 +0400
Subject: RE: PATCH: _expand, _expand_word, and their doc


Andrej Borsenkow wrote:

> ...
>
> > I don't, however, like to put it only into a bindable command, because
> > then people can't configure it to get all completions with, say, a
> > numeric prefix and TAB. And just adding a bindable command that makes
> > all completions be inserted when we have a completer for it is simple
> > (or just documenting the trick with _generic).
> 
> Well, it is a matter of taste.

For me it's mostly a matter of allowing more ways to configure the thing.

> I prefer to get a list first and then decide if
> I want to insert it. It takes exactly the same amount of keystrokes; does it
> make any difference between 'ESC-1-TAB' and 'TAB-^X-i'? Implementing this
> needs a bit more than just wrapper around completer but does not need any
> extra C-code at all (almost - issue with menu-selection remains).

I forgot: that re-use old list striked me as sensible, too, so I agree 
that we should allow it somehow. Either with a style in the completer
itself, or, maybe, in _oldlist. With the old-list style set to `all'
or some such.

> Question to Sven - with noautolist, noautomenu - which value
> compstate[old_list] has after the first TAB? Is list still generated and kept
> internally even if it is not shown?

Of course. The code just delays freeing the old list until after the
new one has been created and accepted (by compstate[old_list] != keep).

> > So, does that thing with allowing completions added separately to be
> > offered together with a string with all completions sound too esoteric
> > or do you really like it. And should we then put it into _complete? (I
> > mean, the weekend is coming up, so I should have the time to try to
> > implement it... ;-)
> 
> I probably won't use it, but won't object, of course.

I already decided to play a bit to see how difficult to implement this 
is (both in C and shell code).

Bye
 Sven


--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

