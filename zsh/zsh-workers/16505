From zsh-workers-return-16505-mason-zsh=primenet.com.au@sunsite.dk Sun Jan 27 23:23:19 2002
Return-Path: <zsh-workers-return-16505-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 21939 invoked from network); 27 Jan 2002 23:23:18 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 27 Jan 2002 23:23:18 -0000
Received: (qmail 19494 invoked by alias); 27 Jan 2002 23:23:08 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 16505
Received: (qmail 19476 invoked from network); 27 Jan 2002 23:23:06 -0000
Date: Sun, 27 Jan 2002 18:23:04 -0500
From: Clint Adams <clint@zsh.org>
To: zsh-workers@sunsite.dk
Subject: Re: [tbm@cyrius.com: Bug#130817: zsh's echo doesn't error if device is full]
Message-ID: <20020127232304.GB2522@dman.com>
References: <20020127202152.GA32151@dman.com> <1020127214609.ZM9457@candle.brasslantern.com> <20020127224229.GB1577@dman.com> <20020127230655.GA2522@dman.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20020127230655.GA2522@dman.com>
User-Agent: Mutt/1.3.25i

> Here's the "backport" for 4.0.x:

And this might help too.

Index: Src/builtin.c
===================================================================
RCS file: /cvsroot/zsh/zsh/Src/builtin.c,v
retrieving revision 1.46.4.5
diff -u -r1.46.4.5 builtin.c
--- Src/builtin.c	2002/01/27 23:09:24	1.46.4.5
+++ Src/builtin.c	2002/01/27 23:22:01
@@ -2869,7 +2869,7 @@
 int
 bin_print(char *name, char **args, char *ops, int func)
 {
-    int nnl = 0, fd, argc, n;
+    int nnl = 0, fd, argc, n, ret = 0;
     int *len;
     Histent ent;
     FILE *fout = stdout;

