From zsh-users-return-13893-mason-zsh=primenet.com.au@sunsite.dk Mon Mar 09 16:55:01 2009
Return-Path: <zsh-users-return-13893-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1939 invoked from network); 9 Mar 2009 16:54:57 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 9 Mar 2009 16:54:57 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 82743 invoked from network); 9 Mar 2009 16:54:43 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 9 Mar 2009 16:54:43 -0000
Received: (qmail 2140 invoked by alias); 9 Mar 2009 16:54:26 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 13893
Received: (qmail 2123 invoked from network); 9 Mar 2009 16:54:25 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 9 Mar 2009 16:54:25 -0000
Received: from yx-out-2324.google.com (yx-out-2324.google.com [74.125.44.29])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 57E0380307F8
	for <zsh-users@sunsite.dk>; Mon,  9 Mar 2009 17:54:11 +0100 (CET)
Received: by yx-out-2324.google.com with SMTP id 8so714328yxm.81
        for <zsh-users@sunsite.dk>; Mon, 09 Mar 2009 09:54:10 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:cc:content-type
         :content-transfer-encoding;
        bh=VBqB2Vak2wjbnLRbag3vvzN9NkMPoJqTJ+CtEq9m4cg=;
        b=wACzcY/ahkhL0nhCDkD4zarVWZu66a0bMQN0BidGde5wYkt5uuDBt3QCcHlAgUg+n3
         QgE42ZLCiXKWXCEeMTypzX5Zksj3p7PCN8QV+FD0vgbivUESkqrr/1PwRuBxT+pP7u5n
         yIaAMs6yNK+CQTqfun6SGR4U4R1zcs0nv87KM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type:content-transfer-encoding;
        b=Soegwt83Y4wbhijAMXqyL7nlF0GkiyyXMx/52yKqu25+dpBhZOpbYxbrrMw3sxSPTG
         BGCBklJAjf/LYgD4X63iB+mgOub3hNcXFWTGb2FBR6KczTAMFxML2XkmSB6QnLwTChYw
         1iyG8rWZUZ20nKPMQlS9/DlCVrrdSXfHt4hIQ=
MIME-Version: 1.0
Received: by 10.100.227.6 with SMTP id z6mr1362202ang.80.1236617650227; Mon, 
	09 Mar 2009 09:54:10 -0700 (PDT)
In-Reply-To: <20090309161147.2cd4d735@news01>
References: <d2ecb10b0903090705l37d2c749ufc7a9f73fe1194ec@mail.gmail.com>
	 <20090309161147.2cd4d735@news01>
Date: Mon, 9 Mar 2009 12:54:10 -0400
Message-ID: <d2ecb10b0903090954qdacb415u6e54d45794ce3256@mail.gmail.com>
Subject: Re: One $HISTFILE to rule them all
From: TjL <luomat@gmail.com>
To: Peter Stephenson <pws@csr.com>
Cc: Zsh Users List <zsh-users@sunsite.dk>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Scanned: ClamAV 0.92.1/9080/Fri Mar  6 20:13:38 2009 on bifrost
X-Virus-Status: Clean

On Mon, Mar 9, 2009 at 12:11 PM, Peter Stephenson <pws@csr.com> wrote:
> On Mon, 9 Mar 2009 10:05:40 -0400
> TjL <luomat@gmail.com> wrote:

>>
>> http://tr.im/dropboxsignup
>> aka
>> https://www.getdropbox.com/referrals/NTE4NDE0OQ~~
>>
>> and you'll get 2.25GB instead of 2.0GB (and I get some extra space too)
>
> I've just done that. =A0It's lucky I found
> http://wiki.getdropbox.com/TipsAndTricks/TextBasedLinuxInstall or it woul=
d
> have been just another form of uploadable remote storage...

Oh, cool. I wonder if I can use that to make it sync with my shell
account at Dreamhost. That would be truly excellent.


>> Is there a way for me to change my $HISTFILE to something like
>> ~/Dropbox/Zsh/History.txt and have zsh save the history from any shell
>> on any computer to the same file?
>>
>> I wasn't sure how $HISTFILE would react to being written to from
>> several different places.
>
> It should "just work" as long as you leave a dropbox-sized gap (which
> appears to be of the order of a minute or so) between doing anything on a
> system with one copy and a system with another copy, so that they stay
> synced without confusion over who's written what---there's no way of doin=
g
> file locking since you're always at the mercy of that time lag whatever y=
ou
> write; you just can't tell what files are currently visible on another
> synced system. =A0This is pretty obvious and applies to all files down th=
ere.
> Other than that, I can't offhand see any new issues compared with other
> forms of syncing history between multiple computers, which many of us hav=
e
> been doing for a long time.

The good news is that I've seen Dropbox deal with multiple-writes
before, and it handles it pretty well. You end up with a file
"Filename.(hostname).ext" or something like that, which shows you
which machine it was from.

(Oh, also forgot to mention Dropbox ***SAVES REVISIONS*** of changes
that you make. i.e. "I don't have to learn git/subversion to get
version tracking" -- at least sufficient enough for my
one-man-who-writes-shell-scripts purposes)


> By the way, leaking information from another thread entirely on zsh-worke=
rs
> (starts zsh-workers/26702):
>
> Bart wrote:
>> } Obviously any alternative opinions would be useful. =A0Currently that
>> } means Bart, but both of us would be very interested in getting new
>> } apprentice source code gurus...
>>
>> Leak some of that sentiment onto zsh-users. =A0Maybe potential apprentic=
es
>> just aren't reading -workers.

I wish I could help, but other than some (often crude) shell
scripting, I don't have any programming experience to offer.

TjL

