From zsh-workers-return-19268-mason-zsh=primenet.com.au@sunsite.dk Tue Dec 02 23:45:48 2003
Return-Path: <zsh-workers-return-19268-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 15352 invoked from network); 2 Dec 2003 23:45:48 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 2 Dec 2003 23:45:48 -0000
Received: (qmail 14250 invoked by alias); 2 Dec 2003 23:45:41 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 19268
Received: (qmail 14180 invoked from network); 2 Dec 2003 23:45:41 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 2 Dec 2003 23:45:41 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [212.214.126.18] by sunsite.dk (MessageWall 1.0.8) with SMTP; 2 Dec 2003 23:45:40 -0000
Received: from haugen.visit.se (postfix@haugen.visit.se [212.214.112.43])
	by jahman.visit.se (8.12.8/8.11.2) with ESMTP id hB2NPtk5031718
	for <zsh-workers@sunsite.dk>; Wed, 3 Dec 2003 00:25:55 +0100
Received: by haugen.visit.se (Postfix, from userid 1000)
	id B554C16E953; Wed,  3 Dec 2003 00:42:44 +0100 (CET)
To: zsh-workers@sunsite.dk
Subject: Probable bug in zsh 4.x
From: Ulrik Haugen <qha@lysator.liu.se>
Date: Wed, 03 Dec 2003 00:42:44 +0100
Message-ID: <873cc2947f.fsf@haugen.visit.se>
User-Agent: Gnus/5.1002 (Gnus v5.10.2) Emacs/21.3 (gnu/linux)
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable


Hi all!

I think I've found a bug in zsh versions 4.0.7 and 4.1.1.

Globbing with character classes doesn't work with local Swedish
characters (=E5=E4=F6=C5=C4=D6). As you can see my test gives the desired r=
esult
in zsh 3.0.8, and I also get the same result in /bin/sh from SunOS
5.8.

------------------------------ 8< ------------------------------
haugen% cat zshexpn.test=20=20=20
# -*- mode:sh; sh-shell: zsh; -*-

echo $ZSH_VERSION

for name in anders bj=F6rn; do
    case $name in
        *[=E5=E4=F6=C5=C4=D6]*)
        echo "$name contains one or more of '=E5=E4=F6=C5=C4=D6'"
        ;;
        *[b]*)
        echo "$name contains one or more 'b'"
        ;;
    esac
done
haugen% zsh30 zshexpn.test=20=20=20
3.0.8
bj=F6rn contains one or more of '=E5=E4=F6=C5=C4=D6'
haugen% zsh zshexpn.test=20=20=20=20=20
4.0.7
bj=F6rn contains one or more 'b'
haugen% zsh-beta zshexpn.test
4.1.1
bj=F6rn contains one or more 'b'
haugen%=20
------------------------------ 8< ------------------------------

--=20
Ulrik Haugen <qha@lysator.liu.se>
"It's a poor laser blaster that doesn't work both ways"
        -- Salvor Hardin through Isaac Asimov

