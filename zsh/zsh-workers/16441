From zsh-workers-return-16441-mason-zsh=primenet.com.au@sunsite.dk Mon Jan 14 08:43:48 2002
Return-Path: <zsh-workers-return-16441-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 19880 invoked from network); 14 Jan 2002 08:43:46 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 14 Jan 2002 08:43:46 -0000
Received: (qmail 13389 invoked by alias); 14 Jan 2002 08:43:38 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 16441
Received: (qmail 13378 invoked from network); 14 Jan 2002 08:43:38 -0000
From: Sven Wischnowsky <wischnow@berkom.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15426.39391.445726.999103@wischnow.berkom.de>
Date: Mon, 14 Jan 2002 09:42:07 +0100
To: zsh-workers@sunsite.dk
Subject: Re: menu selection and incompatible arguments
In-Reply-To: <1010915613.3833.0.camel@localhost.localdomain>
References: <1010915613.3833.0.camel@localhost.localdomain>
X-Mailer: VM 6.95 under 21.5 (patch 3) "asparagus" XEmacs Lucid


Borsenkow Andrej wrote:

> 
> If you describe incompatible arguments in _arguments like
> 
> (-foo)-bar
> (-bar)-foo
> 
> and try to complete with -foo on the line -bar is not listed as an
> option. But if you start from empty line, both are listed and you can
> also insert both of them.
> 
> Just curious how hard would it be for accept-and-menu-complete to
> respect incompatible arguments in this case?

Currently: pretty hard (because the code used by a-a-m-c and the code
used for menu completion aren't aware of such things and don't call
the completion code again).

These are things I'm currently thinking about when I'm thinking about
moving more stuff into shell code.  Maybe there lies a solution, but
menu completion can get so complicated that I want to try it later
(probably together with the all-matches stuff, which has a similar
problem).


Bye
  Sven

-- 
Sven Wischnowsky                           wischnow@berkom.de

