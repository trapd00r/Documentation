From zsh-workers-return-7923-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Sep 17 21:33:01 1999
Return-Path: <zsh-workers-return-7923-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 23315 invoked from network); 17 Sep 1999 21:33:00 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 17 Sep 1999 21:33:00 -0000
Received: (qmail 9475 invoked by alias); 17 Sep 1999 21:32:55 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7923
Received: (qmail 9468 invoked from network); 17 Sep 1999 21:32:55 -0000
Date: Fri, 17 Sep 1999 22:32:54 +0100
From: Adam Spiers <adam@thelonious.new.ox.ac.uk>
To: zsh workers mailing list <zsh-workers@sunsite.auc.dk>
Subject: PATCH: compconf tweak
Message-ID: <19990917223254.B3509@thelonious.new.ox.ac.uk>
Reply-To: Adam Spiers <adam@spiers.net>
Mail-Followup-To: zsh workers mailing list <zsh-workers@sunsite.auc.dk>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 1.0pre2i
X-URL: http://www.new.ox.ac.uk/~adam/
X-OS: Linux 2.2.9 i686

compconf broke if any of your compconfig values had funny characters
in.

Index: Completion/Core/compinit
===================================================================
RCS file: /usr/local/cvsroot/zsh/Completion/Core/compinit,v
retrieving revision 1.2
diff -u -r1.2 compinit
--- Completion/Core/compinit	1999/09/17 01:53:38	1.2
+++ Completion/Core/compinit	1999/09/17 21:16:52
@@ -324,7 +324,7 @@
       if [[ $list = long ]]; then
 	print "compconf $i='$compconfig[$i]'"
       else
-        print ${(r:25:)i} $compconfig[$i]
+        print ${(r:25:)i} "$compconfig[$i]"
       fi
     done
   fi

