From zsh-workers-return-15743-mason-zsh=primenet.com.au@sunsite.dk Fri Sep 07 08:11:24 2001
Return-Path: <zsh-workers-return-15743-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18096 invoked from network); 7 Sep 2001 08:11:22 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 7 Sep 2001 08:11:22 -0000
Received: (qmail 26025 invoked by alias); 7 Sep 2001 08:11:16 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 15743
Received: (qmail 26013 invoked from network); 7 Sep 2001 08:11:14 -0000
Date: Fri, 7 Sep 2001 02:11:11 -0600
From: Daniel Lyons <fusion@nmt.edu>
To: zsh-workers@sunsite.dk
Subject: colors & tab completion
Message-ID: <20010907021111.B14003@nmt.edu>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5i

Hi everyone,

I just recently decided to try and make that color prompt I always
wanted, so I eventually came up with this setup (after parsing
/usr/local/share/zsh/3.1.9/colors):

PROMPT="${fg[magenta]}%n${fg[white]}@${fg[green]}%m ${fg[blue]}%C \
${fg[white]}%(#.=>.->) "

this clearly makes this format: "username@host directory -> " with
the username magenta, the host green, and the directory blue.  the
-> becomes => when logged in as root.

anyway, that all works fine.  the problem is that when one presses
tab multiple times to activate automenu, this is what gets
displayed:

"username@host directory -> filename.ext1                     ext2"

where the huge gap appears to be about equal to the length of the
color prompt.

I tried doing this with zsh -f, in case it was my config file, and
it wasn't.  I'm running OpenBSD 2.9 on my personal system, but I
have the same problem on the university computers running a
Slackware variant.  Same problem with zsh versions 3.1.9 and 4.0.2.

any help would be greatly appreciated!  Thank you

Daniel

