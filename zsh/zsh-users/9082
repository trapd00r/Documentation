From zsh-users-return-9082-mason-zsh=primenet.com.au@sunsite.dk Sun Jul 10 00:05:08 2005
Return-Path: <zsh-users-return-9082-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 20532 invoked from network); 10 Jul 2005 00:05:07 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 10 Jul 2005 00:05:07 -0000
Received: (qmail 84841 invoked from network); 10 Jul 2005 00:05:01 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 10 Jul 2005 00:05:01 -0000
Received: (qmail 23866 invoked by alias); 10 Jul 2005 00:04:48 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 9082
Received: (qmail 23855 invoked from network); 10 Jul 2005 00:04:44 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 10 Jul 2005 00:04:44 -0000
Received: (qmail 83760 invoked from network); 10 Jul 2005 00:04:44 -0000
Received: from vinc17.net4.nerim.net (HELO ay.vinc17.org) (62.212.121.106)
  by a.mx.sunsite.dk with SMTP; 10 Jul 2005 00:04:38 -0000
Received: from lefevre by ay.vinc17.org with local (Exim 4.50)
	id 1DrPJE-0007dX-NR; Sun, 10 Jul 2005 02:04:36 +0200
Date: Sun, 10 Jul 2005 02:04:36 +0200
From: Vincent Lefevre <vincent@vinc17.org>
To: zsh-users@sunsite.dk
Subject: Re: LC_ALL=C foo, where foo is a shell function
Message-ID: <20050710000436.GS6472@ay.vinc17.org>
Mail-Followup-To: zsh-users@sunsite.dk
References: <20050709191401.GP6472@ay.vinc17.org> <1050709204433.ZM17965@candle.brasslantern.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
In-Reply-To: <1050709204433.ZM17965@candle.brasslantern.com>
X-Mailer-Info: http://www.vinc17.org/mutt/
User-Agent: Mutt/1.5.9-vl-20050705i
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=6.0 tests=BAYES_00,UPPERCASE_50_75 
	autolearn=no version=3.0.2
X-Spam-Hits: -2.6

On 2005-07-09 20:44:33 +0000, Bart Schaefer wrote:
> Doesn't happen to me:
[snip]

Well, I don't know what happens, this is really strange.

ay:~> locale
LANG=POSIX
LC_CTYPE=en_US.ISO8859-1
LC_NUMERIC="POSIX"
LC_TIME=en_DK
LC_COLLATE="POSIX"
LC_MONETARY="POSIX"
LC_MESSAGES="POSIX"
LC_PAPER="POSIX"
LC_NAME="POSIX"
LC_ADDRESS="POSIX"
LC_TELEPHONE="POSIX"
LC_MEASUREMENT="POSIX"
LC_IDENTIFICATION="POSIX"
LC_ALL=
ay:~> foo() { echo $LC_ALL }
ay:~> LC_ALL=C foo
C
ay:~> echo $LC_ALL

ay:~> locale
LANG=POSIX
LC_CTYPE="C"
LC_NUMERIC="C"
LC_TIME="C"
LC_COLLATE="C"
LC_MONETARY="C"
LC_MESSAGES="C"
LC_PAPER="C"
LC_NAME="C"
LC_ADDRESS="C"
LC_TELEPHONE="C"
LC_MEASUREMENT="C"
LC_IDENTIFICATION="C"
LC_ALL=C
ay:~> env | grep LC_ALL
LC_ALL=C

Any explanation?

> What version of zsh are you testing?

4.2.5 from Debian (Debian package zsh 4.2.5-7).

-- 
Vincent Lefèvre <vincent@vinc17.org> - Web: <http://www.vinc17.org/>
100% accessible validated (X)HTML - Blog: <http://www.vinc17.org/blog/>
Work: CR INRIA - computer arithmetic / SPACES project at LORIA

