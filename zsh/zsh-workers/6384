From zsh-workers-return-6384-mason-zsh=primenet.com.au@sunsite.auc.dk Mon May 31 13:12:35 1999
Return-Path: <zsh-workers-return-6384-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8356 invoked from network); 31 May 1999 13:12:33 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 31 May 1999 13:12:33 -0000
Received: (qmail 28522 invoked by alias); 31 May 1999 13:12:14 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 6384
Received: (qmail 28515 invoked from network); 31 May 1999 13:12:13 -0000
Date: Mon, 31 May 1999 15:12:11 +0200 (MET DST)
Message-Id: <199905311312.PAA18094@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: Peter Stephenson's message of Mon, 31 May 1999 13:40:36 +0200
Subject: Re: forwarded bug report


Markus F.X.J. Oberhumer wrote:

> zsh badly hangs if file globbing fails in connection
> with completion. Please try the following with
> any zsh 3.x version (including 3.1.5-pws-19) and
> enter "foo [tab]":
> 
>   compctl -s "\$(cat [tT]his-file-does-not-exist)" foo

When expanding the -s-string, we explicitly switch NULL_GLOB on so
that `compctl -s "*.c \$(< foo)"' works without producing an error if
there is no `*.c'.
Of course, this makes it fail in cases like the one above... (where
the cat tries to start reading and never finishes).

Does anyone have an idea how we could make this safe?

Bye
 Sven


--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

