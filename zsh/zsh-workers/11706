From zsh-workers-return-11706-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Jun 01 07:58:25 2000
Return-Path: <zsh-workers-return-11706-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5392 invoked from network); 1 Jun 2000 07:58:23 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 1 Jun 2000 07:58:23 -0000
Received: (qmail 19629 invoked by alias); 1 Jun 2000 07:58:09 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 11706
Received: (qmail 19622 invoked from network); 1 Jun 2000 07:58:08 -0000
Date: Thu, 1 Jun 2000 09:58:06 +0200
From: Bernd Eggink <eggink@uni-hamburg.de>
To: Zsh Workers <zsh-workers@sunsite.auc.dk>
Subject: Re: BUG: vared in script (was: vared in function)
Message-ID: <20000601095801.A370@eggink3.rrz.uni-hamburg.de>
Mail-Followup-To: Zsh Workers <zsh-workers@sunsite.auc.dk>
References: <20000531230559.A12072@eggink3.rrz.uni-hamburg.de> <E12xGSP-0006NP-00.2000-05-31-22-55-21@mail2.svr.pol.co.uk>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.3.2i
In-Reply-To: <E12xGSP-0006NP-00.2000-05-31-22-55-21@mail2.svr.pol.co.uk>; from pws@pwstephenson.fsnet.co.uk on Wed, May 31, 2000 at 10:55:21PM +0100

On Wed, May 31, 2000 at 10:55:21PM +0100, Peter Stephenson wrote:
> Bernd Eggink wrote:
> > Argh... 
> > 
> >    # t
> >    vared -cp "Aha: " BLAH
> > 
> >    % t
> >    t:vared:2: ZLE not enabled
> > 
> > This breaks lots of my scripts! 
> > On the command line, 'vared' works. 
> 
> (I take it that should be `script' rather than `function' in the subject
> line, functions are OK.)

Yes, of course. It has been rather late in the evening...

> I don't think there's any good reason why zle shouldn't be enabled
> especially, if it can find a terminal which it can, but until whoever made
> the change takes a look you can workaround it by giving zsh the -i option
> to run the script interactively.  That might have other side effects,
> though.

It has.

    # t
    vared -cp "Aha: " BLAH
    print $BLAH

    % zsh -i t

    Aha: hm
    hm
    t:zsh:3: use 'exit' to exit.
    t:zsh:3: use 'exit' to exit.
    t:zsh:3: use 'exit' to exit.
    t:zsh:3: use 'exit' to exit.
    t:zsh:3: use 'exit' to exit.
    t:zsh:3: use 'exit' to exit.
    t:zsh:3: use 'exit' to exit.
    t:zsh:3: use 'exit' to exit.
    t:zsh:3: use 'exit' to exit.


Regards,
Bernd

-- 
Bernd Eggink
Regionales Rechenzentrum der Uni Hamburg
eggink@uni-hamburg.de
http://www.rrz.uni-hamburg.de/eggink/BEggink.html

