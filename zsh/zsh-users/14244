From zsh-users-return-14244-mason-zsh=primenet.com.au@sunsite.dk Tue Jul 21 16:25:09 2009
Return-Path: <zsh-users-return-14244-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 19853 invoked from network); 21 Jul 2009 16:24:55 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.8 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from new-brage.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.254.104)
  by ns1.primenet.com.au with SMTP; 21 Jul 2009 16:24:55 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 99258 invoked from network); 21 Jul 2009 16:24:35 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 21 Jul 2009 16:24:34 -0000
Received: (qmail 3257 invoked by alias); 21 Jul 2009 16:24:00 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 14244
Received: (qmail 3237 invoked from network); 21 Jul 2009 16:23:59 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 21 Jul 2009 16:23:59 -0000
Received: from smtp.tt-solutions.com (sunset.tt-solutions.com [82.238.156.189])
	by bifrost.dotsrc.org (Postfix) with ESMTPS id A201F801E289
	for <zsh-users@sunsite.dk>; Tue, 21 Jul 2009 18:23:53 +0200 (CEST)
Received: from nightfall ([192.168.17.76])
	by smtp.tt-solutions.com with esmtp (Exim 4.69)
	(envelope-from <vz-zsh@zeitlins.org>)
	id 1MTI87-0004w5-UV
	for zsh-users@sunsite.dk; Tue, 21 Jul 2009 18:23:51 +0200
Date: Tue, 21 Jul 2009 18:23:51 +0200
From: Vadim Zeitlin <vz-zsh@zeitlins.org>
Subject: using ^M to insert a new line
To: zsh-users@sunsite.dk
MIME-Version: 1.0
Content-Type: MULTIPART/SIGNED; protocol="application/pgp-signature"; micalg=pgp-sha1; BOUNDARY="1735458870-6628-1248193431=:3620"
X-Mailer: Mahogany 0.67.2 'Constance', running under Windows Server 2003 (build 3790, Service Pack 1)
Message-Id: <20090721162353.A201F801E289@bifrost.dotsrc.org>
X-Virus-Scanned: ClamAV 0.94.2/9601/Tue Jul 21 16:31:58 2009 on bifrost
X-Virus-Status: Clean

--1735458870-6628-1248193431=:3620
Content-Type: TEXT/PLAIN; CHARSET=US-ASCII
Content-Disposition: INLINE

 Hello,

 I used to use literal ^M (entered as Ctrl-V Ctrl-M or Ctrl-V Enter) to
insert new lines on zsh command line, e.g.:

	% $vcs ci -m "Short description^MLonger description"

(for vcs=="git" you can just use 2 -m options but AFAIK the others don't
support this). I don't actually know if this was ever supposed to work, as
Ctrl-M does stand for "\r" and not "\n" but the fact is that it used to for
quite some time, I don't remember when did I start doing this but it
definitely worked in 4.3.2 under Cygwin and Debian.

 But now that I upgraded to 4.3.10 I've found with some surprise that using
literal ^M now inserts "\r" and not "\n" under both Debian and Cygwin.
Under the latter there is also a new bug with completing DOS-style paths
(mentioned e.g. at http://article.gmane.org/gmane.os.cygwin/102250 but I
could find no trace of it in zsh-xxx archives nor any mention of a fix) so
I rolled back to 4.3.4 which is the oldest zsh still available in Cygwin
and it handles ^M in the same way, so the change to this happened between
4.3.2 and 4.3.4, i.e. a long time ago so maybe nobody remembers why was
this done any more but I'd still be curious to know if this change was
intentional and also if there is any way to insert a "\n" on the command
line now other than using ^J (which does work but also visually breaks the
line which I dislike).

 TIA!
VZ

--1735458870-6628-1248193431=:3620
Content-Type: APPLICATION/PGP-SIGNATURE

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.7 (MingW32)

iD8DBQBKZeuXBupB3k9sHoYRAqHjAJ9zXpEf8YkGnCbnxtvBivONkd33lwCfdFvs
js15v1IS74o9fooHac/OqHc=
=CKcQ
-----END PGP SIGNATURE-----

--1735458870-6628-1248193431=:3620--

