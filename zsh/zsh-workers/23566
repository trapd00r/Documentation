From zsh-workers-return-23566-mason-zsh=primenet.com.au@sunsite.dk Mon Jun 18 13:33:57 2007
Return-Path: <zsh-workers-return-23566-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 11641 invoked from network); 18 Jun 2007 13:33:55 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.1 (2007-05-02) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.1
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 18 Jun 2007 13:33:55 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 90712 invoked from network); 18 Jun 2007 13:33:49 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 18 Jun 2007 13:33:49 -0000
Received: (qmail 25604 invoked by alias); 18 Jun 2007 13:33:45 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 23566
Received: (qmail 25595 invoked from network); 18 Jun 2007 13:33:45 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 18 Jun 2007 13:33:45 -0000
Received: (qmail 90358 invoked from network); 18 Jun 2007 13:33:44 -0000
Received: from cluster-c.mailcontrol.com (168.143.177.190)
  by a.mx.sunsite.dk with SMTP; 18 Jun 2007 13:33:41 -0000
Received: from cameurexb01.EUROPE.ROOT.PRI ([62.189.241.200])
	by rly06c.srv.mailcontrol.com (MailControl) with ESMTP id l5IDW4WC005038
	for <zsh-workers@sunsite.dk>; Mon, 18 Jun 2007 14:33:36 +0100
Received: from news01.csr.com ([10.103.143.38]) by cameurexb01.EUROPE.ROOT.PRI with Microsoft SMTPSVC(6.0.3790.1830);
	 Mon, 18 Jun 2007 14:32:12 +0100
Received: from news01.csr.com (localhost.localdomain [127.0.0.1])
	by news01.csr.com (8.13.8/8.13.4) with ESMTP id l5IDWCnw015374
	for <zsh-workers@sunsite.dk>; Mon, 18 Jun 2007 14:32:12 +0100
Received: from csr.com (pws@localhost)
	by news01.csr.com (8.13.8/8.13.8/Submit) with ESMTP id l5IDWCiC015371
	for <zsh-workers@sunsite.dk>; Mon, 18 Jun 2007 14:32:12 +0100
Message-Id: <200706181332.l5IDWCiC015371@news01.csr.com>
X-Authentication-Warning: news01.csr.com: pws owned process doing -bs
To: "zsh workers" <zsh-workers@sunsite.dk>
Subject: Re: Change in FIGNORE behavior 
In-reply-to: <20070615110906.04ab8685@news01.csr.com> 
References: <20a807210705291856qe306eeds250f4f9d5f4dd33f@mail.gmail.com> <200705300945.l4U9jUbE009607@news01.csr.com> <20070530112934.3950357b@news01.csr.com> <070530035810.ZM29792@torch.brasslantern.com> <200705301127.l4UBROR5010814@news01.csr.com> <20070530135436.410e11ff@news01.csr.com> <20070604104901.276f7d83@news01.csr.com> <070604095654.ZM17620@torch.brasslantern.com> <200706051419.l55EJZSh013059@news01.csr.com> <20070615110906.04ab8685@news01.csr.com>
Comments: In-reply-to Peter Stephenson <pws@csr.com>
   message dated "Fri, 15 Jun 2007 11:09:06 +0100."
Date: Mon, 18 Jun 2007 14:32:12 +0100
From: Peter Stephenson <pws@csr.com>
X-OriginalArrivalTime: 18 Jun 2007 13:32:12.0666 (UTC) FILETIME=[1404B5A0:01C7B1AD]
Content-Type: text/plain
MIME-Version: 1.0
X-Scanned-By: MailControl A-07-07-10 (www.mailcontrol.com) on 10.67.0.116

Peter Stephenson wrote:
>  array=(one two three)
>
> With KSH_ZERO_SUBSCRIPT set (old behaviour):
>   $array[0]               -> one
>   array[(R)notfound]      -> one
>   $array[0,2]             -> one two
>   array[0]=zero           array -> (zero two three)
>   array[0,2]=(new)        array -> (new three)
> 
> With KSH_ZERO_SUBSCRIPT not set:
>   $array[0]               -> [empty]
>   array[(R)notfound]      -> [empty]
>   $array[0,2]             -> one two
>   array[0]=zero           Error
>   array[0,2]=(new)        array -> (new three)

As there was no further comment (except for Stephane's hint that the the
general reaction was along the lines of "you mean we used to do
*what*?") I've committed this.

I wonder if it's worth adding an option to emulate so you can "emulate
-v 4.2"?  It would be highly imperfect since only the MULTIBYTE and
KSH_ZERO_SUBSCRIPT options are useful for this purpose; you're stuck
with anything else.

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR PLC, Churchill House, Cambridge Business Park, Cowley Road
Cambridge, CB4 0WZ, UK                          Tel: +44 (0)1223 692070


To access the latest news from CSR copy this link into a web browser:  http://www.csr.com/email_sig.php

To get further information regarding CSR, please visit our Investor Relations page at http://ir.csr.com/csr/about/overview

