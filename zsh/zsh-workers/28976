From zsh-workers-return-28976-mason-zsh=primenet.com.au@zsh.org Tue Apr 05 04:16:16 2011
Return-Path: <zsh-workers-return-28976-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 3640 invoked by alias); 5 Apr 2011 04:16:16 -0000
Mailing-List: contact zsh-workers-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Workers List <zsh-workers.zsh.org>
List-Post: <mailto:zsh-workers@zsh.org>
List-Help: <mailto:zsh-workers-help@zsh.org>
Delivered-To: mailing list zsh-workers@zsh.org
X-Seq: 28976
Received: (qmail 20990 invoked from network); 5 Apr 2011 04:16:14 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.7 required=5.0 tests=BAYES_00,DKIM_SIGNED,
	DKIM_VALID,DKIM_VALID_AU,FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,
	T_TO_NO_BRKTS_FREEMAIL autolearn=ham version=3.3.1
Received-SPF: pass (ns1.primenet.com.au: SPF record at _spf.google.com designates 209.85.161.43 as permitted sender)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:from:reply-to:to:subject:date:user-agent
         :references:in-reply-to:mime-version:content-type
         :content-transfer-encoding:message-id;
        bh=5aZeQ/lflRSSJXFbVg6KElK5NFoD0Koba1ZlbyFov8I=;
        b=g0PtmTIOj5LeRGwFR4MleBtTEblGYZLkXHvAWq0ky7nDR1B7BtkcaX+fGoFG5sgcIU
         IjBAzp3m60NxUYKylYSWBdCEFr0ZEbAta5N3SKwYCmfW5jcluyr8dzv8lYhdcohB6Zdi
         l8hMqFksGk7thxWM35BGJeJnXFq7kT542u7aM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=from:reply-to:to:subject:date:user-agent:references:in-reply-to
         :mime-version:content-type:content-transfer-encoding:message-id;
        b=TaoJZ0eV98XB/BEiJAEW7vGdgR8DUHL5Rcg12mFq8xDn8hAlHFQDfDxHgAypB3krKr
         sdbpedDWQUYZhOeXQkbu1t4KWZnYQuWwMtT7UQDeoBTd8zA/dohrUKhDP0WGT80cJhKb
         PtUktjSy+LBW5mwGA7cXsHXjaJnher7V/SXHk=
From: ZyX <zyx.vim@gmail.com>
Reply-To: zyx.vim@gmail.com
To: zsh-workers@zsh.org
Subject: Re: is variable with variable name possible?
Date: Tue, 5 Apr 2011 08:09:27 +0400
User-Agent: KMail/1.13.5 (Linux/2.6.36-zen1; KDE/4.5.5; x86_64; ; )
References: <Xns9EBD94C46B8C1zzappergmailcom@80.91.229.10> <20110404162824.GB9371@yahoo.fr> <BANLkTimU=NGp8eMkQKmNony3n4sR8ezreQ@mail.gmail.com>
In-Reply-To: <BANLkTimU=NGp8eMkQKmNony3n4sR8ezreQ@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/signed;
  boundary="nextPart1546748.zlV01SazLv";
  protocol="application/pgp-signature";
  micalg=pgp-sha1
Content-Transfer-Encoding: 7bit
Message-Id: <201104050809.28015@-zyx>

--nextPart1546748.zlV01SazLv
Content-Type: Text/Plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable

Reply to message =C2=ABRe: is variable with variable name possible?=C2=BB,=
=20
sent 20:34:26 05 April 2011, Tuesday
by Mikael Magnusson:

> Pretty sure globsubst breaks your idea too, but fine,
>=20
> : ${(P)~~somevar::=3D$PWD}
>=20
> In fact, globsubst pretty much breaks every hook function i have :P.
`emulate -L zsh' at the top of each function and it will be unbreakable by =
such=20
options.

Original message:
> On 4 April 2011 18:28, Stephane Chazelas <stephane_chazelas@yahoo.fr> wro=
te:
> > 2011-04-04 16:25:01 +0200, Mikael Magnusson:
> >> On 4 April 2011 16:06, Stephane Chazelas <stephane_chazelas@yahoo.fr>=
=20
wrote:
> >> > 2011-04-04 15:48:32 +0200, J=C3=A9r=C3=A9mie Roquet:
> >> > [...]
> >> >=20
> >> >> 2011/4/4 zzapper <david@tvis.co.uk>:
> >> >> > somevar=3D$(pwd)
> >> >> >=20
> >> >> > but I want somevar to be a variable name
> >> >>=20
> >> >> $ eval "$somevar=3D$(pwd)"
> >> >=20
> >> > [...]
> >> >=20
> >> > No!
> >> >=20
> >> > eval "$somevar=3D\$(pwd)"
> >> > or
> >> > eval "$somevar=3D\$PWD"
> >> >=20
> >> >=20
> >> > Or think of what would happen if $PWD was "/tmp/x;rm -rf /home"
> >>=20
> >> How do you feel about this?
> >>=20
> >> : ${(P)somevar::=3D$PWD}
> >=20
> > [...]
> >=20
> > Try after
> >=20
> > sudo ln -s . '/*'
> > cd '/*/*/*/*/*'
> > setopt globsubst
> >=20
> > ;-)
> >=20
> > (if you're lucky, it won't crash your machine).
>=20
> Pretty sure globsubst breaks your idea too, but fine,
>=20
> : ${(P)~~somevar::=3D$PWD}
>=20
> In fact, globsubst pretty much breaks every hook function i have :P.

--nextPart1546748.zlV01SazLv
Content-Type: application/pgp-signature; name=signature.asc 
Content-Description: This is a digitally signed message part.

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.17 (GNU/Linux)

iEYEABECAAYFAk2alfgACgkQkOgHluiXxU+h5gCdGJIncIYA1TpTfKrR8UEpUTw8
EtkAnRa2xNIGGSwzl2I3G+/Oi22HxX4b
=X8aF
-----END PGP SIGNATURE-----

--nextPart1546748.zlV01SazLv--

