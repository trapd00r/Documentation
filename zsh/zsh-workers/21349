From zsh-workers-return-21349-mason-zsh=primenet.com.au@sunsite.dk Thu Jun 16 15:04:01 2005
Return-Path: <zsh-workers-return-21349-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 25566 invoked from network); 16 Jun 2005 15:04:00 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 16 Jun 2005 15:04:00 -0000
Received: (qmail 62965 invoked from network); 16 Jun 2005 15:03:54 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 16 Jun 2005 15:03:54 -0000
Received: (qmail 19258 invoked by alias); 16 Jun 2005 15:03:48 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 21349
Received: (qmail 19248 invoked from network); 16 Jun 2005 15:03:48 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 16 Jun 2005 15:03:48 -0000
Received: (qmail 62343 invoked from network); 16 Jun 2005 15:03:48 -0000
Received: from natsmtp00.rzone.de (81.169.145.165)
  by a.mx.sunsite.dk with SMTP; 16 Jun 2005 15:03:44 -0000
Received: from www.strato-webmail.de (salami.rzone.de [81.169.145.14])
	by post.webmailer.de (8.13.1/8.13.1) with ESMTP id j5GF3goa028387
	for <zsh-workers@sunsite.dk>; Thu, 16 Jun 2005 17:03:43 +0200 (MEST)
From: questor@fused.de
To: zsh-workers@sunsite.dk
Subject: CompletionProblem on new Platform with QNX
X-Mailer: STRATO-Webmail.de, powered by PHlyMail OEM, http://phlymail.com
X-Sender-IP: 194.121.90.163
Message-Id: <20050616150342.AB3D19000A@www.strato-webmail.de>
Date: Thu, 16 Jun 2005 17:03:42 +0200 (CEST)
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=6.0 tests=AWL,BAYES_00,NO_REAL_NAME 
	autolearn=no version=3.0.2
X-Spam-Hits: -2.6


Hi

I've compiled zsh with configure and make and got it working under qnx on
a sh4-processor. But Tab-Command-Completion does not work correctly, I
always get the right results followed by endless empty lines.

I've tried it without any startup-scripts to make shure it's not a
configuration-problem, but without success. an example (put with " around
one line to show the spaces):

"root@localhost . # l"
"let                                                                    
"
"libc.so                                                                
"
"libc.so.2                                                              
"
"libexpat.so                                                            
"
"libexpat.so.2                                                          
"
"libsocket.so                                                           
"
"libsocket.so.2                                                         
"
"limit                                                                  
"
"ln                                                                     
"
"local                                                                  
"
"log                                                                    
"
"login                                                                  
"
"logout                                                                 
"
"ls                                                                     
"
"                                                                      "
"                                                                      "
"                                                                      "
..

with "autoload -U compinit" and "compinit" "ls -<TAB>" works perfectly.

I've tried looking at the sourcecode, but it's to cryptic to find the
error (sidenote: I've compiled the same sourcetree under win32+cygwin and
there it works).

where is a good startpoint in the source to look what's going wrong? are
the spaces after the filenames normal or is there an error (missing \0 or
something like that)?

thanx for your help!

