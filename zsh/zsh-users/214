From hzoli@cs.elte.hu Tue May 14 02:10:07 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by melb.werple.net.au (8.7.5/8.7.3) with ESMTP id CAA16558 for <mason@werple.mira.net.au>; Tue, 14 May 1996 02:10:05 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id MAA22465; Mon, 13 May 1996 12:03:53 -0400 (EDT)
Resent-Date: Mon, 13 May 1996 12:03:13 -0400 (EDT)
From: Zoltan Hidvegi <hzoli@cs.elte.hu>
Message-Id: <199605131600.SAA18264@turan.elte.hu>
Subject: Re: Help von glob_subst
To: jarausch@igpm.rwth-aachen.de (Helmut Jarausch)
Date: Mon, 13 May 1996 18:00:29 +0200 (MET DST)
Cc: zsh-users@math.gatech.edu
In-Reply-To: <199605131418.QAA28908@igpm.rwth-aachen.de> from Helmut Jarausch at "May 13, 96 04:18:09 pm"
Organization: Dept. of Comp. Sci., Eotvos University, Budapest, Hungary
Phone: (36 1)2669833 ext: 2667, home phone: (36 1) 2752368
X-Mailer: ELM [version 2.4ME+ PL15 (25)]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"WPm0f1.0.2U5.1rrbn"@euclid>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/214
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu
Content-Length: 858
Status: O

> 
> Please help,
> 
> I have been using the following construct quite often (recently it does not work
> any more, since there has been a `bug fix` in ZSH)
> 
> e.g.
> file  Test
> 
> #!/bin/zsh
> Pattern=$1(.)
> eval List=$Pattern
> 
> 
> invoking it like
> 
> Test `**/*`
> 
> I got the expansion in $List.
> 
> How is it done now?

I mentioned this change in the announcement of beta17 (which was admittedly
quite long and boring :-)).  The right-hand side of assignments are no
longer globbed by default.  You should use

foo=( glob-pattern )

if you want an array of matches.  This has always been the preferred way to
create arrays, now it is the only way (besides set -A).  See also in the
zshoptions manual page the description of the GLOB_ASSIGN option.

But for your problem there is an even simpler solution:

#!/bin/zsh
List=( $~1(.) )

Zoltan


