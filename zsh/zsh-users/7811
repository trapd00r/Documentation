From zsh-users-return-7811-mason-zsh=primenet.com.au@sunsite.dk Fri Aug 06 18:30:35 2004
Return-Path: <zsh-users-return-7811-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8489 invoked from network); 6 Aug 2004 18:30:35 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 6 Aug 2004 18:30:35 -0000
Received: (qmail 73596 invoked from network); 6 Aug 2004 18:30:29 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 6 Aug 2004 18:30:29 -0000
Received: (qmail 10587 invoked by alias); 6 Aug 2004 18:27:52 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 7811
Received: (qmail 10564 invoked from network); 6 Aug 2004 18:27:52 -0000
Received: from unknown (HELO a.mx.sunsite.dk) (130.225.247.88)
  by 130.225.247.90 with SMTP; 6 Aug 2004 18:27:52 -0000
Received: (qmail 63128 invoked from network); 6 Aug 2004 18:25:53 -0000
Received: from jlefevre.net1.nerim.net (HELO ay.vinc17.org) (80.65.226.245)
  by a.mx.sunsite.dk with SMTP; 6 Aug 2004 18:25:52 -0000
Received: from lefevre by ay.vinc17.org with local (Exim 4.34)
	id 1Bt9Pa-0004GW-Li; Fri, 06 Aug 2004 20:25:50 +0200
Date: Fri, 6 Aug 2004 20:25:50 +0200
From: Vincent Lefevre <vincent@vinc17.org>
To: zsh-users@sunsite.dk
Subject: Re: syncing .zsh* files
Message-ID: <20040806182550.GC7244@ay.vinc17.org>
Mail-Followup-To: zsh-users@sunsite.dk
References: <198F38D4-E7C4-11D8-8E3F-000D93AD26C8@tntluoma.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
In-Reply-To: <198F38D4-E7C4-11D8-8E3F-000D93AD26C8@tntluoma.com>
X-Mailer-Info: http://www.vinc17.org/mutt/
User-Agent: Mutt/1.5.6i
Sender: Vincent Lefevre <vincent@vinc17.org>
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, hits=-0.9 required=6.0 tests=BAYES_10 autolearn=no 
	version=2.63
X-Spam-Hits: -0.9

On 2004-08-06 12:17:23 -0400, Timothy Luoma wrote:
> I'm interested in keeping my .zsh(rc|env) files synced across 3 
> different machines.
> 
> Anyone have any good techniques for doing so, especially when there are 
> some things ($PATH) which are different on each machine?

I manage all my config files with Subversion and I have a script that
reinstall them (with a possible preprocessing) when I want to. For
zsh, I have a .zdomain file on each account, that sets up a $domain
variable, which I can test when need be.

> Should I have separate .zshenv files and the same .zshrc file perhaps?

In general, both files will have settings common to each account and
settings that may differ, even in the .zshrc file; for instance, in my
case, the precmd function contains something that depends on $domain:

  if [[ $domain == local.ay && "$(pmu_battery)" == "Battery" ]] then
    psvar[1]="[$(pmu_percent)%]"
  else
    psvar[1]=""
  fi

Also, some aliases are defined for some accounts only.

> Do .zshrc and .zshenv both get used when logging in (ssh)?

.zshenv, .zshrc and .zlogin (and possibly other files, RTFM...)
for a login shell (default case with ssh).

-- 
Vincent Lefèvre <vincent@vinc17.org> - Web: <http://www.vinc17.org/>
100% validated (X)HTML - Acorn / RISC OS / ARM, free software, YP17,
Championnat International des Jeux Mathématiques et Logiques, etc.
Work: CR INRIA - computer arithmetic / SPACES project at LORIA

