From zsh-workers-request@math.gatech.edu Sun Mar 01 20:26:35 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 14504 invoked from network); 1 Mar 1998 20:26:34 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 1 Mar 1998 20:26:34 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id PAA12603;
	Sun, 1 Mar 1998 15:10:00 -0500 (EST)
Resent-Date: Sun, 1 Mar 1998 15:09:42 -0500 (EST)
Message-ID: <19980301211209.42475@flashback.net>
Date: Sun, 1 Mar 1998 21:12:09 +0100
From: =?iso-8859-1?Q?Jimmy_M=E4kel=E4?= <jmy@flashback.net>
To: zsh-users@math.gatech.edu
Subject: completion and history
Mail-Followup-To: zsh-users@math.gatech.edu
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 0.89.1
X-Stardate: [-30]0784.14
Resent-Message-ID: <"tp7A72.0.N43.52S-q"@math>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/1353
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

I have got this compctl to unzip files into a directory based on their name,
but i would like to know of a cleaner way to do this, especially the
function. How would i for example do if i wanted to be able to add a -dNAME
for each of the arguments before the current on the commandline like:
unzip 1.zip 2.zip 3.zip <TAB> gives:
unzip 1.zip 2.zip 3.zip -d1 -d2 -d3

--------CUT-----------
compctl -x 'p[1]' -g '*.(zip|ZIP)' - 'p[2]' -K compzip -- unzip

>From the compzip function:
read -c z
z=`echo $z|awk '{print $2}'|awk -F . '{print $1}'`
reply=("-d$z")
return
----------------------

And how do i get the appendhistory thing to work, what have i done wrong:

% grep HIST .zshrc
HISTSIZE=200
HISTFILE=.zshistory

% ls -o .zshistory
-rw-------   1 jmy             0 Feb 23 20:16 .zshistory

% grep setopt .zshrc|grep hist
setopt   correctall autocd longlistjobs nobeep automenu appendhistory
setopt   autoresume histignoredups pushdsilent noclobber

