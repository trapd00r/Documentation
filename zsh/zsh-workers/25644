From zsh-workers-return-25644-mason-zsh=primenet.com.au@sunsite.dk Thu Sep 11 14:37:17 2008
Return-Path: <zsh-workers-return-25644-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2350 invoked from network); 11 Sep 2008 14:37:14 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 11 Sep 2008 14:37:14 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 30609 invoked from network); 11 Sep 2008 14:36:52 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 11 Sep 2008 14:36:52 -0000
Received: (qmail 19545 invoked by alias); 11 Sep 2008 14:36:40 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 25644
Received: (qmail 19526 invoked from network); 11 Sep 2008 14:36:40 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 11 Sep 2008 14:36:40 -0000
Received: from vms173003pub.verizon.net (vms173003pub.verizon.net [206.46.173.3])
	by bifrost.dotsrc.org (Postfix) with ESMTP id CB481802710A
	for <zsh-workers@sunsite.dk>; Thu, 11 Sep 2008 16:36:36 +0200 (CEST)
Received: from torch.brasslantern.com ([96.238.220.178])
 by vms173003.mailsrvcs.net
 (Sun Java System Messaging Server 6.2-6.01 (built Apr  3 2006))
 with ESMTPA id <0K7100JS6CJ9KEUA@vms173003.mailsrvcs.net> for
 zsh-workers@sunsite.dk; Thu, 11 Sep 2008 09:35:34 -0500 (CDT)
Received: from torch.brasslantern.com (localhost.localdomain [127.0.0.1])
	by torch.brasslantern.com (8.13.1/8.13.1) with ESMTP id m8BEZWpF024012	for
 <zsh-workers@sunsite.dk>; Thu, 11 Sep 2008 07:35:33 -0700
Received: (from schaefer@localhost)	by torch.brasslantern.com
 (8.13.1/8.13.1/Submit) id m8BEZVcx024011	for zsh-workers@sunsite.dk; Thu,
 11 Sep 2008 07:35:31 -0700
Date: Thu, 11 Sep 2008 07:35:31 -0700
From: Bart Schaefer <schaefer@brasslantern.com>
Subject: Re: preventing the leading space in process substitution
In-reply-to: <20080911140505.6c040bf4@news01>
To: "Zsh Hackers' List" <zsh-workers@sunsite.dk>
Message-id: <080911073531.ZM24010@torch.brasslantern.com>
MIME-version: 1.0
X-Mailer: OpenZMail Classic (0.9.2 24April2005)
Content-type: text/plain; charset=us-ascii
References: <20080909144101.GA30693@lapse.rw.madduck.net>
	<200809101124.m8ABOlKI005063@news01.csr.com>
	<080910074842.ZM19151@torch.brasslantern.com>
	<200809101510.m8AFAajX007203@news01.csr.com>
	<080910090554.ZM19272@torch.brasslantern.com>
	<6cd6de210809101151q4d0a2a35p452fe656e0ee7dd5@mail.gmail.com>
	<20080911130005.7c5e2b7c@news01>
	<6cd6de210809110544u569838dk5a93a739fa267822@mail.gmail.com>
	<20080911140505.6c040bf4@news01>
Comments: In reply to Peter Stephenson <pws@csr.com>
 "Re: preventing the leading space in process substitution" (Sep 11,  2:05pm)
X-Virus-Scanned: ClamAV 0.92.1/8217/Thu Sep 11 14:12:16 2008 on bifrost
X-Virus-Status: Clean

On Sep 11,  2:05pm, Peter Stephenson wrote:
}
} They are currently reset explicitly.  I think for most traps that's to
} avoid the subshell picking up a signal destined for the parent shell
} (unless the trap has specifically been set in the subshell), but it's
} possible Bart has detailed knowledge.

Not this time, I'm afraid.  I'd expect ignored signals (trap '' ...)
to be preserved in subshells, but for other signals passing through
to the parent is as good a guess as any.
 
} I can't see why we shouldn't keep the debug-related traps, ZERR and
} DEBUG, alive in subshells.

I can't think of any reason either, unless maybe there are cases where
it could result in the trap being executed in both the subshell and
the parent.

