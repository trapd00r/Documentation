From zsh-users-return-11234-mason-zsh=primenet.com.au@sunsite.dk Sun Mar 04 17:46:32 2007
Return-Path: <zsh-users-return-11234-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 12618 invoked from network); 4 Mar 2007 17:46:30 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.8 (2007-02-13) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=BAYES_00,FORGED_RCVD_HELO
	autolearn=ham version=3.1.8
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 4 Mar 2007 17:46:30 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 60627 invoked from network); 4 Mar 2007 17:46:24 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 4 Mar 2007 17:46:24 -0000
Received: (qmail 4560 invoked by alias); 4 Mar 2007 17:46:15 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 11234
Received: (qmail 4550 invoked from network); 4 Mar 2007 17:46:14 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 4 Mar 2007 17:46:14 -0000
Received: (qmail 59250 invoked from network); 4 Mar 2007 17:46:14 -0000
Received: from ug-out-1314.google.com (66.249.92.168)
  by a.mx.sunsite.dk with SMTP; 4 Mar 2007 17:46:10 -0000
Received: by ug-out-1314.google.com with SMTP id k3so1014402ugf
        for <zsh-users@sunsite.dk>; Sun, 04 Mar 2007 09:46:10 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:sender:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        b=NvsLCYoxNPhuaT7wLOofeLDIq81TOIbVYUwObZ5zDZSaDz19Mkiv+Wwzr7oStk7qH+a6rrkd7Hpzt9L4rPoNDDnHudUcqxbsmyVyDEVHegI99JJvm1pEVZjXbaqk6MjQhiQF58+GWePHpFkxE8vGJrFclCXBYvePDQOpsTZ0Op8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:sender:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        b=ZcMlCygEcWufEXSwKU0AoDWiUkq8ZLhOZFlTbUu9oZoN2GHqm5yXTCo2lZcvOPPgqnmQiS/DN2VVlONjGjKrJiM4m21UD0erxZqFALZ+eb0QXvlGMHJaZy+jF8KAlS94+i2mNQU/m6BqQL6/hTrEQjzB3fuCmX5BdZ6bIra3GSE=
Received: by 10.115.106.7 with SMTP id i7mr964788wam.1173030369481;
        Sun, 04 Mar 2007 09:46:09 -0800 (PST)
Received: by 10.114.199.13 with HTTP; Sun, 4 Mar 2007 09:46:09 -0800 (PST)
Message-ID: <dbfc82860703040946g3d4764b4m598c109ba20bfd8d@mail.gmail.com>
Date: Sun, 4 Mar 2007 18:46:09 +0100
From: "Nikolai Weibull" <now@bitwi.se>
Sender: nikolai.weibull@gmail.com
To: "Bart Schaefer" <schaefer@brasslantern.com>
Subject: Re: auto-reflesh $PATH
Cc: zsh-users@sunsite.dk
In-Reply-To: <070303160643.ZM6467@torch.brasslantern.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <c12037010703031514h2730c96te5b721188deda41d@mail.gmail.com>
	 <070303160643.ZM6467@torch.brasslantern.com>
X-Google-Sender-Auth: 8091e389eadc25c8

On 3/4/07, Bart Schaefer <schaefer@brasslantern.com> wrote:

>     function preexec {
>       local -a modified_path
>       modified_path=( ${^path}(Nms${SECONDS}) )
>       SECONDS=0
>       if (( $#modified_path ))
>       then hash -r
>       fi
>     }

> That won't catch files being renamed within the same directory in $PATH,
> but if you have a lot of directories or a lot of commands in the path it
> is probably faster than doing a rehash before every command.

I guess it's time someone writes an inotify module.  Any takers?

  nikolai

