From zsh-workers-return-7351-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Aug 03 18:51:35 1999
Return-Path: <zsh-workers-return-7351-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 20958 invoked from network); 3 Aug 1999 18:51:33 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 3 Aug 1999 18:51:33 -0000
Received: (qmail 12989 invoked by alias); 3 Aug 1999 18:51:24 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7351
Received: (qmail 12981 invoked from network); 3 Aug 1999 18:51:23 -0000
Message-ID: <14247.14862.404409.655828@pdx.itasoftware.com>
Date: Tue, 3 Aug 1999 14:50:54 -0400 (EDT)
From: greg@klanderman.net (Greg Klanderman)
To: zsh-workers@sunsite.auc.dk (Zsh list)
Subject: TRAPEXIT question
Reply-To: greg@klanderman.net
X-Mailer: VM 6.62 under 21.0 "Pyrenean" XEmacs Lucid (beta62)
Mime-Version: 1.0 (generated by tm-edit 7.108)
Content-Type: text/plain; charset=US-ASCII


Hi,

I'd like to define a funtion that when invoked defines a TRAPEXIT
function to save my directory stack and history before the shell
exits.  Unfortunately, it seems that if TRAPEXIT is defined from
within a shell function or even from a "source"d file, the exit 
hook gets called when the function exits or sourced file finishes,
rather than when the shell itself exits.

Is there any way around this?

thanks,

Greg

