From zsh-workers-return-28745-mason-zsh=primenet.com.au@zsh.org Fri Feb 11 17:47:15 2011
Return-Path: <zsh-workers-return-28745-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 28042 invoked by alias); 11 Feb 2011 17:47:15 -0000
Mailing-List: contact zsh-workers-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Workers List <zsh-workers.zsh.org>
List-Post: <mailto:zsh-workers@zsh.org>
List-Help: <mailto:zsh-workers-help@zsh.org>
Delivered-To: mailing list zsh-workers@zsh.org
X-Seq: 28745
Received: (qmail 25830 invoked from network); 11 Feb 2011 17:47:10 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00,RCVD_IN_DNSWL_LOW,
	SPF_HELO_PASS autolearn=ham version=3.3.1
Received-SPF: none (ns1.primenet.com.au: domain at csr.com does not designate permitted sender hosts)
Date: Fri, 11 Feb 2011 17:47:00 +0000
From: Peter Stephenson <Peter.Stephenson@csr.com>
To: <zsh-workers@zsh.org>
Subject: Re: loading user startup files for zsh scripts
Message-ID: <20110211174700.60b8d3bb@pwslap01u.europe.root.pri>
In-Reply-To: <110211092602.ZM485@torch.brasslantern.com>
References: <19792.22365.139876.599478@gargle.gargle.HOWL>
	<110207213357.ZM22407@torch.brasslantern.com>
	<m3ipwue9m2.fsf@klanderman.net>
	<20110208172056.6a985c90@pwslap01u.europe.root.pri>
	<m362sudov6.fsf@klanderman.net>
	<110208205856.ZM24066@torch.brasslantern.com>
	<m3tygdci4b.fsf@klanderman.net>
	<110209085358.ZM29014@torch.brasslantern.com>
	<m3d3mzg8d6.fsf@klanderman.net>
	<110210095253.ZM30860@torch.brasslantern.com>
	<m3ipwrcpo2.fsf@klanderman.net>
	<110210192945.ZM31349@torch.brasslantern.com>
	<m339nucz7o.fsf@klanderman.net>
	<110211092602.ZM485@torch.brasslantern.com>
Organization: Cambridge Silicon Radio
X-Mailer: Claws Mail 3.7.8 (GTK+ 2.22.0; i386-redhat-linux-gnu)
MIME-Version: 1.0
Content-Type: text/plain; charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Originating-IP: [10.103.11.49]
X-Scanned-By: MailControl A_10_80_00 (www.mailcontrol.com) on 10.71.0.132

On Fri, 11 Feb 2011 09:26:02 -0800
Bart Schaefer <schaefer@brasslantern.com> wrote:
> } I can add doc if you like it.. one open
> } question is whether you want $ZSH_SCRIPT to be unset or empty when
> not } running a script; currently it would be empty, which might be
> useful } for detecting whether zsh is providing that parameter.
> 
> I think empty is OK, but let's hear from PWS.

I think empty is much more Zen-like, so fits perfectly.

More(?) seriously, I don't think we'd want [[ -z $ZSH_SCRIPT ]] to
trigger a "NO_UNSET" error if you weren't running a script, and I don't
think (( ${+ZSH_SCRIPT} )) is as common an idiom for special variables.

-- 
Peter Stephenson <pws@csr.com>            Software Engineer
Tel: +44 (0)1223 692070                   Cambridge Silicon Radio Limited
Churchill House, Cambridge Business Park, Cowley Road, Cambridge, CB4 0WZ, UK


Member of the CSR plc group of companies. CSR plc registered in England and Wales, registered number 4187346, registered office Churchill House, Cambridge Business Park, Cowley Road, Cambridge, CB4 0WZ, United Kingdom

