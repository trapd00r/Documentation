From zsh-users-return-11456-mason-zsh=primenet.com.au@sunsite.dk Thu Apr 26 07:16:31 2007
Return-Path: <zsh-users-return-11456-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8072 invoked from network); 26 Apr 2007 07:16:29 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.8 (2007-02-13) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=BAYES_00,FORGED_RCVD_HELO
	autolearn=ham version=3.1.8
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 26 Apr 2007 07:16:29 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 94389 invoked from network); 26 Apr 2007 07:16:23 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 26 Apr 2007 07:16:23 -0000
Received: (qmail 27788 invoked by alias); 26 Apr 2007 07:16:15 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 11456
Received: (qmail 27778 invoked from network); 26 Apr 2007 07:16:14 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 26 Apr 2007 07:16:14 -0000
Received: (qmail 93074 invoked from network); 26 Apr 2007 07:16:14 -0000
Received: from redoubt.spodhuis.org (HELO mx.spodhuis.org) (193.202.115.177)
  by a.mx.sunsite.dk with SMTP; 26 Apr 2007 07:16:11 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws; s=first1; d=spodhuis.org;
	h=Received:Date:From:To:Subject:Message-ID:Mail-Followup-To:References:MIME-Version:Content-Type:Content-Disposition:In-Reply-To;
	b=MLOt6zDpDB95PwK4T9ubawF07nu2i63UIP7MTXi0DisylrA6O1TbtYvuQRQRc/0MzAlEpcX22X8F0SqDyV8HZ0Z77ULlM0P6vna0lsqzXvpqkNTJtid0Qm3plXPMRw0Yw+tVzqx22P9O9E2RIallQYjL8m5nBdLgj89ilaAnSqQ=;
Received: by smtp.spodhuis.org with local 
	id 1HgyD4-0005sY-M8; Thu, 26 Apr 2007 07:16:10 +0000
Date: Thu, 26 Apr 2007 00:16:10 -0700
From: Phil Pennock <zsh-workers+phil.pennock@spodhuis.org>
To: zsh-users@sunsite.dk
Subject: Re: capitalizing file names
Message-ID: <20070426071610.GA22513@redoubt.spodhuis.org>
Mail-Followup-To: zsh-users@sunsite.dk
References: <31691177567034@webmail3.yandex.ru>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <31691177567034@webmail3.yandex.ru>

On 2007-04-26 at 09:57 +0400, Artur Penttinen wrote:
> > I need to rename a series of files on Mac OS X, to reflect case
> 
> > difference.  I have multi-word file names such as
> 
> > alexy_070411_1971.dng

>   autoload zmv
> 
>   zmv '(*).(*)' '${(C)1}.${2:u}'

Nope, on MacOS with its case-preserving-but-insensitive file-system that
yields:

% zmv '(*).(*)' '${(C)1}.${2:u}'
zmv: error(s) in substitution:
file exists: Alexy_070411_1971.DNG
(Probably the same file, owing to file system limitations.)

In the definition of zmv: [[ $f != $g && $f -ef $g ]]
$f is the original filename, $g is the generated filename and they're
the same file (-ef, equal file).

-Phil

