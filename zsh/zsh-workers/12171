From zsh-workers-return-12171-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Jul 05 10:52:10 2000
Return-Path: <zsh-workers-return-12171-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4220 invoked from network); 5 Jul 2000 10:52:08 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 5 Jul 2000 10:52:08 -0000
Received: (qmail 200 invoked by alias); 5 Jul 2000 10:51:30 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 12171
Received: (qmail 87 invoked from network); 5 Jul 2000 10:51:22 -0000
Date: Wed, 5 Jul 2000 12:51:10 +0200 (MET DST)
Message-Id: <200007051051.MAA11521@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: Oliver Kiddle's message of Tue, 04 Jul 2000 21:35:56 +0100
Subject: Re: PATCH: new completion function for arp


Oliver Kiddle wrote:

> ...
> +
> +if [[ "$state" = hostintable ]]; then
> +  _wanted hosts expl 'host' compadd ${${${(f)"$(${words[1]} -a)"}##[ ?(]#}%%[ )]*}
> +fi
> +

This would return zero if _arguments returned non-zero without entering
the state.

Bye
 Sven

Index: Completion/User/_arp
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/User/_arp,v
retrieving revision 1.1
diff -u -r1.1 _arp
--- Completion/User/_arp	2000/07/04 21:58:09	1.1
+++ Completion/User/_arp	2000/07/05 10:49:49
@@ -9,7 +9,6 @@
  '(-a -d -s 1)-f[read multiple entries from file]:file:_files' \
  '(-a)1:host:->hostintable' && return 0
 
-if [[ "$state" = hostintable ]]; then
+[[ "$state" = hostintable ]] &&
   _wanted hosts expl 'host' compadd ${${${(f)"$(${words[1]} -a)"}##[ ?(]#}%%[ )]*}
-fi
 

--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

