From zsh-workers-return-6543-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Jun 09 08:43:41 1999
Return-Path: <zsh-workers-return-6543-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2332 invoked from network); 9 Jun 1999 08:43:39 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 9 Jun 1999 08:43:39 -0000
Received: (qmail 21182 invoked by alias); 9 Jun 1999 08:43:24 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 6543
Received: (qmail 21175 invoked from network); 9 Jun 1999 08:43:24 -0000
Date: Wed, 9 Jun 1999 10:43:20 +0200 (MET DST)
Message-Id: <199906090843.KAA21134@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: Sven Wischnowsky's message of Wed, 9 Jun 1999 10:38:22 +0200 (MET
	DST)
Subject: Re: PATCH: avoid history was: Re: PATCH: pws-21: parentheses in command word


I wrote:

> This is the last one of the patches I played with, trying to make zsh
> faster. It avoids using the history when the line built by is not
> used. The problem is that the code in hist.c always keeps a buffer
> with the stuff read, even when sourcing files or autoloading
> functions. The size of this buffer in incremented in steps of 16
> bytes, so when loading a function like _path_files, this results in
> several hundred calls to realloc() -- which is annoyingly expensive.

Oh damn. I got this patch the wrong way round. Err... if you want to
try it, just use `patch -R', ok? Sorry.

Bye
 Sven


--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

