From zsh-workers-request@math.gatech.edu Mon Aug 10 09:21:51 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8090 invoked from network); 10 Aug 1998 09:21:49 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 10 Aug 1998 09:21:49 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.9.1/8.9.1) id FAA07430;
	Mon, 10 Aug 1998 05:11:19 -0400 (EDT)
Resent-Date: Mon, 10 Aug 1998 05:11:07 -0400 (EDT)
Message-Id: <199808100913.KAA28070@diamond.tao.co.uk>
Subject: Re: Re: init files
To: sweth@astaroth.nit.gwu.edu (Sweth Chandramouli)
Date: Mon, 10 Aug 1998 10:13:13 +0100 (BST)
From: "Zefram" <zefram@tao.co.uk>
Cc: zsh-users@math.gatech.edu
In-Reply-To: <19980809210204.33286@astaroth.nit.gwu.edu> from "Sweth Chandramouli" at Aug 9, 98 09:02:04 pm
X-Mailer: ELM [version 2.4 PL25]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"l05kO3.0.jp1.hahpr"@math>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/1717
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Sweth Chandramouli wrote:
>	i totally misread the part about changing interactive (too many hours
>staring at a screen, i guess), and my shell is defined as a login one because
>its argv[0] is `-zsh'.  i assumed it didn't because of the info in the faq on
>changing your shell, which mentioned linking it to -zsh; echo $0 shows that
>i am running -zsh, even though i never made that link.  does login somehow
>invoke the shell and pass it a modified argv[0]?

Yes.  login always adds the "-" when invoking the user's shell.

>secondly, is there any way to ensure that an action will be taken for all
>users upon logout?

Yes.  Modify login to invoke the command when the login shell terminates.
Any method based on the user's shell performing the action can be
trivially circumvented.

-zefram

