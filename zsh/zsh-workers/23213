From zsh-workers-return-23213-mason-zsh=primenet.com.au@sunsite.dk Sun Mar 11 19:46:40 2007
Return-Path: <zsh-workers-return-23213-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17006 invoked from network); 11 Mar 2007 19:46:35 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.8 (2007-02-13) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=BAYES_00,FORGED_RCVD_HELO
	autolearn=ham version=3.1.8
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 11 Mar 2007 19:46:35 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 30804 invoked from network); 11 Mar 2007 19:46:29 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 11 Mar 2007 19:46:29 -0000
Received: (qmail 7407 invoked by alias); 11 Mar 2007 19:46:25 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 23213
Received: (qmail 7397 invoked from network); 11 Mar 2007 19:46:24 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 11 Mar 2007 19:46:24 -0000
Received: (qmail 30477 invoked from network); 11 Mar 2007 19:46:24 -0000
Received: from mail.zrz.tu-berlin.de (130.149.4.15)
  by a.mx.sunsite.dk with SMTP; 11 Mar 2007 19:46:17 -0000
Received: from localhost ([127.0.0.1] helo=mail.zrz.TU-Berlin.DE)
	  by mail.zrz.tu-berlin.de with esmtp (exim-4.66)
	  for <zsh-workers@sunsite.dk>
	  id 1HQTzl-0000wx-Kg; Sun, 11 Mar 2007 20:46:17 +0100
Received: from mail.zrz.TU-Berlin.DE ([130.149.4.15])
	by mail.zrz.TU-Berlin.DE (MailMonitor for SMTP v1.2.2 ) ;
	Sun, 11 Mar 2007 20:46:17 +0100 (CET)
Received: from komar.bionik.tu-berlin.de ([130.149.198.54])
	  by mail.zrz.tu-berlin.de with esmtp (exim-4.66)
	  for <zsh-workers@sunsite.dk>
	  id 1HQTzk-0000w3-MU; Sun, 11 Mar 2007 20:46:17 +0100
Received: from komar by komar.bionik.tu-berlin.de with local (Exim 4.63)
	(envelope-from <komar@komar.bionik.tu-berlin.de>)
	id 1HQTzj-0005fh-0E
	for zsh-workers@sunsite.dk; Sun, 11 Mar 2007 20:46:15 +0100
Date: Sun, 11 Mar 2007 20:46:14 +0100
From: Maxim Komar <komar@ukr.net>
To: zsh-workers@sunsite.dk
Subject: functions/Misc/prompt-colors
Message-ID: <20070311194614.GA21414@komar.bionik.tu-berlin.de>
MIME-Version: 1.0
Content-Type: multipart/mixed; boundary="ew6BAiZeqk4r7MaW"
Content-Disposition: inline
User-Agent: Mutt/1.5.13 (2006-08-11)
X-Virus-Scanned: Sophos MailMonitor at mail.zrz.tu-berlin.de;
		 Sun, 11 Mar 2007 20:46:17 +0100


--ew6BAiZeqk4r7MaW
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline

I think this is usefull for prompts

-- 
Signature invent in progress 22% ##........

--ew6BAiZeqk4r7MaW
Content-Type: text/plain; charset=us-ascii
Content-Disposition: attachment; filename=prompt-colors

# Quote colors with %{ and %}
# Usefull for prompts

autoload colors
colors

typeset -Hg pr_reset_color pr_bold_color
pr_reset_color="%{$reset_color%}"
pr_bold_color="%{$bold_color%}"

local k

# Foreground
typeset -AHg pr_fg pr_fg_bold pr_fg_no_bold
for k in ${(k)fg}; do
    pr_fg[$k]="%{$fg[k]%}"
    pr_fg_bold[$k]="%{$fg_bold[$k]%}"
    pr_fg_no_bold[$k]="%{$fg_no_bold[$k]%}"
done

# Background
typeset -AHg pr_bg pr_bg_bold pr_bg_no_bold
for k in ${(k)fg}; do
    pr_bg[$k]="%{$pr_bg[$k]%}"
    pr_bg_bold[$k]="%{$bg_bold[$k]%}"
    pr_bg_no_bold[$k]="%{$bg_no_bold[$k]%}"
done

--ew6BAiZeqk4r7MaW--

