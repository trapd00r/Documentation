From zsh-workers-return-6985-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Jul 06 11:43:01 1999
Return-Path: <zsh-workers-return-6985-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 21563 invoked from network); 6 Jul 1999 11:42:58 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 6 Jul 1999 11:42:58 -0000
Received: (qmail 20681 invoked by alias); 6 Jul 1999 11:42:49 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 6985
Received: (qmail 20674 invoked from network); 6 Jul 1999 11:42:48 -0000
X-Envelope-Sender-Is: Andrej.Borsenkow@mow.siemens.ru (at relayer david.siemens.de)
From: "Andrej Borsenkow" <Andrej.Borsenkow@mow.siemens.ru>
To: "ZSH workers mailing list" <zsh-workers@sunsite.auc.dk>
Subject: About set-local-history 
Date: Tue, 6 Jul 1999 15:42:39 +0400
Message-ID: <000901bec7a4$a640c860$21c9ca95@mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2314.1300
Importance: Normal

I noted, that you have to redisplay prompt to get new shared history entries.
That is, assuming, zsh-1 just displays prompt and I enetered several commands in
zsh-2 - zsh-1 won't see them unless I pressed ENTER.

This may be a minor case, but it is at least confusing.

Another comment is, that Zsh treats the history imported from history file at
startup as local (that is, even when local history is toggled on via
set-local-history, I still get all entries there). Again, it may be considered a
feature. But if I turn on local history - it may be more consistent to treat
imported entries as "foreign".

And to be useful in scripts, set-local-history better takes an argument
(set-local-history (on|off) ). If no argument is given, it may toggle as it does
currently. I have a feeling that it was already discussed (or is it already
implemented?)

And, of course, some external way to specify initial state is needed. I cannot
simply run zle command in startup script?

/andrej

