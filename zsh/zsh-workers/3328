From zsh-workers-request@euclid.skiles.gatech.edu Wed Jul 02 04:14:17 1997
Return-Path: <zsh-workers-request@euclid.skiles.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 9168 invoked from network); 2 Jul 1997 04:14:15 -0000
Received: from euclid.skiles.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 2 Jul 1997 04:14:15 -0000
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id XAA03389; Tue, 1 Jul 1997 23:38:26 -0400 (EDT)
Resent-Date: Tue, 1 Jul 1997 23:38:26 -0400 (EDT)
To: zsh-workers@math.gatech.edu
Path: mason
From: mason@primenet.com.au (Geoff Wing)
Newsgroups: lists.zsh.workers
Subject: Re: problem with [[ -s /some/file ]]  under 3.0.4
Date: 2 Jul 1997 03:42:30 GMT
Organization: PrimeNet
Lines: 20
Message-ID: <slrn5rjjh6.8mv.mason@coral.primenet.com.au>
References: <199707012222.SAA22323@kira.peak.org>
Reply-To: mason@primenet.com.au
NNTP-Posting-Host: coral.primenet.com.au
X-Newsreader: slrn (0.9.4.1 UNIX)
Resent-Message-ID: <"F12RE2.0.rq.nqSkp"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3328
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

On 2 Jul 1997 08:41:48 +1000, Timothy Luoma <luomat@peak.org> wrote:
:Hrm.... I just installed 3.0.4 and there seems to be a rather basic flaw:

  case 's':
    return ((st = getstat(c->left)) && !!(st->st_size));

Well, either your compiler must be doing something really strange since
!!0 == 0  for most people, or you've done something strange elsewhere,
or your stat routines don't work.

% rm whatever
% touch whatever
% [[ -s whatever]] && echo yes || echo no
no

-- 
Geoff Wing [mason@primenet.com.au]   Technical Manager
  Phone    : +61-3-9818 2977         PrimeNet - Internet Consultancy
  Facsimile: +61-3-9819 3788         Web : <URL:http://www.primenet.com.au/>
  Mobile   : 0412 162 441

