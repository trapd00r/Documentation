From zsh-workers-return-12019-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Jun 21 15:46:20 2000
Return-Path: <zsh-workers-return-12019-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 22009 invoked from network); 21 Jun 2000 15:46:19 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 21 Jun 2000 15:46:19 -0000
Received: (qmail 28942 invoked by alias); 21 Jun 2000 15:46:08 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 12019
Received: (qmail 28934 invoked from network); 21 Jun 2000 15:46:06 -0000
X-Authentication-Warning: cassini.us.mandrakesoft.com: chmou set sender to chmouel@mandrakesoft.com using -f
To: zsh-workers@sunsite.auc.dk
Subject: PATCH: _ssh with last openssh
From: Chmouel Boudjnah <chmouel@mandrakesoft.com>
Date: 20 Jun 2000 08:25:49 -0700
Message-ID: <m2og4w2x36.fsf@cassini.us.mandrakesoft.com>
Lines: 106
User-Agent: Gnus/5.0807 (Gnus v5.8.7) Emacs/20.6
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii


Here is an upgrade of _ssh to the last openssh option :

Index: Completion/User/_ssh
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/User/_ssh,v
retrieving revision 1.4
diff -u -r1.4 _ssh
--- Completion/User/_ssh	2000/05/09 12:13:38	1.4
+++ Completion/User/_ssh	2000/06/20 15:45:35
@@ -25,24 +25,32 @@
   ssh-opt)
     _arguments -C -s \
       '-a[disable forwarding of authentication agent connection]' \
+      '-A[enables forwarding of the authentication agent connection]' \
       '-c[select encryption cipher]:encryption cipher:(idea des 3des blowfish arcfour tss none)' \
       '-e[set escape character]:escape character (or `none'"'"'):' \
       '(-n)-f[go to background]' \
+      '-g[allows remote hosts to connect to local forwarded ports]'\
       '-i[select identity file]:SSH identity file:_files' \
       '-k[disable forwarding of kerberos tickets]' \
       '-l[specify login name]:login name:_ssh_users' \
       '-n[redirect stdin from /dev/null]' \
+      '-N[do not execute a remote command. (protocol version 2 only)]'\
       '*-o[specify extra options]:option string:->option' \
       '-p[specify port on remote host]:port number on remote host:' \
-      '-q[quiet operation]' \
       '-P[use non priviledged port]' \
+      '-q[quiet operation]' \
       '-t[force pseudo-tty allocation]' \
+      '-T[disable pseudo-tty allocation (protocol version 2 only)]'\
       '-v[verbose mode]' \
       '-V[show version number]' \
       '-x[disable X11 forwarding]' \
+      '-X[enable X11 forwarding]' \
       '-C[compress all data]' \
       '-L[specify local port forwarding]:local port forwarding:->forward' \
       '-R[specify remote port forwarding]:remote port forwarding:->forward' \
+      '-2[forces ssh to try protocol version 2 only]'\
+      '-4[forces ssh to use IPv4 addresses only]' \
+      '-6[forces ssh to use IPv6 addresses only]' \
       "$args[@]" && ret=0
 
     while [[ -n "$state" ]]; do
@@ -107,7 +115,7 @@
                   ProxyCommand RemoteForward RhostsAuthentication \
                   RhostsRSAAuthentication RSAAuthentication \
                   StrictHostKeyChecking TISAuthentication \
-                  UsePriviledgedPort User UserKnownHostsFile UseRsh \
+                  UsePriviledgedPort Protocol User UserKnownHostsFile UseRsh \
                   XAuthLocation && ret=0
         fi
         ;;
@@ -153,15 +161,18 @@
   scp)
     _arguments -C -s \
       '-c[select encryption cipher]:encryption cipher:(idea des 3des blowfish arcfour tss none)' \
-      '-P[specify port on remote host]:port number on remote host:' \
       '-i[select identity file]:SSH identity file:_files' \
-      '-S[specify path to ssh]:path to ssh:_files -g \*\(-\*\)' \
-      '-o[give SSH options]:options:->options' \
       '-p[preserve modification times]' \
       '-r[recursively copy directories]' \
       '-v[verbose mode]' \
       '-B[batch mode]' \
+      '-q[disables the progress meter]' \
       '-C[compress data]' \
+      '-P[specify port on remote host]:port number on remote host:' \
+      '-4[forces scp to use IPv4 addresses only]' \
+      '-6[forces scp to use IPv6 addresses only]' \
+      '-S[specify path to ssh]:path to ssh:_files -g \*\(-\*\)' \
+      '-o[give SSH options]:options:->options' \
       '*:file:->file' && ret=0
 
     if [[ "$state" = options ]]; then
@@ -186,10 +197,11 @@
     ;;
   ssh-add)
     _arguments -s \
-      '-p[read passphrase from stdin]' \
       '-l[list all identities]' \
+      '-L[lists public key parameters of all identities in the agent]'\
       '-d[remove identity]' \
       '-D[delete all identities]' \
+      '-p[read passphrase from stdin]' \
       '*:SSH identity file:_files'
     return
     ;;
@@ -210,6 +222,12 @@
       '(-p -u)-C[specify new comment]:new comment:' \
       '(-b -f -C -u -c)-p[change passphrase of private key file]' \
       '(-b -f -N -p -u)-c[change comment in private and public key files]' \
+      '-l[show fingerprint of specified private or public key file]' \
+      '-q[silence ssh-keygen]' \
+      '-R[exit 0 or 1 if RSA support is functional]' \
+      '-x[read a DSA private key and print a SSH2 public key to stdout]'\
+      '-X[read a SSH2 public key and print a DSA public key to stdout]'\
+      '-y[read a DSA private key and print a DSA public key to stdout]'\
       '(-b -N -C -p -c)-u[change key cipher to default]'
     return
     ;;


-- 
MandrakeSoft Inc                http://www.mandrakesoft.com
San-Francisco, CA USA                             --Chmouel

