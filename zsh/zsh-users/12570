From zsh-users-return-12570-mason-zsh=primenet.com.au@sunsite.dk Thu Feb 14 15:33:51 2008
Return-Path: <zsh-users-return-12570-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 143 invoked from network); 14 Feb 2008 15:33:48 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.4 (2008-01-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.4
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 14 Feb 2008 15:33:48 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 49043 invoked from network); 14 Feb 2008 15:33:27 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 14 Feb 2008 15:33:27 -0000
Received: (qmail 27006 invoked by alias); 14 Feb 2008 15:33:14 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 12570
Received: (qmail 26989 invoked from network); 14 Feb 2008 15:33:14 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 14 Feb 2008 15:33:14 -0000
Received: from smtp19.orange.fr (smtp19.orange.fr [80.12.242.17])
	by bifrost.dotsrc.org (Postfix) with ESMTP id E549680482A1
	for <zsh-users@sunsite.dk>; Thu, 14 Feb 2008 16:33:09 +0100 (CET)
Received: from me-wanadoo.net (localhost [127.0.0.1])
	by mwinf1912.orange.fr (SMTP Server) with ESMTP id 8BEA31C000E0
	for <zsh-users@sunsite.dk>; Thu, 14 Feb 2008 16:33:09 +0100 (CET)
Received: from localhost (AClermont-Ferrand-157-1-119-139.w86-216.abo.wanadoo.fr [86.216.14.139])
	by mwinf1912.orange.fr (SMTP Server) with ESMTP id 44C2C1C000EC
	for <zsh-users@sunsite.dk>; Thu, 14 Feb 2008 16:33:09 +0100 (CET)
X-ME-UUID: 20080214153309281.44C2C1C000EC@mwinf1912.orange.fr
Received: from stephane by localhost with local (Exim 4.69)
	(envelope-from <stephane@ukacgedilsacha2.artesyncp.com>)
	id 1JPg5E-0001oo-C0
	for zsh-users@sunsite.dk; Thu, 14 Feb 2008 15:33:08 +0000
Date: Thu, 14 Feb 2008 15:33:08 +0000
From: Stephane CHAZELAS <Stephane_Chazelas@yahoo.fr>
To: ZSH User List <zsh-users@sunsite.dk>
Subject: Re: timeout problem in ssh sessions - I found the culprit:
	mouse.zsh
Message-ID: <chaz20080214153308.GA6772@ukacgedilsacha2.artesyncp.com>
Mail-Followup-To: ZSH User List <zsh-users@sunsite.dk>
References: <20080211233404.GA13398@spiegl.de> <080212083755.ZM20121@torch.brasslantern.com> <20080212232947.GA13793@spiegl.de> <080212200708.ZM20711@torch.brasslantern.com> <20080213134200.GB31852@spiegl.de> <200802131349.m1DDnXRF004831@news01.csr.com> <20080214132417.GD31852@spiegl.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20080214132417.GD31852@spiegl.de>
User-Agent: Mutt/1.5.16 (2007-09-19)
X-Virus-Scanned: ClamAV 0.91.2/5809/Thu Feb 14 11:52:07 2008 on bifrost
X-Virus-Status: Clean

On Thu, Feb 14, 2008 at 02:24:17PM +0100, Andy Spiegl wrote:
> (CC to Stephane Chazelas)
> 
> On 2008-02-13, 13:49, Peter Stephenson wrote:
> > Try stripping your .zshrc and .zshenv files to the minimum.
> 
> Thanks, Peter.  This should've been the first thing I should have done.
> Only that it's so time consuming :-(
> 
> Anyway, I found the bad line which was causing the hangs:
>  . $HOME/.zsh/functions/mouse-support
> 
> This is a _very_ nice addon by Stephane Chazelas
>  http://stchaz.free.fr/mouse.zsh
> to be able to use the mouse together with the "Super" key.
> It makes heavy use of the X selection so probably that's what is
> making the problems, maybe in combination with a bug ssh or X.
> 
> Any suggestions where and how to report it to?
> Or how to analyze it further?
[...]

Hi Andy,

If it's an issue with the X selection, adding a "setopt
localoptions xtrace" to the get-x-clipboard, set-x-clipboard,
push-x-cutbuffer may help find out what's going on.

Manipulation of the X selection is done via the xclip or xsel
commands. Those need to connect to the X server. They also try
and own the CLIPBOARD selection. I don't remember the details
but I think the way they get it is that they ask it from the
previous owner.

-- 
Stephane

