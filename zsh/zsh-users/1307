From zsh-workers-request@math.gatech.edu Mon Feb 02 20:13:41 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 26460 invoked from network); 2 Feb 1998 20:13:39 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 2 Feb 1998 20:13:39 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id OAA18197;
	Mon, 2 Feb 1998 14:44:59 -0500 (EST)
Resent-Date: Mon, 2 Feb 1998 14:44:30 -0500 (EST)
To: zsh-users@math.gatech.edu
Sender: monnier@TEQUILA.SYSTEMSZ.CS.YALE.EDU
From: Stefan Monnier <monnier+lists/zsh/users/news/@TEQUILA.SYSTEMSZ.CS.YALE.EDU>
Newsgroups: lists.zsh.users
Subject: Re: Completion on cd
References: <swordfish.886195210@student.cs.york.ac.uk> <Pine.OSF.3.96.980202093408.26874L-100000@alpha2.poco.phy.cam.ac.uk>
Date: 02 Feb 1998 14:46:15 -0500
Message-ID: <5lpvl53i48.fsf@tequila.systemsz.cs.yale.edu>
Lines: 19
X-Newsreader: Gnus v5.5/Emacs 20.2
Path: tequila.systemsz.cs.yale.edu
NNTP-Posting-Host: tequila.systemsz.cs.yale.edu
Resent-Message-ID: <"lu2Vv2.0.kR4.T8Yrq"@math>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/1307
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

"Owen M. Astley" <oma1000@cam.ac.uk> writes:
> zsh doesn't complete on ./ and ../, you may have to include those
> explicitly with something like
> -g '.*(-/) ./ ../'

Since ./ is only taken into acount once you have typed . and since .. will
always be there, having ./ doesn't really help since you still have to type the
. and the / anyway. So I got rid of this one. Also having '.* ..' as you
suggest is inconvenient when there's only one .xxx subdir since instead of
completing it, zsh asks you whether you want .xxx or ..

So my choice went for:

	compctl -g '*(-/)' + -g '.*(-/)' + -g '..' cd chdir dirs pushd

I should probably add some cdpath handling but I don't use it that much anyway.


	Stefan

