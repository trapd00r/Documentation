From zsh-users-return-15065-mason-zsh=primenet.com.au@zsh.org Wed May 19 15:56:27 2010
Return-Path: <zsh-users-return-15065-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 27713 invoked by alias); 19 May 2010 15:56:27 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 15065
Received: (qmail 2152 invoked from network); 19 May 2010 15:56:15 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.9 required=5.0 tests=BAYES_00,RCVD_IN_DNSWL_NONE
	autolearn=ham version=3.3.1
Received-SPF: none (ns1.primenet.com.au: domain at brasslantern.com does not designate permitted sender hosts)
MIME-Version: 1.0
In-Reply-To: <20100519125713.GA17396@spiegl.de>
References: <20100519125713.GA17396@spiegl.de>
Date: Wed, 19 May 2010 08:30:36 -0700
Message-ID: <AANLkTilf4VJehRx3kf_XNUc4B8YO1EexzsZIaaclnFJ2@mail.gmail.com>
Subject: Re: Bug in _gnu_generic for "cp -a"?
From: Bart Schaefer <schaefer@brasslantern.com>
To: zsh-users@zsh.org
Content-Type: text/plain; charset=ISO-8859-1

On Wed, May 19, 2010 at 5:57 AM, Andy Spiegl <zsh.Andy@spiegl.de> wrote:
>
> I always had "compdef _gnu_generic cp" in my zsh completion config.

Is there a reason you wanted to override the _cp completer that is
provided by default?  Does it get something else wrong that
_gnu_generic solved?

> but at least for a couple months now I get this:
>
> condor:~> cp -a .zshr<TAB>
> - -a -

_gnu_generic attempts to parse the output of "cp --help" and build a
completion description from that.  If the parse gets confused because
the format of the help output has changed, it won't necessarily
produce a correct result.

What do you see with

% cp -<TAB>

(that is, attempt to complete the list of options)?

