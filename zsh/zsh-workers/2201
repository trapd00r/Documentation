From zsh-workers-request@euclid.skiles.gatech.edu  Wed Oct  9 02:50:29 1996
Return-Path: zsh-workers-request@euclid.skiles.gatech.edu
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by coral.primenet.com.au (8.7.5/8.7.3) with ESMTP id CAA17482 for <mason@primenet.com.au>; Wed, 9 Oct 1996 02:50:24 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id MAA03715; Tue, 8 Oct 1996 12:41:27 -0400 (EDT)
Resent-Date: Tue, 8 Oct 1996 12:41:27 -0400 (EDT)
Date: Tue, 8 Oct 1996 19:41:12 +0300 (EET DST)
From: Jukka Virtanen <jtv@cc.hut.fi>
To: zsh-workers@math.gatech.edu
Subject: two bugs in zsh 3.0.1-test3
Message-ID: <Pine.OSF.3.93.961008193221.6481T-100000@alpha.hut.fi>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
Resent-Message-ID: <"sSSoq3.0.yv.tGeMo"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/2201
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu


=====================================================================
Bug 1:

	If zsh 3.0.1-test3 is compiled in a separate object directory,
	the compilation goes ok, but the install fails, because
	the info files are not found by the Make. Here is a fix
	to this problem:

*** Doc/Makefile.in~    Wed Jul 31 21:41:12 1996
--- Doc/Makefile.in     Tue Oct  8 19:25:07 1996
***************
*** 125,131 ****
  # install info pages, creating install directory if necessary
  install.info: zsh.info
        $(top_srcdir)/mkinstalldirs $(infodir)
!       for file in zsh.info zsh.info-[1-9]; do \
          [ -f "$$file" ] && $(INSTALL_DATA) $$file $(infodir) ; \
        done

--- 125,131 ----
  # install info pages, creating install directory if necessary
  install.info: zsh.info
        $(top_srcdir)/mkinstalldirs $(infodir)
!       for file in $(srcdir)/zsh.info $(srcdir)/zsh.info-[1-9]; do \
          [ -f "$$file" ] && $(INSTALL_DATA) $$file $(infodir) ; \
        done

=====================================================================
Bug 2:

	In an Alpha host running Digital Unix V4.0:

narya dist 554 % uname -a
OSF1 narya.hut.fi V4.0 386 alpha

	The zsh prototypes.h file contains a prototype declaration
	for the ioctl routine:

int ioctl _((int d, unsigned long request, void *argp));

	The declaration is inconsistent with the vendor supplied
	prototype declaration in /usr/include/sys/ioctl.h :

extern int 	ioctl __((int, int, ...));

	I compiled zsh by commenting out the ioctl declaration
	from prototypes.h.

					Juki
					jtv@hut.fi

