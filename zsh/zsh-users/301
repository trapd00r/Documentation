From A.Main@dcs.warwick.ac.uk Wed Jul 17 06:57:07 1996
Received: from eplet.mira.net.au (eplet.mira.net.au [203.9.190.17]) by melb.werple.net.au (8.7.5/8.7.3/2) with ESMTP id GAA12541 for <mason@werple.mira.net.au>; Wed, 17 Jul 1996 06:54:23 +1000 (EST)
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by eplet.mira.net.au (8.7.5/8.7.3) with ESMTP id GAA09766 for <mason@werple.mira.net.au>; Wed, 17 Jul 1996 06:00:35 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id PAA07044; Tue, 16 Jul 1996 15:51:52 -0400 (EDT)
Resent-Date: Tue, 16 Jul 1996 15:43:42 -0400 (EDT)
From: Zefram <A.Main@dcs.warwick.ac.uk>
Message-Id: <27987.199607161942@stone.dcs.warwick.ac.uk>
Subject: Re: [[ -x ]] and root
To: colin@fuligin.loni.ucla.edu (Colin Holmes)
Date: Tue, 16 Jul 1996 20:41:59 +0100 (BST)
Cc: zsh-users@math.gatech.edu
In-Reply-To: <9607161057.ZM17052@fuligin.loni.ucla.edu> from "Colin Holmes" at Jul 16, 96 10:57:21 am
X-Loop: zefram@dcs.warwick.ac.uk
X-Stardate: [-31]7819.10
X-US-Congress: Moronic fuckers
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"Wfn6q1.0.eb1.k3_wn"@euclid>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/301
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu
Content-Length: 558
Status: O

>Are you confident that zsh uses access(2) in its test -x
>implementation?  That would be a mistake, I believe.

Red herring alert.

I mentioned access(2) specifically because that's the *neatest* way to
test it.  In Linux, the bug was not in access() itself, but in the
generic permission-checking code.  That code is used for access(), and
also for all the other permissions checking.  If that code is
misbehaving, access() would be one of the more directly affected
syscalls.

That said, zsh *does* in fact use access(2) for condition checking.

-zefram


