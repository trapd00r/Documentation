From zsh-workers-return-23082-mason-zsh=primenet.com.au@sunsite.dk Tue Jan 02 23:42:21 2007
Return-Path: <zsh-workers-return-23082-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1815 invoked from network); 2 Jan 2007 23:42:15 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.7 (2006-10-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=BAYES_00,FORGED_RCVD_HELO 
	autolearn=ham version=3.1.7
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 2 Jan 2007 23:42:15 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 92886 invoked from network); 2 Jan 2007 23:42:09 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 2 Jan 2007 23:42:09 -0000
Received: (qmail 11281 invoked by alias); 2 Jan 2007 23:42:07 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 23082
Received: (qmail 11271 invoked from network); 2 Jan 2007 23:42:06 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 2 Jan 2007 23:42:06 -0000
Received: (qmail 92668 invoked from network); 2 Jan 2007 23:42:06 -0000
Received: from mta-1.ms.rz.rwth-aachen.de (134.130.7.72)
  by a.mx.sunsite.dk with SMTP; 2 Jan 2007 23:42:02 -0000
Received: from r220-1 ([134.130.3.31]) by mta-1.ms.rz.RWTH-Aachen.de
 (Sun Java System Messaging Server 6.2-7.05 (built Sep  5 2006))
 with ESMTP id <0JB900C3KLU0HN90@mta-1.ms.rz.RWTH-Aachen.de> for
 zsh-workers@sunsite.dk; Wed, 03 Jan 2007 00:42:00 +0100 (CET)
Received: from relay.rwth-aachen.de ([134.130.3.1])
	by r220-1 (MailMonitor for SMTP v1.2.2 ) ; Wed,
 03 Jan 2007 00:41:59 +0100 (MET)
Received: from fsst.voodoo.lan (i577BD2C3.versanet.de [87.123.210.195])
	by relay.rwth-aachen.de (8.13.7/8.13.3/1) with ESMTP id l02Nfx8p021131; Wed,
 03 Jan 2007 00:41:59 +0100 (MET)
Received: from hawk by fsst.voodoo.lan with local (Exim 4.63)
	(envelope-from <ft@bewatermyfriend.de>)	id 1H1tEp-0005KG-Uv; Wed,
 03 Jan 2007 00:40:11 +0100
Date: Wed, 03 Jan 2007 00:40:11 +0100
From: Frank Terbeck <ft@bewatermyfriend.de>
Subject: Re: PATCH: _aptitude
In-reply-to: <20070102220808.GA16238@scowler.net>
To: zsh workers <zsh-workers@sunsite.dk>
Cc: 405355@bugs.debian.org
Mail-followup-to: zsh workers <zsh-workers@sunsite.dk>, 405355@bugs.debian.org
Message-id: <20070102234011.GC10866@fsst.voodoo.lan>
MIME-version: 1.0
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: 7BIT
Content-disposition: inline
Operating-System: Linux 2.6.18.3suspend2+ipw2200 i686
References: <20061004144010.GB7744@fsst.voodoo.lan>
 <20070102220808.GA16238@scowler.net>
User-Agent: Mutt/1.5.13 (2006-08-11)

Clint Adams <clint@zsh.org>:
> > +function _aptitude_release() {
> > +  #{{{
> > +  local expl releases
> > +  releases=(
> > +${${(M)${(f)"$(</etc/apt/sources.list)"}\
> > +:#[ $'\t']#deb(|-src)*}/(#b)[ $'\t']#[^ $'\t']##[ $'\t']##[^ $'\t']##[ $'\t']##([^ $'\t']##)*/$match[1]}
> > +  )
> > +  _wanted list expl release compadd ${expl} - ${(u)releases}
> > +  #}}}
> > +}
> > +
> 
> Committing this, though this is not the same mechanism for completing
> releases as used in _apt.

True. But I currently don't see the actual benefit in parsing
'apt-cache dump' instead of reading 'sources.list'. Are there any
regular uses that would justify such an expensive action?

Regards, Frank

-- 
In protocol design, perfection has been reached not when there is
nothing left to add, but when there is nothing left to take away.
                                                  -- RFC 1925

