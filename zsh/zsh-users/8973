From zsh-users-return-8973-mason-zsh=primenet.com.au@sunsite.dk Tue Jun 07 12:33:30 2005
Return-Path: <zsh-users-return-8973-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 25388 invoked from network); 7 Jun 2005 12:33:29 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 7 Jun 2005 12:33:29 -0000
Received: (qmail 67899 invoked from network); 7 Jun 2005 12:33:23 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 7 Jun 2005 12:33:23 -0000
Received: (qmail 3186 invoked by alias); 7 Jun 2005 12:33:16 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8973
Received: (qmail 3175 invoked from network); 7 Jun 2005 12:33:15 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 7 Jun 2005 12:33:15 -0000
Received: (qmail 66861 invoked from network); 7 Jun 2005 12:33:15 -0000
Received: from ms-smtp-05.texas.rr.com (HELO ms-smtp-05-eri0.texas.rr.com) (24.93.47.44)
  by a.mx.sunsite.dk with SMTP; 7 Jun 2005 12:33:11 -0000
Received: from amdxp.kalama.no-ip.org (cpe-66-68-88-186.austin.res.rr.com [66.68.88.186])
	by ms-smtp-05-eri0.texas.rr.com (8.12.10/8.12.7) with ESMTP id j57CX7Rh006575
	for <zsh-users@sunsite.dk>; Tue, 7 Jun 2005 07:33:07 -0500 (CDT)
Received: from [10.0.1.3] (unknown [10.0.1.3])
	by amdxp.kalama.no-ip.org (Postfix) with ESMTP id 0B4FF65
	for <zsh-users@sunsite.dk>; Tue,  7 Jun 2005 07:33:03 -0500 (CDT)
In-Reply-To: <1050607102405.ZM23139@candle.brasslantern.com>
References: <FFF88236-D978-451E-8149-E994EFAB420F@mac.com> <200506070926.j579QW1R022316@news01.csr.com> <1050607102405.ZM23139@candle.brasslantern.com>
Mime-Version: 1.0 (Apple Message framework v730)
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <CBF3A7F3-F1F5-4094-BC87-A9CAB8A7B95A@kalama.no-ip.org>
Reply-To: zsh-users@sunsite.dk
Content-Transfer-Encoding: 7bit
From: lists <lists@kalama.no-ip.org>
Subject: Re: Avoid LDAP hit during completion
Date: Tue, 7 Jun 2005 07:33:01 -0500
To: zsh-users@sunsite.dk
X-Mailer: Apple Mail (2.730)
X-Virus-Scanned: Symantec AntiVirus Scan Engine
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=6.0 tests=BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.6

Bart, this may be true, but I've used OS X 10.3 workstations bound to  
an LDAP domain containing 2000+ users and haven't seen problems like  
this unless I do something like 'chown<TAB>'.  Odd that Chris would  
run into it and I wouldn't if it were strictly due to user lookups.   
Chris, Peter's suggestions (adding xtrace to _comp_setup) sounds like  
a good thing to try.

-Ryan

On Jun 7, 2005, at 5:24 AM, Bart Schaefer wrote:

> On Jun 7, 10:26am, Peter Stephenson wrote:
> } Subject: Re: Avoid LDAP hit during completion
> }
> } Chris Wong wrote:
> } > For some reason, whenever I start a zsh shell, the first  
> completion
> } > will trigger many many LDAP lookup.
> }
> } Are you using the new completion system (with compinit)?  The  
> best way
> } of tracking this down would be to see what the completion scripts  
> are
> } doing.
>
> It's almost certainly the zsh/parameter module looking up all possible
> user names on the system to implement the $userdirs variable, which is
> used by several of the completion functions including _expand and the
> more obvious _users and _tilde_files.
>
> Unfortunately there's no simple way to disable this.
>

