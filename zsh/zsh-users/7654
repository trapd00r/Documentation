From zsh-users-return-7654-mason-zsh=primenet.com.au@sunsite.dk Thu Jul 01 19:56:10 2004
Return-Path: <zsh-users-return-7654-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18990 invoked from network); 1 Jul 2004 19:56:09 -0000
Received: from odin.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.85)
  by ns1.primenet.com.au with SMTP; 1 Jul 2004 19:56:09 -0000
Received: (qmail 22968 invoked from network); 1 Jul 2004 21:08:01 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 1 Jul 2004 21:08:01 -0000
Received: (qmail 16912 invoked by alias); 1 Jul 2004 19:55:24 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 7654
Received: (qmail 16902 invoked from network); 1 Jul 2004 19:55:23 -0000
Received: from odin.dotsrc.org (HELO a.mx.sunsite.dk) (qmailr@130.225.247.85)
  by sunsite.dk with SMTP; 1 Jul 2004 19:55:23 -0000
Received: (qmail 21746 invoked from network); 1 Jul 2004 21:07:31 -0000
Received: from mxout.hispeed.ch (HELO smtp.hispeed.ch) (62.2.95.247)
  by a.mx.sunsite.dk with SMTP; 1 Jul 2004 21:07:18 -0000
Received: from 80-218-1-155.dclient.hispeed.ch (80-218-1-155.dclient.hispeed.ch [80.218.1.155])
	by smtp.hispeed.ch (8.12.6/8.12.6/tornado-1.0) with ESMTP id i61Jt5gs030169
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NO)
	for <zsh-users@sunsite.dk>; Thu, 1 Jul 2004 21:55:09 +0200
From: Fabiano Sidler <fabianosidler@swissonline.ch>
To: zsh-users@sunsite.dk
Subject: Re: Jumping to the line above
Date: Thu, 1 Jul 2004 21:55:23 +0200
User-Agent: KMail/1.6.2
References: <200407011214.i61CEhUe012898@news01.csr.com>
In-Reply-To: <200407011214.i61CEhUe012898@news01.csr.com>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Message-Id: <200407012155.23845.fabianosidler@swissonline.ch>
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: *
X-Spam-Status: No, hits=1.5 required=6.0 tests=RCVD_IN_SORBS autolearn=no 
	version=2.63
X-Spam-Hits: 1.5

Peter Stephenson wrote:
> [a widget and a patch]

Whoah, thanks! But don't break your legs for me! ;)
The problem with your solution: It's not portable, but I'm going to use
the zsh on other boxes, even where I'm not root on. Hence, there must be
a solution entirely written in zsh scripts, not in C.
The following does not work, as you said:

	~ $ updir() { echo -n $'\r               '; cd .. ; zle redisplay }
	~ $ zle -N updir
	~ $ bindkey '^U' updir
	~ $ [^U^U]

I must press Return to get the desired prompt:

	/ $

I wouldn't believe it, if there were not a solution. But where? ;)
Thanks for reply!

Greetings,
Fips

