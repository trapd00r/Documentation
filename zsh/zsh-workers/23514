From zsh-workers-return-23514-mason-zsh=primenet.com.au@sunsite.dk Mon Jun 04 00:55:45 2007
Return-Path: <zsh-workers-return-23514-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13739 invoked from network); 4 Jun 2007 00:55:44 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.0 (2007-05-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00 autolearn=no
	version=3.2.0
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 4 Jun 2007 00:55:44 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 4440 invoked from network); 4 Jun 2007 00:55:38 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 4 Jun 2007 00:55:38 -0000
Received: (qmail 10997 invoked by alias); 4 Jun 2007 00:55:35 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 23514
Received: (qmail 10988 invoked from network); 4 Jun 2007 00:55:35 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 4 Jun 2007 00:55:35 -0000
Received: (qmail 4058 invoked from network); 4 Jun 2007 00:55:35 -0000
Received: from vms048pub.verizon.net (206.46.252.48)
  by a.mx.sunsite.dk with SMTP; 4 Jun 2007 00:55:32 -0000
Received: from torch.brasslantern.com ([71.116.88.130])
 by vms048.mailsrvcs.net (Sun Java System Messaging Server 6.2-6.01 (built Apr
 3 2006)) with ESMTPA id <0JJ300E2D6JQ6P01@vms048.mailsrvcs.net> for
 zsh-workers@sunsite.dk; Sun, 03 Jun 2007 19:55:04 -0500 (CDT)
Received: from torch.brasslantern.com (localhost.localdomain [127.0.0.1])
	by torch.brasslantern.com (8.13.1/8.13.1) with ESMTP id l540t2qq016401	for
 <zsh-workers@sunsite.dk>; Sun, 03 Jun 2007 17:55:02 -0700
Received: (from schaefer@localhost)	by torch.brasslantern.com
 (8.13.1/8.13.1/Submit) id l540t1kF016400	for zsh-workers@sunsite.dk; Sun,
 03 Jun 2007 17:55:01 -0700
Date: Sun, 03 Jun 2007 17:55:01 -0700
From: Bart Schaefer <schaefer@brasslantern.com>
Subject: Re: [Bug] ZSH segmentation fault
In-reply-to: <200706031736.l53HaAJI003047@pws-pc.ntlworld.com>
To: zsh-workers@sunsite.dk
Message-id: <070603175501.ZM16399@torch.brasslantern.com>
MIME-version: 1.0
X-Mailer: OpenZMail Classic (0.9.2 24April2005)
Content-type: text/plain; charset=us-ascii
References: <200706031736.l53HaAJI003047@pws-pc.ntlworld.com>
Comments: In reply to Peter Stephenson <p.w.stephenson@ntlworld.com>
 "Re: [Bug] ZSH segmentation fault" (Jun  3,  6:36pm)

On Jun 3,  6:36pm, Peter Stephenson wrote:
} Subject: Re: [Bug] ZSH segmentation fault
}
} DervishD wrote:
} >     While I understand that running such scripts is very unusual, I
} > think that just segfaulting is not a correct way of dealing with errors.
} 
} I didn't claim it was, indeed I think I implied the opposite.

It might suffice to have a segfault handler (possibly turned off when the
shell is compiled for debugging) which generically prints a message and
aborts cleanly rather than producing a core dump.  It's the same as far
as the end result of the script is concerned, which is why we've never
bothered with it so far, but it gives the appearance that the shell knows
what it's doing when a less-sophisticated user accidentally induces a
fault.

