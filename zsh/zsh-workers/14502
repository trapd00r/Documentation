From zsh-workers-return-14502-mason-zsh=primenet.com.au@sunsite.dk Mon May 28 08:27:44 2001
Return-Path: <zsh-workers-return-14502-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 27926 invoked from network); 28 May 2001 08:27:43 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 28 May 2001 08:27:43 -0000
Received: (qmail 5238 invoked by alias); 28 May 2001 08:27:35 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 14502
Received: (qmail 5202 invoked from network); 28 May 2001 08:27:34 -0000
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
Date: Mon, 28 May 2001 10:26:40 +0200 (MET DST)
Message-Id: <200105280826.KAA00483@beta.informatik.hu-berlin.de>
To: zsh-workers@sunsite.dk
Subject: Re: tag-order problem?
In-Reply-To: <hvoofsg9iz5.fsf@flux.etl.go.jp>

Tanaka Akira wrote:

> I found a problem as follows.
> 
> Z(2):akr@flux% Src/zsh -f
> flux% echo $ZSH_VERSION 
> 4.0.1-pre-5
> flux% bindkey -e; fpath=(Completion Completion/**/*(/)); autoload -U compinit; compinit -D
> flux% zstyle '*' group-name ''
> flux% zstyle '*:messages' format '%d'
> flux% zstyle '*:descriptions' format '%d'
> flux% zstyle ':completion:*' 'tag-order' '*:-non-cvs' '*'
> flux% zstyle ':completion:*-non-cvs' 'ignored-patterns' '(*/|)CVS'
> flux% compdef _tst tst
> flux% _tst () { _arguments -s '-a-:x:' '-b' }
> flux% tst -a<TAB>
> x
> option
> -b
> 
> I think the option `-b' shouldn't completed here.

I know this isn't nice, but I didn't see a good solution and still don't
see one.  This is `caused' by the default value for tag-order which
makes arguments and value be preferred over options (as mentioned in the
docs for the tag-order style).

What one would want here is that the completion system magically knows
that `*' is intended to give the `normal' behaviour.  Unless in those
cases where one really wants to have all tags used at the same time. And
that's the problem...

Bye
  Sven


-- 
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

