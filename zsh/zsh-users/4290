From zsh-users-return-4290-mason-zsh=primenet.com.au@sunsite.dk Sat Sep 29 07:50:18 2001
Return-Path: <zsh-users-return-4290-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 3725 invoked from network); 29 Sep 2001 07:50:17 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 29 Sep 2001 07:50:17 -0000
Received: (qmail 14284 invoked by alias); 29 Sep 2001 07:49:57 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4290
Received: (qmail 14273 invoked from network); 29 Sep 2001 07:49:56 -0000
Date: Sat, 29 Sep 2001 03:49:53 -0400
From: lordzork@lordzork.com
To: zsh-users@sunsite.dk
Subject: Re: error on TTY read: no such file or directory
Message-ID: <20010929034953.E16561@hithaeglir.net>
Reply-To: lordzork@lordzork.com
Mail-Followup-To: lordzork@lordzork.com, zsh-users@sunsite.dk
References: <20010910200737.A6256@hithaeglir.net> <001f01c13abb$6997dca0$21c9ca95@mow.siemens.ru> <20010911084904.A11501@hithaeglir.net> <1010911140155.ZM24429@candle.brasslantern.com> <20010928121347.B16561@hithaeglir.net> <3BB56D03.2000300@mow.siemens.ru>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <3BB56D03.2000300@mow.siemens.ru>
Organization: lordzork industries
X-GPG-Key-ID: 1024D/EE946A6E
X-GPG-Key-Fingerprint: E27C 03D8 A1B6 F7C5 2B92  58A9 4BEA 926A EE94 6A6E
X-GPG-Public-Key: http://lordzork.com/tmk.pub.asc
X-Mailer: CHIKKEN MAIL 0.80 BETA (CHIKKEN)
X-Originating-IP: [127.0.0.1]
X-Midgets: too tall

In the gothic chambers of the underworld on Sat 29 Sep 2001 at 02:41 -0400,
Borsenkow Andrej muttered darkly:

> 
> Please, login (as root) on another tty and do strace on mingetty on, 
> say, tty1 and then login on tty1. Do strace -f to follow all forks. This 
> may give some hint (it did for me once I had similar problem).
> 
> -andrej

yes, it does indeed:

ioctl(10, 0x541b, [0])                  = 0
ioctl(10, 0x5410, [1321])               = 0
ioctl(10, SNDCTL_TMR_STOP, {B9600 opost isig -icanon -echo ...}) = 0
write(10, "\r\33[m\33[m\33[m\33[J\n\33[1;30m[ \33[1;37mlc"..., 270) = 270
write(10, "\33[K", 3)                   = 3
read(10, "@(\377\4\10\0\0\0\0\361\212\0@8Q\1@B\5\0\0@W\1@\2\217\0"..., 1) = 1025
ioctl(2, SNDCTL_TMR_TIMEBASE, 0xbffff8d8) = -1 ENOTTY (Inappropriate ioctl for device)
write(2, "zsh: error on TTY read: bad file"..., 44) = 44
stat64("/root/.zsh/.zlogout.zwc", 0xbffff73c) = -1 ENOENT (No such file or directory)
stat64("/root/.zsh/.zlogout", {st_mode=S_IFREG|0644, st_size=8, ...}) = 0

etc

inappropriate ioctl for device? what does this mean? a search on google
doesn't seem to turn up much.

t.

-- 
4.0k -rw-rw-r--    1 zork     zork       17 Apr 4 17:38 .signature

