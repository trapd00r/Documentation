From zsh-workers-return-11676-mason-zsh=primenet.com.au@sunsite.auc.dk Wed May 31 05:21:01 2000
Return-Path: <zsh-workers-return-11676-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8425 invoked from network); 31 May 2000 05:20:56 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 31 May 2000 05:20:56 -0000
Received: (qmail 2394 invoked by alias); 31 May 2000 05:20:50 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 11676
Received: (qmail 2387 invoked from network); 31 May 2000 05:20:50 -0000
Date: Tue, 30 May 2000 22:20:47 -0700 (PDT)
From: Wayne Davison <wayne@clari.net>
To: Zsh Workers <zsh-workers@sunsite.auc.dk>
Subject: PATCH: silence a compiler warning
Message-ID: <Pine.GSO.4.21.0005302213450.10370-100000@house.clari.net>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

Here's a patch to silence the "potentially used uninitialized"
warning in Src/pattern.c.  (I also had a patch for Zle/computil.c,
but it looks like Sven already fixed that one in the same way I did.)

..wayne..

---8<------8<------8<------8<---cut here--->8------>8------>8------>8---
Index: Src/pattern.c
@@ -807,7 +807,7 @@
 static long
 patcomppiece(int *flagp)
 {
-    long starter, next, pound, op;
+    long starter = 0, next, pound, op;
     int flags, flags2, kshchar, len, ch, patch;
     union upat up;
     char *nptr, *str0, cbuf[2];
@@ -1025,7 +1025,6 @@
 	    if (*patparse != Outang)
 		return 0;
 	    patparse++;
-	    starter = 0;	/* shut compiler up */
 	    switch(len) {
 	    case 3:
 		starter = patnode(P_NUMRNG);
---8<------8<------8<------8<---cut here--->8------>8------>8------>8---

