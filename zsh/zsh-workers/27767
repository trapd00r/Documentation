From zsh-workers-return-27767-mason-zsh=primenet.com.au@zsh.org Wed Mar 03 21:24:19 2010
Return-Path: <zsh-workers-return-27767-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 7900 invoked by alias); 3 Mar 2010 21:24:19 -0000
Mailing-List: contact zsh-workers-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Workers List <zsh-workers.zsh.org>
List-Post: <mailto:zsh-workers@zsh.org>
List-Help: <mailto:zsh-workers-help@zsh.org>
Delivered-To: mailing list zsh-workers@zsh.org
X-Seq: 27767
Received: (qmail 7837 invoked from network); 3 Mar 2010 21:24:17 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00,SPF_HELO_PASS
	autolearn=ham version=3.2.5
Received-SPF: none (ns1.primenet.com.au: domain at bewatermyfriend.org does not designate permitted sender hosts)
From: Frank Terbeck <ft@bewatermyfriend.org>
To: Mikael Magnusson <mikachu@gmail.com>
Cc: zsh-workers@zsh.org,  Bart Trojanowski <bart@jukie.net>
Subject: Re: PATCH: vcs_info: Ignore chpwd_functions[] in VCS_INFO_realpath()
In-Reply-To: <237967ef1003031317u4f24adcehe9396423c8ecfcd2@mail.gmail.com>
	(Mikael Magnusson's message of "Wed, 3 Mar 2010 22:17:17 +0100")
References: <1267650366-11200-1-git-send-email-ft@bewatermyfriend.org>
	<237967ef1003031317u4f24adcehe9396423c8ecfcd2@mail.gmail.com>
User-Agent: Gnus/5.13 (Gnus v5.13) Emacs/23.1 (gnu/linux)
Date: Wed, 03 Mar 2010 22:24:12 +0100
Message-ID: <87635d14lf.fsf@ft.bewatermyfriend.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Df-Sender: 430444

Mikael Magnusson wrote:
> On 3 March 2010 22:06, Frank Terbeck <ft@bewatermyfriend.org> wrote:
[...]
>>  (
>>     (( ${+functions[chpwd]} )) && unfunction chpwd
>> +    (( ${#chpwd_functions} )) && chpwd_functions=()
>>     setopt chaselinks
>>     builtin cd $1 2>/dev/null && pwd
>>  )
>
> Why not just use cd -q?

Good point. `-q' wasn't there when I started vcs_info. :-)

It's the better solution though. I'll send a patch in a minute.

Regards, Frank

-- 
In protocol design, perfection has been reached not when there is
nothing left to add, but when there is nothing left to take away.
                                                  -- RFC 1925

