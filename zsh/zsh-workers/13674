From zsh-workers-return-13674-mason-zsh=primenet.com.au@sunsite.dk Tue Mar 20 09:46:46 2001
Return-Path: <zsh-workers-return-13674-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4710 invoked from network); 20 Mar 2001 09:46:45 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 20 Mar 2001 09:46:45 -0000
Received: (qmail 23165 invoked by alias); 20 Mar 2001 09:46:34 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 13674
Received: (qmail 23153 invoked from network); 20 Mar 2001 09:46:33 -0000
Date: Tue, 20 Mar 2001 10:46:26 +0100 (MET)
Message-Id: <200103200946.KAA07086@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.dk
In-reply-to: Adam Spiers's message of Mon, 19 Mar 2001 21:30:06 +0000
Subject: PATCH: _telnet (was: Re: completion tricks)


[ moved to -workers ]

Adam Spiers wrote:

> ...
> 
> Note to zsh-workers: it looks like completion within the -l option of
> telnet is broken.

Let me guess: your telnet doesn't understand the -\? option?

Mine doesn't and hence it didn't work for me either.  The patch adds a 
default for $_telnet_options containing only -l (my telnet also
understands -n and -d but if I add them Andrej complains because his
doesn't -- or does it? ;-)

Bye
 Sven

Index: Completion/User/_telnet
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/User/_telnet,v
retrieving revision 1.2
diff -u -r1.2 _telnet
--- Completion/User/_telnet	2000/05/05 13:38:46	1.2
+++ Completion/User/_telnet	2001/03/20 09:42:19
@@ -37,6 +37,7 @@
     '*\[-noasynctty\]*' '-noasynctty'
   )
   _telnet_args=($optionmap[(K)"$help"])
+  (( $#_telnet_args )) || _telnet_args=( '-l+[specify user]:user:->users' )
 fi
 
 _arguments -C -s \

--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

