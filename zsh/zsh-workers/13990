From zsh-workers-return-13990-mason-zsh=primenet.com.au@sunsite.dk Sat Apr 14 18:02:48 2001
Return-Path: <zsh-workers-return-13990-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 11179 invoked from network); 14 Apr 2001 18:02:47 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 14 Apr 2001 18:02:47 -0000
Received: (qmail 21304 invoked by alias); 14 Apr 2001 18:02:46 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 13990
Received: (qmail 21291 invoked from network); 14 Apr 2001 18:02:45 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <1010414180144.ZM3683@candle.brasslantern.com>
Date: Sat, 14 Apr 2001 18:01:44 +0000
In-Reply-To: <3AD7461F.A6B691FC@u.genie.co.uk>
Comments: In reply to Oliver Kiddle <opk@u.genie.co.uk>
        "PATCH: completion for MUAs" (Apr 13,  7:31pm)
References: <3AD7461F.A6B691FC@u.genie.co.uk>
X-Mailer: Z-Mail (5.0.0 30July97)
To: zsh-workers@sunsite.dk
Subject: Re: PATCH: completion for MUAs
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Apr 13,  7:31pm, Oliver Kiddle wrote:
} Subject: PATCH: completion for MUAs
}
} The one thing which hasn't been done for any MUA is to parse the
} addressbook/alias list and use it for generating the e-mail addresses.
} 
} Does anyone have suggestions for getting at or parsing the addressbooks
} of different MUAs (apart from MH which is easy)?

There are quite a variety of addressbook formats, ranging from nothing
more than a batch of commands or assignments in the MUA's init files
through Pine's tab-delimited records to networked LDAP lookup.  Rather
than try to provide a function that parses any significant subset of
these, I suggest working out some kind of a plugin model -- paste up a
function name using $service or the like, and call it if it exists.

Then there's also completion of user names @ the local machine, and
maybe even /etc{/mail,}/aliases names or the equivalent for other MTAs.

} Some MUAs are happy with addresses in forms like 'Name <user@host>' and
} 'user@host (Name)'. Any thoughts on how to deal with these (such as
} whether it would be useful to expand to these) and other complications
} such as distribution lists would be helpful.

Some MUAs also are happy with comma-separated lists of addresses in one
or more command-line arguments while others make each argument an address
and don't attempt to parse it further (which can lead to strange problems
later when calling the MTA or having an SMTP conversation).

I'd advise completing only the user@host part, unless it's too difficult
to pick it out of the addressbook entry (but that'd be up to the plugin
in any case, if you take my advice above).

By "distribution lists" do you mean `@groupname:addr,addr,addr;' syntax,
or are you talking about e.g. completing individual addresses that appear
in the definition of a group or alias in the addressbook, or ...?

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

