From zsh-workers-return-13783-mason-zsh=primenet.com.au@sunsite.dk Mon Mar 26 18:51:49 2001
Return-Path: <zsh-workers-return-13783-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 7350 invoked from network); 26 Mar 2001 18:51:48 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 26 Mar 2001 18:51:48 -0000
Received: (qmail 20509 invoked by alias); 26 Mar 2001 18:51:37 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 13783
Received: (qmail 20468 invoked from network); 26 Mar 2001 18:51:36 -0000
Date: Mon, 26 Mar 2001 13:51:35 -0500
From: Clint Adams <schizo@debian.org>
To: zsh-workers@sunsite.dk
Subject: PATCH: 5-digit pids in _pids
Message-ID: <20010326135135.B29679@dman.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5i

I'm going to commit this and the other patch from Michal.

----- Forwarded message from Michal Politowski <mpol@charybda.icm.edu.pl> -----

There's a small problem with this function, preventing it from correctly
completing pids of 5 digits (because there's no space before these in ps
output).

--- /tmp/_pids	Mon Mar 26 19:26:10 2001
+++ /usr/share/zsh/functions/_pids	Mon Mar 26 19:26:52 2001
@@ -14,5 +14,5 @@
 elif [[ "$PREFIX$SUFFIX" = [0-9]# ]]; then
   all=()
-  match="*[[:blank:]]${PREFIX}[0-9]#${SUFFIX}[[:blank:]]*"
+  match="(*[[:blank:]]|)${PREFIX}[0-9]#${SUFFIX}[[:blank:]]*"
 else
   all=(-U)

----- End forwarded message -----

