From zsh-workers-return-21539-mason-zsh=primenet.com.au@sunsite.dk Wed Jul 27 12:45:48 2005
Return-Path: <zsh-workers-return-21539-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 26945 invoked from network); 27 Jul 2005 12:45:46 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 27 Jul 2005 12:45:46 -0000
Received: (qmail 70696 invoked from network); 27 Jul 2005 12:45:40 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 27 Jul 2005 12:45:40 -0000
Received: (qmail 28290 invoked by alias); 27 Jul 2005 12:45:37 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 21539
Received: (qmail 28266 invoked from network); 27 Jul 2005 12:45:36 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 27 Jul 2005 12:45:36 -0000
Received: (qmail 70060 invoked from network); 27 Jul 2005 12:45:34 -0000
Received: from mailhost1.csr.com (HELO MAILSWEEPER01.csr.com) (81.105.217.43)
  by a.mx.sunsite.dk with SMTP; 27 Jul 2005 12:45:27 -0000
Received: from exchange03.csr.com (unverified [10.100.137.60]) by MAILSWEEPER01.csr.com
 (Content Technologies SMTPRS 4.3.12) with ESMTP id <T7264f131e80a6c8d012e8@MAILSWEEPER01.csr.com>;
 Wed, 27 Jul 2005 13:43:20 +0100
Received: from news01.csr.com ([10.103.143.38]) by exchange03.csr.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Wed, 27 Jul 2005 13:47:44 +0100
Received: from news01.csr.com (localhost.localdomain [127.0.0.1])
	by news01.csr.com (8.13.1/8.12.11) with ESMTP id j6RCjOo6023635;
	Wed, 27 Jul 2005 13:45:24 +0100
Received: from csr.com (pws@localhost)
	by news01.csr.com (8.13.1/8.13.1/Submit) with ESMTP id j6RCjOws023632;
	Wed, 27 Jul 2005 13:45:24 +0100
Message-Id: <200507271245.j6RCjOws023632@news01.csr.com>
X-Authentication-Warning: news01.csr.com: pws owned process doing -bs
To: Andreas Pistoor <andreas.pistoor@db.com>
cc: zsh-workers@sunsite.dk
Subject: Re: Wrong build on SunOS 5.8 or bug in zsh? 
In-reply-to: <42E776D8.80906@db.com> 
References: <42E776D8.80906@db.com>
Date: Wed, 27 Jul 2005 13:45:23 +0100
From: Peter Stephenson <pws@csr.com>
X-OriginalArrivalTime: 27 Jul 2005 12:47:44.0353 (UTC) FILETIME=[62233510:01C592A9]
X-Spam-Checker-Version: SpamAssassin 3.0.4 (2005-06-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.1 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.4

Andreas Pistoor wrote:
> On Linux, AIX and our develop-SunOS the zsh works fine, but on our
> SunOS-production-machines some long running scripts, which starts many
> subjobs and waits for them, get from time to time a signal SIGBUS (or
> maybe SIGILL or SIGSEGV, I am not sure about older events). Sometimes
> this signal was resent while the zsh was in the code to buffer a
> previous signal in its internal list, resulting in overflowing this list
> and locking the shell. At other times, the signal was traped and resent
> while trying to exit the shell in that trap, also locking the shell. The
> last time, now without the traps on that signals, a subshell called by
> $( ... ) exited.

It would be useful to see a gdb backtrace of the state the shell is in
if it locks, or of a core dump, if you can get one.

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR PLC, Churchill House, Cambridge Business Park, Cowley Road
Cambridge, CB4 0WZ, UK                          Tel: +44 (0)1223 692070


**********************************************************************
This email and any files transmitted with it are confidential and
intended solely for the use of the individual or entity to whom they
are addressed. If you have received this email in error please notify
the system manager.

**********************************************************************

