From zsh-workers-return-18364-mason-zsh=primenet.com.au@sunsite.dk Wed Mar 19 05:15:13 2003
Return-Path: <zsh-workers-return-18364-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 12444 invoked from network); 19 Mar 2003 05:15:12 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 19 Mar 2003 05:15:12 -0000
Received: (qmail 9042 invoked by alias); 19 Mar 2003 05:15:06 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 18364
Received: (qmail 9034 invoked from network); 19 Mar 2003 05:15:06 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 19 Mar 2003 05:15:06 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [156.153.255.237] by sunsite.dk (MessageWall 1.0.8) with SMTP; 19 Mar 2003 5:15:5 -0000
Received: from tsx2.cup.hp.com (tsx2.cup.hp.com [15.13.185.29])
	by palrel12.hp.com (Postfix) with ESMTP id B6F7D1C01DAE
	for <zsh-workers@sunsite.dk>; Tue, 18 Mar 2003 21:15:04 -0800 (PST)
Received: from cup.hp.com (localhost [127.0.0.1])
	by tsx2.cup.hp.com (8.11.1/8.8.6) with ESMTP id h2J5F1n26422;
	Tue, 18 Mar 2003 21:15:01 -0800 (PST)
Sender: manish@cup.hp.com
Message-ID: <3E77FCD2.E2B6FAB0@cup.hp.com>
Date: Tue, 18 Mar 2003 21:14:58 -0800
From: Manish Ahluwalia <manish@cup.hp.com>
Organization: Hewlett Packard
X-Mailer: Mozilla 4.79 [en] (X11; U; HP-UX B.11.11 9000/800)
X-Accept-Language: en
MIME-Version: 1.0
To: zsh-workers@sunsite.dk, manish@cup.hp.com
Subject: Re: zsh - hpux 11i backspace does not work
References: <3E77F676.D589A00F@cup.hp.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Manish Ahluwalia wrote:
> 
> Hi,
> 
> I have just sent another email about a different bug to this list (sub:
> zsh - hpux 11i prompt does not work). I don't know if both my bugs are
> related. I am sending 2 emails just to avoid clutter.
> 
> I use zsh on hpux. I have noticed a problem with zsh and hpux version
> 11i. I have tried zsh versions 3.0.5 and 4.0.4 with the same results.
> Both versions display the problem mentioned below on hpux 11i and both
> don't have the problem on hpux 10.20.
> 
> The problem is that the backspace key does not erase characters as I
> type. Now, I am not too dumb to not know stty. The same stty settings
> work with every other shell / interactive software. The very same
> setting work fine on hpux 10.20.
> 
> I will give you a sample output. In this, I will type the `a' key,
> followed by the backspace key, followed by the `b' key followed by the
> enter key. Here is a cut-paste from my terminal:
> $ a b
> zsh: command not found: b
> $ echo $TERM
> dtterm
> $ stty -a
> speed 9600 baud; line = 0;
> rows = 24; columns = 80
> min = 0; time = 0;
> intr = ^C; quit = ^\; erase = ^H; kill = ^U
> eof = ^D; eol = ^@; eol2 = ^@; swtch = ^@
> stop = ^S; start = ^Q; susp = ^Z; dsusp = ^@
> werase = ^@; lnext = ^@
> parenb -parodd cs8 -cstopb hupcl cread -clocal -loblk -crts
> -ignbrk -brkint -ignpar -parmrk -inpck -istrip -inlcr -igncr icrnl
> -iuclc
> ixon -ixany ixoff -imaxbel -rtsxoff -ctsxon -ienqak
> isig icanon -iexten -xcase echo echoe echok -echonl -noflsh
> echoctl -echoprt echoke -flusho -pendin
> opost -olcuc onlcr -ocrnl -onocr -onlret -ofill -ofdel -tostop
> $
> 
> A similar problem is the the cursor keys don't work while editing stuff
> typed at the prompt. In the following cut-paste, I type `a' followed by
> left arrow, followed by `b' followed by enter:
> $ aba
> zsh: correct 'ba' to 'bs' [nyae]? n
> zsh: command not found: ba
> $
> 
> Similar things happen with M-b. (I work in emacs editing mode).
> line kill, ^U, works fine.
> 
> Any suggestions as to what could be going wrong / what I could do to
> investigate further / what information I should provide to help you
> figure what is going on?
> 
> Thanks.
> 
> -- Manish
> ____________________________________________________________________
> Time flies like an arrow; fruit flies like a banana.

Forgot to add:

On the 11i box:
$ echotc kl | xd -c
On the 10.20 box:
$ echotc kl | xd -c
0000000 1b  [  D
0000003

I don't know what to do with this though.

Also, on the 11i box,
$ bindkey '\e[D'  backward-char
doesn't change the behaviour with the back arrow key described above.

-- Manish
____________________________________________________________________
Cogito sum.  --- I think I am.

