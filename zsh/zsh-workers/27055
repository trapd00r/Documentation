From zsh-workers-return-27055-mason-zsh=primenet.com.au@sunsite.dk Thu Jun 25 06:16:21 2009
Return-Path: <zsh-workers-return-27055-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2717 invoked from network); 25 Jun 2009 06:16:18 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from new-brage.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.254.104)
  by ns1.primenet.com.au with SMTP; 25 Jun 2009 06:16:18 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 24435 invoked from network); 25 Jun 2009 06:16:10 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 25 Jun 2009 06:16:10 -0000
Received: (qmail 15200 invoked by alias); 25 Jun 2009 06:16:04 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 27055
Received: (qmail 15177 invoked from network); 25 Jun 2009 06:16:03 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 25 Jun 2009 06:16:03 -0000
Received: from vms173003pub.verizon.net (vms173003pub.verizon.net [206.46.173.3])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 1A8C2801E289
	for <zsh-workers@sunsite.dk>; Thu, 25 Jun 2009 08:15:58 +0200 (CEST)
Received: from torch.brasslantern.com ([173.67.89.4])
 by vms173003.mailsrvcs.net
 (Sun Java(tm) System Messaging Server 6.3-7.04 (built Sep 26 2008; 32bit))
 with ESMTPA id <0KLS00LBZ6QG2UK4@vms173003.mailsrvcs.net> for
 zsh-workers@sunsite.dk; Thu, 25 Jun 2009 01:15:57 -0500 (CDT)
Received: from torch.brasslantern.com (localhost.localdomain [127.0.0.1])
	by torch.brasslantern.com (8.13.1/8.13.1) with ESMTP id n5P6Fo9O008538; Wed,
 24 Jun 2009 23:15:51 -0700
Received: (from schaefer@localhost)	by torch.brasslantern.com
 (8.13.1/8.13.1/Submit) id n5P6FnEd008537; Wed, 24 Jun 2009 23:15:49 -0700
From: Bart Schaefer <schaefer@brasslantern.com>
Message-id: <090624231549.ZM8536@torch.brasslantern.com>
Date: Wed, 24 Jun 2009 23:15:49 -0700
In-reply-to: <20090625003728.GC31894@altlinux.org>
Comments: In reply to "Alexey I. Froloff" <raorn@altlinux.org>
 "Re: Conflicting completion for rpmbuild" (Jun 25,  4:37am)
References: <20090622131002.GC5743@altlinux.org>
	<20090625003728.GC31894@altlinux.org>
X-Mailer: OpenZMail Classic (0.9.2 24April2005)
To: "Alexey I. Froloff" <raorn@altlinux.org>, zsh-workers@sunsite.dk
Subject: Re: Conflicting completion for rpmbuild
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii
X-Virus-Scanned: ClamAV 0.94.2/9505/Thu Jun 25 00:47:21 2009 on bifrost
X-Virus-Status: Clean

On Jun 25,  4:37am, Alexey I. Froloff wrote:
} 
} On Mon, Jun 22, 2009 at 05:10:02PM +0400, Alexey I. Froloff wrote:
} > Completion/Redhat/Command/_rpm and
} > Completion/Linux/Command/_rpmbuild both contains completion for
} > rpmbuild command.  What for?
} Comments, anyone?

I can't find the evidence of this.  In my CVS sandbox, only _rpmbuild
has "#compdef rpmbuild" and _rpm doesn't contain any mention of the
string "rpmbuild" anywhere.

I'm not sure why _rpmbuild is under Linux/ rather than under Redhat/,
but both this and whatever you're seeing in whatever version you may
be looking at, are both likely historical artifacts.

If you're asking why _rpm completes after the word "rpm" the various
options that are now accepted by the rpmbuild command, it's because rpm
used to subsume all the functions now contained in rpmbuild, and the
_rpm function hasn't been updated to detect the installed version of
RPM and disable the obsolete options of the more recent variations.

