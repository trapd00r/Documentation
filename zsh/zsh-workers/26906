From zsh-workers-return-26906-mason-zsh=primenet.com.au@sunsite.dk Thu Apr 30 08:32:45 2009
Return-Path: <zsh-workers-return-26906-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1390 invoked from network); 30 Apr 2009 08:32:42 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.4 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 30 Apr 2009 08:32:42 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 15488 invoked from network); 30 Apr 2009 08:32:35 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 30 Apr 2009 08:32:35 -0000
Received: (qmail 5305 invoked by alias); 30 Apr 2009 08:32:30 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 26906
Received: (qmail 5293 invoked from network); 30 Apr 2009 08:32:29 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 30 Apr 2009 08:32:29 -0000
Received: from cluster-g.mailcontrol.com (cluster-g.mailcontrol.com [208.87.233.190])
	by bifrost.dotsrc.org (Postfix) with ESMTPS id F1EC98028C71
	for <zsh-workers@sunsite.dk>; Thu, 30 Apr 2009 10:29:51 +0200 (CEST)
Received: from cameurexb01.EUROPE.ROOT.PRI ([193.128.72.68])
	by rly29g.srv.mailcontrol.com (MailControl) with ESMTP id n3U8W6Gj016673
	for <zsh-workers@sunsite.dk>; Thu, 30 Apr 2009 09:32:07 +0100
Received: from news01 ([10.99.50.25]) by cameurexb01.EUROPE.ROOT.PRI with Microsoft SMTPSVC(6.0.3790.3959);
	 Thu, 30 Apr 2009 09:32:04 +0100
Date: Thu, 30 Apr 2009 09:32:04 +0100
From: Peter Stephenson <pws@csr.com>
To: zsh-workers@sunsite.dk
Subject: Re: How to accept a completion?
Message-ID: <20090430093204.258f0cfc@news01>
In-Reply-To: <090429172204.ZM10564@torch.brasslantern.com>
References: <237967ef0904291136v63ae26f4mb08cbd577b3f4503@mail.gmail.com>
	<090429171254.ZM10469@torch.brasslantern.com>
	<090429172204.ZM10564@torch.brasslantern.com>
Organization: CSR
X-Mailer: Claws Mail 3.5.0 (GTK+ 2.12.8; i386-redhat-linux-gnu)
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 30 Apr 2009 08:32:04.0678 (UTC) FILETIME=[24254E60:01C9C96E]
X-Scanned-By: MailControl A_08_51_00 (www.mailcontrol.com) on 10.71.0.139
X-Virus-Scanned: ClamAV 0.92.1/9306/Thu Apr 30 03:47:06 2009 on bifrost
X-Virus-Status: Clean

On Wed, 29 Apr 2009 17:22:04 -0700
Bart Schaefer <schaefer@brasslantern.com> wrote:
> Hmm, on the other hand, I just noticed that
> 
> % scp file lth:<space>
> 
> becomes
> 
> % scp file lth <cursor>
> 
> So arguably on a whitespace character the colon should be left there.
> Maybe '-r:' really would be better than '-q'.  (The -q is correct in
> the case with the '=' suffix, though, I'm pretty sure.)
> 
> Any thoughts?

I think you're right and removing the colon in this particular case is
annoying, I sometimes transfer to "host:" myself.  -r isn't that widely
used and there may be glitches, but if -r: fixes the particular case in
question it'll do.

It's not really obvious that you can use ":" to stop completion here,
though if you're used to typing "/" in file completion it's more so.  I
think you can use _next_tags to go on to the next completion here (it's not
really designed to do that but it seemed to work here, presumably because
there's nothing else to complete).  However, there seems to be a bug since
when I did use it the next time completion for scp didn't work at all under
I did some other completion.  I haven't tracked this down.

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR PLC, Churchill House, Cambridge Business Park, Cowley Road
Cambridge, CB4 0WZ, UK                          Tel: +44 (0)1223 692070

