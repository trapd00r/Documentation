From wischnow@adler Fri Jul  5 16:31:46 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by melb.werple.net.au (8.7.5/8.7.3/2) with ESMTP id QAA14389 for <mason@werple.mira.net.au>; Fri, 5 Jul 1996 16:31:44 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id CAA00803; Fri, 5 Jul 1996 02:26:53 -0400 (EDT)
Resent-Date: Fri, 5 Jul 1996 02:26:53 -0400 (EDT)
Message-Id: <m0uc4NE-0003wOC@adler.informatik.hu-berlin.de>
Date: Fri, 5 Jul 96 08:28 MET DST
From: Sven Wischnowsky <wischnow@adler>
To: zsh-workers@math.gatech.edu
In-reply-to: Vincent Lefevre's message of Fri, 5 Jul 1996 01:41:16 +0200 (MET
	DST)
Subject: Re: completions with users (-u) and NIS+
Resent-Message-ID: <"bvdTF3.0.TC.iMBtn"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/1529
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu
Content-Length: 955
Status: OR


Vincent Lefevre wrote:

> 
> > Try to add -DHAVE_NIS_PLUS to DEFS in Src/Makefile, remove zle_tricky.o and
> > recompile.
> 
> I get the following errors:
> 
> Ok make
> gcc -c -I.. -I. -I.  -DHAVE_CONFIG_H -DHAVE_NIS_PLUS -Wall -Wno-implicit -Wmissing-prototypes -O2 -DDEBUG zle_tricky.c
> zle_tricky.c:1567: conflicting types for `match_username'
> zle_tricky.c:1552: previous declaration of `match_username'
> make: *** [zle_tricky.o] Error 1
> zsh: exit 2     make
> 
> If I replace line 1549 by:
> #if defined(HAVE_NIS) && !defined(HAVE_NIS_PLUS)
> there's no error any longer, but it does not change anything.
> 

There are some more checks for HAVE_NIS. I would try it with changing
the define HAVENIS in config.h (in the main directory) to define
HAVE_NIS_PLUS. Alternatively you can just add define HAVE_NIS_PLUS and
undef HAVE_NIS (!) in zle_tricky.c.


Bye
 Sven


--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de


