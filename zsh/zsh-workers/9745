From zsh-workers-return-9745-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Feb 15 12:21:01 2000
Return-Path: <zsh-workers-return-9745-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18660 invoked from network); 15 Feb 2000 12:20:59 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 15 Feb 2000 12:20:59 -0000
Received: (qmail 8400 invoked by alias); 15 Feb 2000 12:20:51 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 9745
Received: (qmail 8392 invoked from network); 15 Feb 2000 12:20:51 -0000
Date: Tue, 15 Feb 2000 13:20:49 +0100 (MET)
Message-Id: <200002151220.NAA12815@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: Ollivier Robert's message of Tue, 15 Feb 2000 12:49:25 +0100
Subject: PATCH: Re: Completion for mutt


Ollivier Robert wrote:

> > If you want to say that it doesn't complete the right thing after
> > loading the new completion system -- right, there doesn't seem to be a 
> > completion function for these commands.
> 
> I thought the new completion was compatible with the old one (i.e. having
> compctl would still work).

No, only on request nowadays...

> > If you want to say that after loading the new completion system the
> > compctl doesn't seem to be used -- right, see the function _default
> > in the Base subdirectory of the distribution. You can un-comment a
> > call to `compcall' there to make compctl's be used when there is no
> > completion function for a certain command.
> 
> I have uncommented this line but the old mutt completion rule still doesn't
> work.

I just tried, too, and after the fix in the patch below, it works for
me. What does `doesn't work' mean? Does it nothing?

> Now, I just found that what I used to make completion case-independent (see
> below) doesn't work anymore. With dev-16 it was still working.
> 
> compctl -M 'm:{a-z}={A-Z} m:{A-Z}={a-z}'
> 
> Now, I can't complete independantly of the case :-(

This has just changed (and for the new completion system using the
$compmatchers arrays was the preferred way for quite some time because 
that didn't load the compctl module). Now the `compctl -M' you gave
above is used only for compctls. The completion system uses the
_matcher completer, see the compsys manual/info (there is also a bit
of discussion about this going on...).

Bye
 Sven


--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

