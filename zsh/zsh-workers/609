From zsh-workers-request@math.gatech.edu  Wed Nov 15 16:49:40 1995
Received: from math.gatech.edu (euclid.skiles.gatech.edu [130.207.146.50]) by werple.net.au (8.7/8.7.1) with SMTP id QAA15275 for <mason@werple.mira.net.au>; Wed, 15 Nov 1995 16:49:29 +1100 (EST)
Received: by math.gatech.edu (5.x/SMI-SVR4)
	id AA19009; Wed, 15 Nov 1995 00:36:08 -0500
Resent-Date: Wed, 15 Nov 1995 00:32:52 -0500
Old-Return-Path: <coleman@math.gatech.edu>
Message-Id: <199511150532.AAA23979@redwood.skiles.gatech.edu>
X-Mailer: exmh version 1.6.4 10/10/95
To: zsh-workers@math.gatech.edu
Subject: beta12-test1 snapshot
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Date: Wed, 15 Nov 1995 00:32:52 -0500
From: Richard Coleman <coleman@math.gatech.edu>
Resent-Message-Id: <"DXqv4.0.xe4.8nNgm"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/609
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

I've put

zsh-2.6-beta12-test1.tar.gz

in /pub/zsh/testing at my ftp site (ftp.math.gatech.edu)

I was getting ready to release this as beta12, but last minute
testing showed that there is a massive memory leak when you do
filename completion.  I hadn't had a chance to look at it yet,
but I thought I would through it out for everyone to take a
look at.  Changes so far are

1) Various changes in exec.c involving when to fork and subshells.
   I've added Peter's two patches as well as some changes of my
   own.  For instance, now not only does zsh -c 'vared DISPLAY'
   work as Peter talked about, but also  `exec vared DISPLAY'
   (which I don't think ever worked until now).  Of course, no one
   will ever need to do either of these, but it's cool that they do
   work.

2) Peter's patch for changing the way history remembers breaks in
   words.  I'm suspecting this is where the memory leak is.

3) various changes to the man pages.

4) the fix for substituting things such as ${FOO:-} when FOO is
   unset.

So if you are working on the code, you should take a look at this,
but you shouldn't install it for real use.

rc

