From zsh-workers-return-7508-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Aug 26 18:06:51 1999
Return-Path: <zsh-workers-return-7508-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4236 invoked from network); 26 Aug 1999 18:06:49 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 26 Aug 1999 18:06:49 -0000
Received: (qmail 15410 invoked by alias); 26 Aug 1999 18:06:39 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7508
Received: (qmail 15403 invoked from network); 26 Aug 1999 18:06:37 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <990826180618.ZM26162@candle.brasslantern.com>
Date: Thu, 26 Aug 1999 18:06:18 +0000
In-Reply-To: <Pine.OSF.3.96.990826091939.27810A-100000@alpha2.poco.phy.cam.ac.uk>
Comments: In reply to "Owen M. Astley" <oma1000@cam.ac.uk>
        "Re: /bin/zsh -ce 'false; echo bug'" (Aug 26,  9:26am)
References: <Pine.OSF.3.96.990826091939.27810A-100000@alpha2.poco.phy.cam.ac.uk>
X-Mailer: Z-Mail Lite (5.0.0 30July97)
To: "Owen M. Astley" <oma1000@cam.ac.uk>, zsh-workers@sunsite.auc.dk
Subject: Re: /bin/zsh -ce 'false; echo bug'
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Aug 26,  9:26am, Owen M. Astley wrote:
> Subject: Re: /bin/zsh -ce 'false; echo bug'
> On Wed, 25 Aug 1999, Matt Watson wrote:
> 
> > gnumake-3.74 wants to use "/bin/sh -ce <commandstring>" to exec a sub  
> > make. Unfortunately if zsh == sh, zsh doesn't grok the -ce as separate  
> > options, so it ignores the "e" and does not set ERREXIT.
> 
> I 'think' that POSIX doesn't allow for options of this type, it should be
> written as -c -e <commandstring>.

Zsh interprets everything after the -c as part of the command, so that will
attempt to run a command named "-e".  If it really is the case that the
order of option letters doesn't matter (which appears to be true of bash,
at least), then zsh's option parser needs a bit more of a workover.

