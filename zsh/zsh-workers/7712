From zsh-workers-return-7712-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Sep 08 07:48:49 1999
Return-Path: <zsh-workers-return-7712-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1279 invoked from network); 8 Sep 1999 07:48:48 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 8 Sep 1999 07:48:48 -0000
Received: (qmail 2432 invoked by alias); 8 Sep 1999 07:48:39 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7712
Received: (qmail 2425 invoked from network); 8 Sep 1999 07:48:39 -0000
Date: Wed, 8 Sep 1999 09:48:34 +0200 (MET DST)
Message-Id: <199909080748.JAA04903@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: Tanaka Akira's message of 08 Sep 1999 03:23:03 +0900
Subject: Re: core dump with case.


Tanaka Akira wrote:

> zsh dumps core with follows:
> 
> Z(2):akr@is27e1u11% Src/zsh -f
> is27e1u11% f () { case a in; esac }
> is27e1u11% f
> zsh: segmentation fault (core dumped)  Src/zsh -f
> Z(2):akr@is27e1u11% 

My fault.

Bye
 Sven

--- os/text.c	Tue Sep  7 13:15:40 1999
+++ Src/text.c	Wed Sep  8 09:47:11 1999
@@ -308,7 +308,7 @@
 	    taddstr(*p++);
 	    taddstr(" in");
 	    tindent++;
-	    for (; *l; p++, l++) {
+	    for (; l && *l; p++, l++) {
 		if (tnewlins)
 		    taddnl();
 		else

--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

