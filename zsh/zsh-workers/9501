From zsh-workers-return-9501-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Jan 31 19:28:06 2000
Return-Path: <zsh-workers-return-9501-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18183 invoked from network); 31 Jan 2000 19:28:05 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 31 Jan 2000 19:28:05 -0000
Received: (qmail 16500 invoked by alias); 31 Jan 2000 19:27:59 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 9501
Received: (qmail 16492 invoked from network); 31 Jan 2000 19:27:59 -0000
To: "Zsh hackers list" <zsh-workers@sunsite.auc.dk>
Subject: Re: 3.1.6-dev-16 
In-reply-to: ""Andrej Borsenkow""'s message of "Wed, 26 Jan 2000 18:10:55 +0300."
             <000201bf680f$8adb01b0$21c9ca95@mow.siemens.ru> 
Date: Mon, 31 Jan 2000 19:30:54 +0000
From: Peter Stephenson <pws@pwstephenson.fsnet.co.uk>
Message-Id: <E12FMUP-00005E-00.2000-01-31-19-27-57@cmailg3.svr.pol.co.uk>

"Andrej Borsenkow" wrote:
> This still have the same dl.h/dlfnc.h problem. I cannot provide a patch, as I
> have no idea, how to check for HPUX.

We were going to change it something like this, but I can't remember
hearing whether that would do the trick or not.  It should be OK for you,
at least.

Index: Src/module.c
===================================================================
RCS file: /home/pws/CVSROOT/projects/zsh/Src/module.c,v
retrieving revision 1.6
diff -u -r1.6 module.c
--- Src/module.c	2000/01/14 12:33:35	1.6
+++ Src/module.c	2000/01/30 21:03:09
@@ -319,7 +319,7 @@
 #else
 
 #ifdef HAVE_DLFCN_H
-# ifdef HAVE_DL_H
+# if defined(HAVE_DL_H) && defined(__hpux)
 #  include <dl.h>
 # else
 #  include <dlfcn.h>

-- 
Peter Stephenson <pws@pwstephenson.fsnet.co.uk>

