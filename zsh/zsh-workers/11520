From zsh-workers-return-11520-mason-zsh=primenet.com.au@sunsite.auc.dk Tue May 23 00:43:49 2000
Return-Path: <zsh-workers-return-11520-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8800 invoked from network); 23 May 2000 00:43:47 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 23 May 2000 00:43:47 -0000
Received: (qmail 22303 invoked by alias); 23 May 2000 00:43:41 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 11520
Received: (qmail 22294 invoked from network); 23 May 2000 00:43:39 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <000522174334.ZM248@candle.brasslantern.com>
Date: Mon, 22 May 2000 17:43:34 -0700
In-Reply-To: <000522171947.ZM236@candle.brasslantern.com>
Comments: In reply to "Bart Schaefer" <schaefer@candle.brasslantern.com>
        "Re: Proxy support for zftp functions" (May 22,  5:19pm)
References: <0FUZ00C1W0R3BH@la-la.cambridgesiliconradio.com> 
	<000522171947.ZM236@candle.brasslantern.com>
X-Mailer: Z-Mail Lite (5.0.0 30July97)
To: zsh-workers@sunsite.auc.dk (Zsh hackers list)
Subject: Re: Proxy support for zftp functions
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Oops, I pasted in the wrong version of this.  Hand-edit to fix the following:

On May 22,  5:19pm, Bart Schaefer wrote:
> 
[...]
> 
> local HHMMSS='(<->):(<->):#(<->)#'
> local DDmmYY='(<->)[-[:space:]]([[:alpha:]]##)[-[:space:]](<->)'
> local DDmm='(<->)[[:space:]]([[:alpha:]]##)'
> local ZONE='[[:space:]]#([^:[:space:]]##)'

local -a match

> [[ ${(t)date} == association ]] || typeset -A date ; date=()
> [[ ${(t)time} == association ]] || typeset -A time ; time=()
> 
[...]
> elif [[ "$*" == ${~DDmmYY} || "$*" == ${~DDmm}[[:space:]](<->) ]]
                 ^                     ^
               (#i)(#b)              (#i)(#b)
> then
>     date=(day "$match[1]" month "$match[2]" year "$match[3]")
>     time=(hour "" minute "" second "" ampm "" zone "")
> elif [[ "$*" == ${~HHMMSS}[[:space:]]#([ap]m)# ]]
                 ^
               (#i)(#b)
> then
>     date=(day "" month "" year "")
>     time=(hour "$match[1]" minute "$match[2]" second "$match[3]"
> 	  ampm "$match[4]" zone "")
> fi
> 
> (( $#date || $#time ))
> ---- 8< ---- snip ----8< ----
>-- End of excerpt from Bart Schaefer

