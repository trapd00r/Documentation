From zsh-workers-return-24956-mason-zsh=primenet.com.au@sunsite.dk Tue May 06 20:55:42 2008
Return-Path: <zsh-workers-return-24956-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24701 invoked from network); 6 May 2008 20:55:39 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.4 (2008-01-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.4
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 6 May 2008 20:55:39 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 75229 invoked from network); 6 May 2008 20:55:35 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 6 May 2008 20:55:35 -0000
Received: (qmail 4640 invoked by alias); 6 May 2008 20:55:31 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 24956
Received: (qmail 4626 invoked from network); 6 May 2008 20:55:30 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 6 May 2008 20:55:30 -0000
Received: from mx.spodhuis.org (redoubt.spodhuis.org [193.202.115.177])
	by bifrost.dotsrc.org (Postfix) with ESMTP id DD88A80ED172
	for <zsh-workers@sunsite.dk>; Tue,  6 May 2008 22:55:26 +0200 (CEST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws; s=d200803; d=spodhuis.org;
	h=Received:Date:From:To:Cc:Subject:Message-ID:Mail-Followup-To:References:MIME-Version:Content-Type:Content-Disposition:In-Reply-To;
	b=MMxJPn+wThUag86UDvuyLF2etunNtDTBPFS/+5dFjuIZc8zzx1EQiVGQFPVavMesHNeYOrAICW7LZj5CamGzdGEaDFVQkvwS8r+KS5tHkRfyaGTVGF8iIrZ2F4DGfYsZA3TON+CF9UBuflauu2O4/qh5GW4f1YVk9YbrQ/JM1zc=;
Received: by smtp.spodhuis.org with local 
	id 1JtUC3-0004kj-9l; Tue, 06 May 2008 20:55:23 +0000
Date: Tue, 6 May 2008 13:55:23 -0700
From: Phil Pennock <zsh-workers+phil.pennock@spodhuis.org>
To: martin f krafft <madduck@debian.org>
Cc: Bart Schaefer <schaefer@brasslantern.com>, zsh-workers@sunsite.dk,
	479764@bugs.debian.org
Subject: Re: Bug#479764: shell builtin mv fails to move files across devices
Message-ID: <20080506205523.GA4237@redoubt.spodhuis.org>
Mail-Followup-To: martin f krafft <madduck@debian.org>,
	Bart Schaefer <schaefer@brasslantern.com>, zsh-workers@sunsite.dk,
	479764@bugs.debian.org
References: <20080506144208.GA15225@lapse.madduck.net> <20080506150303.GB31177@scru.org> <080506084541.ZM1350@torch.brasslantern.com> <20080506165555.GB17377@lapse.madduck.net>
MIME-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-ripemd160;
	protocol="application/pgp-signature"; boundary="IJpNTDwzlM2Ie8A6"
Content-Disposition: inline
In-Reply-To: <20080506165555.GB17377@lapse.madduck.net>
X-Virus-Scanned: ClamAV 0.91.2/7041/Tue May  6 20:15:04 2008 on bifrost
X-Virus-Status: Clean


--IJpNTDwzlM2Ie8A6
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline

On 2008-05-06 at 17:55 +0100, martin f krafft wrote:
> What, if I may ask, is the purpose of zsh/files?

If I correctly recall the gist of a verbal conversation about 11 years
ago with the author, in a university environment with heavily multi-user
systems which were often abused by people writing My First Fork Bomb, it
was to have the availability to load in sufficient builtins to make it
easier to deal with systems which won't let you fork() anymore more; to
do basic recovery work and have the commands available; to avoid fork()
overheads when dealing with a loaded single-CPU Solaris box, etc.

But mostly, IIRC, to build a static version of the shell with the module
already loaded, to put on a boot/recovery diskette and so reduce what
was needed.

It pre-dates busybox, which has since become the common way of doing
this.

It wasn't intended to provide full versions of the commands, the
commands which are there don't implement all the POSIX options, etc.
It's intended to provide enough to be useful in emergencies.

Most people shouldn't need to use it.

Mind, it's availability was one of the factors which led to the author
successfully convincing me to switch shells to zsh.  :^)  There were
times when it _really_ mattered.

It's probably worth adding a note to the documentation that the
implementations are not complete (for Standards compliance) and that the
module should probably only be loaded for emergency recovery situations;
loading it for routine use is premature over-optimisation.

-Phil

--IJpNTDwzlM2Ie8A6
Content-Type: application/pgp-signature
Content-Disposition: inline

-----BEGIN PGP SIGNATURE-----

iEYEAREDAAYFAkggxbsACgkQQDBDFTkDY3+rwQCdEAL9SECEDysDctb/UMkjW9f0
VLcAnA3ekM56caCv0jhUI2MXsiC7gx0j
=jTz+
-----END PGP SIGNATURE-----

--IJpNTDwzlM2Ie8A6--

