From zsh-workers-return-21916-mason-zsh=primenet.com.au@sunsite.dk Mon Oct 24 08:40:57 2005
Return-Path: <zsh-workers-return-21916-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18846 invoked from network); 24 Oct 2005 08:40:55 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 24 Oct 2005 08:40:55 -0000
Received: (qmail 54812 invoked from network); 24 Oct 2005 08:40:49 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 24 Oct 2005 08:40:49 -0000
Received: (qmail 11405 invoked by alias); 24 Oct 2005 08:40:46 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 21916
Received: (qmail 11391 invoked from network); 24 Oct 2005 08:40:45 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 24 Oct 2005 08:40:45 -0000
Received: (qmail 54618 invoked from network); 24 Oct 2005 08:40:45 -0000
Received: from zproxy.gmail.com (64.233.162.202)
  by a.mx.sunsite.dk with SMTP; 24 Oct 2005 08:40:45 -0000
Received: by zproxy.gmail.com with SMTP id i28so619086nzi
        for <zsh-workers@sunsite.dk>; Mon, 24 Oct 2005 01:40:42 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=N7nylGfv04H+OqLjjcmJDlioxOVFrbM15CMl1oImjLegcovEhFUWmNZHaBUJDpR+VGKiL+oGyjcLZ4dOKCATXaqySGte8iGwHQOSM8FpMd7AWch2DSsFlffLR9vBOlbngiZMO7XgLtXqUDnxUks+aCOTRprSAwHCuGcNtaZFUTE=
Received: by 10.36.74.8 with SMTP id w8mr3453128nza;
        Mon, 24 Oct 2005 01:40:42 -0700 (PDT)
Received: by 10.36.22.15 with HTTP; Mon, 24 Oct 2005 01:40:42 -0700 (PDT)
Message-ID: <237967ef0510240140g548e0c0r3deb3f4704dc313@mail.gmail.com>
Date: Mon, 24 Oct 2005 10:40:42 +0200
From: Mikael Magnusson <mikachu@gmail.com>
To: Peter Stephenson <pws@csr.com>
Subject: Re: PATCH: displaying wide characters
Cc: Zsh hackers list <zsh-workers@sunsite.dk>
In-Reply-To: <EXCHANGE03zfSLZZInL00006f40@exchange03.csr.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-2022-JP
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <200510192031.j9JKVYk7010115@pwslaptop.csr.com>
	 <200510192041.j9JKfTJZ010450@pwslaptop.csr.com>
	 <237967ef0510191739t103352a9vad735334a790d8b5@mail.gmail.com>
	 <EXCHANGE03zfSLZZInL00006f40@exchange03.csr.com>
X-Spam-Checker-Version: SpamAssassin 3.0.4 (2005-06-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=BAYES_00,RCVD_BY_IP 
	autolearn=ham version=3.0.4

On 10/20/05, Peter Stephenson <pws@csr.com> wrote:
> Mikael Magnusson wrote:
> > This seems to work fine so far, and the prompt truncation also seems
> > to be fixed.

Found one issue with editing wide characters on the command line,
input some doublewidth characters, erase one near the left end, then
go to the right and erase another. The second time the cursor will
only move one character to the left instead of two and cursor display
will not correspond with reality anymore. For some reason it only
seems to happen with 6 characters or more, the ones i'm using are
hiragana. It seems it also matters a bit which characters it is, this
string exhibits the problem
ちとしはきく
when you delete the first character, and then move one to the right
and delete the second. Seems just pressing delete twice at the
beginning also triggers the bug.
ちちちちちち doesn't trigger the bug for example.

--
Mikael Magnusson

