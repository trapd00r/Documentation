From zsh-users-return-8326-mason-zsh=primenet.com.au@sunsite.dk Tue Jan 04 18:40:41 2005
Return-Path: <zsh-users-return-8326-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 3374 invoked from network); 4 Jan 2005 18:40:40 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 4 Jan 2005 18:40:40 -0000
Received: (qmail 76416 invoked from network); 4 Jan 2005 18:40:32 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 4 Jan 2005 18:40:32 -0000
Received: (qmail 22569 invoked by alias); 4 Jan 2005 18:39:41 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8326
Received: (qmail 22542 invoked from network); 4 Jan 2005 18:39:40 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 4 Jan 2005 18:39:40 -0000
Received: (qmail 75236 invoked from network); 4 Jan 2005 18:39:40 -0000
Received: from cmailm4.svr.pol.co.uk (195.92.193.211)
  by a.mx.sunsite.dk with SMTP; 4 Jan 2005 18:39:36 -0000
Received: from modem-62.nevada.dialup.pol.co.uk ([62.137.79.62] helo=pwstephenson.fsnet.co.uk)
	by cmailm4.svr.pol.co.uk with esmtp (Exim 4.41)
	id 1Cltad-0007Bn-Su
	for zsh-users@sunsite.dk; Tue, 04 Jan 2005 18:39:36 +0000
Received: by pwstephenson.fsnet.co.uk (Postfix, from userid 501)
	id E5D078636; Tue,  4 Jan 2005 13:40:11 -0500 (EST)
Received: from pwstephenson.fsnet.co.uk (localhost [127.0.0.1])
	by pwstephenson.fsnet.co.uk (Postfix) with ESMTP id A35008633
	for <zsh-users@sunsite.dk>; Tue,  4 Jan 2005 18:40:11 +0000 (GMT)
To: zsh-users@sunsite.dk
Subject: Re: how to clean a history entry? 
In-reply-to: <200501030017.37221.toshiro@internet.com.uy> 
References: <200501030017.37221.toshiro@internet.com.uy>
Date: Tue, 04 Jan 2005 18:40:10 +0000
From: Peter Stephenson <pws@pwstephenson.fsnet.co.uk>
Message-Id: <20050104184011.E5D078636@pwstephenson.fsnet.co.uk>
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: *
X-Spam-Status: No, hits=1.5 required=6.0 tests=RCVD_IN_SORBS autolearn=no 
	version=2.63
X-Spam-Hits: 1.5

(Back from holiday, too.)

Toshiro wrote:
> I have one problem though, I didn't find the way to remove a specific entry 
> from the history ( in bash I can easily do this with the command 'history -d 
> <item_nr>').
> 
> Anybody know how to do this?

Hmm, I don't think this is too easy.

If you know in advance that you don't want to save an entry, you can set
the option histignorespace and enter a space before the command.  (Note
that it won't disappear until you enter a new command; the immediately
preceeding command is always still available with this option.)

Otherwise, you can save the history (fc -A to append to what's there, fc
-W to overwrite), delete the line from the history file, and read it
with fc -R.  That can probably be turned into a function.  It's a bit
clumsy.

Might not be difficult to add as a feature, since internally history is
held as a linked list.  I can certainly see the use in it when you're
reexecuting chunks of the history.

-- 
Peter Stephenson <pws@pwstephenson.fsnet.co.uk>
Work: pws@csr.com
Web: http://www.pwstephenson.fsnet.co.uk

