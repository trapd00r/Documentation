From zsh-workers-return-7519-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Aug 27 14:28:43 1999
Return-Path: <zsh-workers-return-7519-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 531 invoked from network); 27 Aug 1999 14:28:41 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 27 Aug 1999 14:28:41 -0000
Received: (qmail 4239 invoked by alias); 27 Aug 1999 14:28:34 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7519
Received: (qmail 4232 invoked from network); 27 Aug 1999 14:28:33 -0000
Message-Id: <199908271427.JAA23890@wo1203.cmg.FCNBD.COM>
Content-Type: text/plain
MIME-Version: 1.0 (NeXT Mail 4.2mach v148)
In-Reply-To: <199908270713.JAA16491@beta.informatik.hu-berlin.de>
X-Nextstep-Mailer: Mail 4.2mach (Enhance 2.0b5)
From: Brian Boonstra <boonstb@cmg.FCNBD.COM>
Date: Fri, 27 Aug 99 09:27:22 -0500
To: zsh-workers@sunsite.auc.dk
Subject: Re: 3.1.6 bug in NextStep/OpenStep 4.2
cc: luomat@kira.peak.org
References: <199908270713.JAA16491@beta.informatik.hu-berlin.de>

Hi Sven (and all)

	I applied the patch (in 7513 and 7455) and it fixed the problem  
perfectly!  Similarly to what Brian H. saw, `print -P "%s"' was not giving me  
any extraneous characters.

	For the benefit of those joining late, in order to get zsh 3.1.6 to  
compile on OpenStep, you also need the patch from 2372.

	BTW, Sven, this is especially welcome on OpenStep/NextStep, because  
the Terminal application supplied by them is so darn good that few people  
ever use anything else.  And it does only vt100.


		Thanks,


			Brian



Sven Wischnowsky wrote:
> Brian Boonstra wrote:
> > However, completion is not quite right.  In particular, if I run
> > either the usual binary, I get completion with extra "2" characters, like
> > this:
> I don't know about the other things, but I guess this is the same
> problem mentioned by Brien Harvell (in 7443), only that he got `$<2>'
> instead of the `2'.
>
> To repeat: I think this is caused by the complist code. It prints the
> termcap string for `%s' (standout off) at those places. What irritated
> me is that `print -P "%s"' didn't give him those `$<2>' strings.
>
> I then suggested the patch in 7455 (which is appended below for your
> convenience), but got no reply from him after that, so I don't know if
> it fixes the problem (I guess not).

