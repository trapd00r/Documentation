From zsh-workers-return-15164-mason-zsh=primenet.com.au@sunsite.dk Thu Jun 28 14:19:20 2001
Return-Path: <zsh-workers-return-15164-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4358 invoked from network); 28 Jun 2001 14:19:18 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 28 Jun 2001 14:19:18 -0000
Received: (qmail 21899 invoked by alias); 28 Jun 2001 14:18:22 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 15164
Received: (qmail 21881 invoked from network); 28 Jun 2001 14:18:21 -0000
Message-ID: <Tc0a88d01546c0c75ad@mailsweeper01.cambridgesiliconradio.com>
To: zsh-workers@sunsite.dk (Zsh hackers list)
Subject: Re: zsh 4.0.2 released 
In-reply-to: "Oliver Kiddle"'s message of "Thu, 28 Jun 2001 14:56:01 BST."
             <3B3B3771.B10B15DE@u.genie.co.uk> 
Date: Thu, 28 Jun 2001 15:18:38 +0100
From: Peter Stephenson <pws@csr.com>

Oliver Kiddle wrote:
> Does anyone have any idea about this error which I get from `makeinfo
> --html' using the zsh.texi in 4.0.2 and texinfo 4.0.
> 
> zsh.texi:68: warning: @menu seen before first @node, creating `Top'
> node.
> zsh.texi:68: warning: perhaps your @top node should be wrapped in
> @ifnottex rather than @ifinfo?.
> ./zsh.texi:68: Next field of node `Top' not pointed to.
> ./zsh.texi:324: This node (Author) has the bad Prev.

I don't have the latest texinfo, but maybe we just do what the man says.
Does this help?

Index: Doc/zman.yo
===================================================================
RCS file: /cvsroot/zsh/zsh/Doc/zman.yo,v
retrieving revision 1.1.1.3
diff -u -r1.1.1.3 zman.yo
--- Doc/zman.yo	1999/07/24 14:02:25	1.1.1.3
+++ Doc/zman.yo	2001/06/28 14:17:03
@@ -46,6 +46,7 @@
 
 def(texiifinfo)(1)()
 def(texiiftex)(1)()
+def(texiifnottex)(1)()
 
 def(texipage)(0)(CMT())
 def(texititlepage)(0)(CMT())
Index: Doc/ztexi.yo
===================================================================
RCS file: /cvsroot/zsh/zsh/Doc/ztexi.yo,v
retrieving revision 1.3
diff -u -r1.3 ztexi.yo
--- Doc/ztexi.yo	2000/09/06 14:46:49	1.3
+++ Doc/ztexi.yo	2001/06/28 14:17:03
@@ -81,6 +81,11 @@
   ARG1\
   NOTRANS(@end iftex)NL()\
 )
+def(texiifnottex)(1)(\
+  NOTRANS(@ifnottex)NL()\
+  ARG1\
+  NOTRANS(@end ifnottex)NL()\
+)
 
 def(texipage)(0)(\
   NOTRANS(@page)\
Index: Doc/Zsh/manual.yo
===================================================================
RCS file: /cvsroot/zsh/zsh/Doc/Zsh/manual.yo,v
retrieving revision 1.9
diff -u -r1.9 manual.yo
--- Doc/Zsh/manual.yo	2001/02/01 15:48:58	1.9
+++ Doc/Zsh/manual.yo	2001/06/28 14:17:03
@@ -1,6 +1,10 @@
 texiifinfo(\
 texinode(Top)(The Z Shell Manual)((dir))((dir))
+)\
+texiifnottex(\
 texitop(The Z Shell Manual)
+)\
+texiifinfo(\
 This Info file documents Zsh, a freely available UNIX command interpreter
 (shell), which of the standard shells most closely resembles the Korn shell
 (ksh), although it is not completely compatible.

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR Ltd., Unit 300, Science Park, Milton Road,
Cambridge, CB4 0XL, UK                          Tel: +44 (0)1223 392070


**********************************************************************
The information transmitted is intended only for the person or
entity to which it is addressed and may contain confidential 
and/or privileged material. 
Any review, retransmission, dissemination or other use of, or
taking of any action in reliance upon, this information by 
persons or entities other than the intended recipient is 
prohibited.  
If you received this in error, please contact the sender and 
delete the material from any computer.
**********************************************************************

