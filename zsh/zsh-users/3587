From zsh-users-return-3587-mason-zsh=primenet.com.au@sunsite.dk Wed Jan 10 20:16:26 2001
Return-Path: <zsh-users-return-3587-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1560 invoked from network); 10 Jan 2001 20:16:25 -0000
Received: from sunsite.dk (HELO sunsite.auc.dk) (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 10 Jan 2001 20:16:25 -0000
Received: (qmail 27291 invoked by alias); 10 Jan 2001 20:16:10 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 3587
Received: (qmail 27280 invoked from network); 10 Jan 2001 20:16:09 -0000
Date: Wed, 10 Jan 2001 13:10:01 -0700 (MST)
From: James Kirkpatrick <jimkirk@uwyo.edu>
Subject: Problem with zsh 3.1.9 (Sun Solaris 7)
To: zsh-users@sunsite.auc.dk
Cc: James Kirkpatrick <jimkirk@uwyo.edu>
Message-id: <Pine.GSO.4.10.10101101248310.19225-100000@asuwlink.uwyo.edu>
MIME-version: 1.0
Content-type: TEXT/PLAIN; charset=US-ASCII
X-Authentication-warning: asuwlink.uwyo.edu: jimkirk owned process doing -bs

I'm trying to install zsh 3.1.9, from a pre-built package from the Sun
freeware site (www.sunfreeware.com).  This was supposedly built on Solaris
7 and I've installed it on Solaris 7, and brought over the /etc/zshrc,
/etc/zshenv, /etc/zlogin, and /etc/zshfn/* from an older system (Solaris
2.5.1, zsh 3.0.7).  When I invoke zsh (as root) I get:

  /etc/zshrc: failed to load module: comp1 [22]
  /etc/zshrc: bindkey: autoload failed [22]
  /etc/zshrc: command not found: bindkey [23]
     (many times)
  /etc/zshrc: failed to load module: comp1 [91]
  /etc/zshrc: compctl: autoload failed [91]
  /etc/zshrc: command not found: compctl [92]
     (many times)
  /etc/zshrc: failed to load module: rlimits [107]
  /etc/zshrc: limit: autoload failed [107]
  /etc/zshrc: command not found: compctl [107]
     (many times)
  Sun Microsystems Inc.   SunOS 5.7       Generic October 1998
  zsh: failed to load module: comp1

I also tried adding "autoload -U compinit; compinit" as suggested in a FAQ
I stumbled across somewhere
(ftp://uiarchive.uiuc.edu/pub/packages/shells/zsh/FAQ) which cut down on
the errors but the keybindings still don't work and I still get:
  compinit: compinit: function definition file not found
  Sun Microsystems Inc.   SunOS 5.7       Generic October 1998
  zsh: failed to load module: comp1

I'm not sure if the issue is needed changes to /etc/zsh*, and/or whether
zsh was improperly built/packaged by the sunfreeware folks.

I also tried installing the Solaris 8-built zsh 3.1.6 on Solaris 7 but it
didn't work right.  No error messages, but the arrow keys didn't work (for
example) and my investigation stopped with the realization that setopt
wasn't working right.

I have no problems with my /etc/zsh* files on Solaris 8 and the
delivered-by-Sun 3.0.6, FWIW.

Any assistance/suggestions would be appreciated!

Jim

