From zsh-workers-return-17208-mason-zsh=primenet.com.au@sunsite.dk Tue May 21 16:17:59 2002
Return-Path: <zsh-workers-return-17208-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13866 invoked from network); 21 May 2002 16:17:58 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 21 May 2002 16:17:58 -0000
Received: (qmail 17410 invoked by alias); 21 May 2002 16:17:49 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 17208
Received: (qmail 17385 invoked from network); 21 May 2002 16:17:46 -0000
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <1020521161739.ZM23377@candle.brasslantern.com>
Date: Tue, 21 May 2002 16:17:38 +0000
In-Reply-To: <1021916607.3408.10.camel@localhost.localdomain>
Comments: In reply to Borsenkow Andrej <Andrej.Borsenkow@mow.siemens.ru>
        "Re: _call_program (and possibly other hooks) or opt_args quoting prob lem." (May 20,  9:43pm)
References: <6134254DE87BD411908B00A0C99B044F02E89AE4@mowd019a.mow.siemens.ru> 
	<1020520164035.ZM22369@candle.brasslantern.com> 
	<1021916607.3408.10.camel@localhost.localdomain> 
	<15594.512.412597.296070@wischnow.berkom.de>
In-Reply-To: <15594.512.412597.296070@wischnow.berkom.de>
Comments: In reply to Sven Wischnowsky <wischnow@berkom.de>
        "Re: _call_program (and possibly other hooks) or opt_args quoting prob lem." (May 21, 10:14am)
X-Mailer: Z-Mail (5.0.0 30July97)
To: zsh-workers@sunsite.dk
Subject: Re: _call_program (and possibly other hooks) or opt_args quoting prob lem.
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On May 20,  9:43pm, Borsenkow Andrej wrote:
} Subject: Re: _call_program (and possibly other hooks) or opt_args quoting 
}
} > I'm not sure what you mean by "parameter value as it appears" -- is the
} > word "value" out of place in that phrase?
} 
} Once more:
} 
} user enters
} 
} $PWD/a\ b
} 
} as the "value" of option -d. When this is finally passed to a program
} for execution, shell expands $PWD so program actually sees (remove
} quotes) "/home/bor/test/a b". This is "real" value of option -d.
[...]
} I am sorry if it is confusing but I really do not understand what you do
} not understand ... it seems pretty clear to me :-)

I get it now.  The word "parameter" was what confused me -- zsh's use of
"parameter" to refer to shell variables like $PWD has always been a pain
in the brain.  Anyway, I couldn't tell whether you were talking about the
value of the parameter $PWD, or the presence of a parameter expansion in
the command-line arguments, or what.

On May 21, 10:14am, Sven Wischnowsky wrote:
} 
} I'm not sure if we should commit this patch, because, as was already
} pointed out, ${(e)...} on a string as it is reported now should give
} one the needed expansion. With the patch that would become ${(Qe)...}.
} 
} Any opinions?

Having looked at Andrej's example with _files, I think you should commit
the patch.  It would appear that the number of cases where we'd need to
insert uses of ${(e)...} without the patch, exceeds the number of cases
where we'd need to insert ${(Qe)...} with it.

However, that opinion is based on very superficial analysis, so if anyone
thinks otherwise ...

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

