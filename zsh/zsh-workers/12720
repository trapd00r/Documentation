From zsh-workers-return-12720-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Aug 31 06:10:56 2000
Return-Path: <zsh-workers-return-12720-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 15661 invoked from network); 31 Aug 2000 06:10:55 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 31 Aug 2000 06:10:55 -0000
Received: (qmail 8661 invoked by alias); 31 Aug 2000 06:10:11 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 12720
Received: (qmail 8654 invoked from network); 31 Aug 2000 06:10:10 -0000
Date: Thu, 31 Aug 2000 02:10:07 -0400
From: Clint Adams <schizo@debian.org>
To: zsh-workers@sunsite.auc.dk
Subject: PATCH: _dpkg -i tweaks
Message-ID: <20000831021007.A20843@dman.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
User-Agent: Mutt/1.1.2i

Having all-files completed here can become rather unpleasant.

Index: Completion/Debian/_dpkg
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Debian/_dpkg,v
retrieving revision 1.7
diff -u -r1.7 _dpkg
--- Completion/Debian/_dpkg	2000/06/19 13:09:06	1.7
+++ Completion/Debian/_dpkg	2000/08/31 06:07:34
@@ -113,9 +113,9 @@
              \!${^_dpkg_actions%%:*} \
 	   - recur \
              "$_dpkg_options_recursive[@]" \
-	     ':directory:_files -/' \
+	     ':directory:_path_files -/' \
 	   - nonrecur \
-	     ':Debian package:_files -g \*.deb'
+	     ':Debian package:_path_files -g \*.deb'
   ;;
   remove|purge|status|listfiles)
         _funcall ret _dpkg_$state && return ret

