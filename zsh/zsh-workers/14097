From zsh-workers-return-14097-mason-zsh=primenet.com.au@sunsite.dk Wed Apr 25 15:46:00 2001
Return-Path: <zsh-workers-return-14097-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5812 invoked from network); 25 Apr 2001 15:45:56 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 25 Apr 2001 15:45:56 -0000
Received: (qmail 22211 invoked by alias); 25 Apr 2001 15:45:43 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 14097
Received: (qmail 22185 invoked from network); 25 Apr 2001 15:45:42 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <1010425154458.ZM11283@candle.brasslantern.com>
Date: Wed, 25 Apr 2001 15:44:58 +0000
X-Mailer: Z-Mail (5.0.0 30July97)
To: zsh-workers@sunsite.dk
Subject: Distributed Completion/ structure and compinit
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

The doc for compinit says:

 For incomplete installations, if compinit does not find enough files
 beginning with an underscore (fewer than twenty) in the search path, it
 will try to find more by adding the directory _compdir to the search
 path.  Furthermore, if the directory in question ends in the path
 segment Base, or has a subdirectory named Base, compinit will add all
 subdirectories of the directory where Base is to the path: this allows
 the functions to be in the same format as in the zsh source
 distribution.

This doesn't quite work any more.  It handles one level of subdirectories,
as in an install with --enable-function-subdirs, but not two levels of
subdirectories as in the source.

Also, I'm curious why this line in compaudit was commented out:

  ### [[ -d $_compdir/../Base ]] && _compdir=${_compdir:h}

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

