From zsh-users-return-14491-mason-zsh=primenet.com.au@sunsite.dk Tue Oct 13 12:05:19 2009
Return-Path: <zsh-users-return-14491-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24871 invoked from network); 13 Oct 2009 12:05:16 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.4 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from new-brage.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.254.104)
  by ns1.primenet.com.au with SMTP; 13 Oct 2009 12:05:16 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 26634 invoked from network); 13 Oct 2009 12:05:06 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 13 Oct 2009 12:05:06 -0000
Received: (qmail 10975 invoked by alias); 13 Oct 2009 12:04:56 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 14491
Received: (qmail 10959 invoked from network); 13 Oct 2009 12:04:56 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 13 Oct 2009 12:04:56 -0000
Received: from cluster-g.mailcontrol.com (cluster-g.mailcontrol.com [208.87.233.190])
	by bifrost.dotsrc.org (Postfix) with ESMTPS id E918480ECB8E
	for <zsh-users@sunsite.dk>; Tue, 13 Oct 2009 14:04:39 +0200 (CEST)
Received: from cameurexb01.EUROPE.ROOT.PRI ([193.128.72.68])
	by rly26g.srv.mailcontrol.com (MailControl) with ESMTP id n9DC1YRD029365
	for <zsh-users@sunsite.dk>; Tue, 13 Oct 2009 13:04:35 +0100
Received: from news01.csr.com ([10.99.50.25]) by cameurexb01.EUROPE.ROOT.PRI with Microsoft SMTPSVC(6.0.3790.3959);
	 Tue, 13 Oct 2009 12:59:56 +0100
Received: from news01.csr.com (localhost.localdomain [127.0.0.1])
	by news01.csr.com (8.14.2/8.13.4) with ESMTP id n9DBxuiW014433
	for <zsh-users@sunsite.dk>; Tue, 13 Oct 2009 12:59:56 +0100
Received: from csr.com (pws@localhost)
	by news01.csr.com (8.14.2/8.14.2/Submit) with ESMTP id n9DBxtV2014429
	for <zsh-users@sunsite.dk>; Tue, 13 Oct 2009 12:59:56 +0100
Message-Id: <200910131159.n9DBxtV2014429@news01.csr.com>
X-Authentication-Warning: news01.csr.com: pws owned process doing -bs
To: zsh-users ml <zsh-users@sunsite.dk>
Subject: Re: expansion in conditional expression patterns
In-reply-to: <D59FAFB2-6CC0-4BA6-92F9-698E08293E2C@biskalar.de>
References: <F851A022-A342-41EE-9BC8-692B7E7D3025@biskalar.de> <20091013100710.27e3c2fb@news01> <D59FAFB2-6CC0-4BA6-92F9-698E08293E2C@biskalar.de>
Comments: In-reply-to Sebastian Stark <seb-zsh@biskalar.de>
   message dated "Tue, 13 Oct 2009 13:42:00 +0200."
Date: Tue, 13 Oct 2009 12:59:55 +0100
From: Peter Stephenson <pws@csr.com>
X-OriginalArrivalTime: 13 Oct 2009 11:59:56.0884 (UTC) FILETIME=[AEBB6940:01CA4BFC]
Content-Type: text/plain
MIME-Version: 1.0
X-Scanned-By: MailControl A-09-22-01 (www.mailcontrol.com) on 10.71.0.136
X-Virus-Scanned: ClamAV 0.94.2/9883/Tue Oct 13 12:43:35 2009 on bifrost
X-Virus-Status: Clean

Sebastian Stark wrote:
> I just did this:
> 
>    if [[ ! ( ($cmdnum -ge 1) && ($cmdnum -le $limit) ) ]]
> 
> Maybe I should have asked differently because there might be a better  
> solution for what I'm trying to do. I have an array of commands,  
> $cmds, and a user supplied $cmdnum. Now I want to check wether the  
> user entered a valid number. ($limit would be $#cmds in this example).
> 
> Is there a better way to check wether the user entered a) a number and  
> b) in the range 1..$#cmds?

I don't think there's anything magic that you're missing.  I'd do
something like:

  if [[ $cmdnum != <-> || $cmdnum -gt $#cmds ]]; then
    # error
  fi

-- 
Peter Stephenson <pws@csr.com>            Software Engineer
Tel: +44 (0)1223 692070                   Cambridge Silicon Radio Limited
Churchill House, Cambridge Business Park, Cowley Road, Cambridge, CB4 0WZ, UK


Member of the CSR plc group of companies. CSR plc registered in England and Wales, registered number 4187346, registered office Churchill House, Cambridge Business Park, Cowley Road, Cambridge, CB4 0WZ, United Kingdom

