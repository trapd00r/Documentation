From zsh-workers-return-16828-mason-zsh=primenet.com.au@sunsite.dk Thu Mar 14 11:16:16 2002
Return-Path: <zsh-workers-return-16828-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1962 invoked from network); 14 Mar 2002 11:16:15 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 14 Mar 2002 11:16:15 -0000
Received: (qmail 9463 invoked by alias); 14 Mar 2002 11:16:06 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 16828
Received: (qmail 9450 invoked from network); 14 Mar 2002 11:16:06 -0000
From: Sven Wischnowsky <wischnow@berkom.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15504.34381.660728.101254@wischnow.berkom.de>
Date: Thu, 14 Mar 2002 12:15:25 +0100
To: zsh-workers@sunsite.dk
Subject: Re: what is removing the space after completion and before "|"?
In-Reply-To: <20020314025932.A29035@eskimo.eskimo.com>
References: <20020309020350.A25556@eskimo.eskimo.com>
	<20020309103417.GA15311@Ax9.org>
	<1020309182056.ZM24962@candle.brasslantern.com>
	<20020309214538.A9452@eskimo.eskimo.com>
	<15500.32490.15487.735745@wischnow.berkom.de>
	<20020314025932.A29035@eskimo.eskimo.com>
X-Mailer: VM 6.95 under 21.5 (patch 3) "asparagus" XEmacs Lucid


Derek Peschel wrote:

> ...
> 
> I mean I haven't run compinit or compctl, I'm just using the built-in
> options.

Oi. I see. That builtin stuff is actually compctl used internally when
no other completion code was loaded while processing the init files.

Use the new completion system to really see suffixes in action (with
all their problems).

> ...
> 
> Now I suspect the makesuffix function.  I think what's happening is this:

Yes, that one is used to register that there was a suffix added, n
characters long, which should automatically be removed when some space
or one of the characters that separates commands is typed next.

(So, if you just want to get rid of that auto-removal when inserting
`|', `&' or `;', just uncomment/remove these at zle_misc.c:881, but
don't expect us to include that patch in the distribution ;-)

maksuffix()'s brothers and sisters are used to register more
complicated types of suffixes.

I'm currently trying to collect my ideas about suffixes and will
eventually come up with a list and a description of how I think all of
this could be implemented.


Bye
  Sven

-- 
Sven Wischnowsky                          wischnow@berkom.de

