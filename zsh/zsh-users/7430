From zsh-users-return-7430-mason-zsh=primenet.com.au@sunsite.dk Sun May 02 08:51:39 2004
Return-Path: <zsh-users-return-7430-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10198 invoked from network); 2 May 2004 08:51:38 -0000
Received: from thor.dotsrc.org (HELO a.mx.sunsite.dk) (qmailr@130.225.247.86)
  by ns1.primenet.com.au with SMTP; 2 May 2004 08:51:38 -0000
Received: (qmail 29122 invoked from network); 2 May 2004 08:51:00 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 2 May 2004 08:51:00 -0000
Received: (qmail 11932 invoked by alias); 2 May 2004 08:50:53 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 7430
Received: (qmail 11920 invoked from network); 2 May 2004 08:50:52 -0000
Received: from thor.dotsrc.org (HELO a.mx.sunsite.dk) (qmailr@130.225.247.86)
  by sunsite.dk with SMTP; 2 May 2004 08:50:49 -0000
Received: (qmail 28495 invoked from network); 2 May 2004 08:50:49 -0000
Received: from main.gmane.org (80.91.224.249)
  by a.mx.sunsite.dk with SMTP; 2 May 2004 08:50:47 -0000
Received: from list by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1BKCgR-0004NM-00
	for <zsh-users@sunsite.dk>; Sun, 02 May 2004 10:50:47 +0200
Received: from 213-203-244-156.kunde.vdserver.de ([213.203.244.156])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <zsh-users@sunsite.dk>; Sun, 02 May 2004 10:50:47 +0200
Received: from kai by 213-203-244-156.kunde.vdserver.de with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <zsh-users@sunsite.dk>; Sun, 02 May 2004 10:50:47 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: zsh-users@sunsite.dk
From: Kai Grossjohann <kai@emptydomain.de>
Subject: Can't complete filename after "-foo" command line arg
Date: Sun, 02 May 2004 10:51:00 +0200
Lines: 44
Message-ID: <87oep79pqj.fsf@emptyhost.emptydomain.de>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: 213-203-244-156.kunde.vdserver.de
User-Agent: Gnus/5.110002 (No Gnus v0.2) Emacs/21.2 (gnu/linux)
Cancel-Lock: sha1:sbA12EbUwmsVwIBjRc6MRQRkiQo=
Sender: news <news@sea.gmane.org>
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, hits=0.0 required=6.0 tests=none autolearn=no version=2.63
X-Spam-Hits: 0.0

I would like to type the following command line:

    perl -Mblib script/hyrex_server -dir data_inex03

I would like to use filename completion to enter the argument
"data_inex03".  However, it doesn't work right: I type the first
character and then hit TAB and then zsh tells me it's completing
commands and builtin commands, shell functions, reserved words,
parameters, and whatnot

However, if I put an extra arg between "-dir" and the arg I really
want to complete, then it works:

    perl -Mblib script/hyrex_server -dir x data_inex03

Is there a way to get the right completion without this workaround?

Please find my completion setup below.  I didn't know what I was doing
when I called this friendly completion setup command.

tia,
Kai


# The following lines were added by compinstall

zstyle ':completion:*' auto-description 'specify %d'
zstyle ':completion:*' completer _expand _complete _correct
zstyle ':completion:*' completions 1
zstyle ':completion:*' format 'Completing %d'
zstyle ':completion:*' glob 1
zstyle ':completion:*' list-colors ''
zstyle ':completion:*' list-prompt %SAt %p: Hit TAB for more, or the character to insert%s
zstyle ':completion:*' matcher-list '' 'm:{a-z}={A-Z}' 'r:|[._-/]=** r:|=**' 'l:|=* r:|=*'
zstyle ':completion:*' max-errors 3 numeric
zstyle ':completion:*' menu select=long
zstyle ':completion:*' select-prompt %SScrolling active: current selection at %p%s
zstyle ':completion:*' substitute 1
zstyle ':completion:*' verbose true
zstyle :compinstall filename '/home/kgr/.zshrc'

autoload -U compinit
compinit
# End of lines added by compinstall

