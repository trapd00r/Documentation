From zsh-workers-return-9244-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Jan 06 12:33:20 2000
Return-Path: <zsh-workers-return-9244-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 11800 invoked from network); 6 Jan 2000 12:33:19 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 6 Jan 2000 12:33:19 -0000
Received: (qmail 6911 invoked by alias); 6 Jan 2000 12:33:13 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 9244
Received: (qmail 6904 invoked from network); 6 Jan 2000 12:33:12 -0000
Date: Thu, 6 Jan 2000 13:33:11 +0100 (MET)
Message-Id: <200001061233.NAA17929@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
Subject: PATCH: -M in _zstyle


Partial word completion for style names.

This deliberately does not test underscores yet because I first
wanted to ask why remote_glob uses one and not a minus sign.

Bye
 Sven

diff -ru ../z.old/Completion/Builtins/_zstyle Completion/Builtins/_zstyle
--- ../z.old/Completion/Builtins/_zstyle	Thu Jan  6 13:27:39 2000
+++ Completion/Builtins/_zstyle	Thu Jan  6 13:29:16 2000
@@ -97,7 +97,7 @@
         ctop=cz
       fi
       _wanted styles expl style &&
-         compadd "$expl[@]" - ${(k)styles[(R)[^:]#[$ctop][^:]#:*]}
+         compadd "$expl[@]" -M 'r:|-=* r:|=*' - ${(k)styles[(R)[^:]#[$ctop][^:]#:*]}
       ;;
       
     style-arg)

--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

