<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
  <meta name="generator" content=
  "HTML Tidy for Linux/x86 (vers 25 March 2009), see www.w3.org">
  <meta http-equiv="Content-Type" content=
  "text/html; charset=utf-8">

  <title>Git Magic - Git Magic - Git Magic</title>
  <meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
</head>

<body bgcolor="white" text="black" link="#0000FF" vlink="#840084"
alink="#0000FF">
    <div class="toc">
      <ul>
<li><b>Git Magic</b></li>
        <li>
          <span class="preface"><a href=
          "index.html">Vorwort</a></span>

          <ul>
            <li><span class="section"><a href=
            "index.html#_danke">Danke!</a></span></li>

            <li><span class="section"><a href=
            "index.html#_lizenz">Lizenz</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch01.html">1.
          Einleitung</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch01.html#_arbeit_ist_spiel">Arbeit ist
            Spiel</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_versionsverwaltung">Versionsverwaltung</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_verteilte_kontrolle">Verteilte
            Kontrolle</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_ein_dummer_aberglaube">Ein dummer
            Aberglaube</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_emphasis_merge_emphasis_konflikte"><span class="emphasis">
            <em>Merge</em></span> Konflikte</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch02.html">2. Erste
          Schritte</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch02.html#_stand_sichern">Stand
            sichern</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_hinzuf_gen_l_schen_umbenennen">Hinzufügen,
            Löschen, Umbenennen</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_fortgeschrittenes_r_ckg_ngig_machen_wiederherstellen">
            Fortgeschrittenes Rückgängig
            machen/Wiederherstellen</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_r_ckg_ngig_machen">Rückgängig
            machen</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_changelog_erstellen">Changelog
            erstellen</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_dateien_herunterladen">Dateien
            herunterladen</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_das_neueste_vom_neuen">Das Neueste vom
            Neuen</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_einfaches_ver_ffentlichen">Einfaches
            Veröffentlichen</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_was_habe_ich_getan">Was habe ich
            getan?</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_bung">Übung</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch03.html">3. Rund ums
          <span class="emphasis"><em>Clonen</em></span></a></span>

          <ul>
            <li><span class="section"><a href=
            "ch03.html#_computer_synchronisieren">Computer
            synchronisieren</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_klassische_quellcodeverwaltung">Klassische
            Quellcodeverwaltung</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_geheime_quellen">Geheime
            Quellen</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_emphasis_nackte_repositories_emphasis"><span class="emphasis">
            <em>Nackte Repositories</em></span></a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_emphasis_push_emphasis_oder_emphasis_pull_emphasis">
            <span class="emphasis"><em>Push</em></span> oder
            <span class=
            "emphasis"><em>Pull</em></span></a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_emphasis_fork_emphasis_eines_projekts"><span class="emphasis">
            <em>Fork</em></span> eines Projekts</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_ultimative_datensicherung">Ultimative
            Datensicherung</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_multitasking_mit_lichtgeschwindigkeit">Multitasking
            mit Lichtgeschwindigkeit</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_versionsverwaltung_im_untergrund">Versionsverwaltung
            im Untergrund</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_mercurial">Mercurial</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_bazaar">Bazaar</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_warum_ich_git_benutze">Warum ich Git
            benutze</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch04.html">4. <span class=
          "emphasis"><em>Branch</em></span>-Magie</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch04.html#_die_chef_taste">Die
            Chef-Taste</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_schmutzarbeit">Schmutzarbeit</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_schnelle_fehlerbehebung">Schnelle
            Fehlerbehebung</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_emphasis_mergen_emphasis"><span class=
            "emphasis"><em>Mergen</em></span></a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_kontinuierlicher_arbeitsfluss">Kontinuierlicher
            Arbeitsfluss</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_mischmasch_reorganisieren">Mischmasch
            Reorganisieren</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_emphasis_branches_emphasis_verwalten"><span class="emphasis">
            <em>Branches</em></span> verwalten</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_tempor_re_emphasis_branches_emphasis">Temporäre
            <span class=
            "emphasis"><em>Branches</em></span></a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_arbeite_wie_du_willst">Arbeite wie du
            willst</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch05.html">5.
          Geschichtsstunde</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch05.html#_ich_nehme_alles_zur_ck">Ich nehme alles
            zurück</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_8230_und_noch_viel_mehr">… und noch viel
            mehr</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_lokale_nderungen_zum_schlu">Lokale
            Änderungen zum Schluß</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_chronik_umschreiben">Chronik
            umschreiben</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_geschichte_machen">Geschichte
            machen</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_wo_ging_alles_schief">Wo ging alles
            schief?</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_wer_ist_verantwortlich">Wer ist
            verantwortlich?</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_pers_nliche_erfahrungen">Persönliche
            Erfahrungen</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch06.html">6. Multiplayer
          Git</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch06.html#_wer_bin_ich">Wer bin ich?</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_git_ber_ssh_http">Git über SSH,
            HTTP</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_git_ber_alles">Git über
            alles</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_patches_das_globale_zahlungsmittel">Patches:
            Das globale Zahlungsmittel</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_entschuldigung_wir_sind_umgezogen">Entschuldigung,
            wir sind umgezogen.</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_entfernte_emphasis_branches_emphasis">Entfernte
            <span class=
            "emphasis"><em>Branches</em></span></a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_mehrere_emphasis_remotes_emphasis">Mehrere
            <span class=
            "emphasis"><em>Remotes</em></span></a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_meine_einstellungen">Meine
            Einstellungen</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch07.html">7. Git für
          Fortgeschrittene</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch07.html#_quellcode_ver_ffentlichen">Quellcode
            veröffentlichen</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_emphasis_commite_emphasis_nderungen"><span class="emphasis">
            <em>Commite</em></span> Änderungen</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_mein_emphasis_commit_emphasis_ist_zu_gro">Mein
            <span class="emphasis"><em>Commit</em></span> ist zu
            groß!</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_der_index_git_8217_s_bereitstellungsraum">Der
            Index: Git’s Bereitstellungsraum</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_verliere_nicht_deinen_kopf">Verliere nicht
            Deinen KOPF</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_kopf_jagd">KOPF-Jagd</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_auf_git_bauen">Auf Git
            bauen</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_gewagte_kunstst_cke">Gewagte
            Kunststücke</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_verhindere_schlechte_emphasis_commits_emphasis">
            Verhindere schlechte <span class=
            "emphasis"><em>Commits</em></span></a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch08.html">8. Aufgedeckte
          Geheimnisse</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch08.html#_unsichtbarkeit">Unsichtbarkeit</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_integrit_t">Integrität</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_intelligenz">Intelligenz</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_indizierung">Indizierung</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_git_8217_s_wurzeln">Git’s
            Wurzeln</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_die_objektdatenbank">Die
            Objektdatenbank</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_blobs">Blobs</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_emphasis_trees_emphasis"><span class=
            "emphasis"><em>Trees</em></span></a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_emphasis_commits_emphasis"><span class=
            "emphasis"><em>Commits</em></span></a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_von_magie_nicht_zu_unterscheiden">Von Magie
            nicht zu unterscheiden</a></span></li>
          </ul>
        </li>

        <li>
          <span class="appendix"><a href="apa.html">A. Git’s
          Mängel</a></span>

          <ul>
            <li><span class="section"><a href=
            "apa.html#_sha1_schw_che">SHA1 Schwäche</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_microsoft_windows">Microsoft
            Windows</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_dateien_ohne_bezug">Dateien ohne
            Bezug</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_wer_macht_was">Wer macht
            was?</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_dateihistorie">Dateihistorie</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_der_erster_klon">Der erster
            Klon</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_unbest_ndige_projekte">Unbeständige
            Projekte</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_globaler_z_hler">Globaler
            Zähler</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_leere_unterverzeichnisse">Leere
            Unterverzeichnisse</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_initialer_emphasis_commit_emphasis">Initialer
            <span class=
            "emphasis"><em>Commit</em></span></a></span></li>

            <li><span class="section"><a href=
            "apa.html#_eigenarten_der_anwendung">Eigenarten der
            Anwendung</a></span></li>
          </ul>
        </li>

        <li><span class="appendix"><a href="apb.html">B. Diese
        Anleitung übersetzen</a></span></li>
      </ul>
    </div>
<div class="content">
  <div class="toc">
    <ul>
      <li><b>Git Magic</b></li>

      <li>
        <span class="chapter"><a href="ch01.html">1.
        Preface</a></span>

        <ul>
          <li><span class="section"><a href=
          "ch01.html#_thanks">Thanks!</a></span></li>

          <li><span class="section"><a href=
          "ch01.html#_license">License</a></span></li>
        </ul>
      </li>

      <li>
        <span class="chapter"><a href="ch02.html">2.
        Einleitung</a></span>

        <ul>
          <li><span class="section"><a href=
          "ch02.html#_arbeit_ist_spiel">Arbeit ist
          Spiel</a></span></li>

          <li><span class="section"><a href=
          "ch02.html#_versionsverwaltung">Versionsverwaltung</a></span></li>

          <li><span class="section"><a href=
          "ch02.html#_verteilte_kontrolle">Verteilte
          Kontrolle</a></span></li>

          <li><span class="section"><a href=
          "ch02.html#_ein_dummer_aberglaube">Ein dummer
          Aberglaube</a></span></li>

          <li><span class="section"><a href=
          "ch02.html#_emphasis_merge_emphasis_konflikte"><span class="emphasis">
          <em>Merge</em></span> Konflikte</a></span></li>
        </ul>
      </li>

      <li>
        <span class="chapter"><a href="ch03.html">3. Erste
        Schritte</a></span>

        <ul>
          <li><span class="section"><a href=
          "ch03.html#_stand_sichern">Stand sichern</a></span></li>

          <li><span class="section"><a href=
          "ch03.html#_hinzuf_gen_l_schen_umbenennen">Hinzufügen,
          Löschen, Umbenennen</a></span></li>

          <li><span class="section"><a href=
          "ch03.html#_fortgeschrittenes_r_ckg_ngig_machen_wiederherstellen">
          Fortgeschrittenes Rückgängig
          machen/Wiederherstellen</a></span></li>

          <li><span class="section"><a href=
          "ch03.html#_r_ckg_ngig_machen">Rückgängig
          machen</a></span></li>

          <li><span class="section"><a href=
          "ch03.html#_changelog_erstellen">Changelog
          erstellen</a></span></li>

          <li><span class="section"><a href=
          "ch03.html#_dateien_herunterladen">Dateien
          herunterladen</a></span></li>

          <li><span class="section"><a href=
          "ch03.html#_das_neueste_vom_neuen">Das Neueste vom
          Neuen</a></span></li>

          <li><span class="section"><a href=
          "ch03.html#_einfaches_ver_ffentlichen">Einfaches
          Veröffentlichen</a></span></li>

          <li><span class="section"><a href=
          "ch03.html#_was_habe_ich_getan">Was habe ich
          getan?</a></span></li>

          <li><span class="section"><a href=
          "ch03.html#_bung">Übung</a></span></li>
        </ul>
      </li>

      <li>
        <span class="chapter"><a href="ch04.html">4. Rund ums
        <span class="emphasis"><em>Clonen</em></span></a></span>

        <ul>
          <li><span class="section"><a href=
          "ch04.html#_computer_synchronisieren">Computer
          synchronisieren</a></span></li>

          <li><span class="section"><a href=
          "ch04.html#_klassische_quellcodeverwaltung">Klassische
          Quellcodeverwaltung</a></span></li>

          <li><span class="section"><a href=
          "ch04.html#_emphasis_nackte_repositories_emphasis"><span class="emphasis">
          <em>Nackte Repositories</em></span></a></span></li>

          <li><span class="section"><a href=
          "ch04.html#_emphasis_push_emphasis_oder_emphasis_pull_emphasis">
          <span class="emphasis"><em>Push</em></span> oder
          <span class=
          "emphasis"><em>Pull</em></span></a></span></li>

          <li><span class="section"><a href=
          "ch04.html#_emphasis_fork_emphasis_eines_projekts"><span class="emphasis">
          <em>Fork</em></span> eines Projekts</a></span></li>

          <li><span class="section"><a href=
          "ch04.html#_ultimative_datensicherung">Ultimative
          Datensicherung</a></span></li>

          <li><span class="section"><a href=
          "ch04.html#_multitasking_mit_lichtgeschwindigkeit">Multitasking
          mit Lichtgeschwindigkeit</a></span></li>

          <li><span class="section"><a href=
          "ch04.html#_versionsverwaltung_im_untergrund">Versionsverwaltung
          im Untergrund</a></span></li>

          <li><span class="section"><a href=
          "ch04.html#_mercurial">Mercurial</a></span></li>

          <li><span class="section"><a href=
          "ch04.html#_bazaar">Bazaar</a></span></li>

          <li><span class="section"><a href=
          "ch04.html#_warum_ich_git_benutze">Warum ich Git
          benutze</a></span></li>
        </ul>
      </li>

      <li>
        <span class="chapter"><a href="ch05.html">5. <span class=
        "emphasis"><em>Branch</em></span>-Magie</a></span>

        <ul>
          <li><span class="section"><a href=
          "ch05.html#_die_chef_taste">Die
          Chef-Taste</a></span></li>

          <li><span class="section"><a href=
          "ch05.html#_schmutzarbeit">Schmutzarbeit</a></span></li>

          <li><span class="section"><a href=
          "ch05.html#_schnelle_fehlerbehebung">Schnelle
          Fehlerbehebung</a></span></li>

          <li><span class="section"><a href=
          "ch05.html#_emphasis_mergen_emphasis"><span class=
          "emphasis"><em>Mergen</em></span></a></span></li>

          <li><span class="section"><a href=
          "ch05.html#_kontinuierlicher_arbeitsfluss">Kontinuierlicher
          Arbeitsfluss</a></span></li>

          <li><span class="section"><a href=
          "ch05.html#_mischmasch_reorganisieren">Mischmasch
          Reorganisieren</a></span></li>

          <li><span class="section"><a href=
          "ch05.html#_emphasis_branches_emphasis_verwalten"><span class="emphasis">
          <em>Branches</em></span> verwalten</a></span></li>

          <li><span class="section"><a href=
          "ch05.html#_tempor_re_emphasis_branches_emphasis">Temporäre
          <span class=
          "emphasis"><em>Branches</em></span></a></span></li>

          <li><span class="section"><a href=
          "ch05.html#_arbeite_wie_du_willst">Arbeite wie du
          willst</a></span></li>
        </ul>
      </li>

      <li>
        <span class="chapter"><a href="ch06.html">6.
        Geschichtsstunde</a></span>

        <ul>
          <li><span class="section"><a href=
          "ch06.html#_ich_nehme_alles_zur_ck">Ich nehme alles
          zurück</a></span></li>

          <li><span class="section"><a href=
          "ch06.html#_8230_und_noch_viel_mehr">… und noch viel
          mehr</a></span></li>

          <li><span class="section"><a href=
          "ch06.html#_lokale_nderungen_zum_schlu">Lokale Änderungen
          zum Schluß</a></span></li>

          <li><span class="section"><a href=
          "ch06.html#_chronik_umschreiben">Chronik
          umschreiben</a></span></li>

          <li><span class="section"><a href=
          "ch06.html#_geschichte_machen">Geschichte
          machen</a></span></li>

          <li><span class="section"><a href=
          "ch06.html#_wo_ging_alles_schief">Wo ging alles
          schief?</a></span></li>

          <li><span class="section"><a href=
          "ch06.html#_wer_ist_verantwortlich">Wer ist
          verantwortlich?</a></span></li>

          <li><span class="section"><a href=
          "ch06.html#_pers_nliche_erfahrungen">Persönliche
          Erfahrungen</a></span></li>
        </ul>
      </li>

      <li>
        <span class="chapter"><a href="ch07.html">7. Multiplayer
        Git</a></span>

        <ul>
          <li><span class="section"><a href=
          "ch07.html#_wer_bin_ich">Wer bin ich?</a></span></li>

          <li><span class="section"><a href=
          "ch07.html#_git_ber_ssh_http">Git über SSH,
          HTTP</a></span></li>

          <li><span class="section"><a href=
          "ch07.html#_git_ber_alles">Git über alles</a></span></li>

          <li><span class="section"><a href=
          "ch07.html#_patches_das_globale_zahlungsmittel">Patches:
          Das globale Zahlungsmittel</a></span></li>

          <li><span class="section"><a href=
          "ch07.html#_entschuldigung_wir_sind_umgezogen">Entschuldigung,
          wir sind umgezogen.</a></span></li>

          <li><span class="section"><a href=
          "ch07.html#_entfernte_emphasis_branches_emphasis">Entfernte
          <span class=
          "emphasis"><em>Branches</em></span></a></span></li>

          <li><span class="section"><a href=
          "ch07.html#_mehrere_emphasis_remotes_emphasis">Mehrere
          <span class=
          "emphasis"><em>Remotes</em></span></a></span></li>

          <li><span class="section"><a href=
          "ch07.html#_meine_einstellungen">Meine
          Einstellungen</a></span></li>
        </ul>
      </li>

      <li>
        <span class="chapter"><a href="ch08.html">8. Git
        Grandmastery</a></span>

        <ul>
          <li><span class="section"><a href=
          "ch08.html#_source_releases">Source
          Releases</a></span></li>

          <li><span class="section"><a href=
          "ch08.html#_commit_what_changed">Commit What
          Changed</a></span></li>

          <li><span class="section"><a href=
          "ch08.html#_my_commit_is_too_big">My Commit Is Too
          Big!</a></span></li>

          <li><span class="section"><a href=
          "ch08.html#_the_index_git_8217_s_staging_area">The Index:
          Git’s Staging Area</a></span></li>

          <li><span class="section"><a href=
          "ch08.html#_don_8217_t_lose_your_head">Don’t Lose Your
          HEAD</a></span></li>

          <li><span class="section"><a href=
          "ch08.html#_head_hunting">HEAD-hunting</a></span></li>

          <li><span class="section"><a href=
          "ch08.html#_building_on_git">Building On
          Git</a></span></li>

          <li><span class="section"><a href=
          "ch08.html#_daring_stunts">Daring Stunts</a></span></li>

          <li><span class="section"><a href=
          "ch08.html#_preventing_bad_commits">Preventing Bad
          Commits</a></span></li>
        </ul>
      </li>

      <li>
        <span class="chapter"><a href="ch09.html">9. Secrets
        Revealed</a></span>

        <ul>
          <li><span class="section"><a href=
          "ch09.html#_invisibility">Invisibility</a></span></li>

          <li><span class="section"><a href=
          "ch09.html#_integrity">Integrity</a></span></li>

          <li><span class="section"><a href=
          "ch09.html#_intelligence">Intelligence</a></span></li>

          <li><span class="section"><a href=
          "ch09.html#_indexing">Indexing</a></span></li>

          <li><span class="section"><a href=
          "ch09.html#_git_8217_s_origins">Git’s
          Origins</a></span></li>

          <li><span class="section"><a href=
          "ch09.html#_the_object_database">The Object
          Database</a></span></li>

          <li><span class="section"><a href=
          "ch09.html#_blobs">Blobs</a></span></li>

          <li><span class="section"><a href=
          "ch09.html#_trees">Trees</a></span></li>

          <li><span class="section"><a href=
          "ch09.html#_commits">Commits</a></span></li>

          <li><span class="section"><a href=
          "ch09.html#_indistinguishable_from_magic">Indistinguishable
          From Magic</a></span></li>
        </ul>
      </li>

      <li>
        <span class="chapter"><a href="ch10.html">10. Appendix A:
        Git Shortcomings</a></span>

        <ul>
          <li><span class="section"><a href=
          "ch10.html#_sha1_weaknesses">SHA1
          Weaknesses</a></span></li>

          <li><span class="section"><a href=
          "ch10.html#_microsoft_windows">Microsoft
          Windows</a></span></li>

          <li><span class="section"><a href=
          "ch10.html#_unrelated_files">Unrelated
          Files</a></span></li>

          <li><span class="section"><a href=
          "ch10.html#_who_8217_s_editing_what">Who’s Editing
          What?</a></span></li>

          <li><span class="section"><a href=
          "ch10.html#_file_history">File History</a></span></li>

          <li><span class="section"><a href=
          "ch10.html#_initial_clone">Initial Clone</a></span></li>

          <li><span class="section"><a href=
          "ch10.html#_volatile_projects">Volatile
          Projects</a></span></li>

          <li><span class="section"><a href=
          "ch10.html#_global_counter">Global
          Counter</a></span></li>

          <li><span class="section"><a href=
          "ch10.html#_empty_subdirectories">Empty
          Subdirectories</a></span></li>

          <li><span class="section"><a href=
          "ch10.html#_initial_commit">Initial
          Commit</a></span></li>

          <li><span class="section"><a href=
          "ch10.html#_interface_quirks">Interface
          Quirks</a></span></li>
        </ul>
      </li>

      <li><span class="appendix"><a href="apa.html">A. Diese
      Anleitung übersetzen</a></span></li>
    </ul>
  </div>

  <div class="content">
    <div lang="de" class="book" title="Git Magic">
      <div class="titlepage">
        <div>
          <div>
            <h1 class="title"><a name="id2801908" id=
            "id2801908"></a>Git Magic</h1>
          </div>

          <div>
            <div class="author">
              <h3 class="author"><span class="firstname">Ben</span>
              <span class="surname">Lynn</span></h3>
            </div>
          </div>

          <div>
            <div class="revhistory">
              <table border="1" width="100%" summary=
              "Revision history">
                <tr>
                  <th align="left" valign="top" colspan="3">
                  <b>Versionsgeschichte</b></th>
                </tr>

                <tr>
                  <td align="left"></td>

                  <td align="left">August 2007</td>

                  <td align="left">BL</td>
                </tr>
              </table>
            </div>
          </div>
        </div>
        <hr>
      </div>

      <div class="toc">
        <p><b>Inhaltsverzeichnis</b></p>

        <dl>
          <dt><span class="preface"><a href=
          "#_preface">Preface</a></span></dt>

          <dd>
            <dl>
              <dt><span class="section"><a href=
              "#_thanks">Thanks!</a></span></dt>

              <dt><span class="section"><a href=
              "#_license">License</a></span></dt>
            </dl>
          </dd>

          <dt><span class="chapter"><a href="#_einleitung">1.
          Einleitung</a></span></dt>

          <dd>
            <dl>
              <dt><span class="section"><a href=
              "#_arbeit_ist_spiel">Arbeit ist Spiel</a></span></dt>

              <dt><span class="section"><a href=
              "#_versionsverwaltung">Versionsverwaltung</a></span></dt>

              <dt><span class="section"><a href=
              "#_verteilte_kontrolle">Verteilte
              Kontrolle</a></span></dt>

              <dt><span class="section"><a href=
              "#_ein_dummer_aberglaube">Ein dummer
              Aberglaube</a></span></dt>

              <dt><span class="section"><a href=
              "#_emphasis_merge_emphasis_konflikte"><span class=
              "emphasis"><em>Merge</em></span>
              Konflikte</a></span></dt>
            </dl>
          </dd>

          <dt><span class="chapter"><a href="#_erste_schritte">2.
          Erste Schritte</a></span></dt>

          <dd>
            <dl>
              <dt><span class="section"><a href=
              "#_stand_sichern">Stand sichern</a></span></dt>

              <dt><span class="section"><a href=
              "#_hinzuf_gen_l_schen_umbenennen">Hinzufügen,
              Löschen, Umbenennen</a></span></dt>

              <dt><span class="section"><a href=
              "#_fortgeschrittenes_r_ckg_ngig_machen_wiederherstellen">
              Fortgeschrittenes Rückgängig
              machen/Wiederherstellen</a></span></dt>

              <dt><span class="section"><a href=
              "#_r_ckg_ngig_machen">Rückgängig
              machen</a></span></dt>

              <dt><span class="section"><a href=
              "#_changelog_erstellen">Changelog
              erstellen</a></span></dt>

              <dt><span class="section"><a href=
              "#_dateien_herunterladen">Dateien
              herunterladen</a></span></dt>

              <dt><span class="section"><a href=
              "#_das_neueste_vom_neuen">Das Neueste vom
              Neuen</a></span></dt>

              <dt><span class="section"><a href=
              "#_einfaches_ver_ffentlichen">Einfaches
              Veröffentlichen</a></span></dt>

              <dt><span class="section"><a href=
              "#_was_habe_ich_getan">Was habe ich
              getan?</a></span></dt>

              <dt><span class="section"><a href=
              "#_bung">Übung</a></span></dt>
            </dl>
          </dd>

          <dt><span class="chapter"><a href=
          "#_rund_ums_emphasis_clonen_emphasis">3. Rund ums
          <span class=
          "emphasis"><em>Clonen</em></span></a></span></dt>

          <dd>
            <dl>
              <dt><span class="section"><a href=
              "#_computer_synchronisieren">Computer
              synchronisieren</a></span></dt>

              <dt><span class="section"><a href=
              "#_klassische_quellcodeverwaltung">Klassische
              Quellcodeverwaltung</a></span></dt>

              <dt><span class="section"><a href=
              "#_emphasis_nackte_repositories_emphasis"><span class="emphasis">
              <em>Nackte Repositories</em></span></a></span></dt>

              <dt><span class="section"><a href=
              "#_emphasis_push_emphasis_oder_emphasis_pull_emphasis">
              <span class="emphasis"><em>Push</em></span> oder
              <span class=
              "emphasis"><em>Pull</em></span></a></span></dt>

              <dt><span class="section"><a href=
              "#_emphasis_fork_emphasis_eines_projekts"><span class="emphasis">
              <em>Fork</em></span> eines Projekts</a></span></dt>

              <dt><span class="section"><a href=
              "#_ultimative_datensicherung">Ultimative
              Datensicherung</a></span></dt>

              <dt><span class="section"><a href=
              "#_multitasking_mit_lichtgeschwindigkeit">Multitasking
              mit Lichtgeschwindigkeit</a></span></dt>

              <dt><span class="section"><a href=
              "#_versionsverwaltung_im_untergrund">Versionsverwaltung
              im Untergrund</a></span></dt>

              <dt><span class="section"><a href=
              "#_mercurial">Mercurial</a></span></dt>

              <dt><span class="section"><a href=
              "#_bazaar">Bazaar</a></span></dt>

              <dt><span class="section"><a href=
              "#_warum_ich_git_benutze">Warum ich Git
              benutze</a></span></dt>
            </dl>
          </dd>

          <dt><span class="chapter"><a href=
          "#_emphasis_branch_emphasis_magie">4. <span class=
          "emphasis"><em>Branch</em></span>-Magie</a></span></dt>

          <dd>
            <dl>
              <dt><span class="section"><a href=
              "#_die_chef_taste">Die Chef-Taste</a></span></dt>

              <dt><span class="section"><a href=
              "#_schmutzarbeit">Schmutzarbeit</a></span></dt>

              <dt><span class="section"><a href=
              "#_schnelle_fehlerbehebung">Schnelle
              Fehlerbehebung</a></span></dt>

              <dt><span class="section"><a href=
              "#_emphasis_mergen_emphasis"><span class=
              "emphasis"><em>Mergen</em></span></a></span></dt>

              <dt><span class="section"><a href=
              "#_kontinuierlicher_arbeitsfluss">Kontinuierlicher
              Arbeitsfluss</a></span></dt>

              <dt><span class="section"><a href=
              "#_mischmasch_reorganisieren">Mischmasch
              Reorganisieren</a></span></dt>

              <dt><span class="section"><a href=
              "#_emphasis_branches_emphasis_verwalten"><span class=
              "emphasis"><em>Branches</em></span>
              verwalten</a></span></dt>

              <dt><span class="section"><a href=
              "#_tempor_re_emphasis_branches_emphasis">Temporäre
              <span class=
              "emphasis"><em>Branches</em></span></a></span></dt>

              <dt><span class="section"><a href=
              "#_arbeite_wie_du_willst">Arbeite wie du
              willst</a></span></dt>
            </dl>
          </dd>

          <dt><span class="chapter"><a href="#_geschichtsstunde">5.
          Geschichtsstunde</a></span></dt>

          <dd>
            <dl>
              <dt><span class="section"><a href=
              "#_ich_nehme_alles_zur_ck">Ich nehme alles
              zurück</a></span></dt>

              <dt><span class="section"><a href=
              "#_8230_und_noch_viel_mehr">… und noch viel
              mehr</a></span></dt>

              <dt><span class="section"><a href=
              "#_lokale_nderungen_zum_schlu">Lokale Änderungen zum
              Schluß</a></span></dt>

              <dt><span class="section"><a href=
              "#_chronik_umschreiben">Chronik
              umschreiben</a></span></dt>

              <dt><span class="section"><a href=
              "#_geschichte_machen">Geschichte
              machen</a></span></dt>

              <dt><span class="section"><a href=
              "#_wo_ging_alles_schief">Wo ging alles
              schief?</a></span></dt>

              <dt><span class="section"><a href=
              "#_wer_ist_verantwortlich">Wer ist
              verantwortlich?</a></span></dt>

              <dt><span class="section"><a href=
              "#_pers_nliche_erfahrungen">Persönliche
              Erfahrungen</a></span></dt>
            </dl>
          </dd>

          <dt><span class="chapter"><a href="#_multiplayer_git">6.
          Multiplayer Git</a></span></dt>

          <dd>
            <dl>
              <dt><span class="section"><a href="#_wer_bin_ich">Wer
              bin ich?</a></span></dt>

              <dt><span class="section"><a href=
              "#_git_ber_ssh_http">Git über SSH,
              HTTP</a></span></dt>

              <dt><span class="section"><a href=
              "#_git_ber_alles">Git über alles</a></span></dt>

              <dt><span class="section"><a href=
              "#_patches_das_globale_zahlungsmittel">Patches: Das
              globale Zahlungsmittel</a></span></dt>

              <dt><span class="section"><a href=
              "#_entschuldigung_wir_sind_umgezogen">Entschuldigung,
              wir sind umgezogen.</a></span></dt>

              <dt><span class="section"><a href=
              "#_entfernte_emphasis_branches_emphasis">Entfernte
              <span class=
              "emphasis"><em>Branches</em></span></a></span></dt>

              <dt><span class="section"><a href=
              "#_mehrere_emphasis_remotes_emphasis">Mehrere
              <span class=
              "emphasis"><em>Remotes</em></span></a></span></dt>

              <dt><span class="section"><a href=
              "#_meine_einstellungen">Meine
              Einstellungen</a></span></dt>
            </dl>
          </dd>

          <dt><span class="chapter"><a href="#_git_grandmastery">7.
          Git Grandmastery</a></span></dt>

          <dd>
            <dl>
              <dt><span class="section"><a href=
              "#_source_releases">Source Releases</a></span></dt>

              <dt><span class="section"><a href=
              "#_commit_what_changed">Commit What
              Changed</a></span></dt>

              <dt><span class="section"><a href=
              "#_my_commit_is_too_big">My Commit Is Too
              Big!</a></span></dt>

              <dt><span class="section"><a href=
              "#_the_index_git_8217_s_staging_area">The Index:
              Git’s Staging Area</a></span></dt>

              <dt><span class="section"><a href=
              "#_don_8217_t_lose_your_head">Don’t Lose Your
              HEAD</a></span></dt>

              <dt><span class="section"><a href=
              "#_head_hunting">HEAD-hunting</a></span></dt>

              <dt><span class="section"><a href=
              "#_building_on_git">Building On Git</a></span></dt>

              <dt><span class="section"><a href=
              "#_daring_stunts">Daring Stunts</a></span></dt>

              <dt><span class="section"><a href=
              "#_preventing_bad_commits">Preventing Bad
              Commits</a></span></dt>
            </dl>
          </dd>

          <dt><span class="chapter"><a href="#_secrets_revealed">8.
          Secrets Revealed</a></span></dt>

          <dd>
            <dl>
              <dt><span class="section"><a href=
              "#_invisibility">Invisibility</a></span></dt>

              <dt><span class="section"><a href=
              "#_integrity">Integrity</a></span></dt>

              <dt><span class="section"><a href=
              "#_intelligence">Intelligence</a></span></dt>

              <dt><span class="section"><a href=
              "#_indexing">Indexing</a></span></dt>

              <dt><span class="section"><a href=
              "#_git_8217_s_origins">Git’s Origins</a></span></dt>

              <dt><span class="section"><a href=
              "#_the_object_database">The Object
              Database</a></span></dt>

              <dt><span class="section"><a href=
              "#_blobs">Blobs</a></span></dt>

              <dt><span class="section"><a href=
              "#_trees">Trees</a></span></dt>

              <dt><span class="section"><a href=
              "#_commits">Commits</a></span></dt>

              <dt><span class="section"><a href=
              "#_indistinguishable_from_magic">Indistinguishable
              From Magic</a></span></dt>
            </dl>
          </dd>

          <dt><span class="appendix"><a href=
          "#_git_shortcomings">A. Git Shortcomings</a></span></dt>

          <dd>
            <dl>
              <dt><span class="section"><a href=
              "#_sha1_weaknesses">SHA1 Weaknesses</a></span></dt>

              <dt><span class="section"><a href=
              "#_microsoft_windows">Microsoft
              Windows</a></span></dt>

              <dt><span class="section"><a href=
              "#_unrelated_files">Unrelated Files</a></span></dt>

              <dt><span class="section"><a href=
              "#_who_8217_s_editing_what">Who’s Editing
              What?</a></span></dt>

              <dt><span class="section"><a href=
              "#_file_history">File History</a></span></dt>

              <dt><span class="section"><a href=
              "#_initial_clone">Initial Clone</a></span></dt>

              <dt><span class="section"><a href=
              "#_volatile_projects">Volatile
              Projects</a></span></dt>

              <dt><span class="section"><a href=
              "#_global_counter">Global Counter</a></span></dt>

              <dt><span class="section"><a href=
              "#_empty_subdirectories">Empty
              Subdirectories</a></span></dt>

              <dt><span class="section"><a href=
              "#_initial_commit">Initial Commit</a></span></dt>

              <dt><span class="section"><a href=
              "#_interface_quirks">Interface Quirks</a></span></dt>
            </dl>
          </dd>

          <dt><span class="appendix"><a href=
          "#_diese_anleitung_u_bersetzen">B. Diese Anleitung
          übersetzen</a></span></dt>
        </dl>
      </div>

      <div class="preface" title="Preface">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a name="_preface"></a>Preface</h2>
            </div>
          </div>
        </div>

        <div class="toc">
          <p><b>Inhaltsverzeichnis</b></p>

          <dl>
            <dt><span class="section"><a href=
            "#_thanks">Thanks!</a></span></dt>

            <dt><span class="section"><a href=
            "#_license">License</a></span></dt>
          </dl>
        </div>

        <p><a class="ulink" href="http://git.or.cz/" target=
        "_top">Git</a> is a version control Swiss army knife. A
        reliable versatile multipurpose revision control tool whose
        extraordinary flexibility makes it tricky to learn, let
        alone master.</p>

        <p>As Arthur C. Clarke observed, any sufficiently advanced
        technology is indistinguishable from magic. This is a great
        way to approach Git: newbies can ignore its inner workings
        and view Git as a gizmo that can amaze friends and
        infuriate enemies with its wondrous abilities.</p>

        <p>Rather than go into details, we provide rough
        instructions for particular effects. After repeated use,
        gradually you will understand how each trick works, and how
        to tailor the recipes for your needs.</p>

        <div class="itemizedlist" title="Translations">
          <p class="title"><b>Translations</b></p>

          <ul class="itemizedlist" type="disc">
            <li class="listitem"><a class="ulink" href=
            "/~blynn/gitmagic/intl/zh_cn/" target="_top">Simplified
            Chinese</a>: by JunJie, Meng and JiangWei. Converted to
            <a class="ulink" href="/~blynn/gitmagic/intl/zh_tw/"
            target="_top">Traditional Chinese</a> via <code class=
            "literal">cconv -f UTF8-CN -t UTF8-TW</code>.</li>

            <li class="listitem"><a class="ulink" href=
            "/~blynn/gitmagic/intl/fr/" target="_top">French</a>:
            by Alexandre Garel, Paul Gaborit, and Nicolas Deram.
            Also hosted at <a class="ulink" href=
            "http://tutoriels.itaapy.com/" target=
            "_top">itaapy</a>.</li>

            <li class="listitem"><a class="ulink" href=
            "/~blynn/gitmagic/intl/de/" target="_top">German</a>:
            by Benjamin Bellee and Armin Stebich; also <a class=
            "ulink" href="http://gitmagic.lordofbikes.de/" target=
            "_top">hosted on Armin’s website</a>.</li>

            <li class="listitem"><a class="ulink" href=
            "http://www.slideshare.net/slide_user/magia-git"
            target="_top">Portuguese</a>: by Leonardo Siqueira
            Rodrigues [<a class="ulink" href=
            "http://www.slideshare.net/slide_user/magia-git-verso-odt"
            target="_top">ODT version</a>].</li>

            <li class="listitem"><a class="ulink" href=
            "/~blynn/gitmagic/intl/ru/" target="_top">Russian</a>:
            by Tikhon Tarnavsky, Mikhail Dymskov, and others.</li>

            <li class="listitem"><a class="ulink" href=
            "/~blynn/gitmagic/intl/es/" target="_top">Spanish</a>:
            by Rodrigo Toledo and Ariset Llerena Tapia.</li>

            <li class="listitem"><a class="ulink" href=
            "/~blynn/gitmagic/intl/vi/" target=
            "_top">Vietnamese</a>: by Trần Ngọc Quân; also
            <a class="ulink" href=
            "http://vnwildman.users.sourceforge.net/gitmagic.html"
            target="_top">hosted on his website</a>.</li>
          </ul>
        </div>

        <div class="itemizedlist" title="Other Editions">
          <p class="title"><b>Other Editions</b></p>

          <ul class="itemizedlist" type="disc">
            <li class="listitem"><a class="ulink" href="book.html"
            target="_top">Single webpage</a>: barebones HTML, with
            no CSS.</li>

            <li class="listitem"><a class="ulink" href="book.pdf"
            target="_top">PDF file</a>: printer-friendly.</li>

            <li class="listitem"><a class="ulink" href=
            "http://packages.debian.org/gitmagic" target=
            "_top">Debian package</a>, <a class="ulink" href=
            "http:://packages.ubuntu.com/gitmagic" target=
            "_top">Ubuntu package</a>: get a fast and local copy of
            this site. Handy <a class="ulink" href=
            "http://csdcf.stanford.edu/status/" target="_top">when
            this server is offline</a>.</li>

            <li class="listitem"><a class="ulink" href=
            "http://www.amazon.com/Git-Magic-Ben-Lynn/dp/1451523343/"
            target="_top">Physical book [Amazon.com</a>]: 64 pages,
            15.24cm x 22.86cm, black and white. Handy when there is
            no electricity.</li>
          </ul>
        </div>

        <div class="section" title="Thanks!">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_thanks"></a>Thanks!</h2>
              </div>
            </div>
          </div>

          <p>I’m humbled that so many people have worked on
          translations of these pages. I greatly appreciate having
          a wider audience because of the efforts of those named
          above.</p>

          <p>Dustin Sallings, Alberto Bertogli, James Cameron,
          Douglas Livingstone, Michael Budde, Richard Albury,
          Tarmigan, Derek Mahar, Frode Aannevik, Keith Rarick, Andy
          Somerville, Ralf Recker, Øyvind A. Holm, Miklos Vajna,
          Sébastien Hinderer, Thomas Miedema, Joe Malin, and Tyler
          Breisacher contributed corrections and improvements.</p>

          <p>François Marier maintains the Debian package
          originally created by Daniel Baumann.</p>

          <p>My gratitude goes to many others for your support and
          praise. I’m tempted to quote you here, but it might raise
          expectations to ridiculous heights.</p>

          <p>If I’ve left you out by mistake, please tell me or
          just send me a patch!</p>

          <div class="itemizedlist" title="Free Git hosting">
            <p class="title"><b>Free Git hosting</b></p>

            <ul class="itemizedlist" type="disc">
              <li class="listitem"><a class="ulink" href=
              "http://repo.or.cz/" target=
              "_top">http://repo.or.cz/</a> hosts free projects.
              The first Git hosting site. Founded and maintained by
              one of the earliest Git developers.</li>

              <li class="listitem"><a class="ulink" href=
              "http://gitorious.org/" target=
              "_top">http://gitorious.org/</a> is another Git
              hosting site aimed at open-source projects.</li>

              <li class="listitem"><a class="ulink" href=
              "http://github.com/" target=
              "_top">http://github.com/</a> hosts open-source
              projects for free, and private projects for a
              fee.</li>
            </ul>
          </div>

          <p>Many thanks to each of these sites for hosting this
          guide.</p>
        </div>

        <div class="section" title="License">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_license"></a>License</h2>
              </div>
            </div>
          </div>

          <p>This guide is released under <a class="ulink" href=
          "http://www.gnu.org/licenses/gpl-3.0.html" target=
          "_top">the GNU General Public License version 3</a>.
          Naturally, the source is kept in a Git repository, and
          can be obtained by typing:</p>
          <pre class="literallayout">
$ git clone git://repo.or.cz/gitmagic.git  # Creates "gitmagic" directory.
</pre>

          <p>or from one of the mirrors:</p>
          <pre class="literallayout">
$ git clone git://github.com/blynn/gitmagic.git
$ git clone git://gitorious.org/gitmagic/mainline.git
</pre>
        </div>
      </div>

      <div class="chapter" title="Kapitel 1. Einleitung">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a name="_einleitung"></a>Kapitel
              1. Einleitung</h2>
            </div>
          </div>
        </div>

        <div class="toc">
          <p><b>Inhaltsverzeichnis</b></p>

          <dl>
            <dt><span class="section"><a href=
            "#_arbeit_ist_spiel">Arbeit ist Spiel</a></span></dt>

            <dt><span class="section"><a href=
            "#_versionsverwaltung">Versionsverwaltung</a></span></dt>

            <dt><span class="section"><a href=
            "#_verteilte_kontrolle">Verteilte
            Kontrolle</a></span></dt>

            <dt><span class="section"><a href=
            "#_ein_dummer_aberglaube">Ein dummer
            Aberglaube</a></span></dt>

            <dt><span class="section"><a href=
            "#_emphasis_merge_emphasis_konflikte"><span class=
            "emphasis"><em>Merge</em></span>
            Konflikte</a></span></dt>
          </dl>
        </div>

        <p>Ich benutze eine Analogie um in die Versionsverwaltung
        einzuführen. Für eine vernünftigere Erklärung siehe
        <a class="ulink" href=
        "http://de.wikipedia.org/wiki/Versionsverwaltung" target=
        "_top">den Wikipedia Artikel zur
        Versionsverwaltung</a>.</p>

        <div class="section" title="Arbeit ist Spiel">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_arbeit_ist_spiel"></a>Arbeit ist Spiel</h2>
              </div>
            </div>
          </div>

          <p>Ich spiele Computerspiele schon fast mein ganzes
          Leben. Im Gegensatz dazu habe ich erst als Erwachsener
          damit begonnen Versionsverwaltungssysteme zu benutzen.
          Ich vermute, dass ich damit nicht alleine bin und der
          Vergleich hilft vielleicht dabei die Konzepte einfacher
          zu erklären und zu verstehen.</p>

          <p>Stelle dir das Bearbeiten deines Codes oder deiner
          Dokumente wie ein Computerspiel vor. Wenn du gut voran
          gekommen bist, willst du das Erreichte sichern. Um das zu
          tun, klickst du auf auf Speichern in deinem vertrauten
          Editor.</p>

          <p>Aber, das überschreibt die vorherige Version. Das ist
          wie bei den Spielen der alten Schule, die nur
          Speicherplatz für eine Sicherung hatten: sicherlich
          konntest du speichern, aber du konntest nie zu einem
          älteren Stand zurück. Das war eine Schande, denn
          vielleicht war deine vorherige Sicherung an einer
          außergewöhnlich spannenden Stelle des Spiels, zu der du
          später gerne noch einmal zurückkehren möchtest. Oder
          noch schlimmer, deine aktuelle Sicherung ist in einem
          nicht lösbaren Stand, dann musst du von ganz vorne
          beginnen.</p>
        </div>

        <div class="section" title="Versionsverwaltung">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_versionsverwaltung"></a>Versionsverwaltung</h2>
              </div>
            </div>
          </div>

          <p>Beim Editieren kannst du deine Datei durch
          <span class="emphasis"><em>Speichern unter …</em></span>
          mit einem neuen Namen abspeichern oder du kopierst sie
          vor dem Speichern irgendwo hin um die alte Version zu
          erhalten. Außerdem kannst du sie komprimieren um
          Speicherplatz zu sparen. Das ist eine primitive und
          mühselige Form der Versionsverwaltung. Computerspiele
          machten das lange Zeit so, viele von ihnen hatten
          automatisch erstellte Sicherungspunkte mit
          Zeitstempel.</p>

          <p>Jetzt lass uns das Problem etwas komplizierter machen.
          Sagen wir, du hast einen Haufen Dateien, die zusammen
          gehören, z.B. Quellcodes für ein Projekt oder Dateien
          einer Website. Wenn du nun eine alte Version erhalten
          willst, musst du den ganzen Ordner archivieren. Viele
          Versionen auf diese Art zu archivieren ist mühselig und
          kann sehr schnell teuer werden.</p>

          <p>Bei einigen Computerspielen bestand ein gesicherter
          Stand wirklich aus einem Ordner voller Dateien. Diese
          Spiele versteckten die Details vor dem Spieler und
          präsentierten eine bequeme Oberfläche um verschiedene
          Versionen des Ordners zu verwalten.</p>

          <p>Versionsverwaltungen sind nicht anders. Sie alle haben
          bequeme Schnittstellen um Ordner voller Dateien zu
          verwalten. Du kannst den Zustand des Ordners sichern so
          oft du willst und du kannst später jeden Sicherungspunkt
          wieder herstellen. Im Gegensatz zu den meisten
          Computerspielen sind sie aber in der Regel dafür
          ausgelegt sparsam mit dem Speicherplatz umzugehen.
          Normalerweise ändern sich immer nur wenige Dateien
          zwischen zwei Versionen und die Änderungen selbst sind
          oft nicht groß. Die Platzersparnis beruht auf dem
          Speichern der Unterschiede an Stelle einer Kopie der
          ganzen Datei.</p>
        </div>

        <div class="section" title="Verteilte Kontrolle">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_verteilte_kontrolle"></a>Verteilte Kontrolle</h2>
              </div>
            </div>
          </div>

          <p>Nun stell dir ein ganz kompliziertes Computerspiel
          vor. So schwierig zu lösen, dass viele erfahrene Spieler
          auf der ganzen Welt beschließen sich zusammen zu tun und
          ihre gespeicherten Spielstände auszutauschen um das Spiel
          zu beenden. <span class=
          "emphasis"><em>Speedruns</em></span> sind Beispiele aus
          dem echten Leben: Spieler, die sich in unterschiedlichen
          Spielebenen des selben Spiels spezialisiert haben,
          arbeiten zusammen um erstaunliche Ergebnisse zu
          erzielen.</p>

          <p>Wie würdest du ein System erstellen, bei dem jeder auf
          einfache Weise die Sicherungen der anderen bekommt? Und
          eigene Sicherungen bereitstellt?</p>

          <p>Früher nutzte jedes Projekt eine zentralisierte
          Versionsverwaltung. Irgendwo speicherte ein Server alle
          gespeicherten Spiele, sonst niemand. Jeder Spieler hatte
          nur ein paar gespeicherte Spiele auf seinem Rechner. Wenn
          ein Spieler einen Fortschritt machen wollte, musste er
          den aktuellsten Stand vom Hauptserver herunterladen, eine
          Weile spielen, sichern und den Stand dann wieder auf den
          Server laden, damit irgendjemand ihn nutzen kann.</p>

          <p>Was, wenn ein Spieler aus irgendeinem Grund einen
          alten Spielstand will? Vielleicht ist der aktuell
          gesicherte Spielstand nicht mehr lösbar, weil jemand in
          der dritten Ebene vergessen hat ein Objekt aufzunehmen
          und sie versuchen den letzten Spielstand zu finden, ab
          dem das Spiel wieder lösbar ist. Oder sie wollen zwei
          Spielstände vergleichen, um festzustellen wie viel ein
          Spieler geleistet hat.</p>

          <p>Es gibt viele Gründe warum man einen älteren Stand
          sehen will, aber das Ergebnis ist das selbe. Man muss vom
          Hauptserver das alte gespeicherte Spiel anfordern. Je
          mehr gespeicherte Spiele benötigt werden, desto mehr
          Kommunikation ist erforderlich.</p>

          <p>Die neue Generation der Versionsverwaltungssysteme, zu
          denen Git gehört, werden verteilte Systeme genannt und
          können als eine Verallgemeinerung der zentralisierten
          Systeme verstanden werden. Wenn Spieler vom Hauptserver
          herunterladen, erhalten sie jedes gespeichertes Spiel,
          nicht nur das zuletzt gespeicherte. Es ist als ob der
          Hauptserver gespiegelt wird.</p>

          <p>Dieses erste <span class=
          "emphasis"><em>Cloning</em></span> kann teuer sein, vor
          allem, wenn eine lange Geschichte existiert, aber auf
          Dauer wird es sich lohnen. Ein unmittelbarer Vorteil ist,
          wenn aus irgendeinem Grund ein älterer Stand benötigt
          wird, ist keine Kommunikation mit dem Hauptserver
          notwendig.</p>
        </div>

        <div class="section" title="Ein dummer Aberglaube">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_ein_dummer_aberglaube"></a>Ein dummer
                Aberglaube</h2>
              </div>
            </div>
          </div>

          <p>Ein weit verbreitetes Missverständnis ist, dass
          verteilte System ungeeignet sind für Projekte, die ein
          offizielles zentrales <span class=
          "emphasis"><em>Repository</em></span> benötigen. Nichts
          könnte weiter von der Wahrheit entfernt sein. Jemanden zu
          fotografieren stiehlt nicht dessen Seele. Genauso wenig
          setzt das <span class="emphasis"><em>Clonen</em></span>
          des zentralen <span class=
          "emphasis"><em>Repository</em></span> dessen Bedeutung
          herab.</p>

          <p>Eine gute erste Annäherung ist, dass alles was eine
          zentralisierte Versionsverwaltung kann, ein gut
          durchdachtes verteiltes System besser kann.
          Netzwerkressourcen sind einfach teurer als lokale
          Ressourcen. Auch wenn wir später Nachteile beim
          verteilten Ansatz sehen werden, ist man mit dieser
          Faustregel weniger anfällig für falsche Vergleiche.</p>

          <p>Ein kleines Projekt mag nur einen Bruchteil der
          Möglichkeiten benötigen, die so ein System bietet. Aber
          deshalb ein einfacheres, schlecht erweiterbares System zu
          benutzen, ist wie römische Ziffern zum Rechnen mit
          kleinen Zahlen zu verwenden.</p>

          <p>Außerdem könnte dein Projekt weit über die
          ursprünglichen Erwartungen hinauswachsen. Git von Anfang
          an zu benutzen, ist wie ein Schweizer Taschenmesser mit
          sich zu tragen, auch wenn damit meistens nur Flaschen
          geöffnet werden. Eines Tages brauchst du vielleicht
          dringend einen Schraubendreher, dann bist du froh mehr
          als nur einen einfachen Flaschenöffner bei dir zu
          haben.</p>
        </div>

        <div class="section" title="Merge Konflikte">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_emphasis_merge_emphasis_konflikte"></a><span class="emphasis"><em>Merge</em></span>
                Konflikte</h2>
              </div>
            </div>
          </div>

          <p>Für diesen Punkt ist unsere Computerspielanalogie
          ungeeignet. Stattdessen stellen wir uns wieder vor, wir
          editieren ein Dokument.</p>

          <p>Stell dir vor, Alice fügt eine Zeile am Dateianfang
          hinzu und Bob eine am Dateiende. Beide laden ihre
          Änderungen hoch. Die meisten Systeme wählen automatisch
          eine vernünftige Vorgehensweise: akzeptiere beide
          Änderungen und füge sie zusammen, damit fließen beide
          Änderungen in das Dokument mit ein.</p>

          <p>Nun stell dir vor beide, Alice und Bob, machen
          Änderungen in der selben Zeile. Dann ist es unmöglich
          ohne menschlichen Eingriff fortzufahren. Die zweite
          Person, welche die Datei hoch lädt, wird über einen
          <span class="emphasis"><em>'Merge' Konflikt</em></span>
          informiert und muss entscheiden, welche Änderung
          übernommen wird oder die ganze Zeile überarbeiten.</p>

          <p>Es können noch weitaus kompliziertere Situationen
          entstehen. Versionsverwaltungssysteme behandeln die
          einfacheren Fälle selbst und überlassen die schwierigen
          uns Menschen. Üblicherweise ist deren Verhalten
          einstellbar.</p>
        </div>
      </div>

      <div class="chapter" title="Kapitel 2. Erste Schritte">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a name=
              "_erste_schritte"></a>Kapitel 2. Erste Schritte</h2>
            </div>
          </div>
        </div>

        <div class="toc">
          <p><b>Inhaltsverzeichnis</b></p>

          <dl>
            <dt><span class="section"><a href=
            "#_stand_sichern">Stand sichern</a></span></dt>

            <dt><span class="section"><a href=
            "#_hinzuf_gen_l_schen_umbenennen">Hinzufügen, Löschen,
            Umbenennen</a></span></dt>

            <dt><span class="section"><a href=
            "#_fortgeschrittenes_r_ckg_ngig_machen_wiederherstellen">
            Fortgeschrittenes Rückgängig
            machen/Wiederherstellen</a></span></dt>

            <dt><span class="section"><a href=
            "#_r_ckg_ngig_machen">Rückgängig machen</a></span></dt>

            <dt><span class="section"><a href=
            "#_changelog_erstellen">Changelog
            erstellen</a></span></dt>

            <dt><span class="section"><a href=
            "#_dateien_herunterladen">Dateien
            herunterladen</a></span></dt>

            <dt><span class="section"><a href=
            "#_das_neueste_vom_neuen">Das Neueste vom
            Neuen</a></span></dt>

            <dt><span class="section"><a href=
            "#_einfaches_ver_ffentlichen">Einfaches
            Veröffentlichen</a></span></dt>

            <dt><span class="section"><a href=
            "#_was_habe_ich_getan">Was habe ich
            getan?</a></span></dt>

            <dt><span class="section"><a href=
            "#_bung">Übung</a></span></dt>
          </dl>
        </div>

        <p>Bevor wir uns in ein Meer von Git-Befehlen stürzen,
        schauen wir uns ein paar einfache Beispiele an. Trotz ihrer
        Einfachheit, sind alle davon wichtig und nützlich. Um
        ehrlich zu sein, meine ersten Monate mit Git brauchte ich
        nicht mehr als in diesem Kapitel beschrieben steht.</p>

        <div class="section" title="Stand sichern">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_stand_sichern"></a>Stand sichern</h2>
              </div>
            </div>
          </div>

          <p>Hast du gravierende Änderungen vor? Nur zu, aber
          speichere deinen aktuellen Stand vorher lieber nochmal
          ab:</p>
          <pre class="literallayout">
$ git init
$ git add .
$ git commit -m "Meine erste Sicherung"
</pre>

          <p>Falls deine Änderungen schief gehen, kannst du jetzt
          die alte Version wiederherstellen:</p>
          <pre class="literallayout">
$ git reset --hard
</pre>

          <p>Um den neuen Stand zu sichern:</p>
          <pre class="literallayout">
$ git commit -a -m "Eine andere Sicherung"
</pre>
        </div>

        <div class="section" title=
        "Hinzufügen, Löschen, Umbenennen">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_hinzuf_gen_l_schen_umbenennen"></a>Hinzufügen,
                Löschen, Umbenennen</h2>
              </div>
            </div>
          </div>

          <p>Bisher kümmert sich Git nur um Dateien, die
          existierten, als du das erste Mal <span class=
          "strong"><strong>git add</strong></span> ausgeführt hast.
          Wenn du Dateien oder Verzeichnisse hinzufügst, musst du
          Git das mitteilen:</p>
          <pre class="literallayout">
$ git add readme.txt Dokumentation
</pre>

          <p>Ebenso, wenn Git Dateien vergessen soll:</p>
          <pre class="literallayout">
$ git rm ramsch.h veraltet.c
$ git rm -r belastendes/material/
</pre>

          <p>Git löscht diese Dateien für dich, falls du es noch
          nicht getan hast.</p>

          <p>Eine Datei umzubenennen ist das selbe wie sie zu
          löschen und unter neuem Namen hinzuzufügen. Git benutzt
          hierzu die Abkürzung <span class="strong"><strong>git
          mv</strong></span>, welche die gleiche Syntax wie
          <span class="strong"><strong>mv</strong></span> hat. Zum
          Beispiel:</p>
          <pre class="literallayout">
$ git mv fehler.c feature.c
</pre>
        </div>

        <div class="section" title=
        "Fortgeschrittenes Rückgängig machen/Wiederherstellen">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_fortgeschrittenes_r_ckg_ngig_machen_wiederherstellen">
                </a>Fortgeschrittenes Rückgängig
                machen/Wiederherstellen</h2>
              </div>
            </div>
          </div>

          <p>Manchmal möchtest du einfach zurück gehen und alle
          Änderungen ab einem bestimmten Zeitpunkt verwerfen, weil
          sie falsch waren. Dann:</p>
          <pre class="literallayout">
$ git log
</pre>

          <p>zeigt dir eine Liste der bisherigen <span class=
          "emphasis"><em>Commits</em></span> und deren SHA1
          Hashwerte:</p>
          <pre class="screen">
commit 766f9881690d240ba334153047649b8b8f11c664
Author: Bob &lt;bob@example.com&gt;
Date:   Tue Mar 14 01:59:26 2000 -0800

    Ersetze printf() mit write().

commit 82f5ea346a2e651544956a8653c0f58dc151275c
Author: Alice &lt;alice@example.com&gt;
Date:   Thu Jan 1 00:00:00 1970 +0000

    Initial commit.
</pre>

          <p>Die ersten paar Zeichen eines Hashwert reichen aus um
          einen <span class="emphasis"><em>Commit</em></span> zu
          identifizieren; alternativ benutze kopieren und einfügen
          für den kompletten Hashwert. Gib ein:</p>
          <pre class="literallayout">
$ git reset --hard 766f
</pre>

          <p>um den Stand eines bestimmten <span class=
          "emphasis"><em>Commits</em></span> wieder herzustellen
          und alle nachfolgenden Änderungen für immer zu
          löschen.</p>

          <p>Ein anderes Mal willst du nur kurz zu einem älteren
          Stand springen. In diesem Fall, gib folgendes ein:</p>
          <pre class="literallayout">
$ git checkout 82f5
</pre>

          <p>Damit springst du in der Zeit zurück, behältst aber
          neuere Änderungen. Aber, wie bei Zeitreisen in einem
          Science-Fiction-Film, wenn du jetzt etwas änderst und
          <span class="emphasis"><em>commitest</em></span>,
          gelangst du in ein alternative Realität, denn deine
          Änderungen sind anders als beim früheren <span class=
          "emphasis"><em>Commit</em></span>.</p>

          <p>Diese alternative Realität heißt <span class=
          "emphasis"><em>Branch</em></span> und <a class="link"
          href="#branch">wir kommen später darauf zurück</a>. Für
          jetzt, merke dir</p>
          <pre class="literallayout">
$ git checkout master
</pre>

          <p>bringt dich wieder in die Gegenwart. Um zu verhindern,
          dass sich Git beschwert, solltest du vor einem
          <span class="emphasis"><em>Checkout</em></span> alle
          Änderungen <span class=
          "emphasis"><em>commiten</em></span> oder <span class=
          "emphasis"><em>reseten</em></span>.</p>

          <p>Um wieder die Computerspielanalogie anzuwenden:</p>

          <div class="itemizedlist">
            <ul class="itemizedlist" type="disc">
              <li class="listitem"><span class=
              "strong"><strong><code class="literal">git reset
              --hard</code></strong></span>: Lade einen alten Stand
              und lösche alle Spielstände, die neuer sind als der
              jetzt geladene.</li>

              <li class="listitem"><span class=
              "strong"><strong><code class="literal">git
              checkout</code></strong></span>: Lade einen alten
              Spielstand, aber wenn du weiterspielst, wird der
              Spielstand von den früher gesicherten Spielständen
              abweichen. Jeder Spielstand, der ab jetzt gesichert
              wird, entsteht in dem separaten <span class=
              "emphasis"><em>Branch</em></span>, welcher der
              alternative Realität entspricht. <a class="link"
              href="#branch">Dazu kommen wir später</a>.</li>
            </ul>
          </div>

          <p>Du kannst auch nur einzelne Dateien oder Verzeichnisse
          wiederherstellen indem du sie an den Befehl anhängst:</p>
          <pre class="literallayout">
$ git checkout 82f5 eine.datei andere.datei
</pre>

          <p>Sei Vorsichtig, diese Art des <span class=
          "emphasis"><em><span class=
          "strong"><strong>Checkout</strong></span></em></span>
          kann Dateien überschreiben, ohne dass du etwas merkst. Um
          Unfälle zu vermeiden solltest du immer <span class=
          "emphasis"><em>commiten</em></span> bevor du ein
          <span class="emphasis"><em>Checkout</em></span> machst,
          besonders am Anfang wenn du Git noch erlernst. Allgemein
          gilt: Wenn du unsicher bist, egal ob ein Git Befehl oder
          irgendeine andere Operation, führe zuerst <span class=
          "strong"><strong>git commit -a</strong></span> aus.</p>

          <p>Du magst Kopieren und Einfügen von Hashes nicht? Dann
          nutze:</p>
          <pre class="literallayout">
$ git checkout :/"Meine erste Si"
</pre>

          <p>um zu einem <span class=
          "emphasis"><em>Commit</em></span> zu springen, dessen
          Beschreibung so anfängt. Du kannst auch nach dem 5.
          letzten <span class="emphasis"><em>Commit</em></span>
          fragen:</p>
          <pre class="literallayout">
$ git checkout master~5
</pre>
        </div>

        <div class="section" title="Rückgängig machen">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_r_ckg_ngig_machen"></a>Rückgängig machen</h2>
              </div>
            </div>
          </div>

          <p>In einem Gerichtssaal können Ereignisse aus den Akten
          gelöscht werden. Ähnlich kannst du gezielt <span class=
          "emphasis"><em>Commits</em></span> rückgängig machen.</p>
          <pre class="literallayout">
$ git commit -a
$ git revert 1b6d
</pre>

          <p>wird den <span class="emphasis"><em>Commit</em></span>
          mit dem angegebenen Hashwert rückgängig machen. Das
          Rückgängig machen wird als neuer <span class=
          "emphasis"><em>Commit</em></span> erstellt, was mit
          <span class="strong"><strong>git log</strong></span>
          überprüft werden kann.</p>
        </div>

        <div class="section" title="Changelog erstellen">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_changelog_erstellen"></a>Changelog erstellen</h2>
              </div>
            </div>
          </div>

          <p>Verschiedene Projekte benötigen ein <a class="ulink"
          href=
          "http://de.wikipedia.org/wiki/%C3%84nderungsprotokoll"
          target="_top">Änderungsprotokoll</a>. Das kannst du mit
          folgendem Befehl erstellen:</p>
          <pre class="literallayout">
$ git log &gt; ChangeLog
</pre>
        </div>

        <div class="section" title="Dateien herunterladen">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_dateien_herunterladen"></a>Dateien
                herunterladen</h2>
              </div>
            </div>
          </div>

          <p>Eine Kopie eines mit Git verwalteten Projekts bekommst
          du mit:</p>
          <pre class="literallayout">
$ git clone git://server/pfad/zu/dateien
</pre>

          <p>Um zum Beispiel alle Dateien zu bekommen, die ich zum
          Erzeugen dieser Seiten benutze:</p>
          <pre class="literallayout">
$ git clone git://git.or.cz/gitmagic.git
</pre>

          <p>Es gibt gleich noch viel mehr über den <span class=
          "emphasis"><em>clone</em></span> Befehl zu sagen.</p>
        </div>

        <div class="section" title="Das Neueste vom Neuen">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_das_neueste_vom_neuen"></a>Das Neueste vom
                Neuen</h2>
              </div>
            </div>
          </div>

          <p>Wenn du schon eine Kopie eines Projektes hast, kannst
          du es auf die neuste Version aktualisieren mit:</p>
          <pre class="literallayout">
$ git pull
</pre>
        </div>

        <div class="section" title="Einfaches Veröffentlichen">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_einfaches_ver_ffentlichen"></a>Einfaches
                Veröffentlichen</h2>
              </div>
            </div>
          </div>

          <p>Angenommen du hast ein Skript geschrieben und möchtest
          es anderen zugänglich machen. Du könntest sie einfach
          bitten es von deinem Computer herunterzuladen, aber falls
          sie das tun während du experimentierst oder das Skript
          verbesserst könnten sie in Schwierigkeiten geraten. Genau
          deswegen gibt es Releasezyklen. Entwickler arbeiten
          regelmäßig an einem Projekt, veröffentlichen den Code
          aber nur, wenn sie ihn für vorzeigbar halten.</p>

          <p>Um dies in Git zu tun, gehe ins Verzeichnis in dem das
          Skript liegt:</p>
          <pre class="literallayout">
$ git init
$ git add .
$ git commit -m "Erster Stand"
</pre>

          <p>Dann sage deinen Nutzern:</p>
          <pre class="literallayout">
$ git clone dein.computer:/pfad/zum/skript
</pre>

          <p>um dein Skript herunterzuladen. Das setzt voraus, dass
          sie einen SSH-Zugang haben. Falls nicht, führe
          <span class="strong"><strong>git deamon</strong></span>
          aus und sage den Nutzern folgendes:</p>
          <pre class="literallayout">
$ git clone git://dein.computer/pfad/zum/skript
</pre>

          <p>Ab jetzt, immer wenn dein Skript reif für eine
          Veröffentlichung ist:</p>
          <pre class="literallayout">
$ git commit -a -m "Nächster Stand"
</pre>

          <p>und deine Nutzer können ihr Skript aktualisieren
          mit:</p>
          <pre class="literallayout">
$ git pull
</pre>

          <p>Deine Nutzer werden nie mit Versionen in Kontakt
          kommen, von denen du es nicht willst. Natürlich
          funktioniert der Trick für fast alles, nicht nur
          Skripts.</p>
        </div>

        <div class="section" title="Was habe ich getan?">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_was_habe_ich_getan"></a>Was habe ich getan?</h2>
              </div>
            </div>
          </div>

          <p>Finde heraus was du seit dem letzten <span class=
          "emphasis"><em>Commit</em></span> getan hast:</p>
          <pre class="literallayout">
$ git diff
</pre>

          <p>Oder seit Gestern:</p>
          <pre class="literallayout">
$ git diff "@{gestern}"
</pre>

          <p>Oder zwischen irgendeiner Version und der
          vorvorletzten:</p>
          <pre class="literallayout">
$ git diff 1b6d "master~2"
</pre>

          <p>Jedes mal ist die Ausgabe ein <span class=
          "emphasis"><em>Patch</em></span> der mit <span class=
          "strong"><strong>git apply</strong></span> eingespielt
          werden kann. Versuche auch:</p>
          <pre class="literallayout">
$ git whatchanged --since="2 weeks ago"
</pre>

          <p>Um mir die Geschichte eines <span class=
          "emphasis"><em>Repositories</em></span> anzuzeigen
          benutze ich häufig <a class="ulink" href=
          "http://sourceforge.net/projects/qgit" target=
          "_top">qgit</a> da es eine schicke Benutzeroberfläche
          hat, oder <a class="ulink" href=
          "http://jonas.nitro.dk/tig/" target="_top">tig</a>, eine
          Konsolenanwendung, die sehr gut über langsame
          Verbindungen funktioniert. Alternativ kannst du einen
          Webserver installieren mit <span class=
          "strong"><strong>git instaweb</strong></span>, dann
          kannst du mit jedem Webbrowser darauf zugreifen.</p>
        </div>

        <div class="section" title="Übung">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_bung"></a>Übung</h2>
              </div>
            </div>
          </div>

          <p>A, B, C, D sind 4 aufeinander folgende <span class=
          "emphasis"><em>Commits</em></span>. B ist identisch mit
          A, außer dass einige Dateien gelöscht wurden. Wir möchten
          die Dateien in D wieder hinzufügen, aber nicht in B. Wie
          machen wir das?</p>

          <p>Es gibt mindestens 3 Lösungen. Angenommen, wir sind
          bei D:</p>

          <div class="orderedlist">
            <ol class="orderedlist" type="1">
              <li class="listitem">
                <p class="simpara">Der Unterschied zwischen A und B
                sind die gelöschten Dateien. Wir können einen
                <span class="emphasis"><em>Patch</em></span>
                erstellen, der diesen Unterschied darstellt und
                diesen dann auf D anwenden:</p>
                <pre class="literallayout">
$ git diff B A | git apply
</pre>
              </li>

              <li class="listitem">
                <p class="simpara">Da die Dateien im <span class=
                "emphasis"><em>Repository</em></span> unter dem
                <span class="emphasis"><em>Commit</em></span> A
                gespeichert sind, können wir sie wieder
                herstellen:</p>
                <pre class="literallayout">
$ git checkout A foo.c bar.h
</pre>
              </li>

              <li class="listitem">
                <p class="simpara">Wir können den <span class=
                "emphasis"><em>Commit</em></span> von A auf B als
                Änderung betrachten, die wir rückgängig machen
                wollen:</p>
                <pre class="literallayout">
$ git revert B
</pre>
              </li>
            </ol>
          </div>

          <p>Welche Lösung ist die beste? Die, welche dir am besten
          gefällt. Es ist einfach mit Git das zu bekommen was du
          willst und oft führen viele Wege zum Ziel.</p>
        </div>
      </div>

      <div class="chapter" title="Kapitel 3. Rund ums Clonen">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a name=
              "_rund_ums_emphasis_clonen_emphasis"></a>Kapitel 3.
              Rund ums <span class=
              "emphasis"><em>Clonen</em></span></h2>
            </div>
          </div>
        </div>

        <div class="toc">
          <p><b>Inhaltsverzeichnis</b></p>

          <dl>
            <dt><span class="section"><a href=
            "#_computer_synchronisieren">Computer
            synchronisieren</a></span></dt>

            <dt><span class="section"><a href=
            "#_klassische_quellcodeverwaltung">Klassische
            Quellcodeverwaltung</a></span></dt>

            <dt><span class="section"><a href=
            "#_emphasis_nackte_repositories_emphasis"><span class=
            "emphasis"><em>Nackte
            Repositories</em></span></a></span></dt>

            <dt><span class="section"><a href=
            "#_emphasis_push_emphasis_oder_emphasis_pull_emphasis"><span class="emphasis">
            <em>Push</em></span> oder <span class=
            "emphasis"><em>Pull</em></span></a></span></dt>

            <dt><span class="section"><a href=
            "#_emphasis_fork_emphasis_eines_projekts"><span class=
            "emphasis"><em>Fork</em></span> eines
            Projekts</a></span></dt>

            <dt><span class="section"><a href=
            "#_ultimative_datensicherung">Ultimative
            Datensicherung</a></span></dt>

            <dt><span class="section"><a href=
            "#_multitasking_mit_lichtgeschwindigkeit">Multitasking
            mit Lichtgeschwindigkeit</a></span></dt>

            <dt><span class="section"><a href=
            "#_versionsverwaltung_im_untergrund">Versionsverwaltung
            im Untergrund</a></span></dt>

            <dt><span class="section"><a href=
            "#_mercurial">Mercurial</a></span></dt>

            <dt><span class="section"><a href=
            "#_bazaar">Bazaar</a></span></dt>

            <dt><span class="section"><a href=
            "#_warum_ich_git_benutze">Warum ich Git
            benutze</a></span></dt>
          </dl>
        </div>

        <p>In älteren Versionsverwaltungssystemen ist <span class=
        "emphasis"><em>checkout</em></span> die Standardoperation
        um Dateien zu bekommen. Du bekommst einen Haufen Dateien
        eines bestimmten Sicherungsstands.</p>

        <p>In Git und anderen verteilten
        Versionsverwaltungssystemen ist <span class=
        "emphasis"><em>clone</em></span> die Standardaktion. Um
        Dateien zu bekommen, erstellst du einen <span class=
        "emphasis"><em>Clone</em></span> des gesamten <span class=
        "emphasis"><em>Repository</em></span>. Oder anders gesagt,
        du spiegelst den zentralen Server. Alles, was man mit dem
        zentralen <span class="emphasis"><em>Repository</em></span>
        tun kann, kannst du auch mit deinem <span class=
        "emphasis"><em>Clone</em></span> tun.</p>

        <div class="section" title="Computer synchronisieren">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_computer_synchronisieren"></a>Computer
                synchronisieren</h2>
              </div>
            </div>
          </div>

          <p>Es ist akzeptabel, für Datensicherungen und einfaches
          Synchronisieren, mit <span class=
          "emphasis"><em>tarball</em></span> Archiven oder
          <span class="strong"><strong>rsync</strong></span> zu
          arbeiten. Aber manchmal arbeite ich an meinem Laptop,
          dann an meinem Desktop-PC und die beiden haben sich
          inzwischen nicht austauschen können.</p>

          <p>Erstelle ein Git <span class=
          "emphasis"><em>Repository</em></span> und <span class=
          "emphasis"><em>commite</em></span> deine Dateien auf dem
          einen Rechner. Dann auf dem anderen:</p>
          <pre class="literallayout">
$ git clone anderer.computer:/pfad/zu/dateien
</pre>

          <p>um eine zweite Kopie der Dateien und des Git
          <span class="emphasis"><em>Repository</em></span> zu
          erstellen. Von jetzt an wird</p>
          <pre class="literallayout">
$ git commit -a
$ git pull anderer.computer:/pfad/zu/dateien HEAD
</pre>

          <p>den Zustand der Dateien des anderen Computer auf den
          übertragen, an dem du gerade arbeitest. Solltest du
          kürzlich konkurrierende Änderungen an der selben Datei
          vorgenommen haben, lässt Git dich das wissen und musst
          erneut <span class="emphasis"><em>commiten</em></span>
          nachdem du die Konflikte aufgelöst hast.</p>
        </div>

        <div class="section" title=
        "Klassische Quellcodeverwaltung">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_klassische_quellcodeverwaltung"></a>Klassische
                Quellcodeverwaltung</h2>
              </div>
            </div>
          </div>

          <p>Erstelle ein Git <span class=
          "emphasis"><em>Repository</em></span> für deine
          Dateien:</p>
          <pre class="literallayout">
$ git init
$ git add .
$ git commit -m "Erster Commit"
</pre>

          <p>Auf dem zentralen Server erstelle ein <span class=
          "emphasis"><em>bare Repository</em></span> in irgendeinem
          Ordner:</p>
          <pre class="literallayout">
$ mkdir proj.git
$ cd proj.git
$ git init --bare
$  # einzeilige Variante: GIT_DIR=proj.git git init
</pre>

          <p>Wenn nötig, starte den Git-Dämon:</p>
          <pre class="literallayout">
$ git daemon --detach  # er könnte schon laufen
</pre>

          <p>Für Git Hostingdienste folge den Anweisungen zum
          Erstellen des zunächst leeren Git <span class=
          "emphasis"><em>Repository</em></span>. Normalerweise
          füllt man ein Formular auf einer Website aus.</p>

          <p>Übertrage (<span class=
          "emphasis"><em>push</em></span>) dein Projekt auf den
          zentralen Server mit:</p>
          <pre class="literallayout">
$ git push git://zentraler.server/pfad/zu/proj.git HEAD
</pre>

          <p>Um die Quellcodes abzurufen gibt ein Entwickler
          folgendes ein:</p>
          <pre class="literallayout">
$ git clone git://zentraler.server/pfad/zu/proj.git
</pre>

          <p>Nach dem Bearbeiten sichert der Entwickler die
          Änderungen lokal:</p>
          <pre class="literallayout">
$ git commit -a
</pre>

          <p>Um auf die aktuelle Server-Version zu
          aktualisieren:</p>
          <pre class="literallayout">
$ git pull
</pre>

          <p>Irgendwelche <span class=
          "emphasis"><em>Merge</em></span>-Konflikte sollten dann
          aufgelöst und erneut <span class=
          "emphasis"><em>commitet</em></span> werden:</p>
          <pre class="literallayout">
$ git commit -a
</pre>

          <p>Um die lokalen Änderungen in das zentrale <span class=
          "emphasis"><em>Repository</em></span> zu übertragen:</p>
          <pre class="literallayout">
$ git push
</pre>

          <p>Wenn inzwischen neue Änderungen von anderen
          Entwicklern beim Hauptserver eingegangen sind, schlägt
          dein <span class="emphasis"><em>push</em></span> fehl.
          Aktualisiere das lokale <span class=
          "emphasis"><em>Repository</em></span> erneut mit
          <span class="emphasis"><em>pull</em></span>, löse
          eventuell aufgetretene <span class=
          "emphasis"><em>Merge</em></span>-Konflikte und versuche
          es nochmal.</p>
        </div>

        <div class="section" title="Nackte Repositories">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_emphasis_nackte_repositories_emphasis"></a><span class="emphasis"><em>Nackte
                Repositories</em></span></h2>
              </div>
            </div>
          </div>

          <p>Ein nacktes (<span class=
          "emphasis"><em>bare</em></span>) <span class=
          "emphasis"><em>Repository</em></span> wird so genannt,
          weil es kein Arbeitsverzeichnis hat. Es enthält nur
          Dateien, die normalerweise im <span class=
          "emphasis"><em>.git</em></span> Unterverzeichnis
          versteckt sind. Mit anderen Worten, es verwaltet die
          Geschichte eines Projekts, enthält aber niemals einen
          Auszug irgendeiner beliebigen Version.</p>

          <p>Ein <span class="emphasis"><em>bare
          Repository</em></span> übernimmt die Rolle des
          Hauptserver in einem zentralisierten
          Versionsverwaltungssystem: Das Zuhause deines Projekts.
          Entwickler <span class="emphasis"><em>clonen</em></span>
          dein Projekt davon und <span class=
          "emphasis"><em>pushen</em></span> die letzten offiziellen
          Änderungen dort hin. Meistens befindet es sich auf einem
          Server, der nicht viel tut außer Daten zu verbreiten. Die
          Entwicklung findet in den <span class=
          "emphasis"><em>Clonen</em></span> statt, so kann das
          Heim-<span class="emphasis"><em>Repository</em></span>
          ohne Arbeitsverzeichnis auskommen.</p>

          <p>Viele Git Befehle funktionieren nicht in <span class=
          "emphasis"><em>bare Repositories</em></span>. Es sei denn
          die <code class="literal">GIT_DIR</code>
          Umgebungsvariable wird auf das Arbeitsverzeichnis
          gesetzt, oder die <code class="literal">--bare</code>
          Option wird übergeben.</p>
        </div>

        <div class="section" title="Push oder Pull">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_emphasis_push_emphasis_oder_emphasis_pull_emphasis">
                </a><span class="emphasis"><em>Push</em></span>
                oder <span class=
                "emphasis"><em>Pull</em></span></h2>
              </div>
            </div>
          </div>

          <p>Warum haben wir den <span class=
          "emphasis"><em>push</em></span>-Befehl eingeführt,
          anstatt bei dem vertrauten <span class=
          "emphasis"><em>pull</em></span>-Befehl zu bleiben?
          Zuerst, <span class="emphasis"><em>pull</em></span>
          funktioniert nicht mit <span class="emphasis"><em>bare
          Repositories</em></span>: stattdessen benutze
          <span class="emphasis"><em>fetch</em></span>, ein Befehl,
          den wir später behandeln. Aber auch wenn wir ein normales
          <span class="emphasis"><em>Repository</em></span> auf dem
          zentralen Server halten würden, wäre das <span class=
          "emphasis"><em>pullen</em></span> eine mühselige
          Angelegenheit. Wir müssten uns zuerst in den Server
          einloggen und dem <span class=
          "emphasis"><em>pull</em></span>-Befehl die
          Netzwerkadresse des Computer übergeben, von dem aus wir
          die Änderungen <span class=
          "emphasis"><em>pullen</em></span>, also abholen wollen.
          Firewalls könnten uns stören und was, wenn wir gar keine
          Berechtigung für eine Serverkonsole haben.</p>

          <p>Wie auch immer, abgesehen von diesem Fall, raten wir
          vom <span class="emphasis"><em>Pushen</em></span> in ein
          <span class="emphasis"><em>Repository</em></span> ab.
          Falls das Ziel nämlich ein Arbeitsverzeichnis hat, können
          Verwirrungen entstehen.</p>

          <p>Kurzum, während du lernst mit Git umzugehen,
          <span class="emphasis"><em>pushe</em></span> nur, wenn
          das Ziel ein <span class="emphasis"><em>bare
          Repository</em></span> ist; andernfalls benutze
          <span class="emphasis"><em>pull</em></span>.</p>
        </div>

        <div class="section" title="Fork eines Projekts">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_emphasis_fork_emphasis_eines_projekts"></a><span class="emphasis"><em>Fork</em></span>
                eines Projekts</h2>
              </div>
            </div>
          </div>

          <p>Hast du es satt, wie sich ein Projekt entwickelt? Du
          denkst, du kannst das besser? Dann mache folgendes auf
          deinem Server:</p>
          <pre class="literallayout">
$ git clone git://haupt.server/pfad/zu/dateien
</pre>

          <p>Dann erzähle jedem von deiner <span class=
          "emphasis"><em>Fork</em></span> des Projekts auf deinem
          Server.</p>

          <p>Zu jedem späteren Zeitpunkt kannst du die Änderungen
          des Originalprojekts <span class=
          "emphasis"><em>mergen</em></span> mit:</p>
          <pre class="literallayout">
$ git pull
</pre>
        </div>

        <div class="section" title="Ultimative Datensicherung">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_ultimative_datensicherung"></a>Ultimative
                Datensicherung</h2>
              </div>
            </div>
          </div>

          <p>Du willst zahlreiche, vor Manipulation geschützte,
          redundante Datensicherungen an unterschiedlichen Orten?
          Wenn dein Projekt viele Entwickler hat, musst du nichts
          tun! Jeder <span class="emphasis"><em>Clone</em></span>
          deines Codes ist eine vollwertige Datensicherung. Nicht
          nur des aktuellen Stand, sondern der gesamten Geschichte.
          Wird irgendein <span class=
          "emphasis"><em>Clone</em></span> beschädigt, wird dies
          dank des kryptographischen <span class=
          "emphasis"><em>Hashing</em></span> sofort erkannt, sobald
          derjenige versucht mit anderen zu kommunizieren.</p>

          <p>Wenn dein Projekt nicht so bekannt ist, finde so viele
          Server wie du kannst um dort einen <span class=
          "emphasis"><em>Clone</em></span> zu platzieren.</p>

          <p>Die wirklich Paranoiden sollten immer den letzten
          20-Byte SHA1 Hash des <span class=
          "emphasis"><em>HEAD</em></span> aufschreiben und an einem
          sicheren Ort aufbewahren. Er muss sicher sein, aber nicht
          privat. Zum Beispiel wäre es sicher, ihn in einer Zeitung
          zu veröffentlichen, denn es ist schwer für einen
          Angreifer jede Zeitungskopie zu manipulieren.</p>
        </div>

        <div class="section" title=
        "Multitasking mit Lichtgeschwindigkeit">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_multitasking_mit_lichtgeschwindigkeit"></a>Multitasking
                mit Lichtgeschwindigkeit</h2>
              </div>
            </div>
          </div>

          <p>Nehmen wir an du willst parallel an mehreren
          Funktionen arbeiten. Dann <span class=
          "emphasis"><em>commite</em></span> dein Projekt und gib
          ein:</p>
          <pre class="literallayout">
$ git clone . /irgendein/neuer/ordner
</pre>

          <p>Wann immer es sicher ist nutzt Git Verknüpfungen und
          Dateifreigaben um diesen <span class=
          "emphasis"><em>Clone</em></span> zu erzeugen, deshalb
          wird es blitzartig fertig sein und du kannst nun an zwei
          unabhängigen Funktionen arbeiten. Zum Beispiel kannst du
          im einen <span class="emphasis"><em>Clone</em></span>
          editieren, während der andere übersetzt wird.</p>

          <p>Zu jeder Zeit kannst du <span class=
          "emphasis"><em>commiten</em></span> und die Änderungen
          vom anderen <span class="emphasis"><em>Clone</em></span>
          mit <span class="emphasis"><em>pull</em></span>
          übernehmen.</p>
          <pre class="literallayout">
$ git pull /der/andere/clone HEAD
</pre>
        </div>

        <div class="section" title=
        "Versionsverwaltung im Untergrund">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_versionsverwaltung_im_untergrund"></a>Versionsverwaltung
                im Untergrund</h2>
              </div>
            </div>
          </div>

          <p>Arbeitest du an einem Projekt, das ein anderes
          Versionsverwaltungssystem nutzt und vermisst du Git? Dann
          erstelle ein Git <span class=
          "emphasis"><em>Repository</em></span> in deinem
          Arbeitsverzeichnis:</p>
          <pre class="literallayout">
$ git init
$ git add .
$ git commit -m "Erster Commit"
</pre>

          <p>dann <span class="emphasis"><em>Clone</em></span>
          es:</p>
          <pre class="literallayout">
$ git clone . /irgendein/neuer/ordner
</pre>

          <p>Nun gehe in das neue Verzeichnis und arbeite dort mit
          Git nach Herzenslust. Irgendwann wirst du dann mit den
          anderen synchronisieren wollen, dann gehe in das
          Originalverzeichnis, aktualisiere mit dem anderen
          Versionsverwaltungssystem und gib ein:</p>
          <pre class="literallayout">
$ git add .
$ git commit -m "Synchronisation mit den anderen"
</pre>

          <p>Dann gehe wieder ins neue Verzeichnis und gib ein:</p>
          <pre class="literallayout">
$ git commit -a -m "Beschreibung der Änderungen"
$ git pull
</pre>

          <p>Die Vorgehensweise, wie du deine Änderungen den
          anderen übergibst, hängt vom anderen
          Versionsverwaltungssystem ab. Das neue Verzeichnis
          enthält die Dateien mit deinen Änderungen. Führe die
          Anweisungen des anderen Versionsverwaltungssystems aus,
          die nötig sind um die Dateien ins zentrale <span class=
          "emphasis"><em>Repository</em></span> zu übertragen.</p>

          <p>Subversion, vielleicht das beste zentralisierte
          Versionsverwaltungssystem, wird von unzähligen Projekten
          benutzt. Der <span class="strong"><strong>git
          svn</strong></span>-Befehl automatisiert den zuvor
          genannten Ablauf für Subversion <span class=
          "emphasis"><em>Repositories</em></span> und kann auch
          benutzt werden um <a class="ulink" href=
          "http://google-opensource.blogspot.com/2008/05/export-git-project-to-google-code.html"
          target="_top">ein Git Projekt in ein Subversion
          <span class="emphasis"><em>Repository</em></span> zu
          exportieren</a>.</p>
        </div>

        <div class="section" title="Mercurial">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_mercurial"></a>Mercurial</h2>
              </div>
            </div>
          </div>

          <p>Mercurial ist ein ähnliches Versionsverwaltungssystem,
          das fast nahtlos mit Git zusammenarbeiten kann. Mit der
          <code class="literal">hg-git</code>-Erweiterung kann ein
          Benutzer von Mercurial verlustfrei in ein Git
          <span class="emphasis"><em>Repository</em></span>
          <span class="emphasis"><em>pushen</em></span> und daraus
          <span class="emphasis"><em>pullen</em></span>.</p>

          <p>Beschaffe dir die <code class=
          "literal">hg-git</code>-Erweiterung mit Git:</p>
          <pre class="literallayout">
$ git clone git://github.com/schacon/hg-git.git
</pre>

          <p>oder Mercurial:</p>
          <pre class="literallayout">
$ hg clone http://bitbucket.org/durin42/hg-git/
</pre>

          <p>Leider kenne ich keine solche Erweiterung für Git. Aus
          diesem Grund plädiere ich für Git statt Mercurial für ein
          zentrales <span class=
          "emphasis"><em>Repository</em></span>, auch wenn man
          Mercurial bevorzugt. Bei einem Mercurial Projekt gibt es
          gewöhnlich immer einen Freiwilligen, der parallel dazu
          ein Git <span class="emphasis"><em>Repository</em></span>
          für die Git Anwender unterhält, wogegen, Dank der
          <code class="literal">hg-git</code>-Erweiterung, ein Git
          Projekt automatisch die Benutzer von Mercurial mit
          einbezieht.</p>

          <p>Die Erweiterung kann auch ein Mercurial <span class=
          "emphasis"><em>Repository</em></span> in ein Git
          <span class="emphasis"><em>Repository</em></span>
          umwandeln, indem man in ein leeres <span class=
          "emphasis"><em>Repository</em></span> <span class=
          "emphasis"><em>pushed</em></span>. Einfacher geht das mit
          dem <code class="literal">hg-fast-export.sh</code>
          Skript, welches es hier gibt:</p>
          <pre class="literallayout">
$ git clone git://repo.or.cz/fast-export.git
</pre>

          <p>Zum Konvertieren gib in einem leeren Verzeichnis
          ein:</p>
          <pre class="literallayout">
$ git init
$ hg-fast-export.sh -r /hg/repo
</pre>

          <p>nachdem du das Skript zu deinem <code class=
          "literal">$PATH</code> hinzugefügt hast.</p>
        </div>

        <div class="section" title="Bazaar">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_bazaar"></a>Bazaar</h2>
              </div>
            </div>
          </div>

          <p>Wir erwähnen auch kurz Bazaar, weil es nach Git und
          Mercurial das bekannteste freie verteilte
          Versionsverwaltungssystem ist.</p>

          <p>Bazaar hat den Vorteil des Rückblicks, da es relativ
          jung ist; seine Entwickler konnten aus Fehlern der
          Vergangenheit lernen und kleine historische
          Unwegbarkeiten umgehen. Außerdem waren sich die
          Entwickler der Popularität und Interoperabilität mit
          anderen Versionsverwaltungssystemen bewusst.</p>

          <p>Eine <code class="literal">bzr-git</code>-Erweiterung
          lässt Anwender von Bazaar einigermaßen mit Git
          <span class="emphasis"><em>Repositories</em></span>
          arbeiten. Das <code class="literal">tailor</code>
          Programm konvertiert Bazaar <span class=
          "emphasis"><em>Repositories</em></span> zu Git
          <span class="emphasis"><em>Repositories</em></span> und
          kann das forlaufend tun, während <code class=
          "literal">bzr-fast-export</code> für einmalige
          Konvertierungen besser geeignet ist.</p>
        </div>

        <div class="section" title="Warum ich Git benutze">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_warum_ich_git_benutze"></a>Warum ich Git
                benutze</h2>
              </div>
            </div>
          </div>

          <p>Ich habe ursprünglich Git gewählt, weil ich gehört
          habe, dass es die unvorstellbar unüberschaubaren Linux
          Kernel Quellcodes verwalten kann. Ich hatte noch keinen
          Grund zu wechseln. Git hat mir bewundernswert gedient und
          hat mich bis jetzt noch nie im Stich gelassen. Da ich in
          erster Linie unter Linux arbeite, sind Probleme anderer
          Plattformen bedeutungslos.</p>

          <p>Ich bevorzuge auch C-Programme und <span class=
          "emphasis"><em>bash</em></span>-Skripte gegenüber
          Anwendungen wie zum Beispiel Python Skripts: Es gibt
          weniger Abhängigkeiten und ich bin süchtig nach schellen
          Ausführungszeiten.</p>

          <p>Ich dachte darüber nach, wie Git verbessert werden
          könnte, ging sogar so weit, dass ich meine eigene
          Git-Ähnliche Anwendung schrieb, allerdings nur als
          akademische Übungen. Hätte ich mein Projekt fertig
          gestellt, wäre ich trotzdem bei Git geblieben, denn die
          Verbesserungen wären zu gering gewesen um den Einsatz
          eines Eigenbrödler-Systems zu rechtfertigen.</p>

          <p>Natürlich können deine Bedürfnisse und Wünsche ganz
          anders sein und vielleicht bist du mit einem anderen
          System besser dran. Wie auch immer, mit Git kannst du
          nicht viel falsch machen.</p>
        </div>
      </div>

      <div class="chapter" title="Kapitel 4. Branch-Magie">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a name=
              "_emphasis_branch_emphasis_magie"></a>Kapitel 4.
              <span class=
              "emphasis"><em>Branch</em></span>-Magie</h2>
            </div>
          </div>
        </div>

        <div class="toc">
          <p><b>Inhaltsverzeichnis</b></p>

          <dl>
            <dt><span class="section"><a href=
            "#_die_chef_taste">Die Chef-Taste</a></span></dt>

            <dt><span class="section"><a href=
            "#_schmutzarbeit">Schmutzarbeit</a></span></dt>

            <dt><span class="section"><a href=
            "#_schnelle_fehlerbehebung">Schnelle
            Fehlerbehebung</a></span></dt>

            <dt><span class="section"><a href=
            "#_emphasis_mergen_emphasis"><span class=
            "emphasis"><em>Mergen</em></span></a></span></dt>

            <dt><span class="section"><a href=
            "#_kontinuierlicher_arbeitsfluss">Kontinuierlicher
            Arbeitsfluss</a></span></dt>

            <dt><span class="section"><a href=
            "#_mischmasch_reorganisieren">Mischmasch
            Reorganisieren</a></span></dt>

            <dt><span class="section"><a href=
            "#_emphasis_branches_emphasis_verwalten"><span class=
            "emphasis"><em>Branches</em></span>
            verwalten</a></span></dt>

            <dt><span class="section"><a href=
            "#_tempor_re_emphasis_branches_emphasis">Temporäre
            <span class=
            "emphasis"><em>Branches</em></span></a></span></dt>

            <dt><span class="section"><a href=
            "#_arbeite_wie_du_willst">Arbeite wie du
            willst</a></span></dt>
          </dl>
        </div>

        <p>Unverzügliches <span class=
        "emphasis"><em>Branchen</em></span> und <span class=
        "emphasis"><em>Mergen</em></span> sind die hervorstechenden
        Eigenschaften von Git.</p>

        <p><span class="strong"><strong>Problem</strong></span>:
        Externe Faktoren zwingen zum Wechsel des Kontext. Ein
        schwerwiegender Fehler in der veröffentlichten Version
        tritt ohne Vorwarnung auf. Die Frist für ein bestimmtes
        Leistungsmerkmal rückt näher. Ein Entwickler, dessen
        Unterstützung für eine Schlüsselstelle im Projekt wichtig
        ist, verlässt das Team. In allen Fällen musst du alles
        stehen und liegen lassen und dich auf eine komplett andere
        Aufgabe konzentrieren.</p>

        <p>Den Gedankengang zu unterbrechen ist schlecht für die
        Produktivität und je komplizierter der Kontextwechsel ist,
        desto größer ist der Verlust. Mit zentraler
        Versionsverwaltung müssen wir eine neue Arbeitskopie vom
        Server herunterladen. Bei verteilen Systemen ist das viel
        besser, da wir die benötigt Version lokal <span class=
        "emphasis"><em>clonen</em></span> können.</p>

        <p>Doch das <span class="emphasis"><em>Clonen</em></span>
        bringt das Kopieren des gesamten Arbeitsverzeichnis wie
        auch die ganze Geschichte bis zum angegebenen Punkt mit
        sich. Auch wenn Git die Kosten durch Dateifreigaben und
        Verknüpfungen reduziert, müssen doch die gesamten
        Projektdateien im neuen Arbeitsverzeichnis erstellt
        werden.</p>

        <p><span class="strong"><strong>Lösung</strong></span>: Git
        hat ein besseres Werkzeug für diese Situationen, die
        wesentlich schneller und platzsparender als <span class=
        "emphasis"><em>clonen</em></span> ist: <span class=
        "strong"><strong>git branch</strong></span>.</p>

        <p>Mit diesem Zauberwort verwandeln sich die Dateien in
        deinem Arbeitsverzeichnis plötzlich von einer Version in
        eine andere. Diese Verwandlung kann mehr als nur in der
        Geschichte vor und zurück gehen. Deine Dateien können sich
        verwandeln, vom aktuellsten Stand, zur experimentellen
        Version, zum neusten Entwicklungsstand, zur Version deines
        Freundes und so weiter.</p>

        <div class="section" title="Die Chef-Taste">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_die_chef_taste"></a>Die Chef-Taste</h2>
              </div>
            </div>
          </div>

          <p>Hast du schon einmal ein Spiel gespielt, wo beim
          Drücken einer Taste (“der Chef-Taste”), der Monitor
          sofort ein Tabellenblatt oder etwas anderes angezeigt
          hat? Dass, wenn der Chef ins Büro spaziert, während du
          das Spiel spielst, du es schnell verstecken kannst?</p>

          <p>In irgendeinem Verzeichnis:</p>
          <pre class="literallayout">
$ echo "Ich bin klüger als mein Chef" &gt; meinedatei.txt
$ git init
$ git add .
$ git commit -m "Erster Stand"
</pre>

          <p>Wir haben ein Git <span class=
          "emphasis"><em>Repository</em></span> erstellt, das eine
          Textdatei mit einer bestimmten Nachricht enthält. Nun gib
          ein:</p>
          <pre class="literallayout">
$ git checkout -b chef  # scheinbar hat sich danach nichts geändert
$ echo "Mein Chef ist klüger als ich" &gt; meinedatei.txt
$ git commit -a -m "Ein anderer Stand"
</pre>

          <p>Es sieht aus als hätten wir unsere Datei überschrieben
          und <span class="emphasis"><em>commitet</em></span>. Aber
          es ist eine Illusion. Tippe:</p>
          <pre class="literallayout">
$ git checkout master  # wechsle zur Originalversion der Datei
</pre>

          <p>und Simsalabim! Die Textdatei ist wiederhergestellt.
          Und wenn der Chef in diesem Verzeichnis herumschnüffelt,
          tippe:</p>
          <pre class="literallayout">
$ git checkout chef  # wechsle zur Version die der Chef ruhig sehen kann
</pre>

          <p>Du kannst zwischen den beiden Versionen wechseln, so
          oft du willst und du kannst unabhängig voneinander in
          jeder Version Änderungen <span class=
          "emphasis"><em>commiten</em></span></p>
        </div>

        <div class="section" title="Schmutzarbeit">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_schmutzarbeit"></a>Schmutzarbeit</h2>
              </div>
            </div>
          </div>

          <p><a name="branch" id="branch"></a> Sagen wir, du
          arbeitest an einer Funktion und du musst, warum auch
          immer, drei Versionen zurückgehen um ein paar print
          Anweisungen einzufügen, damit du siehst, wie etwas
          funktioniert. Dann:</p>
          <pre class="literallayout">
$ git commit -a
$ git checkout HEAD~3
</pre>

          <p>Nun kannst du überall wild temporären Code hinzufügen.
          Du kannst diese Änderungen sogar <span class=
          "emphasis"><em>commiten</em></span>. Wenn du fertig
          bist,</p>
          <pre class="literallayout">
$ git checkout master
</pre>

          <p>um zur ursprünglichen Arbeit zurückzukehren. Beachte,
          dass alle Änderungen, die nicht <span class=
          "emphasis"><em>commitet</em></span> sind übernommen
          werden.</p>

          <p>Was, wenn du am Ende die temporären Änderungen sichern
          willst? Einfach:</p>
          <pre class="literallayout">
$ git checkout -b schmutzig
</pre>

          <p>und <span class="emphasis"><em>commite</em></span>
          bevor du auf den <span class="emphasis"><em>Master
          Branch</em></span> zurückschaltest. Wann immer du zu
          deiner Schmutzarbeit zurückkehren willst, tippe
          einfach:</p>
          <pre class="literallayout">
$ git checkout schnmutzig
</pre>

          <p>Wir sind mit dieser Anweisung schon in einem früheren
          Kapitel in Berührung gekommen, als wir das Laden alter
          Stände besprochen haben. Nun können wir die ganze
          Geschichte erzählen: Die Dateien ändern sich zu dem
          angeforderten Stand, aber wir müssen den <span class=
          "emphasis"><em>Master Branch</em></span> verlassen. Jeder
          <span class="emphasis"><em>Commit</em></span> ab jetzt
          führt deine Dateien auf einen anderen Weg, dem wir später
          noch einen Namen geben können.</p>

          <p>Mit anderen Worten, nach dem Abrufen eines alten
          Stands versetzt dich Git automatisch in einen neuen,
          unbenannten <span class=
          "emphasis"><em>Branch</em></span>, der mit <span class=
          "strong"><strong>git checkout -b</strong></span> benannt
          und gesichert werden kann.</p>
        </div>

        <div class="section" title="Schnelle Fehlerbehebung">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_schnelle_fehlerbehebung"></a>Schnelle
                Fehlerbehebung</h2>
              </div>
            </div>
          </div>

          <p>Du steckst mitten in der Arbeit, als es heißt alles
          fallen zu lassen um einen neu entdeckten Fehler in
          <span class="emphasis"><em>Commit</em></span>
          <code class="literal">1b6d...</code> zu beheben:</p>
          <pre class="literallayout">
$ git commit -a
$ git checkout -b fixes 1b6d
</pre>

          <p>Dann, wenn du den Fehler behoben hast:</p>
          <pre class="literallayout">
$ git commit -a -m "Fehler behoben"
$ git push  # ins zentrale 'Repository'
$ git checkout master
</pre>

          <p>und fahre mit deiner ursprünglichen Arbeit fort.</p>

          <p>Du kannst die Fehlerbehebung, die du gerade gemacht
          hast, auch <span class="emphasis"><em>mergen</em></span>.
          Entweder durch:</p>
          <pre class="literallayout">
$ git merge fixes
</pre>

          <p>oder:</p>
          <pre class="literallayout">
$ git pull
</pre>

          <p>da du die Fehlerbehebung schon ins zentrale
          <span class="emphasis"><em>Repository</em></span>
          ge’pushed' hast.</p>
        </div>

        <div class="section" title="Mergen">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_emphasis_mergen_emphasis"></a><span class=
                "emphasis"><em>Mergen</em></span></h2>
              </div>
            </div>
          </div>

          <p>Mit einigen Versionsverwaltungssystemen ist das
          Erstellen eines <span class=
          "emphasis"><em>Branch</em></span> einfach, aber das
          Zusammenfügen (<span class=
          "emphasis"><em>Mergen</em></span>) ist schwierig. Mit Git
          ist <span class="emphasis"><em>Mergen</em></span> so
          einfach, dass du gar nicht merkst, wenn es passiert.</p>

          <p>Tatsächlich sind wir dem <span class=
          "emphasis"><em>Mergen</em></span> schon lange begegnet.
          Die <span class="strong"><strong>pull</strong></span>
          Anweisung holt (<span class=
          "emphasis"><em>fetch</em></span>) eigentlich die
          <span class="emphasis"><em>Commits</em></span> und
          verschmilzt (<span class=
          "emphasis"><em>merged</em></span>) diese dann mit dem
          aktuellen <span class="emphasis"><em>Branch</em></span>.
          Wenn du keine lokalen Änderungen hast, dann ist
          <span class="emphasis"><em>merge</em></span> eine
          <span class="emphasis"><em>schnelle
          Weiterleitung</em></span>, ein Ausnahmefall, ähnlich dem
          Abrufen der letzten Version eines zentralen
          Versionsverwaltungssystems. Wenn du aber Änderungen hast,
          wird Git diese automatisch <span class=
          "emphasis"><em>mergen</em></span> und dir Konflikte
          melden.</p>

          <p>Normalerweise hat ein <span class=
          "emphasis"><em>Commit</em></span> genau einen
          Eltern-<span class="emphasis"><em>Commit</em></span>,
          nämlich den vorhergehenden <span class=
          "emphasis"><em>Commit</em></span>. Das <span class=
          "emphasis"><em>Mergen</em></span> mehrerer <span class=
          "emphasis"><em>Branches</em></span> erzeugt einen
          <span class="emphasis"><em>Commit</em></span> mit
          mindestens zwei Eltern. Das wirft die Frage auf: Welchen
          <span class="emphasis"><em>Commit</em></span>
          referenziert <code class="literal">HEAD~10</code>
          tatsächlich? Ein <span class=
          "emphasis"><em>Commit</em></span> kann mehrere Eltern
          haben, welchem folgen wir also?</p>

          <p>Es stellt sich heraus, dass diese Notation immer den
          ersten Elternteil wählt. Dies ist erstrebenswert, denn
          der aktuelle <span class=
          "emphasis"><em>Branch</em></span> wird zum ersten
          Elternteil während eines <span class=
          "emphasis"><em>Merge</em></span>; häufig bist du nur von
          Änderungen betroffen, die du im aktuellen <span class=
          "emphasis"><em>Branch</em></span> gemacht hast, als von
          den Änderungen die von anderen <span class=
          "emphasis"><em>Branches</em></span> eingebracht
          wurden.</p>

          <p>Du kannst einen bestimmten Elternteil mit einem
          Caret-Zeichen referenzieren. Um zum Beispiel die Logs vom
          zweiten Elternteil anzuzeigen:</p>
          <pre class="literallayout">
$ git log HEAD^2
</pre>

          <p>Du kannst die Nummer für den ersten Elternteil
          weglassen. Um zum Beispiel die Unterschiede zum ersten
          Elternteil anzuzeigen:</p>
          <pre class="literallayout">
$ git diff HEAD^
</pre>

          <p>Du kannst diese Notation mit anderen Typen
          kombinieren. Zum Beispiel:</p>
          <pre class="literallayout">
$ git checkout 1b6d^^2~10 -b uralt
</pre>

          <p>beginnt einen neuen <span class=
          "emphasis"><em>Branch</em></span> “uralt”, welcher den
          Stand 10 <span class="emphasis"><em>Commits</em></span>
          zurück vom zweiten Elternteil des ersten Elternteil des
          <span class="emphasis"><em>Commits</em></span>, dessen
          Hashwert mit 1b6d beginnt.</p>
        </div>

        <div class="section" title="Kontinuierlicher Arbeitsfluss">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_kontinuierlicher_arbeitsfluss"></a>Kontinuierlicher
                Arbeitsfluss</h2>
              </div>
            </div>
          </div>

          <p>In Herstellungsprozessen muss der zweiter Schritt
          eines Plans oft auf die Fertigstellung des ersten Schritt
          warten. Ein Auto, das repariert werden soll, steht
          unbenutzt in der Garage bis ein Ersatzteil geliefert
          wird. Ein Prototyp muss warten, bis ein Baustein
          fabriziert wurde, bevor die Konstruktion fortgesetzt
          werden kann.</p>

          <p>Bei Softwareprojekten kann das ähnlich sein. Der
          zweite Teil eines Leistungsmerkmals muss warten, bis der
          erste Teil veröffentlicht und getestet wurde. Einige
          Projekte erfordern, dass dein Code überprüft werden muss
          bevor er akzeptiert wird, du musst also warten, bis der
          erste Teil geprüft wurde, bevor du mit dem zweiten Teil
          anfangen kannst.</p>

          <p>Dank des schmerzlosen <span class=
          "emphasis"><em>Branchen</em></span> und <span class=
          "emphasis"><em>Mergen</em></span> können wir die Regeln
          beugen und am Teil II arbeiten, bevor Teil I offiziell
          freigegeben wurde. Angenommen du hast Teil I <span class=
          "emphasis"><em>commitet</em></span> und zur Prüfung
          eingereicht. Sagen wir du bist im <code class=
          "literal">master</code> <span class=
          "emphasis"><em>Branch</em></span>. Dann <span class=
          "emphasis"><em>branche</em></span> zu Teil II:</p>
          <pre class="literallayout">
$ git checkout -b teil2
</pre>

          <p>Du arbeitest also an Teil II und <span class=
          "emphasis"><em>commitest</em></span> deine Änderungen
          regelmäßig. Irren ist menschlich und so kann es
          vorkommen, dass du zurück zu Teil I willst um einen
          Fehler zu beheben. Wenn du Glück hast oder sehr gut bist,
          kannst du die nächsten Zeilen überspringen.</p>
          <pre class="literallayout">
$ git checkout master  # Gehe zurück zu Teil I.
$ fix_problem
$ git commit -a        # 'Commite' die Lösung.
$ git checkout teil2   # Gehe zurück zu Teil II.
$ git merge master     # 'Merge' die Lösung.
</pre>

          <p>Schließlich, Teil I ist zugelassen:</p>
          <pre class="literallayout">
$ git checkout master  # Gehe zurück zu Teil I.
$ submit files         # Veröffentliche deine Dateien!
$ git merge teil2      # 'Merge' in Teil II.
$ git branch -d teil2
</pre>

          <p>Nun bist du wieder im <code class=
          "literal">master</code> <span class=
          "emphasis"><em>Branch</em></span>, mit Teil II im
          Arbeitsverzeichnis.</p>

          <p>Es ist einfach, diesen Trick auf eine beliebige Anzahl
          von Teilen zu erweitern. Es ist genauso einfach
          rückwirkend zu <span class=
          "emphasis"><em>branchen</em></span>: angenommen, du
          merkst zu spät, dass vor sieben <span class=
          "emphasis"><em>Commits</em></span> ein <span class=
          "emphasis"><em>Branch</em></span> erforderlich gewesen
          wäre. Dann tippe:</p>
          <pre class="literallayout">
$ git branch -m master teil2
$  # Umbenennen des 'Branch' "master" zu "teil2".
$ git checkout HEAD~7 -b master
</pre>

          <p>Der <code class="literal">master</code> <span class=
          "emphasis"><em>Branch</em></span> enthält nun nur den
          Teil I und der <code class="literal">teil2</code>
          <span class="emphasis"><em>Branch</em></span> enthält den
          Rest.</p>
        </div>

        <div class="section" title="Mischmasch Reorganisieren">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_mischmasch_reorganisieren"></a>Mischmasch
                Reorganisieren</h2>
              </div>
            </div>
          </div>

          <p>Vielleicht magst du es, alle Aspekte eines Projekts im
          selben <span class="emphasis"><em>Branch</em></span>
          abzuarbeiten. Du willst deine laufenden Arbeiten für dich
          behalten und andere sollen deine <span class=
          "emphasis"><em>Commits</em></span> nur sehen, wenn du sie
          hübsch organisiert hast. Beginne ein paar <span class=
          "emphasis"><em>Branches</em></span>:</p>
          <pre class="literallayout">
$ git checkout -b bereinigt
$ git checkout -b mischmasch
</pre>

          <p>Fahre fort alles zu bearbeiten: Behebe Fehler, füge
          Funktionen hinzu, erstelle temporären Code und so weiter
          und <span class="emphasis"><em>commite</em></span> deine
          Änderungen oft. Dann:</p>
          <pre class="literallayout">
$ git checkout bereinigt
$ git cherry-pick mischmasch^^
</pre>

          <p>wendet den Urahn des obersten <span class=
          "emphasis"><em>Commit</em></span> des “mischmasch”
          <span class="emphasis"><em>Branch</em></span> auf den
          “bereinigt” <span class="emphasis"><em>Branch</em></span>
          an. Durch das Herauspicken der Rosinen kannst du einen
          <span class="emphasis"><em>Branch</em></span>
          konstruieren, der nur endgültigen Code enthält und
          zusammengehörige <span class=
          "emphasis"><em>Commits</em></span> gruppiert hat.</p>
        </div>

        <div class="section" title="Branches verwalten">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_emphasis_branches_emphasis_verwalten"></a><span class="emphasis"><em>Branches</em></span>
                verwalten</h2>
              </div>
            </div>
          </div>

          <p>Ein Liste aller <span class=
          "emphasis"><em>Branches</em></span> bekommst du mit:</p>
          <pre class="literallayout">
$ git branch
</pre>

          <p>Standardmäßig beginnst du in einem <span class=
          "emphasis"><em>Branch</em></span> namens “master”. Einige
          plädieren dafür, den “master” <span class=
          "emphasis"><em>Branch</em></span> unangetastet zu lassen
          und für seine Arbeit einen neuen <span class=
          "emphasis"><em>Branch</em></span> anzulegen.</p>

          <p>Die <span class="strong"><strong>-d</strong></span>
          und <span class="strong"><strong>-m</strong></span>
          Optionen erlauben dir <span class=
          "emphasis"><em>Branches</em></span> zu löschen und zu
          verschieben (umzubenennen). Siehe <span class=
          "strong"><strong>git help branch</strong></span>.</p>

          <p>Der “master” <span class=
          "emphasis"><em>Branch</em></span> ist ein nützlicher
          Brauch. Andere können davon ausgehen, dass dein
          <span class="emphasis"><em>Repository</em></span> einen
          <span class="emphasis"><em>Branch</em></span> mit diesem
          Namen hat und dass er die offizielle Version enthält.
          Auch wenn du den “master” <span class=
          "emphasis"><em>Branch</em></span> umbenennen oder
          auslöschen könntest, kannst du diese Konvention aber auch
          respektieren.</p>
        </div>

        <div class="section" title="Temporäre Branches">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_tempor_re_emphasis_branches_emphasis"></a>Temporäre
                <span class=
                "emphasis"><em>Branches</em></span></h2>
              </div>
            </div>
          </div>

          <p>Nach einer Weile wirst du feststellen, dass du
          regelmäßig kurzlebige <span class=
          "emphasis"><em>Branches</em></span> erzeugst, meist aus
          dem gleichen Grund: jeder neue <span class=
          "emphasis"><em>Branch</em></span> dient lediglich dazu,
          den aktuellen Stand zu sichern, damit du kurz zu einem
          alten Stand zurück kannst um eine vorrangige
          Fehlerbehebung zu machen oder irgendetwas anderes.</p>

          <p>Es ist vergleichbar mit dem kurzzeitigen Umschalten
          des Fernsehkanals um zu sehen was auf dem anderen Kanal
          los ist. Doch anstelle ein paar Knöpfe zu drücken, machst
          du <span class="emphasis"><em>create</em></span>,
          <span class="emphasis"><em>check out</em></span>,
          <span class="emphasis"><em>merge</em></span> und
          <span class="emphasis"><em>delete</em></span> von
          temporären <span class=
          "emphasis"><em>Branches</em></span>. Glücklicherweise hat
          Git eine Abkürzung dafür, die genauso komfortabel ist wie
          eine Fernbedienung:</p>
          <pre class="literallayout">
$ git stash
</pre>

          <p>Das sichert den aktuellen Stand an einem temporären
          Ort (<span class=
          "emphasis"><em>stash</em></span>=Versteck) und stellt den
          vorherigen Stand wieder her. Dein Arbeitsverzeichnis
          erscheint wieder exakt in dem Zustand wie es war, bevor
          du anfingst zu editieren. Nun kannst du Fehler beheben,
          Änderungen vom zentralen <span class=
          "emphasis"><em>Repository</em></span> holen (<span class=
          "emphasis"><em>pull</em></span>) und so weiter. Wenn du
          wieder zurück zu deinen Änderungen willst, tippe:</p>
          <pre class="literallayout">
$ git stash apply  # Es kann sein, dass du Konflikte auflösen musst.
</pre>

          <p>Du kannst mehrere <span class=
          "emphasis"><em>stashes</em></span> haben und diese
          unterschiedlich handhaben. Siehe <span class=
          "strong"><strong>git help stash</strong></span>. Wie du
          dir vielleicht schon gedacht hast, verwendet Git
          <span class="emphasis"><em>Branches</em></span> im
          Hintergrund um diesen Zaubertrick durchzuführen.</p>
        </div>

        <div class="section" title="Arbeite wie du willst">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_arbeite_wie_du_willst"></a>Arbeite wie du
                willst</h2>
              </div>
            </div>
          </div>

          <p>Du magst dich fragen, ob <span class=
          "emphasis"><em>Branches</em></span> diesen Aufwand Wert
          sind. Immerhin sind <span class=
          "emphasis"><em>Clone</em></span> fast genauso schnell und
          du kannst mit <span class=
          "strong"><strong>cd</strong></span> anstelle von
          esoterischen Git Befehlen zwischen ihnen wechseln.</p>

          <p>Betrachten wir Webbrowser. Warum mehrere Tabs
          unterstützen und mehrere Fenster? Weil beides zu erlauben
          eine Vielzahl an Stilen unterstützt. Einige Anwender
          möchten nur ein Browserfenster geöffnet haben und
          benutzen Tabs für unterschiedliche Webseiten. Andere
          bestehen auf dem anderen Extrem: mehrere Fenster, ganz
          ohne Tabs. Wieder andere bevorzugen irgendetwas
          dazwischen.</p>

          <p><span class="emphasis"><em>Branchen</em></span> ist
          wie Tabs für dein Arbeitsverzeichnis und <span class=
          "emphasis"><em>Clonen</em></span> ist wie das Öffnen
          eines neuen Browserfenster. Diese Operationen sind
          schnell und lokal, also warum nicht damit experimentieren
          um die beste Kombination für sich selbst zu finden? Git
          lässt dich genauso arbeiten, wie du es willst.</p>
        </div>
      </div>

      <div class="chapter" title="Kapitel 5. Geschichtsstunde">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a name=
              "_geschichtsstunde"></a>Kapitel 5.
              Geschichtsstunde</h2>
            </div>
          </div>
        </div>

        <div class="toc">
          <p><b>Inhaltsverzeichnis</b></p>

          <dl>
            <dt><span class="section"><a href=
            "#_ich_nehme_alles_zur_ck">Ich nehme alles
            zurück</a></span></dt>

            <dt><span class="section"><a href=
            "#_8230_und_noch_viel_mehr">… und noch viel
            mehr</a></span></dt>

            <dt><span class="section"><a href=
            "#_lokale_nderungen_zum_schlu">Lokale Änderungen zum
            Schluß</a></span></dt>

            <dt><span class="section"><a href=
            "#_chronik_umschreiben">Chronik
            umschreiben</a></span></dt>

            <dt><span class="section"><a href=
            "#_geschichte_machen">Geschichte machen</a></span></dt>

            <dt><span class="section"><a href=
            "#_wo_ging_alles_schief">Wo ging alles
            schief?</a></span></dt>

            <dt><span class="section"><a href=
            "#_wer_ist_verantwortlich">Wer ist
            verantwortlich?</a></span></dt>

            <dt><span class="section"><a href=
            "#_pers_nliche_erfahrungen">Persönliche
            Erfahrungen</a></span></dt>
          </dl>
        </div>

        <p>Eine Folge von Git’s verteilter Natur ist, dass die
        Chronik einfach verändert werden kann. Aber, wenn du an der
        Vergangenheit manipulierst, sei vorsichtig: verändere nur
        den Teil der Chronik, den du ganz alleine hast. So wie
        Nationen ewig diskutieren, wer welche Greueltaten
        vollbracht hat, wirst du beim Abgleichen in Schwierigkeiten
        geraten, falls jemand einen <span class=
        "emphasis"><em>Clone</em></span> mit abweichender Chronik
        hat und die Zweige sich austauschen sollen.</p>

        <p>Einige Entwickler setzen sich nachhaltig für die
        Unantastbarkeit der Chronik ein, mit allen Fehlern,
        Nachteilen und Mängeln. Andere denken, daß Zweige
        vorzeigbar gemacht werden sollten, bevor sie auf die
        Öffentlichkeit losgelassen werden. Git versteht beide
        Gesichtspunkte. Wie <span class=
        "emphasis"><em>Clonen</em></span>, <span class=
        "emphasis"><em>Branchen</em></span> und <span class=
        "emphasis"><em>Mergen</em></span> ist das Umschreiben der
        Chronik lediglich eine weitere Stärke, die Git dir bietet.
        Es liegt an dir diese weise zu nutzen.</p>

        <div class="section" title="Ich nehme alles zurück">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_ich_nehme_alles_zur_ck"></a>Ich nehme alles
                zurück</h2>
              </div>
            </div>
          </div>

          <p>Hast du gerade <span class=
          "emphasis"><em>commitet</em></span>, aber du hättest
          gerne eine andere Beschreibung eingegeben? Dann gib
          ein:</p>
          <pre class="literallayout">
$ git commit --amend
</pre>

          <p>um die letzte Beschreibung zu ändern. Du merkst, dass
          du vergessen hast eine Datei hinzuzufügen? Führe
          <span class="strong"><strong>git add</strong></span> aus
          um sie hinzuzufügen und dann die vorhergehende
          Anweisung.</p>

          <p>Du willst noch ein paar Änderungen zu deinem letzten
          <span class="emphasis"><em>Commit</em></span> hinzufügen?
          Dann mache diese Änderungen und gib ein:</p>
          <pre class="literallayout">
$ git commit --amend -a
</pre>
        </div>

        <div class="section" title="… und noch viel mehr">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_8230_und_noch_viel_mehr"></a>… und noch viel
                mehr</h2>
              </div>
            </div>
          </div>

          <p>Nehmen wir jetzt an, das vorherige Problem ist zehnmal
          schlimmer. Nach einer längeren Sitzung hast du einen
          Haufen <span class="emphasis"><em>Commits</em></span>
          gemacht. Aber du bist mit der Art der Organisation nicht
          glücklich und einige <span class=
          "emphasis"><em>Commits</em></span> könnten etwas
          umformuliert werden. Dann gib ein:</p>
          <pre class="literallayout">
$ git rebase -i HEAD~10
</pre>

          <p>und die letzten zehn <span class=
          "emphasis"><em>Commits</em></span> erscheinen in deinem
          bevorzugten $EDITOR. Auszug aus einem Beispiel:</p>
          <pre class="literallayout">
pick 5c6eb73 Link repo.or.cz hinzugefügt
pick a311a64 Analogien in "Arbeite wie du willst" umorganisiert
pick 100834f Push-Ziel zum Makefile hinzugefügt
</pre>

          <p>Dann:</p>

          <div class="itemizedlist">
            <ul class="itemizedlist" type="disc">
              <li class="listitem">Entferne <span class=
              "emphasis"><em>Commits</em></span> durch das Löschen
              von Zeilen.</li>

              <li class="listitem">Organisiere <span class=
              "emphasis"><em>Commits</em></span> durch verschieben
              von Zeilen.</li>

              <li class="listitem">
                <p class="simpara">Ersetze <code class=
                "literal">pick</code> mit:</p>

                <div class="itemizedlist">
                  <ul class="itemizedlist" type="circle">
                    <li class="listitem"><code class=
                    "literal">edit</code> um einen <span class=
                    "emphasis"><em>Commit</em></span> für
                    <span class="emphasis"><em>amends</em></span>
                    zu markieren.</li>

                    <li class="listitem"><code class=
                    "literal">reword</code> um die Log-Beschreibung
                    zu ändern.</li>

                    <li class="listitem"><code class=
                    "literal">squash</code> um einen <span class=
                    "emphasis"><em>Commit</em></span> mit dem
                    vorhergehenden zu vereinen (<span class=
                    "emphasis"><em>merge</em></span>).</li>

                    <li class="listitem"><code class=
                    "literal">fixup</code> um einen <span class=
                    "emphasis"><em>Commit</em></span> mit dem
                    vorhergehenden zu vereinen (<span class=
                    "emphasis"><em>merge</em></span>) und die
                    Log-Beschreibung zu verwerfen.</li>
                  </ul>
                </div>
              </li>
            </ul>
          </div>

          <p>Speichere und Beende. Wenn du einen <span class=
          "emphasis"><em>Commit</em></span> mit <span class=
          "emphasis"><em>edit</em></span> markiert hast, gib
          ein:</p>
          <pre class="literallayout">
$ git commit --amend
</pre>

          <p>Ansonsten:</p>
          <pre class="literallayout">
$ git rebase --continue
</pre>

          <p>Also <span class="emphasis"><em>commite</em></span>
          früh und oft: du kannst später mit <span class=
          "emphasis"><em>rebase</em></span> aufräumen.</p>
        </div>

        <div class="section" title="Lokale Änderungen zum Schluß">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_lokale_nderungen_zum_schlu"></a>Lokale Änderungen
                zum Schluß</h2>
              </div>
            </div>
          </div>

          <p>Du arbeitest an einem aktiven Projekt. Über die Zeit
          haben sich einige lokale <span class=
          "emphasis"><em>Commits</em></span> angesammelt und dann
          synchronisierst du mit einem <span class=
          "emphasis"><em>Merge</em></span> mit dem offiziellen
          Zweig. Dieser Zyklus wiederholt sich ein paar Mal bevor
          du zum <span class="emphasis"><em>Pushen</em></span> in
          den zentralen Zweig bereit bist.</p>

          <p>Aber nun ist die Chronik in deinem lokalen
          Git-<span class="emphasis"><em>Clone</em></span> ein
          chaotisches Durcheinander deiner Änderungen und den
          Änderungen vom offiziellen Zweig. Du willst alle Deine
          Änderungen lieber in einem fortlaufenden Abschnitt und
          hinter den offiziellen Änderungen sehen.</p>

          <p>Das ist eine Aufgabe für <span class=
          "strong"><strong>git rebase</strong></span>, wie oben
          beschrieben. In vielen Fällen kannst du den <span class=
          "strong"><strong>--onto</strong></span> Schalter benutzen
          um Interaktion zu vermeiden.</p>

          <p>Siehe auch <span class="strong"><strong>git help
          rebase</strong></span> für ausführliche Beispiele dieser
          erstaunlichen Anweisung. Du kannst auch <span class=
          "emphasis"><em>Commits</em></span> aufteilen. Du kannst
          sogar <span class="emphasis"><em>Branches</em></span> in
          einem <span class="emphasis"><em>Repository</em></span>
          umorganisieren.</p>
        </div>

        <div class="section" title="Chronik umschreiben">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_chronik_umschreiben"></a>Chronik umschreiben</h2>
              </div>
            </div>
          </div>

          <p>Gelegentlich brauchst du Versionsverwaltung
          vergleichbar dem Wegretuschieren von Personen aus einem
          offiziellen Foto, um diese in stalinistischer Art aus der
          Geschichte zu löschen. Stell dir zum Beispiel vor, du
          willst ein Projekt veröffentlichen, aber es enthält eine
          Datei, die aus irgendwelchen Gründen privat bleiben muss.
          Vielleicht habe ich meine Kreditkartennummer in einer
          Textdatei notiert und diese versehentlich dem Projekt
          hinzugefügt. Die Datei zu löschen ist zwecklos, da über
          ältere <span class="emphasis"><em>Commits</em></span> auf
          sie zugegriffen werden könnte. Wir müssen die Datei aus
          allen <span class="emphasis"><em>Commits</em></span>
          entfernen:</p>
          <pre class="literallayout">
$ git filter-branch --tree-filter 'rm sehr/geheime/Datei' HEAD
</pre>

          <p>Siehe <span class="strong"><strong>git help
          filter-branch</strong></span>, wo dieses Beispiel erklärt
          und eine schnellere Methode vorstellt wird. Allgemein,
          <span class=
          "strong"><strong>filter-branch</strong></span> lässt dich
          große Bereiche der Chronik mit einer einzigen Anweisung
          verändern.</p>

          <p>Danach beschreibt der Ordner <code class=
          "literal">.git/refs/original</code> den Zustand der Lage
          vor der Operation. Prüfe, ob die <span class=
          "emphasis"><em>filter-branch</em></span> Anweisung getan
          hat was du wolltest, dann lösche dieses Verzeichnis bevor
          du weitere <span class=
          "emphasis"><em>filter-branch</em></span> Operationen
          durchführst.</p>

          <p>Zuletzt, ersetze alle <span class=
          "emphasis"><em>Clones</em></span> deines Projekts mit
          deiner überarbeiteten Version, falls du später mit ihnen
          interagieren möchtest.</p>
        </div>

        <div class="section" title="Geschichte machen">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_geschichte_machen"></a>Geschichte machen</h2>
              </div>
            </div>
          </div>

          <p><a name="makinghistory" id="makinghistory"></a> Du
          möchtest ein Projekt zu Git umziehen? Wenn es mit einem
          der bekannteren Systeme verwaltet wird, besteht die
          Möglichkeit, dass schon jemand ein Skript geschrieben
          hat, das die gesamte Chronik für Git exportiert.</p>

          <p>Anderenfalls, sieh dir <span class=
          "strong"><strong>git fast-import</strong></span> an, das
          Text in einem speziellen Format einliest um eine Git
          Chronik von Anfang an zu erstellen. Normalerweise wird
          ein Skript, das diese Anweisung benutzt, hastig
          zusammengeschustert und einmalig ausgeführt um das
          Projekt in einem einzigen Lauf zu migrieren.</p>

          <p>As an example, paste the following listing into
          temporary file, such as <code class=
          "literal">/tmp/history</code>:</p>
          <pre class="screen">
commit refs/heads/master committer Alice &lt;alice@example.com&gt; Thu, 01 Jan
1970 00:00:00 +0000 data &lt;&lt;EOT Initial commit.  EOT

M 100644 inline hello.c data &lt;&lt;EOT #include &lt;stdio.h&gt;

int main() {
  printf("Hallo, Welt!\n");
  return 0;
}
EOT


commit refs/heads/master committer Bob &lt;bob@example.com&gt; Tue, 14 Mar 2000
01:59:26 -0800 data &lt;&lt;EOT Ersetze printf() mit write().  EOT

M 100644 inline hello.c data &lt;&lt;EOT #include &lt;unistd.h&gt;

int main() {
  write(1, "Hallo, Welt!\n", 14);
  return 0;
}
EOT
</pre>

          <p>Dann, erstelle ein Git <span class=
          "emphasis"><em>Repository</em></span> aus dieser
          temporären Datei, durch Eingabe von:</p>
          <pre class="literallayout">
$ mkdir project; cd project; git init
$ git fast-import --date-format=rfc2822 &lt; /tmp/history
</pre>

          <p>Die aktuellste Version des Projekts kannst du abrufen
          (<span class="emphasis"><em>checkout</em></span>)
          mit:</p>
          <pre class="literallayout">
$ git checkout master .
</pre>

          <p>Die Anweisung <span class="strong"><strong>git
          fast-export</strong></span> konvertiert jedes
          <span class="emphasis"><em>Repository</em></span> in das
          <span class="strong"><strong>git
          fast-import</strong></span> Format, diese Ausgabe kannst
          du studieren um Exporteure zu schreiben und außerdem um
          <span class="emphasis"><em>Repositories</em></span> in
          Klartext zu übertragen. untersuchen wes you can study for
          writing exporters, and also to transport repositories in
          a human-readable format. Wirklich, diese Anweisung kann
          Klartext-<span class=
          "emphasis"><em>Repositories</em></span> über reine
          Textkanäle übertragen.</p>
        </div>

        <div class="section" title="Wo ging alles schief?">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_wo_ging_alles_schief"></a>Wo ging alles
                schief?</h2>
              </div>
            </div>
          </div>

          <p>Du hast gerade ein Funktion in deiner Anwendung
          entdeckt, die nicht mehr funktioniert und du weißt
          sicher, dass sie vor ein paar Monaten noch ging. Argh! Wo
          kommt dieser Fehler her? Hättest du nur die Funktion
          während der Entwicklung getestet.</p>

          <p>Dafür ist es nun zu spät. Wie auch immer,
          vorausgesetzt du hast oft <span class=
          "emphasis"><em>comittet</em></span>, kann Git dir sagen,
          wo das Problem liegt:</p>
          <pre class="literallayout">
$ git bisect start
$ git bisect bad HEAD
$ git bisect good 1b6d
</pre>

          <p>Git ruft eine Stand ab, der genau dazwischen liegt.
          Teste die Funktion und wenn sich immer noch nicht
          funktioniert:</p>
          <pre class="literallayout">
$ git bisect bad
</pre>

          <p>Wenn nicht, ersetzte "bad" mit "good". Git versetzt
          dich wieder auf einen Stand genau zwischen den bekannten
          Versionen "good" und "bad" und reduziert so die
          Möglichkeiten. Nach ein paar Durchläufen wird dich diese
          binäre Suche zu dem <span class=
          "emphasis"><em>Commit</em></span> führen, der die
          Probleme verursacht. Wenn du deine Ermittlungen
          abgeschlossen hast, kehre zum Originalstand zurück
          mit:</p>
          <pre class="literallayout">
$ git bisect reset
</pre>

          <p>Anstatt jede Änderung per Hand zu untersuchen,
          automatisiere die Suche durch Ausführen von:</p>
          <pre class="literallayout">
$ git bisect run mein_skript
</pre>

          <p>Git benutzt den Rückgabewert der übergebenen
          Anweisung, normalerweise ein Skript für einmalige
          Ausführung, um zu entscheiden, ob eine Änderung gut
          (<span class="emphasis"><em>good</em></span>) oder
          schlecht (<span class="emphasis"><em>bad</em></span>)
          ist: Das Skript sollte 0 für <span class=
          "emphasis"><em>good</em></span> zurückgeben, 125 wenn die
          Änderung übersprungen werden soll und irgendetwas
          zwischen 1 und 127 für <span class=
          "emphasis"><em>bad</em></span>. Ein negativer
          Rückgabewert beendet die <span class=
          "emphasis"><em>bisect</em></span>-Operation sofort.</p>

          <p>Du kannst noch viel mehr machen: die Hilfe erklärt,
          wie man <span class=
          "emphasis"><em>bisect</em></span>-Operationen
          visualisiert, das <span class=
          "emphasis"><em>bisect</em></span>-Log untersucht oder
          wiedergibt und sicher unschuldige Änderungen ausschließt
          um die Suche zu beschleunigen.</p>
        </div>

        <div class="section" title="Wer ist verantwortlich?">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_wer_ist_verantwortlich"></a>Wer ist
                verantwortlich?</h2>
              </div>
            </div>
          </div>

          <p>Wie viele andere Versionsverwaltungssysteme hat Git
          eine <span class="emphasis"><em>blame</em></span>
          Anweisung:</p>
          <pre class="literallayout">
$ git blame bug.c
</pre>

          <p>das jede Zeile in der angegebenen Datei kommentiert um
          anzuzeigen, wer sie zuletzt geändert hat und wann. Im
          Gegensatz zu vielen anderen Versionsverwaltungssystemen
          funktioniert diese Operation offline, es wird nur von der
          lokalen Festplatte gelesen.</p>
        </div>

        <div class="section" title="Persönliche Erfahrungen">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_pers_nliche_erfahrungen"></a>Persönliche
                Erfahrungen</h2>
              </div>
            </div>
          </div>

          <p>In einem zentralisierten Versionsverwaltungssystem ist
          das Bearbeiten der Chronik eine schwierige Angelegenheit
          und den Administratoren vorbehalten. <span class=
          "emphasis"><em>Clonen</em></span>, <span class=
          "emphasis"><em>Branchen</em></span> und <span class=
          "emphasis"><em>Mergen</em></span> sind unmöglich ohne
          Netzwerkverbindung. Ebenso grundlegende Funktionen wie
          das Durchsuchen der Chronik oder das <span class=
          "emphasis"><em>comitten</em></span> einer Änderung. In
          manchen Systemen benötigt der Anwender schon eine
          Netzwerkverbindung nur um seine eigenen Änderungen zu
          sehen oder um eine Datei zum Bearbeiten zu öffnen.</p>

          <p>Zentralisierte Systeme schließen es aus offline zu
          arbeiten und benötigen teurere Netzwerkinfrastruktur, vor
          allem, wenn die Zahl der Entwickler steigt. Am
          wichtigsten ist, dass alle Operationen bis zu einem
          gewissen Grad langsamer sind, in der Regel bis zu dem
          Punkt, wo Anwender erweiterte Anweisungen scheuen, bis
          sie absolut notwendig sind. In extremen Fällen trifft das
          auch auf die grundlegenden Anweisungen zu. Wenn Anwender
          langsame Anweisungen ausführen müssen, sinkt die
          Produktivität, da der Arbeitsfluss unterbrochen wird.</p>

          <p>Ich habe diese Phänomen aus erster Hand erfahren. Git
          war das erste Versionsverwaltungssystem, das ich benutzt
          habe. Ich bin schnell in die Anwendung hineingewachsen
          und betrachtete viele Funktionen als selbstverständlich.
          Ich habe einfach vorausgesetzt, dass andere Systeme
          ähnlich sind: die Auswahl eines
          Versionsverwaltungssystems sollte nicht anders sein als
          die Auswahl eines Texteditors oder Internetbrowser.</p>

          <p>Ich war geschockt, als ich später gezwungen war ein
          zentralisiertes System zu benutzen. Eine unzuverlässige
          Internetverbindung stört mit Git nicht sehr, aber sie
          macht die Entwicklung unerträglich, wenn sie so
          zuverlässig wie ein lokale Festplatte sein sollte.
          Zusätzlich habe ich mich dabei ertappt, bestimmte
          Anweisungen zu vermeiden, um die damit verbundenen
          Wartezeiten zu vermeiden und das hat mich letztendlich
          davon abgehalten meinem gewohnten Arbeitsablauf zu
          folgen.</p>

          <p>Wenn ich eine langsame Anweisung auszuführen hatte,
          wurde durch die Unterbrechung meiner Gedankengänge dem
          Arbeitsfluss ein unverhältnismäßiger Schaden zugefügt.
          Während dem Warten auf das Ende der Serverkommunikation
          tat ich etwas anderes um die Wartezeit zu überbrücken,
          zum Beispiel E-Mails lesen oder Dokumentation schreiben.
          Wenn ich zur ursprünglichen Arbeit zurückkehrte, war die
          Operation längst beendet und ich vergeudete noch mehr
          Zeit beim Versuch mich zu erinnern was ich getan habe.
          Menschen sind nicht gut im Kontextwechsel.</p>

          <p>Da war auch ein interessanter <a class="ulink" href=
          "http://de.wikipedia.org/wiki/Tragik_der_Allmende"
          target="_top">Tragik-der-Allmende</a> Effekt:
          Netzwerküberlastungen erahnend, verbrauchten einzelne
          Individuen für diverse Operationen mehr
          Netzwerkbandbreite als erforderlich, um zukünftige
          Engpässe zu vermeiden. Die Summe der Bemühungen
          verschlimmerte die Überlastungen, was einzelne wiederum
          ermutigte noch mehr Bandbreite zu verbrauchen um noch
          längere Wartezeiten zu verhindern.</p>
        </div>
      </div>

      <div class="chapter" title="Kapitel 6. Multiplayer Git">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a name=
              "_multiplayer_git"></a>Kapitel 6. Multiplayer
              Git</h2>
            </div>
          </div>
        </div>

        <div class="toc">
          <p><b>Inhaltsverzeichnis</b></p>

          <dl>
            <dt><span class="section"><a href="#_wer_bin_ich">Wer
            bin ich?</a></span></dt>

            <dt><span class="section"><a href=
            "#_git_ber_ssh_http">Git über SSH, HTTP</a></span></dt>

            <dt><span class="section"><a href="#_git_ber_alles">Git
            über alles</a></span></dt>

            <dt><span class="section"><a href=
            "#_patches_das_globale_zahlungsmittel">Patches: Das
            globale Zahlungsmittel</a></span></dt>

            <dt><span class="section"><a href=
            "#_entschuldigung_wir_sind_umgezogen">Entschuldigung,
            wir sind umgezogen.</a></span></dt>

            <dt><span class="section"><a href=
            "#_entfernte_emphasis_branches_emphasis">Entfernte
            <span class=
            "emphasis"><em>Branches</em></span></a></span></dt>

            <dt><span class="section"><a href=
            "#_mehrere_emphasis_remotes_emphasis">Mehrere
            <span class=
            "emphasis"><em>Remotes</em></span></a></span></dt>

            <dt><span class="section"><a href=
            "#_meine_einstellungen">Meine
            Einstellungen</a></span></dt>
          </dl>
        </div>

        <p>Anfangs benutzte ich Git bei einem privaten Projekt, bei
        dem ich der einzige Entwickler war. Unter den Befehlen im
        Zusammenhang mit Git’s verteilter Art, brauchte ich nur
        <span class="strong"><strong>pull</strong></span> und
        <span class="strong"><strong>clone</strong></span>, damit
        konnte ich das selbe Projekt an unterschiedlichen Orten
        halten.</p>

        <p>Später wollte ich meinen Code mit Git veröffentlichen
        und Änderungen von Mitstreitern einbinden. Ich musste
        lernen, wie man Projekte verwaltet, an denen mehrere
        Entwickler aus aller Welt beteiligt waren. Glücklicherweise
        ist das Git’s Stärke und wohl auch seine
        Daseinsberechtigung.</p>

        <div class="section" title="Wer bin ich?">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_wer_bin_ich"></a>Wer bin ich?</h2>
              </div>
            </div>
          </div>

          <p>Jeder <span class="emphasis"><em>Commit</em></span>
          enthält Name und Emailadresse des Autors, welche mit
          <span class="strong"><strong>git log</strong></span>
          angezeigt werden. Standardmäßig nutzt Git
          Systemeinstellungen um diese Felder auszufüllen. Um diese
          Angaben explizit zu setzen, gib ein:</p>
          <pre class="literallayout">
$ git config --global user.name "Max Mustermann"
$ git config --global user.email maxmustermann@beispiel.de
</pre>

          <p>Lasse den -global Schalter weg um diese Einstellungen
          für das aktuelle <span class=
          "emphasis"><em>Repository</em></span> zu setzen.</p>
        </div>

        <div class="section" title="Git über SSH, HTTP">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_git_ber_ssh_http"></a>Git über SSH, HTTP</h2>
              </div>
            </div>
          </div>

          <p>Angenommen, Du hast einen SSH-Zugang zu einem
          Webserver aber Git ist nicht installiert. Wenn auch nicht
          so effizient wie mit dem systemeigenen Protokoll, kann
          Git über HTTP kommunizieren.</p>

          <p>Lade Git herunter, compiliere und installiere es unter
          Deinem Benutzerkonto und erstellen ein <span class=
          "emphasis"><em>Repository</em></span> in Deinem
          Webverzeichnis:</p>
          <pre class="literallayout">
$ GIT_DIR=proj.git git init
$ cd proj.git
$ git --bare update-server-info
$ cp hooks/post-update.sample hooks/post-update
</pre>

          <p>Bei älteren Git Versionen funktioniert der
          <span class="emphasis"><em>copy</em></span>-Befehl nicht,
          stattdessen gib ein:</p>
          <pre class="literallayout">
$ chmod a+x hooks/post-update
</pre>

          <p>Nun kannst Du Deine letzten Änderungen über SSH von
          jedem <span class="emphasis"><em>Clone</em></span> aus
          veröffentlichen.</p>
          <pre class="literallayout">
$ git push web.server:/pfad/zu/proj.git master
</pre>

          <p>und jedermann kann Dein Projekt abrufen mit:</p>
          <pre class="literallayout">
$ git clone http://web.server/proj.git
</pre>
        </div>

        <div class="section" title="Git über alles">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_git_ber_alles"></a>Git über alles</h2>
              </div>
            </div>
          </div>

          <p>Willst Du <span class=
          "emphasis"><em>Repositories</em></span> ohne Server
          synchronisieren oder gar ohne Netzwerkverbindung? Musst
          Du während eines Notfalls improvisieren? Wir haben
          gesehen, dass man mit <a class="link" href=
          "#makinghistory"><span class="strong"><strong>git
          fast-export</strong></span> und <span class=
          "strong"><strong>git fast-import</strong></span>
          <span class="emphasis"><em>Repositories</em></span> in
          eine einzige Datei konvertieren kann und zurück</a>. Wir
          können solche Dateien hin und her schicken um Git
          <span class="emphasis"><em>Repositories</em></span> über
          jedes beliebige Medium zu transportieren, aber ein
          effizienteres Werkzeug ist <span class=
          "strong"><strong>git bundle</strong></span>.</p>

          <p>Der Absender erstellt ein <span class=
          "emphasis"><em>bundle</em></span>:</p>
          <pre class="literallayout">
$ git bundle create einedatei HEAD
</pre>

          <p>und transportiert das <span class=
          "emphasis"><em>Bundle</em></span> <code class=
          "literal">einedatei</code> irgendwie zum anderen
          Beteiligten: per eMail, USB-Stick, einen <span class=
          "strong"><strong>xxd</strong></span> Hexdump und einen
          OCR Scanner, Morsecode über Telefon, Rauchzeichen usw.
          Der Empfänger holt sich die <span class=
          "emphasis"><em>Commits</em></span> aus dem <span class=
          "emphasis"><em>Bundle</em></span> durch Eingabe von:</p>
          <pre class="literallayout">
$ git pull einedatei
</pre>

          <p>Der Empfänger kann das sogar mit einem leeren
          <span class="emphasis"><em>Repository</em></span> tun.
          Trotz seiner Größe, <code class=
          "literal">einedatei</code> enthält das komplette original
          Git <span class=
          "emphasis"><em>Repository</em></span>.</p>

          <p>In größeren Projekten, vermeidest Du Datenmüll indem
          Du nur Änderungen <span class=
          "emphasis"><em>bundlest</em></span>, die in den anderen
          <span class="emphasis"><em>Repositories</em></span>
          fehlen. Zum Beispiel, nehmen wir an, der <span class=
          "emphasis"><em>Commit</em></span> “1b6d…” ist der
          aktuellste, den beide Parteien haben:</p>
          <pre class="literallayout">
$ git bundle create einedatei HEAD ^1b6d
</pre>

          <p>Macht man das regelmäßig, kann man leicht vergessen,
          welcher <span class="emphasis"><em>Commit</em></span>
          zuletzt gesendet wurde. Die Hilfeseiten schlagen vor
          <span class="emphasis"><em>Tags</em></span> zu benutzen
          um dieses Problem zu lösen. Das heißt, nachdem Du ein
          <span class="emphasis"><em>Bundle</em></span> gesendet
          hast, gib ein:</p>
          <pre class="literallayout">
$ git tag -f letztesbundle HEAD
</pre>

          <p>und erstelle neue Aktuelisierungsbundles mit:</p>
          <pre class="literallayout">
$ git bundle create neuesbundle HEAD ^letztesbundle
</pre>
        </div>

        <div class="section" title=
        "Patches: Das globale Zahlungsmittel">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_patches_das_globale_zahlungsmittel"></a>Patches:
                Das globale Zahlungsmittel</h2>
              </div>
            </div>
          </div>

          <p><span class="emphasis"><em>Patches</em></span> sind
          die Klartextdarstellung Deiner Änderungen, die von
          Computern und Menschen gleichermaßen einfach verstanden
          werden. Dies verleiht ihnen eine universelle
          Anziehungskraft. Du kannst einen <span class=
          "emphasis"><em>Patch</em></span> Entwicklern schicken,
          ganz egal, was für ein Versionsverwaltungssystem sie
          benutzen. Solange Deine Mitstreiter ihre eMails lesen
          können, können sie auch Deine Änderungen sehen. Auch auf
          Deiner Seite ist alles was Du brauchst ein eMail Konto:
          es gibt keine Notwendigkeit ein Online Git <span class=
          "emphasis"><em>Repository</em></span> aufzusetzen.</p>

          <p>Erinnere Dich an das erste Kapitel:</p>
          <pre class="literallayout">
$ git diff 1b6d &gt; mein.patch
</pre>

          <p>gibt einen <span class=
          "emphasis"><em>Patch</em></span> aus, der zur Diskussion
          einfach in eine eMail eingefügt werden kann. In einem Git
          <span class="emphasis"><em>Repository</em></span> gib
          ein:</p>
          <pre class="literallayout">
$ git apply &lt; mein.patch
</pre>

          <p>um den <span class="emphasis"><em>Patch</em></span>
          anzuwenden.</p>

          <p>In einer offizielleren Umgebung, wenn Autorennamen und
          eventuell Signaturen aufgezeichnet werden sollen,
          erstelle die entsprechenden <span class=
          "emphasis"><em>Patches</em></span> nach einem bestimmten
          Punkt durch Eingabe von:</p>
          <pre class="literallayout">
$ git format-patch 1b6d
</pre>

          <p>Die resultierenden Dateien können an <span class=
          "strong"><strong>git-send-email</strong></span> übergeben
          werden oder von Hand verschickt werden. Du kannst auch
          eine Gruppe von <span class=
          "emphasis"><em>Commits</em></span> angeben:</p>
          <pre class="literallayout">
$ git format-patch 1b6d..HEAD^^
</pre>

          <p>Auf der Empfängerseite speichere die eMail in eine
          Datei, dann gib ein:</p>
          <pre class="literallayout">
$ git am &lt; email.txt
</pre>

          <p>Das wendet den eingegangenen <span class=
          "emphasis"><em>Patch</em></span> an und erzeugt einen
          <span class="emphasis"><em>Commit</em></span>, inklusive
          der Informationen wie z.B. den Autor.</p>

          <p>Mit einer Webmail Anwendung musst Du eventuell ein
          Button anklicken um die eMail in ihrem rohen
          Originalformat anzuzeigen, bevor Du den <span class=
          "emphasis"><em>Patch</em></span> in eine Datei
          sicherst.</p>

          <p>Es gibt geringfügige Unterschiede bei mbox-basierten
          eMail Anwendungen, aber wenn Du eine davon benutzt,
          gehörst Du vermutlich zu der Gruppe Personen, die damit
          einfach umgehen können ohne Anleitungen zu lesen.!</p>
        </div>

        <div class="section" title=
        "Entschuldigung, wir sind umgezogen.">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_entschuldigung_wir_sind_umgezogen"></a>Entschuldigung,
                wir sind umgezogen.</h2>
              </div>
            </div>
          </div>

          <p>Nach dem <span class="emphasis"><em>Clonen</em></span>
          eines <span class=
          "emphasis"><em>Repositories</em></span>, wird
          <span class="strong"><strong>git push</strong></span>
          oder <span class="strong"><strong>git
          pull</strong></span> automatisch auf die original URL
          zugreifen. Wie macht Git das? Das Geheimnis liegt in der
          Konfiguration, die beim <span class=
          "emphasis"><em>Clonen</em></span> erzeugt wurde. Lasst
          uns einen Blick riskieren:</p>
          <pre class="literallayout">
$ git config --list
</pre>

          <p>Die <code class="literal">remote.origin.url</code>
          Option kontrolliert die Quell-URL; “origin” ist der
          Spitzname, der dem Quell-<span class=
          "emphasis"><em>Repository</em></span> gegeben wurde. Wie
          mit der “master” <span class=
          "emphasis"><em>Branch</em></span> Konvention können wir
          diesen Spitznamen ändern oder löschen, aber es gibt für
          gewöhnlich keinen Grund dies zu tun.</p>

          <p>Wenn das original <span class=
          "emphasis"><em>Repository</em></span> verschoben wird,
          können wir die URL aktualisieren mit:</p>
          <pre class="literallayout">
$ git config remote.origin.url git://neue.url/proj.git
</pre>

          <p>Die <code class="literal">branch.master.merge</code>
          Option definiert den Standard-Remote-<span class=
          "emphasis"><em>Branch</em></span> bei einem <span class=
          "strong"><strong>git pull</strong></span>. Während dem
          ursprünglichen <span class=
          "emphasis"><em>clonen</em></span>, wird sie auf den
          aktuellen <span class="emphasis"><em>Branch</em></span>
          des Quell-<span class=
          "emphasis"><em>Repository</em></span> gesetzt, so dass
          selbst dann, wenn der <span class=
          "emphasis"><em>HEAD</em></span> des Quell-<span class=
          "emphasis"><em>Repository</em></span> inzwischen auf
          einen anderen <span class=
          "emphasis"><em>Branch</em></span> gewechselt hat, ein
          späterer <span class="emphasis"><em>pull</em></span> wird
          treu dem original <span class=
          "emphasis"><em>Branch</em></span> folgen.</p>

          <p>Diese Option gilt nur für das <span class=
          "emphasis"><em>Repository</em></span>, von dem als erstes
          <span class="emphasis"><em>gecloned</em></span> wurde,
          was in der Option <code class=
          "literal">branch.master.remote</code> hinterlegt ist. Bei
          einem <span class="emphasis"><em>pull</em></span> aus
          anderen <span class=
          "emphasis"><em>Repositories</em></span> müssen wir
          explizit angeben, welchen <span class=
          "emphasis"><em>Branch</em></span> wir wollen:</p>
          <pre class="literallayout">
$ git pull git://beispiel.com/anderes.git master
</pre>

          <p>Das obige erklärt, warum einige von unseren früheren
          <span class="emphasis"><em>push</em></span> und
          <span class="emphasis"><em>pull</em></span> Beispielen
          keine Argumente hatten.</p>
        </div>

        <div class="section" title="Entfernte Branches">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_entfernte_emphasis_branches_emphasis"></a>Entfernte
                <span class=
                "emphasis"><em>Branches</em></span></h2>
              </div>
            </div>
          </div>

          <p>Wenn Du ein <span class=
          "emphasis"><em>Repository</em></span> <span class=
          "emphasis"><em>clonst</em></span>, <span class=
          "emphasis"><em>clonst</em></span> Du auch alle seine
          <span class="emphasis"><em>Branches</em></span>. Das hast
          Du vielleicht noch nicht bemerkt, denn Git versteckt
          diese: Du musst speziell danach fragen. Das verhindert,
          dass <span class="emphasis"><em>Branches</em></span> vom
          entfernten <span class=
          "emphasis"><em>Repository</em></span> Deine lokalen
          <span class="emphasis"><em>Branches</em></span> stören
          und es macht Git einfacher für Anfänger.</p>

          <p>Zeige die entfernten <span class=
          "emphasis"><em>Branches</em></span> an mit:</p>
          <pre class="literallayout">
$ git branch -r
</pre>

          <p>Du solltes etwas sehen wie:</p>
          <pre class="literallayout">
origin/HEAD
origin/master
origin/experimentell
</pre>

          <p>Diese Liste zeigt die <span class=
          "emphasis"><em>Branches</em></span> und den HEAD des
          entfernten <span class=
          "emphasis"><em>Repository</em></span>, welche auch in
          regulären Git Anweisungen verwendet werden können. Zum
          Beispiel, angenommen Du hast viele <span class=
          "emphasis"><em>Commits</em></span> gemacht und möchtest
          einen Vergleich zur letzten abgeholten Version machen. Du
          kannst die Logs nach dem entsprechenden SHA1 Hashwert
          durchsuchen, aber es ist viel einfacher folgendes
          einzugeben:</p>
          <pre class="literallayout">
$ git diff origin/HEAD
</pre>

          <p>Oder Du kannst schauen, was auf dem <span class=
          "emphasis"><em>Branch</em></span> “experimentell” los
          war:</p>
          <pre class="literallayout">
$ git log origin/experimentell
</pre>
        </div>

        <div class="section" title="Mehrere Remotes">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_mehrere_emphasis_remotes_emphasis"></a>Mehrere
                <span class="emphasis"><em>Remotes</em></span></h2>
              </div>
            </div>
          </div>

          <p>Angenommen, zwei andere Entwickler arbeiten an Deinem
          Projekt und wir wollen beide im Auge behalten. Wir können
          mehr als ein <span class=
          "emphasis"><em>Repository</em></span> gleichzeitig
          beobachten mit:</p>
          <pre class="literallayout">
$ git remote add other git://example.com/some_repo.git
$ git pull other some_branch
</pre>

          <p>Nun haben wir einen <span class=
          "emphasis"><em>Branch</em></span> vom zweiten
          <span class="emphasis"><em>Repository</em></span>
          eingebunden und wir haben einfachen Zugriff auf alle
          <span class="emphasis"><em>Branches</em></span> von allen
          <span class="emphasis"><em>Repositories</em></span>:</p>
          <pre class="literallayout">
$ git diff origin/experimentell^ other/some_branch~5
</pre>

          <p>Aber was, wenn wir nur deren Änderungen vergleichen
          wollen, ohne unsere eigene Arbeit zu beeinflussen? Mit
          anderen Worten, wir wollen ihre <span class=
          "emphasis"><em>Branches</em></span> untersuchen ohne dass
          deren Änderungen in unser Arbeitsverzeichnis einfließen.
          Anstatt <span class="emphasis"><em>pull</em></span>
          benutzt Du dann:</p>
          <pre class="literallayout">
$ git fetch        # Fetch vom origin, der Standard.
$ git fetch other  # Fetch vom zweiten Programmierer.
</pre>

          <p>Dies holt lediglich die Chroniken. Obwohl das
          Arbeitsverzeichnis unverändert bleibt, können wir nun
          jeden <span class="emphasis"><em>Branch</em></span> aus
          jedem <span class="emphasis"><em>Repository</em></span>
          in einer Git Anweisung referenzieren, da wir eine lokale
          Kopie besitzen.</p>

          <p>Erinnere Dich, dass ein <span class=
          "emphasis"><em>Pull</em></span> hinter den Kulissen
          einfach ein <span class=
          "strong"><strong>fetch</strong></span> gefolgt von einem
          <span class="strong"><strong>merge</strong></span> ist.
          Normalerweise machen wir einen <span class=
          "strong"><strong>pull</strong></span> weil wir die
          letzten <span class="emphasis"><em>Commits</em></span>
          abrufen und einbinden wollen. Die beschriebene Situation
          ist eine erwähnenswerte Ausnahme.</p>

          <p>Siehe <span class="strong"><strong>git help
          remote</strong></span> um zu sehen wie man
          Remote-<span class=
          "emphasis"><em>Repositories</em></span> entfernt,
          bestimmte <span class="emphasis"><em>Branches</em></span>
          ignoriert und mehr.</p>
        </div>

        <div class="section" title="Meine Einstellungen">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_meine_einstellungen"></a>Meine Einstellungen</h2>
              </div>
            </div>
          </div>

          <p>Für meine Projekte bevorzuge ich es, wenn Unterstützer
          <span class="emphasis"><em>Repositories</em></span>
          vorbereiten, von denen ich <span class=
          "emphasis"><em>pullen</em></span> kann. Verschiedene Git
          Hosting Anbieter lassen Dich mit einem Klick deine eigene
          <span class="emphasis"><em>Fork</em></span> eines
          Projekts hosten.</p>

          <p>Nachdem ich einen Zweig abgerufen habe, benutze ich
          Git Anweisungen um durch die Änderungen zu navigieren und
          zu untersuchen, die idealerweise gut organisiert und
          dokumentiert sind. Ich <span class=
          "emphasis"><em>merge</em></span> meine eigenen Änderungen
          und führe eventuell weitere Änderungen durch. Wenn ich
          zufrieden bin, <span class=
          "emphasis"><em>pushe</em></span> ich in das zentrale
          <span class="emphasis"><em>Repository</em></span>.</p>

          <p>Obwohl ich nur unregelmäßig Beiträge erhalte, glaube
          ich, dass diese Methode sich auszahlt. Siehe <a class=
          "ulink" href=
          "http://torvalds-family.blogspot.com/2009/06/happiness-is-warm-scm.html"
          target="_top">diesen Blog Beitrag von Linus Torvalds
          (englisch)</a>.</p>

          <p>In der Git Welt zu bleiben ist etwas bequemer als
          <span class="emphasis"><em>Patch</em></span>-Dateien,
          denn es erspart mir sie in Git <span class=
          "emphasis"><em>Commits</em></span> zu konvertieren.
          Außerdem kümmert sich Git um die Details wie Autorname
          und eMail-Adresse, genauso wie um Datum und Uhrzeit und
          es fordert den Autor zum Beschreiben seiner eigenen
          Änderungen auf.</p>
        </div>
      </div>

      <div class="chapter" title="Kapitel 7. Git Grandmastery">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a name=
              "_git_grandmastery"></a>Kapitel 7. Git
              Grandmastery</h2>
            </div>
          </div>
        </div>

        <div class="toc">
          <p><b>Inhaltsverzeichnis</b></p>

          <dl>
            <dt><span class="section"><a href=
            "#_source_releases">Source Releases</a></span></dt>

            <dt><span class="section"><a href=
            "#_commit_what_changed">Commit What
            Changed</a></span></dt>

            <dt><span class="section"><a href=
            "#_my_commit_is_too_big">My Commit Is Too
            Big!</a></span></dt>

            <dt><span class="section"><a href=
            "#_the_index_git_8217_s_staging_area">The Index: Git’s
            Staging Area</a></span></dt>

            <dt><span class="section"><a href=
            "#_don_8217_t_lose_your_head">Don’t Lose Your
            HEAD</a></span></dt>

            <dt><span class="section"><a href=
            "#_head_hunting">HEAD-hunting</a></span></dt>

            <dt><span class="section"><a href=
            "#_building_on_git">Building On Git</a></span></dt>

            <dt><span class="section"><a href=
            "#_daring_stunts">Daring Stunts</a></span></dt>

            <dt><span class="section"><a href=
            "#_preventing_bad_commits">Preventing Bad
            Commits</a></span></dt>
          </dl>
        </div>

        <p>By now, you should be able to navigate the <span class=
        "strong"><strong>git help</strong></span> pages and
        understand almost everything. However, pinpointing the
        exact command required to solve a given problem can be
        tedious. Perhaps I can save you some time: below are some
        recipes I have needed in the past.</p>

        <div class="section" title="Source Releases">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_source_releases"></a>Source Releases</h2>
              </div>
            </div>
          </div>

          <p>For my projects, Git tracks exactly the files I’d like
          to archive and release to users. To create a tarball of
          the source code, I run:</p>
          <pre class="literallayout">
$ git archive --format=tar --prefix=proj-1.2.3/ HEAD
</pre>
        </div>

        <div class="section" title="Commit What Changed">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_commit_what_changed"></a>Commit What Changed</h2>
              </div>
            </div>
          </div>

          <p>Telling Git when you’ve added, deleted and renamed
          files is troublesome for certain projects. Instead, you
          can type:</p>
          <pre class="literallayout">
$ git add .
$ git add -u
</pre>

          <p>Git will look at the files in the current directory
          and work out the details by itself. Instead of the second
          add command, run <code class="literal">git commit
          -a</code> if you also intend to commit at this time. See
          <span class="strong"><strong>git help
          ignore</strong></span> for how to specify files that
          should be ignored.</p>

          <p>You can perform the above in a single pass with:</p>
          <pre class="literallayout">
$ git ls-files -d -m -o -z | xargs -0 git update-index --add --remove
</pre>

          <p>The <span class="strong"><strong>-z</strong></span>
          and <span class="strong"><strong>-0</strong></span>
          options prevent ill side-effects from filenames
          containing strange characters. As this command adds
          ignored files, you may want to use the <code class=
          "literal">-x</code> or <code class="literal">-X</code>
          option.</p>
        </div>

        <div class="section" title="My Commit Is Too Big!">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_my_commit_is_too_big"></a>My Commit Is Too
                Big!</h2>
              </div>
            </div>
          </div>

          <p>Have you neglected to commit for too long? Been coding
          furiously and forgotten about source control until now?
          Made a series of unrelated changes, because that’s your
          style?</p>

          <p>No worries. Run:</p>
          <pre class="literallayout">
$ git add -p
</pre>

          <p>For each edit you made, Git will show you the hunk of
          code that was changed, and ask if it should be part of
          the next commit. Answer with "y" or "n". You have other
          options, such as postponing the decision; type "?" to
          learn more.</p>

          <p>Once you’re satisfied, type</p>
          <pre class="literallayout">
$ git commit
</pre>

          <p>to commit precisely the changes you selected (the
          <span class="emphasis"><em>staged</em></span> changes).
          Make sure you omit the <span class=
          "strong"><strong>-a</strong></span> option, otherwise Git
          will commit all the edits.</p>

          <p>What if you’ve edited many files in many places?
          Reviewing each change one by one becomes frustratingly
          mind-numbing. In this case, use <span class=
          "strong"><strong>git add -i</strong></span>, whose
          interface is less straightforward, but more flexible.
          With a few keystrokes, you can stage or unstage several
          files at a time, or review and select changes in
          particular files only. Alternatively, run <span class=
          "strong"><strong>git commit --interactive</strong></span>
          which automatically commits after you’re done.</p>
        </div>

        <div class="section" title="The Index: Git’s Staging Area">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_the_index_git_8217_s_staging_area"></a>The Index:
                Git’s Staging Area</h2>
              </div>
            </div>
          </div>

          <p>So far we have avoided Git’s famous <span class=
          "emphasis"><em>index</em></span>, but we must now
          confront it to explain the above. The index is a
          temporary staging area. Git seldom shuttles data directly
          between your project and its history. Rather, Git first
          writes data to the index, and then copies the data in the
          index to its final destination.</p>

          <p>For example, <span class="strong"><strong>commit
          -a</strong></span> is really a two-step process. The
          first step places a snapshot of the current state of
          every tracked file into the index. The second step
          permanently records the snapshot now in the index.
          Committing without the <span class=
          "strong"><strong>-a</strong></span> option only performs
          the second step, and only makes sense after running
          commands that somehow change the index, such as
          <span class="strong"><strong>git add</strong></span>.</p>

          <p>Usually we can ignore the index and pretend we are
          reading straight from and writing straight to the
          history. On this occasion, we want finer control, so we
          manipulate the index. We place a snapshot of some, but
          not all, of our changes into the index, and then
          permanently record this carefully rigged snapshot.</p>
        </div>

        <div class="section" title="Don’t Lose Your HEAD">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_don_8217_t_lose_your_head"></a>Don’t Lose Your
                HEAD</h2>
              </div>
            </div>
          </div>

          <p>The HEAD tag is like a cursor that normally points at
          the latest commit, advancing with each new commit. Some
          Git commands let you move it. For example:</p>
          <pre class="literallayout">
$ git reset HEAD~3
</pre>

          <p>will move the HEAD three commits back. Thus all Git
          commands now act as if you hadn’t made those last three
          commits, while your files remain in the present. See the
          help page for some applications.</p>

          <p>But how can you go back to the future? The past
          commits know nothing of the future.</p>

          <p>If you have the SHA1 of the original HEAD then:</p>
          <pre class="literallayout">
$ git reset 1b6d
</pre>

          <p>But suppose you never took it down? Don’t worry: for
          commands like these, Git saves the original HEAD as a tag
          called ORIG_HEAD, and you can return safe and sound
          with:</p>
          <pre class="literallayout">
$ git reset ORIG_HEAD
</pre>
        </div>

        <div class="section" title="HEAD-hunting">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_head_hunting"></a>HEAD-hunting</h2>
              </div>
            </div>
          </div>

          <p>Perhaps ORIG_HEAD isn’t enough. Perhaps you’ve just
          realized you made a monumental mistake and you need to go
          back to an ancient commit in a long-forgotten branch.</p>

          <p>By default, Git keeps a commit for at least two weeks,
          even if you ordered Git to destroy the branch containing
          it. The trouble is finding the appropriate hash. You
          could look at all the hash values in <code class=
          "literal">.git/objects</code> and use trial and error to
          find the one you want. But there’s a much easier way.</p>

          <p>Git records every hash of a commit it computes in
          <code class="literal">.git/logs</code>. The subdirectory
          <code class="literal">refs</code> contains the history of
          all activity on all branches, while the file <code class=
          "literal">HEAD</code> shows every hash value it has ever
          taken. The latter can be used to find hashes of commits
          on branches that have been accidentally lopped off.</p>

          <p>The reflog command provides a friendly interface to
          these log files. Try</p>
          <pre class="literallayout">
$ git reflog
</pre>

          <p>Instead of cutting and pasting hashes from the reflog,
          try:</p>
          <pre class="literallayout">
$ git checkout "@{10 minutes ago}"
</pre>

          <p>Or checkout the 5th-last visited commit via:</p>
          <pre class="literallayout">
$ git checkout "@{5}"
</pre>

          <p>See the “Specifying Revisions” section of <span class=
          "strong"><strong>git help rev-parse</strong></span> for
          more.</p>

          <p>You may wish to configure a longer grace period for
          doomed commits. For example:</p>
          <pre class="literallayout">
$ git config gc.pruneexpire "30 days"
</pre>

          <p>means a deleted commit will only be permanently lost
          once 30 days have passed and <span class=
          "strong"><strong>git gc</strong></span> is run.</p>

          <p>You may also wish to disable automatic invocations of
          <span class="strong"><strong>git gc</strong></span>:</p>
          <pre class="literallayout">
$ git config gc.auto 0
</pre>

          <p>in which case commits will only be deleted when you
          run <span class="strong"><strong>git gc</strong></span>
          manually.</p>
        </div>

        <div class="section" title="Building On Git">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_building_on_git"></a>Building On Git</h2>
              </div>
            </div>
          </div>

          <p>In true UNIX fashion, Git’s design allows it to be
          easily used as a low-level component of other programs,
          such as GUI and web interfaces, alternative command-line
          interfaces, patch managements tools, importing and
          conversion tools and so on. In fact, some Git commands
          are themselves scripts standing on the shoulders of
          giants. With a little tinkering, you can customize Git to
          suit your preferences.</p>

          <p>One easy trick is to use built-in Git aliases to
          shorten your most frequently used commands:</p>
          <pre class="literallayout">
$ git config --global alias.co checkout
$ git config --global --get-regexp alias  # display current aliases
alias.co checkout
$ git co foo                              # same as 'git checkout foo'
</pre>

          <p>Another is to print the current branch in the prompt,
          or window title. Invoking</p>
          <pre class="literallayout">
$ git symbolic-ref HEAD
</pre>

          <p>shows the current branch name. In practice, you most
          likely want to remove the "refs/heads/" and ignore
          errors:</p>
          <pre class="literallayout">
$ git symbolic-ref HEAD 2&gt; /dev/null | cut -b 12-
</pre>

          <p>The <code class="literal">contrib</code> subdirectory
          is a treasure trove of tools built on Git. In time, some
          of them may be promoted to official commands. On Debian
          and Ubuntu, this directory lives at <code class=
          "literal">/usr/share/doc/git-core/contrib</code>.</p>

          <p>One popular resident is <code class=
          "literal">workdir/git-new-workdir</code>. Via clever
          symlinking, this script creates a new working directory
          whose history is shared with the original repository:</p>
          <pre class="literallayout">
$ git-new-workdir an/existing/repo new/directory
</pre>

          <p>The new directory and the files within can be thought
          of as a clone, except since the history is shared, the
          two trees automatically stay in sync. There’s no need to
          merge, push, or pull.</p>
        </div>

        <div class="section" title="Daring Stunts">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_daring_stunts"></a>Daring Stunts</h2>
              </div>
            </div>
          </div>

          <p>These days, Git makes it difficult for the user to
          accidentally destroy data. But if you know what you are
          doing, you can override safeguards for common
          commands.</p>

          <p><span class="strong"><strong>Checkout</strong></span>:
          Uncommitted changes cause checkout to fail. To destroy
          your changes, and checkout a given commit anyway, use the
          force flag:</p>
          <pre class="literallayout">
$ git checkout -f HEAD^
</pre>

          <p>On the other hand, if you specify particular paths for
          checkout, then there are no safety checks. The supplied
          paths are quietly overwritten. Take care if you use
          checkout in this manner.</p>

          <p><span class="strong"><strong>Reset</strong></span>:
          Reset also fails in the presence of uncommitted changes.
          To force it through, run:</p>
          <pre class="literallayout">
$ git reset --hard 1b6d
</pre>

          <p><span class="strong"><strong>Branch</strong></span>:
          Deleting branches fails if this causes changes to be
          lost. To force a deletion, type:</p>
          <pre class="literallayout">
$ git branch -D dead_branch  # instead of -d
</pre>

          <p>Similarly, attempting to overwrite a branch via a move
          fails if data loss would ensue. To force a branch move,
          type:</p>
          <pre class="literallayout">
$ git branch -M source target  # instead of -m
</pre>

          <p>Unlike checkout and reset, these two commands defer
          data destruction. The changes are still stored in the
          .git subdirectory, and can be retrieved by recovering the
          appropriate hash from <code class=
          "literal">.git/logs</code> (see "HEAD-hunting" above). By
          default, they will be kept for at least two weeks.</p>

          <p><span class="strong"><strong>Clean</strong></span>:
          Some git commands refuse to proceed because they’re
          worried about clobbering untracked files. If you’re
          certain that all untracked files and directories are
          expendable, then delete them mercilessly with:</p>
          <pre class="literallayout">
$ git clean -f -d
</pre>

          <p>Next time, that pesky command will work!</p>
        </div>

        <div class="section" title="Preventing Bad Commits">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_preventing_bad_commits"></a>Preventing Bad
                Commits</h2>
              </div>
            </div>
          </div>

          <p>Stupid mistakes pollute my repositories. Most
          frightening are missing files due to a forgotten
          <span class="strong"><strong>git add</strong></span>.
          Lesser transgressions are trailing whitespace and
          unresolved merge conflicts: though harmless, I wish these
          never appeared on the public record.</p>

          <p>If only I had bought idiot insurance by using a
          <span class="emphasis"><em>hook</em></span> to alert me
          about these problems:</p>
          <pre class="literallayout">
$ cd .git/hooks
$ cp pre-commit.sample pre-commit  # Older Git versions: chmod +x pre-commit
</pre>

          <p>Now Git aborts a commit if useless whitespace or
          unresolved merge conflicts are detected.</p>

          <p>For this guide, I eventually added the following to
          the beginning of the <span class=
          "strong"><strong>pre-commit</strong></span> hook to guard
          against absent-mindedness:</p>
          <pre class="literallayout">
if git ls-files -o | grep '\.txt$'; then
  echo FAIL! Untracked .txt files.
  exit 1
fi
</pre>

          <p>Several git operations support hooks; see <span class=
          "strong"><strong>git help hooks</strong></span>. We
          activated the sample <span class=
          "strong"><strong>post-update</strong></span> hook earlier
          when discussing Git over HTTP. This runs whenever the
          head moves. The sample post-update script updates files
          Git needs for communication over Git-agnostic transports
          such as HTTP.</p>
        </div>
      </div>

      <div class="chapter" title="Kapitel 8. Secrets Revealed">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a name=
              "_secrets_revealed"></a>Kapitel 8. Secrets
              Revealed</h2>
            </div>
          </div>
        </div>

        <div class="toc">
          <p><b>Inhaltsverzeichnis</b></p>

          <dl>
            <dt><span class="section"><a href=
            "#_invisibility">Invisibility</a></span></dt>

            <dt><span class="section"><a href=
            "#_integrity">Integrity</a></span></dt>

            <dt><span class="section"><a href=
            "#_intelligence">Intelligence</a></span></dt>

            <dt><span class="section"><a href=
            "#_indexing">Indexing</a></span></dt>

            <dt><span class="section"><a href=
            "#_git_8217_s_origins">Git’s Origins</a></span></dt>

            <dt><span class="section"><a href=
            "#_the_object_database">The Object
            Database</a></span></dt>

            <dt><span class="section"><a href=
            "#_blobs">Blobs</a></span></dt>

            <dt><span class="section"><a href=
            "#_trees">Trees</a></span></dt>

            <dt><span class="section"><a href=
            "#_commits">Commits</a></span></dt>

            <dt><span class="section"><a href=
            "#_indistinguishable_from_magic">Indistinguishable From
            Magic</a></span></dt>
          </dl>
        </div>

        <p>We take a peek under the hood and explain how Git
        performs its miracles. I will skimp over details. For
        in-depth descriptions refer to <a class="ulink" href=
        "http://www.kernel.org/pub/software/scm/git/docs/user-manual.html"
        target="_top">the user manual</a>.</p>

        <div class="section" title="Invisibility">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_invisibility"></a>Invisibility</h2>
              </div>
            </div>
          </div>

          <p>How can Git be so unobtrusive? Aside from occasional
          commits and merges, you can work as if you were unaware
          that version control exists. That is, until you need it,
          and that’s when you’re glad Git was watching over you the
          whole time.</p>

          <p>Other version control systems force you to constantly
          struggle with red tape and bureaucracy. Permissions of
          files may be read-only unless you explicitly tell a
          central server which files you intend to edit. The most
          basic commands may slow to a crawl as the number of users
          increases. Work grinds to a halt when the network or the
          central server goes down.</p>

          <p>In contrast, Git simply keeps the history of your
          project in the <code class="literal">.git</code>
          directory in your working directory. This is your own
          copy of the history, so you can stay offline until you
          want to communicate with others. You have total control
          over the fate of your files because Git can easily
          recreate a saved state from <code class=
          "literal">.git</code> at any time.</p>
        </div>

        <div class="section" title="Integrity">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_integrity"></a>Integrity</h2>
              </div>
            </div>
          </div>

          <p>Most people associate cryptography with keeping
          information secret, but another equally important goal is
          keeping information safe. Proper use of cryptographic
          hash functions can prevent accidental or malicious data
          corruption.</p>

          <p>A SHA1 hash can be thought of as a unique 160-bit ID
          number for every string of bytes you’ll encounter in your
          life. Actually more than that: every string of bytes that
          any human will ever use over many lifetimes.</p>

          <p>As a SHA1 hash is itself a string of bytes, we can
          hash strings of bytes containing other hashes. This
          simple observation is surprisingly useful: look up
          <span class="emphasis"><em>hash chains</em></span>. We’ll
          later see how Git uses it to efficiently guarantee data
          integrity.</p>

          <p>Briefly, Git keeps your data in the <code class=
          "literal">.git/objects</code> subdirectory, where instead
          of normal filenames, you’ll find only IDs. By using IDs
          as filenames, as well as a few lockfiles and timestamping
          tricks, Git transforms any humble filesystem into an
          efficient and robust database.</p>
        </div>

        <div class="section" title="Intelligence">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_intelligence"></a>Intelligence</h2>
              </div>
            </div>
          </div>

          <p>How does Git know you renamed a file, even though you
          never mentioned the fact explicitly? Sure, you may have
          run <span class="strong"><strong>git mv</strong></span>,
          but that is exactly the same as a <span class=
          "strong"><strong>git rm</strong></span> followed by a
          <span class="strong"><strong>git add</strong></span>.</p>

          <p>Git heuristically ferrets out renames and copies
          between successive versions. In fact, it can detect
          chunks of code being moved or copied around between
          files! Though it cannot cover all cases, it does a decent
          job, and this feature is always improving. If it fails to
          work for you, try options enabling more expensive copy
          detection, and consider upgrading.</p>
        </div>

        <div class="section" title="Indexing">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_indexing"></a>Indexing</h2>
              </div>
            </div>
          </div>

          <p>For every tracked file, Git records information such
          as its size, creation time and last modification time in
          a file known as the <span class=
          "emphasis"><em>index</em></span>. To determine whether a
          file has changed, Git compares its current stats with
          those cached in the index. If they match, then Git can
          skip reading the file again.</p>

          <p>Since stat calls are considerably faster than file
          reads, if you only edit a few files, Git can update its
          state in almost no time.</p>

          <p>We stated earlier that the index is a staging area.
          Why is a bunch of file stats a staging area? Because the
          add command puts files into Git’s database and updates
          these stats, while the commit command, without options,
          creates a commit based only on these stats and the files
          already in the database.</p>
        </div>

        <div class="section" title="Git’s Origins">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_git_8217_s_origins"></a>Git’s Origins</h2>
              </div>
            </div>
          </div>

          <p>This <a class="ulink" href=
          "http://lkml.org/lkml/2005/4/6/121" target="_top">Linux
          Kernel Mailing List post</a> describes the chain of
          events that led to Git. The entire thread is a
          fascinating archaeological site for Git historians.</p>
        </div>

        <div class="section" title="The Object Database">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_the_object_database"></a>The Object Database</h2>
              </div>
            </div>
          </div>

          <p>Every version of your data is kept in the <span class=
          "emphasis"><em>object database</em></span>, which lives
          in the subdirectory <code class=
          "literal">.git/objects</code>; the other residents of
          <code class="literal">.git/</code> hold lesser data: the
          index, branch names, tags, configuration options, logs,
          the current location of the head commit, and so on. The
          object database is elementary yet elegant, and the source
          of Git’s power.</p>

          <p>Each file within <code class=
          "literal">.git/objects</code> is an <span class=
          "emphasis"><em>object</em></span>. There are 3 kinds of
          objects that concern us: <span class=
          "emphasis"><em>blob</em></span> objects, <span class=
          "emphasis"><em>tree</em></span> objects, and <span class=
          "emphasis"><em>commit</em></span> objects.</p>
        </div>

        <div class="section" title="Blobs">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_blobs"></a>Blobs</h2>
              </div>
            </div>
          </div>

          <p>First, a magic trick. Pick a filename, any filename.
          In an empty directory:</p>
          <pre class="literallayout">
$ echo sweet &gt; YOUR_FILENAME
$ git init
$ git add .
$ find .git/objects -type f
</pre>

          <p>You’ll see <code class=
          "literal">.git/objects/aa/823728ea7d592acc69b36875a482cdf3fd5c8d</code>.</p>

          <p>How do I know this without knowing the filename? It’s
          because the SHA1 hash of:</p>
          <pre class="literallayout">
"blob" SP "6" NUL "sweet" LF
</pre>

          <p>is aa823728ea7d592acc69b36875a482cdf3fd5c8d, where SP
          is a space, NUL is a zero byte and LF is a linefeed. You
          can verify this by typing:</p>
          <pre class="literallayout">
$ printf "blob 6\000sweet\n" | sha1sum
</pre>

          <p>Git is <span class=
          "emphasis"><em>content-addressable</em></span>: files are
          not stored according to their filename, but rather by the
          hash of the data they contain, in a file we call a
          <span class="emphasis"><em>blob object</em></span>. We
          can think of the hash as a unique ID for a file’s
          contents, so in a sense we are addressing files by their
          content. The initial <code class="literal">blob 6</code>
          is merely a header consisting of the object type and its
          length in bytes; it simplifies internal bookkeeping.</p>

          <p>Thus I could easily predict what you would see. The
          file’s name is irrelevant: only the data inside is used
          to construct the blob object.</p>

          <p>You may be wondering what happens to identical files.
          Try adding copies of your file, with any filenames
          whatsoever. The contents of <code class=
          "literal">.git/objects</code> stay the same no matter how
          many you add. Git only stores the data once.</p>

          <p>By the way, the files within <code class=
          "literal">.git/objects</code> are compressed with zlib so
          you should not stare at them directly. Filter them
          through <a class="ulink" href=
          "http://www.zlib.net/zpipe.c" target="_top">zpipe -d</a>,
          or type:</p>
          <pre class="literallayout">
$ git cat-file -p aa823728ea7d592acc69b36875a482cdf3fd5c8d
</pre>

          <p>which pretty-prints the given object.</p>
        </div>

        <div class="section" title="Trees">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_trees"></a>Trees</h2>
              </div>
            </div>
          </div>

          <p>But where are the filenames? They must be stored
          somewhere at some stage. Git gets around to the filenames
          during a commit:</p>
          <pre class="literallayout">
$ git commit  # Type some message.
$ find .git/objects -type f
</pre>

          <p>You should now see 3 objects. This time I cannot tell
          you what the 2 new files are, as it partly depends on the
          filename you picked. We’ll proceed assuming you chose
          “rose”. If you didn’t, you can rewrite history to make it
          look like you did:</p>
          <pre class="literallayout">
$ git filter-branch --tree-filter 'mv YOUR_FILENAME rose'
$ find .git/objects -type f
</pre>

          <p>Now you should see the file <code class=
          "literal">.git/objects/05/b217bb859794d08bb9e4f7f04cbda4b207fbe9</code>,
          because this is the SHA1 hash of its contents:</p>
          <pre class="literallayout">
"tree" SP "32" NUL "100644 rose" NUL 0xaa823728ea7d592acc69b36875a482cdf3fd5c8d
</pre>

          <p>Check this file does indeed contain the above by
          typing:</p>
          <pre class="literallayout">
$ echo 05b217bb859794d08bb9e4f7f04cbda4b207fbe9 | git cat-file --batch
</pre>

          <p>With zpipe, it’s easy to verify the hash:</p>
          <pre class="literallayout">
$ zpipe -d &lt; .git/objects/05/b217bb859794d08bb9e4f7f04cbda4b207fbe9 | sha1sum
</pre>

          <p>Hash verification is trickier via cat-file because its
          output contains more than the raw uncompressed object
          file.</p>

          <p>This file is a <span class=
          "emphasis"><em>tree</em></span> object: a list of tuples
          consisting of a file type, a filename, and a hash. In our
          example, the file type is 100644, which means ‘rose` is a
          normal file, and the hash is the blob object that
          contains the contents of `rose’. Other possible file
          types are executables, symlinks or directories. In the
          last case, the hash points to a tree object.</p>

          <p>If you ran filter-branch, you’ll have old objects you
          no longer need. Although they will be jettisoned
          automatically once the grace period expires, we’ll delete
          them now to make our toy example easier to follow:</p>
          <pre class="literallayout">
$ rm -r .git/refs/original
$ git reflog expire --expire=now --all
$ git prune
</pre>

          <p>For real projects you should typically avoid commands
          like this, as you are destroying backups. If you want a
          clean repository, it is usually best to make a fresh
          clone. Also, take care when directly manipulating
          <code class="literal">.git</code>: what if a Git command
          is running at the same time, or a sudden power outage
          occurs? In general, refs should be deleted with
          <span class="strong"><strong>git update-ref
          -d</strong></span>, though usually it’s safe to remove
          <code class="literal">refs/original</code> by hand.</p>
        </div>

        <div class="section" title="Commits">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_commits"></a>Commits</h2>
              </div>
            </div>
          </div>

          <p>We’ve explained 2 of the 3 objects. The third is a
          <span class="emphasis"><em>commit</em></span> object. Its
          contents depend on the commit message as well as the date
          and time it was created. To match what we have here,
          we’ll have to tweak it a little:</p>
          <pre class="literallayout">
$ git commit --amend -m Shakespeare  # Change the commit message.
$ git filter-branch --env-filter 'export
    GIT_AUTHOR_DATE="Fri 13 Feb 2009 15:31:30 -0800"
    GIT_AUTHOR_NAME="Alice"
    GIT_AUTHOR_EMAIL="alice@example.com"
    GIT_COMMITTER_DATE="Fri, 13 Feb 2009 15:31:30 -0800"
    GIT_COMMITTER_NAME="Bob"
    GIT_COMMITTER_EMAIL="bob@example.com"'  # Rig timestamps and authors.
$ find .git/objects -type f
</pre>

          <p>You should now see <code class=
          "literal">.git/objects/49/993fe130c4b3bf24857a15d7969c396b7bc187</code>
          which is the SHA1 hash of its contents:</p>
          <pre class="literallayout">
"commit 158" NUL
"tree 05b217bb859794d08bb9e4f7f04cbda4b207fbe9" LF
"author Alice &lt;alice@example.com&gt; 1234567890 -0800" LF
"committer Bob &lt;bob@example.com&gt; 1234567890 -0800" LF
LF
"Shakespeare" LF
</pre>

          <p>As before, you can run zpipe or cat-file to see for
          yourself.</p>

          <p>This is the first commit, so there are no parent
          commits, but later commits will always contain at least
          one line identifying a parent commit.</p>
        </div>

        <div class="section" title="Indistinguishable From Magic">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_indistinguishable_from_magic"></a>Indistinguishable
                From Magic</h2>
              </div>
            </div>
          </div>

          <p>Git’s secrets seem too simple. It looks like you could
          mix together a few shell scripts and add a dash of C code
          to cook it up in a matter of hours: a melange of basic
          filesystem operations and SHA1 hashing, garnished with
          lock files and fsyncs for robustness. In fact, this
          accurately describes the earliest versions of Git.
          Nonetheless, apart from ingenious packing tricks to save
          space, and ingenious indexing tricks to save time, we now
          know how Git deftly changes a filesystem into a database
          perfect for version control.</p>

          <p>For example, if any file within the object database is
          corrupted by a disk error, then its hash will no longer
          match, alerting us to the problem. By hashing hashes of
          other objects, we maintain integrity at all levels.
          Commits are atomic, that is, a commit can never only
          partially record changes: we can only compute the hash of
          a commit and store it in the database after we already
          have stored all relevant trees, blobs and parent commits.
          The object database is immune to unexpected interruptions
          such as power outages.</p>

          <p>We defeat even the most devious adversaries. Suppose
          somebody attempts to stealthily modify the contents of a
          file in an ancient version of a project. To keep the
          object database looking healthy, they must also change
          the hash of the corresponding blob object since it’s now
          a different string of bytes. This means they’ll have to
          change the hash of any tree object referencing the file,
          and in turn change the hash of all commit objects
          involving such a tree, in addition to the hashes of all
          the descendants of these commits. This implies the hash
          of the official head differs to that of the bad
          repository. By following the trail of mismatching hashes
          we can pinpoint the mutilated file, as well as the commit
          where it was first corrupted.</p>

          <p>In short, so long as the 20 bytes representing the
          last commit are safe, it’s impossible to tamper with a
          Git repository.</p>

          <p>What about Git’s famous features? Branching? Merging?
          Tags? Mere details. The current head is kept in the file
          <code class="literal">.git/HEAD</code>, which contains a
          hash of a commit object. The hash gets updated during a
          commit as well as many other commands. Branches are
          almost the same: they are files in <code class=
          "literal">.git/refs/heads</code>. Tags too: they live in
          <code class="literal">.git/refs/tags</code> but they are
          updated by a different set of commands.</p>
        </div>
      </div>

      <div class="appendix" title="Anhang A. Git Shortcomings">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a name=
              "_git_shortcomings"></a>Anhang A. Git
              Shortcomings</h2>
            </div>
          </div>
        </div>

        <div class="toc">
          <p><b>Inhaltsverzeichnis</b></p>

          <dl>
            <dt><span class="section"><a href=
            "#_sha1_weaknesses">SHA1 Weaknesses</a></span></dt>

            <dt><span class="section"><a href=
            "#_microsoft_windows">Microsoft Windows</a></span></dt>

            <dt><span class="section"><a href=
            "#_unrelated_files">Unrelated Files</a></span></dt>

            <dt><span class="section"><a href=
            "#_who_8217_s_editing_what">Who’s Editing
            What?</a></span></dt>

            <dt><span class="section"><a href="#_file_history">File
            History</a></span></dt>

            <dt><span class="section"><a href=
            "#_initial_clone">Initial Clone</a></span></dt>

            <dt><span class="section"><a href=
            "#_volatile_projects">Volatile Projects</a></span></dt>

            <dt><span class="section"><a href=
            "#_global_counter">Global Counter</a></span></dt>

            <dt><span class="section"><a href=
            "#_empty_subdirectories">Empty
            Subdirectories</a></span></dt>

            <dt><span class="section"><a href=
            "#_initial_commit">Initial Commit</a></span></dt>

            <dt><span class="section"><a href=
            "#_interface_quirks">Interface Quirks</a></span></dt>
          </dl>
        </div>

        <p>There are some Git issues I’ve swept under the carpet.
        Some can be handled easily with scripts and hooks, some
        require reorganizing or redefining the project, and for the
        few remaining annoyances, one will just have to wait. Or
        better yet, pitch in and help!</p>

        <div class="section" title="SHA1 Weaknesses">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_sha1_weaknesses"></a>SHA1 Weaknesses</h2>
              </div>
            </div>
          </div>

          <p>As time passes, cryptographers discover more and more
          SHA1 weaknesses. Already, finding hash collisions is
          feasible for well-funded organizations. Within years,
          perhaps even a typical PC will have enough computing
          power to silently corrupt a Git repository.</p>

          <p>Hopefully Git will migrate to a better hash function
          before further research destroys SHA1.</p>
        </div>

        <div class="section" title="Microsoft Windows">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_microsoft_windows"></a>Microsoft Windows</h2>
              </div>
            </div>
          </div>

          <p>Git on Microsoft Windows can be cumbersome:</p>

          <div class="itemizedlist">
            <ul class="itemizedlist" type="disc">
              <li class="listitem"><a class="ulink" href=
              "http://cygwin.com/" target="_top">Cygwin</a>, a
              Linux-like environment for Windows, contains
              <a class="ulink" href=
              "http://cygwin.com/packages/git/" target="_top">a
              Windows port of Git</a>.</li>

              <li class="listitem"><a class="ulink" href=
              "http://code.google.com/p/msysgit/" target="_top">Git
              on MSys</a> is an alternative requiring minimal
              runtime support, though a few of the commands need
              some work.</li>
            </ul>
          </div>
        </div>

        <div class="section" title="Unrelated Files">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_unrelated_files"></a>Unrelated Files</h2>
              </div>
            </div>
          </div>

          <p>If your project is very large and contains many
          unrelated files that are constantly being changed, Git
          may be disadvantaged more than other systems because
          single files are not tracked. Git tracks changes to the
          whole project, which is usually beneficial.</p>

          <p>A solution is to break up your project into pieces,
          each consisting of related files. Use <span class=
          "strong"><strong>git submodule</strong></span> if you
          still want to keep everything in a single repository.</p>
        </div>

        <div class="section" title="Who’s Editing What?">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_who_8217_s_editing_what"></a>Who’s Editing
                What?</h2>
              </div>
            </div>
          </div>

          <p>Some version control systems force you to explicitly
          mark a file in some way before editing. While this is
          especially annoying when this involves talking to a
          central server, it does have two benefits:</p>

          <div class="orderedlist">
            <ol class="orderedlist" type="1">
              <li class="listitem">Diffs are quick because only the
              marked files need be examined.</li>

              <li class="listitem">One can discover who else is
              working on the file by asking the central server who
              has marked it for editing.</li>
            </ol>
          </div>

          <p>With appropriate scripting, you can achieve the same
          with Git. This requires cooperation from the programmer,
          who should execute particular scripts when editing a
          file.</p>
        </div>

        <div class="section" title="File History">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_file_history"></a>File History</h2>
              </div>
            </div>
          </div>

          <p>Since Git records project-wide changes, reconstructing
          the history of a single file requires more work than in
          version control systems that track individual files.</p>

          <p>The penalty is typically slight, and well worth having
          as other operations are incredibly efficient. For
          example, <code class="literal">git checkout</code> is
          faster than <code class="literal">cp -a</code>, and
          project-wide deltas compress better than collections of
          file-based deltas.</p>
        </div>

        <div class="section" title="Initial Clone">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_initial_clone"></a>Initial Clone</h2>
              </div>
            </div>
          </div>

          <p>Creating a clone is more expensive than checking out
          code in other version control systems when there is a
          lengthy history.</p>

          <p>The initial cost is worth paying in the long run, as
          most future operations will then be fast and offline.
          However, in some situations, it may be preferable to
          create a shallow clone with the <code class=
          "literal">--depth</code> option. This is much faster, but
          the resulting clone has reduced functionality.</p>
        </div>

        <div class="section" title="Volatile Projects">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_volatile_projects"></a>Volatile Projects</h2>
              </div>
            </div>
          </div>

          <p>Git was written to be fast with respect to the size of
          the changes. Humans make small edits from version to
          version. A one-liner bugfix here, a new feature there,
          emended comments, and so forth. But if your files are
          radically different in successive revisions, then on each
          commit, your history necessarily grows by the size of
          your whole project.</p>

          <p>There is nothing any version control system can do
          about this, but standard Git users will suffer more since
          normally histories are cloned.</p>

          <p>The reasons why the changes are so great should be
          examined. Perhaps file formats should be changed. Minor
          edits should only cause minor changes to at most a few
          files.</p>

          <p>Or perhaps a database or backup/archival solution is
          what is actually being sought, not a version control
          system. For example, version control may be ill-suited
          for managing photos periodically taken from a webcam.</p>

          <p>If the files really must be constantly morphing and
          they really must be versioned, a possibility is to use
          Git in a centralized fashion. One can create shallow
          clones, which checks out little or no history of the
          project. Of course, many Git tools will be unavailable,
          and fixes must be submitted as patches. This is probably
          fine as it’s unclear why anyone would want the history of
          wildly unstable files.</p>

          <p>Another example is a project depending on firmware,
          which takes the form of a huge binary file. The history
          of the firmware is uninteresting to users, and updates
          compress poorly, so firmware revisions would
          unnecessarily blow up the size of the repository.</p>

          <p>In this case, the source code should be stored in a
          Git repository, and the binary file should be kept
          separately. To make life easier, one could distribute a
          script that uses Git to clone the code, and rsync or a
          Git shallow clone for the firmware.</p>
        </div>

        <div class="section" title="Global Counter">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_global_counter"></a>Global Counter</h2>
              </div>
            </div>
          </div>

          <p>Some centralized version control systems maintain a
          positive integer that increases when a new commit is
          accepted. Git refers to changes by their hash, which is
          better in many circumstances.</p>

          <p>But some people like having this integer around.
          Luckily, it’s easy to write scripts so that with every
          update, the central Git repository increments an integer,
          perhaps in a tag, and associates it with the hash of the
          latest commit.</p>

          <p>Every clone could maintain such a counter, but this
          would probably be useless, since only the central
          repository and its counter matters to everyone.</p>
        </div>

        <div class="section" title="Empty Subdirectories">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_empty_subdirectories"></a>Empty
                Subdirectories</h2>
              </div>
            </div>
          </div>

          <p>Empty subdirectories cannot be tracked. Create dummy
          files to work around this problem.</p>

          <p>The current implementation of Git, rather than its
          design, is to blame for this drawback. With luck, once
          Git gains more traction, more users will clamour for this
          feature and it will be implemented.</p>
        </div>

        <div class="section" title="Initial Commit">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_initial_commit"></a>Initial Commit</h2>
              </div>
            </div>
          </div>

          <p>A stereotypical computer scientist counts from 0,
          rather than 1. Unfortunately, with respect to commits,
          git does not adhere to this convention. Many commands are
          unfriendly before the initial commit. Additionally, some
          corner cases must be handled specially, such as rebasing
          a branch with a different initial commit.</p>

          <p>Git would benefit from defining the zero commit: as
          soon as a repository is constructed, HEAD would be set to
          the string consisting of 20 zero bytes. This special
          commit represents an empty tree, with no parent, at some
          time predating all Git repositories.</p>

          <p>Then running git log, for example, would inform the
          user that no commits have been made yet, instead of
          exiting with a fatal error. Similarly for other
          tools.</p>

          <p>Every initial commit is implicitly a descendant of
          this zero commit.</p>

          <p>However there are some problem cases unfortunately. If
          several branches with different initial commits are
          merged together, then rebasing the result requires
          substantial manual intervention.</p>
        </div>

        <div class="section" title="Interface Quirks">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a name=
                "_interface_quirks"></a>Interface Quirks</h2>
              </div>
            </div>
          </div>

          <p>For commits A and B, the meaning of the expressions
          "A..B" and "A…B" depends on whether the command expects
          two endpoints or a range. See <span class=
          "strong"><strong>git help diff</strong></span> and
          <span class="strong"><strong>git help
          rev-parse</strong></span>.</p>
        </div>
      </div>

      <div class="appendix" title=
      "Anhang B. Diese Anleitung übersetzen">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title"><a name=
              "_diese_anleitung_u_bersetzen"></a>Anhang B. Diese
              Anleitung übersetzen</h2>
            </div>
          </div>
        </div>

        <p><span class="emphasis"><em>Clone</em></span> die
        Quelltexte, dann erstelle ein Verzeichnis mit dem Namen des
        <a class="ulink" href=
        "http://www.iana.org/assignments/language-subtag-registry"
        target="_top">IETF Sprachkürzel</a> der übersetzten
        Sprache: siehe <a class="ulink" href=
        "http://www.w3.org/International/articles/language-tags/Overview.en.php"
        target="_top">den W3C Artikel über
        Internationalisierung</a>. Zum Beispiel, Englisch ist "en",
        Japanisch ist "ja" und traditionelles Chinesisch ist
        "zh-Hant". Kopiere alle txt-Dateien aus dem
        "en"-Verzeichnis in das neue Verzeichnis und übersetze
        diese.</p>

        <p>Um zum Beispiel die Anleitung auf <a class="ulink" href=
        "http://de.wikipedia.org/wiki/Klingonische_Sprache" target=
        "_top">Klingonisch</a> zu übersetzen, mußt du folgendes
        machen:</p>
        <pre class="literallayout">
$ git clone git://repo.or.cz/gitmagic.git
$ cd gitmagic
$ mkdir tlh  # "tlh" ist das IETF Sprachkürzel für Klingonisch.
$ cd tlh
$ cp ../en/intro.txt .
$ edit intro.txt  # Übersetze diese Datei.
</pre>

        <p>und das machst du für jede txt-Datei. Du kannst deine
        Arbeit jederzeit wie folgt überprüfen:</p>
        <pre class="literallayout">
$ make LANG=tlh
$ firefox book.html
</pre>

        <p><span class="emphasis"><em>Committe</em></span> deine
        Änderungen oft und wenn du fertig bist, gib bitte
        Bescheid. GitHub.com hat eine Schnittstelle, die das
        erleichtert: Erzeuge deine eigene <span class=
        "emphasis"><em>Fork</em></span> vom "gitmagic" Projekt,
        <span class="emphasis"><em>pushe</em></span> deine
        Änderungen, dann gib mir Bescheid, deine Änderungen zu
        <span class="emphasis"><em>mergen</em></span>.</p>

        <p>Ich bevorzuge Übersetzungen nach diesem Schema, denn so
        können meine Skripte HTML und PDF Versionen erstellen.
        Außerdem hält es alle Übersetzungen bequem im offiziellen
        <span class="emphasis"><em>Repository</em></span>.
        Trotzdem, wähle den Weg, der dir am besten liegt. Die
        chinesischen Übersetzer zum Beispiel benutzen Google Docs.
        Ich bin glücklich, so lange deine Arbeit mehr Menschen den
        Zugang zu meiner Arbeit ermöglicht.</p>
      </div>
    </div>
  </div>

  <div class="footer">
    <a href="/~blynn/">Ben Lynn</a>
  </div>
</div>
</div><div class="footer"><a href="/~blynn/">Ben Lynn</a></div>
</body>
</html>
