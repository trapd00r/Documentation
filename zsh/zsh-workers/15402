From zsh-workers-return-15402-mason-zsh=primenet.com.au@sunsite.dk Tue Jul 17 16:19:22 2001
Return-Path: <zsh-workers-return-15402-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 7239 invoked from network); 17 Jul 2001 16:19:21 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 17 Jul 2001 16:19:21 -0000
Received: (qmail 5062 invoked by alias); 17 Jul 2001 16:19:11 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 15402
Received: (qmail 5047 invoked from network); 17 Jul 2001 16:19:10 -0000
Date: Wed, 18 Jul 2001 01:19:06 +0900
Message-ID: <86zoa3jzph.wl@archon.local.idaemons.org>
From: "Akinori MUSHA" <knu@iDaemons.org>
To: zsh-workers@sunsite.dk
Subject: a tiny patch for _cvs
User-Agent: Wanderlust/2.7.1 (Too Funky) SEMI/1.14.3 (Ushinoya) FLIM/1.14.3
 (=?ISO-8859-1?Q?Unebigory=F2mae?=) APEL/10.3 MULE XEmacs/21.1 (patch 14)
 (Cuyahoga Valley) (i386--freebsd)
Organization: Associated I. Daemons
X-PGP-Public-Key: finger knu@FreeBSD.org
X-PGP-Fingerprint: 081D 099C 1705 861D 4B70  B04A 920B EFC7 9FD9 E1EE
MIME-Version: 1.0 (generated by SEMI 1.14.3 - "Ushinoya")
Content-Type: text/plain; charset=US-ASCII

Hello again,

We found that the compdef for cvs(1) didn't grok the -R option, which
had been introduced by FreeBSD (and later adopted by OpenBSD) quite
some time ago.

As the option is very useful for resolving the permission issue and
improving the performance over NFS or SSH, we really get used to it.
We'd appreciate if you could kindly merge the attached patch.


Regards,

-- 
                     /
                    /__  __            Akinori.org / MUSHA.org
                   / )  )  ) )  /     FreeBSD.org / Ruby-lang.org
Akinori MUSHA aka / (_ /  ( (__(  @ iDaemons.org / and.or.jp

"Freeze this moment a little bit longer, make each impression
  a little bit stronger..  Experience slips away -- Time stand still"

--- _cvs.orig	Wed Jul 18 00:52:28 2001
+++ _cvs	Wed Jul 18 00:54:02 2001
@@ -3,8 +3,17 @@
 # redefine _cvs.
 
 _cvs () {
+  local extra
+
   # "+Qqrwtnlvb:T:e:d:Hfz:s:xa"
+  case $OSTYPE in
+  freebsd*|openbsd*)
+    extra='-R[read only access]'
+    ;;
+  esac
+
   _arguments -s \
+    $extra \
     '-a[authenticate]' \
     '-f[disable .cvsrc]' \
     '(-n)-l[disable logging]' \

