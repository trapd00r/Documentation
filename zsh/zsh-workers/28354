From zsh-workers-return-28354-mason-zsh=primenet.com.au@zsh.org Sat Oct 16 11:21:58 2010
Return-Path: <zsh-workers-return-28354-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 15981 invoked by alias); 16 Oct 2010 11:21:58 -0000
Mailing-List: contact zsh-workers-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Workers List <zsh-workers.zsh.org>
List-Post: <mailto:zsh-workers@zsh.org>
List-Help: <mailto:zsh-workers-help@zsh.org>
Delivered-To: mailing list zsh-workers@zsh.org
X-Seq: 28354
Received: (qmail 16081 invoked from network); 16 Oct 2010 11:21:57 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.0 required=5.0 tests=BAYES_00,DKIM_SIGNED,
	DKIM_VALID,DKIM_VALID_AU,FREEMAIL_FROM,RCVD_IN_DNSWL_NONE autolearn=ham
	version=3.3.1
Received-SPF: pass (ns1.primenet.com.au: SPF record at _spf.google.com designates 209.85.212.43 as permitted sender)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:date:message-id
         :subject:from:to:content-type:content-transfer-encoding;
        bh=LjocD4hOFt56WVH1w8gYN3v1BNMJmjv4w2ctRcnmx/g=;
        b=JIoUOJkf4dRhUxVxLN6E54JN+lut5ZvylkWietXlo6RGFFV/9woqU0LIfN4F6kIpZk
         +TLWwg2QV3Fipu5OCeZilWT4/VljD3kYCWOT8TezdnPLZ35gvtkevjXFJj0hZWbAz6J8
         0lJP3c6AVQXaFqiHPrIbhY1zUHLIhO7/cH+Zw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        b=KzT1fDax4rENMdMyFFOtKQWArK7DDO7aMD3phWkHvyBS/nPOMq/1zWjgnd5DQCo2z2
         Ml5Wnb6QktT90IhsnwK8KvDkreNmDzJTCuF6nWwSc6OxBqxnnR8+SS4KLisyClo757xg
         4/IaaPLELVvrsq+j0ZMUv8TFLik1NulO1lOvI=
MIME-Version: 1.0
Date: Sat, 16 Oct 2010 13:21:50 +0200
Message-ID: <AANLkTimh+E7u1n1+t4bR1On5wO-xGcJS9ssdp+ERmGZw@mail.gmail.com>
Subject: command line not refresh properly with wide chars when cursor would
 have been inside one
From: Mikael Magnusson <mikachu@gmail.com>
To: zsh workers <zsh-workers@zsh.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

zsh -f
% echo =E3=81=AE=E3=81=AE=E3=81=AE
% uuuuuu<up>
% echo =E3=81=AE    [cursor here]

if you type one more (or less, or three or five more) letters, the
line refreshes properly, but when it would have ended up in the middle
of a wide char, the line gets cut off. This has bothered me for quite
some time but I've never been able to figure out the exact
circumstances before. Verified in latest cvs and 4.3.6 with -f.

--=20
Mikael Magnusson

