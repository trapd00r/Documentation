From zsh-users-return-13896-mason-zsh=primenet.com.au@sunsite.dk Wed Mar 11 09:53:09 2009
Return-Path: <zsh-users-return-13896-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1562 invoked from network); 11 Mar 2009 09:53:06 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 11 Mar 2009 09:53:06 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 58039 invoked from network); 11 Mar 2009 09:51:21 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 11 Mar 2009 09:51:21 -0000
Received: (qmail 2146 invoked by alias); 11 Mar 2009 09:50:58 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 13896
Received: (qmail 2132 invoked from network); 11 Mar 2009 09:50:58 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 11 Mar 2009 09:50:58 -0000
Received: from wf-out-1314.google.com (wf-out-1314.google.com [209.85.200.173])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 2C7BD80307F8
	for <zsh-users@sunsite.dk>; Wed, 11 Mar 2009 10:50:50 +0100 (CET)
Received: by wf-out-1314.google.com with SMTP id 28so3161360wff.3
        for <zsh-users@sunsite.dk>; Wed, 11 Mar 2009 02:50:49 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=ICwOuAuGvF+KNjZaUAwgMOAt3DAVMDus6N/t2HfLCDg=;
        b=mSVwfe4ZA5Noud8SJ3W32KHVz5Z5F8kT4YJMQTdZFgq8frzoUipze1EGMit6OuaLo6
         Kol8HMXC+GcFPFe4JIZFHJBRn8pGkZh8ZkI5tO9oeWErkHeLvCs9qYMFpgolF3UX+ZCl
         Evbhlu3kLpmM+jE326TRQtv9nkJkf+369iQcQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=bGwhWbQzCaU5kbzw2K5tLe5p4Q4qZ5SqC/JneTr+iFN+WK07w+t5Syxt+nlgF2d2D5
         JBFriitghj3vTisaj9IigjD5yfGw/zhStaan5f8oUpm86No1xvjQYVXxTH8Y8pVWShUV
         uxvZomY7ll5Y8652AvgBFSJ6o3DJdXwn6g4jY=
MIME-Version: 1.0
Received: by 10.142.58.20 with SMTP id g20mr3595817wfa.191.1236765049801; Wed, 
	11 Mar 2009 02:50:49 -0700 (PDT)
In-Reply-To: <57016.153.98.68.197.1236759758.squirrel@webmail.rocteur.com>
References: <57016.153.98.68.197.1236759758.squirrel@webmail.rocteur.com>
Date: Wed, 11 Mar 2009 05:50:49 -0400
Message-ID: <17393e3e0903110250o123b2388nbe761970b8c23688@mail.gmail.com>
Subject: Re: Strange escaped < > behaviour
From: Matt Wozniski <godlygeek@gmail.com>
To: Jerry Rocteur <macosx@rocteur.cc>, zsh-users@sunsite.dk
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Scanned: ClamAV 0.92.1/9089/Wed Mar 11 07:38:14 2009 on bifrost
X-Virus-Status: Clean

On Wed, Mar 11, 2009 at 4:22 AM, Jerry Rocteur wrote:
> Hi,
>
> We have a bunch of scripts that work on KSH and PDKSH like this:
>
> echo ' =C2=A0 =C2=A0 =C2=A0 =C2=A0ULOGPFX =C2=A0 =C2=A0 =C2=A0 =C2=A0=3D =
"<WORK_DIR>/ULOG"' | sed 's/.*\<\(.*\)\>.*/\1/'
> WORK_DIR
>
> Don't ask me why the escaped the < and > above but the scripts have been =
like this for a LONG LONG time!
>
> Now with ZSH I get this behaviour
>
> echo ' =C2=A0 =C2=A0 =C2=A0 =C2=A0ULOGPFX =C2=A0 =C2=A0 =C2=A0 =C2=A0=3D =
"<WORK_DIR>/ULOG"' | sed 's/.*\<\(.*\)\>.*/\1/'
> ULOG
>
> The easy way to fix it is to remove the back slash in front of the < and =
>
>
> However this is VERY annoying.
>
> Why does the above give us ULOG and why does this differ from the KSH and=
 PDKSH.

I'm going to go *way* out on a limb with my assumptions here, but,
here goes: You're clearly doing this on a non-linux unix, since Linux
would use gnu sed, where \< and \> are special and different from <
and >.  If you were on Linux, your script would never have worked.
So, my huge assumption would be to guess that you probably put paths
to gnu versions of tools in your path.  I know I did the last time I
was stuck using Solaris.  So, my best guess is that your $PATH is set
differently on zsh than in ksh or pdksh, causing zsh to call a version
of sed where \< and \> match word boundaries, instead of matching <
and >.  Change your $PATH, or use an absolute path to the sed binary
that works with pdksh, and I'm guessing things will just work.

~Matt

