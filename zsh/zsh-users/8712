From zsh-users-return-8712-mason-zsh=primenet.com.au@sunsite.dk Wed Apr 20 01:20:03 2005
Return-Path: <zsh-users-return-8712-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10655 invoked from network); 20 Apr 2005 01:20:02 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 20 Apr 2005 01:20:02 -0000
Received: (qmail 97445 invoked from network); 20 Apr 2005 01:19:57 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 20 Apr 2005 01:19:57 -0000
Received: (qmail 11376 invoked by alias); 20 Apr 2005 01:19:48 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8712
Received: (qmail 11362 invoked from network); 20 Apr 2005 01:19:47 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 20 Apr 2005 01:19:47 -0000
Received: (qmail 96349 invoked from network); 20 Apr 2005 01:19:46 -0000
Received: from omr4.netsolmail.com (216.168.230.140)
  by a.mx.sunsite.dk with SMTP; 20 Apr 2005 01:19:43 -0000
Received: from ms11.netsolmail.com (IDENT:mirapoint@[216.168.230.173])
	by omr4.netsolmail.com (8.12.10/8.12.10) with ESMTP id j3K1JgeB000386
	for <zsh-users@sunsite.dk>; Tue, 19 Apr 2005 21:19:42 -0400 (EDT)
Received: from ckhb.org (cpe-24-221-169-78.ca.sprintbbd.net [24.221.169.78])
	by ms11.netsolmail.com (Mirapoint Messaging Server MOS 3.2.2-GA)
	with ESMTP id ATQ18340;
	Tue, 19 Apr 2005 21:19:41 -0400 (EDT)
From: "S. Cowles" <scowles@earthlink.net>
Reply-To: scowles@earthlink.net
Organization: personal
To: Zsh Users <zsh-users@sunsite.dk>
Subject: zsh 4.3.0 dev 1 with cygwin1.dll 1.5.15
Date: Tue, 19 Apr 2005 18:19:36 -0700
User-Agent: KMail/1.5.1
MIME-Version: 1.0
Content-Type: Text/Plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Content-Description: clearsigned data
Content-Disposition: inline
Message-Id: <200504191819.38623.scowles@earthlink.net>
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=6.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.6


I don't have a clear perception which mailing list is the more appropriate =
for=20
this question, so I've sent a version of this message to the cygwin users'=
=20
mailing list and to the zsh users' list.  Any help would be appreciated.

The problem is that I have had no success running zsh 4.3.0 dev 1 on the la=
st=20
two releases of cygwin1.dll,=20

CYGWIN_NT-5.1 host 1.5.14(0.126/4/2) 2005-04-01 13:40 i686=20
CYGWIN_NT-5.1 host 1.5.15(0.127/4/2) 2005-04-18 12:20 i686

The builds of zsh proceed with no undue problems, but test A05 fails.  The=
=20
following is the message from running the cvs version of 4.3.0 dev 1 (pulle=
d=20
about 10h00 PDT, GMT +0700, 19 apr 2005) against cygwin1.dll=20
1.5.15(0.127/4/2):

=2E/A05execution.ztst: starting.
Test ./A05execution.ztst failed: bad status 1, expected 0 from:
  path=3D($ZTST_testdir/command.tmp/dir1
        $ZTST_testdir/command.tmp/dir2
        .)
  tstcmd
  path=3D($storepath)
Error output:
      6 [main] zsh 2052 fork_parent: child 3084 died waiting for longjmp=20
before initialization
(eval):4: fork failed: interrupt
Was testing: path (1)
=2E/A05execution.ztst: test failed.
 249108 [main] zsh 2052 fork_parent: child 3640 died waiting for longjmp=20
before initialization
ZTST_cleanup:2: fork failed: no such file or directory


When I try to run this build of zsh, every call to a non-builtin resource=20
results in a fork failure. I have asked the cygwin mailing list if there=20
might be some user configurable resource that would fix this problem.  On t=
he=20
other hand, the cygwin release of zsh 4.2.4 does run under this latest=20
release of cygwin1.dll. Before I jump in, I wondered if anyone had already=
=20
run into this problem and had any pointers to causes.

