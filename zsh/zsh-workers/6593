From zsh-workers-return-6593-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Jun 11 11:22:01 1999
Return-Path: <zsh-workers-return-6593-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 7485 invoked from network); 11 Jun 1999 11:22:00 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 11 Jun 1999 11:22:00 -0000
Received: (qmail 22134 invoked by alias); 11 Jun 1999 11:21:56 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 6593
Received: (qmail 22126 invoked from network); 11 Jun 1999 11:21:55 -0000
Message-ID: <375E28CA.33ED59B5@thoth.u-net.com>
Date: Wed, 09 Jun 1999 09:41:46 +0100
From: Oliver Kiddle <opk@thoth.u-net.com>
X-Mailer: Mozilla 4.6 [en] (Win95; I)
X-Accept-Language: en
MIME-Version: 1.0
To: zsh-workers@sunsite.auc.dk
CC: Peter Stephenson <pws@ibmth.df.unipi.it>
Subject: compctl -l broken and function installation
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I installed pws-21 at home (where I use the new style completions) and
tried out the new stuff for installing the completion functions. I
didn't specify the directory, leaving it to use the default. Anyway, it
decided to install them in a directory named 'yes'. This was with IRIX
5.3 if that's relevant. I'll hopefully have time to look into it in more
detail on the weekend if it isn't fixed first.

Personally, I would prefer if the directory structure from the
distribution for the completion functions was preserved by the
installation (Base, Builtins, Commands etc). It would keep the directory
more manageable. Also, it might allow different users to have a
different selection of the functions on the same system.
Another suggestion would be to separate some of the functions in User
which are system dependant into separate directories which can be
selected from. For example, there could be directories for Gnu, BSD,
SYSV, AIX, IRIX, Linux etc.

When compiling on IRIX, I got a load of warnings relating to typedef
unsigned long; being duplicate in /usr/include/sys/types.h. I don't
think I've seen them before. I assume that the warnings resulted from
something the pre-processor was doing. Is this possibly a result of the
long file changes. Again, I should have more time on the weekend to take
a closer look at this.

I sent the following e-mail to the list yesterday and it didn't seem to
get through. Sorry if you end up with it twice.

The -l option to compctl seems to be broken. I first noticed this a
while ago (about pws-18), it exists in pws-21 but wasn't there in a
pws-16 I had lying about.

For example:
zsh -f
compctl -l '' t
t <tab>

Gives a beep.
I get the same problems when using the find -exec example from the
documentation. The problem exists on both AIX and IRIX.

Thanks

Oliver Kiddle

PS. Peter: I've cc'd this to you because I suspect that it will fail to
be delivered as I've had a few problems recently with my ISP not being
able to deliver to zsh-workers. If you don't get it from the mailing
list, please forward it.

