From zsh-workers-return-24965-mason-zsh=primenet.com.au@sunsite.dk Wed May 07 21:48:12 2008
Return-Path: <zsh-workers-return-24965-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 27900 invoked from network); 7 May 2008 21:48:09 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.4 (2008-01-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.4
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 7 May 2008 21:48:09 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 50006 invoked from network); 7 May 2008 21:48:05 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 7 May 2008 21:48:05 -0000
Received: (qmail 4702 invoked by alias); 7 May 2008 21:48:01 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 24965
Received: (qmail 4680 invoked from network); 7 May 2008 21:48:00 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 7 May 2008 21:48:00 -0000
Received: from mx.spodhuis.org (redoubt.spodhuis.org [193.202.115.177])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 541CF80ED172
	for <zsh-workers@sunsite.dk>; Wed,  7 May 2008 23:47:54 +0200 (CEST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws; s=d200803; d=spodhuis.org;
	h=Received:Date:From:To:Subject:Message-ID:Mail-Followup-To:References:MIME-Version:Content-Type:Content-Disposition:In-Reply-To;
	b=fARNXqzovUr2LVqODaTfuP13TbG2UV5XkpVz1Ds7zdXfObeNDFp2QkvrErNb9Cg6UIIJc3EMubLmV2d1tKQt0hJtsaA6gNGgn1uxeiY4xRn5XLXw+XI8B0IXQoctCtSJlnrEMihKQxlvYwcv3+hCX9ZqpBgPCkTRdnZcXe/vXbM=;
Received: by smtp.spodhuis.org with local 
	id 1JtrUH-000H7E-Kj; Wed, 07 May 2008 21:47:45 +0000
Date: Wed, 7 May 2008 14:47:45 -0700
From: Phil Pennock <zsh-workers+phil.pennock@spodhuis.org>
To: zsh-workers@sunsite.dk, martin f krafft <madduck@debian.org>,
	Bart Schaefer <schaefer@brasslantern.com>, 479764@bugs.debian.org
Subject: Re: Bug#479764: shell builtin mv fails to move files across devices
Message-ID: <20080507214745.GA65676@redoubt.spodhuis.org>
Mail-Followup-To: zsh-workers@sunsite.dk,
	martin f krafft <madduck@debian.org>,
	Bart Schaefer <schaefer@brasslantern.com>, 479764@bugs.debian.org
References: <20080506144208.GA15225@lapse.madduck.net> <20080506150303.GB31177@scru.org> <080506084541.ZM1350@torch.brasslantern.com> <20080506165555.GB17377@lapse.madduck.net> <20080506205523.GA4237@redoubt.spodhuis.org> <20080507213034.GL13554@prunille.vinc17.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20080507213034.GL13554@prunille.vinc17.org>
X-Virus-Scanned: ClamAV 0.91.2/7051/Wed May  7 22:31:12 2008 on bifrost
X-Virus-Status: Clean

On 2008-05-07 at 23:30 +0200, Vincent Lefevre wrote:
> On 2008-05-06 13:55:23 -0700, Phil Pennock wrote:
> > Most people shouldn't need to use it.
> 
> I use it *by default* just because of the Linux kernel bug^Wlimitation
> concerning the argument list (I often exceed it). But perhaps I should
> write my own shell function as a wrapper to coreutils and use xargs or
> zargs when necessary.

Would it make more sense for your usage if Zsh used the new "features"
capabilities to resolve this?  Would this also help with the Debian
situation, in addition to documentation notes?

They were added by Peter after I sent a proposed patch renaming
zsh/stat's stat to zstat, with a stat deprecated backwards-compatible
name, since a stat(1) external command has come along in the years since
zsh's stat module was introduced with incompatible behaviour.

Peter just looked at the logical conclusion and put in a lot more work
to do the Right Thing.

For zsh/files it's not quite as simple as adding a z in front of the
names, since we already have zmv, but if there were alternate names
which would allow you to use Features to load only those names?

-Phil

PS: why single Linux out for doing what every Unix variant does?

