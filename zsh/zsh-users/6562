From zsh-users-return-6562-mason-zsh=primenet.com.au@sunsite.dk Wed Sep 10 19:57:46 2003
Return-Path: <zsh-users-return-6562-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 20188 invoked from network); 10 Sep 2003 19:57:46 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 10 Sep 2003 19:57:46 -0000
Received: (qmail 25733 invoked by alias); 10 Sep 2003 19:57:26 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 6562
Received: (qmail 25718 invoked from network); 10 Sep 2003 19:57:25 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 10 Sep 2003 19:57:25 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [192.54.253.222] by sunsite.dk (MessageWall 1.0.8) with SMTP; 10 Sep 2003 19:57:25 -0000
Received: by binome.blorf.net (Postfix, from userid 1000)
	id 508147858E; Wed, 10 Sep 2003 12:57:24 -0700 (PDT)
Date: Wed, 10 Sep 2003 12:57:24 -0700
From: Wayne Davison <wayned@users.sourceforge.net>
To: zsh-users@sunsite.dk
Subject: Re: ~/.zshenv or ~/.zprofile
Message-ID: <20030910195724.GA11535@binome.blorf.net>
References: <20030803221858.GA2720@puritan.pcp.ath.cx> <20030803223949.GA18476@binome.blorf.net> <1030804060015.ZM15706@candle.brasslantern.com> <20030907175710.GA28613@binome.blorf.net>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20030907175710.GA28613@binome.blorf.net>
User-Agent: Mutt/1.5.4i

On Sun, Sep 07, 2003 at 10:57:10AM -0700, Wayne Davison wrote:
> I'd like to change the StartupFiles/zshenv file so that it doesn't
> recommend setting the "path".

I've checked in an improved version of my zshenv file.  In addition to
some minor language improvments and the correction of an age-old
spelling error, I added a section that attempts to give advice to those
that want to use .zshenv to set their PATH.  Namely:

# Some people insist on setting their PATH here to affect things like ssh.
# Those that do should probably use $SHLVL to ensure that this only happens
# the first time the shell is started (to avoid overriding a customized
# environment).  Also, the various profile/rc/login files all get sourced
# *after* this file, so they will override this value.  One solution is to
# put your path-setting code into a file named .zpath, and source it from
# both here (if we're not a login shell) and from the .zprofile file (which
# is only sourced if we are a login shell).
if [[ $SHLVL == 1 && ! -o LOGIN ]]; then
    source ~/.zpath
fi

Seems like a pretty good solution to me -- do you agree?

Finally, I'd like to know how to get the zsh.org web sites to update
with the new zshenv?  Does this happen automatically?

..wayne..

