From zsh-workers-return-14635-mason-zsh=primenet.com.au@sunsite.dk Fri Jun 01 12:13:47 2001
Return-Path: <zsh-workers-return-14635-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4588 invoked from network); 1 Jun 2001 12:13:46 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 1 Jun 2001 12:13:46 -0000
Received: (qmail 23116 invoked by alias); 1 Jun 2001 12:13:35 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 14635
Received: (qmail 23085 invoked from network); 1 Jun 2001 12:13:34 -0000
Date: Fri, 1 Jun 2001 08:13:32 -0400
From: Clint Adams <clint@zsh.org>
To: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
Cc: zsh-workers@sunsite.dk
Subject: PATCH: gdb corefile completion [was Re: Bug#99095: Process completion for gdb]
Message-ID: <20010601081332.A29661@dman.com>
References: <20010531135843.A16416@dman.com> <200106010730.JAA12419@beta.informatik.hu-berlin.de>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5i
In-Reply-To: <200106010730.JAA12419@beta.informatik.hu-berlin.de>; from wischnow@informatik.hu-berlin.de on Fri, Jun 01, 2001 at 09:30:36AM +0200

> So, I would be happy if you choose to change the call to _files, and
> since noone complained that that would break core file completion on
> their system...

Well, here it is.

Index: Completion/Unix/Command/_gdb
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_gdb,v
retrieving revision 1.1
diff -u -r1.1 _gdb
--- Completion/Unix/Command/_gdb	2001/04/02 11:51:19	1.1
+++ Completion/Unix/Command/_gdb	2001/06/01 12:11:27
@@ -47,7 +47,7 @@
   done
 
   if [[ $#w -gt 1 ]]; then
-    _alternative 'files:: _files' "processes:: _pids -m ${w[1]:t}"
+    _alternative "files:: _files -g '*core'" "processes:: _pids -m ${w[1]:t}"
   else
     _description files expl executable
     _files "$expl[@]" -g '*(-*)'

