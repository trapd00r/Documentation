From zsh-workers-return-17132-mason-zsh=primenet.com.au@sunsite.dk Mon May 13 09:07:04 2002
Return-Path: <zsh-workers-return-17132-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8254 invoked from network); 13 May 2002 09:07:04 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 13 May 2002 09:07:04 -0000
Received: (qmail 18044 invoked by alias); 13 May 2002 09:06:55 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 17132
Received: (qmail 18033 invoked from network); 13 May 2002 09:06:55 -0000
From: Sven Wischnowsky <wischnow@berkom.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15583.33299.560286.334566@wischnow.berkom.de>
Date: Mon, 13 May 2002 11:06:27 +0200
To: zsh-workers@sunsite.dk
Subject: Re: PATCH: zselect builtin. 
In-Reply-To: <28863.1020880155@csr.com>
References: <26624.1020878625@csr.com>
	<28863.1020880155@csr.com>
X-Mailer: VM 6.95 under 21.5 (patch 3) "asparagus" XEmacs Lucid


Peter Stephenson wrote:

> ...
> 
> This isn't quite right; normal function execution doesn't work quite
> that way.  What is happening is I have a function that sets a trap,
> which gets restored because of the localtraps option.  Freeing a trap
> does use freeeprog, with the described behaviour.  So it's less
> disastrous, and I can probably avoid using local traps, but would still
> be nice to fix.

Yes, it would be. It was mostly a pretty simple-minded attempt to
ensure that we don't free stuff too early. I'm not sure where a better
place is to put the calls to free*, though.


Bye
  Sven

-- 
Sven Wischnowsky                          wischnow@berkom.de

