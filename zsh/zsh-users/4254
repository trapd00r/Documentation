From zsh-users-return-4254-mason-zsh=primenet.com.au@sunsite.dk Tue Sep 18 20:40:39 2001
Return-Path: <zsh-users-return-4254-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5598 invoked from network); 18 Sep 2001 20:40:38 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 18 Sep 2001 20:40:38 -0000
Received: (qmail 28686 invoked by alias); 18 Sep 2001 20:40:07 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4254
Received: (qmail 28666 invoked from network); 18 Sep 2001 20:40:05 -0000
MIME-Version: 1.0
From: Vincent Lefevre <vincent@vinc17.org>
To: zsh-users@sunsite.dk
Date: Tue, 18 Sep 2001 22:39:53 +0200
Subject: Re: can't find termcap info
Message-ID: <4abc1a97d3vincent@vinc17.org>
In-Reply-To: <010918121941.ZM8023@candle.brasslantern.com>
References: <20010918142514.A16873@greux.loria.fr>  	<20010918053813.C13299@hq.newdream.net>  	<20010918145958.A17178@greux.loria.fr>  	<20010918062537.G13299@hq.newdream.net>  	<20010918165111.B17411@greux.loria.fr>  	<20010918155339.20305.qmail@web12504.mail.yahoo.com>  	<20010918181329.A17722@greux.loria.fr> <010918121941.ZM8023@candle.brasslantern.com>
User-Agent: Pluto/2.03e (RISC-OS/4.02) POPstar/2.03
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

In article <010918121941.ZM8023@candle.brasslantern.com>,
   Bart Schaefer <schaefer@brasslantern.com> wrote:

> Here's what you do:  Log in to greux.  Start a second copy of zsh inside
> the first one, so that you're no longer working directly with the login
> shell. Then try the above again and see if (a) the connection still closes
> or (b) you get some error messages when the "nested" shell exits.

greux:~> zsh                                                          <19:06:20
zshenv...
zshrc...
The tty is frozen
greux:~> export TERMCAP=$HOME/.termcap                                <22:28:50
greux:~> TERM=nettle                                                  <22:29:06
zsh: segmentation fault (core dumped)  zsh
You have new mail.
greux:~[Failed 139]>                                                  <22:29:12

> It's entirely possible that Mutt, less, emacs, and bash are using terminfo
> (which is OK) while zsh is using termcap (which has something wrong).

Mutt uses ncurses (which uses terminfo, AFAIK).

Less seems to use termcap, but the curses too. In the Makefile:
LIBS =  -lncurses

> > nettle|nettle terminal emulator (RISC OS):\
> > 	:ke=:ks=:tc=rxvt:

> Are you sure there's an rxvt entry?

Yes, that's why I added the line based on rxvt.

> What happens if you do

> TERM=rxvt

> ?

No problem, this is what I usually use.

> Is there any value you can assign to TERM that does *not* produce the
> warning?

I don't understand the question.

-- 
Vincent Lefèvre <vincent@vinc17.org> - Web: <http://www.vinc17.org/> - 100%
validated HTML - Acorn Risc PC, Yellow Pig 17, Championnat International des
Jeux Mathématiques et Logiques, TETRHEX, etc.
Work: CR INRIA - computer arithmetic / SPACES project at LORIA

