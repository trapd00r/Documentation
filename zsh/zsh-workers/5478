From zsh-workers-return-5478-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Feb 22 23:45:18 1999
Return-Path: <zsh-workers-return-5478-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8832 invoked from network); 22 Feb 1999 23:45:17 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 22 Feb 1999 23:45:17 -0000
Received: (qmail 24566 invoked by alias); 22 Feb 1999 23:44:55 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 5478
Received: (qmail 24551 invoked from network); 22 Feb 1999 23:44:53 -0000
Message-Id: <199902222335.XAA04050@Indigo.thoth.u-net.com>
From: opk@thoth.u-net.com (Oliver Kiddle)
Date: Mon, 22 Feb 1999 23:35:08 +0000
In-Reply-To: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
       "Re:  Problem with completion matching control" (Feb 18, 10:05am)
X-Mailer: Mail User's Shell (7.2.6 beta(3) 11/17/96)
To: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>,
        zsh-workers@sunsite.auc.dk
Subject: Re:  Problem with completion matching control

On Feb 18, 10:05am, Sven Wischnowsky wrote:

> Hm, still can't reproduce this. Do you still get the behavior (for the 
> other: completion after `t' and `te' behaved differently) with all
> recent patches: the completion option cleanup from 5399 with it's
> followup 5407 and the patch I sent yesterday in 5412?

I've just tested it with pws-9 and the problem has gone so one of those
patches must have fixed it. Thanks.

There seems to be a few problems with the completeinword option though.
Could someone offer a better explanation of what completeinword does
than the documentation gives. I think that when I first configured zsh,
I assumed that it allowed zsh to be more intelligent when completing
with the cursor in the middle of the line so I set it.

With autocd and completeinword set and the compctl MATCH 'm:{a-z}={A-Z}'
from the zsh source directory, if I type 
./co<tab>
I get completion working but it gets stuck on ./Config/. Is this a bug
or what is intended by completeinword.

I also tested out your fix for the matching control which prevents *
mapping to the anchor so ncftp sunsite.d<tab> works as I had wanted. I
found the following which I think is a bug:

zsh -f
setopt completeinword
compctl -x 'p[1]' -k '(a.b.c a.c.b)' -M 'r:|.=*  r:|=*' -- t
t a.<tab><tab><tab>

The above will complete to a.b.c, having never listed the alternatives.
It works as I would expect when completeinword is not set.

I also get the following which is certainly worse:

First three commands same as above
t a..c<left><left><tab>
Gives me: zsh: 4013 segmentation fault
With completeinword unsetopted, this works fine.

Anyway, I now have completeinword unsetopted in my setup so it isn't
bothering me.

Oliver Kiddle

