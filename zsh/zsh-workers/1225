From schaefer@candle.brasslantern.com Fri May 31 01:10:23 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by melb.werple.net.au (8.7.5/8.7.3) with ESMTP id BAA00233 for <mason@werple.mira.net.au>; Fri, 31 May 1996 01:10:20 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id KAA23047; Thu, 30 May 1996 10:59:01 -0400 (EDT)
Resent-Date: Thu, 30 May 1996 10:59:01 -0400 (EDT)
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <960530075852.ZM30008@candle.brasslantern.com>
Date: Thu, 30 May 1996 07:58:49 -0700
In-Reply-To: Peter Stephenson <pws@ifh.de>
        "Re: History !# substitutions" (May 30, 10:33am)
References: <199605300833.KAA12028@hydra.ifh.de>
Reply-To: schaefer@nbn.com
X-Mailer: Z-Mail (4.0b.529 29may96)
To: Peter Stephenson <pws@ifh.de>,
        zsh-workers@math.gatech.edu (Zsh hackers list)
Subject: Re: History !# substitutions
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Resent-Message-ID: <"c44LU.0.1e5.qURhn"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/1225
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu
Content-Length: 1367
Status: OR

On May 30, 10:33am, Peter Stephenson wrote:
} Subject: Re: History !# substitutions
}
} schaefer@candle.brasslantern.com wrote:
} > zigzag% echo foo bar !#:1 ba<TAB>
} > [BEEP][cursor doesn't move]
} > 
} > Much better, but still not perfect.  I realize it probably can't expand
} > to the correct word, but could it at least ignore the history error and
} > continue completing stuff on the rest of the line?
} 
} I think a judicious `stophist = 1' in get_comp_string() should fix this.

Works like a champ!  Thanks again!

} I changed the code, then found there was a bug in menu completion:
} hitting tab repeatedly added an extra space each time.  Then I tried
} it with the old version and discovered it was there anyway.  Has this
} been reported and fixed while I was asleep?

It's worse than that; look:

zagzig% echo foo co bar<C-b><C-b><C-b><C-b><TAB><TAB><TAB><TAB>
zagzig% echo foo config bar
zagzig% echo foo config.cache barr
zagzig% echo foo config.guess barrr
zagzig% echo foo config.h barrrr

Seems to be an off-by-one error in the length of the string, not just
a space or slash being appended.

-- 
Bart Schaefer                             Brass Lantern Enterprises
http://www.well.com/user/barts            http://www.nbn.com/people/lantern

New male in /home/schaefer:
>N  2 Justin William Schaefer  Sat May 11 03:43  53/4040  "Happy Birthday"


