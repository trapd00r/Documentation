From zsh-users-return-3747-mason-zsh=primenet.com.au@sunsite.dk Mon Mar 26 15:44:49 2001
Return-Path: <zsh-users-return-3747-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 26017 invoked from network); 26 Mar 2001 15:44:48 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 26 Mar 2001 15:44:48 -0000
Received: (qmail 25739 invoked by alias); 26 Mar 2001 15:44:33 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 3747
Received: (qmail 25722 invoked from network); 26 Mar 2001 15:44:32 -0000
From: John Cooper <john.cooper@eu.citrix.com>
To: Peter Stephenson <pws@csr.com>
Cc: zsh-users@sunsite.dk
Subject: Re: Completing strings from history?
References: <Tc0a88d01528802e6d5@mailsweeper01.cambridgesiliconradio.com>
Organization: Citrix Systems <URL:http://citrix.com/>
Date: 26 Mar 2001 16:52:10 +0100
In-Reply-To: <Tc0a88d01528802e6d5@mailsweeper01.cambridgesiliconradio.com>
Message-ID: <m366gwh6j9.fsf@kontiki.cam.eu.citrix.com>
Lines: 33
User-Agent: Gnus/5.0808 (Gnus v5.8.8) Emacs/20.5
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Peter Stephenson <pws@csr.com> writes:

 > > Typing `foo<ESC-/>' (bound to _history-complete-older) finds the most recent
 > > word in the history beginning "foo".  Typing <ESC-/> again appears to do
 > > nothing.
 > > 
 > > Is it possible to set things up so that repeatedly typing <ESC-/> cycles back
 > > through all matches in the history?  (ala Emacs' dabbrev-expand)
 > 
 > You can do this by setting the `stop' style, which is so called because it
 > stops when it has reached as far back into the history as it can (unlike
 > normal menu completion which would continue cycling).
 > 
 >   zstyle ':completion:history-words:*' stop 1

Ideally, I'd prefer <ESC-/> to cycle back through the history _and_ have it
cycle round after reaching the end of the history.  Is this possible?

With the above zstyle, I find that hitting <ESC-/> after having reached the
oldest history item prohibits <ESC-,> from taking my forwards again, and
similarly, hitting <ESC-,> after cycling forwards to the most recent item
prohibits <ESC-/> from taking me backwards again.

Two more questions:

1. Is it possible to turn off the beep that's emitted every time I type <ESC-/>?

2. Can all matching words be displayed as per normal completions (then I'd see
   whether it's worth continuing to bang on <ESC-/> a few more times)?

Thanks again,

    --- John

