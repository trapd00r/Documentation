From zsh-users-return-15268-mason-zsh=primenet.com.au@zsh.org Thu Aug 12 10:54:13 2010
Return-Path: <zsh-users-return-15268-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 23083 invoked by alias); 12 Aug 2010 10:54:13 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 15268
Received: (qmail 3009 invoked from network); 12 Aug 2010 10:54:10 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.9 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.3.1
Received-SPF: pass (ns1.primenet.com.au: SPF record at seiken.de designates 94.23.38.107 as permitted sender)
From: Joke de Buhr <joke@seiken.de>
To: zsh-users@zsh.org
Subject: Re: Completion and double quotes
Date: Thu, 12 Aug 2010 12:53:52 +0200
User-Agent: KMail/1.13.2 (Linux/2.6.32-23-generic; KDE/4.4.2; x86_64; ; )
References: <201008112130.10895.joke@seiken.de> <20100812103126.64aa5bce@csr.com>
In-Reply-To: <20100812103126.64aa5bce@csr.com>
MIME-Version: 1.0
Content-Type: multipart/signed;
  boundary="nextPart1515606.ehthJHdXIk";
  protocol="application/pgp-signature";
  micalg=pgp-ripemd160
Content-Transfer-Encoding: 7bit
Message-Id: <201008121253.54918.joke@seiken.de>

--nextPart1515606.ehthJHdXIk
Content-Type: Text/Plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable

On Thursday 12 August 2010 11:31:26 Peter Stephenson wrote:
> On Wed, 11 Aug 2010 21:30:08 +0200
>=20
> Joke de Buhr <joke@seiken.de> wrote:
> > Currently my completion is somehow configured to transform double
> > quoted paths to backslash escaped paths.
> >=20
> > Example:
> >   ls /path/to/"file with"<TAB> -> /path/to/file\ with\ spaces
> >=20
> > I would like the completion not to touch the quotation.
>=20
> It's not configurable, but you can put the double quote right at the start
> of the filename and it probably does what you want.
>=20

If put the double quote right at the start is there any way to get the=20
completion to work paths beginning with "~" ? My completion doesn't offer=20
anything in these cases:

Example:
  ls "~/<TAB>    <-- no completion at all

Completion only works if the "~" is unquoted (like: ~"/<TAB>) but quotes la=
ter=20
on are destroyed during that process.

> The code for handling quoting in completion is utterly impenetrable.  It's
> actually at it's worst when you're in a nested expression, for example
> inside:
>=20
>   su -c 'ls /path/to/"file with"<TAB>
>=20
> which is quite liable to crash the shell (I didn't dare try).  Even so,
> it's bad enough even in the "simple" case that I don't think it's ever
> going to be able to second guess intentions to the sort of level you want.
> Of course, as always, if someone has a few dozen of hours of spare time a=
nd
> wants to make it their life's work to improve, that's fine.

--nextPart1515606.ehthJHdXIk
Content-Type: application/pgp-signature; name=signature.asc 
Content-Description: This is a digitally signed message part.

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)

iQG7BAABAwAlBQJMY9LBHhhoa3A6Ly9wb29sLnNrcy1rZXlzZXJ2ZXJzLm5ldAAK
CRCWUloJhwFWxjEpC/4xoB1/MmF6KoVsRcROlFtNhI3RzYw+GdMC4LsBdxzXqtec
0uuPzcfdbVnZan7L3DjADYxPERfxIpC/A9qHtDksG5axq9+gprSf84y1kdom8Za9
b9srC8MAJqv3bRqq2ghiF+GO1mnRsQL6AuwsRNmoPF94x7v9lmh1D3ojOcQkuZ/j
OSAWV/N+OiXhfWiJv6t8sWDKnlH0Viv763FjU9TXVlWOh0bAJcEkahU2ZKL5l6Jf
4Qlj0SA7bCfAtx0OgYv9cdmcQuYEf2cRkfxDKG2M/L5kGfOcnJthuT5JwnJoyHQq
CxOdegXFpmYq6xW0qwFPWZZf7RqCN4WJb5CLdUhXnXIppU68nr+XyA1Zn/gXu0Td
5fz6ira4wnM6sXFJ1ljvpr8o1gfdh6BA3Er1L4TFhXA9Kgjo5rfRLcih1Sh8fchg
7Dnynplc1ZebE5llW05uZWjJzM84wVGsDkUl9dh5r/dY4wtbM38KRkVZAJZRlxhG
/o5gO+iGG2rHmq1VJfA=
=7FsD
-----END PGP SIGNATURE-----

--nextPart1515606.ehthJHdXIk--

