From zsh-workers-return-18358-mason-zsh=primenet.com.au@sunsite.dk Tue Mar 18 03:16:26 2003
Return-Path: <zsh-workers-return-18358-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 29717 invoked from network); 18 Mar 2003 03:16:25 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 18 Mar 2003 03:16:25 -0000
Received: (qmail 2533 invoked by alias); 18 Mar 2003 03:16:18 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 18358
Received: (qmail 2526 invoked from network); 18 Mar 2003 03:16:18 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 18 Mar 2003 03:16:18 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [207.99.30.4] by sunsite.dk (MessageWall 1.0.8) with SMTP; 18 Mar 2003 3:16:17 -0000
Received: from acolyte.scowler.net (localhost [127.0.0.1])
	by acolyte.scowler.net (8.12.6/8.12.6/Debian-7) with ESMTP id h2I3GFHv029656
	(version=TLSv1/SSLv3 cipher=EDH-RSA-DES-CBC3-SHA bits=168 verify=OK);
	Mon, 17 Mar 2003 22:16:16 -0500
Received: (from clint@localhost)
	by acolyte.scowler.net (8.12.6/8.12.6/Debian-7) id h2I3GF0f029655;
	Mon, 17 Mar 2003 22:16:15 -0500
X-Authentication-Warning: acolyte.scowler.net: clint set sender to schizo@debian.org using -f
Date: Mon, 17 Mar 2003 22:16:15 -0500
From: Clint Adams <schizo@debian.org>
To: zsh-workers@sunsite.dk
Cc: 185228-forwarded@bugs.debian.org
Subject: [vincent@vinc17.org: Bug#185228: zsh: Incorrect filename generation with glob qualifier mh+]
Message-ID: <20030318031615.GG29480@acolyte.scowler.net>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.5.3i

----- Forwarded message from Vincent Lefevre <vincent@vinc17.org> -----

Using the glob qualifier mh+n selects files modified more than
n+1 hours instead of more than n hours ago. For instance:

ay:~/zshtst> ls -lgot *                                                <2:47:04
-rw-r--r--    1    52954 2003-03-18 02:30 tst-1047861059-68-2-batch.results
-rw-r--r--    1    57580 2003-03-18 02:29 tst-1047861059-37-2-batch.results
-rw-r--r--    1   147253 2003-03-18 02:26 tst-1047861059-38-2-batch.results
-rw-r--r--    1      121 2003-03-18 02:26 tst-1047861059-38-3-batch.results
-rw-r--r--    1   149771 2003-03-18 00:54 tst-1047861059-68-1-batch.results
-rw-r--r--    1   152224 2003-03-18 00:51 tst-1047861059-67-4-batch.results
-rw-r--r--    1   148653 2003-03-17 23:23 tst-1047861059-67-3-batch.results
-rw-r--r--    1   147979 2003-03-17 22:01 tst-1047861059-67-2-batch.results
-rw-r--r--    1   147419 2003-03-17 22:01 tst-1047861059-37-1-batch.results
-rw-r--r--    1   148014 2003-03-17 20:44 tst-1047861059-67-1-batch.results
-rw-r--r--    1   144904 2003-03-17 19:13 tst-1047861059-18-4-batch.results
-rw-r--r--    1   149671 2003-03-17 18:39 tst-1047861059-17-4-batch.results
-rw-r--r--    1   149066 2003-03-17 18:32 tst-1047861059-38-1-batch.results
ay:~/zshtst> ls -lgot *(mh+0)                                          <2:47:10
-rw-r--r--    1   149771 2003-03-18 00:54 tst-1047861059-68-1-batch.results
-rw-r--r--    1   152224 2003-03-18 00:51 tst-1047861059-67-4-batch.results
-rw-r--r--    1   148653 2003-03-17 23:23 tst-1047861059-67-3-batch.results
-rw-r--r--    1   147979 2003-03-17 22:01 tst-1047861059-67-2-batch.results
-rw-r--r--    1   147419 2003-03-17 22:01 tst-1047861059-37-1-batch.results
-rw-r--r--    1   148014 2003-03-17 20:44 tst-1047861059-67-1-batch.results
-rw-r--r--    1   144904 2003-03-17 19:13 tst-1047861059-18-4-batch.results
-rw-r--r--    1   149671 2003-03-17 18:39 tst-1047861059-17-4-batch.results
-rw-r--r--    1   149066 2003-03-17 18:32 tst-1047861059-38-1-batch.results
ay:~/zshtst> ls -lgot *(mh+1)                                          <2:47:12
-rw-r--r--    1   148653 2003-03-17 23:23 tst-1047861059-67-3-batch.results
-rw-r--r--    1   147979 2003-03-17 22:01 tst-1047861059-67-2-batch.results
-rw-r--r--    1   147419 2003-03-17 22:01 tst-1047861059-37-1-batch.results
-rw-r--r--    1   148014 2003-03-17 20:44 tst-1047861059-67-1-batch.results
-rw-r--r--    1   144904 2003-03-17 19:13 tst-1047861059-18-4-batch.results
-rw-r--r--    1   149671 2003-03-17 18:39 tst-1047861059-17-4-batch.results
-rw-r--r--    1   149066 2003-03-17 18:32 tst-1047861059-38-1-batch.results
ay:~/zshtst> ls -lgot *(mh+2)                                          <2:47:13
-rw-r--r--    1   148653 2003-03-17 23:23 tst-1047861059-67-3-batch.results
-rw-r--r--    1   147979 2003-03-17 22:01 tst-1047861059-67-2-batch.results
-rw-r--r--    1   147419 2003-03-17 22:01 tst-1047861059-37-1-batch.results
-rw-r--r--    1   148014 2003-03-17 20:44 tst-1047861059-67-1-batch.results
-rw-r--r--    1   144904 2003-03-17 19:13 tst-1047861059-18-4-batch.results
-rw-r--r--    1   149671 2003-03-17 18:39 tst-1047861059-17-4-batch.results
-rw-r--r--    1   149066 2003-03-17 18:32 tst-1047861059-38-1-batch.results
ay:~/zshtst> ls -lgot *(mh+3)                                          <2:47:15
-rw-r--r--    1   147979 2003-03-17 22:01 tst-1047861059-67-2-batch.results
-rw-r--r--    1   147419 2003-03-17 22:01 tst-1047861059-37-1-batch.results
-rw-r--r--    1   148014 2003-03-17 20:44 tst-1047861059-67-1-batch.results
-rw-r--r--    1   144904 2003-03-17 19:13 tst-1047861059-18-4-batch.results
-rw-r--r--    1   149671 2003-03-17 18:39 tst-1047861059-17-4-batch.results
-rw-r--r--    1   149066 2003-03-17 18:32 tst-1047861059-38-1-batch.results
ay:~/zshtst> ls -lgot *(mh+4)                                          <2:47:16
-rw-r--r--    1   148014 2003-03-17 20:44 tst-1047861059-67-1-batch.results
-rw-r--r--    1   144904 2003-03-17 19:13 tst-1047861059-18-4-batch.results
-rw-r--r--    1   149671 2003-03-17 18:39 tst-1047861059-17-4-batch.results
-rw-r--r--    1   149066 2003-03-17 18:32 tst-1047861059-38-1-batch.results
ay:~/zshtst> ls -lgot *(mh+5)                                          <2:47:18
-rw-r--r--    1   148014 2003-03-17 20:44 tst-1047861059-67-1-batch.results
-rw-r--r--    1   144904 2003-03-17 19:13 tst-1047861059-18-4-batch.results
-rw-r--r--    1   149671 2003-03-17 18:39 tst-1047861059-17-4-batch.results
-rw-r--r--    1   149066 2003-03-17 18:32 tst-1047861059-38-1-batch.results

If this is a feature to make a partition with mh-n, mhn and mh+n,
then the wording in the manual should be changed to make things
clear. But IMHO, this would be inintuitive.

