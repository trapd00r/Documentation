From zsh-workers-request@math.gatech.edu  Sat Sep 16 23:12:23 1995
Received: from gatech.edu (gatech.edu [130.207.244.244]) by werple.mira.net.au (8.6.12/8.6.9) with SMTP id XAA19750 for <mason@werple.mira.net.au>; Sat, 16 Sep 1995 23:12:14 +1000
Received: from math (math.skiles.gatech.edu) by gatech.edu with SMTP id AA16533
  (5.65c/Gatech-10.0-IDA for <mason@werple.mira.net.au>); Sat, 16 Sep 1995 09:13:02 -0400
Received: by math (5.x/SMI-SVR4)
	id AA11799; Sat, 16 Sep 1995 09:06:45 -0400
Resent-Date: Sat, 16 Sep 1995 08:07:27 -0500 (CDT)
Old-Return-Path: <jepler@herbie.unl.edu>
Message-Id: <9509161308.AA24506@herbie.unl.edu>
From: jepler@herbie.unl.edu
Subject: Zsh 2.6-beta10 problem: builtin time/other builtin
To: zsh-workers@math.gatech.edu
Date: Sat, 16 Sep 1995 08:07:27 -0500 (CDT)
X-Mailer: ELM [version 2.4 PL23]
Content-Type: text
Resent-Message-Id: <"jBhT92.0.Hu2.aliMm"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/383
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu


Hello.

I have been having a problem (With zsh 2.6 betas 8 and 10 on a Linux
1.2 system, zsh 2.6 beta 10 on an IRIX 5.3 system, and zsh 2.6 beta 5
on a SunOS 4.1 system) with the use of builtin time with another builtin.

Actually there are two different problems. :)  However, type 2 doesn't
occur on the sunos, so it may be a bug in Linux even though I can't get a
similar bogus output with /usr/bin/time in any way I thought of trying.

0.  The sort of thing I expect
% time /bin/echo foo
foo
0.132s real  0.040s user  0.100s system  100% /bin/echo foo
% /usr/bin/time /bin/echo foo
foo
0.05user 0.07system 0:00.12elapsed 94%CPU (0avgtext+0avgdata 0maxresident)k
0inputs+0outputs (18major+73minor)pagefaults 0swaps
% time ( echo foo )
foo
( echo foo )  0.02s user 0.01s system 100% cpu 0.18 total

1.  Time of builtins -- All zsh 2.6 versions and platforms I have tested
% which time echo
time: shell reserved word
echo: shell built-in command
% time echo foo
foo

    The alert eye will notice that there is no output of 'time' for that
command.

2.  Time in subshells -- Only linux 1.2.9, but with betas 8 and 10, the
only versions I have tested
% which time
time: shell reserved word
% ( time /bin/echo foo )
foo
0.139s real  -11786.160s user  -1171.120s system  -9329435%

    The alert eye will notice that the user and system time taken by this
'echo' are less than trustworthy.  The 'real' time seems to be accurate,
however.

If a copy of config.status or the 'reporter' output is desired, especially
for the Linux machine, I'll be happy to supply.

Thanks for taking the time to read this, I hope builtin time will get
fixed in the future.  For now, I am just using a real time in preference
to the builtin one.

ObPraise: Thanks for writing something to save me from csh-style shells

Jeff
-- 
\/ Jeff Epler jepler@{herbie.unl.edu|cse.unl.edu|nyx.cs.du.edu}

