From zsh-users-return-14719-mason-zsh=primenet.com.au@zsh.org Wed Jan 20 06:59:07 2010
Return-Path: <zsh-users-return-14719-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4887 invoked by alias); 20 Jan 2010 06:59:07 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 14719
Received: (qmail 7245 invoked from network); 20 Jan 2010 06:59:02 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.2 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received-SPF: none (ns1.primenet.com.au: domain at waba.be does not designate permitted sender hosts)
Date: Wed, 20 Jan 2010 07:58:46 +0100
From: waba@waba.be
To: zsh-users@zsh.org
Subject: Re: Globbing autocorrects misencoded filenames?
Message-ID: <20100120065846.GA31228@waba>
References: <20100119204916.GC29936@waba>
 <alpine.LNX.2.01.1001191614500.4229@hp.internal>
MIME-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-sha1;
	protocol="application/pgp-signature"; boundary="EeQfGwPcQSOJBaQU"
Content-Disposition: inline
In-Reply-To: <alpine.LNX.2.01.1001191614500.4229@hp.internal>
User-Agent: Mutt/1.5.20 (2009-06-14)

--EeQfGwPcQSOJBaQU
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

On Tue, Jan 19, 2010 at 04:33:36PM -0500, Benjamin R. Haskell wrote:=20
> Huh, interesting.  Just as another data point, A test with some
> ISO-2022-JP- and UTF-8-encoded kanji-containing filenames shows that
> it
> does glob the latin-1-ish chars, but not the Chinese chars.
>
> Personally, I wouldn't do this in Zsh (I'm more a perler at heart
> anyway, and Perl's Encode module handles all of this reeeeeally well).

Actually, I'm writing this in Zsh for two reasons: most of the script is
about finding files and the extended globbing really shines at it, and I
want to learn more of Zsh for daily interactive usage. Otherwise yeah,
I'd have written this in Perl too :-)

> But, obviously there are larger implications than your script.
>
> I just found the 'u' and 'U' globbing flags in zshall.  Perhaps '(#u)'
> or '(#U)' is all you need (see last examples below), but it still
> seems
> odd that it's showing the '=E9' in the filename for me, whether or not
> it's encoded properly.

Aha, indeed this works! At least, as long as I'm dealing with
single-byte misencodings (which is the case). I'm still interested
in the whole story if someone knows it, however.

Regards,
-Thomas.

--EeQfGwPcQSOJBaQU
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: Digital signature
Content-Disposition: inline

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)

iEYEARECAAYFAktWqZ8ACgkQ3FzfxAeN+kG+cACfe0RBfMOhGELE5romeBWlq4uL
kcMAoLcb2qOJ1+I4t06e2h0TKxjxz1Js
=zY+l
-----END PGP SIGNATURE-----

--EeQfGwPcQSOJBaQU--

