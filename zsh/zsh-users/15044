From zsh-users-return-15044-mason-zsh=primenet.com.au@zsh.org Mon May 03 19:59:23 2010
Return-Path: <zsh-users-return-15044-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4626 invoked by alias); 3 May 2010 19:59:22 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 15044
Received: (qmail 22024 invoked from network); 3 May 2010 19:59:09 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.9 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.3.1
Received-SPF: none (ns1.primenet.com.au: domain at math.technion.ac.il does not designate permitted sender hosts)
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: AvsEAFrI3kuERHMG/2dsb2JhbACdJnG9YwKFEASDOQ
X-IronPort-AV: E=Sophos;i="4.52,321,1270414800"; 
   d="scan'208";a="1266671"
X-Authentication-Warning: fermat.math.technion.ac.il: nyh set sender to nyh@math.technion.ac.il using -f
Date: Mon, 3 May 2010 22:59:01 +0300
From: "Nadav Har'El" <nyh@math.technion.ac.il>
To: Peter Stephenson <p.w.stephenson@ntlworld.com>
Cc: zsh-users@zsh.org
Subject: Re: Bug with trap?
Message-ID: <20100503195901.GA22410@fermat.math.technion.ac.il>
References: <20100430223857.GA4782@cameron> <20100503184950.GA21369@fermat.math.technion.ac.il> <20100503201404.3060e956@pws-pc>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20100503201404.3060e956@pws-pc>
User-Agent: Mutt/1.4.2.2i
Hebrew-Date: 20 Iyyar 5770

On Mon, May 03, 2010, Peter Stephenson wrote about "Re: Bug with trap?":
> I was wondering along the lines you suggest, but the counterargument is

I see now... So you expected the trap to go off when the subshell exited,
not when the current shell exits...
Maybe subshells simply do not perform EXIT traps when they exit? try

	(trap 'echo hi' EXIT)

It does *not* print "hi", while a standalone shell,
	sh -c "trap 'echo hi' EXIT"
does print hi.

-- 
Nadav Har'El                        |       Monday, May  3 2010, 20 Iyyar 5770
nyh@math.technion.ac.il             |-----------------------------------------
Phone +972-523-790466, ICQ 13349191 |A conscience does not prevent sin. It
http://nadav.harel.org.il           |only prevents you from enjoying it.

