From zsh-users-return-2372-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Jun 09 17:08:50 1999
Return-Path: <zsh-users-return-2372-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 11205 invoked from network); 9 Jun 1999 17:08:48 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 9 Jun 1999 17:08:48 -0000
Received: (qmail 4120 invoked by alias); 9 Jun 1999 17:08:28 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 2372
Received: (qmail 4113 invoked from network); 9 Jun 1999 17:08:27 -0000
Date: Wed, 9 Jun 1999 19:08:38 -0600
From: Dominik Vogt <dominik_vogt@hp.com>
To: zsh-users@sunsite.auc.dk
Subject: Re: trouble with multiple pipes
Message-ID: <19990609190838.E3376@hp.com>
References: <19990609182901.D3376@hp.com> <000b01beb296$fdbf16f0$21c9ca95@mow.siemens.ru>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 0.95.4i
In-Reply-To: <000b01beb296$fdbf16f0$21c9ca95@mow.siemens.ru>; from borsenkow.msk@sni.de on Wed, Jun 09, 1999 at 08:41:58PM +0400

On Wed, Jun 09, 1999 at 08:41:58PM +0400, borsenkow.msk@sni.de wrote:
> > I am using zsh 3.0.5 on a 2.2.5 Linux kernel. I encountered a problem
> > when trying to use multiple pipes with and a command that does not
> > finish:
> >
> >   # tail -f foo
> >   1
> >   2
> >   3
> >   4
> >   5
> >   (pressed ^C to stop tail)
> >
> > Now I don't want to see all lines with a '5':
> >
> >   # tail -f foo | grep -v 5
> 
> I am surprised, that you get any output here. I don't get anything at all.
> The problem is, that grep buffers input/output (I won't discuss, if it is a
> bug or a feature). So, you won't see anything till the whole buffer is
> filled. In my case grep does not do any write at all.

Ah, yes, of course.

> > Unfortunately I need to filter the output from a running
> > daemon in this way, but I'm out of ideas.
> 
> What do you mean? If you need to write the continous output to a file - it
> is O.K. As soon, as daemon fills up the whole buffer, it will be written
> off.

Hm, I'd like to see the output in real-time as well as to log it in a file.
I'll make up some kind of script using only zsh builtins :-)

Thanks

Dominik ^_^

-- 
Dominik Vogt, Hewlett-Packard GmbH, Dept. BVS
Herrenberger Str.130, 71034 Boeblingen, Germany
phone: 07031/14-4596, fax: 07031/14-3883, dominik_vogt@hp.com

