From zsh-users-return-13584-mason-zsh=primenet.com.au@sunsite.dk Thu Dec 11 11:31:21 2008
Return-Path: <zsh-users-return-13584-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2368 invoked from network); 11 Dec 2008 11:31:18 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 11 Dec 2008 11:31:18 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 83786 invoked from network); 11 Dec 2008 11:31:04 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 11 Dec 2008 11:31:04 -0000
Received: (qmail 2358 invoked by alias); 11 Dec 2008 11:30:47 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 13584
Received: (qmail 2343 invoked from network); 11 Dec 2008 11:30:47 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 11 Dec 2008 11:30:47 -0000
Received: from service1.sh.cvut.cz (service1.sh.cvut.cz [147.32.127.214])
	by bifrost.dotsrc.org (Postfix) with ESMTPS id 67BCE80524C3
	for <zsh-users@sunsite.dk>; Thu, 11 Dec 2008 12:30:44 +0100 (CET)
Received: from localhost (localhost [127.0.0.1])
	by service1.sh.cvut.cz (Postfix) with ESMTP id CBBBC124B33;
	Thu, 11 Dec 2008 12:30:43 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at service1.sh.cvut.cz
Received: from service1.sh.cvut.cz ([127.0.0.1])
	by localhost (service1.sh.cvut.cz [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id VeL4TmElMRUs; Thu, 11 Dec 2008 12:30:36 +0100 (CET)
Received: from [192.168.111.233] (eccam.com [82.113.60.26])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	(Authenticated sender: v.haisman@sh.cvut.cz)
	by service1.sh.cvut.cz (Postfix) with ESMTP id 1D02B124AC0;
	Thu, 11 Dec 2008 12:30:36 +0100 (CET)
Message-ID: <4940F9DA.90006@sh.cvut.cz>
Date: Thu, 11 Dec 2008 12:30:34 +0100
From: =?UTF-8?B?VsOhY2xhdiBIYWlzbWFu?= <v.haisman@sh.cvut.cz>
User-Agent: Thunderbird 2.0.0.18 (Windows/20081105)
MIME-Version: 1.0
To: zsh-users@sunsite.dk
Subject: Bug report: ZSH stats every file in Maildir even with no_mail_warning
 option set.
X-Enigmail-Version: 0.95.7
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: ClamAV 0.92.1/8746/Thu Dec 11 05:14:26 2008 on bifrost
X-Virus-Status: Clean

Hi,
I am having problems with ZSH stat()ing every file in my ~/Maildir even
though I have setopt no_mail_warning in my .zshrc. After a discussion
about this in #ZSH@FreeNode I have also tried unsetopt MAIL_WARNING and
unsetopt MAIL_WARN, without success. The main problem with this is that
it can take several seconds to stat() the thousands of files in the Maildir.

The whole of my .zshrc:

-----------8<---------------

#PROMPT="%n@%m:::%~> "
PROMPT="%m::%n:%~> "

#PROMPT=`printf "\n%%n@%%m:::%%~> "`
unsetopt PROMPT_CR
#alias ls='ls --color=auto'

echo
fortune -a all

# Use Emacs like command line editing.
bindkey -e
# Lines configured by zsh-newuser-install
HISTFILE=~/.histfile
HISTSIZE=5000
SAVEHIST=3000
setopt appendhistory nomatch hist_verify
setopt inc_append_history no_bg_nice no_mail_warning
setopt extended_history hist_expire_dups_first
unsetopt MAIL_WARNING
unsetopt MAIL_WARN
# End of lines configured by zsh-newuser-install
# The following lines were added by compinstall

zstyle ':completion:*' auto-description 'specify: %d'
zstyle ':completion:*' completer _complete _correct #_complete #_approximate
zstyle ':completion:*' completions 1
zstyle ':completion:*' expand suffix
zstyle ':completion:*' format 'completing %d> '
zstyle ':completion:*' glob 1
zstyle ':completion:*' insert-unambiguous true
zstyle ':completion:*' list-colors ''
zstyle ':completion:*' max-errors 2
#zstyle -e ':completion:*:approximate:*' max-errors 'reply=( $((
($#PREFIX + $#SUFFIX) / 3 )) )'
zstyle ':completion:*' menu select=long
zstyle ':completion:*' original false
zstyle ':completion:*' preserve-prefix '//[^/]##/'
zstyle ':completion:*' prompt '%e corrections> '
zstyle ':completion:*' select-prompt '%SScrolling active: current
selection at %p%s'
zstyle ':completion:*' squeeze-slashes true
zstyle ':completion:*' substitute 1
zstyle ':completion:*' verbose true
zstyle ':completion:*' use-perl on
zstyle ':completion:*' use-cache on
zstyle :compinstall filename '/home/users/wilx/.zshrc'

autoload -Uz compinit
compinit -C
# End of lines added by compinstall

-----------8<---------------

--
VH

