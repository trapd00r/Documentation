From zsh-workers-request@euclid.skiles.gatech.edu  Sun Sep 22 04:49:31 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by coral.primenet.com.au (8.7.5/8.7.3) with ESMTP id EAA20118 for <mason@primenet.com.au>; Sun, 22 Sep 1996 04:49:25 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id OAA19330; Sat, 21 Sep 1996 14:39:57 -0400 (EDT)
Resent-Date: Sat, 21 Sep 1996 14:39:57 -0400 (EDT)
From: Louis.Granboulan@ens.fr (Louis Granboulan)
Message-Id: <199609211839.UAA00762@pleurote.ens.fr>
Subject: Re: Process substitution and shell functions
To: zsh-workers@math.gatech.edu
Date: Sat, 21 Sep 1996 20:39:49 +0200 (MET DST)
In-Reply-To: <960920160213.ZM7718@candle.brasslantern.com> from "Bart Schaefer" at Sep 20, 96 04:02:13 pm
X-Mailer: ELM [version 2.4 PL24 ME8a]
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"uk1fl3.0.vj4.yP3Ho"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/2154
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

> I can't find anything about this in zsh-3.0.0/etc/FAQ or zsh-3.0.0/etc/BUGS
> so I'm assuming it's fairly new.
It is an old bug. zsh-2.5.0 works well, but zsh-2.5.03 has it.
This is due to some patch in exec.c, probably the big patch from 2.5.01
to 2.5.02 by Richard Coleman (Mon Jul 25 10:30:32 1994) to "allow
suspend/resume pipes ending in a list/loop/function and jobs with
a $(...) while that is running".

function foo { echo $1; head -1 $1 ; head -1 $1 }
foo =(echo hello world)

The variable last_file_list is recovered before the shell function
finishes.

-- Louis Granboulan <Louis.Granboulan@ens.fr>

