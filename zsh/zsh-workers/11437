From zsh-workers-return-11437-mason-zsh=primenet.com.au@sunsite.auc.dk Wed May 17 10:34:31 2000
Return-Path: <zsh-workers-return-11437-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 977 invoked from network); 17 May 2000 10:34:29 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 17 May 2000 10:34:29 -0000
Received: (qmail 23944 invoked by alias); 17 May 2000 10:34:22 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 11437
Received: (qmail 23937 invoked from network); 17 May 2000 10:34:21 -0000
Date: Wed, 17 May 2000 12:33:56 +0200 (MET DST)
Message-Id: <200005171033.MAA06689@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: "Bart Schaefer"'s message of Wed, 17 May 2000 10:14:57 +0000
Subject: Re: PATCH: Completion matching control test. (Try 2)


Bart Schaefer wrote:

> On May 16,  9:11pm, Felix Rosencrantz wrote:
> } Subject: Re: PATCH: Completion matching control test. (Try 2)
> }
> } --- Bart Schaefer <schaefer@candle.brasslantern.com> wrote:
> } > This works for me:
> } > 
> } > 	print -lr "COMPADD:{${match[6]//[$'\r\n']/}}"
> } 
> } Great. Works for me, too.  Will use that.  I'll send a patch when the
> } changes make it into the repository.
> 
> Hrm, OK, but based on PWS's last comment I'm hesitant to commit what I
> have.  (I also deleted a stray `debug=yes' from comptest.)
> 
> Sven, Peter?  Do we want this test in there now, or not?

I'm working on it and will commit it when I'm finished, which may take 
some time because those tests are so damn slow. I wished there were a
way to make comptest initialise the completion system only once.

> } > I suspect the other failed tests are confusion over `*' vs. `**' in the
> } > matcher patterns, but I'm not sure.  For example, the test
> } 
> } Drat, I don't have any tests that use the double star syntax...
> 
> Definitely either your tests are wrong, or the examples in the doc are
> wrong, in several instances.  And I'm unsure about the cursor placement
> differences that I mentioned; e.g. I'm not sure your H\t2\t test would
> work because the 2 might not be inserted in the same place as before.

The docs are wrong, I've fixed that and will send it together with the 
rest.

Bye
 Sven


--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

