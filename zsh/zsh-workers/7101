From zsh-workers-return-7101-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Jul 12 10:39:30 1999
Return-Path: <zsh-workers-return-7101-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4245 invoked from network); 12 Jul 1999 10:39:28 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 12 Jul 1999 10:39:28 -0000
Received: (qmail 17745 invoked by alias); 12 Jul 1999 10:39:18 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7101
Received: (qmail 17738 invoked from network); 12 Jul 1999 10:39:18 -0000
Date: Mon, 12 Jul 1999 12:39:15 +0200 (MET DST)
Message-Id: <199907121039.MAA18354@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: Sven Wischnowsky's message of Fri, 9 Jul 1999 15:47:25 +0200 (MET
	DST)
Subject: Re: PATCH: completions for su and implicit fg/bg


I wrote:

> This allows `compset -q' on unquoted words -- almost. There is a
> problem when the match contains characters that have to be quoted. In
> such cases the match should be quoted twice (`a b' should be inserted
> as `a\\\ b'), but currently the completion code is far from being
> prepared for such double-quoting and I'm seeing to much places where
> changes are needed for a quick patch.

I've been thinking some more about this... This can get pretty ugly
when we have multiple calls to `compset -q' for the same word. In such 
cases we would have to keep track of the number of calls (the nesting
level) and then quote the words put into the command line n times. Of
course the results may become almost unreadable and it would require
changes in several parts of the code.

Hm. Automatically putting such strings in quotes is probably easier
but otherwise not much better. Does anybody see a better solution?
Should we just give up and make `compset -q' work only on quoted
strings again? Any other suggestions?

Bye
 Sven


--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

