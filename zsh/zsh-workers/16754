From zsh-workers-return-16754-mason-zsh=primenet.com.au@sunsite.dk Sat Mar 02 16:28:17 2002
Return-Path: <zsh-workers-return-16754-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 21212 invoked from network); 2 Mar 2002 16:28:16 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 2 Mar 2002 16:28:16 -0000
Received: (qmail 24465 invoked by alias); 2 Mar 2002 16:28:10 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 16754
Received: (qmail 24454 invoked from network); 2 Mar 2002 16:28:09 -0000
Message-ID: <20020302162806.29366.qmail@web10407.mail.yahoo.com>
Date: Sat, 2 Mar 2002 08:28:06 -0800 (PST)
From: Felix Rosencrantz <f_rosencrantz@yahoo.com>
Subject: Re: Per command _redirect completion
To: zsh-workers <zsh-workers@sunsite.auc.dk>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Still having problem with the latest uncommitted patch:  When trying to
complete TZ I get:
_do_type:31: ':' without '?'

Which only happens from a shell where .zcompdump didn't pre-exist.  Subsequent
shells seem to work.

Also, completion for command flags/args doesn't work.  The command's completion
function is not being called.
I try:
 gzip -<TAB> 

in an empty directory and get "no match for: `file'".

I like the new changes a lot (assuming they work).  It wasn't clear to me how
completion for different redirection operators will work.  It seems that you
can only specify one redirection completer.  Which will have to do the
remaining work of figuring what completion function to use, if you want one for
input and one for output.  (And another for stderr, etc.)  It seems like that
information should be part of the compdef call.  All my command specific
redirection completers  currently are for commands that provide output, the
input comes from command line args, so it didn't matter.  But I can easily see
there being commands where input and output files from redirection are
completely different.  So the user will want to use different functions.

-FR


__________________________________________________
Do You Yahoo!?
Yahoo! Sports - sign up for Fantasy Baseball
http://sports.yahoo.com

