From zsh-workers-return-26740-mason-zsh=primenet.com.au@sunsite.dk Sun Mar 15 06:25:33 2009
Return-Path: <zsh-workers-return-26740-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 29729 invoked from network); 15 Mar 2009 06:25:17 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 15 Mar 2009 06:25:17 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 40400 invoked from network); 15 Mar 2009 06:23:04 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 15 Mar 2009 06:23:04 -0000
Received: (qmail 24558 invoked by alias); 15 Mar 2009 06:22:59 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 26740
Received: (qmail 24540 invoked from network); 15 Mar 2009 06:22:58 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 15 Mar 2009 06:22:58 -0000
Received: from cork.scru.org (cork.scru.org [209.20.67.2])
	by bifrost.dotsrc.org (Postfix) with ESMTPS id 7F1D280307F8
	for <zsh-workers@sunsite.dk>; Sun, 15 Mar 2009 07:22:54 +0100 (CET)
Received: by cork.scru.org (Postfix, from userid 1000)
	id 2053F104155; Sun, 15 Mar 2009 06:22:53 +0000 (UTC)
Date: Sun, 15 Mar 2009 06:22:53 +0000
From: Clint Adams <schizo@debian.org>
To: zsh-workers@sunsite.dk
Cc: martin f krafft <madduck@debian.org>, 519535@bugs.debian.org
Subject: Re: Bug#519535: history expansion: modifier completion missing
Message-ID: <20090315062253.GB14010@scru.org>
Mail-Followup-To: zsh-workers@sunsite.dk,
	martin f krafft <madduck@debian.org>, 519535@bugs.debian.org
References: <20090313105555.GA19025@piper.oerlikon.madduck.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
In-Reply-To: <20090313105555.GA19025@piper.oerlikon.madduck.net>
User-Agent: Mutt/1.5.18 (2008-05-17)
X-Virus-Scanned: ClamAV 0.92.1/9110/Sun Mar 15 06:06:44 2009 on bifrost
X-Virus-Status: Clean

On Fri, Mar 13, 2009 at 11:55:55AM +0100, martin f krafft wrote:
> I tried to show off zsh to a sceptic today and had to find out the
> hard way that it does not (yet) provide completion for history
> expansion modifiers, e.g.
> 
>   echo !$:<TAB>
> 
> should list
> 
>   h  Remove a trailing pathname component, leaving the head.  This works like ‘dirname’.
>   r  Remove a filename extension of the form ‘.xxx’, leaving the root name.
>   e  Remove all but the extension.
>   t  Remove all leading pathname components, leaving the tail.  This works like  ‘basename’.
>   p  Print the new command but do not execute it.  Only works with history expansion.
>   q  Quote the substituted words, escaping further substitutions.  Works with history expan‐
>     sion and parameter expansion, though for parameters it is only useful if the  resulting
>     text is to be re-evaluated such as by eval.
>   Q  Remove one level of quotes from the substituted words.
>   x  Like q, but break into words at whitespace.  Does not work with parameter expansion.
>   l  Convert the words to all lowercase.
>   u  Convert the words to all uppercase.
> 
> etc.

Anyone want to tackle this?

