From zsh-users-return-8470-mason-zsh=primenet.com.au@sunsite.dk Mon Feb 07 05:43:51 2005
Return-Path: <zsh-users-return-8470-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1516 invoked from network); 7 Feb 2005 05:43:50 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 7 Feb 2005 05:43:50 -0000
Received: (qmail 42359 invoked from network); 7 Feb 2005 05:43:44 -0000
Received: from unknown (HELO sunsite.dk) (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 7 Feb 2005 05:43:44 -0000
Received: (qmail 11687 invoked by alias); 7 Feb 2005 04:19:28 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8470
Received: (qmail 11672 invoked from network); 7 Feb 2005 04:19:27 -0000
Received: from unknown (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 7 Feb 2005 04:19:27 -0000
Received: (qmail 6216 invoked from network); 7 Feb 2005 04:18:51 -0000
Received: from klutz.cs.utk.edu (160.36.56.50)
  by a.mx.sunsite.dk with SMTP; 7 Feb 2005 04:18:46 -0000
Received: from localhost (klutz [127.0.0.1])
	by klutz.cs.utk.edu (Postfix) with ESMTP id 6603540098
	for <zsh-users@sunsite.dk>; Sun,  6 Feb 2005 23:18:45 -0500 (EST)
Received: from klutz.cs.utk.edu ([127.0.0.1])
 by localhost (klutz [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 29213-02 for <zsh-users@sunsite.dk>; Sun,  6 Feb 2005 23:18:43 -0500 (EST)
Received: from cetus5.cs.utk.edu (cetus5.cs.utk.edu [160.36.56.87])
	by klutz.cs.utk.edu (Postfix) with ESMTP id 045FE40072
	for <zsh-users@sunsite.dk>; Sun,  6 Feb 2005 23:18:43 -0500 (EST)
Received: by cetus5.cs.utk.edu (Postfix, from userid 10605)
	id 6247125D8; Sun,  6 Feb 2005 23:18:42 -0500 (EST)
Date: Sun, 6 Feb 2005 23:18:42 -0500
From: Chris Johnson <cjohnson@cs.utk.edu>
To: zsh-users@sunsite.dk
Subject: nohup/disown and logout
Message-ID: <20050207041841.GA5026@cetus5.cs.utk.edu>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.4.2i
X-Virus-Scanned: by amavisd-new at cs.utk.edu by ClamAV and McAfee
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=6.0 tests=BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.6

I've found some posts addressing this question in the archives, but they
don't quite fix my trouble.  My problem: nohup-ing or disowning jobs
still keeps my shell from exiting, even with nohup and nocheckjobs
options set.  Here's the results from setopt:

[cjohnson@namib] ~: setopt
nobeep
nocheckjobs
nohup
interactive
login
monitor
nonomatch
shinstdin
zle

If I run a command like "nohup myprog &|", the job doesn't appear in the
jobs table, as expected, but when I exit the shell, .zlogout is executed
and everything hangs.  No control key combinations seem to do anything.
Killing the nohup'ed process from another shell releases the original
shell and it exits.  I get no message.  I've tried with disown also, but
the same behavior is exhibited.  If it makes any difference, I
experience this problem when logged in remotely to a university machine.
It seems to work all right locally on my own machine.

Any ideas?  Any further information I can provide?  Many thanks!

-- 
Chris Johnson
cjohnson@cs.utk.edu
http://www.cs.utk.edu/~cjohnson

