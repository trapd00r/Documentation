From zsh-workers-return-9834-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Feb 22 17:53:52 2000
Return-Path: <zsh-workers-return-9834-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5816 invoked from network); 22 Feb 2000 17:53:51 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 22 Feb 2000 17:53:51 -0000
Received: (qmail 1510 invoked by alias); 22 Feb 2000 17:53:20 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 9834
Received: (qmail 1501 invoked from network); 22 Feb 2000 17:53:20 -0000
To: zsh-workers@sunsite.auc.dk
Subject: Re: PATCH: Improved _mailboxes 
In-reply-to: "Sven Wischnowsky"'s message of "Tue, 22 Feb 2000 09:52:45 +0100."
             <200002220852.JAA14372@beta.informatik.hu-berlin.de> 
Date: Tue, 22 Feb 2000 17:55:29 +0000
From: Peter Stephenson <pws@pwstephenson.fsnet.co.uk>
Message-Id: <E12NJTB-0007ZK-00.2000-02-22-17-51-33@cmailg2.svr.pol.co.uk>

Sven Wischnowsky wrote:
> Btw, the patch I'm withholding that makes the parser emit wordcode
> directly and that also contains several optimisations to the C-code
> will make such assignments very cheap.
> 
> And since I'm talking about patches to come after 3.1.7: I've just
> finished the patch to remove useheap we were talking about (i.e.
> making all allocations use heap or real memory explicitly). It seems
> to works fine until now and it will be tested even more until 3.1.7
> appears, of course.

Frankly, as regards 3.1.* versions, my policy has generally been to put in
pretty much anything that doesn't cause immediate and obvious problems
straight away, rather than delaying it.  There's a big enough user base for
*-dev-* that the bad problems get sorted out pretty quickly; and zsh is
complicated enough that the less bad problems often need the exposure of
the 3.1.x releases to show up at all.  So I shouldn't be shy.  As I said
yesterday, things my end are going to run to a halt for a few weeks.

I'm delighted about the vanishing of useheap --- this was sort of vaguely
on my to-do list, at least to think about over a cup of tea.  This should
reduce the number of memory leaks dramatically.  (Not that we have memory
leaks, of course.)

-- 
Peter Stephenson <pws@pwstephenson.fsnet.co.uk>

