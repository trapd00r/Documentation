From zsh-workers-request@math.gatech.edu Fri Jan 15 14:31:27 1999
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 21848 invoked from network); 15 Jan 1999 14:31:26 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 15 Jan 1999 14:31:26 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.9.1/8.9.1) id JAA01041;
	Fri, 15 Jan 1999 09:29:50 -0500 (EST)
Resent-Date: Fri, 15 Jan 1999 09:29:45 -0500 (EST)
To: zsh-users@math.gatech.edu
Path: mason
From: mason@primenet.com.au (Geoff Wing)
Newsgroups: lists.zsh.users
Subject: Re: Xterm title changing prompt problem: HELP!
Date: 15 Jan 1999 14:29:13 GMT
Organization: PrimeNet Computer Consultants
Lines: 19
Message-ID: <slrn79uk5o.kno.mason@coral.primenet.com.au>
References: <369F2AF4.5FD78841@earthling.net>
Reply-To: mason@primenet.com.au
NNTP-Posting-Host: coral.primenet.com.au
X-Trace: coral.primenet.com.au 916410553 21241 203.43.15.2 (15 Jan 1999 14:29:13 GMT)
X-Complaints-To: usenet@coral.primenet.com.au
NNTP-Posting-Date: 15 Jan 1999 14:29:13 GMT
User-Agent: slrn/0.9.5.4 (UNIX)
Resent-Message-ID: <"aivBh.0.oF.O3rds"@math>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/2023
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Andrew Gallagher <andrew.gallagher@earthling.net> typed:
:Geoff Wing wrote:
:Or alternatively, take the escape sequence out of PROMPT and "echo -n" it
:from inside the precmd() function ... here is my version:
:
:The advantage of this is that it doesn't mess up non-xterm terminals so
:much (where the escape sequence will not be recognised and thus _will_
:shift the cursor). PROMPT will overwrite the "echo -n"ed line whether it
:is printed or not (so long as it is less than 80 chars).

No, PROMPT will only overwrite the echo output if you have PROMPT_CR
option set.  It is set by default, so this only applies to people who
have done ``setopt nopromptcr'' (or ``unsetopt promptcr'') either
interactively or via startup files. 

Regards,
-- 
Geoff Wing   <gcw@pobox.com>            Mobile : 0412 162 441
Work URL: http://www.primenet.com.au/   Ego URL: http://pobox.com/~gcw/

