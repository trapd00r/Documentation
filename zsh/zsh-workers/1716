From hzoli@cs.elte.hu Sat Jul 20 01:56:03 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by melb.werple.net.au (8.7.5/8.7.3/2) with ESMTP id BAA21060 for <mason@werple.mira.net.au>; Sat, 20 Jul 1996 01:56:01 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id LAA21258; Fri, 19 Jul 1996 11:49:48 -0400 (EDT)
Resent-Date: Fri, 19 Jul 1996 11:49:48 -0400 (EDT)
From: Zoltan Hidvegi <hzoli@cs.elte.hu>
Message-Id: <199607191549.RAA08552@bolyai.cs.elte.hu>
Subject: Re: zsh-3.0-pre3 and AIX 4.X
To: wfp5p@tigger.itc.virginia.edu (Bill Pemberton)
Date: Fri, 19 Jul 1996 17:49:04 +0200 (MET DST)
Cc: zsh-workers@math.gatech.edu
In-Reply-To: <199607191418.KAA04628@tigger.itc.Virginia.EDU> from Bill Pemberton at "Jul 19, 96 10:18:27 am"
Organization: Dept. of Comp. Sci., Eotvos University, Budapest, Hungary
Phone: (36 1)2669833 ext: 2667, home phone: (36 1) 2752368
X-Mailer: ELM [version 2.4ME+ PL16 (25)]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"IHrtQ.0.5C5.Rwwxn"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/1716
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu
Content-Length: 829
Status: O

Bill Pemberton wrote:
> However, I ran into a bit of a problem building it on AIX 4.2.  In the
> compile for builtin.c I get the message:
> 
> "builtin.c", line 3596.5: 1506-205 (S) there are some unknown limits.  Fix me!

Bill sent me his /usr/include/sys/resources.h so the patch below should fix
that problem.  Please try it.

Zoltan


*** Src/builtin.c	1996/07/14 18:47:08	2.60
--- Src/builtin.c	1996/07/19 15:44:36
***************
*** 3592,3597 ****
--- 3592,3602 ----
  #  define NEXT_RLIM (RLIMIT_AS + 1)
      "addressspace",
  # endif /* RLIMIT_AS */
+ # if defined RLIMIT_NOFILE && RLIMIT_NOFILE == NEXT_RLIM
+ #  undef NEXT_RLIM
+ #  define NEXT_RLIM (RLIMIT_NOFILE + 1)
+     "descriptors",
+ # endif /* RLIMIT_NOFILE */
  # if NEXT_RLIM != RLIM_NLIMITS
     #error there are some unknown limits.  Fix me!
  # endif


