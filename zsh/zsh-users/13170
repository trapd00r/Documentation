From zsh-users-return-13170-mason-zsh=primenet.com.au@sunsite.dk Sun Aug 31 00:39:14 2008
Return-Path: <zsh-users-return-13170-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10368 invoked from network); 31 Aug 2008 00:39:02 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 31 Aug 2008 00:39:02 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 39004 invoked from network); 31 Aug 2008 00:38:21 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 31 Aug 2008 00:38:21 -0000
Received: (qmail 18451 invoked by alias); 31 Aug 2008 00:37:35 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 13170
Received: (qmail 18425 invoked from network); 31 Aug 2008 00:37:32 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 31 Aug 2008 00:37:32 -0000
Received: from mail.asahi-net.or.jp (mail1.asahi-net.or.jp [202.224.39.197])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 40645801E2B4
	for <zsh-users@sunsite.dk>; Sun, 31 Aug 2008 02:37:26 +0200 (CEST)
Received: from blackhawk (i231107.dynamic.ppp.asahi-net.or.jp [61.125.231.107])
	by mail.asahi-net.or.jp (Postfix) with ESMTP id 744CD5208F
	for <zsh-users@sunsite.dk>; Sun, 31 Aug 2008 09:37:24 +0900 (JST)
Message-ID: <20080831093724.444@blackhawk>
Date: Sun, 31 Aug 2008 09:37:24 +0900
From: henman@tech.email.ne.jp
To: <zsh-users@sunsite.dk>
cc: 
Subject: Capitalization tuning
X-Mailer: MH-E 8.0.3+cvs; GNU Mailutils 1.9.90; GNU Emacs 23.0.60
X-Virus-Scanned: ClamAV 0.92.1/8121/Sat Aug 30 22:56:33 2008 on bifrost
X-Virus-Status: Clean


In my audio filename normalization process, i.e., makeing the filenames be compliant to a convertion, I need to capitalize all words.

I used the parameter expansion flag (C) to capitalize filenames


In the manual it says
"C Capitalize the resulting words. 'Words' in this case refers to sequences of alphanumeric characters separated by non-alphanumerics, not to words that result from field splitting."

The problem with the current operation of the Capitalization function is that it capitalizes the first letter of conjunction tails as well.

For example:
     $ CONJUNCT="I'll" && echo ${(C)CONJUNCT}
     I'Ll
     $CONJUNCT="They've" && echo ${(C)CONJUNCT}
     They'Ve

and so on.

My question is can I make the capitalization function think "'" is a word character?
By say, chaning the system parameter WORDCHARS or by specifying some other flag or separater?   
    like:
         W:sep:   or
         s:string: or
         by changing IFS temporarily  or
         the w and s:string: subscript flags
 etc.?


I noticed that there is no modifer for capitalization, only for l)owercase and u)pperase.  So the parameter expansion flag must be used to capitalize or so I gather from reading the "April 2, 2008" dated manual.


I could do a brute force checking for all known conjunctions, but I'd prefer a more elegant procedure.

Thanks for any advice.

regards
   d. henman

