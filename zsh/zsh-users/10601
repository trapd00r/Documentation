From zsh-users-return-10601-mason-zsh=primenet.com.au@sunsite.dk Mon Aug 14 02:39:48 2006
Return-Path: <zsh-users-return-10601-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8252 invoked from network); 14 Aug 2006 02:39:45 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.4 (2006-07-25) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.7 required=5.0 tests=AWL,BAYES_00,
	FORGED_RCVD_HELO autolearn=ham version=3.1.4
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 14 Aug 2006 02:39:45 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 33626 invoked from network); 14 Aug 2006 02:39:36 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 14 Aug 2006 02:39:36 -0000
Received: (qmail 27897 invoked by alias); 14 Aug 2006 02:39:29 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 10601
Received: (qmail 27888 invoked from network); 14 Aug 2006 02:39:28 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 14 Aug 2006 02:39:28 -0000
Received: (qmail 32539 invoked from network); 14 Aug 2006 02:39:28 -0000
Received: from g.primenet.com.au (203.24.36.10)
  by a.mx.sunsite.dk with SMTP; 14 Aug 2006 02:39:25 -0000
Received: (qmail 6344 invoked by uid 100); 14 Aug 2006 02:39:20 -0000
Date: Mon, 14 Aug 2006 12:39:20 +1000
From: Geoff Wing <gcw@zsh.org>
To: zsh-users@sunsite.dk
Subject: Re: weird zsh problem with background procs and scripts
Message-ID: <20060814023920.GA10157@primenet.com.au>
References: <20060812223515.GA9470@fast>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20060812223515.GA9470@fast>
Organization: PrimeNet Computer Consultancy
User-Agent: Mutt/1.5.12-2006-07-14

On Sunday 2006-08-13 08:34 +1000, Tyler Spivey output:
:If you put the following into a loop it won't work. Is there a
:workaround?
:#!/bin/zsh
:while :;do
:ed &
:jobs
:sleep 1
:done
:this should launch a bunch of eds int he background, but only seems to
:load one.

Works for me.  4.3.2-dev-1 on NetBSD.
Maybe your ed is exiting instead?

[3] 3050
[3]  + suspended (tty input)  ed
[3]  + suspended (tty input)  ed
[4] 8521
[4]  + suspended (tty input)  ed
[3]  - suspended (tty input)  ed
[4]  + suspended (tty input)  ed
[5] 29234
[5]  + suspended (tty input)  ed
[3]    suspended (tty input)  ed
[4]  - suspended (tty input)  ed
[5]  + suspended (tty input)  ed
...
and so on.

Regards,
Geoff

