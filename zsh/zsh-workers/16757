From zsh-workers-return-16757-mason-zsh=primenet.com.au@sunsite.dk Mon Mar 04 14:59:50 2002
Return-Path: <zsh-workers-return-16757-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 22863 invoked from network); 4 Mar 2002 14:59:49 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 4 Mar 2002 14:59:49 -0000
Received: (qmail 25975 invoked by alias); 4 Mar 2002 14:59:44 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 16757
Received: (qmail 25959 invoked from network); 4 Mar 2002 14:59:43 -0000
Date: Mon, 4 Mar 2002 23:58:32 +0900
Subject: Re: [Fink-devel] zsh breaks configure scripts
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v481)
Cc: zsh-workers@sunsite.dk, fink-devel@lists.sourceforge.net
To: Eric Norum <eric.norum@usask.ca>
From: Peter O'Gorman <peter@pogma.com>
In-Reply-To: <5CD7CBD8-2F7F-11D6-9666-00039366A118@usask.ca>
Message-Id: <4B960757-2F80-11D6-B91A-003065F6C222@pogma.com>
Content-Transfer-Encoding: 7bit
X-Mailer: Apple Mail (2.481)

And why are you sending this here? Fink has no control over 
which shell Apple decides to ship, although they will eventually 
move to using bash as /bin/sh, probably not until 10.2 or even 
later...

Peter

On Monday, March 4, 2002, at 11:51  PM, Eric Norum wrote:

> Apple uses zsh as /bin/sh on Mac OS X.  Unfortunately zsh has a 
> `feature' that breaks many autoconf configure scripts.  The 
> scripts contain lines like:
> if test "`CDPATH=:; cd $srcdir && pwd`" != "`pwd`" && .......
>
> The problem is that the zsh cd command insists on printing the 
> directory!
>
> The offending code is in cd_new_pwd() in Src/builtins.c around 
> line 1047:

