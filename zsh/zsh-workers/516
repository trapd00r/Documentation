From zsh-workers-request@math.gatech.edu  Thu Nov  2 14:00:16 1995
Received: from math.gatech.edu (euclid.skiles.gatech.edu [130.207.146.50]) by werple.net.au (8.7/8.7.1) with SMTP id OAA02421 for <mason@werple.mira.net.au>; Thu, 2 Nov 1995 14:00:12 +1100 (EST)
Received: by math.gatech.edu (5.x/SMI-SVR4)
	id AA19091; Wed, 1 Nov 1995 21:36:15 -0500
Resent-Date: Wed, 01 Nov 1995 21:33:23 -0500
Old-Return-Path: <coleman@math.gatech.edu>
Message-Id: <199511020233.VAA27048@redwood.skiles.gatech.edu>
X-Mailer: exmh version 1.6.4 10/10/95
To: zsh-workers@math.gatech.edu
Subject: Re: bindkey even worse 
In-Reply-To: Your message of "Wed, 01 Nov 1995 12:02:19 +0100."
             <9511011102.AA05999@sgi.ifh.de> 
Mime-Version: 1.0
Content-Type: text/plain
Date: Wed, 01 Nov 1995 21:33:23 -0500
From: Richard Coleman <coleman@math.gatech.edu>
Resent-Message-Id: <"hqe2r3.0.Dg4.Uw2cm"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/516
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

> This time, printbinding() is looking for a string to print out when it
> should be looking for a key name.

Well, not worse, just different :-)

Actually the original problem with printbinding() was that
the order of the parameters didn't match with scanhashtable().
This was causing every Key value for multi-character bindings
to appear to be NULL when printing from `bindkey'.  The last
patch you sent about this added a test to ignored NULL values.
This had the effect of not printing any of the multi-character
bindings.  I discovered this and fixed it, but somehow used
k->str instead of k->nam.  This probably happened since the
previous code passed in k->nam using the parameter `str'.
So the result was that it still core dumped, but for a
different reason.

I'm glad you found it, because `bindkey' finally works.

rc



