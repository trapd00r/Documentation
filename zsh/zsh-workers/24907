From zsh-workers-return-24907-mason-zsh=primenet.com.au@sunsite.dk Sun May 04 12:20:14 2008
Return-Path: <zsh-workers-return-24907-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 27275 invoked from network); 4 May 2008 12:20:13 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.4 (2008-01-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.4
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 4 May 2008 12:20:13 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 15295 invoked from network); 4 May 2008 12:20:09 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 4 May 2008 12:20:09 -0000
Received: (qmail 1463 invoked by alias); 4 May 2008 12:20:05 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 24907
Received: (qmail 1431 invoked from network); 4 May 2008 12:20:04 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 4 May 2008 12:20:04 -0000
Received: from mtaout01-winn.ispmail.ntl.com (mtaout01-winn.ispmail.ntl.com [81.103.221.47])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 2990E80ED172
	for <zsh-workers@sunsite.dk>; Sun,  4 May 2008 14:20:01 +0200 (CEST)
Received: from aamtaout03-winn.ispmail.ntl.com ([81.103.221.35])
          by mtaout01-winn.ispmail.ntl.com with ESMTP
          id <20080504122325.HGWU27050.mtaout01-winn.ispmail.ntl.com@aamtaout03-winn.ispmail.ntl.com>;
          Sun, 4 May 2008 13:23:25 +0100
Received: from pws-pc ([81.107.40.67]) by aamtaout03-winn.ispmail.ntl.com
          with ESMTP
          id <20080504122732.FFI26699.aamtaout03-winn.ispmail.ntl.com@pws-pc>;
          Sun, 4 May 2008 13:27:32 +0100
Date: Sun, 4 May 2008 13:19:13 +0100
From: Peter Stephenson <p.w.stephenson@ntlworld.com>
To: Phil Pennock <zsh-workers+phil.pennock@spodhuis.org>
Cc: des@FreeBSD.org, "Zsh Hackers' List" <zsh-workers@sunsite.dk>
Subject: Re: zsh 4.3.6 FreeBSD bug
Message-ID: <20080504131913.5b0b0ca5@pws-pc>
In-Reply-To: <20080503073947.GA22661@redoubt.spodhuis.org>
References: <20080503073947.GA22661@redoubt.spodhuis.org>
X-Mailer: Claws Mail 3.3.1 (GTK+ 2.12.5; x86_64-redhat-linux-gnu)
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: ClamAV 0.91.2/7019/Sun May  4 04:17:43 2008 on bifrost
X-Virus-Status: Clean

On Sat, 3 May 2008 00:39:47 -0700
Phil Pennock <zsh-workers+phil.pennock@spodhuis.org> wrote:
> FreeBSD's conflict in definitions for wchar_t and wint_t if ncurses.h is
> included with _XOPEN_SOURCE_EXTENDED defined (conflict with stddef.h and
> wchar.h) means that zsh 4.3.6 fails to build on FreeBSD 6.2/amd64.

I've now defined _XOPEN_SOURCE_EXTENDED to get wcwidth() even if curses
doesn't need it, because that's an XSI function; presumably that doesn't
want to happen on BSD either (it'll appear in the scope of the curses
files)?  If so we'll need to revise the scope of the definition you
changed to mean never define _XOPEN_SOURCE_EXTENDED.

-- 
Peter Stephenson <p.w.stephenson@ntlworld.com>
Web page now at http://homepage.ntlworld.com/p.w.stephenson/

