From zsh-users-return-2781-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Dec 15 02:07:57 1999
Return-Path: <zsh-users-return-2781-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 762 invoked from network); 15 Dec 1999 02:07:55 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 15 Dec 1999 02:07:55 -0000
Received: (qmail 8574 invoked by alias); 15 Dec 1999 02:07:40 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 2781
Received: (qmail 8567 invoked from network); 15 Dec 1999 02:07:39 -0000
Date: 15 Dec 1999 02:07:30 -0000
Message-Id: <Liam.945223650.87053.32725.1378431534@fizz>
Mime-Version: 1.0
Content-Type: text/plain
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
From: nirva@ishiboo.com (Danny Dulai)
To: zsh-users@sunsite.auc.dk
Subject: Re: zsh and memory
X-Mailer: Liam [version 0.7]
In-Reply-To: <991213182445.ZM11778@candle.brasslantern.com>

On 12/13/99, Bart Schaefer said:
>On Dec 13,  6:15am, Danny Dulai wrote:
>} Subject: zsh and memory
>}
>} Any hints on how to make zsh not consume as much memory as it does?
>} I'm not using the zftp or stat modules. Any thing else I can do?
>
>It'd be easier to answer the question if we knew what you ARE doing.
>"Is there any way I can get rid of these lumps on my head?  I'm not
>hitting myself with a hammer."

I'm just running zsh, defining like 4 very very small functions, like 25
aliases, like 15 completions using compctl, various options set (but not
ALLEXPORT). I'm using vi keybindings, adding like 5 of my own, and not
using anything like zed or any other modules. Never do I use a
here-documents.

Even running zsh -f with no /etc/zshenv existent, will give me a shell
significantly larger than a bash.

>Various things you should avoid if memory is a problem include:
>
>    setopt ALLEXPORT
>    use large here-documents
>    define lots of shell functions without using autoload
>    use "zed" (old) or the mapfile module (new) to edit files
>    use the new 3.1.6 shell-function-based completion system
>
>The last one is a bit unfortunate, but just "compinit" (without even
>trying any completions yet) adds half a megabyte to the RSS of zsh on
>my system, and it only goes up from there as functions autload and
>start caching their results in shell variables.

--=20
___________________________________________________________________________
Danny Dulai                                           Feet. Pumice. Lotion.
http://www.ishiboo.com/~nirva/                            nirva@ishiboo.com

