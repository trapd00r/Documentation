From zsh-workers-request@math.gatech.edu Sat Nov 01 22:19:54 1997
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 1949 invoked from network); 1 Nov 1997 22:19:53 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 1 Nov 1997 22:19:53 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id RAA03286;
	Sat, 1 Nov 1997 17:01:09 -0500 (EST)
Resent-Date: Sat, 1 Nov 1997 17:01:09 -0500 (EST)
From: ramos@ih4ess.ih.lucent.com
Date: Sat, 1 Nov 1997 16:01:07 -0600
Message-Id: <199711012201.QAA13863@ihnns581.ih.lucent.com>
To: zsh-workers@math.gatech.edu
Subject: leftover debugging statements?
X-Sun-Charset: US-ASCII
Resent-Message-ID: <"6uo4J2.0.Dp.aQwMq"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3592
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu


hello,

Did somebody leave some leftover debugging statements in
zsh 3.0.5?

Some assignments to a local (typeset) variable cause
some garbage to be printed out.

Example script & output (sorry I don't have time to
isolate this any further... I hope this is enough to
jog someone's memory):

PS1='zsh> '
 
zsh> which bug
bug () {
        typeset fred
        fred=NULL 
        typeset sourcefile
        echo 'Start loop...'
        for sourcefile in $*
        do
                typeset bar
                if [[ $fred = NULL ]]
                then
                        typeset foo
                        foo=(`echo output from some process`) 
                        bar=$foo[0] 
                else
                        bar=$fred 
                fi
        done
        echo 'End loop...'
        return 0
}
 
zsh> bug X Y Z
Start loop...
bar=output
foo=(output from some process)
bar=output
foo=(output from some process)
End loop...
 
zsh> setopt
allexport
autocd
autolist
autopushd
cdablevars
extendedglob
interactive
nolistbeep
login
menucomplete
monitor
pushdignoredups
pushdsilent
rmstarsilent
shinstdin
zle
 
zsh> echo $ZSH_VERSION
3.0.5
 
zsh> uname -a
SunOS ihnns581 5.5.1 Generic_103640-12 sun4u sparc SUNW,Ultra-1
 
##

Obviously, the function was not supposed to print anything out
except "Start loop..." and "End loop...".

Thanks,

--
Alex Ramos

