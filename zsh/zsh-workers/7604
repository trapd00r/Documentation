From zsh-workers-return-7604-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Sep 01 12:01:48 1999
Return-Path: <zsh-workers-return-7604-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 20122 invoked from network); 1 Sep 1999 12:01:47 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 1 Sep 1999 12:01:47 -0000
Received: (qmail 14668 invoked by alias); 1 Sep 1999 12:01:39 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7604
Received: (qmail 14660 invoked from network); 1 Sep 1999 12:01:37 -0000
To: zsh-workers@sunsite.auc.dk
Subject: Re: PATCH: Completion/Cvs/
References: <199909011103.NAA00249@beta.informatik.hu-berlin.de>
MIME-Version: 1.0 (generated by AKEMI 1.13.2 - =?ISO-2022-JP?B?Ig==?=
 =?ISO-2022-JP?B?GyRCQTA0Y0s8GyhCIg==?=)
Content-Type: text/plain; charset=US-ASCII
From: Tanaka Akira <akr@jaist.ac.jp>
Date: 01 Sep 1999 21:01:34 +0900
In-Reply-To: Sven Wischnowsky's message of "Wed, 1 Sep 1999 13:03:03 +0200 (MET DST)"
Message-ID: <rsqg10yu9gh.fsf@crane.jaist.ac.jp>
Lines: 42
User-Agent: Chao-gnus/6.12.5 AKEMI/1.13.2 (=?ISO-2022-JP?B?GyRCQTAbKEI=?=
 =?ISO-2022-JP?B?GyRCNGNLPBsoQg==?=) FLAM-DOODLE/1.12.6
 (=?ISO-2022-JP?B?GyRCM3cbKEI=?= 10R4.0/5.0) Emacs/20.4
 (sparc-sun-solaris2.6) MULE/4.0 (HANANOEN)

In article <199909011103.NAA00249@beta.informatik.hu-berlin.de>,
  Sven Wischnowsky <wischnow@informatik.hu-berlin.de> writes:

> The patch was mostly cosmetic, in fact. The question is: will users
> think that `-e+::..' does what they want in this case or not?
> Personally I don't care much if the patch is included or, since I
> would use `-e-:..' in such cases.

I think the behavior before 7596 is reasonable though I don't know
command that is fit to use it.

> @@ -535,6 +537,7 @@
>        optbeg="$nargbeg"
>        argbeg="$nargbeg"
>        fromrest=yes
> +      [[ "$def" = \*::* ]] && opt=''
>      fi
>    fi
>  

Hm.

is27e1u11% bindkey -e; fpath=($PWD/Completion/*(/)); autoload -U compinit; compinit -D; compdef _tst tst
is27e1u11% compconf group_matches=yes
is27e1u11% compconf message_format='%d'
is27e1u11% compconf description_format='%d'
is27e1u11% _tst () { _arguments '-e+:editor:(vi)' '*::mesg:false' }   
is27e1u11% tst -e<TAB>

This should complete `vi', but does not.

is27e1u11% cvs <TAB>
add        commit     export     log        release    tag        watchers
admin      diff       history    login      remove     unedit     
annotate   edit       import     logout     rtag       update     
checkout   editors    init       rdiff      status     watch      

Also, this should complete cvs common options addition to cvs commands.

Reverting the hunk fix this problem. Is this correct?
-- 
Tanaka Akira

