From zsh-users-return-11381-mason-zsh=primenet.com.au@sunsite.dk Wed Apr 11 07:29:49 2007
Return-Path: <zsh-users-return-11381-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 456 invoked from network); 11 Apr 2007 07:29:48 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.8 (2007-02-13) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.3 required=5.0 tests=AWL,BAYES_00,FORGED_RCVD_HELO
	autolearn=ham version=3.1.8
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 11 Apr 2007 07:29:48 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 68983 invoked from network); 11 Apr 2007 07:29:41 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 11 Apr 2007 07:29:41 -0000
Received: (qmail 10282 invoked by alias); 11 Apr 2007 07:29:33 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 11381
Received: (qmail 10272 invoked from network); 11 Apr 2007 07:29:32 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 11 Apr 2007 07:29:32 -0000
Received: (qmail 67634 invoked from network); 11 Apr 2007 07:29:32 -0000
Received: from smtpout0157.sc1.he.tucows.com (HELO n064.sc1.he.tucows.com) (64.97.136.157)
  by a.mx.sunsite.dk with SMTP; 11 Apr 2007 07:29:29 -0000
Received: from sc.homeunix.net (82.26.164.173) by n064.sc1.he.tucows.com (7.2.069.1)
        id 45FC2AFB001B37B1; Wed, 11 Apr 2007 07:29:26 +0000
Received: from chazelas by sc.homeunix.net with local (Exim 4.63)
	(envelope-from <stephane_chazelas@yahoo.fr>)
	id 1HbXGd-0001WA-Ol; Wed, 11 Apr 2007 08:29:23 +0100
Date: Wed, 11 Apr 2007 08:29:23 +0100
From: Stephane Chazelas <Stephane_Chazelas@yahoo.fr>
To: djh <henman@it.to-be.co.jp>
Cc: Zsh Users List <zsh-users@sunsite.dk>
Subject: Re: Reading line by line
Message-ID: <20070411072923.GB4996@sc.homeunix.net>
Mail-Followup-To: djh <henman@it.to-be.co.jp>,
	Zsh Users List <zsh-users@sunsite.dk>
References: <20070411033311.GA6837@solfire> <461C5C81.20609@cowan.name> <20070411063800.GA4996@sc.homeunix.net> <20070411155509.2180@henman-np.b-eng.it.to-be.co.jp>
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-15
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
In-Reply-To: <20070411155509.2180@henman-np.b-eng.it.to-be.co.jp>
User-Agent: Mutt/1.5.6i

On Wed, Apr 11, 2007 at 03:55:09PM +0900, djh wrote:
> 
> > > meino.cramer@gmx.de wrote:
> > > >  how can I read line by line from a file of text?
> > 
> > Most Unix tools (cut, paste, sed, awk...) read files lines by
> > line, it's generally a bad idea to have the shell read the file
> > by itself.
> 
> I shouldn't think so.  Nothing wrong with reading in lines from a file.
> It should in fact be easier and more efficient than have to load in heavy tools 
> like sed, if they're not needed.  

You're thinking of the shell as of a programming language, not a
shell. A shell is a command line interpreter before all, if you
want to do shell processing *programmatically*, use perl or
ruby, that's what they are good at. Then, use a shell as a
shell, and zsh is the best one at it. You may use while read
loops for speeding up code when writing shell extensions (like
completion functions).

That's my view anyway.

> > > while read theline
> 
> Read "Chapter 17, Shell Builtin Commands"
> 
> 
>      read .. explains all options for the shell builtin "read"
> 
>      getln.. a related function equivalent to "read -zr"
[...]

That's to read from the editor buffer stack!

To read a line of input, well all characters til the next
newline character or the end-of-file and store it into a
variable, it's

IFS= read -r line

read foo

is something totally different.

-- 
Stéphane

