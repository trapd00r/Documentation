From zsh-workers-request@euclid.skiles.gatech.edu Tue Aug 12 16:10:42 1997
Return-Path: <zsh-workers-request@euclid.skiles.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 18167 invoked from network); 12 Aug 1997 16:10:40 -0000
Received: from euclid.skiles.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 12 Aug 1997 16:10:40 -0000
Received: (from list@localhost)
	by euclid.skiles.gatech.edu (8.8.5/8.8.5) id MAA26913;
	Tue, 12 Aug 1997 12:06:12 -0400 (EDT)
Resent-Date: Tue, 12 Aug 1997 12:06:12 -0400 (EDT)
Message-ID: <19970812090429.08601@molehill.org>
Date: Tue, 12 Aug 1997 09:04:29 -0700
From: Todd Larason <jtl@molehill.org>
To: "John M. Harres" <harres@UWYO.EDU>
Cc: mason@primenet.com.au, zsh-workers@math.gatech.edu
Subject: Re: weird zsh startup behavior
References: <19970810003009.13551@molehill.org> <199708121531.JAA05545@ghidora.uwyo.edu>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 0.76e
In-Reply-To: <199708121531.JAA05545@ghidora.uwyo.edu>; from John M. Harres on Tue, Aug 12, 1997 at 09:31:58AM -0600
Resent-Message-ID: <"L72lf1.0.Ra6.qd8yp"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3440
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

On Tue, Aug 12, 1997 at 09:31:58AM -0600, John M. Harres wrote:
> The second directory scan does not have the inode check, as you mentioned, but 
> if it's there, the two loops look like they should either both succeed or 
> fail, thus the second adds nothing.

I'm not where I can look at the source right now, but my memory is that
the second one stat()s each file as it goes along, and used the dev number
from that;  I'm assuming that's intended to find mounted file systems --
readdir() gives info on the directory being mounted over, stat() gives
info on the mounted dir.

