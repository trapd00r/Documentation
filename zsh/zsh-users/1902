From zsh-workers-request@math.gatech.edu Fri Oct 30 15:16:24 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 7538 invoked from network); 30 Oct 1998 15:16:22 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 30 Oct 1998 15:16:22 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.9.1/8.9.1) id KAA13236;
	Fri, 30 Oct 1998 10:08:52 -0500 (EST)
Resent-Date: Fri, 30 Oct 1998 10:08:47 -0500 (EST)
Sender: B.Stephens@isode.com
To: zsh-users@math.gatech.edu
Subject: Re: jobs command and pipes
References: <Pine.OSF.3.96.981030143520.21124A-100000@alpha2.poco.phy.cam.ac.uk>
Mime-Version: 1.0 (generated by tm-edit 7.108)
Content-Type: text/plain; charset=US-ASCII
From: Bruce Stephens <b.stephens@isode.com>
Date: 30 Oct 1998 15:08:49 +0000
In-Reply-To: "Owen M. Astley"'s message of "Fri, 30 Oct 1998 14:36:05 +0000 (GMT)"
Message-ID: <vbk91irsse.fsf@snake.isode.com>
Lines: 26
X-Mailer: Gnus v5.6.27/XEmacs 20.4 - "Emerald"
Resent-Message-ID: <"UPGxW.0.3E3._PTEs"@math>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/1902
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

"Owen M. Astley" <oma1000@cam.ac.uk> writes:

> Why is it that the jobs command in zsh will not work with a pipe,
> although redirecting it to a file does work?

>From a practical point of view, it's surely obvious.  You can
implement

	A | B

by forking twice, redirecting I/O appropriately in the two children,
and then one child executes A, and one executes B.  I suspect

	jobs | wc

*does* work.  But the child process shell which executes the builtin
jobs doesn't have any jobs, so the result isn't interesting.

	jobs > foo

doesn't require jobs to be executed in a subshell, so it'll work as
expected.  (i.e., you get the list of jobs in the current shell,
rather than the empty list of jobs in a newly forked shell.)

So I think it's logical; probably a feature rather than a bug.  If
it's a bug, I wouldn't expect a fix soon.

