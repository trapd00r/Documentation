From zsh-workers-return-25659-mason-zsh=primenet.com.au@sunsite.dk Sat Sep 13 15:59:18 2008
Return-Path: <zsh-workers-return-25659-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 14215 invoked from network); 13 Sep 2008 15:59:16 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 13 Sep 2008 15:59:16 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 82060 invoked from network); 13 Sep 2008 15:59:06 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 13 Sep 2008 15:59:06 -0000
Received: (qmail 25385 invoked by alias); 13 Sep 2008 15:58:59 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 25659
Received: (qmail 25368 invoked from network); 13 Sep 2008 15:58:57 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 13 Sep 2008 15:58:57 -0000
Received: from lorien.comfychair.org (lorien.comfychair.org [64.81.241.43])
	by bifrost.dotsrc.org (Postfix) with ESMTPS id 0A543802710B
	for <zsh-workers@sunsite.dk>; Sat, 13 Sep 2008 17:58:45 +0200 (CEST)
Received: from lorien.comfychair.org (localhost [127.0.0.1])
	by lorien.comfychair.org (8.13.7/8.13.7) with ESMTP id m8DFwWan015302;
	Sat, 13 Sep 2008 08:58:32 -0700
Received: (from duvall@localhost)
	by lorien.comfychair.org (8.13.7/8.13.7/Submit) id m8DFwIhF015299;
	Sat, 13 Sep 2008 08:58:18 -0700
Date: Sat, 13 Sep 2008 08:58:18 -0700
From: Danek Duvall <duvall@comfychair.org>
To: =?iso-8859-1?B?eFJhaWNoW29dsng=?= <raichoo@googlemail.com>
Cc: zsh-workers@sunsite.dk
Subject: Re: [PATCH] completion for opensolaris IPS package manager
Message-ID: <20080913155818.GH21904@lorien.comfychair.org>
Mail-Followup-To: Danek Duvall <duvall@comfychair.org>,
	=?iso-8859-1?B?eFJhaWNoW29dsng=?= <raichoo@googlemail.com>,
	zsh-workers@sunsite.dk
References: <48CBDA72.8090105@gmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
In-Reply-To: <48CBDA72.8090105@gmail.com>
User-Agent: mutt-ng/devel-r535 (Linux)
X-Virus-Scanned: ClamAV 0.92.1/8230/Sat Sep 13 02:08:14 2008 on bifrost
X-Virus-Status: Clean

On Sat, Sep 13, 2008 at 05:21:22PM +0200, "xRaich[o]²x" wrote:

> I started working on some scripts for opensolaris commands (zpool, zfs, beadm 
> and more are in the works).

Completion functions for zpool and zfs are already in the zsh distribution,
and part of opensolaris (as of build 96), so there's no need to rewrite
those (though perhaps they need enhancement).

> #compdef pkg

You keep looking at files under /var/pkg.  These are private interfaces
which could change at any time.  You'd be better off using "pkg list" to
get this information, though you'll probably need to stick the information
in a cache.

Also, "search" doesn't take package names, so it doesn't belong in the same
clause as info and contents.

Thanks!

Danek

