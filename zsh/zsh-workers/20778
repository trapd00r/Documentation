From zsh-workers-return-20778-mason-zsh=primenet.com.au@sunsite.dk Wed Feb 02 19:45:19 2005
Return-Path: <zsh-workers-return-20778-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 711 invoked from network); 2 Feb 2005 19:45:18 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 2 Feb 2005 19:45:18 -0000
Received: (qmail 76731 invoked from network); 2 Feb 2005 19:38:29 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 2 Feb 2005 19:38:29 -0000
Received: (qmail 10320 invoked by alias); 2 Feb 2005 19:38:23 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 20778
Received: (qmail 10306 invoked from network); 2 Feb 2005 19:38:23 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 2 Feb 2005 19:38:23 -0000
Received: (qmail 76466 invoked from network); 2 Feb 2005 19:38:23 -0000
Received: from acolyte.scowler.net (216.254.112.45)
  by a.mx.sunsite.dk with SMTP; 2 Feb 2005 19:38:18 -0000
Received: by acolyte.scowler.net (Postfix, from userid 1000)
	id A01737004A; Wed,  2 Feb 2005 14:38:16 -0500 (EST)
Date: Wed, 2 Feb 2005 14:38:16 -0500
From: Clint Adams <schizo@debian.org>
To: zsh-workers@sunsite.dk
Cc: 293364-forwarded@bugs.debian.org
Subject: [arnova@xs4all.nl: Bug#293364: Bug in ZSH (zshell) using Debian-testing (Sarge)]
Message-ID: <20050202193816.GA14402@scowler.net>
Mail-Followup-To: zsh-workers@sunsite.dk,
	293364-forwarded@bugs.debian.org
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.5.6+20040907i
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=6.0 tests=BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.6

#0  0x00030bdc in loadautofn ()
#1  0x00030b80 in getproc ()
#2  0x0002d5d8 in execsubst ()
#3  0x0002bca0 in execlist ()
#4  0x0002b1d8 in execlist ()
#5  0x0002af0c in execlist ()
#6  0x0002a894 in execode ()
#7  0x00031348 in runshfunc ()
#8  0x00030fe0 in doshfunc ()
#9  0x0006d0f0 in dotrapargs ()
#10 0x00025288 in zexit ()
#11 0x00024f54 in bin_break ()
#12 0x0001a7c0 in execbuiltin ()
#13 0x0002d8c4 in execsubst ()
#14 0x0002bca0 in execlist ()
#15 0x0002b1d8 in execlist ()
#16 0x0002af0c in execlist ()
#17 0x0002a894 in execode ()
#18 0x0003f0c0 in loop ()
#19 0x00041a64 in zsh_main ()
#20 0x70171034 in __libc_start_main () from /lib/v9/libc.so.6
#21 0x00019f74 in _start ()
#22 0x00019f74 in _start ()
Previous frame identical to this frame (corrupt stack?)

----- Forwarded message from Arno van Amersfoort <arnova@xs4all.nl> -----

Package: zsh
Version: 4.2.3-1

 When I exit a zshell (for example when exiting from su) zshell segfaults 
 when:
 - /usr/share/zsh/functions/TRAPEXIT exists and is executable
 - And the function is loaded (for example from /etc/zsh/zshrc with 
 "autoload ${^/usr/share/zsh/functions}/*(.xN:t)" )

 I am using Debian GNU/Linux 3.2 (testing/sarge)



----- End forwarded message -----

