From zsh-workers-return-10721-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Apr 13 06:50:28 2000
Return-Path: <zsh-workers-return-10721-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 29904 invoked from network); 13 Apr 2000 06:50:25 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 13 Apr 2000 06:50:25 -0000
Received: (qmail 25438 invoked by alias); 13 Apr 2000 06:50:19 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 10721
Received: (qmail 25395 invoked from network); 13 Apr 2000 06:50:14 -0000
To: zsh-workers@sunsite.auc.dk
Subject: optioninfo.so
MIME-Version: 1.0 (generated by SEMI 1.13.7 - "Awazu")
Content-Type: text/plain; charset=US-ASCII
From: Tanaka Akira <akr@m17n.org>
Date: 13 Apr 2000 15:51:53 +0900
Message-ID: <hvo66tmh4s6.fsf@serein.m17n.org>
Lines: 51
User-Agent: T-gnus/6.14.1 (based on Gnus v5.8.3) (revision 16) SEMI/1.13.7 (Awazu) FLIM/1.13.2 (Kasanui) Emacs/20.6 (i686-pc-linux-gnu) MULE/4.0 (HANANOEN)

Hi.  I made simple shared library for extracting information of
options by overrinding getopt_long.

Z(4):akr@serein% make
gmake: `optioninfo.so' is up to date.
Z(4):akr@serein% _ls_arguments=($(LD_PRELOAD=$PWD/optioninfo.so ls))
Z(4):akr@serein% _ls () { _arguments $_ls_arguments '*:file: _files' }
Z(4):akr@serein% compdef _ls ls                                       
Z(4):akr@serein% ls -<TAB>
option
--all           --hide-control-chars   --reverse              -D   -a   -o 
--almost-all    --human-readable       --show-control-chars   -F   -b   -p 
--block-size    --ignore               --si                   -G   -c   -q 
--classify      --ignore-backups       --size                 -H   -d   -r 
--color         --indicator-style      --sort                 -I   -e   -s 
--dereference   --inode                --tabsize              -L   -f   -t 
--directory     --kilobytes            --time                 -N   -g   -u 
--dired         --literal              --version              -Q   -h   -v 
--escape        --no-group             --width                -R   -i   -w 
--file-type     --numeric-uid-gid      -1                     -S   -k   -x 
--format        --quote-name           -A                     -T   -l      
--full-time     --quoting-style        -B                     -U   -m      
--help          --recursive            -C                     -X   -n      
Z(4):akr@serein% uname -a
Linux serein.m17n.org 2.2.14-5k4 #1 Sun Mar 12 15:33:30 PST 2000 i686 unknown

Although this is not so sophisticated now and it is not portable, it
is very useful in some case.  How about this?

begin 644 optioninfo.tar.gz
M'XL("$AM]3@"`V]P=&EO;FEN9F\N=&%R`.V6VT[;0!"&?9M]BA$'Q2$.V`YQ
MI*2A4$HK*DI::*\HBMR-G5@$;V2O.:CBW;L;V_&A):$JC8HTWXWCF=E9[S\S
MCMF4>\SW?)?M?+2O'->;.,ISHQNZ;NWN*KK>:EGM9NX:8YJ6HK?U=LNT6I8A
M?AM-W6HKH"LK(`JY'0`H]E6P,&Z9_X5R?G9X#CU@\S;8IJ3_YD/)Q@@Y?'=R
M\%Z:&^[4HX3DO"'KP(8J5]5(93*$1CBV`T=<&6SLIQX@9.1PL6I;1">_**E0
M&B>$!LVL1$%61%;&G7P/K'+^FRV]F9O_MIS_MF7@_*^"=<^GDVCHP*N0#SVV
M/=XCF2D92&$CZT/QW^`[T/_TY;A_.CCMGQY5]++U[.CSU^.SH[<5H^R)+P<G
M%9,0(3@7`W_#O"&$8Q;P0=QY*@'P?)Z\=[3DCM]/G1KY(>ZF@;AWU;7&)EW3
MDJA:5SC"6X_3,:BS4)"AU`X+C]H1-H#O@6-?=4G)GSYT'.-.(QZJ:QT[&$77
MCL\[8BNA#(OX;*O'DJ3G*R1I/);E09XF$L]L!VKUFU\5QH>B+A/FCW*R4.:'
M'&0\;"V5I[$9_G-]>L\B4._/!(H[AMJ^5";DXKRCWX@3.V)-;L?B>T;-66>G
M%\JYH,Z-%\8E]'I0[51K,V?9;<[=R6I)H7&S#;3R><635^9>J/>@V4UR/"17
M9R)4>GKBM!R_)#:+B65:LC!EO:[E>R`17N@L^RH>_70D19FH[+A8Y%AP8;NY
MN-06%Z!4K<PK-W/N/*[JY=K*UI=Q66G%DHBF[P782@/B'5P6@-J%U-C8\^UK
M)[NOU].JY4>J&*TE.F76L1T.Q/EDW75XG5<).HN"C2PXK=/B!6:V(.V8^8(E
MM9D)]1<%TI;IF[YB9@;/'SIW3ZAIL83S4I7+73K&@/F3^Y=Z%OR(1!`$01`$
901`$01`$01`$01`$0?X;?@+UR43>`"@`````
`
end
-- 
Tanaka Akira

