From zsh-users-return-10108-mason-zsh=primenet.com.au@sunsite.dk Wed Mar 29 19:40:54 2006
Return-Path: <zsh-users-return-10108-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24714 invoked from network); 29 Mar 2006 19:40:52 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00,
	FORGED_RCVD_HELO autolearn=ham version=3.1.1
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 29 Mar 2006 19:40:52 -0000
Received: (qmail 28278 invoked from network); 29 Mar 2006 19:40:44 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 29 Mar 2006 19:40:44 -0000
Received: (qmail 15150 invoked by alias); 29 Mar 2006 19:40:37 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 10108
Received: (qmail 15140 invoked from network); 29 Mar 2006 19:40:37 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 29 Mar 2006 19:40:37 -0000
Received: (qmail 27294 invoked from network); 29 Mar 2006 19:40:37 -0000
Received: from dep.let.rug.nl (129.125.8.60)
  by a.mx.sunsite.dk with SMTP; 29 Mar 2006 19:40:35 -0000
Received: from dep.let.rug.nl ([129.125.8.60])
 by dep.let.rug.nl (SMSSMTP 4.1.11.41) with SMTP id M2006032921403303259
 for <zsh-users@sunsite.dk>; Wed, 29 Mar 2006 21:40:33 +0200
Received: from loki (postfix@loki.let.rug.nl [129.125.8.86])
	by dep.let.rug.nl (8.12.11.20060308/8.12.10) with ESMTP id k2TJeXxS011139
	for <zsh-users@sunsite.dk>; Wed, 29 Mar 2006 21:40:33 +0200 (MEST)
Received: by loki (Postfix, from userid 7006)
	id AE635E7AC; Wed, 29 Mar 2006 21:40:52 +0200 (CEST)
Date: Wed, 29 Mar 2006 21:40:52 +0200
From: Francisco Borges <f.borges@rug.nl>
To: Zsh User <zsh-users@sunsite.dk>
Subject: Re: cd && cdable_vars (bug?)
Message-ID: <20060329194052.GA25227@let.rug.nl>
Mail-Followup-To: Zsh User <zsh-users@sunsite.dk>
References: <20060329114653.GA24380@let.rug.nl> <060329100901.ZM5908@torch.brasslantern.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-15
Content-Disposition: inline
In-Reply-To: <060329100901.ZM5908@torch.brasslantern.com>
X-Operating-System: Linux/2.6.13.4 (i686)
X-Editor: GNU Emacs 22.0.50.1
Organization: Alfa Informatica - Rijksuniversiteit Groningen
User-Agent: Mutt/1.5.9i
X-Scanned-By: milter-spamc/0.25.321 (dep.let.rug.nl [129.125.8.60]); Wed, 29 Mar 2006 21:40:33 +0200
Content-Transfer-Encoding: quoted-printable
X-MIME-Autoconverted: from 8bit to quoted-printable by dep.let.rug.nl id k2TJeXxS011139

=BB On Wed, Mar 29, 2006 at 10:09AM -0800, Bart Schaefer wrote:

> }    Which AFAIK should not happen, since there is a directory "5", so
> }    there should be no cdablevar lookup, right?
>
> That's probably true, but it may depend on your other completion settin=
gs.
> Completion usually errs on the side of giving you too many choices, whe=
n
> there is ambiguity.

No, there is no ambiguity (cdablevars should only work when there is no
dir with that name) and, in any case, these choices are spurious in the
sense that, if accepted and executed, they fail (just like cd <int>
won't expand to cd ~<int>).

This will happen with clean "completion styles"

zsh -f

autoload -U compinit
compinit -D -C

setopt cdable_vars

mkdir -p test_cd
cd test_cd

dirstack=3D(/etc /usr /var)

mkdir -p 2/a 2/b 2/c

loki% cd 2/[TAB]
a/           c/           games/       lib/         lost+found/  share/
b/           dict@        include/     lib64/       openwin@     src/

loki% cd 2/bin
cd: no such file or directory: 2/bin

Cheers,
Francisco

