From zsh-users-return-3049-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Apr 28 20:16:16 2000
Return-Path: <zsh-users-return-3049-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5752 invoked from network); 28 Apr 2000 20:16:14 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 28 Apr 2000 20:16:14 -0000
Received: (qmail 12792 invoked by alias); 28 Apr 2000 20:15:57 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 3049
Received: (qmail 12784 invoked from network); 28 Apr 2000 20:15:57 -0000
Date: Fri, 28 Apr 2000 16:15:47 -0400
From: Paul Ackersviller <paulda@home.com>
To: Zsh users list <zsh-users@sunsite.auc.dk>
Subject: localtraps causing core dump in 3.1.6+
Message-ID: <20000428161546.A8208@tdc134.comm.mot.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.1.11i

I recently started doing `setopt localtraps && unset -f TRAPZERR'
because of some changes that took place for 3.1.7-pre-1.  I guess it's
intentional now that all tests which fail in chpwd() cause TRAPZERR()
to be executed.  However that led me to try the above, which dumps core
on both 3.1.7-pre-1 and 3.1.6 when changing directory.

This is happening on Solaris 2.6 compiled with gcc 2.8.1, in case it
matters.  I could also provide a stack trace if it would help anyone,
but the binaries I have around at the moment are without symbol tables.

-- 
Paul Ackersviller

