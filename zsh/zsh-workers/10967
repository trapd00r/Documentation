From zsh-workers-return-10967-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Apr 27 09:35:34 2000
Return-Path: <zsh-workers-return-10967-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 15108 invoked from network); 27 Apr 2000 09:35:33 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 27 Apr 2000 09:35:33 -0000
Received: (qmail 3368 invoked by alias); 27 Apr 2000 09:35:24 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 10967
Received: (qmail 3355 invoked from network); 27 Apr 2000 09:35:24 -0000
Date: Thu, 27 Apr 2000 11:35:18 +0200 (MET DST)
Message-Id: <200004270935.LAA14271@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: "Andrej Borsenkow"'s message of Thu, 27 Apr 2000 12:36:12 +0400
Subject: PATCH: Re: _configure or _arguments broken again?


Andrej Borsenkow wrote:

> With today's CVS:
> 
> bor@itsrm2% zsh -f
> itsrm2% autoload -U compinit; compinit -D
> itsrm2% itsrm2% ./configure --pre=/to<TAB>
>   B-e-e-s

Uff, it was only in shell code. But still rather stupid of me.

Bye
 Sven

Index: Completion/Base/_arguments
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Base/_arguments,v
retrieving revision 1.5
diff -u -r1.5 _arguments
--- Completion/Base/_arguments	2000/04/25 09:48:09	1.5
+++ Completion/Base/_arguments	2000/04/27 09:33:59
@@ -346,10 +346,9 @@
 	IPREFIX="${IPREFIX}${equal[1]%%:*}="
 	matched=yes
 
-	comparguments -L "${equal[1]%%:*}" descr action subc
-	curcontext="${oldcontext%:*}:$subc"
+	comparguments -L "${equal[1]%%:*}" descrs actions subcs
 
-	_tags arguments
+	_tags "$subcs[@]"
 
 	continue
       fi

--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

