From zsh-workers-return-16325-mason-zsh=primenet.com.au@sunsite.dk Tue Dec 11 17:54:56 2001
Return-Path: <zsh-workers-return-16325-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 15087 invoked from network); 11 Dec 2001 17:54:56 -0000
Received: from ns2.primenet.com.au (HELO primenet.com.au) (?ILq1JAAFZw/QFpC2Tiw+/6s+e9qb0254?@203.24.36.3)
  by ns1.primenet.com.au with SMTP; 11 Dec 2001 17:54:56 -0000
Received: (qmail 3200 invoked from network); 11 Dec 2001 17:54:54 -0000
Received: from sunsite.dk (130.225.247.90)
  by proxy.melb.primenet.com.au with SMTP; 11 Dec 2001 17:54:54 -0000
Received: (qmail 756 invoked by alias); 11 Dec 2001 17:54:47 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 16325
Received: (qmail 744 invoked from network); 11 Dec 2001 17:54:46 -0000
X-VirusChecked: Checked
X-Authentication-Warning: iris.logica.co.uk: Host kiddleo@rambo.logica.co.uk [158.234.33.58] claimed to be yahoo.co.uk
Sender: kiddleo@iris.logica.co.uk
Message-ID: <3C16484A.9DD22073@yahoo.co.uk>
Date: Tue, 11 Dec 2001 17:54:18 +0000
From: Oliver Kiddle <okiddle@yahoo.co.uk>
X-Mailer: Mozilla 4.77 [en] (X11; U; Linux 2.2.15 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: zsh-workers@sunsite.dk
Subject: PATCH: _wget
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

This updates _wget for the newly released wget 1.8.

Index: Completion/Unix/Command/_wget
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_wget,v
retrieving revision 1.4
diff -u -r1.4 _wget
--- Completion/Unix/Command/_wget	2001/10/08 16:22:40	1.4
+++ Completion/Unix/Command/_wget	2001/12/11 17:49:59
@@ -21,15 +21,17 @@
   '(--tries -t)'{--tries=,-t+}'[set number of retries]:number of retries' \
   '(--output-document -O)'{--output-document=,-O+}'[specify file to write documents to]:output file:_files' \
   '(--continue -c)'{--continue,-c}'[continue getting an existing file]'  \
-  '--dot-style=[set retrieval display style]:display style:(default binary mega giga micro)' \
+  '--progress=[set progress gauge type]:gauge type:->gauge' \
   '(--timestamping -N)'{--timestamping,-N}'[retrieve only files newer than existing]' \
   '(--server-response -S)'{--server-response,-S}'[print server response]' \
   "--spider[don't download anything]" \
   '(--timeout -T)'{--timeout=,-T+}'[specify read timeout]:read timeout (seconds)' \
   '(--wait,-w)'{--wait=,-w+}'[specify wait between retrievals]:wait between retrievals (seconds)' \
-  '--waitretry=:wait between retries of a retrieval (seconds)' \
+  '(--random-wait)--waitretry=:wait between retries of a retrieval (seconds)' \
+  '(--waitretry)--random-wait[wait from 0...2*WAIT secs between retrievals]' \
   '(--proxy -Y)'{--proxy=,-Y+}'[turn proxy on or off]:proxy use:(on off)' \
   '(--quota -Q)'{--quota=,-Q+}'[set retrieval quota]:number' \
+  '--limit-rate=[specify limit to download rate]:download rate limit' \
   '(--force-directories -x)'{--force-directories,-x}'[force creation of directories]' \
   '(--directory-prefix -P)'{--directory-prefix=,-P+}'[specify prefix to save files to]:prefix:_files -/' \
   '--cut-dirs=:number:' \
@@ -80,17 +82,22 @@
   '--no-http-keep-alive[disable HTTP keep-alive]' \
   '--sslcertfile=[specify client certificate]:client certificate file:_files' \
   '--sslcertkey=[specify keyfile for certificate]:keyfile:_files' \
+  '--egd-file=[specify filename of EGD socket]' \
   '*:url:_urls' && return 0
 
 case "$state" in
-noflags)
-  _values -s '' 'option' \
-    'v[non verbose]' \
-    'h[no host lookup]' \
-    'H[no host directories]' \
-    'd[no directories]' \
-    'c[no clobber]' \
-    'r[don'\''t remove listing]' \
-    'p[no parent]'
+  gauge)
+    _values -S : 'progress gauge type' \
+      'dot:style:(default binary mega giga micro)' \
+      'bar:force:(force)'
+  ;;
+  noflags)
+    _values -s '' 'option' \
+      'v[non verbose]' \
+      'H[no host directories]' \
+      'd[no directories]' \
+      'c[no clobber]' \
+      'r[don'\''t remove listing]' \
+      'p[no parent]'
   ;;
 esac

_____________________________________________________________________
This message has been checked for all known viruses by the 
MessageLabs Virus Scanning Service. For further information visit
http://www.messagelabs.com/stats.asp

