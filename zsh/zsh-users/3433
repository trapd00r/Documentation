From zsh-users-return-3433-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Sep 18 00:18:07 2000
Return-Path: <zsh-users-return-3433-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24218 invoked from network); 18 Sep 2000 00:18:02 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 18 Sep 2000 00:18:02 -0000
Received: (qmail 10886 invoked by alias); 18 Sep 2000 00:17:09 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 3433
Received: (qmail 10879 invoked from network); 18 Sep 2000 00:17:08 -0000
Date: Sun, 17 Sep 2000 20:17:09 -0400
Message-Id: <200009180017.UAA08871@soup.ql.org>
X-Authentication-Warning: soup.ql.org: ejb set sender to ejb@ql.org using -f
From: "E. Jay Berkenbilt" <ejb@ql.org>
To: zsh-users@sunsite.auc.dk
Subject: completion and globbing, part 2
Mime-Version: 1.0 (generated by tm-edit 7.106)
Content-Type: text/plain; charset=US-ASCII


It occurred to me that if the analysis in my last message was true,
the following would work:

zstyle ':completion:*' completer _oldlist _complete _qcomp _ignored
bindkey "^I" complete-word

where _qcomp is defined as follows:

   #autoload

   compstate[pattern_match]='*'
   compstate[insert]=all
   ret=1
   _complete && ret=0
   return ret

This does, in fact, give me exactly the behavior I'm looking for
without using _expand or _match.

(I also added _ignored, but that doesn't have anything to do with
this.)

--
E. Jay Berkenbilt (ejb@ql.org)  |  http://www.ql.org/q/

