From zsh-users-return-12163-mason-zsh=primenet.com.au@sunsite.dk Thu Nov 01 10:36:51 2007
Return-Path: <zsh-users-return-12163-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13191 invoked from network); 1 Nov 2007 10:36:42 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.3 (2007-08-08) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.3
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 1 Nov 2007 10:36:42 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 95810 invoked from network); 1 Nov 2007 10:36:36 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 1 Nov 2007 10:36:36 -0000
Received: (qmail 12778 invoked by alias); 1 Nov 2007 10:36:29 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 12163
Received: (qmail 12750 invoked from network); 1 Nov 2007 10:36:27 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 1 Nov 2007 10:36:27 -0000
Received: (qmail 94531 invoked from network); 1 Nov 2007 10:36:27 -0000
Received: from smtpout0170.sc1.he.tucows.com (HELO n066.sc1.he.tucows.com) (64.97.136.170)
  by a.mx.sunsite.dk with SMTP; 1 Nov 2007 10:36:21 -0000
Received: from sc.homeunix.net (82.26.162.94) by n066.sc1.he.tucows.com (7.2.069.1)
        id 47030B3A0023A317; Thu, 1 Nov 2007 10:36:16 +0000
Received: from chazelas by sc.homeunix.net with local (Exim 4.68)
	(envelope-from <stephane_chazelas@yahoo.fr>)
	id 1InXPK-0006ep-FR; Thu, 01 Nov 2007 10:36:14 +0000
Date: Thu, 1 Nov 2007 10:36:14 +0000
From: Stephane Chazelas <Stephane_Chazelas@yahoo.fr>
To: Atom Smasher <atom@smasher.org>
Cc: zsh-users@sunsite.dk
Subject: Re: multiple OSes
Message-ID: <20071101103614.GB5492@sc.homeunix.net>
Mail-Followup-To: Atom Smasher <atom@smasher.org>, zsh-users@sunsite.dk
References: <20071101093453.40647.qmail@smasher.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-15
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
In-Reply-To: <20071101093453.40647.qmail@smasher.org>
User-Agent: Mutt/1.5.16 (2007-09-19)

On Thu, Nov 01, 2007 at 10:34:50PM +1300, Atom Smasher wrote:
[...]
> ## this seems to cause problems on solaris - so don't do it there
> [[ -z "${OSTYPE##solaris*}" ]] || MANPATH=$(manpath 2> /dev/null)
>
> ## why does solaris suck?
> [[ -z "${OSTYPE##solaris*}" ]] && PATH=$PATH/usr/ucb:${HOME}/bin:

That's a bit convoluted.

[[ $OSTYPE = solaris* ]]

or

case $OSTYPE in
  (solaris*) ...
  ;;
  (*) ...
  ;;
esac

Also I think you meant
PATH=$PATH:/usr/ucb:${HOME}/bin:

Also, if you'd like Solaris to behave in a more Unixy way, you
could add the Unix PATH in front:

PATH=$(command -p getconf PATH):$PATH:/usr/ucb:${HOME}/bin:

(that might break some scripts though).

> also, i've got this in my ~/.zshrc:
>   alias rm="rm -i" # safety first!
> which causes a problem on solaris... instead of:
> 	rm -rf /junk
> i have to do this:
> 	command rm -rf /junk
>
> is there a better way to assign that alias to rm if i'm on solaris?
[...]

zmodload -i zsh/files &&
  disable chown chgrp ln mkdir mv rmdir sync

;)

-- 
Stéphane

