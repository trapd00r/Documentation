From zsh-workers-return-27182-mason-zsh=primenet.com.au@sunsite.dk Wed Jul 22 02:59:21 2009
Return-Path: <zsh-workers-return-27182-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 11985 invoked from network); 22 Jul 2009 02:59:16 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00,UNPARSEABLE_RELAY
	autolearn=ham version=3.2.5
Received: from new-brage.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.254.104)
  by ns1.primenet.com.au with SMTP; 22 Jul 2009 02:59:16 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 75341 invoked from network); 22 Jul 2009 02:59:05 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 22 Jul 2009 02:59:05 -0000
Received: (qmail 17997 invoked by alias); 22 Jul 2009 02:58:57 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 27182
Received: (qmail 17979 invoked from network); 22 Jul 2009 02:58:56 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 22 Jul 2009 02:58:56 -0000
Received: from ciao.gmane.org (main.gmane.org [80.91.229.2])
	by bifrost.dotsrc.org (Postfix) with ESMTPS id 204E18027106
	for <zsh-workers@sunsite.dk>; Wed, 22 Jul 2009 04:58:49 +0200 (CEST)
Received: from list by ciao.gmane.org with local (Exim 4.43)
	id 1MTS2a-00081G-Cm
	for zsh-workers@sunsite.dk; Wed, 22 Jul 2009 02:58:48 +0000
Received: from c-24-10-247-15.hsd1.ut.comcast.net ([c-24-10-247-15.hsd1.ut.comcast.net])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <zsh-workers@sunsite.dk>; Wed, 22 Jul 2009 02:58:48 +0000
Received: from ebb9 by c-24-10-247-15.hsd1.ut.comcast.net with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <zsh-workers@sunsite.dk>; Wed, 22 Jul 2009 02:58:48 +0000
X-Injected-Via-Gmane: http://gmane.org/
To: zsh-workers@sunsite.dk
From:  Eric Blake <ebb9@byu.net>
Subject:  Re: zsh 4.3.10 terminates with SIGINT when one types Ctrl-G in emacs under Mac OS X
Date: Wed, 22 Jul 2009 02:58:37 +0000 (UTC)
Lines: 20
Message-ID:  <loom.20090722T025614-158@post.gmane.org>
References:  <schaefer@brasslantern.com> <090712193623.ZM14823@torch.brasslantern.com> <200907131839.n6DIdO6Z003291@pws-pc.ntlworld.com> <20090716162419.GA26179@prunille.vinc17.org> <090717222936.ZM8648@torch.brasslantern.com> <20090718101602.GA5392@xvii> <090718113509.ZM10405@torch.brasslantern.com> <20090718230930.GB5412@xvii> <090719113147.ZM3140@torch.brasslantern.com> <20090720083128.GA6861@xvii>
Mime-Version:  1.0
Content-Type:  text/plain; charset=us-ascii
Content-Transfer-Encoding:  7bit
X-Complaints-To: usenet@ger.gmane.org
X-Gmane-NNTP-Posting-Host: main.gmane.org
User-Agent: Loom/3.14 (http://gmane.org/)
X-Loom-IP: 24.10.247.15 (Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1.16) Gecko/20080702 Firefox/2.0.0.16 Mnenhy/0.7.5.666)
Sender: news <news@ger.gmane.org>
X-Virus-Scanned: ClamAV 0.94.2/9604/Wed Jul 22 02:59:17 2009 on bifrost
X-Virus-Status: Clean

Vincent Lefevre <vincent <at> vinc17.org> writes:

> 
> Sorry, I was not enough clear. I meant that bash restores the trap
> to the behavior at the time that bash was called. But it seems to
> be something different, something like if SIGINT is ignored when
> bash is executed, a "trap command INT" has no effect unless both
> bash and its child receive a SIGINT. Now, this behavior is a bit
> strange, maybe a bug.

POSIX requires that if a shell starts life with a signal ignored, that the shell
should silently reject attempts to alter the fact that the signal is ignored
(either back to a default, or to a user-specified handler).  Which is very
annoying if your shell ever gets started with SIGPIPE ignored, but that's life.
 In other words, if you start bash with SIGINT ignored, you can't undo that from
within the bash shell.

-- 
Eric Blake


