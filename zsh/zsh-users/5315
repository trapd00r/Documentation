From zsh-users-return-5315-mason-zsh=primenet.com.au@sunsite.dk Wed Aug 28 20:33:27 2002
Return-Path: <zsh-users-return-5315-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 3796 invoked from network); 28 Aug 2002 20:33:27 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 28 Aug 2002 20:33:27 -0000
Received: (qmail 27342 invoked by alias); 28 Aug 2002 20:33:04 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 5315
Received: (qmail 27325 invoked from network); 28 Aug 2002 20:33:03 -0000
Date: Wed, 28 Aug 2002 22:32:48 +0200
From: Phil Pennock <Phil.Pennock@globnix.org>
To: Eric.D.Friedman@WellsFargo.COM, zsh-users@sunsite.dk
Subject: Re: completion for dotdirs/symlinks to directories
Message-ID: <20020828223248.A28564@globnix.org>
Mail-Followup-To: Eric.D.Friedman@WellsFargo.COM, zsh-users@sunsite.dk
References: <8F6C90BF40FFD211948B0001FA7E51660F101882@xcem-casfo-13.wellsfargo.com> <20020828131350.A20929@globnix.org>
Mime-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-md5;
	protocol="application/pgp-signature"; boundary="fdj2RfSjLxBAspz7"
Content-Disposition: inline
User-Agent: Mutt/1.2.5i
In-Reply-To: <20020828131350.A20929@globnix.org>; from Phil.Pennock@globnix.org on Wed, Aug 28, 2002 at 01:13:50PM +0200
X-Disclaimer: Any views expressed in this message, where not explicitly
	attributed otherwise, are mine and mine alone.  Such views
	do not necessarily coincide with those of any organisation
	or company with which I am or have been affiliated.


--fdj2RfSjLxBAspz7
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

On 2002-08-28 at 13:13 +0200, I wrote:
> How about:
>  compctl -g '*~CVS(D-/)' cd chdir dirs pushd
>=20
> Anything except CVS, and then modifier flags.
> Works here (4.0.2/OpenBSD).

I finally got around to actually using this properly for myself, and
very quickly found a flaw.  When excluding, it only matches _exactly_
the path "CVS" in the current directory.  If you have a larger CVS tree,
then CVS entries in that can be matched.

Try:
 compctl -g '*~(*/)#CVS(D-/)' cd chdir dirs pushd=20

Which excludes: zero-or-more sequences of "*/", followed by "CVS".

Stunning how quickly the flaw in the original becomes noticeable when
you're migrating to a new CVS server and only have one project, nested
deeply, checked out.  ;^)  Now, three tabs and I'm there.
--=20
I'm reasonably sure that I slept last night because I think that I woke up
two or three times.  Why am I a sysadmin?

--fdj2RfSjLxBAspz7
Content-Type: application/pgp-signature
Content-Disposition: inline

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.6 (OpenBSD)

iD8DBQE9bTNvfDS04Uzk9lURArySAKDU4SExJfRb0CvdBLjnHT3PkpJ1TQCgzcTJ
Vn37zGWmu2cgs3Wwtih0eyw=
=lYRX
-----END PGP SIGNATURE-----

--fdj2RfSjLxBAspz7--

