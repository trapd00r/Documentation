From zsh-workers-return-12008-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Jun 20 16:32:48 2000
Return-Path: <zsh-workers-return-12008-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 7528 invoked from network); 20 Jun 2000 16:32:46 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 20 Jun 2000 16:32:46 -0000
Received: (qmail 29361 invoked by alias); 20 Jun 2000 16:32:19 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 12008
Received: (qmail 29324 invoked from network); 20 Jun 2000 16:32:16 -0000
Date: Tue, 20 Jun 2000 17:31:48 +0100
From: Peter Stephenson <pws@cambridgesiliconradio.com>
Subject: history completion oddity
To: zsh-workers@sunsite.auc.dk (Zsh hackers list)
Message-id: <0FWG003OMOKZCF@la-la.cambridgesiliconradio.com>
Content-transfer-encoding: 7BIT

I expect Sven will tell me this is the way it should work (or has to work),
but it's worth a try...

history completion (ESC-/) on
  % echo ${PWD
does nothing.  On
  % echo ${PWD/
it gives me what I expect (don't ask):
  % echo ${PWD/bc01/bc01/test}/$f

I would guess that something visceral is grabbing potential parameter
completions before the history code can do anything --- given the second
result, the list of history words is OK, and also, more subtly, it's not
falling over on the incompletely parsed parameter.  I didn't get very far
looking at the trace output, a large chunk of which (in my case) seems to
be testing for colouring strings.

-- 
Peter Stephenson <pws@cambridgesiliconradio.com>
Cambridge Silicon Radio, Unit 300, Science Park, Milton Road,
Cambridge, CB4 0XL, UK                          Tel: +44 (0)1223 392070

