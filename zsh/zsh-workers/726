From zsh-workers-request@euclid.skiles.gatech.edu  Wed Jan 10 16:27:57 1996
Received: from euclid.skiles.gatech.edu (euclid.skiles.gatech.edu [130.207.146.50]) by werple.net.au (8.7/8.7.1) with ESMTP id QAA05010 for <mason@werple.mira.net.au>; Wed, 10 Jan 1996 16:27:41 +1100 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id AAA07459; Wed, 10 Jan 1996 00:08:53 -0500 (EST)
Resent-Date: Wed, 10 Jan 1996 00:08:53 -0500 (EST)
From: Zefram <A.Main@dcs.warwick.ac.uk>
Message-Id: <2889.199601100508@stone.dcs.warwick.ac.uk>
Subject: -M option for ulimit
To: zsh-workers@math.gatech.edu (Z Shell workers mailing list)
Date: Wed, 10 Jan 1996 05:08:29 +0000 (GMT)
X-Loop: zefram@dcs.warwick.ac.uk
X-Stardate: [-31]6876.07
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"F7GQU.0.Tq1.bdqym"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/726
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

-----BEGIN PGP SIGNED MESSAGE-----

The patch below adds the -M option to ulimit, and fixes numerous bugs
in it.  It turned out quite big (11K), so I've compressed it.  The bug
fixes I remember are:

o Don't try to scale output that should say "unlimited" (it was
  printing garbage).

o Notice if more than one limit is specified at once.

o Accept "ulimit -H" to list all hard limits.

o Accept -S as a synonym for -f as bash does.  The option was accepted,
  but treated as a non-existent resource.  Also document it.

It would be nice to rewrite ulimit to accept multiple resources the way
bash ulimit does, but I think this is the appropriate state to put
ulimit into now.  Maybe a couple of versions hence.

 -zefram

begin 644 ulimit-M.gz
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
&<<'>+0  
 
end

-----BEGIN PGP SIGNATURE-----
Version: 2.6.i

iQCVAgUBMPNJq3D/+HJTpU/hAQFhdgP+NE7hok51LTJN6y0Y+2HeTSQQ9xxaUdLG
pIDmVw51pVvm0LdNaAwRU7kkZgdBh1heFirIszfrV4nP51AL/+Pu/8X37XZUUq0H
s9iBnBbhbNrWOQuUPL4eNJ2p1jQec08Sm1nZkSUDz8YBGts6ZTAdvChpCN4SWOOT
xCowQqOlRcs=
=mjJd
-----END PGP SIGNATURE-----

