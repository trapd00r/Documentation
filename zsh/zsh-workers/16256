From zsh-workers-return-16256-mason-zsh=primenet.com.au@sunsite.dk Thu Nov 15 19:10:44 2001
Return-Path: <zsh-workers-return-16256-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 23298 invoked from network); 15 Nov 2001 19:10:43 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 15 Nov 2001 19:10:43 -0000
Received: (qmail 8377 invoked by alias); 15 Nov 2001 19:10:36 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 16256
Received: (qmail 8365 invoked from network); 15 Nov 2001 19:10:35 -0000
To: zsh-workers@sunsite.dk (Zsh hackers list)
Subject: 4.1.0-dev-3
Date: Thu, 15 Nov 2001 19:10:02 +0000
Message-ID: <8870.1005851402@csr.com>
From: Peter Stephenson <pws@csr.com>

I've uploaded ftp://ftp.zsh.org/pub/development/zsh-4.1.0-dev-3.tar.gz and
.bz2.   Here's the list of changes.

2001-11-15  Peter Stephenson  <pws@csr.com>

	* unposted: Config/version.mk, Etc/.distfiles, Util/.distfiles,
	Completion/Mandrake/.distfiles,
	Completion/Mandrake/Command/.distfiles: version 4.1.0-dev-3 plus
	associated tidying of distribution.

	* 16255: Function/Misc/zcalc: allow -#base or -## base to
	specify default output base.

	* 16254: Completion/Unix/Command/_yp: allow completion of map
	names after ypmatch.

2001-11-15 Chmouel Boudjnah <chmouel@mandrakesoft.com>

	* 16253: Src/Zle/complete.mdd: Add Mandrake completion directory to
	install.

2001-11-15  Peter Stephenson  <pws@csr.com>

	* 16241: zshconfig.ac, Src/Modules/mathfunc.c,
	Doc/Zsh/mod_mathfunc.yo: new rand48(param) math function calls
	erand48(3), storing seed as hex string in $param.

2001-11-14  Andrej Borsenkow  <bor@zsh.org>

	* 16247: Completion/Mandrake/Command/_urpmi: completion
	for Mandrake urpmi command suit.

2001-11-09  Oliver Kiddle  <opk@zsh.org>

	* 16228: Src/builtin.c, Doc/Zsh/builtins.yo: allow widths
	and precisions to work with printf's %b format specifier

2001-11-06  Oliver Kiddle  <opk@zsh.org>

	* unposted: Functions/Misc/mere: fix for IRIX

	* 16224: Src/jobs.c, Doc/Zsh/builtins.yo,
	Completion/Unix/Type/_signals, Completion/Zsh/Command/_kill,
	Completion/Zsh/Command/_jobs_builtin: add -n option to kill
	builtin and use _arguments in _kill to complete options

2001-11-03  Bart Schaefer  <schaefer@zsh.org>

	* 16215: Src/subst.c: save and restore mult_isarr in singsub()
	in case of nested substitution via getoutput().

	* 16201: Src/params.c, Src/utils.c, Src/zsh.h: introduce the
	PM_NAMEDDIR flag to mark parameters for which a value change
	should be reflected in the named directory table.

	* 16158: Src/utils.c: interpret TAB as "yes" only in spckword(),
	not in getquery() which is also used by other callers.

	* 16094: Src/compat.c: zopenmax() shouldn't return the true limit
	on the number of descriptors, as that might be a very large number
	and we really only care about the highest-numbered descriptor that
	is already open.

2001-11-02  Oliver Kiddle  <opk@zsh.org>

	* unposted: Functions/Prompts/prompt_oliver_setup,
	Doc/Zsh/prompt.yo: documentation and example for 16198

	* 16198: Src/prompt.c: add %j prompt expansion and j test
	character for putting the number of jobs in the prompt

	* 16177: Completion/Unix/Type/_time_zone: also look in
	/usr/lib/locale/TZ for time zones

2001-11-01  Bart Schaefer  <schaefer@zsh.org>

	* 16197: Completion/Zsh/Command/.distfiles,
	Completion/Zsh/Command/_limit, Completion/Zsh/Type/_limits,
	Src/Builtins/rlimits.c: `limit' accepts `unlimited' as a value.

2001-10-26  Wayne Davison  <wayned@users.sourceforge.net>

	* 16184: Src/hist.c: Improved readhistline() to reject binary data
	better.

2001-10-26  Peter Stephenson  <pws@csr.com>

	* 16176: Src/Modules/tcp.c, Src/Modules/zftp.c: after fdclose(),
	TCP control fd is no longer valid, but we still need to remove
	the session cleanly.

2001-10-26  Oliver Kiddle  <opk@zsh.org>

	* 16174: Completion/Unix/Command/_zdump,
	Completion/Unix/Type/_time_zone, Completion/Zsh/Context/_value,
	Completion/Unix/Type/.distfiles: complete value of $TZ

2001-10-26  Peter Stephenson  <pws@csr.com>

	* 16172: Src/Modules/tcp.c, Src/Modules/zftp.c: rename
	freehostent() to zfreehostent() to avoid clash with Solaris libnsl.

	* 16171: Doc/Zsh/zftpsys.yo: minor changes of phrasing.

	* 15793: Src/Modules/zftp.c: require zsh/net/tcp explicitly from
	setup_ function for zftp.

2001-10-25  Peter Stephenson  <pws@csr.com>

	* 16145: Src/Builtins/rlimits.c: try to handle both RLIMITS_VMEM
	and RLIMITS_RSS, even if they are the same value (c.f. 16033).

2001-10-24  Peter Stephenson  <pws@csr.com>

	* 16130: Doc/.cvsignore, Doc/Zsh/manual.yo: Fix for texi2html
	1.64.

2001-10-24  Geoff Wing  <gcw@zsh.org>

	* 16063: Src/zsh.h, Src/options.c, Src/Zle/zle_main.c,
	Src/Zle/zle_refresh.c, Doc/Zsh/options.yo: add transientrprompt
	option to remove right prompt from display when accepting commands

2001-10-23  Bart Schaefer  <schaefer@zsh.org>

	* 16124: Src/loop.c: Fix infinite loop on `case' with xtrace
	(bug introduced by 16041).

2001-10-23  Oliver Kiddle  <opk@zsh.org>

	* 16122: Src/builtin.c, Test/B03print.ztst: only count value
	returned by %n in printf since last format reuse

2001-10-22  Peter Stephenson  <pws@csr.com>

	* 16033: Pavel Roskin <proski@gnu.org>:
          Src/Builtins/rlimits.c: Undefine RLIMIT_RSS if it's equal to
        RLIMIT_VMEM to avoid duplicate case value.
          aczsh.m4 (zsh_LARGE_FILE_SUPPORT): Ignore output of getconf
        if it returns "undefined".

2001-10-22  Bart Schaefer  <schaefer@zsh.org>

	* 16111: Src/Builtins/rlimits.c: Report error on attempt to set
	limit to a string that is not a decimal number.

2001-10-22  Adam Spiers  <adam@spiers.net>

	* 16092: Completion/Unix/Command/_mysql_utils: don't override
	settings in ~/.my.cnf

2001-10-20  Bart Schaefer  <schaefer@zsh.org>

	* Adapted from Stefan Dalibor, 16043: Src/utils.c: checkrmall()
	must not print to shout when shout's not valid.

2001-10-19  Sven Wischnowsky  <wischnow@zsh.org>

	* 16085: Completion/Base/Utility/_describe,
	Completion/Zsh/Context/_condition,
	Completion/Zsh/Type/_file_descriptors: fix: make _describe
	handle (...) arguments correctly; use _file_descriptors after
	-t in conditions; don't display empty descriptions in
	_file_descriptors

2001-10-18  Oliver Kiddle  <opk@zsh.org>

	* 16080: Src/builtin.c, Doc/Zsh/builtins.yo, Test/B03print.ztst:
	allow arguments to be specified in printf format specifications

2001-10-17  Clint Adams  <clint@zsh.org>

	* 16078: Completion/Unix/Command/_zip:
	add -r, change description for -R.

2001-10-17  Sven Wischnowsky  <wischnow@zsh.org>

	* 16076: Completion/Unix/Type/_path_files: don't use
	_comp_ignore while building paths, only at end

2001-10-16  Peter Stephenson  <pws@csr.com>

	* 16065: Doc/Zsh/metafaq.yo: sourceforge.

2001-10-16  Oliver Kiddle  <opk@zsh.org>

	* 16064: Src/builtin.c, Src/utils.c, Test/B03print.ztst:
	fix return code of printf after math errors, incomplete comment
	in utils.c and tests of printf now that math evaluation is used

2001-10-16  Clint Adams  <clint@zsh.org>

	* 16062: Src/Modules/zftp.c: use O_EXCL
	when opening a temporary file.

2001-10-15  Wayne Davison  <wayned@users.sourceforge.net>

	* 16059: Src/hist.c: Fix HIST_NO_SPACE when
	INTERACTIVE_COMMENTS is set and we get a comment.

2001-10-15  Oliver Kiddle  <opk@zsh.org>

	* 16042: Src/builtin.c, Doc/Zsh/builtins.yo: use arithmetic
	evaluation for numeric arguments to printf

2001-10-15  Sven Wischnowsky  <wischnow@zsh.org>

	* Bart: 16038 and 16041: Src/cond.c, Src/loop.c: for caching of
	compiled patterns: remember that singsub() might modify the string
	it gets, compare with unmodified string

2001-10-14  Bart Schaefer  <schaefer@zsh.org>

	* 16031: Src/Modules/tcp.c: Don't need <arpa/telnet.h>; misc.
	inconsequential reformatting.

	* 16030: Completion/Unix/Command/_mount: Fix minor typos in option
	descriptions.

2001-10-11  Bart Schaefer  <schaefer@zsh.org>

	* 16013: Src/exec.c: Properly save/restore state around the
	DEBUG trap, so that its return value does not alter the return
	value of current command (among other things).

2001-10-11  Sven Wischnowsky  <wischnow@zsh.org>

	* 16002: Completion/Unix/Type/_path_files: use expanded paths
	(expand style with value prefix) only when we are at the last
	matcher spec

2001-10-10  Clint Adams  <clint@zsh.org>

	* 16006: Completion/Unix/Type/_mailboxes, Doc/Zsh/compsys.yo:
	use styles for mail directory, pine directory,
	and muttrc.

	* 16005: Completion/Unix/Command/_mount:
	check /etc/filesystems under Linux.

2001-10-10  Oliver Kiddle  <opk@zsh.org>

	* 16018: acconfig.h, zshconfig.ac, Etc/MACHINES,
	Test/C02cond.ztst: allow dynamic loading to work on MacOS X
	if the dlcompat library is installed.

2001-10-10  Clint Adams  <clint@zsh.org>

	* 16000: Completion/Debian/Command/.distfiles,
	Completion/Debian/Command/_debchange:
	completion for debchange (dch).

2001-10-09  Sven Wischnowsky  <wischnow@zsh.org>

	* 15995: Completion/Unix/Type/_files, Doc/Zsh/compsys.yo:
	change file completion default to offer globbed files and
	directories on first try

2001-10-09  Peter Stephenson  <pws@csr.com>

	* 15994: Completion/compinstall: handle list-suffixes; make
	prompts at end of function more transparent.

2001-10-09  Sven Wischnowsky  <wischnow@zsh.org>

	* 15991: Src/Zle/compcore.c: hide all but one match with the
	same string in the list even for unsorted groups

2001-10-08  Oliver Kiddle  <opk@zsh.org>

	* 15987: Src/Modules/tcp.c: remove includes duplicated from tcp.h
	which caused problems on IRIX 5.3.

	* 15983: Completion/Unix/Command/_wget, Completion/Unix/Type/_urls,
	Completion/Unix/Command/_user_admin, Completion/Unix/Command/_sysctl,
	Completion/Unix/Command/_webbrowser: update for wget 1.7, darwin
	support in _sysctl, complete files for galeon

2001-10-08  Peter Stephenson  <pws@csr.com>

	* 15980: Functions/Misc/zcalc: '[#16] 2000' ignored the base.

	* 15721: LICENCE: wording change from ages ago.

2001-10-08  Oliver Kiddle  <opk@zsh.org>

	* 15973: Completion/Zsh/Command/_print, Doc/Zsh/builtins.yo,
	Src/builtin.c, Src/hashtable.h, Test/.distfiles, Test/B03print.ztst:
	merge bin_printf and bin_print to allow print -f option and add
	%n format specifier and tests

2001-10-08  Peter Stephenson  <pws@csr.com>

	* 15965: Src/exec.c, Src/glob.c, Src/subst.c: rename glob() to
	zglob() to avoid clashes with library function.

	* 15931: Src/builtin.c, Src/exec.c:  make EXIT traps work in
	subshells the way they used to before 15844: react to explicit
	`exit' but not falling off end of list.

2001-10-08  Andrej Borsenkow  <bor@zsh.org>

	* 15964: Src/Modules/tcp.c: use SOCKLEN_T

2001-10-06  Clint Adams  <clint@zsh.org>

	* Norbert Koch: 15954: Doc/Zsh/arith.yo:
	fix inconsistency of variable name in example.

2001-10-05  Peter Stephenson  <pws@csr.com>

	* 15949: Completion/compinstall: add handling for expand style.

2001-10-05  Oliver Kiddle  <opk@zsh.org>

	* 15851, 15948: Src/builtin.c, Doc/Zsh/builtins.yo: add printf
	builtin	with basic POSIX functionality

2001-10-05  Sven Wischnowsky  <wischnow@zsh.org>

	* 15946: Src/Zle/compresult.c: fix calculation of number of
	columns needed with list_packed

	* 15945: Completion/Zsh/Command/_cd: make _cd use only one call
	to _alternative, including completions from _tilde (using the
	named-directories tag)

	* 15944: Completion/Unix/Type/_path_files, Doc/Zsh/compsys.yo:
	make expand style (file completion) work again; no more special
	behaviour with menu completion; try to make docs clearer

2001-10-05  Geoff Wing  <gcw@zsh.org>

	* unposted: Doc/Zsh/options.yo: typo

2001-10-05  Clint Adams  <clint@zsh.org>

	* 15941: Completion/Unix/Command/_mount:
	complete reiserfs mount options.

	* 15940: Completion/Unix/Command/_mount:
	complete -o utf8 for mount -t vfat.

	* 15939: Completion/Unix/Command/_mount:
	complete xfs mount options (for Linux).

	* 15938: Completion/Unix/Command/_mount:
	complete ext3 mount options.

2001-10-02  Clint Adams  <clint@zsh.org>

	* 15919: Src/linklist.c, Src/Modules/tcp.c, Src/Modules/tcp.h:
	use LinkLists in tcp module rather than somewhat equivalent code.

2001-10-01  Peter Stephenson  <pws@csr.com>

	* 15917: Test/C03traps.ztst: test for EXIT trap fix in 15844.

2001-09-30  Clint Adams  <clint@zsh.org>

	* 15915: Completion/Debian/Command/_bts:
	completion for bts script in devscripts.

2001-09-28  Bart Schaefer  <schaefer@zsh.org>

	* 15895: Src/Modules/zftp.c: Control-connection management sanity
	in conjunction with the new zsh/net/tcp module.

	* 15889: Test/V01zmodload.ztst: Compute module dependencies for
	external modules so that they can be unloaded in the right order.

2001-09-27  Oliver Kiddle  <opk@zsh.org>

	* 15882: zshconfig.ac, Etc/MACHINES, Test/C02cond.ztst: fix
	build and test problems on MacOS X (Darwin).

2001-09-27  Clint Adams  <clint@zsh.org>

	* 15886: Src/Modules/tcp.c: use select if poll
	is not available, or complain if neither are
	available.

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR Ltd., Science Park, Milton Road,
Cambridge, CB4 0WH, UK                          Tel: +44 (0)1223 392070


**********************************************************************
The information transmitted is intended only for the person or
entity to which it is addressed and may contain confidential 
and/or privileged material. 
Any review, retransmission, dissemination or other use of, or
taking of any action in reliance upon, this information by 
persons or entities other than the intended recipient is 
prohibited.  
If you received this in error, please contact the sender and 
delete the material from any computer.
**********************************************************************

