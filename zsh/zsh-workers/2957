From zsh-workers-request@euclid.skiles.gatech.edu Thu Mar 06 00:01:52 1997
Return-Path: <zsh-workers-request@euclid.skiles.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 7414 invoked from network); 6 Mar 1997 00:01:48 -0000
Received: from euclid.skiles.gatech.edu (list@130.207.146.50)
  by coral.primenet.com.au with SMTP; 6 Mar 1997 00:01:48 -0000
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id SAA06424; Wed, 5 Mar 1997 18:50:03 -0500 (EST)
Resent-Date: Wed, 5 Mar 1997 18:50:03 -0500 (EST)
From: <hzoli@VNET.IBM.COM> (Zoltan T. Hidvegi)
Message-Id: <9703052352.AA19973@lotto.fishkill.ibm.com>
Subject: Re: zle_refresh patch 2
To: zsh-workers@math.gatech.edu (Zsh workers list)
Date: Wed, 5 Mar 1997 18:52:04 -0500 (EST)
Cc: schaefer@candle.brasslantern.com
X-Mailer: ELM [version 2.4ME+ PL31 (25)]
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"qdBvB2.0.Ja1.hQW7p"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/2957
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

I wrote:
> Fine, but there are two problems: shortterm is a zle variable and in 3.1
> utils.c has no access to zle globals.  The other problem is that
> resetneeded local variable has the same name as a global one, which is
> misleading.  Also a comparision should use >= 3 instead on > 3.  I simply
> removed the resetneeded variable, since it was really unnecessary.

That's OK, but I forgot that the mail system converts TABs to spaces here.
I complained, and they promised to fix it within two week.  Till then, I'll
use uuencode.  Here is the uuencoded patch.

Zoltan


begin 644 termok_patch
M9&EF9B`M8R!3<F,O<&%R86US+F,N8F%R="!3<F,O<&%R86US+F,**BHJ(%-R
M8R]P87)A;7,N8RYB87)T"5=E9"!-87(@(#4@,3@Z-#`Z,3D@,3DY-PHM+2T@
M4W)C+W!A<F%M<RYC"5=E9"!-87(@(#4@,3@Z-#(Z-3<@,3DY-PHJ*BHJ*BHJ
M*BHJ*BHJ*BH**BHJ(#$R-C8L,3(W,R`J*BHJ"B`@=F]I9`H@('IL979A<G-E
M=&9N*%!A<F%M('!M+"!L;VYG('@I"B`@>PHM("`@("!I;G0@<F5S971N965D
M960@/2`P.PHM(`H@("`@("!I9B`H*&QO;F<@*BEP;2T^9&%T82`]/2`F(&-O
M;'5M;G,I('L*("`):68@*'@@/"`S*2!["B`@"2`@("!I9B`H>"`\/2`P*0HM
M+2T@,3(V-BPQ,C<Q("TM+2T**BHJ*BHJ*BHJ*BHJ*BHJ"BHJ*B`Q,C<U+#$R
M.3<@*BHJ*@H@(`D@("`@96QS90H@(`D)>"`](#(["B`@"2`@("!T97)M;VL@
M/2!415)-7T)!1#L*(2`)?2!E;'-E(&EF("AC;VQU;6YS(#P@,RD*(2`)("`@
M(')E<V5T;F5E9&5D(#T@,3L*("`@("`@?2!E;'-E(&EF("@H;&]N9R`J*7!M
M+3YD871A(#T]("8@;&EN97,I('L*("`):68@*'@@/"`S*2!["B`@"2`@("!I
M9B`H>"`\/2`P*0H@(`D)>"`](#(T.PD)+RH@07)B:71R87)Y+"!B=70@<V%M
M92!A<R!I;FET+F,@*B\*("`)("`@('1E<FUO:R`](%1%4DU?3D]54#L*(2`)
M?2!E;'-E(&EF("AL:6YE<R`\(#,I"B$@"2`@("!R97-E=&YE961E9"`](#$[
M"B`@("`@('T*("`*("`@("`@*B@H;&]N9R`J*7!M+3YD871A*2`]('@["BT@
M"BT@("`@(&EF("AR97-E=&YE961E9"D@>PHM(`EI9B`H;&EN97,@/B`S("8F
M(&-O;'5M;G,@/B`S("8F('1E<FUO:R`A/2!415)-7T]+*0HM(`D@("`@:6YI
M=%]T97)M*"D["2\J($%T=&5M<'0@=&\@<F5S970@=&5R;6]K('!R;W!E<FQY
M("HO"BT@("`@('T*("!]"B`@"B`@+RH@1G5N8W1I;VX@=&\@<V5T('9A;'5E
M(&]F(&=E;F5R:6,@<W!E8VEA;"!S8V%L87(@("`@*@HM+2T@,3(W,RPQ,CDP
M("TM+2T*("`)("`@(&5L<V4*("`)"7@@/2`R.PH@(`D@("`@=&5R;6]K(#T@
M5$5235]"040["B$@"7T@96QS92!I9B`H8V]L=6UN<R`\(#,@)B8@;&EN97,@
M/CT@,R`F)B!T97)M;VL@(3T@5$5235]/2RD*(2`)("`@(&EN:71?=&5R;2@I
M.PDO*B!!='1E;7!T('1O(')E<V5T('1E<FUO:R!P<F]P97)L>2`J+PH@("`@
M("!](&5L<V4@:68@*"AL;VYG("HI<&TM/F1A=&$@/3T@)B!L:6YE<RD@>PH@
M(`EI9B`H>"`\(#,I('L*("`)("`@(&EF("AX(#P](#`I"B`@"0EX(#T@,C0[
M"0DO*B!!<F)I=')A<GDL(&)U="!S86UE(&%S(&EN:70N8R`J+PH@(`D@("`@
M=&5R;6]K(#T@5$5235].3U50.PHA(`E](&5L<V4@:68@*&QI;F5S(#P@,R`F
M)B!C;VQU;6YS(#X](#,@)B8@=&5R;6]K("$](%1%4DU?3TLI"B$@"2`@("!I
M;FET7W1E<FTH*3L)+RH@071T96UP="!T;R!R97-E="!T97)M;VL@<')O<&5R
M;'D@*B\*("`@("`@?0H@(`H@("`@("`J*"AL;VYG("HI<&TM/F1A=&$I(#T@
M>#L*("!]"B`@"B`@+RH@1G5N8W1I;VX@=&\@<V5T('9A;'5E(&]F(&=E;F5R
M:6,@<W!E8VEA;"!S8V%L87(@("`@*@ID:69F("UC(%-R8R]U=&EL<RYC+F)A
M<G0@4W)C+W5T:6QS+F,**BHJ(%-R8R]U=&EL<RYC+F)A<G0)5V5D($UA<B`@
M-2`Q.#HS.3HU-R`Q.3DW"BTM+2!3<F,O=71I;',N8PE7960@36%R("`U(#$X
M.C0P.C(R(#$Y.3<**BHJ*BHJ*BHJ*BHJ*BHJ"BHJ*B`X,3,L.#(P("HJ*BH*
M("`)?0H@("`@("!]"B`@(V5N9&EF("`@+RH@(%1)3T-'5TE.4UH@*B\*+2`@
M("`@1%!55%,H*"$H:7-S970H4TE.1TQ%3$E.15I,12D@?'P@=&5R;6]K("$]
M(%1%4DU?3TL@?'P@;&EN97,@/"`S*0HM(`D@("`A/2`A<VAO<G1T97)M*2P@
M(D)51SH@<VAO<G1T97)M('=R;VYG(&EN(&%D:G5S='=I;G-I>F4B*3L*("!]
M"B`@"B`@+RH@36]V92!A(&9D('1O(&$@<&QA8V4@/CT@,3`@86YD(&UA<FL@
M=&AE(&YE=R!F9"!I;B!F9'1A8FQE+B`@268@=&AE(&9D("H*+2TM(#@Q,RPX
(,3@@+2TM+0IF
`
end

