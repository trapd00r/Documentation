From zsh-users-return-4192-mason-zsh=primenet.com.au@sunsite.dk Tue Sep 04 16:25:53 2001
Return-Path: <zsh-users-return-4192-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18075 invoked from network); 4 Sep 2001 16:25:51 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 4 Sep 2001 16:25:51 -0000
Received: (qmail 18160 invoked by alias); 4 Sep 2001 16:25:38 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4192
Received: (qmail 18104 invoked from network); 4 Sep 2001 16:25:36 -0000
From: Bart Schaefer <schaefer@brasslantern.com>
Message-Id: <1010904162403.ZM13062@candle.brasslantern.com>
Date: Tue, 4 Sep 2001 16:24:03 +0000
In-Reply-To: <20010904161322.B49337@bean.overtone.org>
Comments: In reply to Kevin Way <kevin.way@overtone.org>
        "TRAPALRM and vlock problem" (Sep  4,  4:13pm)
References: <20010904161322.B49337@bean.overtone.org>
X-Mailer: Z-Mail (5.0.0 30July97)
To: Kevin Way <kevin.way@overtone.org>, zsh-users@sunsite.dk
Subject: Re: TRAPALRM and vlock problem
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Sep 4,  4:13pm, Kevin Way wrote:
}
} The problem is that when called by zsh in this manner, vlock will only
} accept one character, making it impossible to unlock the terminal.

Try replacing the call to "vlock -c" with a call to "stty -a" just to
find out what the tty settings are at the time vlock runs.

If for some reason the ZLE tty settings are not being reset properly
from inside a trap (which would be a bug, but could be happening), try
replacing "vlock -c" in the trap with

	STTY=sane vlock -c

or some such.  See the manual for an explanation of the STTY parameter.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

