From hzoli@cs.elte.hu Sat Mar 16 02:24:35 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by melb.werple.net.au (8.7.4/8.7.3) with ESMTP id CAA10809 for <mason@werple.mira.net.au>; Sat, 16 Mar 1996 02:24:33 +1100 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id KAA18848; Fri, 15 Mar 1996 10:07:29 -0500 (EST)
Resent-Date: Fri, 15 Mar 1996 10:07:29 -0500 (EST)
From: Zoltan Hidvegi <hzoli@cs.elte.hu>
Message-Id: <199603151502.QAA00217@hzoli.ppp.cs.elte.hu>
Subject: Still there's a little zle_refresh bug
To: zsh-workers@math.gatech.edu (Zsh hacking and development)
Date: Fri, 15 Mar 1996 16:02:05 +0100 (MET)
X-Mailer: ELM [version 2.4 PL25 ME8b+]
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"6iW_N3.0.Qc4.mUOIn"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/827
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu
Content-Length: 908
Status: OR

The last patch from Geoff really fixes almost all zle_refresh problems
except one.  This does not happen on all machines.  It is reproducible on
Linux with ncurses and on Solaris with Linux console or xterm.  Both use
terminfo.  Type in a long line which appears wrapped on the screen.  Then
insert a charater near the end of the first screen line, e.g. here -------|
                                                                          V
hzoli ~ % 12345678901234567890123456789012345678901234567890123456789|1234567890
1234567890

Here is what happens if you inserted a `*':

hzoli ~ % 12345678901234567890123456789012345678901234567890123456789|1234*56789
00234567890

As you see the 0 is duplicated on the wrapped line and 1 disappears.
But this only happens if you insert something after the `|' character above.
Also there should be at least 10 characters in the second screen line.

Bye,

Zoltan


