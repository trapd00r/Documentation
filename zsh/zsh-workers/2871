From zsh-workers-request@euclid.skiles.gatech.edu Wed Feb 05 00:21:55 1997
Return-Path: <zsh-workers-request@euclid.skiles.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 29864 invoked from network); 5 Feb 1997 00:21:52 -0000
Received: from euclid.skiles.gatech.edu (list@130.207.146.50)
  by coral.primenet.com.au with SMTP; 5 Feb 1997 00:21:52 -0000
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id TAA06814; Tue, 4 Feb 1997 19:15:16 -0500 (EST)
Resent-Date: Tue, 4 Feb 1997 19:15:16 -0500 (EST)
From: Zefram <zefram@dcs.warwick.ac.uk>
Message-Id: <18380.199702050016@stone.dcs.warwick.ac.uk>
Subject: ZLE_KEEPSUFFIX
To: zsh-workers@math.gatech.edu (Z Shell workers mailing list)
Date: Wed, 5 Feb 1997 00:16:56 +0000 (GMT)
X-Patch: 197
X-Loop: zefram@dcs.warwick.ac.uk
X-Stardate: [-31]8835.05
X-US-Congress: Moronic fuckers
Content-Type: text
Resent-Message-ID: <"eRruI.0.Pg1.K4zzo"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/2871
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

-----BEGIN PGP SIGNED MESSAGE-----

Some ZLE functions that currently don't use ZLE_KEEPSUFFIX need to.
I'm tempted to reverse the sense of this flag, as it's actually *removing*
the suffix that is the positive action.

 -zefram

 *** Src/Zle/zle_bindings.c	1997/01/29 03:25:44	1.10
 --- Src/Zle/zle_bindings.c	1997/02/04 14:35:00
 ***************
 *** 99,109 ****
       C("history-search-forward", historysearchforward, 0)
       C("infer-next-history", infernexthistory, 0)
       C("insert-last-word", insertlastword, ZLE_MENUCMP | ZLE_KEEPSUFFIX)
 !     C("kill-buffer", killbuffer, ZLE_KILL)
 !     C("kill-line", killline, ZLE_KILL)
 !     C("kill-region", killregion, ZLE_KILL)
 !     C("kill-whole-line", killwholeline, ZLE_KILL)
 !     C("kill-word", killword, ZLE_KILL)
       C("list-choices", listchoices, ZLE_MENUCMP | ZLE_KEEPSUFFIX | ZLE_LASTCOL)
       C("list-expand", listexpand, ZLE_MENUCMP | ZLE_KEEPSUFFIX | ZLE_LASTCOL)
       C("magic-space", magicspace, 0)
 --- 99,109 ----
       C("history-search-forward", historysearchforward, 0)
       C("infer-next-history", infernexthistory, 0)
       C("insert-last-word", insertlastword, ZLE_MENUCMP | ZLE_KEEPSUFFIX)
 !     C("kill-buffer", killbuffer, ZLE_KILL | ZLE_KEEPSUFFIX)
 !     C("kill-line", killline, ZLE_KILL | ZLE_KEEPSUFFIX)
 !     C("kill-region", killregion, ZLE_KILL | ZLE_KEEPSUFFIX)
 !     C("kill-whole-line", killwholeline, ZLE_KILL | ZLE_KEEPSUFFIX)
 !     C("kill-word", killword, ZLE_KILL | ZLE_KEEPSUFFIX)
       C("list-choices", listchoices, ZLE_MENUCMP | ZLE_KEEPSUFFIX | ZLE_LASTCOL)
       C("list-expand", listexpand, ZLE_MENUCMP | ZLE_KEEPSUFFIX | ZLE_LASTCOL)
       C("magic-space", magicspace, 0)
 ***************
 *** 141,147 ****
       C("vi-backward-blank-word", vibackwardblankword, 0)
       C("vi-backward-char", vibackwardchar, 0)
       C("vi-backward-delete-char", vibackwarddeletechar, ZLE_KEEPSUFFIX)
 !     C("vi-backward-kill-word", vibackwardkillword, ZLE_KILL)
       C("vi-backward-word", vibackwardword, 0)
       C("vi-beginning-of-line", vibeginningofline, 0)
       C("vi-caps-lock-panic", vicapslockpanic, 0)
 --- 141,147 ----
       C("vi-backward-blank-word", vibackwardblankword, 0)
       C("vi-backward-char", vibackwardchar, 0)
       C("vi-backward-delete-char", vibackwarddeletechar, ZLE_KEEPSUFFIX)
 !     C("vi-backward-kill-word", vibackwardkillword, ZLE_KILL | ZLE_KEEPSUFFIX)
       C("vi-backward-word", vibackwardword, 0)
       C("vi-beginning-of-line", vibeginningofline, 0)
       C("vi-caps-lock-panic", vicapslockpanic, 0)
 ***************
 *** 149,155 ****
       C("vi-change-eol", vichangeeol, 0)
       C("vi-change-whole-line", vichangewholeline, 0)
       C("vi-cmd-mode", vicmdmode, 0)
 !     C("vi-delete", videlete, ZLE_KILL)
       C("vi-delete-char", videletechar, ZLE_KEEPSUFFIX)
       C("vi-digit-or-beginning-of-line", vidigitorbeginningofline, 0)
       C("vi-down-line-or-history", vidownlineorhistory, ZLE_LINEMOVE)
 --- 149,155 ----
       C("vi-change-eol", vichangeeol, 0)
       C("vi-change-whole-line", vichangewholeline, 0)
       C("vi-cmd-mode", vicmdmode, 0)
 !     C("vi-delete", videlete, ZLE_KILL | ZLE_KEEPSUFFIX)
       C("vi-delete-char", videletechar, ZLE_KEEPSUFFIX)
       C("vi-digit-or-beginning-of-line", vidigitorbeginningofline, 0)
       C("vi-down-line-or-history", vidownlineorhistory, ZLE_LINEMOVE)
 ***************
 *** 174,181 ****
       C("vi-insert", viinsert, 0)
       C("vi-insert-bol", viinsertbol, 0)
       C("vi-join", vijoin, 0)
 !     C("vi-kill-eol", vikilleol, ZLE_KILL)
 !     C("vi-kill-line", vikillline, ZLE_KILL)
       C("vi-match-bracket", vimatchbracket, 0)
       C("vi-open-line-above", viopenlineabove, 0)
       C("vi-open-line-below", viopenlinebelow, 0)
 --- 174,181 ----
       C("vi-insert", viinsert, 0)
       C("vi-insert-bol", viinsertbol, 0)
       C("vi-join", vijoin, 0)
 !     C("vi-kill-eol", vikilleol, ZLE_KILL | ZLE_KEEPSUFFIX)
 !     C("vi-kill-line", vikillline, ZLE_KILL | ZLE_KEEPSUFFIX)
       C("vi-match-bracket", vimatchbracket, 0)
       C("vi-open-line-above", viopenlineabove, 0)
       C("vi-open-line-below", viopenlinebelow, 0)

-----BEGIN PGP SIGNATURE-----
Version: 2.6.2

iQCVAwUBMvdNOHD/+HJTpU/hAQGAMgP/QuNzkV3ulK2A/B3sk1GwKz9ypZLIGNem
lGNI+U23K1grLofr+nw/eiQVD9RnqPQwMfOd59W0cxpw3xGij3U4HN/zvdpuF0x8
2ZdZqIhJGMua9Hmki3FvogYovYcvn6ocWkTnyr02Eaw8iklePkSYpAdqkwdOWa+x
KAbdrmJGdNo=
=vWz2
-----END PGP SIGNATURE-----

