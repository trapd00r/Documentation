From Rob.Hooft@EMBL-Heidelberg.de Wed May  8 09:28:00 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by melb.werple.net.au (8.7.5/8.7.3) with ESMTP id JAA08289 for <mason@werple.mira.net.au>; Wed, 8 May 1996 09:27:47 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id TAA25280; Tue, 7 May 1996 19:08:20 -0400 (EDT)
Resent-Date: Tue, 7 May 1996 19:08:20 -0400 (EDT)
Date: Wed, 8 May 1996 01:07:46 +0200
Message-Id: <199605072307.BAA00792@nu.EMBL-Heidelberg.DE>
From: Rob Hooft <Rob.Hooft@EMBL-Heidelberg.de>
To: zsh-workers@math.gatech.edu
Subject: Instability in .17 and an earlier one (Very long)
Resent-Message-ID: <"bPhVe3.0.qA6.ZVzZn"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/1004
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu
Content-Length: 24927
Status: OR

Once again I start with an apology that I am not currently on the workers
list, just on the users for now. Therefore I don't know whether I'm
reporting known problems. Sorry.

I have recently had a number of "strange" instabilities with zsh, and
I decided to debug these a bit. I didn't go into the code, but hope
that the stacktraces and the "context" will help one of you out there
to fix the problems. If not, I'll have to do more work. Let me know
how I can help.

----------------------------------------------------------------------
First problem. This is new to beta17. I maintain a file "~/.directory"
that contains the name of the directory I last "cd"ed to.  One of the
last commands in my .zshrc is:

if [[ $PWD = $HOME && -w $DIRFILE ]]; then
  dest=$(cat $DIRFILE)
  if [[ -d $dest ]]; then
    echo before $dest
    cd $dest
    echo after
  fi
  unset dest
fi 

At that moment the "cd" command is defined as an autoloaded shell function:

cd () {
        if [[ $# -eq 1 && $1 = ...* ]]
        then
                local b=''
                a=${(r:(${#1}-1)*3-1::../:)b} 
                builtin cd $a
        else
                builtin cd $*
        fi
}

and:

chpwd () {
        if [[ -w $DIRFILE ]]
        then
                pwd > $DIRFILE
        fi
        case a$TERM in
                axterm*) print -Pn "\e]0;%m:%c\007";;

        esac
}

The problem: the "echo after" is never reached due to a SEGfault during the
"cd". gdb says:

amigo[107]~% gdb /bin/zsh.17
GDB is free software and you are welcome to distribute copies of it
 under certain conditions; type "show copying" to see the conditions.
There is absolutely no warranty for GDB; type "show warranty" for details.
GDB 4.16 (i586-unknown-linux), Copyright 1996 Free Software Foundation, Inc...
(gdb) run
Starting program: /bin/zsh.17 
Saturday May 11, 1996
 * Jarig: Adrie Buscop
before /scr/home/rob

Program received signal SIGSEGV, Segmentation fault.
0x80b8d70 in strlen ()
(gdb) where
#0  0x80b8d70 in strlen ()
#1  0x8077829 in ztrdup (s=0x4e <Address 0x4e out of bounds>) at mem.c:430
#2  0x808d28f in duparray (arr=0x8100114, func=0x8077810 <ztrdup>)
    at utils.c:2343
#3  0x808c75e in dupnode (type=39130627, a=0x8100108, argnum=0) at utils.c:2032
#4  0x808cb22 in dupstruct2 (a=0x81000e0) at utils.c:2132
#5  0x808c579 in dupnode (type=16781570, a=0x81000e0, argnum=0) at utils.c:2009
#6  0x808caaa in dupstruct2 (a=0x8100f40) at utils.c:2120
#7  0x808c579 in dupnode (type=33558785, a=0x8100f40, argnum=0) at utils.c:2009
#8  0x808ca46 in dupstruct2 (a=0x81000c8) at utils.c:2110
#9  0x808c579 in dupnode (type=16781568, a=0x81000c8, argnum=0) at utils.c:2009
#10 0x808c9da in dupstruct2 (a=0x8100f58) at utils.c:2099
#11 0x808d28f in duparray (arr=0x8101004, func=0x808c8f0 <dupstruct2>)
    at utils.c:2343
#12 0x808c77e in dupnode (type=39176, a=0x8101000, argnum=1) at utils.c:2034
#13 0x808cd3b in dupstruct2 (a=0x8100fe0) at utils.c:2184
#14 0x808c579 in dupnode (type=39130627, a=0x8100fe0, argnum=1) at utils.c:2009
#15 0x808cb3f in dupstruct2 (a=0x8100e58) at utils.c:2133
#16 0x808c579 in dupnode (type=16781570, a=0x8100e58, argnum=0) at utils.c:2009
#17 0x808caaa in dupstruct2 (a=0x8109d40) at utils.c:2120
#18 0x808c579 in dupnode (type=33558785, a=0x8109d40, argnum=0) at utils.c:2009
#19 0x808ca46 in dupstruct2 (a=0x8100e40) at utils.c:2110
#20 0x808c579 in dupnode (type=16781568, a=0x8100e40, argnum=0) at utils.c:2009
#21 0x808c9da in dupstruct2 (a=0x8109d58) at utils.c:2099
#22 0x808bafb in dupstruct (a=0x8109d58) at utils.c:1713
#23 0x808b9ad in getshfunc (nam=0x80c6459 "chpwd") at utils.c:1643
#24 0x804b528 in cd_new_pwd (func=10, dir=0x8100a38) at builtin.c:1246
#25 0x804a71d in bin_cd (nam=0x80e5c70 "cd", argv=0x80e5f54, 
    ops=0xbfffeb5c "", func=10) at builtin.c:943
#26 0x8048a5f in execbuiltin (args=0x80e5c54, bn=0x80d0674) at builtin.c:227
#27 0x805c3ff in execcmd (cmd=0x80e5c34, input=0, output=0, how=2, last1=0)
    at exec.c:1537
#28 0x8059e33 in execpline2 (pline=0x80e5da8, how=2, input=0, output=0, 
    last1=0) at exec.c:762
#29 0x80596ec in execpline (l=0x80e5d94, how=2, last1=0) at exec.c:608
#30 0x8059347 in execlist (list=0x80e5d84, dont_change_job=1, exiting=0)
    at exec.c:492
#31 0x807404f in execif (cmd=0x80e5cc4) at loop.c:264
#32 0x805c249 in execcmd (cmd=0x80e5cc4, input=0, output=0, how=2, last1=0)
    at exec.c:1492
#33 0x8059e33 in execpline2 (pline=0x80e5cb4, how=2, input=0, output=0, 
    last1=0) at exec.c:762
#34 0x80596ec in execpline (l=0x80e5ca0, how=2, last1=0) at exec.c:608
#35 0x8059347 in execlist (list=0x80e5c90, dont_change_job=1, exiting=0)
    at exec.c:492
#36 0x805e293 in doshfunc (list=0x8100588, doshargs=0x80e0700, flags=0, 
    noreturnval=0) at exec.c:2361
#37 0x805e043 in execshfunc (cmd=0x80e06e0, shf=0x80dd3d8) at exec.c:2292
#38 0x805c36e in execcmd (cmd=0x80e06e0, input=0, output=0, how=2, last1=0)
    at exec.c:1526
#39 0x8059e33 in execpline2 (pline=0x80e0830, how=2, input=0, output=0, 
    last1=0) at exec.c:762
#40 0x80596ec in execpline (l=0x80e06cc, how=2, last1=0) at exec.c:608
#41 0x8059347 in execlist (list=0x80e0840, dont_change_job=1, exiting=0)
    at exec.c:492
#42 0x807404f in execif (cmd=0x80dfe20) at loop.c:264
#43 0x805c249 in execcmd (cmd=0x80dfe20, input=0, output=0, how=2, last1=0)
    at exec.c:1492
#44 0x8059e33 in execpline2 (pline=0x80e0c48, how=2, input=0, output=0, 
    last1=0) at exec.c:762
#45 0x80596ec in execpline (l=0x80dfe0c, how=2, last1=0) at exec.c:608
#46 0x8059347 in execlist (list=0x80e0c58, dont_change_job=1, exiting=0)
    at exec.c:492
#47 0x807404f in execif (cmd=0x80df444) at loop.c:264
#48 0x805c249 in execcmd (cmd=0x80df444, input=0, output=0, how=2, last1=0)
    at exec.c:1492
#49 0x8059e33 in execpline2 (pline=0x80e5770, how=2, input=0, output=0, 
    last1=0) at exec.c:762
#50 0x80596ec in execpline (l=0x80df430, how=2, last1=0) at exec.c:608
#51 0x8059347 in execlist (list=0x80e5780, dont_change_job=0, exiting=0)
    at exec.c:492
#52 0x806b77f in loop (toplevel=0) at init.c:122
#53 0x806d14e in source (s=0xbffff4dc "/scr/home/rob/.zshrc") at init.c:858
#54 0x806d23d in sourcehome (s=0x80c8546 ".zshrc") at init.c:888
#55 0x806cf55 in run_init_scripts () at init.c:790
#56 0x806b5d8 in main (argc=1, argv=0xbffff914) at init.c:68
#57 0x80480eb in _start ()

-----------------------------------------
Problem number 2: This is older, I can reproduce this (sometimes) with
version 16, and I remember having had similar problems in 13.
Sometimes when completing a directory with "<TAB>" if there is no
directory that actually starts with the indicated path, zsh crashes.

I use: 

cd -K cdmatch -S / -x 'S[/][~][./][../]' -g '*(-/)'

and:

cdmatch () {
        local dir nword args pref ngtrue gdtrue
        [[ -o nullglob ]] && ngtrue=1 
        [[ -o globdots ]] && gdtrue=1 
        setopt nullglob globdots
        read -nc nword
        read -Ac args
        pref=$args[$nword] 
        reply=() 
        for dir in $cdpath
        do
                eval "reply=(\$reply $dir/$pref*(-/:s,$dir/,,))"
        done
        [[ $ngtrue = 1 ]] || unsetopt nullglob
        [[ $gdtrue = 1 ]] || unsetopt globdots
        return
}

GDB says:

amigo[109]/scr% gdb /bin/zsh.17
GDB is free software and you are welcome to distribute copies of it
 under certain conditions; type "show copying" to see the conditions.
There is absolutely no warranty for GDB; type "show warranty" for details.
GDB 4.16 (i586-unknown-linux), Copyright 1996 Free Software Foundation, Inc...
(gdb) run
Starting program: /bin/zsh.17 
Saturday May 11, 1996
 * Jarig: Adrie Buscop
amigo[100]/scr%% cd /scr/zsh<I type TAB here.....>
Program received signal SIGSEGV, Segmentation fault.
0x80b762f in strcpy ()
(gdb) where
#0  0x80b762f in strcpy ()
#1  0x80777ed in dupstring (
    s=0x80df4ac "¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b"...) at mem.c:418
#2  0x80a09ca in get_ccompctl (occ=0x0, compadd=0x80d6f10, incmd=0)
    at zle_tricky.c:1640
#3  0x80a2171 in makecomplist (s=0x80df494 "/scr/zsh", incmd=0, 
    delit=0x80d6f0c, compadd=0x80d6f10) at zle_tricky.c:2179
#4  0x80a1d97 in docompletion (
    s=0x80e63c8 "¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b"..., lst=0, incmd=0) at zle_tricky.c:2077
#5  0x809e663 in docomplete (lst=0) at zle_tricky.c:731
#6  0x809d5a7 in expandorcomplete () at zle_tricky.c:278
#7  0x8092d07 in zleread (
    lp=0x80e4b00 "¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b¨ô\r\b"..., rp=0x0) at zle_main.c:457
#8  0x806d7fd in inputline () at input.c:264
#9  0x806d6d5 in ingetc () at input.c:220
#10 0x806705b in hgetc () at hist.c:109
#11 0x8070b69 in gettok () at lex.c:357
#12 0x8070655 in yylex () at lex.c:180
#13 0x807c51c in parse_event () at parse.c:59
#14 0x806b70a in loop (toplevel=1) at init.c:111
#15 0x806b5e4 in main (argc=1, argv=0xbffff91c) at init.c:73
#16 0x80480eb in _start ()


------------------------------------------------------------
# START zsh saveset
# uname:  Linux amigo 1.3.99 #5 Tue May 7 23:01:19 MET DST 1996 i586

# Aliases.

alias e=emacs
alias fig='xfig -me -L -sc'
alias ll='ls -lFg'
alias ls='ls --color=tty'
alias run-help=man
alias which-command=whence

# Key bindings.

bindkey -r "^@"
bindkey -r "^A"
bindkey -r "^B"
bindkey -r "^C"
bindkey -r "^D"
bindkey -r "^E"
bindkey -r "^F"
bindkey -r "^G"
bindkey -r "^H"
bindkey -r "^I"
bindkey -r "^J"
bindkey -r "^K"
bindkey -r "^L"
bindkey -r "^M"
bindkey -r "^N"
bindkey -r "^O"
bindkey -r "^P"
bindkey -r "^Q"
bindkey -r "^R"
bindkey -r "^S"
bindkey -r "^T"
bindkey -r "^U"
bindkey -r "^V"
bindkey -r "^W"
bindkey -r "^X"
bindkey -r "^Y"
bindkey -r "^Z"
bindkey -r "\e"
bindkey -r "^_"
bindkey -r "^?"
bindkey -r "^X^B"
bindkey -r "^X^F"
bindkey -r "^X^J"
bindkey -r "^X^K"
bindkey -r "^X^N"
bindkey -r "^X^O"
bindkey -r "^X^U"
bindkey -r "^X^V"
bindkey -r "^X^X"
bindkey -r "^X*"
bindkey -r "^XG"
bindkey -r "^Xg"
bindkey -r "^Xr"
bindkey -r "^Xs"
bindkey -r "^Xu"
bindkey -r "\e^D"
bindkey -r "\e^G"
bindkey -r "\e^H"
bindkey -r "\e^I"
bindkey -r "\e^J"
bindkey -r "\e^L"
bindkey -r "\e^M"
bindkey -r "\e^_"
bindkey -r "\e "
bindkey -r "\e!"
bindkey -r "\e\\""
bindkey -r "\e$"
bindkey -r "\e'"
bindkey -r "\e-"
bindkey -r "\e."
bindkey -r "\e0"
bindkey -r "\e1"
bindkey -r "\e2"
bindkey -r "\e3"
bindkey -r "\e4"
bindkey -r "\e5"
bindkey -r "\e6"
bindkey -r "\e7"
bindkey -r "\e8"
bindkey -r "\e9"
bindkey -r "\e<"
bindkey -r "\e>"
bindkey -r "\e?"
bindkey -r "\eA"
bindkey -r "\eB"
bindkey -r "\eC"
bindkey -r "\eD"
bindkey -r "\eF"
bindkey -r "\eG"
bindkey -r "\eH"
bindkey -r "\eL"
bindkey -r "\eN"
bindkey -r "\eP"
bindkey -r "\eQ"
bindkey -r "\eS"
bindkey -r "\eT"
bindkey -r "\eU"
bindkey -r "\eW"
bindkey -r "\e[A"
bindkey -r "\e[B"
bindkey -r "\e[C"
bindkey -r "\e[D"
bindkey -r "\e_"
bindkey -r "\ea"
bindkey -r "\eb"
bindkey -r "\ec"
bindkey -r "\ed"
bindkey -r "\ef"
bindkey -r "\eg"
bindkey -r "\eh"
bindkey -r "\el"
bindkey -r "\en"
bindkey -r "\ep"
bindkey -r "\eq"
bindkey -r "\es"
bindkey -r "\et"
bindkey -r "\eu"
bindkey -r "\ew"
bindkey -r "\ex"
bindkey -r "\ey"
bindkey -r "\ez"
bindkey -r "\e|"
bindkey -r "\e^?"

bindkey "^@"	set-mark-command
bindkey "^A"	beginning-of-line
bindkey "^B"	backward-char
bindkey "^C"	undefined-key
bindkey "^D"	delete-char-or-list
bindkey "^E"	end-of-line
bindkey "^F"	forward-char
bindkey "^G"	send-break
bindkey "^H"	backward-delete-char
bindkey "^I"	expand-or-complete
bindkey "^J"	accept-line
bindkey "^K"	kill-line
bindkey "^L"	clear-screen
bindkey "^M"	accept-line
bindkey "^N"	down-line-or-history
bindkey "^O"	accept-line-and-down-history
bindkey "^P"	up-line-or-history
bindkey "^Q"	push-line
bindkey "^R"	history-incremental-search-backward
bindkey "^S"	history-incremental-search-forward
bindkey "^T"	transpose-chars
bindkey "^U"	kill-whole-line
bindkey "^V"	quoted-insert
bindkey "^W"	backward-kill-word
bindkey "^X"	prefix
bindkey "^Y"	yank
bindkey "^Z"	undefined-key
bindkey "\e"	prefix
bindkey "^_"	undo
bindkey "^?"	backward-delete-char
bindkey "^X^B"	vi-match-bracket
bindkey "^X^F"	vi-find-next-char
bindkey "^X^J"	vi-join
bindkey "^X^K"	kill-buffer
bindkey "^X^N"	infer-next-history
bindkey "^X^O"	overwrite-mode
bindkey "^X^U"	undo
bindkey "^X^V"	vi-cmd-mode
bindkey "^X^X"	exchange-point-and-mark
bindkey "^X*"	expand-word
bindkey "^XG"	list-expand
bindkey "^Xg"	list-expand
bindkey "^Xr"	history-incremental-search-backward
bindkey "^Xs"	history-incremental-search-forward
bindkey "^Xu"	undo
bindkey "\e^D"	list-choices
bindkey "\e^G"	send-break
bindkey "\e^H"	backward-kill-word
bindkey "\e^I"	self-insert-unmeta
bindkey "\e^J"	self-insert-unmeta
bindkey "\e^L"	clear-screen
bindkey "\e^M"	self-insert-unmeta
bindkey "\e^_"	copy-prev-word
bindkey "\e "	expand-history
bindkey "\e!"	expand-history
bindkey "\e\\""	quote-region
bindkey "\e$"	spell-word
bindkey "\e'"	quote-line
bindkey "\e-"	neg-argument
bindkey "\e."	insert-last-word
bindkey "\e0"	digit-argument
bindkey "\e1"	digit-argument
bindkey "\e2"	digit-argument
bindkey "\e3"	digit-argument
bindkey "\e4"	digit-argument
bindkey "\e5"	digit-argument
bindkey "\e6"	digit-argument
bindkey "\e7"	digit-argument
bindkey "\e8"	digit-argument
bindkey "\e9"	digit-argument
bindkey "\e<"	beginning-of-buffer-or-history
bindkey "\e>"	end-of-buffer-or-history
bindkey "\e?"	which-command
bindkey "\eA"	accept-and-hold
bindkey "\eB"	backward-word
bindkey "\eC"	capitalize-word
bindkey "\eD"	kill-word
bindkey "\eF"	forward-word
bindkey "\eG"	get-line
bindkey "\eH"	run-help
bindkey "\eL"	down-case-word
bindkey "\eN"	history-search-forward
bindkey "\eP"	history-search-backward
bindkey "\eQ"	push-line
bindkey "\eS"	spell-word
bindkey "\eT"	transpose-words
bindkey "\eU"	up-case-word
bindkey "\eW"	copy-region-as-kill
bindkey "\e[A"	up-line-or-history
bindkey "\e[B"	down-line-or-history
bindkey "\e[C"	forward-char
bindkey "\e[D"	backward-char
bindkey "\e_"	insert-last-word
bindkey "\ea"	accept-and-hold
bindkey "\eb"	backward-word
bindkey "\ec"	capitalize-word
bindkey "\ed"	kill-word
bindkey "\ef"	forward-word
bindkey "\eg"	get-line
bindkey "\eh"	run-help
bindkey "\el"	down-case-word
bindkey "\en"	history-search-forward
bindkey "\ep"	history-search-backward
bindkey "\eq"	push-line
bindkey "\es"	spell-word
bindkey "\et"	transpose-words
bindkey "\eu"	up-case-word
bindkey "\ew"	copy-region-as-kill
bindkey "\ex"	execute-named-cmd
bindkey "\ey"	yank-pop
bindkey "\ez"	execute-last-named-cmd
bindkey "\e|"	vi-goto-column
bindkey "\e^?"	backward-kill-word

# Completions.

compctl -g '^*.(gz|z|Z|F|zip|o|dvi)' + -f axe
compctl -z -P % bg
compctl -b bindkey
compctl -c builtin
compctl -g '^*.(gz|z|Z|F|zip|o|dvi)' + -f cat
compctl -K cdmatch -S / -x 'S[/][~][./][../]' -g '*(-/)' -- cd
compctl -k '(if= of= ibs= obs= bs= cbs= skip= files= seek= count= conv=)' -S '' -x 's[conv=] n[-1,,] , s[conv=]' -k '(ascii ebcdic ibm block unblock lcase ucase swab noerror sync)' - 's[if=][of=]' -f -- dd
compctl -v -x 'n[-1,:][1,=]' -f -- declare
compctl -r -P % disown
compctl -g '*.dvi' + -g '*(-/)' dvips
compctl -u -x 's[+] c[-1,-f] , s[-f+]' -g '~/Mail/*(:t)' - 's[-f] , c[-1,-f]' -f -- elm
compctl -g '^*.(gz|z|Z|F|zip|o|dvi)' + -f emacs
compctl -l '' exec
compctl -v -x 'n[-1,:][1,=]' -f -- export
compctl -j -P % fg
compctl -x 's[-]' -k '(daystart depth follow maxdepth mindepth noleaf 
    version xdev amin anewer cmin cnewer ctime empty false fstype gid 
    group inum links lname mmin mtime name newer nouser nogroup path perm 
    regex size true type uid used user xtype exec fprint fprint0 fprintf ok 
    print print0 printf prune ls)' - 'p[1,1]' -g '. .. *(-/)' - 'c[-1,-anewer][-1,-cnewer][-1,-newer][-1,-fprint][-1,fprint0][-1,fprintf]' -f - 'r[-exec,;][-ok,;]' -l '' -- find
compctl -k hosts ftp
compctl -F function
compctl -F functions
compctl -g '*.(ps|eps|epsf)' ghostview
compctl -g '*(*) *(-/)' + -f gprof
compctl -g '*.(ps|eps|epsf)' gs
compctl -g '*.(ps|eps|epsf)' gslp
compctl -g '*.gz *.z *.Z' + -g '*(-/)' gunzip
compctl -f -x 'R[-*d,^*]' -g '*.gz *.z *.Z' + -g '*(-/)' -- gzip
compctl -g '^*.(gz|z|Z|F|zip|o|dvi)' + -f joe
compctl -j -P % -x 's[-] p[1,1]' -k signals -- kill
compctl -g '*.(tex|texi|texinfo)' + -g '*(-/)' latex
compctl -g '*(*) *(-/)' + -f ldd
compctl -g '^*.(gz|z|Z|F|zip|o|dvi)' + -f less
compctl -k '(cputime filesize datasize stacksize coredumpsize
    resident descriptors)' limit
compctl -v -x 'n[-1,:][1,=]' -f -- local
compctl -u -x 's[+] c[-1,-f] , s[-f+]' -g '~/Mail/*(:t)' - 's[-f] , c[-1,-f]' -f -- mail
compctl -f -k '(install clean dep config)' -x 'n[1,=]' -fc -- make
compctl -c -x 'c[-1,-l]' -g '*.[1-8nl] *.man' + -g '*(-/)' + -f -- man
compctl -g '^*.(gz|z|Z|F|zip|o|dvi)' + -f more
compctl -g '*.(ps|eps|epsf)' mpage
compctl -K recenthosts ncftp
compctl -g '*.a *.sa *.o' nm
compctl -l '' nohup
compctl -k hosts nslookup
compctl -g '*.(ps|eps|epsf)' pslaser
compctl -K cdmatch -S / -x 'S[/][~][./][../]' -g '*(-/)' -- pushd
compctl -k hosts rlogin
compctl -g '^*.(tex|c|f)' + -f rm
compctl -g '*(/)' rmdir
compctl -k hosts -x 'p[2,-1]' -l '' -- rsh
compctl -o setopt
compctl -g '*(*) *(-/)' + -f size
compctl -g '*(*) *(-/)' + -f strip
compctl -K whoson talk
compctl -f -x 'p[2,2]' -g '*.tar *.taz *.tar.(Z|gz|z) *.tgz *(/)' -- tar
compctl -k hosts telnet
compctl -g '*.(tex|texi|texinfo)' + -g '*(-/)' tex
compctl -g '*.(tex|texi|texinfo)' + -g '*(-/)' texi2dvi
compctl -v -x 'n[-1,:][1,=]' -f -- typeset
compctl -a unalias
compctl -g '*.gz *.z *.Z' + -g '*(-/)' uncompress
compctl -F unfunction
compctl -k '(cputime filesize datasize stacksize coredumpsize
    resident descriptors)' unlimit
compctl -v unset
compctl -o unsetopt
compctl -g '*.(zip|ZIP)' unzip
compctl -v vared
compctl -g '^*.(gz|z|Z|F|zip|o|dvi)' + -f vi
compctl -g '^*.(gz|z|Z|F|zip|o|dvi)' + -f view
compctl -c which
compctl -g '*.dvi' + -g '*(-/)' xdvi
compctl -g '^*.(gz|z|Z|F|zip|o|dvi)' + -f xedit
compctl -g '*.fig' + -f xfig
compctl -k '(-help -def -display -cursor -cursor_name -bitmap -mod -fg -bg
  	-grey -rv -solid -name)' -x 'c[-1,-display]' -k hosts -S :0.0 - 'c[-1,-cursor]' -f - 'c[-2,-cursor]' -f - 'c[-1,-bitmap]' -g '/usr/include/X11/bitmaps/*' - 'c[-1,-cursor_name]' -K Xcursor - 'C[-1,-(solid|fg|bg)]' -K Xcolours -- xsetroot
compctl -g '*.gz *.z *.Z' + -g '*(-/)' zcat
compctl -f -x 'w[1,-f]' -F -- zed
compctl -g '*.gz *.z *.Z' + -g '*(-/)' zmore
compctl -C -cv -x 's[%]' -j --
compctl -D -f + -U -K multicomp
compctl -T

# Undefined functions.

autoload H
autoload Xcolours
autoload Xcursor
autoload acx
autoload ccp4
autoload cd
autoload cdmatch
autoload chpwd
autoload cx
autoload harden
autoload how
autoload mere
autoload multicomp
autoload nogifs
autoload proto
autoload putf
autoload randline
autoload recenthosts
autoload run-help
autoload setdisplay
autoload whoson
autoload yp
autoload yu
autoload zed

# Defined functions.


# Limits.

limit stacksize       8MB
limit coredumpsize    0kB
limit maxproc         256
limit descriptors     256

# Non-array variables.

TERMCAP='xterm|vs100|xterm terminal emulator (X11R6 Window System):am:bs:km:mi:ms:pt:xn:xo:co#80:it#8:li#24:@7=\E[[:AL=\E[%dL:DC=\E[%dP:DL=\E[%dM:F1=\E[23~:F2=\E[24~:IC=\E[%d@:LE=\E[%dD:UP=\E[%dA:ac=++,,..00II--``aaffgghhjjkkllmmnnooqqssttuuvvwwxx~~:ae=\E(B:al=\E[L:as=\E(0:bl=^G:cd=\E[J:ce=\E[K:cl=\E[H\E[2J:cm=\E[%i%d;%dH:cr=^M:cs=\E[%i%d;%dr:ct=\E[3k:dc=\E[P:dl=\E[M:do=^J:ei=\E[4l:ho=\E[H:ic=\E[@:im=\E[4h:is=\E[r\E[m\E[2J\E[H\E[?7h\E[?1;3;4;6l\E[4l:k1=\E[11~:k2=\E[12~:k3=\E[13~:k4=\E[14~:k5=\E[15~:k6=\E[17~:k7=\E[18~:k8=\E[19~:k9=\E[20~:k;=\E[21~:kI=\E[2~:kN=\E[6~:kP=\E[5~:kb=^H:kd=\E[B:kh=\E[@:kl=\E[D:kr=\E[C:ku=\E[A:le=^H:md=\E[1m:me=\E[m:mr=\E[7m:nd=\E[C:r2=\E[r\E[m\E[2J\E[H\E[?7h\E[?1;3;4;6l\E[4l\E<:rc=\E8:sc=\E7:se=\E[m:sf=^J:so=\E[7m:sr=\EM:ta=^I:te=\E[2J\E[?47l\E8:ti=\E7\E[?47h:u6=\E[%d;%dR:u7=\E[6n:u8=\E[?1;2c:u9=\E[c:ue=\E[m:up=\E[A:us=\E[4m:'
TERM='xterm'
ARGC="0"
AWK="awk"
BAUD="9600"
CDPATH=".:/scr/home/rob:/scr/home/rob/txt:/scr/home/rob/p"
COLUMNS="80"
CPP="/lib/cpp"
CVSROOT="/scr/home/rob/cvsroot"
DIRFILE="/scr/home/rob/.directory"
DIRSTACKSIZE="-1"
DISPLAY=":0.0"
EGID="100"
ERRNO="0"
ETCZSHENV="es"
EUID="100"
FCEDIT="vi"
FIGNORE=""
FPATH="/scr/home/rob/etc/funcs:/usr/pub/lib/zsh/funcs"
GID="100"
HELPDIR="/usr/lib/zshhelp"
HISTFILE="/scr/home/rob/.zhistory"
HISTSIZE="100"
HOME="/scr/home/rob"
HOST="amigo.home"
HOSTDISPLAY="amigo:0.0"
HOSTTYPE="linux"
KEYTIMEOUT="40"
LANG=""
LD_LIBRARY_PATH="/usr/tcl/lib"
LINENO="329"
LINES="24"
LISTMAX="100"
LOGCHECK="60"
LOGNAME="rob"
MACHTYPE="i586"
MAIL="/var/spool/mail/rob"
MAILCHECK="60"
MAILPATH=""
MANPATH=""
NULLCMD="cat"
OLDPWD="/scr/done/zsh-2.6-beta17/Util"
OPTARG=""
OPTIND="1"
OS="Linux"
OSTYPE="linux"
PATH=".:/scr/home/rob/bin:/usr/X11R6.1/lib/X11/AcceleratedX/bin:/usr/local/bin:.:/scr/home/rob/bin:/usr/X11R6.1/lib/X11/AcceleratedX/bin:/usr/local/bin:/bin:/usr/bin:/usr/tcl/bin:/usr/python/bin:/usr/X11R6.1/bin:/usr/X11R6/bin:/usr/pbmplus/bin:/usr/games/bin"
PERIOD="0"
POSTEDIT=""
PPID="2548"
PROMPT="%m[%h]%c%3(L.%#2%#.%2(L.%#%#.%#)) "
PROMPT2="> "
PROMPT3="?# "
PROMPT4="+ "
PS1="%m[%h]%c%3(L.%#2%#.%2(L.%#%#.%#)) "
PS2="> "
PS3="?# "
PS4="+ "
PSVAR=""
PWD="/scr/done/zsh-2.6-beta17/Util"
RANDOM="19161"
READNULLCMD="more"
REPORTTIME="5"
RPROMPT=""
RPS1=""
SAVEHIST="99"
SECONDS="8"
SHELL="zsh.17"
SHLVL="2"
SPROMPT="zsh: correct \`%R\' to \`%r\' [nyae]? "
TERMDIR="/usr/lib/term"
TERMMODE="1"
TERMSHARE="/usr/lib/term"
TEXEDIT="emacs +%d %s"
TIMEFMT="%J  %U user %S system %P cpu %*E total"
TMOUT="0"
TMPPREFIX="/tmp/zsh"
TTY="/dev/ttyp1"
TTYIDLE="-1"
UID="100"
USERNAME="rob"
VENDOR="unknown"
WATCH=""
WATCHFMT="%n has %a %l from %m."
WINDOWID="41943053"
WORDCHARS="*?_-.[]~=/&;!#$%^(){}<>"
ZSHENVDONE="es"
ZSH_NAME="zsh.17"
ZSH_VERSION="2.6-beta17"
dir="/usr/pub/lib/zsh/funcs"
each="/bin"
ftp_proxy="http://localhost:8000/"
gopher_proxy="http://localhost:8000/"
histchars="!^#"
hosts="xray.chem.ruu.nl faculty.chem.ruu.nl octopus.chem.ruu.nl swift.embl-heidelberg.de nu.embl-heidelberg.de copper.embl-heidelberg.de phenix.embl-heidelberg.de hawk.embl-heidelberg.de hobby.embl-heidelberg.de terminator.pdb.bnl.gov ara.ebi.ac.uk"
http_proxy="http://localhost:8000/"
reporter_OSVersion="Linux_1.3.99"
reporter_junkiequotes="no"
status="0"
str="Linux amigo 1.3.99 #5 Tue May 7 23:01:19 MET DST 1996 i586"
prompt='test%'

# Array variables.

argv=()
cdpath=(. /scr/home/rob /scr/home/rob/txt /scr/home/rob/p)
fignore=()
fpath=(/scr/home/rob/etc/funcs /usr/pub/lib/zsh/funcs)
mailpath=()
manpath=()
path=(. /scr/home/rob/bin /usr/X11R6.1/lib/X11/AcceleratedX/bin /usr/local/bin . /scr/home/rob/bin /usr/X11R6.1/lib/X11/AcceleratedX/bin /usr/local/bin /bin /usr/bin /usr/tcl/bin /usr/python/bin /usr/X11R6.1/bin /usr/X11R6/bin /usr/pbmplus/bin /usr/games/bin)
psvar=()
signals=(EXIT HUP INT QUIT ILL TRAP ABRT BUS FPE KILL USR1 SEGV USR2 PIPE ALRM TERM STKFLT CHLD CONT STOP TSTP TTIN TTOU URG XCPU XFSZ VTALRM PROF WINCH IO PWR UNUSED ZERR DEBUG)
watch=()

# Exported variables.

export TERMCAP
export TERM
export CVSROOT=/scr/home/rob/cvsroot
export DISPLAY=:0.0
export ETCZSHENV=es
export HOME=/scr/home/rob
export HOST=amigo.home
export HOSTDISPLAY=amigo:0.0
export HOSTTYPE=linux
export LD_LIBRARY_PATH=/usr/tcl/lib
export LOGNAME=rob
export MAIL=/var/spool/mail/rob
export OS=Linux
export OSTYPE=linux
export PATH=.:/scr/home/rob/bin:/usr/X11R6.1/lib/X11/AcceleratedX/bin:/usr/local/bin:.:/scr/home/rob/bin:/usr/X11R6.1/lib/X11/AcceleratedX/bin:/usr/local/bin:/bin:/usr/bin:/usr/tcl/bin:/usr/python/bin:/usr/X11R6.1/bin:/usr/X11R6/bin:/usr/pbmplus/bin:/usr/games/bin
export PWD=/scr/done/zsh-2.6-beta17/Util
export SHELL=zsh.17
export SHLVL=2
export TERM=xterm
export TERMDIR=/usr/lib/term
export TERMMODE=1
export TERMSHARE=/usr/lib/term
export TEXEDIT=emacs +%d %s
export WINDOWID=41943053
export ZSHENVDONE=es
export ftp_proxy=http://localhost:8000/
export gopher_proxy=http://localhost:8000/
export http_proxy=http://localhost:8000/

# Setopt.

setopt autocd
setopt autolist
setopt automenu
setopt autoremoveslash
setopt bgnice
setopt correct
setopt extendedglob
setopt hashcmds
setopt hashdirs
setopt hashlistall
setopt histignoredups
setopt histnostore
setopt listtypes
setopt mailwarning
setopt notify

# END zsh saveset


