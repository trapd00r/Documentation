From zsh-workers-return-19827-mason-zsh=primenet.com.au@sunsite.dk Sat Apr 24 08:56:51 2004
Return-Path: <zsh-workers-return-19827-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 29605 invoked from network); 24 Apr 2004 08:56:50 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 24 Apr 2004 08:56:50 -0000
Received: (qmail 772 invoked by alias); 24 Apr 2004 08:56:43 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 19827
Received: (qmail 759 invoked from network); 24 Apr 2004 08:56:43 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 24 Apr 2004 08:56:43 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [130.225.247.86] by sunsite.dk (MessageWall 1.0.8) with SMTP; 24 Apr 2004 8:56:43 -0000
Received: (qmail 24115 invoked from network); 24 Apr 2004 08:56:43 -0000
Received: from wbar3.sjo1-4-11-009-147.sjo1.dsl-verizon.net (HELO candle.brasslantern.com) (4.11.9.147)
  by a.mx.sunsite.dk with SMTP; 24 Apr 2004 08:56:40 -0000
Received: (from schaefer@localhost)
	by candle.brasslantern.com (8.11.6/8.11.6) id i3O8udc18038
	for zsh-workers@sunsite.dk; Sat, 24 Apr 2004 01:56:39 -0700
X-Authentication-Warning: candle.brasslantern.com: schaefer set sender to schaefer@closedmail.com using -f
From: Bart Schaefer <schaefer@brasslantern.com>
Message-Id: <1040424085639.ZM18037@candle.brasslantern.com>
Date: Sat, 24 Apr 2004 08:56:39 +0000
X-Mailer: Z-Mail (5.0.0 30July97)
To: zsh-workers@sunsite.dk
Subject: Parameters set by the shell, and pcre_match
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Flag: YES
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: ******
X-Spam-Status: Yes, hits=6.8 required=6.0 tests=BAYES_10,RCVD_IN_DYNABLOCK,
	RCVD_IN_NJABL,RCVD_IN_NJABL_DIALUP,RCVD_IN_SORBS autolearn=no 
	version=2.63
X-Spam-Hits: 6.8
X-Spam-Report: 
	* -0.9 BAYES_10 BODY: Bayesian spam probability is 10 to 20%
	*      [score: 0.1630]
	*  3.5 RCVD_IN_NJABL_DIALUP RBL: NJABL: dialup sender did non-local SMTP
	*      [4.11.9.147 listed in dnsbl.njabl.org]
	*  2.6 RCVD_IN_DYNABLOCK RBL: Sent directly from dynamic IP address
	*      [4.11.9.147 listed in dnsbl.sorbs.net]
	*  0.1 RCVD_IN_NJABL RBL: Received via a relay in dnsbl.njabl.org
	*      [4.11.9.147 listed in dnsbl.njabl.org]
	*  1.5 RCVD_IN_SORBS RBL: SORBS: sender is listed in SORBS
	*      [4.11.9.147 listed in dnsbl.sorbs.net]

I just noticed that none of match, MATCH, mbegin, etc. are mentioned in
the doc section on "parameters set by the shell".  Seems as though they
ought to be.

On a related topic, the prce_match info documentation says

     pcre_match will set the array $MATCH to those substrings, unless
     the -a option is given, in which case it will set the array ARR.

Now, that's not _really_ what it says.  What the yodl source says is

tt(pcre_match) will set the array var($match) to those
substrings, unless the tt(-a) option is given, in which
case it will set the array var(arr).

The info renderer is all-caps-ing "var($match)" which is exceptionally
confusing.  I don't think var() is the right macro there; maybe tt() ?
(The "var(arr)" on the other hand is correct.)

It's 2am here and I'm going to bed, but if no one else patches this first
I may get to it ... oh, late tomorrow?  Or maybe in June, the way my days
have been going recently.

