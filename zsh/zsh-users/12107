From zsh-users-return-12107-mason-zsh=primenet.com.au@sunsite.dk Thu Oct 25 08:00:46 2007
Return-Path: <zsh-users-return-12107-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 596 invoked from network); 25 Oct 2007 08:00:38 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.3 (2007-08-08) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.3
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 25 Oct 2007 08:00:38 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 80872 invoked from network); 25 Oct 2007 08:00:31 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 25 Oct 2007 08:00:31 -0000
Received: (qmail 664 invoked by alias); 25 Oct 2007 08:00:20 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 12107
Received: (qmail 642 invoked from network); 25 Oct 2007 08:00:19 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 25 Oct 2007 08:00:19 -0000
Received: (qmail 79633 invoked from network); 25 Oct 2007 08:00:19 -0000
Received: from unknown (HELO mother.lugmen.org.ar) (200.110.134.2)
  by a.mx.sunsite.dk with SMTP; 25 Oct 2007 08:00:12 -0000
Received: from thruster.twat.com.ar (p54957354.dip.t-dialin.net [84.149.115.84])
	by mother.lugmen.org.ar (Postfix) with ESMTP id 825B419D128
	for <zsh-users@sunsite.dk>; Thu, 25 Oct 2007 05:00:08 -0300 (ART)
Received: by thruster.twat.com.ar (Postfix, from userid 1000)
	id A0A0810081; Thu, 25 Oct 2007 10:00:05 +0200 (CEST)
Date: Thu, 25 Oct 2007 10:00:05 +0200
From: Angel Olivera <redondos@twat.com.ar>
To: zsh-users@sunsite.dk
Subject: Re: foo=${(z)${(s:.:)SECONDS}} ; echo ${foo[1]}.${(r:2:)foo[2]}
Message-ID: <20071025080003.GB20965@thruster.twat.com.ar>
Mail-Followup-To: zsh-users@sunsite.dk
References: <20071025033706.12434.qmail@smasher.org>
MIME-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-sha1;
	protocol="application/pgp-signature"; boundary="zx4FCpZtqtKETZ7O"
Content-Disposition: inline
In-Reply-To: <20071025033706.12434.qmail@smasher.org>
X-Accept-Language: en, es, es_AR
X-GPG-ID: 0xDB98F72
X-GPG-Fingerprint: A182 F6EC 302B 8491 A563 9B28 259F F209 CDB9 8F72
X-Homepage: http://www.redondos.biz
X-Blog: http://blog.twat.com.ar
X-Jabber-ID: redondos@lugmen.org.ar
X-MSN-ID: redondos@redondos.biz
X-AIM-ID: redondossh
X-UIN: 11943866
X-YIM-ID: redondossh
User-Agent: Mutt/1.5.16 (2007-06-11)


--zx4FCpZtqtKETZ7O
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

On Thu 25.Oct.07 16:37, Atom Smasher wrote:
> i want that number to be reported only to hundredths of a second (two=20
> decimal places). i could just say that there are 10 decimal places and=20
> i want to get rid of eight:
> 	print "${SECONDS/%????????/}"
> 	25867.46
>
> but that would break if the number of digits after the decimal point=20
> changes. which leads me to:
> 	% foo=3D${(z)${(s:.:)SECONDS}} ; echo ${foo[1]}.${(r:2:)foo[2]}
> 	25969.87
>
> which works fine, but i'm wondering if there's a more graceful way to do=
=20
> that without an intermediate variable (foo, in this case).

Use backreferences, e.g.:

print ${SECONDS//(#b)(*.??)*/${match[1]}}

--=20
redondos

--zx4FCpZtqtKETZ7O
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: Digital signature
Content-Disposition: inline

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)

iQEUAwUBRyBNA5uxm/q7/+jqAQKeUQf4rw09stBz3/dDaIRLyKtZYshgDSnSO3W6
/v+rLXl76AyLjycNbCONHWP8HOJAndEFhiJniI1ZECEvja4Vdf5b1wBtG1pq/d9x
Q+OE/zyT0HuRvogQ4fNo/ix4/xJr7p9o/bOTI2V9uuACUdPgHw6sQxrEdbLir7de
FgYc+OnMPCWWhXaF3gxEsbSSPZZl4OtFXq5QoUoQQEbTlvsKnTCpSYIwb7CSB9/g
nT7RKIfDsJe8rftUqMCAOT7W0VEk7qyfPDqs5O+T3YGOzXBmFGDvvQMELdiMS0Dc
xuI0EMOOuWRvf7RuXhcdr3biEtgSZrRCl0pmdsYLY5wm1JqwHsTe
=QmNz
-----END PGP SIGNATURE-----

--zx4FCpZtqtKETZ7O--

