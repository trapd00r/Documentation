From zsh-users-return-15253-mason-zsh=primenet.com.au@zsh.org Wed Aug 04 22:21:00 2010
Return-Path: <zsh-users-return-15253-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9033 invoked by alias); 4 Aug 2010 22:21:00 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 15253
Received: (qmail 28848 invoked from network); 4 Aug 2010 22:20:56 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.2 required=5.0 tests=BAYES_00,TVD_RCVD_IP
	autolearn=ham version=3.3.1
Received-SPF: none (ns1.primenet.com.au: domain at fruitbat.org does not designate permitted sender hosts)
Date: Wed, 4 Aug 2010 15:12:12 -0700 (PDT)
From: "Peter A. Castro" <doctor@fruitbat.org>
To: Peter Stephenson <Peter.Stephenson@csr.com>
cc: zsh-users@zsh.org
Subject: Re: I cannot run zsh: child state waiting for longjmp
In-Reply-To: <20100802144319.063b9c90@csr.com>
Message-ID: <alpine.LNX.2.00.1008041418300.3463@gremlin.fruitbat.org>
References: <4C56C944.3020406@gmail.com> <20100802144319.063b9c90@csr.com>
User-Agent: Alpine 2.00 (LNX 1167 2008-08-23)
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed

On Mon, 2 Aug 2010, Peter Stephenson wrote:

Greetings, Peter & Cesar,

> On Mon, 02 Aug 2010 08:33:56 -0500
> Cesar Romani <cesar.romani@gmail.com> wrote:
>> I built zsh-4.3.10 on MSYS on Win XP.
>> It's working fine but Whenever I set path to whatever value, let's
>> say: path=(. /usr/local/bin /mingw/bin /bin)
>>
>> and run whatever command, let's say ls, I get:
>>
>> --------------------
>> $ path=(. /usr/local/bin /mingw/bin /bin)
>> $ ls
>>        0 [main] zsh 1556 sync_with_child: child 444(0x6AC) died before
>> initialization with status code 0xC0000135
>>    17380 [main] zsh 1556 sync_with_child: *** child state waiting for
>> longjmp
>> zsh: fork failed: resource temporarily unavailable
>> --------------------
>
> I don't think we've ever attempted to support MSYS, and I'm guessing it's
> not a lot like standard Unix, so we'd need someone with some fairly
> detailed knowledge of it to volunteer to do so.  (Probably this only
> touches the system level interaction, so detailed knowledge of zsh wouldn't
> be so important.)  Unfortunately recent experience suggests that's highly
> unlikely.

Unfortunately, I'm seeing this same kind of symptom under Cygwin (1.7.5)
when I run 'make check'.  Several of the tests generate something similar
to the above while others just plain hang and I have to kill the
subshells in order for it to continue.  I'm not sure how much of this is
Cygwin and how much of it is zsh.  I'll attempt to debug it but I don't
have the time right now.

-- 
Peter A. Castro <doctor@fruitbat.org> or <Peter.Castro@oracle.com>
 	"Cats are just autistic Dogs" -- Dr. Tony Attwood

