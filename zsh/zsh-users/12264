From zsh-users-return-12264-mason-zsh=primenet.com.au@sunsite.dk Fri Nov 30 03:26:24 2007
Return-Path: <zsh-users-return-12264-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10978 invoked from network); 30 Nov 2007 03:26:16 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.3 (2007-08-08) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.3
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 30 Nov 2007 03:26:16 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 22023 invoked from network); 30 Nov 2007 03:26:12 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 30 Nov 2007 03:26:12 -0000
Received: (qmail 28035 invoked by alias); 30 Nov 2007 03:26:02 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 12264
Received: (qmail 28009 invoked from network); 30 Nov 2007 03:26:01 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 30 Nov 2007 03:26:01 -0000
Received: (qmail 20763 invoked from network); 30 Nov 2007 03:26:01 -0000
Received: from rv-out-0910.google.com (209.85.198.190)
  by a.mx.sunsite.dk with SMTP; 30 Nov 2007 03:25:56 -0000
Received: by rv-out-0910.google.com with SMTP id b22so1574929rvf
        for <zsh-users@sunsite.dk>; Thu, 29 Nov 2007 19:25:54 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        bh=n7K0EuHnqICbVfC55rX41wDaEsGVHesbyZwM74a2AVE=;
        b=OYeXDWvpSs1zWwOimjRn4bH7KX157m1pGDih31fUwN7H1jz2rbAY/XGzWSCxE1Z0ZiD+Pb5yThXLvxdrdxUmEYKQ2YuZbD2Y61YXnS1ss1ioJy+fAAzirOua62dQ+VVUZ21VWs0KSBPxUxZ8vvjm60Frd1VZVkSNUcM03Xsj/LY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=BHsXorNaR0s4vRcjx8B9/aI1r/3Vl8uAHAxtW2wiI4mfYDQX+/hJV0xY4jfzay782124liLGK4jDCp4iZ7wUN3fKeLZ1HF8tWfchFOXDIi+3XHVlMo9s/mQPzC/eNaKJn19Ea76O3EBrli3TRBnQUR71sg/Hek5k1rYi6X+zJP4=
Received: by 10.141.172.6 with SMTP id z6mr3744190rvo.1196393154360;
        Thu, 29 Nov 2007 19:25:54 -0800 (PST)
Received: by 10.140.158.10 with HTTP; Thu, 29 Nov 2007 19:25:54 -0800 (PST)
Message-ID: <237967ef0711291925j634e5e30jb2ed23fc6fae58fe@mail.gmail.com>
Date: Fri, 30 Nov 2007 04:25:54 +0100
From: "Mikael Magnusson" <mikachu@gmail.com>
To: zsh-users@sunsite.dk
Subject: Re: globbing in scripts
In-Reply-To: <5d3c901b0711291844o613e432dq56b76aa718b53152@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <5d3c901b0711291844o613e432dq56b76aa718b53152@mail.gmail.com>

On 30/11/2007, Imre Voros <voros.imre@googlemail.com> wrote:
> I would like to expand complicated filename patterns in scripts.  Like if
> the script (say s) is
>    #!/bin/zsh
>    ls $~1
> with the call
>    ./s "^f*"
> it should do the same as
>    ls ^f*
> This works fine with simpler patterns like
>    ./s "*"
> but as soon as anything more complicated appears it keeps handling $~1 as a
> string.  Strangely enough outside scripts it works fine again:
>    p="^f*"; ls $~p
> does exactly what one would expect.
>
> Am I being thick?  How can I do it?  I would be happy with either different
> calling of the script or (and?) different script, but with passing the
> pattern as a single argument.
>
> Many thanks,
>   Imre
>
> PS: Sorry if I am sending this twice.

Maybe you need to setopt extendedglob in the script?

-- 
Mikael Magnusson

