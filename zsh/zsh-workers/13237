From zsh-workers-return-13237-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Dec 05 16:14:46 2000
Return-Path: <zsh-workers-return-13237-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10035 invoked from network); 5 Dec 2000 16:14:45 -0000
Received: from sunsite.dk (HELO sunsite.auc.dk) (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 5 Dec 2000 16:14:45 -0000
Received: (qmail 1030 invoked by alias); 5 Dec 2000 16:14:36 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 13237
Received: (qmail 1023 invoked from network); 5 Dec 2000 16:14:35 -0000
Date: Tue, 05 Dec 2000 16:14:08 +0000
From: Peter Stephenson <pws@csr.com>
Subject: 3.1.9-dev-8 available
To: zsh-workers@sunsite.auc.dk (Zsh hackers list)
Message-id: <0G53006PWRRJC1@la-la.cambridgesiliconradio.com>
Content-transfer-encoding: 7BIT

I have uploaded 3.1.9-dev-8 to
  ftp://ftp.zsh.org/pub/development/zsh-3.1.9-dev-8.tar.gz

Sorry for the delay.  Big changes include trap handling and a new system
for deciding which modules and functions to install.


2000-12-05  Peter Stephenson  <pws@csr.com>

	* unposted: Config/version.mk: 3.1.9-dev-8.

	* 13233, 13234: Src/Modules/terminfo.mdd, Src/Modules/terminfo.c:
	fix name for configure variable; don't crash on Solaris if
	capability not found.

	* Joel Smith <jsmith@caldera.com>: 13230: Src/exec.c, Src/glob.c,
	Src/lex.c, Src/parse.c, Src/text.c, Src/zsh.h: avoid name clashes
	with Linux kernel.

2000-12-04  Bart Schaefer  <schaefer@zsh.org>

	* 13229: Doc/Makefile.in: Include mod_term*.yo in MODDOCSRC.

2000-12-04  Clint Adams  <schizo@debian.org>

	* 13227: configure.in, Src/Modules/terminfo.c,
	Src/Modules/terminfo.mdd: do not build terminfo
	module if tigetstr() is not found in the same library
	as tgetent(), indentation fix, use tputs() in echoti
	builtin for outputting string capabilities, use
	setupterm() for module boot.

2000-12-04  Peter Stephenson  <pws@csr.com>

	* 13226: configure.in, Config/defs.mk, Config/installfns.sh,
	Config/uninstallfns.sh, Src/zsh.mdd: fix --enable-function-subdirs
	for config.modules system; make Completion get its own functions
	subdirectory; tidy up other related bits.	

	* 13220: Doc/Zsh/params.yo: mention problems with $# e.g. `$#-'
	in arithmetic.

2000-12-03  Clint Adams  <schizo@debian.org>

	* 13216: Doc/Zsh/.distfiles, Doc/Zsh/builtins.yo,
	Doc/Zsh/mod_termcap.yo, Doc/Zsh/mod_terminfo.yo,
	Src/Modules/.distfiles: documentation for 13215.

	* 13215: Src/builtin.c, Src/Modules/termcap.c,
	Src/Modules/termcap.mdd, Src/Modules/terminfo.c,
	Src/Modules/terminfo.mdd: move echotc builtin to termcap
	module, add echoti builtin and terminfo parameter in
	terminfo module.

2000-11-30  Peter Stephenson  <pws@csr.com>

	* 13209: Makefile.in, configure.in, Config/funcinst.mk,
	Config/installfns.sh, Config/uninstallfns.sh, Src/zsh.mdd,
	Src/Modules/zftp.mdd, Src/Zle/complete.mdd, Src/Zle/zle.mdd:
	function installation information is now in config.modules.

2000-11-27  Bart Schaefer  <schaefer@zsh.org>

	* 13203: Completion/Builtins/_zstyle: Add missing quote.

2000-11-27  Sven Wischnowsky  <wischnow@zsh.org>

	* 13199: .cvsignore, Completion/User/_gprof: pattern-fix in
 	_gprof; add config.modules to .cvsignore
	
2000-11-27  Peter Stephenson  <pws@csr.com>

	* 13197: configure.in: fix problems with use of link parameter,
	directories for reading old config.modules file, and inconsistent
	values for auto parameter.

	* 13196: Etc/zsh-development-guide: Use of `either' keyword for
	`link' module parameter.

2000-11-26  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 13194: INSTALL, configure.in, Config/defs.mk.in,
	Etc/zsh-development-guide, Src/.distfiles, Src/Makefile.in,
	Src/Makemod.in.in, Src/mkbltnmlst.sh, Src/mkmakemod.sh,
	Src/zsh.mdd, Src/Builtins/rlimits.mdd, Src/Builtins/sched.mdd,
	Src/Modules/cap.mdd, Src/Modules/clone.mdd,
	Src/Modules/example.mdd, Src/Modules/files.mdd,
	Src/Modules/mapfile.mdd, Src/Modules/mathfunc.mdd,
	Src/Modules/parameter.mdd, Src/Modules/stat.mdd,
	Src/Modules/zftp.mdd, Src/Modules/zprof.mdd, Src/Modules/zpty.mdd,
	Src/Modules/zutil.mdd, Src/Zle/compctl.mdd, Src/Zle/complete.mdd,
	Src/Zle/complist.mdd, Src/Zle/computil.mdd, Src/Zle/deltochar.mdd,
	Src/Zle/zle.mdd, Src/Zle/zleparameter.mdd: New module
	configuration system using file config.modules set up by
	configure.

2000-11-25  Bart Schaefer  <schaefer@zsh.org>

	* 13192: Completion/Core/compinit, Src/params.c: Turn off
	ALL_EXPORT during completion; don't export arrays or hashes, even
	with ALL_EXPORT.

2000-11-22  Tanaka Akira  <akr@zsh.org>

	* 13181: Completion/Debian/_apt: add an action for _alternative.

2000-11-20  Bart Schaefer  <schaefer@zsh.org>

	* E. Jay Birkenbilt: 13171, 13172: Completion/User/_rlogin,
	Completion/User/_ssh: Don't autoremove a trailing `:' after
	completing a host name, but do autoremove a trailing `@' after
	completing a user name.

2000-11-15  Bart Schaefer  <schaefer@zsh.org>

	* 13167: Completion/User/_perl_modules: Avoid cd entirely.

2000-11-14  Bart Schaefer  <schaefer@zsh.org>

	* 13165 plus unposted: Completion/User/_perl_modules: `builtin cd'
	is better than chdir; make sure the variable name used for the cache
	has a leading underscore, but strip that off to get the name under
	which the cache is stored and retrieved; cache separately for each
	command basename (e.g., perl5.00405 v. perl5.00503), not just each
	full path name.
	
	* Paul Johnson: 13164: Completion/User/_perl_modules: If a full
	path was given for the command after which perl modules are being
	completed, look up and cache the modules under the full name; use
	chdir instead of cd in case of a function wrapper for cd.

2000-11-14  Sven Wischnowsky  <wischnow@zsh.org>

	* 13163: Src/Modules/zpty.c: don't be sure that read-ahead doesn't
 	contains nuls
	
2000-11-13  Peter Stephenson  <pws@csr.com>

	* unposted: config.sub, config.status: updated from GNU sources,
	incorporating existing changes for NetBSD.

2000-11-13  Sven Wischnowsky  <wischnow@zsh.org>

	* 13156: Src/Modules/zpty.c: use unmetafy() to allow writing
 	special characters into a pty
	
2000-11-12  Clint Adams  <schizo@debian.org>

	* unposted: Completion/Debian/_bug: fix thinkos, add new options
	for reportbug.

	* unposted: Completion/Debian/_bug: complete files for --include=,
	completion for querybts.

2000-11-11  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 13109, 13111: Doc/Zsh/mod_zle.yo, Src/Zle/zle_main.c,
	Src/Zle/zle_thingy.c, Src/signals.c: `zle -I' allows trap code
	to clear up display when output occurs in a trap.

	* Sven: 13108: Src/Modules/zftp.c, Src/Modules/zpty.c,
	Src/Zle/zle_main.c, Src/builtin.c, Src/exec.c, Src/init.c,
	Src/input.c, Src/jobs.c, Src/signals.c, Src/signals.h,
	Src/utils.c, Src/zsh.h: Execute user traps synchronously if it is
	unsafe to execute it directly from the signal handler.

2000-11-09  Clint Adams  <schizo@debian.org>

	* 13125: Completion/User/_mailboxes: evaluate the mailboxes
	directives in muttrc, in case of backticks.

2000-11-08  Bart Schaefer  <schaefer@zsh.org>
	* 13140: Src/utils.c: Believe the non-error not-ready return value
	from select(), in read_poll().
	
2000-11-08  Sven Wischnowsky  <wischnow@zsh.org>

	* unposted: Src/Modules/zpty.c: use possible read character from
	read_poll() in loop in ptyread()

	* 13128: Completion/Builtins/_zstyle, Completion/Core/_match,
 	Completion/Core/_path_files, Doc/Zsh/compsys.yo: aloow value
 	`pattern' for insert-unambiguous style to preserve patterns in the
 	original string; add list-suffixes style to make file completion
 	list path suffixes if possible; slightly improved completion of
 	pathnames with multiple pattern-components

2000-11-06  Bart Schaefer  <schaefer@zsh.org>

	* 13127: Completion/User/_rcs: Test of $compstate[nmatches] was a
	no-op, removed it.

2000-11-05  Bart Schaefer  <schaefer@zsh.org>

	* 13124: Functions/Misc/nslookup: Use "command nslookup" as it's
	now possible to call the nslookup function recursively from zpty.

	* unposted: Src/Modules/zpty.c: Cloned shell is non-interactive
	for purposes of calling zexit(), so it doesn't print job status,
	save history, etc.

	* 13123: Doc/Zsh/mod_zpty.yo, Src/utils.c, Src/Modules/zpty.c:
	Change `zpty' to act as a combination of `clone' and `eval', to
	remove the limitation that only external commands can be run on
	the pty.  Also fix typos in utils.c.

	* 13120: Doc/Zsh/mod_zpty.yo, Functions/Misc/nslookup,
	Src/utils.c, Src/Modules/zpty.c: Merge Sven's uncommitted patch
	from 13061 with 13116.  WARNING: This reverses the meaning of
	`zpty -b'; the default is now blocking, -b selects non-blocking.
	Fix nslookup accordingly.  Clean up read_poll() somewhat.
	Document that `zpty -w' and `zpty -r' can stream to/from the pty.

2000-11-04  Bart Schaefer  <schaefer@zsh.org>

	* 13118: Completion/Core/compinit: Add `bareglobqual' to the
	standard setopts for the completion system.

	* 13116: Src/Modules/zpty.c: More informative error output; better
	streaming behavior of `zpty -r'; prevent hang on `zpty -t' when
	the command was started with `zpty -b'.

2000-11-02  Sven Wischnowsky  <wischnow@zsh.org>

	* users/3503: Doc/Zsh/mod_parameter.yo, Src/jobs.c,
	Src/Modules/parameter.c: show current/previous job in $jobstates

2000-11-01  Sven Wischnowsky  <wischnow@zsh.org>

	* 13107: Functions/Misc/zed: don't reset just-edited trap function
 	to old value

2000-10-30  Sven Wischnowsky  <wischnow@zsh.org>

	* 13095: Src/Modules/parameter.c: make assignament to $nameddirs
 	behave like hash -d

2000-10-25  Sven Wischnowsky  <wischnow@zsh.org>

	* users/3472: Completion/User/_rcs: use return value of _files,
	don't use ${PRE,SUF}FIX for globbing, complete all files as a
	default for "co"

	* 13084: Src/Zle/complist.c: re-display list for cleanup only if
 	we were in menu selection

	* 13082: Src/Zle/complist.c, Src/Zle/compresult.c: add a counter
 	for invalidatelist() to allow finding out if there is a new list

2000-10-24  Sven Wischnowsky  <wischnow@zsh.org>

	* 13071: Src/Zle/complist.c, Src/Zle/compresult.c: avoid printing
 	file type characters in completion lists for matches ending in a
 	slash

2000-10-23  Sven Wischnowsky  <wischnow@zsh.org>

	* 13037: Completion/Core/_path_files, Doc/Zsh/compsys.yo: change
 	some tags used in filename completion: no tag for file-sort,
 	fake-files and ignore-parents, paths for accept-exact

2000-10-21  Bart Schaefer  <schaefer@zsh.org>

	* 13057: Src/Zle/zle_main.c: `vared -h' should not imply `vared -e';
	use of -e should override the setting of the IGNOREEOF option.
	(The -e flag was added by zsh-workers/9396, for 3.1.6-dev-16.)

2000-10-20  Bart Schaefer  <schaefer@zsh.org>

	* 13055: Src/hist.c, Src/Zle/zle_main.c: Fix `vared -h' for non-
	interactive shells (scripts).

2000-10-19  Sven Wischnowsky  <wischnow@zsh.org>

	* 13036: Completion/Commands/_bash_completions,
 	Completion/Commands/_complete_debug,
 	Completion/Commands/_complete_help,
 	Completion/Commands/_correct_word,
 	Completion/Commands/_expand_word,
 	Completion/Commands/_history_complete_word,
 	Completion/Commands/_next_tags, Completion/Core/_main_complete,
 	Completion/Core/compinit: simplify setting standard completion
 	system options using $_comp_options

	* 13035: Doc/Zsh/mod_zpty.yo, Functions/Misc/nslookup, Src/utils.c,
 	Src/Modules/zpty.c, Test/comptest: make non-blocking IO on ptys
 	work again; add -t option to test if command is still alive

2000-10-19  Wayne Davison  <wayned@users.sourceforge.net>

	* 13034: Src/hist.c: Don't call histreduceblanks() if the line
	didn't parse right.

2000-10-17  Bart Schaefer  <schaefer@zsh.org>

	* unposted: Functions/Misc/zmv: Small typo in example in comment.

2000-10-17  Sven Wischnowsky  <wischnow@zsh.org>

	* 13005: Src/Zle/computil.c: make _arguments ignore unspecified
 	non-option arguments to the right of the cursor

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
Cambridge Silicon Radio, Unit 300, Science Park, Milton Road,
Cambridge, CB4 0XL, UK                          Tel: +44 (0)1223 392070

