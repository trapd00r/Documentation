From zsh-workers-request@euclid.skiles.gatech.edu  Mon Mar  4 07:42:55 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by werple.net.au (8.7/8.7.1) with ESMTP id HAA18146 for <mason@werple.mira.net.au>; Mon, 4 Mar 1996 07:42:52 +1100 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id PAA19342; Sun, 3 Mar 1996 15:28:17 -0500 (EST)
Resent-Date: Sun, 3 Mar 1996 15:28:17 -0500 (EST)
Message-Id: <199603032027.FAA05191@biyo.csce.kyushu-u.ac.jp>
To: zsh-workers@math.gatech.edu
Subject: remote shell weirdness? (zsh-2.6beta)
X-Mailer: Mew version 1.03 on Emacs 19.28.1, Mule 2.3
Mime-Version: 1.0
Content-Type: Text/Plain; charset=us-ascii
Date: Mon, 04 Mar 1996 05:27:29 +0900
From: Yoshiaki KASAHARA <kasahara@csce.kyushu-u.ac.jp>
Resent-Message-ID: <"UFIyZ.0.8k4.W3WEn"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/795
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Dear Zsh developers,

When I replaced my zsh from 2.5 to 2.6beta (now beta13), I found that 'xon'
stopped working correctly.  When I xon to a host which uses zsh-2.5,
xon silently exits and the specified client is individually runs (no
extra process remains)....this is the supposed function of 'xon'.
With 2.6beta, xon won't exit until the client is terminated, and some
extra process (xon itself & rsh) also remains.

Try the following sentence:

rsh -n host 'sh -c '"'DISPLAY=local:0.0"' '"xterm </dev/null >/dev/null 2>&1 &'"

I believe if your login shell on the 'host' is zsh-2.6beta, it won't
finish until the xterm is terminated.  It seems that non-interactive
zsh will wait termination of the *background* child process.....Is it
a feature or a bug ?

I'm not a subscriber of this list, so please send me a carbon copy of
replys (if any).

Thank you.
--
Yoshiaki KASAHARA
Dept. of Comp. Sci. and Comm. Eng., Kyushu Univ., Fukuoka, Japan

-------------------------------------The output of 'reporter' with 'zsh -f'

# START zsh saveset
# uname:  SunOS inunaki 4.1.4 1 sun4c

# Aliases.

alias run-help='man'
alias which-command='whence'

# Key bindings.

bindkey -r "^@"
bindkey -r "^D"
bindkey -r "^H"
bindkey -r "^I"
bindkey -r "^J"
bindkey -r "^K"
bindkey -r "^L"
bindkey -r "^M"
bindkey -r "^R"
bindkey -r "^S"
bindkey -r "^T"
bindkey -r "^U"
bindkey -r "^V"
bindkey -r "^W"
bindkey -r "\e"
bindkey -r "^?"
bindkey -r "\e"
bindkey -r "\e[A"
bindkey -r "\e[B"
bindkey -r "\e[C"
bindkey -r "\e[D"

bindkey "^@"	undefined-key
bindkey "^D"	list-choices
bindkey "^H"	vi-backward-delete-char
bindkey "^I"	expand-or-complete
bindkey "^J"	accept-line
bindkey "^K"	self-insert
bindkey "^L"	clear-screen
bindkey "^M"	accept-line
bindkey "^R"	redisplay
bindkey "^S"	self-insert
bindkey "^T"	self-insert
bindkey "^U"	vi-kill-line
bindkey "^V"	quoted-insert
bindkey "^W"	vi-backward-kill-word
bindkey "\e"	prefix
bindkey "^?"	backward-delete-char
bindkey "\e"	vi-cmd-mode
bindkey "\e[A"	up-line-or-history
bindkey "\e[B"	down-line-or-history
bindkey "\e[C"	forward-char
bindkey "\e[D"	backward-char

# Completions.

compctl -b bindkey
compctl -c builtin
compctl -v export
compctl -o setopt
compctl -v typeset
compctl -v unset
compctl -o unsetopt
compctl -v vared
compctl -c which
compctl -C -c
compctl -D -f
compctl -T

# Undefined functions.


# Defined functions.


# Limits.

limit datasize        511MB
limit stacksize       8MB
limit descriptors     256

# Non-array variables.

TERMCAP='/u/kasahara/etc/termcap'
TERM='kterm'
ARGC="0"
AWK="awk"
BAUD="9600"
CDPATH=""
COLUMNS="80"
CPP="/lib/cpp"
DIRSTACKSIZE="-1"
DISPLAY="inunaki.csce.kyushu-u.ac.jp:0.0"
EDITOR="vi"
EGID="700"
ERRNO="9"
ESHELL="/bin/csh"
EUID="7039"
FCEDIT="vi"
FIGNORE=""
FPATH="/u/kasahara/lib/zsh/func:/usr/local/lib/zsh/func"
FSP_DELAY="10000"
FSP_TIMEOUT="10"
GID="700"
GWMPATH="/u/kasahara/lib/gwm:/usr/local/X11/lib/X11/gwm"
HACKOPTIONS="time"
HISTSIZE="30"
HOME="/u/kasahara"
HOST="inunaki"
HOSTTYPE="sunos4.1.4"
IRCNICK="Rin"
IRCSERVER="irc.karrn.ad.jp"
JNAMES="/u/kasahara/.jnames"
JSERVER="wnnsvr"
KEYTIMEOUT="40"
LANG="ja_JP.ujis"
LESS="-i"
LINENO="382"
LINES="24"
LISTMAX="100"
LOGCHECK="60"
LOGNAME="kasahara"
MACHTYPE="sparc"
MAIL=""
MAILCHECK="60"
MAILPATH=""
MANPATH="/u/kasahara/man:/usr/X11R6/man:/usr/local/X11/man:/usr/local/lib/mh-6.8.3/man:/usr/local/man:/usr/man:/usr/local/AdaEd/man:/usr/local/lib/sr/man:/usr/local/fsp/man"
MM_CHARSET="ISO-2022-JP"
MORIA_SAV="/u/kasahara/etc/moria.save"
NETHACKOPTIONS="autopickup,nosilent,time,name:RinginBell,catname:KURO,showexp,lit_corridor,checkpoint,tombstone,fruit:Sunkist30,pettype:cat,hilite_pet,pickup_types:$"
NNTPSERVER="localhost"
NULLCMD="cat"
OLDPWD="/usr/local/src/Sys/zsh-2.6-beta13/Util"
OPTARG=""
OPTIND="1"
OSTYPE="sunos4.1.4"
PAGER="/usr/local/bin/less"
PATH="/u/kasahara/bin:/u/kasahara/bin/sunos4.1.4:/usr/local/cslabs/bin:/usr/local/cslabs/bin/sunos4.1.4:/u/kasahara/games:/usr/local/ascii_tex/bin:/usr/local/bin:/usr/X11R6/bin:/usr/local/X11/bin:/usr/bin/X11:/usr/local/bin/X11:/usr/local/bin/AF:/usr/local/bin/Canna:/usr/local/AdaEd/bin:/usr/ucb:/usr/bin:/bin:/usr/kvm:/usr/local/etc:/usr/etc:/usr/games:/usr/local/games:/usr/demo:/usr/local/games/blast:/usr/local/bin/sr:/usr/local/bin/mh:/usr/local/bin/metamail:/usr/local/fsp/bin:/usr/5bin:/usr/openwin/bin:/usr/hosts:/usr/local/news/bin"
PERIOD="0"
POSTEDIT=""
PPID="8316"
PROMPT="%m%# "
PROMPT2="> "
PROMPT3="?# "
PROMPT4="+ "
PS1="%m%# "
PS2="> "
PS3="?# "
PS4="+ "
PSPRINTER="pclsr"
PSVAR=""
PWD="/usr/local/src/Sys/zsh-2.6-beta13/Util"
RANDOM="3564"
READNULLCMD="more"
REPORTTIME="-1"
RPROMPT=""
RPS1=""
SAVEHIST="0"
SECONDS="44"
SHELL="/usr/local/bin/zsh"
SHLVL="3"
SPROMPT="zsh: correct \`%R\' to \`%r\' [nyae]? "
TAPE="/dev/nrst1"
TERMINFO="/u/kasahara/.terminfo"
TEXINPUTS=".:{/u/kasahara}/TeX/sty:/usr/local/LaTeXstyles:/usr/local/ascii_tex/jmacros:/usr/local/ascii_tex/macros"
TIMEFMT="%J  %U user %S system %P cpu %*E total"
TMOUT="0"
TMPPREFIX="/tmp/zsh"
TTY="/dev/ttyp1"
TZNAME="JST"
UID="7039"
USER="kasahara"
USERNAME="kasahara"
VENDOR="sun"
VISUAL="vi"
WATCH=""
WATCHFMT="%n has %a %l from %m."
WINDOWID="29360141"
WORDCHARS="*?_-.[]~=/&;!#$%^(){}<>"
WinName="kterm"
WinNum="1"
XAPPLRESDIR="/usr/X11R6/lib/X11/app-defaults:/usr/local/X11/lib/X11/app-defaults"
XMODIFIERS="@im=_XWNMO"
ZSH_NAME="zsh"
ZSH_VERSION="2.6-beta13"
each="unix"
histchars="!^#"
reporter_OSVersion="SunOS_4.1.4"
reporter_junkiequotes="no"
status="0"
str="SunOS inunaki 4.1.4 1 sun4c"
prompt='test%'

# Array variables.

argv=()
cdpath=()
fignore=()
fpath=(/u/kasahara/lib/zsh/func /usr/local/lib/zsh/func)
mailpath=()
manpath=(/u/kasahara/man /usr/X11R6/man /usr/local/X11/man /usr/local/lib/mh-6.8.3/man /usr/local/man /usr/man /usr/local/AdaEd/man /usr/local/lib/sr/man /usr/local/fsp/man)
path=(/u/kasahara/bin /u/kasahara/bin/sunos4.1.4 /usr/local/cslabs/bin /usr/local/cslabs/bin/sunos4.1.4 /u/kasahara/games /usr/local/ascii_tex/bin /usr/local/bin /usr/X11R6/bin /usr/local/X11/bin /usr/bin/X11 /usr/local/bin/X11 /usr/local/bin/AF /usr/local/bin/Canna /usr/local/AdaEd/bin /usr/ucb /usr/bin /bin /usr/kvm /usr/local/etc /usr/etc /usr/games /usr/local/games /usr/demo /usr/local/games/blast /usr/local/bin/sr /usr/local/bin/mh /usr/local/bin/metamail /usr/local/fsp/bin /usr/5bin /usr/openwin/bin /usr/hosts /usr/local/news/bin)
psvar=()
signals=(EXIT HUP INT QUIT ILL TRAP IOT EMT FPE KILL BUS SEGV SYS PIPE ALRM TERM URG STOP TSTP CONT CHLD TTIN TTOU IO XCPU XFSZ VTALRM PROF WINCH LOST USR1 USR2 ZERR DEBUG)
watch=()

# Exported variables.

export TERMCAP
export TERM
export DISPLAY
export EDITOR
export ESHELL
export FPATH
export FSP_DELAY
export FSP_TIMEOUT
export GWMPATH
export HACKOPTIONS
export HOME
export IRCNICK
export IRCSERVER
export JNAMES
export JSERVER
export LANG
export LESS
export LOGNAME
export MANPATH
export MM_CHARSET
export MORIA_SAV
export NETHACKOPTIONS
export NNTPSERVER
export PAGER
export PATH
export PSPRINTER
export PWD
export SHELL
export SHLVL
export TAPE
export TERM
export TERMINFO
export TEXINPUTS
export TZNAME
export USER
export VISUAL
export WINDOWID
export WinName
export WinNum
export XAPPLRESDIR
export XMODIFIERS

# Setopt.

setopt bgnice
setopt hashcmds
setopt hashdirs
setopt hashlistall
setopt norcs
setopt notify

# END zsh saveset

