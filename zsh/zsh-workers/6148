From zsh-workers-return-6148-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Apr 29 05:51:20 1999
Return-Path: <zsh-workers-return-6148-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 14647 invoked from network); 29 Apr 1999 05:51:19 -0000
Received: from ns2.primenet.com.au (HELO primenet.com.au) (203.24.36.3)
  by ns1.primenet.com.au with SMTP; 29 Apr 1999 05:51:19 -0000
Received: (qmail 346 invoked from network); 29 Apr 1999 05:51:17 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns2.primenet.com.au with SMTP; 29 Apr 1999 05:51:17 -0000
Received: (qmail 17650 invoked by alias); 29 Apr 1999 05:49:39 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 6148
Received: (qmail 17625 invoked from network); 29 Apr 1999 05:49:37 -0000
Message-Id: <199904290549.OAA26195@pop1.ngy.3web.ne.jp>
From: Tatsuo Furukawa <frkwtto@osk3.3web.ne.jp>
To: zsh-workers@sunsite.auc.dk
Subject: zsh dies (3.1.5-pws-16)
Date: Thu, 29 Apr 1999 14:51:15 +0900
X-Dispatcher: impost version 0.99i (Apr. 6, 1997)
Lines: 52


Hello, zsh developers.  I found another bug.


1. Start new zsh

    $ zsh

2. Check that COLUMNS environment variable is defined.

    $ env | grep COLUMNS   
    COLUMNS=80

3. Remove COLUMNS

    $ unset COLUMNS

4. Execute "env" command.

    $ env

5. zsh dies. (ToT)

    zsh: segmentation fault  zsh


I tested the following situation:

Dies:
    zsh:    3.1.5-pws-16
    OS:     Linux/Slackware 3.1

OK:
    zsh:    3.0.6-pre-2
    OS:     Linux/Slackware 3.1


I didn't make patch to fix this problem.  Because, Bart Schaefer said
that zsh 3.1.X's resize code is older than 3.0.X's (NOTE 1).  And,
3.0.6-pre-2 does not have the problem.  So, I think 3.1.X's resize
code should be changed into 3.0.X's.  (I can help to making patch!)


NOTE1:
>> From: "Bart Schaefer" <schaefer@brasslantern.com>
>> Date: Sat, 24 Oct 1998 11:43:34 -0700
>> Message-Id: <981024114334.ZM30186@candle.brasslantern.com>
>> Subject: Re: [3.0.5] patch for resize problem
>> X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/4447

-- 
Tatsuo Furukawa  (frkwtto@osk3.3web.ne.jp)

