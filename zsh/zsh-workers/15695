From zsh-workers-return-15695-mason-zsh=primenet.com.au@sunsite.dk Thu Aug 23 22:01:07 2001
Return-Path: <zsh-workers-return-15695-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5132 invoked from network); 23 Aug 2001 22:01:06 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 23 Aug 2001 22:01:06 -0000
Received: (qmail 27076 invoked by alias); 23 Aug 2001 22:00:59 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 15695
Received: (qmail 27064 invoked from network); 23 Aug 2001 22:00:58 -0000
Message-ID: <3740602.998604191013.JavaMail.root@suntea.algonet.se>
Date: Fri, 24 Aug 2001 00:03:11 +0200 (CEST)
From: Thomas Eriksson <arne@users.sourceforge.net>
To: zsh-workers@sunsite.dk
Subject: zsh segfault
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Authenticated-User: shio@algonet.se (null)
X-Mailer: Telenordia Webmail

Hi

I'm the author of bashish, which aims to bring themes (title, font, background, size and so on) to the console.

I'm trying to get bashish working on most bourne style shells including zsh.

However after upgrading zsh 3.0.8 to zsh 4.0.2 (also tried 4.1.0-dev1) zsh segfaulted in a particular moment.

I've created a feature to select themes for each application, that is if you start your favourite text editor the background will become white and the foreground black and also changing to an easy to read font.
Then after the application is finished, your console will return to black colored background and your favourite console - hard to read, but cool - font.

however right after the application has finished, the console has been restored to it's initial theme, and zsh shows the prompt and waits for input.

Whenever you press [Return] then, zsh will crash and burn.

changing themes seems not to be a problem though:

## changes to the joe application theme (.alias indicates that the theme is initialized as an alias not a function)
$ btapp joe.alias
## restores world order
$ brefresh

I'd be willing to investigate this further, unfortually, I'm a shell script hacker who doesn't even know how to run gdb on zsh.

Zsh 3.0.8 does not have this bug

My system is a Dual Celeron 433, 64MB ram and a 1200 mb hd, Linux Slackware 7.2-current
I hope this can help you.

sincerely

/Thomas Eriksson

