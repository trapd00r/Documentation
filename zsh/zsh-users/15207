From zsh-users-return-15207-mason-zsh=primenet.com.au@zsh.org Thu Jul 29 09:06:11 2010
Return-Path: <zsh-users-return-15207-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 58 invoked by alias); 29 Jul 2010 09:06:11 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 15207
Received: (qmail 10359 invoked from network); 29 Jul 2010 09:06:08 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00,RCVD_IN_DNSWL_LOW,
	SPF_HELO_PASS autolearn=ham version=3.3.1
Received-SPF: none (ns1.primenet.com.au: domain at csr.com does not designate permitted sender hosts)
Date: Thu, 29 Jul 2010 10:04:52 +0100
From: Peter Stephenson <Peter.Stephenson@csr.com>
To: Simon Friedberger <simon+zsh@a-oben.org>, zsh-users@zsh.org
Subject: Re: zle reset-prompt
Message-ID: <20100729100452.53f1cc15@csr.com>
In-Reply-To: <20100728201536.GA1146@a-oben.org>
References: <20100728201536.GA1146@a-oben.org>
Organization: Cambridge Silicon Radio
X-Mailer: Claws Mail 3.7.6 (GTK+ 2.18.9; i686-redhat-linux-gnu)
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 29 Jul 2010 09:04:53.0127 (UTC) FILETIME=[1B630970:01CB2EFD]
X-Scanned-By: MailControl A_09_40_00 (www.mailcontrol.com) on 10.71.1.128

On Wed, 28 Jul 2010 22:15:36 +0200
Simon Friedberger <simon+zsh@a-oben.org> wrote:
> I'm using zle reset-prompt as suggested on the wiki for displaying the
> status of the vim bindings. It shows whether they are in insert or
> normal mode.
> 
> The problem with this is that zle reset-prompt resets the exit status
> of the last command.

That would certainly be a bug but it's not doing it here in 4.3.10-dev-2.
Does this happen if you run ESC x reset-prompt RETURN at the command
line?  If so, have you got something in your prompt that triggers this?

-- 
Peter Stephenson <pws@csr.com>            Software Engineer
Tel: +44 (0)1223 692070                   Cambridge Silicon Radio Limited
Churchill House, Cambridge Business Park, Cowley Road, Cambridge, CB4 0WZ, UK


Member of the CSR plc group of companies. CSR plc registered in England and Wales, registered number 4187346, registered office Churchill House, Cambridge Business Park, Cowley Road, Cambridge, CB4 0WZ, United Kingdom

