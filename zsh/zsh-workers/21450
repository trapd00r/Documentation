From zsh-workers-return-21450-mason-zsh=primenet.com.au@sunsite.dk Tue Jul 12 18:48:32 2005
Return-Path: <zsh-workers-return-21450-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4184 invoked from network); 12 Jul 2005 18:48:31 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 12 Jul 2005 18:48:31 -0000
Received: (qmail 12700 invoked from network); 12 Jul 2005 18:48:25 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 12 Jul 2005 18:48:25 -0000
Received: (qmail 6542 invoked by alias); 12 Jul 2005 18:48:22 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 21450
Received: (qmail 6530 invoked from network); 12 Jul 2005 18:48:22 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 12 Jul 2005 18:48:22 -0000
Received: (qmail 12385 invoked from network); 12 Jul 2005 18:48:22 -0000
Received: from dsl3-63-249-88-2.cruzio.com (HELO dot.blorf.net) (63.249.88.2)
  by a.mx.sunsite.dk with SMTP; 12 Jul 2005 18:48:17 -0000
Received: by dot.blorf.net (Postfix, from userid 1000)
	id 2A7B56873; Tue, 12 Jul 2005 11:48:16 -0700 (PDT)
Date: Tue, 12 Jul 2005 11:48:16 -0700
From: Wayne Davison <wayned@users.sourceforge.net>
To: Bart Schaefer <schaefer@brasslantern.com>
Cc: zsh-workers@sunsite.dk
Subject: Re: [PATCH] adding a new option: PROMPT_NUDGE
Message-ID: <20050712184816.GA27068@blorf.net>
References: <cf7bbda90507110747669da77b@mail.gmail.com> <20050711151454.GH12208@ruby.cat.pdx.edu> <20050711174055.GB9294@blorf.net> <1050712032050.ZM26026@candle.brasslantern.com> <20050712053509.GB10890@blorf.net> <1050712141921.ZM26534@candle.brasslantern.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <1050712141921.ZM26534@candle.brasslantern.com>
User-Agent: Mutt/1.5.9i
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=6.0 tests=BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.6

On Tue, Jul 12, 2005 at 02:19:21PM +0000, Bart Schaefer wrote:
> I'd like some opinions from people whose first language is not English.

I'm certainly open to suggestions.  Other possibilities that occurred to
me include PROMPT_REPOSITION, PROMPT_PRESERVE, PROMPT_PRESERVE_PARTIAL,
and the simple (yet cryptic) PROMPT_SP (where SP can stand for either
"spaces" or "save partial").
 
> Is that [xn logic] to avoid wrapping in the event that the cursor
> starts out in column zero?

Yes.  Most terminals prior to the vt100 wrapped anytime $COLUMNS chars
appeared on a single line (as long as the terminal had line-wrapping
enabled), so such a terminal would generate an empty line if we were to
output $COLUMNS spaces at the start of a line.  The vt100 started a
tradition where the terminal delayed the wrap at the end of the line to
see if it was going to be followed by more literal characters or some
cursor-movement chars.  So, we need to vary the length of the spaces
depending on if the terminal has this delayed-wrap logic or not.

..wayne..

