From zsh-users-return-3949-mason-zsh=primenet.com.au@sunsite.dk Tue Jun 26 10:29:05 2001
Return-Path: <zsh-users-return-3949-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 12964 invoked from network); 26 Jun 2001 10:29:05 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 26 Jun 2001 10:29:05 -0000
Received: (qmail 19545 invoked by alias); 26 Jun 2001 10:28:09 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 3949
Received: (qmail 19532 invoked from network); 26 Jun 2001 10:28:08 -0000
X-Envelope-Sender-Is: Andrej.Borsenkow@mow.siemens.ru (at relayer goliath.siemens.de)
From: "Andrej Borsenkow" <Andrej.Borsenkow@mow.siemens.ru>
To: "Vincent Lefevre" <vincent@vinc17.org>, <zsh-users@sunsite.auc.dk>
Subject: RE: [zsh 4.0.1 bug] filename completion
Date: Tue, 26 Jun 2001 14:28:43 +0400
Message-ID: <001101c0fe2a$c6721260$21c9ca95@mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
In-Reply-To: <4a909ec873vincent@vinc17.org>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2479.0006
Importance: Normal

>
> On 26 Jun, Andrej Borsenkow <Andrej.Borsenkow@mow.siemens.ru> wrote:
> > I suspect it is part of more general problem. I have a feeling that
> > handling of exact match changed at some point near 4.0.1
> release. Now zsh
> > will prefer exact match in any context while before I got menu selection
> > ... and I am sure none of my styles changed.
>
> > E.g. I have /usr/lib{,64s}/netlib. Attempt to complete /u/l/n always
> > completes /usr/lib/netlib. Styles are:
>
> But in my case, where soft is a named directory and software is a normal
> directory in the cwd, soft shouldn't be seen as an exact match.
>

It is. It makes no difference if one is named directory and other a file as
long as 'cd soft' works. And 'soft' *is* exact match for 'soft'.

> And what do you call an exact match?

It was incorrect term here, you are right. More correct would be "exact
prefix match" ... which is probably even more confusing :-) If one matching
word was exact prefix of others, the other ones were not considered.

                                                 I don't understand your
example.
> I would agree if you had typed "/u/lib/n". But I don't see why lib
> should be priviledged. Because it is shorter than lib64s? But I don't
> think this is a good idea.

Erm ... my example was meant for Sven and he got it right :-))) Anyway, my
point was exactly as yours - lib should not be preferred in this context,
but it was, and it was a bug. And it was the reason for a problem you
reported. Sven's patch fixed it and I hope it will be included in 4.0.2.

-andrej

