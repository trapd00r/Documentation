From zsh-workers-return-14924-mason-zsh=primenet.com.au@sunsite.dk Fri Jun 15 09:11:24 2001
Return-Path: <zsh-workers-return-14924-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 19594 invoked from network); 15 Jun 2001 09:11:23 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 15 Jun 2001 09:11:23 -0000
Received: (qmail 1500 invoked by alias); 15 Jun 2001 09:10:53 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 14924
Received: (qmail 1488 invoked from network); 15 Jun 2001 09:10:52 -0000
Date: Fri, 15 Jun 2001 12:11:16 +0300 (EET DST)
From: Timo Aaltonen <tjaalton@cc.hut.fi>
X-Sender: tjaalton@nexus6.hut.fi
To: zsh-workers@sunsite.dk
cc: Timothy Miller <tsm@cs.brown.edu>
Subject: Re: AIX-problem: the main module won't link statically
In-Reply-To: <3B260A14.23330A7B@u.genie.co.uk>
Message-ID: <Pine.LNX.4.10.10106151144060.31070-100000@nexus6.hut.fi>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Tue, 12 Jun 2001, Oliver Kiddle wrote:

> Andrej wrote:
> > Oliver, is it possible to compile zsh with gcc on AIX? I understand,
> > currently it is assumed that we use native compiler. Or does gcc support
> > the same options as native compiler?
> 
> I never tried it. The AIX machines were on an isolated network so I'd
> have had to split gcc across a pile of floppies to get it over which I
> never felt inclined to do. What I can tell you is that gcc would not
> support the same options as the native compiler. For example, I expect
> that to achieve the -L option which Timothy described in 14825, it would
> need something like -Wl,-rpath,/cs/lib/zsh.

Doesn't work here with 2.8.1..


P.S. now I've discovered another problem with AIX; static zsh doesn't
display 8-bit characters correctly if zpty is configured link=static to
the default config.modules. Also "ls" etc. that print to the terminal are
broken:

theremin zsh-4.0.1 1 % ls
ChangeLog            README               config.modules-orig
                                                             ChangeLog-3.1
Src                  config.status
                                    ChangeLog.3.0        StartupFiles
config.sub
        Completion           Test                 configure
                                                           Config
Util                 configure.in
                                 Doc                  acconfig.h
configure.in.orig
            Etc                  aclocal.m4           conftest1.c
                                                                 Functions
aczsh.m4             conftest1.o
                                      INSTALL              config.cache
conftest2.c
           LICENCE              config.guess         install-sh
                                                               META-FAQ
config.h             mkinstalldirs
                                      Makefile             config.h.in
stamp-h
       Makefile.in          config.log           stamp-h.in
                                                           Misc
config.modules       typescript




_______________/Timo Aaltonen <http://www.hut.fi/~tjaalton>
GSM +358-40-5549 618



