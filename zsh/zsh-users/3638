From zsh-users-return-3638-mason-zsh=primenet.com.au@sunsite.dk Tue Feb 20 18:39:15 2001
Return-Path: <zsh-users-return-3638-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 25377 invoked from network); 20 Feb 2001 18:39:13 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 20 Feb 2001 18:39:13 -0000
Received: (qmail 25962 invoked by alias); 20 Feb 2001 18:39:02 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 3638
Received: (qmail 25950 invoked from network); 20 Feb 2001 18:39:02 -0000
X-Envelope-Sender-Is: Andrej.Borsenkow@mow.siemens.ru (at relayer goliath.siemens.de)
Date: Tue, 20 Feb 2001 21:38:58 +0300 (MSK)
From: Andrej Borsenkow <Andrej.Borsenkow@mow.siemens.ru>
X-Sender: bor@itsrm2.mow.siemens.ru
To: Hannu Koivisto <azure@iki.fi>
cc: zsh-users@sunsite.dk
Subject: Re: How to create unnamed temporary arrays?
In-Reply-To: <87snl9teqa.fsf@lynx.ionific.com>
Message-ID: <Pine.SV4.4.20.0102202132470.24316-100000@itsrm2.mow.siemens.ru>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On 20 Feb 2001, Hannu Koivisto wrote:

> Sven Wischnowsky <wischnow@informatik.hu-berlin.de> writes:
> 
> | If I got that right and you really only want those filenames one per
> 
> Not quite; that package listing job was just a simple example using
> which I was able to demonstrate the kind of situations in which I
> might want to create unnamed temporary arrays.  I.e. I'd really like
> to know if it is possible to rewrite this...
> 
> kala=(/usr/local/etc/packages/*(.:t:r))
> echo ${(F)kala}
> 
> ...so that kala variable is not defined but the ${(F)...}
> construction is still used.
> 

The idea I had today (in relation to other things) was to introduce new
syntax, something like

${foo-(bar baz)}

(note braces). Combined with empty parameter name (it is legal) it makes
it possible to do

${(F)${:-(foo bar baz)}}

thus giving you exactly what you want.

I do not claim that I fully understand the parameter substitution code,
but it looks doable. There remain some decisions to make though. 

-andrej

