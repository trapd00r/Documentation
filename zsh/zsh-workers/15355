From zsh-workers-return-15355-mason-zsh=primenet.com.au@sunsite.dk Tue Jul 10 08:59:02 2001
Return-Path: <zsh-workers-return-15355-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 19385 invoked from network); 10 Jul 2001 08:59:01 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 10 Jul 2001 08:59:01 -0000
Received: (qmail 6540 invoked by alias); 10 Jul 2001 08:58:56 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 15355
Received: (qmail 6527 invoked from network); 10 Jul 2001 08:58:55 -0000
From: jarausch@igpm.rwth-aachen.de
Message-Id: <200107100847.KAA39683@numa1.igpm.rwth-aachen.de>
Date: Tue, 10 Jul 2001 10:47:29 +0200
Reply-To: jarausch@igpm.rwth-aachen.de
Subject: Re: propagate LDFLAGS to modules - howto?
To: Andrej.Borsenkow@mow.siemens.ru
cc: zsh-workers@sunsite.dk
In-Reply-To: <Pine.SV4.4.33.0107092138000.12375-100000@itsrm2.mow.siemens.ru>
MIME-Version: 1.0
Content-Type: TEXT/plain; charset=us-ascii

On  9 Jul, Andrej Borsenkow wrote:
> On Mon, 9 Jul 2001 jarausch@igpm.rwth-aachen.de wrote:
> 
>> Hi,
>>
>> I've configured current zsh (on my IRIX-6.5 box) with
>> LDFLAGS='-s -L/usr/LOCAL/lib -rpath=/usr/LOCAL/lib'
>> since my libpcre.so is there.
>>
>> But when executing pcregrep (having loaded it before
>> without any error message)
>> I get an rld error showing that /usr/LOCAL/lib
>> is not in the list of searched directories.
>>
>> How can I pass this information to the Makefile
>> building libpcre ?
>>
> 
> DLLDFLAGFS=...

probably that's DLLDFLAGS=

Now I've rebuilt zsh and
ldd pcre.so correctly gives
libpcre.so.1  =>         /usr/LOCAL/lib/libpcre.so.1

and  ls -l /usr/LOCAL/lib/libpcre.so.1*  gives
lrwxr-xr-x    1 root     sys           14 Jul  4 10:52 /usr/LOCAL/lib/libpcre.so.1 -> libpcre.so.1.1
-rw-r--r--    1 root     sys        85136 Jul  4 10:52 /usr/LOCAL/lib/libpcre.so.1.1

but now
zmodload pcre
gives 
zsh: failed to load module: pcre

So how to find out the reason?

Therefore a plea for a new feature

Could zmodload take a '-v' option and show
where it tries to load from and some more detail of
the reason it failed?

Thanks,

Helmut Jarausch

Lehrstuhl fuer Numerische Mathematik
Institute of Technology, RWTH Aachen
D 52056 Aachen, Germany

