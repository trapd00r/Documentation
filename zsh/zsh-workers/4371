From zsh-workers-request@math.gatech.edu Fri Aug 28 14:19:05 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 6484 invoked from network); 28 Aug 1998 14:19:04 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 28 Aug 1998 14:19:04 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.9.1/8.9.1) id KAA28608;
	Fri, 28 Aug 1998 10:06:46 -0400 (EDT)
Resent-Date: Fri, 28 Aug 1998 10:06:46 -0400 (EDT)
Date: Fri, 28 Aug 1998 10:09:30 -0400
Message-Id: <9808281409.AA06675@ezdzit.zko.dec.com>
From: Paul Lew <lew@ezdzit.zko.dec.com>
To: zsh-workers@math.gatech.edu
Subject: Signal propagation problem with 3.1.4 on Digital UNIX
X-Mailer: VM 6.37 under Emacs 20.2.1
Mime-Version: 1.0 (generated by tm-edit 7.106)
Content-Type: text/plain; charset=US-ASCII
Resent-Message-ID: <"LYNKC.0.x-6.sbhvr"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/4371
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

When I run ode (an OSF source code control system), it starts zsh.
Under this zsh, if a line is partically composed and I press the
interrupt key (^c in my setup).  I got into following state:

(0)ezdzit lew ~>> ode workon kzasa
 Changing directory to: /usr/users/lew/work/sandbox/kzasa/src/
 Logging on kzasa with Project...

Enter password.  [] :  

Name:         Paul_Lew
Group:        -
E-mail:       lew@ezdzit.zko.dec.com    Phone: 4-5809
Expires in:   365 days

 Starting new shell: /bin/zsh

(0)ezdzit lew src>>> jadfal                               kzasa
 Interrupt signal 2
(0)ezdzit lew src>> 
(0)ezdzit lew src>>>                                      kzasa
(0)ezdzit lew src>> 
(0)ezdzit lew src>>>                                      kzasa
(0)ezdzit lew src>> 

The parent shell (zsh too) is trying to read command from stdin.  The
zsh exec'ed by ode is also trying to read command from stdin.  Has
anyone experience this before?  How easy to fix it?  Thanks in
advance...

A short explanation about the prompts above: I setup my zsh so the
prompt will show as many > as the SHLVL value.  Inside ode, the
RPROMPT is set to represent the project.

The stty output:
(0)ezdzit lew src>>> stty -a                              kzasa
#2 disc;speed 9600 baud; 48 rows; 80 columns
erase = ^?; werase = ^W; kill = ^U; intr = ^C; quit = ^\; susp = ^Z
dsusp = ^Y; eof = ^D; eol <undef>; eol2 <undef>; stop = ^S; start = ^Q
lnext = ^V; discard = ^O; reprint = ^R; status <undef>; time = 0
min = 1
-parenb -parodd cs8 -cstopb hupcl cread -clocal 
-ignbrk brkint -ignpar -parmrk -inpck -istrip -inlcr -igncr icrnl -iuclc 
ixon -ixany -ixoff imaxbel 
isig icanon -xcase echo echoe -echok -echonl -noflsh -mdmbuf -nohang 
-tostop echoctl -echoprt echoke -altwerase iexten -nokerninfo 
opost -olcuc onlcr -ocrnl -onocr -onlret -ofill -ofdel tabs -onoeot 

