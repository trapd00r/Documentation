From zsh-workers-request@euclid.skiles.gatech.edu  Sat Aug  3 04:49:16 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by coral.primenet.com.au (8.7.5/8.7.3) with ESMTP id EAA01712 for <mason@primenet.com.au>; Sat, 3 Aug 1996 04:49:13 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id OAA26582; Fri, 2 Aug 1996 14:45:27 -0400 (EDT)
Resent-Date: Fri, 2 Aug 1996 14:45:27 -0400 (EDT)
Message-Id: <199608021842.OAA07896@spacely.icd.teradyne.com>
X-Mailer: exmh version 1.6.7 5/3/96
To: zsh-workers@math.gatech.edu
reply-to: acs@world.std.com
Subject: Function output re-direction
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Date: Fri, 02 Aug 1996 14:42:28 -0400
From: Vinnie Shelton  <shelton@icd.teradyne.com>
Resent-Message-ID: <"kli5R.0.GV6.6pa0o"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/1901
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

I've stumbled across a rather bad bug in pre5.  I haven't applied any of the 
patches yet, so if this has already been fixed, feel free to ignore this 
message.  When I pipe input to a shell function and re-direct the output, 
stdout of the shell is re-directed as well:

spacely% zsh -f
spacely% echo $ZSH_VERSION
3.0-pre5
spacely% function x {
> echo x
> }
spacely% x
x                                       # OK so far
spacely% ls | x >/dev/null
spacely% ls                             # Output is gone!
spacely% exec >/dev/tty                 # got it back

This is on Solaris 2.5, built with the Sparcworks 4.1 compiler.

--vin

