From zsh-users-return-14435-mason-zsh=primenet.com.au@sunsite.dk Sun Sep 27 17:42:17 2009
Return-Path: <zsh-users-return-14435-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 20627 invoked from network); 27 Sep 2009 17:42:03 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from new-brage.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.254.104)
  by ns1.primenet.com.au with SMTP; 27 Sep 2009 17:42:03 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 94421 invoked from network); 27 Sep 2009 17:41:50 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 27 Sep 2009 17:41:50 -0000
Received: (qmail 8037 invoked by alias); 27 Sep 2009 17:41:39 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 14435
Received: (qmail 8022 invoked from network); 27 Sep 2009 17:41:39 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 27 Sep 2009 17:41:39 -0000
Received: from vms173011pub.verizon.net (vms173011pub.verizon.net [206.46.173.11])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 001A0801E2BF
	for <zsh-users@sunsite.dk>; Sun, 27 Sep 2009 19:41:31 +0200 (CEST)
Received: from torch.brasslantern.com ([96.238.222.107])
 by vms173011.mailsrvcs.net
 (Sun Java(tm) System Messaging Server 6.3-7.04 (built Sep 26 2008; 32bit))
 with ESMTPA id <0KQN00HSH54Q9ULB@vms173011.mailsrvcs.net> for
 zsh-users@sunsite.dk; Sun, 27 Sep 2009 12:41:19 -0500 (CDT)
Received: from torch.brasslantern.com (localhost.localdomain [127.0.0.1])
	by torch.brasslantern.com (8.13.1/8.13.1) with ESMTP id n8RHfDv1005503	for
 <zsh-users@sunsite.dk>; Sun, 27 Sep 2009 10:41:14 -0700
Received: (from schaefer@localhost)	by torch.brasslantern.com
 (8.13.1/8.13.1/Submit) id n8RHfC99005502	for zsh-users@sunsite.dk; Sun,
 27 Sep 2009 10:41:12 -0700
From: Bart Schaefer <schaefer@brasslantern.com>
Message-id: <090927104112.ZM5501@torch.brasslantern.com>
Date: Sun, 27 Sep 2009 10:41:12 -0700
In-reply-to: <ef9dd2250909270703v7d7dfd45hfdf3e9750afa020f@mail.gmail.com>
Comments: In reply to Anton Sharonov <anton.sharonov@gmail.com>
 "vi-mode zle: how to delete past the start char of insert mode (like VIM
 'backspace'=start option)" (Sep 27,  4:03pm)
References: <ef9dd2250909270703v7d7dfd45hfdf3e9750afa020f@mail.gmail.com>
X-Mailer: OpenZMail Classic (0.9.2 24April2005)
To: zsh-users@sunsite.dk
Subject: Re: vi-mode zle: how to delete past the start char of insert mode
 (like VIM 'backspace'=start option)
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii
X-Virus-Scanned: ClamAV 0.94.2/9842/Sun Sep 27 14:30:31 2009 on bifrost
X-Virus-Status: Clean

On Sep 27,  4:03pm, Anton Sharonov wrote:
}
} After I type some text, leave insert mode, and enter it again,
} and try to delete the text I entered [...]
} I got cursor only till the point, where insert mode is started

By way of explanation, zsh is faithfully emulating traditional "vi"
behavior in this instance.  (If there's anyone familiar enough with
both vi and vim to enumerate the differences, we might be able to
put together a sample zshrc for vim emulation.)

} Desired behaviour: <C-W>, <BS>, <C-U> should remove the WORD,
} symbol, to the begin of line, respectively. (In VIM the
} corresponding option is 'backspace', value "start" controls this
} behaviour)
} 
} How can I tell zshzle that I like to be able to delete past the
} point of _start_ of the insert mode ?

You can mostly get this by replacing the corresponding key bindings
with the emacs-mode equivalents.  For example:

bindkey -v
bindkey "^W" backward-kill-word    # vi-backward-kill-word
bindkey "^H" backward-delete-char  # vi-backward-delete-char
bindkey "^U" kill-line             # vi-kill-line
bindkey "^?" backward-delete-char  # vi-backward-delete-char

These may not work precisely as you desire when you are editing a
multi-line buffer, but should be OK for most uses.  You may need to
fiddle with the value of the WORDCHARS variable to get vim-like
word motions out of backward-kill-word, or consider looking at the
select-word-style function and delete-whole-word-match (look in the
User Contributions section of the manual, under ZLE Functions).

