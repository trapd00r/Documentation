From zsh-users-return-3763-mason-zsh=primenet.com.au@sunsite.dk Thu Mar 29 08:05:17 2001
Return-Path: <zsh-users-return-3763-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 19844 invoked from network); 29 Mar 2001 08:05:15 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 29 Mar 2001 08:05:15 -0000
Received: (qmail 494 invoked by alias); 29 Mar 2001 08:05:04 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 3763
Received: (qmail 459 invoked from network); 29 Mar 2001 08:05:03 -0000
Date:	Thu, 29 Mar 2001 11:04:59 +0300
Sender:	Ville Herva <vherva@niksula.hut.fi>
From:	Ville Herva <vherva@niksula.hut.fi>
To:	Andrej Borsenkow <Andrej.Borsenkow@mow.siemens.ru>
Cc:	zsh-users@sunsite.auc.dk
Subject: Re: Compilation problem on Cygwin
Message-ID: <20010329110459.N3478@niksula.cs.hut.fi>
References: <20010328150338.I3478@niksula.cs.hut.fi> <Pine.SV4.4.33.0103291108240.26074-100000@itsrm2.mow.siemens.ru>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5i
In-Reply-To: <Pine.SV4.4.33.0103291108240.26074-100000@itsrm2.mow.siemens.ru>; from Andrej.Borsenkow@mow.siemens.ru on Thu, Mar 29, 2001 at 11:39:33AM +0400

On Thu, Mar 29, 2001 at 11:39:33AM +0400, you [Andrej Borsenkow] claimed:
> One more possibility (and I'm pretty sure it is it): the temporary files
> are created on text-mounted file system and then simply copied into /home
> and get DOS lineend.
> 
> anybody knows where configure creates temporary files?
> 
> Ville, could you check
> 
> - config.status, and probably a couple of makefiles (Src/Makemod,
> Src/Makefile) for CR-LF? Better copy over to Unix (to avoid Cygwin
> sideeffects; do not forget bin mode :-). If you see something like
> "#!/bin/shCR" - it canot work of course.

od -ah Src/Makefile config.status Src/Makemod.in | grep -i cr

show nothing for those files (of course I don't have Makemod, just
Makemod.in and that's what make complains about). That's on unix.

I double checked with a DOS file, and it did show the CR's.

> - how your /tmp (and may be TMP, TEMP, TMPDIR) are mounted? If they are
> inside text-mounted filesystem? Note, that Cygwin defaulted to text mount;
> since 1.1.8 (I believe) it defaults to binary, but it won't change
> defaults by update.

I have 

c:\cygwin           /                   system       binmode

and I just changed 
export TMP=/tmp
export TEMP=/tmp
(nothing mounted on /tmp, it's just a dir under /).

That didn't help.
 
> -andrej

I'll try to play with this myself a bit. I'll post if I can't find out
anything useful.



-- v --

v@iki.fi

