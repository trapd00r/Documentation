From zsh-workers-return-9887-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Feb 28 00:21:58 2000
Return-Path: <zsh-workers-return-9887-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 11905 invoked from network); 28 Feb 2000 00:21:56 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 28 Feb 2000 00:21:56 -0000
Received: (qmail 21032 invoked by alias); 28 Feb 2000 00:21:24 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 9887
Received: (qmail 21023 invoked from network); 28 Feb 2000 00:21:21 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <1000228002116.ZM6340@candle.brasslantern.com>
Date: Mon, 28 Feb 2000 00:21:16 +0000
X-Mailer: Z-Mail (5.0.0 30July97)
To: zsh-workers@sunsite.auc.dk
Subject: Preliminary release of 3.0.8 - please test
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

I realize most people on this list are now using 3.1.6-dev-19, but it'd
be helpful to me if a few people could grab this and at least report any
build-time errors.  Several of the changes are to the configure scripts,
and I have only Linux to test on.

	ftp://ftp.brasslantern.com/pub/zsh/zsh-3.0.8.tar.gz

Note that I haven't updated the doc.tar yet, but there's only one minor
change to that.  I'll update everything and make an official announcement
after I either hear that it looks OK, or a few days pass with no response
at all ...

Here are the new ChangeLog entries since the 3.0.7 release:

2000-02-27  Bart Schaefer  <schaefer@zsh.org>

	* Src/version.h: Version 3.0.8 released.
	
	* Src/builtin.c: Fixes to `vared', particularly when run from a
	subshell; adapted from PWS, 7308, and Sven, 8591.

	* configure.in, configure, acconfig.h, config.h.in,
	Src/prototypes.h: Add test for mknod() prototype, per bug report
	from Olivier Delemar.

	* Src/exec.c, Src/globals.h, Src/init.c, Src/builtin.c: Fix
	improper redirection of xtrace output; unlock terminal device on
	Solaris as per zsh-workers/5118; misc. insignificant typos.

2000-02-23  Bart Schaefer  <schaefer@zsh.org>

	* config.sub: Handle the latest Alpha hardware type; Sven, 9840.

2000-02-16  Bart Schaefer  <schaefer@zsh.org>

	* Src/subst.c: Better quoting behavior for ${(e)...}
	substitutions; from Sven, 9763.

2000-02-15  Bart Schaefer  <schaefer@zsh.org>

	* Src/signames.awk: Missing newline.

	* Src/jobs.c, Src/signames.awk: Wrap signal message array derefs
	in a macro to avoid segfaults in the event we recieve an
	unrecognized signal.

2000-02-13  Bart Schaefer  <schaefer@zsh.org>

	* configure.in, configure: Import the 3.1.6 signal.h (or
	equivalent) detection code.

	* Etc/MACHINES: Mention potential resource.h problem on Linux.

2000-02-12  Bart Schaefer  <schaefer@zsh.org>

	* Src/init.c: Redo the way we attach to the tty in init_io() to
	avoid competing with our parent on systems that don't prevent TTY
	ioctl()s from background jobs.

2000-02-06  Bart Schaefer  <schaefer@zsh.org>

	* Src/builtin.c: Clear the PM_UNSET flag from the `pm' structure
	before setting the parameter; PWS, 9582.

2000-02-03  Bart Schaefer  <schaefer@zsh.org>

	* Src/utils.c: Interrupt read1char() when any of the usual shell
	loop control flags becomes set (e.g. by a trap handler); Sven,
	9522.

	* Src/exec.c: A different reformulation of 9345; based on Sven,
	9503 and 9521.

2000-01-29  Bart Schaefer  <schaefer@zsh.org>

	* Src/globals.h: Add a missing EXTERN.

	* Src/globals.h, Src/jobs.c, Src/zsh.h, Src/builtin.c, Src/exec.c:
	Fixes for suspending/restarting subshells; adapted from Sven, 9345.

2000-01-12  Bart Schaefer  <schaefer@zsh.org>

	* Src/loop.c: Fix behavior of "select" loops with respect to
	reading stdin; adapted from PWS, 9295.

2000-01-08  Bart Schaefer  <schaefer@zsh.org>

	* Src/loop.c: Using a negative count with the "repeat" construct
	should not loop.  Adapted from Sven, 9188.

1999-12-12  Bart Schaefer  <schaefer@zsh.org>

	* Src/exec.c: Don't try to suspend/resume loops and other shell
	constructs as separate processes when the parent shell is not
	doing job control in the first place.

1999-11-25  Bart Schaefer  <schaefer@zsh.org>

	* Src/lex.c: Fix off-by-one line number when reporting unmatched
	cshjunkiequote errors.

1999-11-24  Bart Schaefer  <schaefer@zsh.org>

	* Src/signals.c: Just for sanity, be sure not to SIGHUP ourself
	when already exiting.

1999-10-25  Bart Schaefer  <schaefer@zsh.org>

	* Src/system.h, Src/hashtable.h, Src/init.c, Src/params.c,
	INSTALL, acconfig.h, configure.in, configure, config.h.in:
	Configure option to disable setlocale() support, and also do a
	linkage test for it rather than simply test for the LC_ALL
	constant; adapted from Zefram, 8372, by Tatsuo Furukawa.

1999-10-24  Bart Schaefer  <schaefer@zsh.org>

	* Makefile.in: Don't bother trying to enumerate all the files in
	the ftp-dist tar, just pack up the whole zsh-$(VERSION) directory.
	The enumeration caused files in subdirectories to be included
	twice by tar.

1999-10-23  Bart Schaefer  <schaefer@zsh.org>

	* Src/zle_misc.c, Doc/zshparam.man: Add the %L prompt token, for
	the value of SHLVL, as in 3.1.6; thanks to Phil Pennock
	<phil@PsiDev.net> for pointing out this inconsistency.

1999-10-22  Bart Schaefer  <schaefer@zsh.org>

	* Src/mem.c: Fix a couple of typos in comments.

1999-10-19  Bart Schaefer  <schaefer@zsh.org>

	* Src/utils.c: Remove redundant variable decls; noted by Albert
	Chin in 8327.

	* Src/builtin.c: Tweak whitespace in string constant.

	* Src/builtin.c: Recognize "maxpthreads" limit as noted by Albert
	Chin in private mail; also arrange to print the "sockbufsize"
	limit in "ulimit -a".

	* Src/rlimits.awk: Recognize "maxpthreads" limit as noted by
	Albert Chin in private mail.


-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

