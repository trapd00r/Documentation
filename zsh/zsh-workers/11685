From zsh-workers-return-11685-mason-zsh=primenet.com.au@sunsite.auc.dk Wed May 31 09:13:41 2000
Return-Path: <zsh-workers-return-11685-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 21619 invoked from network); 31 May 2000 09:13:36 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 31 May 2000 09:13:36 -0000
Received: (qmail 232 invoked by alias); 31 May 2000 09:13:26 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 11685
Received: (qmail 225 invoked from network); 31 May 2000 09:13:25 -0000
Date: Wed, 31 May 2000 10:12:55 +0100
From: Peter Stephenson <pws@cambridgesiliconradio.com>
Subject: Re: zsh-3.1.7 broken on IRIX
In-reply-to: "Your message of Tue, 30 May 2000 20:28:28 +0200."
 <200005301828.UAA47908@numa1.igpm.rwth-aachen.de>
To: zsh-workers@sunsite.auc.dk (Zsh hackers list)
Message-id: <0FVF00DBH2XJTT@la-la.cambridgesiliconradio.com>
Content-transfer-encoding: 7BIT

Helmut wrote:
> I have now regenerated zsh-3.1.7 from the tarball
> with CFLAGS=-g
> 
> Now it doesn't segfault BUT
> at startup I get
> 
> /usr/PRIVATE/etc/zshenv:1: not an identifier: 
> /usr/people/jarausch/.zshenv:10: not an identifier: 
> /usr/people/jarausch/.zshrc:1: not an identifier: 
> 
> I have attached these files
> 
> then
> 
> ls -xF gives
> hangeLog       ChangeLog.3.0   Completion/     Config/         Doc/
> Etc/            Functions/      INSTALL         LICENCE         META-FAQ
> Makefile        Makefile.bck    Makefile.in     Misc/           README
> Src/            StartupFiles/   Test/           Util/           acconfig.h
> aclocal.m4      aczsh.m4        config.cache    config.guess*   config.h
> config.h.bck    config.h.in     config.log      config.status*  config.sub*
> configure*      configure.in    install-sh*     mkinstalldirs*  so_locations
> stamp-h         stamp-h.in
> 
> Note the subdirectory Test/
> 
> Then
> numa1% cd Test 
> cd: string not in pwd: Test
> 
> So, it's very strange here.

Looks like it's related to bad NULL-termination of strings somehow.  Does
this suggest anything to anybody?  We used to have lots of problems with
signed to unsigned character conversions, too, but usually only with
eight-bit characters.

Do you get similar behaviour with both gcc and the native compiler?
Is anyone else using Irix?

-- 
Peter Stephenson <pws@cambridgesiliconradio.com>
Cambridge Silicon Radio, Unit 300, Science Park, Milton Road,
Cambridge, CB4 0XL, UK                          Tel: +44 (0)1223 392070

