From zsh-workers-return-17074-mason-zsh=primenet.com.au@sunsite.dk Mon May 06 06:27:40 2002
Return-Path: <zsh-workers-return-17074-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 27691 invoked from network); 6 May 2002 06:27:37 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 6 May 2002 06:27:37 -0000
Received: (qmail 21806 invoked by alias); 6 May 2002 06:27:28 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 17074
Received: (qmail 21794 invoked from network); 6 May 2002 06:27:26 -0000
Message-ID: <6134254DE87BD411908B00A0C99B044F035BB2F4@mowd019a.mow.siemens.ru>
From: Borsenkow Andrej <Andrej.Borsenkow@mow.siemens.ru>
To: "'Zsh hackers list'" <zsh-workers@sunsite.dk>
Subject: PATCH: _mondo completion
Date: Mon, 6 May 2002 10:33:23 +0400 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_000_01C1F4C7.EBE75480"

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_000_01C1F4C7.EBE75480
Content-Type: text/plain

This adds completion for mondoarchive. It is put in _mondo in some
expectation that more may follow (like mindi e.g.). It is also put in Linux
because it is pure Linux command but is not restricted to any particular
distro.

If it is O.K. to add Linux subdir I'll commit it.

-andrej


------_=_NextPart_000_01C1F4C7.EBE75480
Content-Type: application/octet-stream;
	name="zsh-mondo.diff"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: attachment;
	filename="zsh-mondo.diff"

Index: Completion/Linux/Command/.distfiles=0A=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=0A=
RCS file: Completion/Linux/Command/.distfiles=0A=
diff -N Completion/Linux/Command/.distfiles=0A=
--- /dev/null	1 Jan 1970 00:00:00 -0000=0A=
+++ Completion/Linux/Command/.distfiles	6 May 2002 06:22:18 -0000=0A=
@@ -0,0 +1,4 @@=0A=
+DISTFILES_SRC=3D'=0A=
+.distfiles=0A=
+_mondo=0A=
+'=0A=
Index: Completion/Linux/Command/_mondo=0A=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=0A=
RCS file: Completion/Linux/Command/_mondo=0A=
diff -N Completion/Linux/Command/_mondo=0A=
--- /dev/null	1 Jan 1970 00:00:00 -0000=0A=
+++ Completion/Linux/Command/_mondo	6 May 2002 06:22:18 -0000=0A=
@@ -0,0 +1,53 @@=0A=
+#compdef mondoarchive=0A=
+=0A=
+local context state line expl ret=3D1=0A=
+typeset -A opt_args=0A=
+=0A=
+_arguments \=0A=
+  "(-V)-O[create backup]" \=0A=
+  "(-O)-V[verify backup]" \=0A=
+  "(-c -C -i -n -w)-c[use CD-R as backup media]:CD-R burn speed: " =
\=0A=
+  "(-c -C -i -n -w)-C[use CD-R as streaming device =
(experimental)]:CD-R burn speed: " \=0A=
+  "(-c -C -i -n -w)-i[use ISO image as backup media]" \=0A=
+  "(-c -C -i -n -w)-n[use NFS mountpoint as backup media]:NFS =
mountpoint: " \=0A=
+  "(-c -C -i -n -w)-w[use CD-RW as backup media]:CD-RW burn speed: " =
\=0A=
+  "-D[differential backup]" \=0A=
+  "-E[exclude path(s) from backup]:paths to exclude from =
backup:->quoted_path" \=0A=
+  "-I[path(s) to backup]:paths to inlcude in backup:->quoted_path" =
\=0A=
+  "-d[backup device]:backup device: " \=0A=
+  "-g[run in fullscreen mode]" \=0A=
+  "-k[path to kernel]:path to kernel:->kernel_or_magic" \=0A=
+  "-m[manual eject]" \=0A=
+  "-s[media size]:media size]: " \=0A=
+  "-x[non-linux partition]:non-linux partition:_files -g '*(%b)'" \=0A=
+  "(-1 -2 -3 -4 -5 -6 -7 -8 -9)-"{1,2,3,4,5,6,7,8,9}"[compression =
level]" \=0A=
+  "-A[post ISO-creation command]:pre ISO-creation command: " \=0A=
+  "-B[pre iSO-creation command]:post ISO-creation command: " \=0A=
+  "-F[do not create floppy]" \=0A=
+  "-H[create autorestore image]" \=0A=
+  "-L[use lzo instead of bzip2]" \=0A=
+  "-P[post-nuke tarball]:post-nuke tarball:_files -g =
'*.(#i)(tar.gz|tgz)'" \=0A=
+  "-S[scratch directory]:scratch directory:_files -/" \=0A=
+  "-T[temporary directory]:temporary directory:_files -/" \=0A=
+  "-f[device with MBR]:device with MBR:_files -g '*(%b)'" \=0A=
+  "-l[bootloader type]:bootloader type:(GRUB LILO)" \=0A=
+  && ret=3D0=0A=
+=0A=
+case $state in=0A=
+  quoted_path )=0A=
+    local suf=3D"/ \t\n"=0A=
+    [[ -n $compstate[quote] ]] && { suf=3D"$compstate[quote]$suf"; =
compset -q; }=0A=
+    _files -r $suf && ret=3D0=0A=
+  ;;=0A=
+  kernel_or_magic )=0A=
+    _tags kernel magic=0A=
+    while _tags; do=0A=
+      _requested magic expl "keywords" \=0A=
+	compadd -- FAILSAFE && ret=3D0=0A=
+      _requested kernel expl "path to kernel image" \=0A=
+	_files  && ret=3D0=0A=
+    done=0A=
+  ;;=0A=
+esac=0A=
+=0A=
+return $ret=0A=
Index: Src/Zle/complete.mdd=0A=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=0A=
RCS file: /cvsroot/zsh/zsh/Src/Zle/complete.mdd,v=0A=
retrieving revision 1.7=0A=
diff -u -r1.7 complete.mdd=0A=
--- Src/Zle/complete.mdd	15 Nov 2001 12:35:47 -0000	1.7=0A=
+++ Src/Zle/complete.mdd	6 May 2002 06:22:18 -0000=0A=
@@ -1,7 +1,7 @@=0A=
 name=3Dzsh/complete=0A=
 link=3Deither=0A=
 load=3Dyes=0A=
-functions=3D'Completion/comp* Completion/AIX/*/* Completion/BSD/*/* =
Completion/Base/*/* Completion/Debian/*/* Completion/Mandrake/*/* =
Completion/Redhat/*/* Completion/Unix/*/* Completion/X/*/* =
Completion/Zsh/*/*'=0A=
+functions=3D'Completion/comp* Completion/AIX/*/* Completion/BSD/*/* =
Completion/Base/*/* Completion/Debian/*/* Completion/Linux/*/* =
Completion/Mandrake/*/* Completion/Redhat/*/* Completion/Unix/*/* =
Completion/X/*/* Completion/Zsh/*/*'=0A=
 =0A=
 moddeps=3D"zsh/zle"=0A=
 =0A=

------_=_NextPart_000_01C1F4C7.EBE75480--

