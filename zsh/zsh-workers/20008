From zsh-workers-return-20008-mason-zsh=primenet.com.au@sunsite.dk Wed Jun 02 15:32:53 2004
Return-Path: <zsh-workers-return-20008-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 21412 invoked from network); 2 Jun 2004 15:32:51 -0000
Received: from thor.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.86)
  by ns1.primenet.com.au with SMTP; 2 Jun 2004 15:32:51 -0000
Received: (qmail 9354 invoked from network); 2 Jun 2004 15:32:43 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 2 Jun 2004 15:32:43 -0000
Received: (qmail 26047 invoked by alias); 2 Jun 2004 15:32:41 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 20008
Received: (qmail 26037 invoked from network); 2 Jun 2004 15:32:40 -0000
Received: from thor.dotsrc.org (HELO a.mx.sunsite.dk) (qmailr@130.225.247.86)
  by sunsite.dk with SMTP; 2 Jun 2004 15:32:37 -0000
Received: (qmail 9205 invoked from network); 2 Jun 2004 15:32:37 -0000
Received: from mail36.messagelabs.com (193.109.254.211)
  by a.mx.sunsite.dk with SMTP; 2 Jun 2004 15:32:34 -0000
X-VirusChecked: Checked
X-Env-Sender: okiddle@yahoo.co.uk
X-Msg-Ref: server-11.tower-36.messagelabs.com!1086190325!6686094
X-StarScan-Version: 5.2.10; banners=-,-,-
X-Originating-IP: [158.234.9.163]
Received: (qmail 13887 invoked from network); 2 Jun 2004 15:32:05 -0000
Received: from iris.logica.co.uk (158.234.9.163)
  by server-11.tower-36.messagelabs.com with SMTP; 2 Jun 2004 15:32:05 -0000
Received: from trentino.logica.co.uk ([158.234.142.61])
	by iris.logica.co.uk (8.12.3/8.12.3/Debian -4) with ESMTP id i52FW4UI004821;
	Wed, 2 Jun 2004 16:32:05 +0100
Received: from trentino.logica.co.uk (localhost [127.0.0.1])
	by trentino.logica.co.uk (Postfix) with ESMTP
	id D4C2C7858820; Wed,  2 Jun 2004 17:31:16 +0200 (CEST)
Cc: zsh-workers@sunsite.dk
X-VirusChecked: Checked
X-StarScan-Version: 5.0.7; banners=.,-,-
In-reply-to: <20040601014014.GA1918@iup.edu> 
From: Oliver Kiddle <okiddle@yahoo.co.uk>
References: <20040601014014.GA1918@iup.edu>
To: Jason McCarty <bclg@iup.edu>
Subject: Re: invisible option completions? 
Date: Wed, 02 Jun 2004 17:31:16 +0200
Message-ID: <29273.1086190276@trentino.logica.co.uk>
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, hits=0.0 required=6.0 tests=BAYES_56 autolearn=no 
	version=2.63
X-Spam-Hits: 0.0

Jason McCarty wrote:
> Is it possible with _arguments or some other way to have options that
> can be completed, but aren't displayed on the screen as possible
> completions? I'd like something like
>   _arguments \
>     '(-o)--output[save output in DIR]:DIR:_files -/' \
>     '(--output)-o:DIR:_files -/'
> but where -o doesn't clutter the screen. I know that zsh 4.2 would
> display -o nicely beside --output if I gave it the same explanation, but
> I'd like to support 4.0 as well. Any suggestions?

If you put an exclamation mark before the option description, it won't
be displayed (or completed) but it will still handle the argument:
   '!(--output)-o:DIR:_files -/'

If you want the options to actually be completed too (such as if you
are hiding long option names), then use compadd with the `-n' option.
This won't hide them from menu-selection:
  compadd -n -- -o

Oliver

