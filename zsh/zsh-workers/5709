From zsh-workers-return-5709-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Mar 09 14:05:42 1999
Return-Path: <zsh-workers-return-5709-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5723 invoked from network); 9 Mar 1999 14:05:39 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 9 Mar 1999 14:05:39 -0000
Received: (qmail 21477 invoked by alias); 9 Mar 1999 14:05:17 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 5709
Received: (qmail 21465 invoked from network); 9 Mar 1999 14:05:16 -0000
From: "Andrej Borsenkow" <borsenkow.msk@sni.de>
To: "Sven Wischnowsky" <wischnow@informatik.hu-berlin.de>,
        <zsh-workers@sunsite.auc.dk>
Subject: RE: PATCH: (was Re: _configure does not work)
Date: Tue, 9 Mar 1999 17:04:23 +0300
Message-ID: <005801be6a35$bc25fe10$21c9ca95@mowp.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2013.2901
In-reply-to: <199903091254.NAA14116@beta.informatik.hu-berlin.de>

>
> > 2. l ~/.z/C<TAB>
> >     Beep
> > ~/.zsh.d/Completion exists and was correctly completed before a
> couple of
> > last patches :-)
>
> Hm, this works for me.
>

That what I get with set -x:
bor@itsrm2:~%> l ~/.z/C+ local comp name _comp_correct comax
+ setopt localoptions nullglob rcexpandparam
+ unsetopt markdirs globsubst shwordsplit nounset ksharrays
+ [[ -iprefix '=' ]]
+ [[ ~/.z/C != */* ]]
+ true
+ comp=
+ [[ ! -z  ]]
+ [[ command == command ]]
+ _normal
+ local comp command cmd1 cmd2 pat val name i ret=1
+ command=ls
+ [[ CURRENT -eq 1 ]]
+ [[ l == = ]]
+ [[ ls == */* ]]
+ cmd1=ls
+ whence -p ls
+ eval cmd2=/usr/bin/ls
+ cmd2=/usr/bin/ls
+ pat=zf*
+ val=_zftp
+ [[ ls == zf* || /usr/bin/ls == zf* ]]
+ name=ls
+ comp=
+ [[ -z  ]]
+ name=/usr/bin/ls
+ comp=
+ [[ -z  ]]
+ name=-default-
+ comp=_default
+ [[ -z _default ]]
+ _default
+ compcall
+ _files
+ local nm=0 ret=1
+ _path_files
+ _match_test _path_files
+ ((  compstate[matcher] <= 1  ))
+ local nm prepaths str linepath realpath donepath patstr prepath testpath
rest
+ local tmp1 collect tmp2 suffixes i ignore matchflags opt group sopt pats
gopt
+ local addpfx addsfx expl orig ostr nm=0 menu
+ setopt localoptions nullglob rcexpandparam extendedglob
+ unsetopt markdirs globsubst shwordsplit nounset
+ prepaths=(  )
+ ignore=( )
+ group=( )
+ sopt=-
+ gopt=
+ pats=( )
+ addpfx=( )
+ addsfx=( )
+ expl=( )
+ getopts P:S:W:F:J:V:X:f/g: opt
+ [[ - == - ]]
+ [[ -z  ]]
+ sopt=-f
+ pats=( * )
+ [[ 0 -ne 0 ]]
+ str=\~/.z/C*
+ orig=~/.z/C
+ [[ unambiguous == *menu || 0 -ne 0 ]]
+ ((  ! 0  ))
+ [[ -z  ]]
+ tmp1=( )
+ nm=0
+ [[ -z  ]]
+ compgen -f
+ [[ compstate[nmatches] -eq nm ]]
+ ignore=( -F fignore )
+ [[ \ == ~ ]]
+ linepath=
+ realpath=
+ [[ \ == / ]]
+ [[ \~/.z/C* == (.|..)/* ]]
+ donepath=
+ patstr=\~/.z/C*
+ matchflags=
+ _match_pattern _path_files patstr matchflags
+ [[ -n  ]]
+ patstr=\~*/.z*/C*
+ [[ ~/.z/C == */* ]]
+ tmp1=( )
+ [[ 0 -gt 0 ]]
+ break
+ str=\~*/.z*/C*
+ testpath=
+ ostr=~/.z/C
+ [[ -z  ]]
+ [[ \~*/.z*/C* == */* ]]
+ rest=.z*/C*
+ tmp1=\~*(-/)
+ tmp1=( )
+ [[ 0 -eq 0 ]]
+ continue 2
+ [[ nm -ne compstate[nmatches] ]]
+ [[ 0 -ne 0 ]]
+ return ret
+ return ret
+ ((  0  ))
+ break
+ [[ -n  ]]
bor@itsrm2:~%> l ~/.z/C

