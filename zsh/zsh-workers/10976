From zsh-workers-return-10976-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Apr 27 12:30:12 2000
Return-Path: <zsh-workers-return-10976-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 16286 invoked from network); 27 Apr 2000 12:30:10 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 27 Apr 2000 12:30:10 -0000
Received: (qmail 772 invoked by alias); 27 Apr 2000 12:29:56 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 10976
Received: (qmail 734 invoked from network); 27 Apr 2000 12:29:51 -0000
X-Envelope-Sender-Is: Andrej.Borsenkow@mow.siemens.ru (at relayer goliath.siemens.de)
From: "Andrej Borsenkow" <Andrej.Borsenkow@mow.siemens.ru>
To: "ZSH workers mailing list" <zsh-workers@sunsite.auc.dk>
Subject: PATCH: RE: _make error
Date: Thu, 27 Apr 2000 16:29:44 +0400
Message-ID: <000201bfb044$44a80530$21c9ca95@mow.siemens.ru>
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----=_NextPart_000_0003_01BFB065.CBB9A530"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6700
Importance: Normal
In-reply-to: <000101bfb043$289a9520$21c9ca95@mow.siemens.ru>

This is a multi-part message in MIME format.

------=_NextPart_000_0003_01BFB065.CBB9A530
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: 7bit

>
> In Zsh top level directory (gmake is GNU make)
>
> sudo gmake install.moTAB
>
> resulted in (long long - already scrolled away)
>
> ........
>
> make: Fatal error: don't know how to make .PHONY (bu42).
> dules

It called ``make'' instead of $words[1]. Patch attached because of line
length as usual.

-andrej

------=_NextPart_000_0003_01BFB065.CBB9A530
Content-Type: application/octet-stream;
	name="_make.diff"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: attachment;
	filename="_make.diff"

--- Completion/User/_make.org	Thu Apr 27 16:27:05 2000=0A=
+++ Completion/User/_make	Thu Apr 27 16:26:41 2000=0A=
@@ -33,7 +33,7 @@=0A=
 =0A=
   if [[ -n "$file" ]] && _tags targets; then=0A=
     if [[ -n "$_is_gnu[$words[1]]" ]]; then=0A=
-      tmp=3D( $(make -nsp --no-print-directory -f "$file" .PHONY | awk =
'/^[a-zA-Z0-9][^\/\t=3D]+:/ {print $1}' FS=3D:) )=0A=
+      tmp=3D( $("$words[1]" -nsp --no-print-directory -f "$file" .PHONY =
| awk '/^[a-zA-Z0-9][^\/\t=3D]+:/ {print $1}' FS=3D:) )=0A=
     else=0A=
       tmp=3D(=0A=
             $(awk '/^[a-zA-Z0-9][^\/\t=3D]+:/ {print $1}=0A=

------=_NextPart_000_0003_01BFB065.CBB9A530--

