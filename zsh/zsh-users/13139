From zsh-users-return-13139-mason-zsh=primenet.com.au@sunsite.dk Thu Aug 14 18:39:58 2008
Return-Path: <zsh-users-return-13139-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 28772 invoked from network); 14 Aug 2008 18:39:54 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 14 Aug 2008 18:39:54 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 4050 invoked from network); 14 Aug 2008 18:38:38 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 14 Aug 2008 18:38:38 -0000
Received: (qmail 12549 invoked by alias); 14 Aug 2008 18:37:43 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 13139
Received: (qmail 12519 invoked from network); 14 Aug 2008 18:37:39 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 14 Aug 2008 18:37:39 -0000
Received: from mx.spodhuis.org (redoubt.spodhuis.org [193.202.115.177])
	by bifrost.dotsrc.org (Postfix) with ESMTPS id 5A0D180F75A3
	for <zsh-users@sunsite.dk>; Thu, 14 Aug 2008 20:37:34 +0200 (CEST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws; s=d200807; d=spodhuis.org;
	h=Received:Date:From:To:Cc:Subject:Message-ID:Mail-Followup-To:References:MIME-Version:Content-Type:Content-Disposition:In-Reply-To;
	b=RM5l24xeOHWmHeLTy7Ei/BI8Hlw4noVSXqLT7n0vkon1XNfTozFTAcULP5vNWD92MJH2rSZOd37qsgt/o5VIScPGdyPXmv5yeSTph2oX0UP2tgPUBe/V49FUc0IJeMVIHlpmksUV8PXzUDHY8wj/L5bFpgCO+lQNA5i5oGzKjFo=;
Received: by smtp.spodhuis.org with local 
	id 1KThhP-0000eT-1m; Thu, 14 Aug 2008 18:37:27 +0000
Date: Thu, 14 Aug 2008 11:37:27 -0700
From: Phil Pennock <zsh-workers+phil.pennock@spodhuis.org>
To: Richard Hartmann <richih.mailinglist@gmail.com>
Cc: Dan Nelson <dnelson@allantgroup.com>,
	Aaron Davies <aaron.davies@gmail.com>,
	"Benjamin R. Haskell" <zsh@benizi.com>,
	Zsh Users <zsh-users@sunsite.dk>
Subject: Re: Multi-Minute Startup?
Message-ID: <20080814183726.GA2407@redoubt.spodhuis.org>
Mail-Followup-To: Richard Hartmann <richih.mailinglist@gmail.com>,
	Dan Nelson <dnelson@allantgroup.com>,
	Aaron Davies <aaron.davies@gmail.com>,
	"Benjamin R. Haskell" <zsh@benizi.com>,
	Zsh Users <zsh-users@sunsite.dk>
References: <alpine.LNX.1.10.0808070327310.26055@elation.Princeton.EDU> <c4e763ac0808070152k2846913dn4b637fe9ea275ef2@mail.gmail.com> <alpine.LNX.1.10.0808070509320.26055@elation.Princeton.EDU> <c4e763ac0808071832j6f7393fay158c7a2485ca41c9@mail.gmail.com> <20080808025823.GB68181@dan.emsphone.com> <c4e763ac0808072340l398c5209o1cd6ccd77ec08a7f@mail.gmail.com> <alpine.LNX.1.10.0808081201180.26055@elation.Princeton.EDU> <c4e763ac0808110248g7dedabb9kbe6af57fcb0b8d68@mail.gmail.com> <20080811152909.GA61872@dan.emsphone.com> <2d460de70808140608t7cc8ca48v4117feb57c97ca3b@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <2d460de70808140608t7cc8ca48v4117feb57c97ca3b@mail.gmail.com>
X-Virus-Scanned: ClamAV 0.92.1/8038/Thu Aug 14 17:43:34 2008 on bifrost
X-Virus-Status: Clean

On 2008-08-14 at 15:08 +0200, Richard Hartmann wrote:
> On Mon, Aug 11, 2008 at 17:29, Dan Nelson <dnelson@allantgroup.com> wrote:
> > Raise suggested-size to 1601 (a prime number larger than your current
> > list size with some room to grow).
> 
> Using a prime hints at an interesting reason. What is it?

General hashing algorithm theory.  I forget the math (if I ever knew
it); also, there's a lot of heuristics in there ("that seems to work,
let's go with that").

You tend to not be hashing completely random data and in the absence of
distribution information about the input data, bucketing into a prime
number of slots tends to cause the least pain.

You'll find prime number requirements for many hash bucketing schemes.

-Phil, who should have made more effort to stay awake that lecture

