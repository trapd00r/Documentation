From zsh-workers-request@euclid.skiles.gatech.edu  Wed Oct  9 10:45:33 1996
Return-Path: zsh-workers-request@euclid.skiles.gatech.edu
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by coral.primenet.com.au (8.7.5/8.7.3) with ESMTP id KAA18037 for <mason@primenet.com.au>; Wed, 9 Oct 1996 10:45:31 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id UAA07153; Tue, 8 Oct 1996 20:38:29 -0400 (EDT)
Resent-Date: Tue, 8 Oct 1996 20:38:29 -0400 (EDT)
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <961008174101.ZM4710@candle.brasslantern.com>
Date: Tue, 8 Oct 1996 17:41:01 -0700
In-Reply-To: Zoltan Hidvegi <hzoli@cs.elte.hu>
        "Re: 3.0.1-test3 test release" (Oct  9, 12:04am)
References: <199610082204.AAA11592@bolyai.cs.elte.hu>
Reply-To: schaefer@nbn.com
X-Mailer: Z-Mail (4.0b.820 20aug96)
To: Zoltan Hidvegi <hzoli@cs.elte.hu>
Subject: Re: 3.0.1-test3 test release
Cc: zsh-workers@math.gatech.edu
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Resent-Message-ID: <"8k7Ma3.0.hl1.4GlMo"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/2206
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

On Oct 9, 12:04am, Zoltan Hidvegi wrote:
} Subject: Re: 3.0.1-test3 test release
}
} > zagzig% print -z "$(functions run-help)"
} > zagzig% >....
} > 
} > (Then press ctrl-U approximately a dozen times.)
} 
} It does not dump core here with Linux libc-5.4.7 and ncurses-1.9.8a both
} under xterm and on the console.  What system and what libraries do you use?

It's Linux ELF libc 5.0.9, but I deliberately compiled with zsh-mem to
avoid the potential malloc problems you've described before with that.
GCC 2.7.0, -ltermcap, <termcap.h> and *not* <ncurses/termcap.h>.

} What is the termcap/terminfo file you use?

The specific terminal entry is:

xterm|vs100|xterm terminal emulator (X window system):\
        :do=^J:le=^H:ho=\E[H:\
        :co#80:li#65:cl=\E[H\E[2J:bs:am:cm=\E[%i%d;%dH:nd=\E[C:up=\E[A:\
        :ce=\E[K:cd=\E[J:so=\E[7m:se=\E[m:us=\E[4m:ue=\E[m:\
        :md=\E[1m:mr=\E[7m:me=\E[m:\
        :ku=\EOA:kd=\EOB:kr=\EOC:kl=\EOD:kb=^H:\
        :k1=\EOP:k2=\EOQ:k3=\EOR:k4=\EOS:pt:sf=\n:sr=\EM:\
        :al=\E[L:dl=\E[M:im=\E[4h:ei=\E[4l:mi:dc=\E[P:\
        :MT:ks=\E[?1h\E=:ke=\E[?1l\E>:xn:\
        :AL=\E[%dL:DL=\E[%dM:DC=\E[%dP:\
        :hs:ts=\E[?E\E[?%i%dT:fs=\E[?F:es:ds=\E[?E:\
        :is=\E\E[m\E[?7h\E[?1;4l:cs=\E[%i%d;%dr:\
        :rs=\E[r\E<\E[m\E[H\E[2J\E[?7h\E[?1;3;4;6l:

I tried a different termcap entry, and it didn't dump core in that case,
but with the one above it crashes just scrolling backwards and forwards
through the history if any command spans more than one line.

-- 
Bart Schaefer                             Brass Lantern Enterprises
http://www.well.com/user/barts            http://www.nbn.com/people/lantern

New male in /home/schaefer:
>N  2 Justin William Schaefer  Sat May 11 03:43  53/4040  "Happy Birthday"

