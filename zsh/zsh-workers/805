From zsh-workers-request@euclid.skiles.gatech.edu  Fri Mar  8 05:31:17 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by melb.werple.net.au (8.7.4/8.7.3) with ESMTP id FAA24550 for <mason@werple.mira.net.au>; Fri, 8 Mar 1996 05:31:15 +1100 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id NAA21167; Thu, 7 Mar 1996 13:17:40 -0500 (EST)
Resent-Date: Thu, 7 Mar 1996 13:17:40 -0500 (EST)
From: Zoltan Hidvegi <hzoli@cs.elte.hu>
Message-Id: <199603071817.TAA19250@bolyai.cs.elte.hu>
Subject: hzoli13 bugfix to make $(<~/foo) work
To: zsh-workers@math.gatech.edu (zsh-workers)
Date: Thu, 7 Mar 1996 19:17:03 +0100 (MET)
Organization: Dept. of Comp. Sci., Eotvos University, Budapest, Hungary
Phone: (36 1)2669833 ext: 2667, home phone: (36 1) 2752368
X-Mailer: ELM [version 2.4 PL24 PGP3 *ALPHA*]
Mime-Version: 1.0
Content-Type: application/pgp
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"UZand3.0.fA5.3XoFn"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/805
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu
Status: OR

-----BEGIN PGP SIGNED MESSAGE-----

Unfortunately $(<~/foo) stopped working in hzoli13 (i.e. tilde and
equals expansion inside $(<...)).  The problem is I accidently deleted
the four lines which did this.  Below is a patch which makes it working
again.  Also the ~ and = expansion changes Danek Duvall complaind about
are described in the zshexpn manual page.  I think that this change
makes syntax more consistent.

Zoltan

 *** Src/exec.c	1996/03/04 00:58:54	1.13
 --- Src/exec.c	1996/03/07 17:39:11
 ***************
 *** 1900,1905 ****
 --- 1900,1909 ----
   	strncpy(fi, cmd, l);
   	fi[l] = '\0';
   	parsestr(fi);
 + 	if (*fi == '~')
 + 	    *fi = Tilde;
 + 	else if (*fi == '=')
 + 	    *fi = Equals;
   	singsub(&fi);
   	if (errflag)
   	    return NULL;

-----BEGIN PGP SIGNATURE-----
Version: 2.6.3i
Charset: noconv

iQCVAwUBMT8oHQupSCiLN749AQGf2gP+MvzWvgWfpzyPchvvScBwT0C3/JFGKMH/
1jDZixwqARvYtHDb7jKgu+z2/COxKc2vLCi6AZHAFMuQDdTCVON+dBl5tcP2yAs7
W7Hg56SptzPT7H9KFvU2oZk2jQp0NRMf9v3JClLeGlWWBv905KVvXuQQoKaExJRc
3C6HeSBZLVM=
=9F3E
-----END PGP SIGNATURE-----

