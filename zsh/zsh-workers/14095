From zsh-workers-return-14095-mason-zsh=primenet.com.au@sunsite.dk Wed Apr 25 14:57:51 2001
Return-Path: <zsh-workers-return-14095-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4853 invoked from network); 25 Apr 2001 14:57:50 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 25 Apr 2001 14:57:50 -0000
Received: (qmail 27058 invoked by alias); 25 Apr 2001 14:57:44 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 14095
Received: (qmail 27040 invoked from network); 25 Apr 2001 14:57:43 -0000
Date: Wed, 25 Apr 2001 10:57:30 -0400
From: Clint Adams <schizo@debian.org>
To: Bart Schaefer <schaefer@candle.brasslantern.com>
Cc: Peter Stephenson <pws@csr.com>, Zsh hackers list <zsh-workers@sunsite.dk>
Subject: Re: Make Failure on SunOS-4.1
Message-ID: <20010425105730.A24050@dman.com>
References: <Tc0a88d015321834e70@mailsweeper01.cambridgesiliconradio.com> <1010425144152.ZM11080@candle.brasslantern.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5i
In-Reply-To: <1010425144152.ZM11080@candle.brasslantern.com>; from schaefer@candle.brasslantern.com on Wed, Apr 25, 2001 at 02:41:52PM +0000

> We could back out the `termcap' parameter entirely, and we could back out
> the ability to use ${(k)terminfo} -- those were the changes that started
> requiring the ncurses header files to be included even on systems that
> have the old termcap as well.

Or, since I think that the only dependency on term.h is for the
{bool,num,str}codes, those could be made static under whatever
circumstances would call for that.
 
> Or we could change the termcap-search-order in configure.in to always try
> to find ncurses first, and skip defining HAVE_TERMCAP_H when we find the
> ncurses headers.  (My understanding is that in the distant past of zsh,
> there were some who objected to linking the shell against curses when it
> would be sufficient to link against termcap, because curses is bloated.)
>
> Or we could add another --enable flag, which switches between the two
> states described above (in which case it should probably disable the
> terminfo parameter entirely rather than just crippling it).

All of these seem reasonable to me.

