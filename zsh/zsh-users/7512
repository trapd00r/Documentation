From zsh-users-return-7512-mason-zsh=primenet.com.au@sunsite.dk Fri Jun 11 05:34:36 2004
Return-Path: <zsh-users-return-7512-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 3042 invoked from network); 11 Jun 2004 05:34:35 -0000
Received: from thor.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.86)
  by ns1.primenet.com.au with SMTP; 11 Jun 2004 05:34:35 -0000
Received: (qmail 25963 invoked from network); 11 Jun 2004 05:33:54 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 11 Jun 2004 05:33:54 -0000
Received: (qmail 29236 invoked by alias); 11 Jun 2004 05:33:41 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 7512
Received: (qmail 29226 invoked from network); 11 Jun 2004 05:33:41 -0000
Received: from thor.dotsrc.org (HELO a.mx.sunsite.dk) (qmailr@130.225.247.86)
  by sunsite.dk with SMTP; 11 Jun 2004 05:33:38 -0000
Received: (qmail 25264 invoked from network); 11 Jun 2004 05:33:38 -0000
Received: from dsl3-63-249-88-2.cruzio.com (HELO binome.blorf.net) (63.249.88.2)
  by a.mx.sunsite.dk with SMTP; 11 Jun 2004 05:33:35 -0000
Received: by binome.blorf.net (Postfix, from userid 1000)
	id 0C32A22B; Thu, 10 Jun 2004 22:33:33 -0700 (PDT)
Date: Thu, 10 Jun 2004 22:33:33 -0700
From: Wayne Davison <wayned@users.sourceforge.net>
To: Aaron Davies <agdavi01@louisville.edu>
Cc: zsh-users@sunsite.dk
Subject: Re: zsh in GNU Screen--Login Shell?
Message-ID: <20040611053333.GA18939@blorf.net>
References: <32558B5E-BB54-11D8-A02B-000A95EDC31A@louisville.edu>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <32558B5E-BB54-11D8-A02B-000A95EDC31A@louisville.edu>
User-Agent: Mutt/1.5.5.1+cvs20040105i
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, hits=0.0 required=6.0 tests=none autolearn=no version=2.63
X-Spam-Hits: 0.0

On Thu, Jun 10, 2004 at 11:05:30PM -0400, Aaron Davies wrote:
> Does anyone have any experience running zsh inside GNU Screen?

Sure, I've used that combination for many, many years now (I think I was
using zsh back when I was maintaining screen, oh so many years ago).

> GenToo linux, GNU Screen 4.00.01, and zsh 4.2.0, and it appears to have 
> changed--zprofile seems to be executing too.

I'm using debian with screen 4.00.02 and zsh 4.2.0 without this problem,
so it's probably something that has been customized by the gentoo folks.
It might be something as simple as them setting the shell to a value
that begins with a '-' in the /etc/screenrc file (or wherever it is on
gentoo these days).  Look for a line like this:

shell -$SHELL

In fact, I decided to rsync the app-misc/screen dir from portage (I used
to use gentoo a while back), and they have that exact line in their
screenrc file.  Just comment it out and you should be fine.

..wayne..

