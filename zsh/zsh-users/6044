From zsh-users-return-6044-mason-zsh=primenet.com.au@sunsite.dk Wed Apr 23 09:44:51 2003
Return-Path: <zsh-users-return-6044-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 20362 invoked from network); 23 Apr 2003 09:44:50 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 23 Apr 2003 09:44:50 -0000
Received: (qmail 2041 invoked by alias); 23 Apr 2003 09:44:34 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 6044
Received: (qmail 2033 invoked from network); 23 Apr 2003 09:44:34 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 23 Apr 2003 09:44:34 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [212.125.75.4] by sunsite.dk (MessageWall 1.0.8) with SMTP; 23 Apr 2003 9:44:34 -0000
Received: (qmail 28564 invoked from network); 23 Apr 2003 09:43:47 -0000
Received: from iris.logica.co.uk (158.234.9.163)
  by server-7.tower-1.messagelabs.com with SMTP; 23 Apr 2003 09:43:47 -0000
Received: from gmcs3.logica.co.uk ([158.234.142.61])
	by iris.logica.co.uk (8.9.3/8.9.3/Debian 8.9.3-21) with ESMTP id KAA06122;
	Wed, 23 Apr 2003 10:43:46 +0100
X-Authentication-Warning: iris.logica.co.uk: Host [158.234.142.61] claimed to be gmcs3.logica.co.uk
Received: from gmcs3.logica.co.uk (localhost [127.0.0.1])
	by gmcs3.logica.co.uk (8.11.6/8.11.6/SuSE Linux 0.5) with ESMTP id h3N9hWF22461;
	Wed, 23 Apr 2003 11:43:32 +0200
X-VirusChecked: Checked
In-reply-to: <20030422180942.GA422@os.polanet.pl> 
From: Oliver Kiddle <okiddle@yahoo.co.uk>
References: <20030422105227.GA1929@os.polanet.pl> <13659.1051014623@gmcs3.logica.co.uk> <20030422180942.GA422@os.polanet.pl>
To: GoTaR <gotar@poczta.onet.pl>
cc: zsh-users@sunsite.dk
Subject: Re: Expand from completion 
Date: Wed, 23 Apr 2003 11:43:31 +0200
Message-ID: <22459.1051091011@gmcs3.logica.co.uk>

You wrote:
> > Then put `all-matches' in the widget part of the context for any styles
> > you want to set. As a minimum, you'll need to set the completer style:
> >   zstyle ':completion:all-matches::::' completer _all_matches _complete _match
> 
> Yeah, that's almost it, thanks! But two more questions:
> 
> ~: rpm -q *devel*[^Xx]
> ~: rpm -q ORBit-devel-0.5.17-2                                                 Tue 22 20:04:59 tty2
> RPM package                   _
> ORBit-devel-0.5.17-2                  esound-devel-0.2.29-1      libstdc++-devel-3.2.2-0.5
> SDL-devel-1.2.5-4                     expat-devel-1.95.6-2       libtiff-devel-3.6.0-0.beta.1
> [...]
> all matches
> ORBit-devel-0.5.17-2 SDL-devel-1.2.5-4 SDL_image-devel-1.2.3-1 SDL_mix
> 
> cursor goes in place of '_', so that moving around completions messes
> screen. How to avoid this?

I can't reproduce that problem so I'm not sure.

>  And second - how to make 'all matches' go
> directly into command line, without showing 'RPM package' with list?

When I wanted to do that myself, I added the insert style to
_all_matches but that change is only in zsh 4.1. So in 4.1, you can do:
  zstyle ':completion:all-matches:*' insert true

If you want to stick with 4.0, you could probably just take the
_all_matches patch from 16923 and put the modified _all_matches
somewhere early in your $fpath.

I also find it useful to set:
  zstyle ':completion:all-matches:*' old-matches true
so that if an existing list is displayed, perhaps from a different
completer, I can press ^Xx and it will insert all the matches from the
existing list.

Oliver

