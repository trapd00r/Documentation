From zsh-workers-return-20608-mason-zsh=primenet.com.au@sunsite.dk Wed Dec 08 13:34:21 2004
Return-Path: <zsh-workers-return-20608-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 26946 invoked from network); 8 Dec 2004 13:34:20 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 8 Dec 2004 13:34:20 -0000
Received: (qmail 56257 invoked from network); 8 Dec 2004 13:34:14 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 8 Dec 2004 13:34:14 -0000
Received: (qmail 27873 invoked by alias); 8 Dec 2004 13:34:11 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 20608
Received: (qmail 27857 invoked from network); 8 Dec 2004 13:34:10 -0000
Received: from unknown (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 8 Dec 2004 13:34:10 -0000
Received: (qmail 55714 invoked from network); 8 Dec 2004 13:33:11 -0000
Received: from caraldi.com (HELO oxyd.caraldi.com) (195.137.249.52)
  by a.mx.sunsite.dk with SMTP; 8 Dec 2004 13:33:09 -0000
Received: from vision.anyware (unknown [84.96.21.10])
	by oxyd.caraldi.com (Postfix) with ESMTP id 052F32267
	for <zsh-workers@sunsite.dk>; Wed,  8 Dec 2004 14:33:09 +0100 (CET)
Received: by vision.anyware (Postfix, from userid 615)
	id E74D062A3; Wed,  8 Dec 2004 14:33:49 +0100 (CET)
Date: Wed, 8 Dec 2004 14:33:49 +0100
From: Jean-Baptiste Quenot <jb.quenot@caraldi.com>
To: zsh-workers@sunsite.dk
Subject: Re: [PATCH] Ant completion improvement
Message-ID: <20041208133347.GC86595@vision.anyware>
Mail-Followup-To: Jean-Baptiste Quenot <jb.quenot@caraldi.com>,
	zsh-workers@sunsite.dk
References: <20041206104117.GB1617@vision.anyware> <20041208125240.GG3924@localhost.localdomain>
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
In-Reply-To: <20041208125240.GG3924@localhost.localdomain>
User-Agent: Mutt/1.5.6i
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, hits=0.0 required=6.0 tests=none autolearn=no version=2.63
X-Spam-Hits: 0.0

* Doug Kearns:
> > 2) match the target's "name" attribute not just on the first position
> 
> It looks as though a variant of this has already been committed as a
> result of your patch posted to the list on 24/08/04.

OK I understand now, you mean it's committed but not in zsh 4.2.1?
I will try to get the latest zsh from CVS.

> Why not just:
> 
>            targets=( $(sed -n "s/<target name=[\"']\([^\"']*\)[\"'].*/\1/p" < $buildfile) )
> 
> Either way I don't see why this would fail with leading tabs. What am I
> missing?

No it doesn't fail with leading tabs, it's just a « cosmetic »
cleanup.

Sorry for posting this patch a second time, I didn't remember the
patch submitted Tue, 24 Aug 2004 as I use zsh 4.2.1.

Just a note, I would replace:

<target[^>]*

With:

<target *[^>]*

Just to be sure that we don't match <targetfoobar ...

Sorry for the noise,
-- 
Jean-Baptiste Quenot
http://caraldi.com/jbq/

