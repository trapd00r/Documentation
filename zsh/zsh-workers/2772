From zsh-workers-request@euclid.skiles.gatech.edu Fri Jan 10 19:25:59 1997
Return-Path: <zsh-workers-request@euclid.skiles.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 1076 invoked from network); 10 Jan 1997 19:25:05 -0000
Received: from euclid.skiles.gatech.edu (list@130.207.146.50)
  by coral.primenet.com.au with SMTP; 10 Jan 1997 19:25:05 -0000
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id OAA14169; Fri, 10 Jan 1997 14:15:59 -0500 (EST)
Resent-Date: Fri, 10 Jan 1997 14:15:59 -0500 (EST)
Message-Id: <9701101916.AA09155@raven.cg.tuwien.ac.at>
Content-Type: text/plain
Mime-Version: 1.0 (NeXT Mail 3.3 v118.2)
X-Image-Url: http://www.cg.tuwien.ac.at/~rft/XImage/1996-01-15.tiff
In-Reply-To: <199701101521.HAA26912@PEAK.ORG>
X-Nextstep-Mailer: Mail 3.3 (Enhance 1.3)
Original-Received: by NeXT.Mailer (1.118.2)
PP-warning: Illegal Received field on preceding line
From: Robert F Tobler <rft@raven.cg.tuwien.ac.at>
Date: Fri, 10 Jan 97 20:17:02 +0100
To: luomat@peak.org
Subject: Re: Nextstep screen update problem with zsh 3.0.2
Cc: Zsh Workers <zsh-workers@math.gatech.edu>
Reply-To: rft@titus.cg.tuwien.ac.at
References: <9701050001.AA05183@raven.cg.tuwien.ac.at> <199701101521.HAA26912@PEAK.ORG>
Resent-Message-ID: <"JF2522.0.HT3.kLfro"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/2772
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

You wrote:
> Responding To:	Robert F Tobler <rft@raven.cg.tuwien.ac.at>
> Original Date:	Sun, 5 Jan 97 01:01:21 +0100
> Message-ID: 	<9701050001.AA05183@raven.cg.tuwien.ac.at>
>
> > Since I like the zsh very much, I hope you can fix this problem.
>
> Someone sent me this vt100
>
> d0|vt100|vt100-am|vt100am|dec vt100:\
> :do=^J:co#80:li#24:cl=\E[;H\E[2J:sf=2*\ED:\
> :le=^H:bs:am:cm=5\E[%i%d;%dH:nd=2\E[C:up=2\E[A:\
> :ce=3\E[K:cd=50\E[J:so=2\E[7m:se=2\E[m:us=2\E[4m:ue=2\E[m:\
> :md=2\E[1m:mr=2\E[7m:mb=2\E[5m:me=2\E[m:\
> :rf=/usr/lib/tabset/vt100:\
> :rs=\E>\E[?3l\E[?4l\E[?5l\E[?7h\E[?8h\E[;r\E[0m\E(B\E)B\E[2J:\
> :ks=\E[?1h\E=:ke=\E[?1l\E>:\
> :ku=\EOA:kd=\EOB:kr=\EOC:kl=\EOD:kb=^H:\
> :ho=\E[H:k1=\EOP:k2=\EOQ:k3=\EOR:k4=\EOS:pt:sr=2*\EM:vt#3:xn:\
> :sc=\E7:rc=\E8:cs=\E[%i%d;%dr:
>
>
> which I think is better than the one NeXTStep ships with. There's also a
> "vs100" that also seems to work very well.
>

The zsh-entry you sent me is exactly the one I have in my /etc/termcap.  I  
think its actually the one thats supplied by Next, since I don't remember  
having modified my entry.  So this doesn't change my problem.

I tried the "vs100" and found out, that the specific update bug, I reported  
is fixed by vs100, but then another update bug appears: when inserting into  
the first line of a command thats longer than one line, the part from the  
cursor to the end of the line is not updated.  So my guess is, that a fix of  
next's vt100 termcap entry is possible, by taking some part out of the vs100  
termcap, but I am completely unfamiliar with vt100 escape codes and termcap  
entries.  Maybe someone who knows about these things could fix it?  Thanks in  
advance for any efforts!  I would really like to always use the newes zsh  
version!

For your reference:
vt|xterm|vs100|4315x|xterm terminal emulator (X window system), VAXstation II:\
        :cr=^M:do=^J:nl=^J:bl=^G:le=^H:ho=\E[H:\
        :co#80:li#24:cl=\E[H\E[2J:bs:am:xn:cm=\E[%i%d;%dH:nd=\E[C:up=\E[A:\
        :ce=\E[K:cd=\E[J:so=\E[7m:se=\E[m:us=\E[4m:ue=\E[m:\
        :md=\E[1m:mr=\E[7m:me=\E[m:\
        :ku=\EOA:kd=\EOB:kr=\EOC:kl=\EOD:kb=^H:\
        :k1=\EOP:k2=\EOQ:k3=\EOR:k4=\EOS:ta=^I:pt:sf=\n:sr=\EM:\
        :al=\E[L:dl=\E[M:ic=\E[@:dc=\E[P:\
        :ks=:ke=:sc=\E7\
        :is=\E[r\E<\E[m\E[2J\E[H\E[?7h\E[?3;4;6l:\
        :rs=\E[r\E<\E[m\E[2J\E[H\E[?7h\E[?3;4;6l:\
        :ti=\E7\E[?47h:te=\E[?47l\E8:\
        :hs:ts=\E[?E\E[?%i%dT:fs=\E[?F:es:ds=\E[?E:\
        :CV=\E[%i%oH:DC=\E[%dP:IC=\E[%d@:\
        :AL=\E[%dL:DL=\E[%dM:MT:

------------------------------------------------------------------------
  Robert F. Tobler                 -  tel:+43(1)58801-4585,fax:5874932
  Institute of Computer Graphics   -  mailto:rft@cg.tuwien.ac.at
  Vienna University of Technology  -  http://www.cg.tuwien.ac.at/~rft/

