From zsh-users-return-10580-mason-zsh=primenet.com.au@sunsite.dk Sun Aug 06 01:57:07 2006
Return-Path: <zsh-users-return-10580-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 19575 invoked from network); 6 Aug 2006 01:57:05 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.4 (2006-07-25) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.9 required=5.0 tests=AWL,BAYES_00,
	FORGED_RCVD_HELO autolearn=ham version=3.1.4
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 6 Aug 2006 01:57:05 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 87195 invoked from network); 6 Aug 2006 01:56:57 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 6 Aug 2006 01:56:57 -0000
Received: (qmail 12177 invoked by alias); 6 Aug 2006 01:56:43 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 10580
Received: (qmail 12166 invoked from network); 6 Aug 2006 01:56:41 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 6 Aug 2006 01:56:41 -0000
Received: (qmail 86075 invoked from network); 6 Aug 2006 01:56:40 -0000
Received: from ug-out-1314.google.com (66.249.92.168)
  by a.mx.sunsite.dk with SMTP; 6 Aug 2006 01:56:39 -0000
Received: by ug-out-1314.google.com with SMTP id c2so709043ugf
        for <zsh-users@sunsite.dk>; Sat, 05 Aug 2006 18:56:39 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=rpai9r/jNnBOEs8etmjvJShMfS0DNKd3Fula2ugUEaTGPclznzQR6DW61kI93gMhely6X2W8LS+3F9jVkqBX/5Ov1lEIpBv3tngl9BVh25djCTYZqOjXTzYruWAJGP5wqLuD1NNyRXFKrWcScyki9KghyR1fnv/n2PwIbl4CrqE=
Received: by 10.66.240.12 with SMTP id n12mr6475780ugh;
        Sat, 05 Aug 2006 18:56:39 -0700 (PDT)
Received: by 10.66.238.10 with HTTP; Sat, 5 Aug 2006 18:56:39 -0700 (PDT)
Message-ID: <488030720608051856t53ccbef0ie69a1c2bcc385eb6@mail.gmail.com>
Date: Sat, 5 Aug 2006 18:56:39 -0700
From: "John Reese" <john.reese@gmail.com>
To: "Zsh Users" <zsh-users@sunsite.dk>
Subject: Feature creep suggestion: make <<- more flexible
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I like the idea of <<- because it makes scripts prettier by not
requiring sudden mid-script de-indentation, but since it only works
for tabs I usually end up not using it and going for grungier
workarounds like:

sed 's/^    //' << END
...
END | cmd

Is there any reason it should have to be tabs?  Why not just strip any
sequence of spaces and tabs? If backwards compatibility is an issue in
just this one tiny corner of zsh, you could make it controlled by an
option.

See, I live in a tab-hating 80-column-constrained world where tabs are
always 8 wide in case someone else uses them expecting things to line
up, but where I avoid using them myself, especially in cases like here
documents where I might be trying to generate a nearly 80 column
document from within an 80 column shell script.

In fact, I think it'd be even more useful if it just looked at the
first line to see what leading whitespace it had and stripped just
that from all succeeding lines.  That way you could have lines within
the here document that were more indented than other lines in the
output.

