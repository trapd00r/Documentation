From zsh-workers-return-23453-mason-zsh=primenet.com.au@sunsite.dk Tue May 22 05:37:47 2007
Return-Path: <zsh-workers-return-23453-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 324 invoked from network); 22 May 2007 05:37:46 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.0 (2007-05-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00 autolearn=no
	version=3.2.0
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 22 May 2007 05:37:46 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 37445 invoked from network); 22 May 2007 05:37:39 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 22 May 2007 05:37:39 -0000
Received: (qmail 10159 invoked by alias); 22 May 2007 05:37:36 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 23453
Received: (qmail 10148 invoked from network); 22 May 2007 05:37:36 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 22 May 2007 05:37:36 -0000
Received: (qmail 37151 invoked from network); 22 May 2007 05:37:36 -0000
Received: from vms044pub.verizon.net (206.46.252.44)
  by a.mx.sunsite.dk with SMTP; 22 May 2007 05:37:32 -0000
Received: from torch.brasslantern.com ([71.116.88.130])
 by vms044.mailsrvcs.net (Sun Java System Messaging Server 6.2-6.01 (built Apr
 3 2006)) with ESMTPA id <0JIF003NVGYI2ROF@vms044.mailsrvcs.net> for
 zsh-workers@sunsite.dk; Tue, 22 May 2007 00:37:31 -0500 (CDT)
Received: from torch.brasslantern.com (localhost.localdomain [127.0.0.1])
	by torch.brasslantern.com (8.13.1/8.13.1) with ESMTP id l4M5bTPh006173	for
 <zsh-workers@sunsite.dk>; Mon, 21 May 2007 22:37:30 -0700
Received: (from schaefer@localhost)	by torch.brasslantern.com
 (8.13.1/8.13.1/Submit) id l4M5bTWj006172	for zsh-workers@sunsite.dk; Mon,
 21 May 2007 22:37:29 -0700
Date: Mon, 21 May 2007 22:37:29 -0700
From: Bart Schaefer <schaefer@brasslantern.com>
Subject: Re: bindkey <whatever> history-beginning-search-backwards; echo
 $widgts = crash
In-reply-to: <20070522033237.GA4576@finlandia.home.infodrom.org>
To: Zsh-Workers <zsh-workers@sunsite.dk>
Message-id: <070521223729.ZM6171@torch.brasslantern.com>
MIME-version: 1.0
X-Mailer: OpenZMail Classic (0.9.2 24April2005)
Content-type: text/plain; charset=us-ascii
References: <20070521202131.GA14758@finlandia.home.infodrom.org>
	<20070522014632.GA11326@redoubt.spodhuis.org>
	<20070522033237.GA4576@finlandia.home.infodrom.org>
Comments: In reply to Maddi Kopfermann <matthi@infodrom.north.de>
 "Re: bindkey <whatever> history-beginning-search-backwards; echo $widgts =
 crash" (May 22,  5:32am)

On May 22,  5:32am, Maddi Kopfermann wrote:
} 
} > This is a bug when there is no widget with the supplied name;
} 
} Sadly not only in that case!

Why do you think so?  In every example you gave, you first bound a key
to a widget that does not exist, and then tried to echo $widgets.

} zsh -fc "bindkey '^o' history-beginning-<TAB> && echo $widgets"
} crashes the shell
} 
} the attempt to let completion work crashes the shell.

I don't understand what that example is supposed to be showing.  What
do you mean by "let completion work"?  Completion only happens in the
line editor in an interactive shell, you can't pass a literal tab to
zsh -fc and expect anything to happen.  And even if you mean that you
did type a tab in ZLE, the completion you show would be ambiguous --
ordinarily it would take more than one tab at that position to complete
a valid widget name.

