From zsh-workers-return-25350-mason-zsh=primenet.com.au@sunsite.dk Wed Jul 30 08:22:58 2008
Return-Path: <zsh-workers-return-25350-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 147 invoked from network); 30 Jul 2008 08:22:56 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 30 Jul 2008 08:22:56 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 26820 invoked from network); 30 Jul 2008 08:22:47 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 30 Jul 2008 08:22:47 -0000
Received: (qmail 10327 invoked by alias); 30 Jul 2008 08:22:45 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 25350
Received: (qmail 10313 invoked from network); 30 Jul 2008 08:22:44 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 30 Jul 2008 08:22:44 -0000
Received: from cluster-g.mailcontrol.com (cluster-g.mailcontrol.com [208.87.233.190])
	by bifrost.dotsrc.org (Postfix) with ESMTPS id EF48480561C9
	for <zsh-workers@sunsite.dk>; Wed, 30 Jul 2008 10:22:41 +0200 (CEST)
Received: from cameurexb01.EUROPE.ROOT.PRI ([193.128.72.68])
	by rly21g.srv.mailcontrol.com (MailControl) with ESMTP id m6U8Mc7U029920
	for <zsh-workers@sunsite.dk>; Wed, 30 Jul 2008 09:22:39 +0100
Received: from news01.csr.com ([10.103.143.38]) by cameurexb01.EUROPE.ROOT.PRI with Microsoft SMTPSVC(6.0.3790.3959);
	 Wed, 30 Jul 2008 09:22:37 +0100
Received: from news01.csr.com (localhost.localdomain [127.0.0.1])
	by news01.csr.com (8.14.2/8.13.4) with ESMTP id m6U8Mc0j016199
	for <zsh-workers@sunsite.dk>; Wed, 30 Jul 2008 09:22:38 +0100
Received: from csr.com (pws@localhost)
	by news01.csr.com (8.14.2/8.14.2/Submit) with ESMTP id m6U8Mbp5016195
	for <zsh-workers@sunsite.dk>; Wed, 30 Jul 2008 09:22:38 +0100
Message-Id: <200807300822.m6U8Mbp5016195@news01.csr.com>
X-Authentication-Warning: news01.csr.com: pws owned process doing -bs
To: zsh-workers@sunsite.dk
Subject: Re: Getting source file and line number of a function.
In-reply-to: <6cd6de210807291931u233de5tcf021f6b323163db@mail.gmail.com>
References: <6cd6de210807261806r7ff184fdtcc7859cca0a98aef@mail.gmail.com> <200807280834.m6S8YEVo026326@news01.csr.com> <6cd6de210807280546k14a1a59fo40cb6ed968b1227b@mail.gmail.com> <6cd6de210807291931u233de5tcf021f6b323163db@mail.gmail.com>
Comments: In-reply-to "Rocky Bernstein" <rocky.bernstein@gmail.com>
   message dated "Tue, 29 Jul 2008 22:31:13 -0400."
Date: Wed, 30 Jul 2008 09:22:37 +0100
From: Peter Stephenson <pws@csr.com>
X-OriginalArrivalTime: 30 Jul 2008 08:22:38.0181 (UTC) FILETIME=[6D4D3950:01C8F21D]
X-Scanned-By: MailControl A-08-50-03 (www.mailcontrol.com) on 10.71.0.131
X-Virus-Scanned: ClamAV 0.92.1/7888/Wed Jul 30 09:23:13 2008 on bifrost
X-Virus-Status: Clean

"Rocky Bernstein" wrote:
> Attached is slight improvement on the patch posted before - it adds
> source files to be put in functrace.

I'm still working on the original---there's a lot that needs doing
because getting all the different parts right is complicated.  I'm still
wondering how to get the line numbers for autoloaded functions correct
(this seems to be an existing problem no one had noticed).  So you'd
better wait until I have a revised version of that before modifying it.

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR PLC, Churchill House, Cambridge Business Park, Cowley Road
Cambridge, CB4 0WZ, UK                          Tel: +44 (0)1223 692070

