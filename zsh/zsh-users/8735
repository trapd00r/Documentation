From zsh-users-return-8735-mason-zsh=primenet.com.au@sunsite.dk Fri Apr 22 03:23:09 2005
Return-Path: <zsh-users-return-8735-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4053 invoked from network); 22 Apr 2005 03:23:08 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 22 Apr 2005 03:23:08 -0000
Received: (qmail 67873 invoked from network); 22 Apr 2005 03:23:01 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 22 Apr 2005 03:23:01 -0000
Received: (qmail 19939 invoked by alias); 22 Apr 2005 03:22:51 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8735
Received: (qmail 19924 invoked from network); 22 Apr 2005 03:22:50 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 22 Apr 2005 03:22:50 -0000
Received: (qmail 66833 invoked from network); 22 Apr 2005 03:22:50 -0000
Received: from ip-66-80-62-153.dsl.sca.megapath.net (HELO ripple.fruitbat.org) (66.80.62.153)
  by a.mx.sunsite.dk with SMTP; 22 Apr 2005 03:22:45 -0000
Received: (from daemon@localhost)
	by ripple.fruitbat.org (8.10.2/8.8.8/PAC-1.3) id j3M3M6110584;
	Thu, 21 Apr 2005 20:22:06 -0700
Received: from ming.fruitbat.org(192.168.1.2) by ripple.fruitbat.org via smap (V2.1/2.1+anti-relay+anti-spam)
	id xma010581; Thu, 21 Apr 05 20:21:41 -0700
Received: from gremlin.fruitbat.org (IDENT:202@gremlin.fruitbat.org [192.168.1.4])
	by ming.fruitbat.org (8.12.10/8.10.2/PAC-1.6) with ESMTP id j3M3IUSq018409;
	Thu, 21 Apr 2005 20:18:30 -0700
Date: Thu, 21 Apr 2005 20:18:22 -0700 (PDT)
From: "Peter A. Castro" <doctor@fruitbat.org>
To: "S. Cowles" <scowles@earthlink.net>
cc: Zsh Users <zsh-users@sunsite.dk>, Cygwin List <cygwin@cygwin.com>
Subject: Re: zsh 4.3.0 dev 1 with cygwin1.dll 1.5.15
In-Reply-To: <200504191819.38623.scowles@earthlink.net>
Message-ID: <Pine.LNX.4.60.0504212016430.26027@gremlin.fruitbat.org>
References: <200504191819.38623.scowles@earthlink.net>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=6.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.6

On Tue, 19 Apr 2005, S. Cowles wrote:

> I don't have a clear perception which mailing list is the more appropriate for
> this question, so I've sent a version of this message to the cygwin users'
> mailing list and to the zsh users' list.  Any help would be appreciated.

This is really a Cygwin issue.  If you can wait, I'm building this version
right now and maybe I'll be able to give you a better answer as to what's
going on.

> The problem is that I have had no success running zsh 4.3.0 dev 1 on the last
> two releases of cygwin1.dll,
>
> CYGWIN_NT-5.1 host 1.5.14(0.126/4/2) 2005-04-01 13:40 i686
> CYGWIN_NT-5.1 host 1.5.15(0.127/4/2) 2005-04-18 12:20 i686
>
> The builds of zsh proceed with no undue problems, but test A05 fails.  The
> following is the message from running the cvs version of 4.3.0 dev 1 (pulled
> about 10h00 PDT, GMT +0700, 19 apr 2005) against cygwin1.dll
> 1.5.15(0.127/4/2):
>
> ./A05execution.ztst: starting.
> Test ./A05execution.ztst failed: bad status 1, expected 0 from:
>  path=($ZTST_testdir/command.tmp/dir1
>        $ZTST_testdir/command.tmp/dir2
>        .)
>  tstcmd
>  path=($storepath)
> Error output:
>      6 [main] zsh 2052 fork_parent: child 3084 died waiting for longjmp
> before initialization
> (eval):4: fork failed: interrupt
> Was testing: path (1)
> ./A05execution.ztst: test failed.
> 249108 [main] zsh 2052 fork_parent: child 3640 died waiting for longjmp
> before initialization
> ZTST_cleanup:2: fork failed: no such file or directory
>
>
> When I try to run this build of zsh, every call to a non-builtin resource
> results in a fork failure. I have asked the cygwin mailing list if there
> might be some user configurable resource that would fix this problem.  On the
> other hand, the cygwin release of zsh 4.2.4 does run under this latest
> release of cygwin1.dll. Before I jump in, I wondered if anyone had already
> run into this problem and had any pointers to causes.
>
>

-- 
Peter A. Castro <doctor@fruitbat.org> or <Peter.Castro@oracle.com>
 	"Cats are just autistic Dogs" -- Dr. Tony Attwood

