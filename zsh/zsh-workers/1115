From joda@pdc.kth.se Wed May 22 11:04:53 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by melb.werple.net.au (8.7.5/8.7.3) with ESMTP id LAA05993 for <mason@werple.mira.net.au>; Wed, 22 May 1996 11:04:50 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id UAA13078; Tue, 21 May 1996 20:46:14 -0400 (EDT)
Resent-Date: Tue, 21 May 1996 20:46:14 -0400 (EDT)
To: Mark Borges <mdb@cdc.noaa.gov>
Cc: zsh-workers@math.gatech.edu
Subject: Re: Beta 18 Compilation Problem Under Nextstep 3.3
References: <Pine.NXT.3.93.960521144604.28147A-100000@racoon>
	<vkrasdwqdv.fsf@cdc.noaa.gov>
Mime-Version: 1.0 (generated by tm-edit 7.61)
Content-Type: text/plain; charset=US-ASCII
From: joda@pdc.kth.se (Johan Danielsson)
Date: 22 May 1996 02:45:46 +0200
In-Reply-To: Mark Borges's message of 21 May 1996 17:36:12 -0600
Message-ID: <xof3f4tlemd.fsf@nyx.pdc.kth.se>
Lines: 25
X-Mailer: September Gnus v0.82/Emacs 19.30
Resent-Message-ID: <"Cv_rW.0.GC3.MFcen"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/1115
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu
Content-Length: 615
Status: O

Mark Borges <mdb@cdc.noaa.gov> writes:

> Anyway, I backed out the change (why is it necessary to escape the
> `#else'?) and it worked fine.

Hmm, it was my patch for UNICOS, that somehow has a bug in awk.

$ uname -a
kallsup kallsup 9.0.2.0 roo.2 CRAY J90
$ echo | awk '{ print "#else" }'
bad switch yylook 79

Older awks printed a literal backslash when it wasn't followed by a
"legal" character, newer awks removes the backslash.

$ uname -a
SunOS sunsite.nada.kth.se 5.4 Generic_101945-32 sun4d sparc
$ echo | awk '{ print "\z" }' 
\z
$ echo | nawk '{ print "\z" }' 
z
$ echo | gawk '{ print "\z" }'
z

/Johan


