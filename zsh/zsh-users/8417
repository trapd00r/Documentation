From zsh-users-return-8417-mason-zsh=primenet.com.au@sunsite.dk Sat Jan 22 21:24:42 2005
Return-Path: <zsh-users-return-8417-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 21090 invoked from network); 22 Jan 2005 21:24:42 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 22 Jan 2005 21:24:42 -0000
Received: (qmail 48405 invoked from network); 22 Jan 2005 21:24:36 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 22 Jan 2005 21:24:36 -0000
Received: (qmail 26139 invoked by alias); 22 Jan 2005 21:23:53 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8417
Received: (qmail 26125 invoked from network); 22 Jan 2005 21:23:53 -0000
Received: from unknown (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 22 Jan 2005 21:23:53 -0000
Received: (qmail 46147 invoked from network); 22 Jan 2005 21:23:16 -0000
Received: from her-isrv.ionific.com (195.197.252.67)
  by a.mx.sunsite.dk with SMTP; 22 Jan 2005 21:23:11 -0000
Received: from her-gw.ionific.com ([195.197.252.66] helo=lynx.bothi.fi)
	by her-isrv.ionific.com with esmtp (Exim 3.35 #1 (Debian))
	id 1CsSio-0005nf-00; Sat, 22 Jan 2005 23:23:06 +0200
Received: from azure by lynx.bothi.fi with local (Exim 3.35 #1 (Debian))
	id 1CsSid-0006z5-00; Sat, 22 Jan 2005 23:22:55 +0200
To: Andrew Markebo <andrew.markebo@comhem.se>
Cc: zsh-users@sunsite.dk,  cygwin@cygwin.com
Subject: Re: Sharing zsh history in cygwin.
Mail-copies-to: nobody
From: Hannu Koivisto <azure@iki.fi>
Date: Sat, 22 Jan 2005 23:22:45 +0200
In-Reply-To: <m3fz0wgvbn.fsf@flognat.dyndns.org> (Andrew Markebo's message
 of "Thu, 20 Jan 2005 13:05:00 +0100")
Message-ID: <877jm56twa.fsf@lynx.bothi.fi>
User-Agent: Gnus/5.090014 (Oort Gnus v0.14) Emacs/21.2
 (i386-debian-linux-gnu)
References: <m3fz0wgvbn.fsf@flognat.dyndns.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Sender: Hannu Koivisto <Hannu.Koivisto@ionific.com>
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=6.0 tests=BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.6

Andrew Markebo <andrew.markebo@comhem.se> writes:

> Anyone managed to share command line history between running zsh's in
> latest cygwin's?

I don't use SHARE_HISTORY (just inc_append_history,
hist_ignore_all_dups, hist_no_store and my history sizes are 100
times larger than yours), but...

> setopt HISTIGNOREDUPS HISTIGNORESPACE EXTENDED_HISTORY 
> setopt INC_APPEND_HISTORY SHARE_HISTORY 
> HISTSIZE=300
> SAVEHIST=300
> HISTFILE=~/.history  
>
> The last line, HISTFILE, freezes the cygwin-distributed zsh
> (4.2.0) just after reading the config-files. Removing just that line

...after some cygwin update (a few months ago) my zshs also started
freezing during startup.  I tracked the problem down to HISTFILE
being assigned a file that resides on a network drive (a Linux
samba share in this case, I didn't try anything else).  If I
changed my history file to reside on a local hard drive, zsh no
longer froze.  Is your home directory on a local drive?

-- 
Hannu

