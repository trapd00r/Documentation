From zsh-workers-return-13890-mason-zsh=primenet.com.au@sunsite.dk Tue Apr 03 04:40:19 2001
Return-Path: <zsh-workers-return-13890-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 6873 invoked from network); 3 Apr 2001 04:40:19 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 3 Apr 2001 04:40:19 -0000
Received: (qmail 11031 invoked by alias); 3 Apr 2001 04:40:11 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 13890
Received: (qmail 11020 invoked from network); 3 Apr 2001 04:40:10 -0000
Sender: ethersoft@rcn.com
To: zsh-workers@sunsite.dk
Subject: Test Failures from Latest CVS
From: Vin Shelton <acs@alumni.princeton.edu>
Organization: EtherSoft, Inc
Date: 03 Apr 2001 00:46:40 -0400
Message-ID: <m2lmpimvyn.fsf@zion.rcn.com>
Lines: 142
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Under Mandrake 7.2, gcc-2.95.3, glibc-2.1.3-18, with uname -a
reporting:
'Linux zion.rcn.com 2.4.3 #2 SMP Fri Mar 30 23:27:06 EST 2001 i686 unknown',
I'm getting the following failures from 'make check':

cd Test ; make check
make[1]: Entering directory `/usr/local/build/zsh-2001-04-02/Test'
if test -n "gcc"; then \
  cd .. && \
  make MODDIR=`pwd`/Test/Modules install.modules > /dev/null; \
fi
mkdir /usr/local/build/zsh-2001-04-02/Test/Modules
mkdir /usr/local/build/zsh-2001-04-02/Test/Modules/zsh
for f in /usr/local/src/zsh-2001-04-02/Test/*.ztst; do \
  ../Src/zsh +Z -f /usr/local/src/zsh-2001-04-02/Test/ztst.zsh $f; \
done
/usr/local/src/zsh-2001-04-02/Test/A01grammar.ztst: starting.
This test hangs the shell when it fails...
/usr/local/src/zsh-2001-04-02/Test/A01grammar.ztst: all tests successful.
/usr/local/src/zsh-2001-04-02/Test/A02alias.ztst: starting.
/usr/local/src/zsh-2001-04-02/Test/A02alias.ztst: all tests successful.
/usr/local/src/zsh-2001-04-02/Test/A03quoting.ztst: starting.
/usr/local/src/zsh-2001-04-02/Test/A03quoting.ztst: all tests successful.
/usr/local/src/zsh-2001-04-02/Test/A04redirect.ztst: starting.
/usr/local/src/zsh-2001-04-02/Test/A04redirect.ztst: all tests successful.
/usr/local/src/zsh-2001-04-02/Test/A05execution.ztst: starting.
/usr/local/src/zsh-2001-04-02/Test/A05execution.ztst: all tests successful.
/usr/local/src/zsh-2001-04-02/Test/B01cd.ztst: starting.
/usr/local/src/zsh-2001-04-02/Test/B01cd.ztst: all tests successful.
/usr/local/src/zsh-2001-04-02/Test/C01arith.ztst: starting.
/usr/local/src/zsh-2001-04-02/Test/C01arith.ztst: all tests successful.
/usr/local/src/zsh-2001-04-02/Test/C02cond.ztst: starting.
Test /usr/local/src/zsh-2001-04-02/Test/C02cond.ztst failed: bad status 1, expected 0 from:
  # Find a block special file system.  This is a little tricky.
  block=$(find /dev /devices -type b -print 2>/dev/null|head -1) &&
  [[ -b $block && ! -b zerolength ]]
Was testing: -b cond
/usr/local/src/zsh-2001-04-02/Test/C02cond.ztst: test failed.
/usr/local/src/zsh-2001-04-02/Test/C03traps.ztst: starting.
This test takes at least three seconds...
This test, too, takes at least three seconds...
/usr/local/src/zsh-2001-04-02/Test/C03traps.ztst: all tests successful.
/usr/local/src/zsh-2001-04-02/Test/C04funcdef.ztst: starting.
/usr/local/src/zsh-2001-04-02/Test/C04funcdef.ztst: all tests successful.
/usr/local/src/zsh-2001-04-02/Test/D01prompt.ztst: starting.
/usr/local/src/zsh-2001-04-02/Test/D01prompt.ztst: all tests successful.
/usr/local/src/zsh-2001-04-02/Test/D02glob.ztst: starting.
/usr/local/src/zsh-2001-04-02/Test/D02glob.ztst: all tests successful.
/usr/local/src/zsh-2001-04-02/Test/D03procsubst.ztst: starting.
/usr/local/src/zsh-2001-04-02/Test/D03procsubst.ztst: all tests successful.
/usr/local/src/zsh-2001-04-02/Test/D04parameter.ztst: starting.
/usr/local/src/zsh-2001-04-02/Test/D04parameter.ztst: all tests successful.
/usr/local/src/zsh-2001-04-02/Test/D05array.ztst: starting.
/usr/local/src/zsh-2001-04-02/Test/D05array.ztst: all tests successful.
/usr/local/src/zsh-2001-04-02/Test/E02xtrace.ztst: starting.
/usr/local/src/zsh-2001-04-02/Test/E02xtrace.ztst: all tests successful.
/usr/local/src/zsh-2001-04-02/Test/V02zregexparse.ztst: starting.
/usr/local/src/zsh-2001-04-02/Test/V02zregexparse.ztst: all tests successful.
/usr/local/src/zsh-2001-04-02/Test/Y01completion.ztst: starting.
*** /tmp/zsh.ztst.out.29733	Mon Apr  2 21:26:40 2001
--- /tmp/zsh.ztst.tout.29733	Mon Apr  2 21:26:40 2001
***************
*** 1,12 ****
  line: {: }{}
! DESCRIPTION:{file}
! DI:{dir1}
! DI:{dir2}
! FI:{file1}
! FI:{file2}
! line: {: dir1/}{}
! line: {: dir2/}{}
! line: {: file1}{}
! line: {: file2}{}
! line: {: dir1/}{}
! line: {: dir2/}{}
--- 1,7 ----
  line: {: }{}
! line: {: }{}
! line: {: }{}
! line: {: }{}
! line: {: }{}
! line: {: }{}
! line: {: }{}
Test /usr/local/src/zsh-2001-04-02/Test/Y01completion.ztst failed: output differs from expected as shown above for:
  comptest $': \t\t\t\t\t\t\t'
Was testing: directories and files
/usr/local/src/zsh-2001-04-02/Test/Y01completion.ztst: test failed.
/usr/local/src/zsh-2001-04-02/Test/Y02compmatch.ztst: starting.
*** /tmp/zsh.ztst.out.29749	Mon Apr  2 21:26:40 2001
--- /tmp/zsh.ztst.tout.29749	Mon Apr  2 21:26:40 2001
***************
*** 1,3 ****
  line: {tst }{}
- COMPADD:{_tst:compadd: unknown match specification character `z'}
- INSERT_POSITIONS:{}
--- 1 ----
Test /usr/local/src/zsh-2001-04-02/Test/Y02compmatch.ztst failed: output differs from expected as shown above for:
 test_code z: list1
 comptest  $'tst \t'
Was testing: Match Error for "z:"
/usr/local/src/zsh-2001-04-02/Test/Y02compmatch.ztst: test failed.
/usr/local/src/zsh-2001-04-02/Test/Y03arguments.ztst: starting.
*** /tmp/zsh.ztst.out.29763	Mon Apr  2 21:26:40 2001
--- /tmp/zsh.ztst.tout.29763	Mon Apr  2 21:26:40 2001
***************
*** 1,11 ****
! line: {tst arg1 }{}
! line: {tst arg1 }{}
! line: {tst arg1 }{}
! line: {tst arg1 }{}
! line: {tst arg1 }{}
! line: {tst r}{}
! line: {tst x}{}
! line: {tst x }{}
! MESSAGE:{no more arguments}
! line: {tst x y }{}
! MESSAGE:{no more arguments}
--- 1,9 ----
! line: {tst }{}
! line: {a}{}
! line: {ar}{}
! line: {arg}{}
! line: {arg1}{}
! line: {r}{}
! line: {x}{}
! line: {x }{}
! line: {x y }{}
Test /usr/local/src/zsh-2001-04-02/Test/Y03arguments.ztst failed: output differs from expected as shown above for:
 tst_arguments ':desc1:(arg1)'
 comptest $'tst \t\C-wa\t\C-war\t\C-warg\t\C-warg1\t\C-wr\t\C-wx\t \ty \t'
Was testing: one non-option argument
/usr/local/src/zsh-2001-04-02/Test/Y03arguments.ztst: test failed.
make[1]: [check] Error 1 (ignored)
rm -rf Modules .zcompdump
make[1]: Leaving directory `/usr/local/build/zsh-2001-04-02/Test'


Notice the failures on: C02cond, Y01completion, Y02compmatch, and
Y03arguments.  I'm a little behind in my reading of the mail list, so
please forgive me if these are known difficulties.

  - vin

