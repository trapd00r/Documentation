From zsh-users-return-7144-mason-zsh=primenet.com.au@sunsite.dk Thu Mar 11 15:29:45 2004
Return-Path: <zsh-users-return-7144-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 14481 invoked from network); 11 Mar 2004 15:29:44 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 11 Mar 2004 15:29:44 -0000
Received: (qmail 12236 invoked by alias); 11 Mar 2004 15:29:17 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 7144
Received: (qmail 12221 invoked from network); 11 Mar 2004 15:29:16 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 11 Mar 2004 15:29:16 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [140.78.161.123] by sunsite.dk (MessageWall 1.0.8) with SMTP; 11 Mar 2004 15:29:15 -0000
Received: from nanni.riic.uni-linz.ac.at.riic.at (nanni.riic.uni-linz.ac.at [140.78.161.79])
	by proxy.riic.at (8.12.7/8.12.7/SuSE Linux 0.6) with ESMTP id i2BFTBmJ031366
	for <zsh-users@sunsite.dk>; Thu, 11 Mar 2004 16:29:11 +0100
From: =?iso-8859-1?q?Stefan_Reich=F6r?= <xsteve@nit.at>
To: zsh-users@sunsite.dk
Subject: Re: cd completion and CDABLE_VARS
In-Reply-To: <1754.1079017538@csr.com> (Peter Stephenson's message of "Thu,
 11 Mar 2004 15:05:38 +0000")
References: <1754.1079017538@csr.com>
Date: Thu, 11 Mar 2004 16:28:46 +0100
Message-ID: <w4dptbjfln5.fsf@nanni.riic.uni-linz.ac.at>
User-Agent: Gnus/5.110002 (No Gnus v0.2) Emacs/21.3.50 (berkeley-unix)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Scanned: by AMaViS - amavis-milter (http://www.amavis.org/)

Hi Peter!

>> When I now hit ^xh I get the following:
>> 
>> tags in context :completion::complete:cd::
>>     local-directories named-directories      (_alternative _cd) 
>>     users named-directories directory-stack  (_tilde _alternative _cd) 
>>     users                                    (_users _tilde _alternative _cd)
>
> Sounds like you need to read zshcompsys for some orientation.  (I don't
> mean to claim that's necessarily as enlightening as you might wish.)

Thanks for the tip! I tried to read the zsh manual already.
It looks very big.

I am looking for a step by step guide (a tutorial) to get some funky
completions working. Does something like this exist?

> As I said before, the names on the left are the tags.  What I didn't say
> was the names in parentheses are the functions implementing completion
> for those tags.  This gives you a hint about what the tags are used for.
>
> _alternative is a utility function and we should probably suppress it
> from the list since it doesn't generate its own completions (I think
> that's easy to do but I haven't looked at the code).
>
> There's no precedence until you use tag-order as I described before.
> The lines are simply to associate tags with different completers.
>
>> I see, that the user names are used for the name expansion. I do not
>> want that. How can I switch this off?
>
> Instead of putting '*' in the last value in tag-order, just put
> in named-directories, giving
>
> zstyle ':completion:*:complete:(cd|pushd):*' tag-order \
>   'local-directories path-directories directory-stack' 'named-directories'

I tried to use this but it seems to have no effect.
I evaluated it on the command line and I tried it from .zshrc

I still get the same output from ^xh

Does the zstyle statement only affect the completion order? I want to
exclude the user completion from the cd command.

Stefan.

