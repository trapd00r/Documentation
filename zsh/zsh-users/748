From zsh-workers-request@euclid.skiles.gatech.edu Tue Mar 04 22:36:11 1997
Return-Path: <zsh-workers-request@euclid.skiles.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 2150 invoked from network); 4 Mar 1997 22:36:09 -0000
Received: from euclid.skiles.gatech.edu (list@130.207.146.50)
  by coral.primenet.com.au with SMTP; 4 Mar 1997 22:36:09 -0000
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id RAA02716; Tue, 4 Mar 1997 17:14:34 -0500 (EST)
Resent-Date: Tue, 4 Mar 1997 17:13:08 -0500 (EST)
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <970304142044.ZM3966@candle.brasslantern.com>
Date: Tue, 4 Mar 1997 14:20:43 -0800
In-Reply-To: "Timothy J. Luoma" <luomat@peak.org>
        "problem from NeXTStep 3.3 rlogin to SunOS 4.1.4" (Mar  4,  2:04pm)
References: <199703041904.OAA03868@kira.peak.org>
Reply-To: schaefer@nbn.com
X-Mailer: Z-Mail (4.0b.820 20aug96)
To: luomat@peak.org, zsh-users@math.gatech.edu
Subject: Re: problem from NeXTStep 3.3 rlogin to SunOS 4.1.4
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Resent-Message-ID: <"gMwoe.0.Id.pv97p"@euclid>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/748
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

On Mar 4,  2:04pm, Timothy J. Luoma wrote:
} Subject: problem from NeXTStep 3.3 rlogin to SunOS 4.1.4
}
} When I rlogin to my SUN account from my NeXT, I have been "losing"  
} output.  Most often it happens with 'ls' or 'cat' where the command  
} runs but nothing comes to the screen.

Do you really mean "rlogin"?  As in, you log in to the Sun, get a prompt,
and then start issuing "ls" and "ls | less" commands?

Or do you mean "rsh" as in "rsh sun ls" vs. "rsh sun ls | less"?

} If I feed it to 'less' that works.
} 
} Any clues?

If it's "rsh" then this is (or used to be) a common problem.  It happens
when the rsh process on the local side exits before the output buffered
in the network layer gets flushed to the screen.

The local rsh exits when it gets notified on the exit-status connection
that the remote process has terminated; that may leave unread data on
the stdout/stderr connections.  If some other process (like less) is
waiting for the output, or if the output is sufficiently large, the
buffers get flushed before local rsh exits (before the shell gets control
back again).

I don't know why it would have begun happening to you now if it wasn't
before, but in my experience the problem isn't limited to zsh.

-- 
Bart Schaefer                             Brass Lantern Enterprises
http://www.well.com/user/barts            http://www.nbn.com/people/lantern

