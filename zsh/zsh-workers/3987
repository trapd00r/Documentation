From zsh-workers-request@math.gatech.edu Mon May 18 19:10:51 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 11620 invoked from network); 18 May 1998 19:10:49 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 18 May 1998 19:10:49 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id PAA10576;
	Mon, 18 May 1998 15:06:38 -0400 (EDT)
Resent-Date: Mon, 18 May 1998 15:06:38 -0400 (EDT)
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <980518112027.ZM10579@candle.brasslantern.com>
Date: Mon, 18 May 1998 11:20:26 -0700
In-Reply-To: <199805180745.AA013327509@rfcom704.kobe.hp.com>
Comments: In reply to Tatsuo Furukawa <tatsuo@kobe.hp.com>
        "Re: 3.0.5: eval `resize` messes up" (May 18,  4:45pm)
References: <199805180745.AA013327509@rfcom704.kobe.hp.com> 
	<19980512092717.A13425@dtthp169.pdx.intel.com> 
	<19980518011037.A25015@dtthp169.pdx.intel.com>
In-Reply-To: <19980518011037.A25015@dtthp169.pdx.intel.com>
Comments: In reply to Clint Olsen <olsenc@ichips.intel.com>
        "Re: 3.0.5: eval `resize` messes up" (May 18,  1:10am)
X-Mailer: Z-Mail (4.0b.820 20aug96)
To: Tatsuo Furukawa <tatsuo@kobe.hp.com>, olsenc@ichips.intel.com,
        zsh-workers@math.gatech.edu
Subject: Re: 3.0.5: eval `resize` messes up
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Resent-Message-ID: <"hC-P82.0.Bb2.zQ8Or"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3987
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

On May 18,  4:45pm, Tatsuo Furukawa wrote:
} Subject: Re: 3.0.5: eval `resize` messes up
}
} 3.0.5 trust LINES and COLUMNS.  If you don't set LINES and COLUMNS,
} zsh measures terminal size.  But If you set LINES and COLUMNS, zsh
} trusts its value.
} 
} I don't know whether this is zsh's feature or bug.

It's a feature that has a bug, as far as I'm concerned.  Zsh went from
not believing LINES and COLUMNS when it should have, to believing them
even when it should not.  However, it's very difficult to come up with
an accurate expression for when they ought to be recognized.

On May 18,  1:10am, Clint Olsen wrote:
} Subject: Re: 3.0.5: eval `resize` messes up
}
} Setting LINES and COLUMNS is precisely why I use "eval `resize`".  It
} seems to work on every other shell except Zsh.  In fact it worked on
} Zsh 3.0.2.

Run "resize" without the "eval" wrapper and see what it spits out.  It
may be emitting some syntax that zsh doesn't like.  (And if you still
have 3.0.2 around, run it there too and see it it differs at all.)

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

