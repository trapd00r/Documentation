From zsh-users-return-12056-mason-zsh=primenet.com.au@sunsite.dk Sat Oct 20 00:54:05 2007
Return-Path: <zsh-users-return-12056-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4274 invoked from network); 20 Oct 2007 00:53:36 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.3 (2007-08-08) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00,SPF_HELO_PASS
	autolearn=ham version=3.2.3
Received: from ns2.primenet.com.au (HELO primenet.com.au) (@203.24.36.3)
  by ns1.primenet.com.au with (DHE-RSA-AES256-SHA encrypted) SMTP; 20 Oct 2007 00:53:36 -0000
Received: (qmail 11001 invoked from network); 19 Oct 2007 22:01:51 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns2.melb.primenet.com.au with SMTP; 19 Oct 2007 22:01:51 -0000
Received-SPF: none (ns2.melb.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 41390 invoked from network); 19 Oct 2007 22:01:44 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 19 Oct 2007 22:01:43 -0000
Received: (qmail 6382 invoked by alias); 19 Oct 2007 22:01:34 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 12056
Received: (qmail 6359 invoked from network); 19 Oct 2007 22:01:33 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 19 Oct 2007 22:01:33 -0000
Received: (qmail 40115 invoked from network); 19 Oct 2007 22:01:33 -0000
Received: from wr-out-0506.google.com (64.233.184.234)
  by a.mx.sunsite.dk with SMTP; 19 Oct 2007 22:01:28 -0000
Received: by wr-out-0506.google.com with SMTP id c48so542436wra
        for <zsh-users@sunsite.dk>; Fri, 19 Oct 2007 15:01:27 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        bh=NUlnBV1afv6nW1B9jcQDkOi3iD5BKhnoKh+SXVLP6oU=;
        b=KoGb6ZmXEqq91PG++Jvew8+jq3CQorP09pRnpdjUk3r2ItcKvetN6z1R60fKqNVGCIVbcsC+cJ7koqCQQqifYHzD/eedUkxOPAM1ZjN5wowZd99s6qnZTpORqBm9brYqofLvazLY5MD3+11F2e0rkjliolk48KgAASHxzD/AOIw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=caT36lHTZY5EfEkYB64Oa1ad3Ege3+4fQ31lKITNamIb23er5JcE51ZQ01t1JmSIFe+F41TwtwRj3+dFVN0ECOn3+Bi2IPXZyamLrm/u2k8vzzKIGRbDfMxMUk+Slsqzh3b4/tH2Xo5R9keon6zEjSK1Kdf0ywOXjTOgeFfU/MM=
Received: by 10.142.154.20 with SMTP id b20mr957720wfe.1192831286277;
        Fri, 19 Oct 2007 15:01:26 -0700 (PDT)
Received: by 10.142.86.21 with HTTP; Fri, 19 Oct 2007 15:01:26 -0700 (PDT)
Message-ID: <237967ef0710191501w1402669eh60c481a249c7ed6c@mail.gmail.com>
Date: Sat, 20 Oct 2007 00:01:26 +0200
From: "Mikael Magnusson" <mikachu@gmail.com>
To: "Zsh users list" <zsh-users@sunsite.dk>
Subject: Trying to reverse a word.
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I found modify-current-argument a while ago so now I'm making some
silly keybinds for fun and profit. One idea was a bind to reverse a
word, but I'm hitting a confusing issue. Here's what I'm trying:
% echo ${(j::)${(Oa)${(s::):-hello}}}
olleh
Which appears to work fine, BUT, when you give that to
modify-current-argument you just get "h e l l o", and I found it
encloses the string in double quotes:
% echo "${(j::)${(Oa)${(s::):-hello}}}"
h e l l o
What the heck is going on here?
If I remove the Oa part, it goes back to being a single word:
% echo "${(j::)${(s::):-hello}}"
hello
With some other flag there's the same issue:
echo "${(j::)${(U)${(s::):-hello}}}"
H E L L O
the only thing I can come up with that works in double quotes is a
$(), but it seems fragile.
% echo "$(echo ${(j::)${(Oa)${(s::):-hello}}})"
olleh

-- 
Mikael Magnusson

