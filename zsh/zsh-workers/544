From zsh-workers-request@math.gatech.edu  Wed Nov  8 00:17:30 1995
Received: from math.gatech.edu (euclid.skiles.gatech.edu [130.207.146.50]) by werple.net.au (8.7/8.7.1) with SMTP id AAA04304 for <mason@werple.mira.net.au>; Wed, 8 Nov 1995 00:17:24 +1100 (EST)
Received: by math.gatech.edu (5.x/SMI-SVR4)
	id AA07155; Tue, 7 Nov 1995 07:58:04 -0500
Resent-Date: Tue, 07 Nov 95 12:55:20 +0000
Old-Return-Path: <P.Stephenson@swan.ac.uk>
Message-Id: <23829.9511071255@pygmy.swan.ac.uk>
To: kpc@ptolemy-ethernet.arc.nasa.gov
Cc: zsh-workers@math.gatech.edu (Zsh hackers list)
Subject: Re: bug in zsh 2.6 beta 11: xkeysymdb 
In-Reply-To: "kpc@ptolemy.arc.nasa.gov"'s message of "Tue, 07 Nov 95 02:59:41 PST."             <9511071059.AA18493@phenotype.arc.nasa.gov> 
Date: Tue, 07 Nov 95 12:55:20 +0000
From: P.Stephenson@swansea.ac.uk
X-Mts: smtp
Resent-Message-Id: <"CKyki2.0.gl1.RVrdm"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/544
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

kpc@ptolemy.arc.nasa.gov wrote:
> beta11 compiles cleanly but has the following bug and complains of a
> syntax error in my .zshrc that I cannot locate.  It says ".zshrc:
> parse error near `)' [307]".  I will spare you my .zshrc but hope that
> future versions can locate syntax errors better.  Note that 2.3.1 does
> not complain at all.  I have no idea where the error is or whether
> there is one.  All parentheses and braces and brackets match that I
> know of.

Maybe you're using the csh-like syntax 'if (...) { ... }', in which
case `setopt cshjunkiesyntax' at the top of .zshrc (or if you're
really set on the syntax, in ~/.zshenv).  This change was forced
because there is no way in general of telling whether the parentheses
represent a C-shell-like test or a Bourne-shell-like subshell and it
was felt the latter should take precedence in case of conflict.

> % . .zslow
> .zslow: no such file or directory: usr/local/X.V11R5/lib/XKeysymDB [291]
> ...

May be problems with the Berkeley compatibility library on Solaris
again, judging from the initial part of the file name missing ---
although it's not actually obvious why that would be relevant, it's
worth checking: it's clearly a system-specific problem.  Here's the
relevant bit from the FAQ.  (As far as I know, this is the only
compatibility problem for Solaris of any version of 2.6.)

  *Note for Solaris 2.2 and 2.3*: The UCB versions of the routines for
  reading directories are not usable (the struct definitions are2
  incompatible with the ones assumed by zsh).  The symptom of this is
  that globbed filenames in the compiled version of zsh will be
  missing the first two letters.  To avoid this, make sure you compile
  zsh without any reference to /usr/ucblib in (e.g.) your
  LD_LIBRARY_PATH.

-- 
Peter Stephenson <pws@ifh.de>       Tel: +49 33762 77366
WWW:  http://www.ifh.de/~pws/       Fax: +49 33762 77330
Deutches Electronen-Synchrotron --- Institut fuer Hochenergiephysik Zeuthen
DESY-IfH, 15735 Zeuthen, Germany.

