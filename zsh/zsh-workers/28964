From zsh-workers-return-28964-mason-zsh=primenet.com.au@zsh.org Thu Mar 31 17:07:40 2011
Return-Path: <zsh-workers-return-28964-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 16899 invoked by alias); 31 Mar 2011 17:07:40 -0000
Mailing-List: contact zsh-workers-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Workers List <zsh-workers.zsh.org>
List-Post: <mailto:zsh-workers@zsh.org>
List-Help: <mailto:zsh-workers-help@zsh.org>
Delivered-To: mailing list zsh-workers@zsh.org
X-Seq: 28964
Received: (qmail 4372 invoked from network); 31 Mar 2011 17:07:38 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.9 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.3.1
Received-SPF: pass (ns1.primenet.com.au: SPF record at benizi.com designates 64.130.10.15 as permitted sender)
Date: Thu, 31 Mar 2011 13:07:07 -0400 (EDT)
From: "Benjamin R. Haskell" <zsh@benizi.com>
To: Helmut Jarausch <jarausch@igpm.rwth-aachen.de>
cc: zsh-workers@zsh.org
Subject: Re: "Remote" execution - is this possible?
In-Reply-To: <1301588547.21294.0@numa-i>
Message-ID: <alpine.LNX.2.01.1103311301030.22141@hp>
References: <1301588547.21294.0@numa-i>
User-Agent: Alpine 2.01 (LNX 1266 2009-07-14)
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed

On Thu, 31 Mar 2011, Helmut Jarausch wrote:

> Hi,
>
> on a remote machine to which I have root access I'd like to fix some 
> environment setting for running zsh processes, i.e.
>
> there are some xterms running zsh.
>
> I'd like to achieve the effect as if a local user had entered
> export BROWSER=firefox
> in his xterm.
>
> Is this possible?

No.  The environment in which a process starts is typically passed to 
the main routine.  You can't simply modify it after the program has 
started.

What are you trying to achieve with the 'export BROWSER=firefox'?

If you're calling some kind of URL-launcher (looks like something you'd 
need for `xdg-open` or such), you could modify the launcher to set that 
variable if none is passed in.

Even better, if your running zsh'es have something like ~/bin/ in their 
path, you could insert a wrapper program:

e.g. I have:

$ cat ~/bin/xdg-open
#!/bin/zsh
exec chromium -remote $argv

(In your case, sounds like you'd want 'firefox' where I have 'chromium')

Otherwise, let us know what you're trying to do, rather than how you 
want to accomplish it.

-- 
Best,
Ben

