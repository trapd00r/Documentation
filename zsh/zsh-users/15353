From zsh-users-return-15353-mason-zsh=primenet.com.au@zsh.org Thu Sep 02 14:14:13 2010
Return-Path: <zsh-users-return-15353-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 15948 invoked by alias); 2 Sep 2010 14:14:13 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 15353
Received: (qmail 25017 invoked from network); 2 Sep 2010 14:14:09 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-4.2 required=5.0 tests=BAYES_00,RCVD_IN_DNSWL_MED
	autolearn=ham version=3.3.1
Received-SPF: none (ns1.primenet.com.au: domain at fys.uio.no does not designate permitted sender hosts)
Date: Thu, 2 Sep 2010 15:47:47 +0200
From: Haakon Riiser <haakon.riiser@fys.uio.no>
To: zsh-users@zsh.org
Subject: Problems with zsh's job control and running jobs
Message-ID: <20100902134747.GA30650@whistler.venod.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.5.20 (2009-06-14)
X-UiO-Ratelimit-Test: rcpts/h 1 msgs/h 1 sum rcpts/h 2 sum msgs/h 2 total rcpts 344 max rcpts/h 8 ratelimit 0
X-UiO-Spam-info: not spam, SpamAssassin (score=-5.0, required=5.0, autolearn=disabled, UIO_MAIL_IS_INTERNAL=-5, uiobl=NO, uiouri=NO)
X-UiO-Scanned: CD90F696DD6D3A273AD11C05E7044CFD33B8A109
X-UiO-SPAM-Test: remote_host: 84.209.71.9 spam_score: -49 maxlevel 80 minaction 2 bait 0 mail/h: 1 total 268 max/h 5 blacklist 0 greylist 0 ratelimit 0

I've used zsh for years now, and since the beginning, I've been annoyed
by the way it handles running jobs.  What I want is basically to
make the "&" operator behave like "&!".

I want to be able to suspend jobs using ^Z, so I can't set NO_MONITOR.
I want zsh to warn me if I try to log out when there are suspended jobs,
so I can't set NO_CHECK_JOBS.

Is there a way to make zsh differentiate between running and
suspended jobs?  That is, make it so that CHECK_JOBS only looks for
suspended jobs, not running ones?

If not, is it possible to make "&" disown jobs by default?  I don't
want to retrain myself to use "&!" because I don't always use zsh,
and the &! syntax is not valid in other shells.

-- 
 Haakon

