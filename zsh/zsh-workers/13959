From zsh-workers-return-13959-mason-zsh=primenet.com.au@sunsite.dk Thu Apr 12 14:21:22 2001
Return-Path: <zsh-workers-return-13959-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 11383 invoked from network); 12 Apr 2001 14:21:20 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 12 Apr 2001 14:21:20 -0000
Received: (qmail 1933 invoked by alias); 12 Apr 2001 14:21:19 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 13959
Received: (qmail 1922 invoked from network); 12 Apr 2001 14:21:19 -0000
To: zsh-workers@sunsite.auc.dk
Subject: Build Failures on SunOS-4.1 and 5.5
From: Vin Shelton <shelton@icd.teradyne.com>
Organization: Teradyne
Date: 12 Apr 2001 10:33:56 -0400
Message-ID: <545wv8qb31n.fsf@icd.teradyne.com>
Lines: 86
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Yesterday's changes to terminfo.c were no good for SunOS-4.1 and
SunOS-5.5.  Here are the failures:

SunOS-5.5:
config.status says:
# /u/shelton/new/src/zsh-2001-04-12-0717-GMT/configure  --prefix=/u/shelton/new/SunOS-5.5/zsh-2001-04-12-0717-GMT --datadir=/u/shelton/new/share --enable-zsh-mem --enable-etcdir=/u/shelton/new/etc --enable-dynamic --disable-nls --disable-locale

Here's how make fails:
echo '' termcap.o | sed 's" " Modules/"g' >> ../../Src/stamp-modobjs.tmp
gcc -c -I.  -DHAVE_CONFIG_H -Wall -Wno-implicit -Wmissing-prototypes -O2  -o terminfo.o /u/shelton/new/src/zsh-2001-04-12-0717-GMT/Src/Modules/terminfo.c
In file included from /u/shelton/new/src/zsh-2001-04-12-0717-GMT/Src/Modules/terminfo.c:36:
/usr/include/term.h:1040: field `Ottyb' has incomplete type
/usr/include/term.h:1041: field `Nttyb' has incomplete type
/usr/include/term.h:1180: conflicting types for `tputs'
/u/shelton/new/src/zsh-2001-04-12-0717-GMT/Src/prototypes.h:42: previous declaration of `tputs'
/u/shelton/new/src/zsh-2001-04-12-0717-GMT/Src/Modules/terminfo.c: In function `bin_echoti':
/u/shelton/new/src/zsh-2001-04-12-0717-GMT/Src/Modules/terminfo.c:86: warning: passing arg 3 of `tputs' from incompatible pointer type
make[3]: *** [terminfo.o] Error 1
make[3]: Leaving directory `/u/shelton/new/build/SunOS-5.5/zsh-2001-04-12-0717-GMT/Src/Modules'
make[2]: *** [modobjs] Error 1
make[2]: Leaving directory `/u/shelton/new/build/SunOS-5.5/zsh-2001-04-12-0717-GMT/Src'
make[1]: *** [modobjs] Error 2
make[1]: Leaving directory `/u/shelton/new/build/SunOS-5.5/zsh-2001-04-12-0717-GMT/Src'
make: *** [all] Error 1


SunOS-4.1:
config.status says:
# /u/shelton/new/src/zsh-2001-04-12-0717-GMT/configure  --prefix=/u/shelton/new/SunOS-4.1/zsh-2001-04-12-0717-GMT --datadir=/u/shelton/new/share --enable-zsh-mem --enable-etcdir=/u/shelton/new/etc --disable-dynamic --disable-nls --disable-locale

Here's how the make fails:
echo '' termcap.o | sed 's" " Modules/"g' >> ../../Src/stamp-modobjs.tmp
gcc -c -I.  -DHAVE_CONFIG_H -Wall -Wno-implicit -Wmissing-prototypes -O2  -o terminfo.o /u/shelton/new/src/zsh-2001-04-12-0717-GMT/Src/Modules/terminfo.c
In file included from /usr/include/sgtty.h:6,
                 from /u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/curses.h:20,
                 from /u/shelton/new/src/zsh-2001-04-12-0717-GMT/Src/Modules/terminfo.c:33:
/usr/include/sys/ioctl.h:23: warning: `ECHO' redefined
/u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/termios.h:169: warning: this is the location of the previous definition
/usr/include/sys/ioctl.h:30: warning: `NL0' redefined
/u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/termios.h:116: warning: this is the location of the previous definition
/usr/include/sys/ioctl.h:31: warning: `NL1' redefined
/u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/termios.h:117: warning: this is the location of the previous definition
/usr/include/sys/ioctl.h:35: warning: `TAB0' redefined
/u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/termios.h:124: warning: this is the location of the previous definition
/usr/include/sys/ioctl.h:36: warning: `TAB1' redefined
/u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/termios.h:125: warning: this is the location of the previous definition
/usr/include/sys/ioctl.h:37: warning: `TAB2' redefined
/u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/termios.h:126: warning: this is the location of the previous definition
/usr/include/sys/ioctl.h:38: warning: `XTABS' redefined
/u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/termios.h:127: warning: this is the location of the previous definition
/usr/include/sys/ioctl.h:40: warning: `CR0' redefined
/u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/termios.h:119: warning: this is the location of the previous definition
/usr/include/sys/ioctl.h:41: warning: `CR1' redefined
/u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/termios.h:120: warning: this is the location of the previous definition
/usr/include/sys/ioctl.h:42: warning: `CR2' redefined
/u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/termios.h:121: warning: this is the location of the previous definition
/usr/include/sys/ioctl.h:43: warning: `CR3' redefined
/u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/termios.h:122: warning: this is the location of the previous definition
/usr/include/sys/ioctl.h:45: warning: `FF0' redefined
/u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/termios.h:136: warning: this is the location of the previous definition
/usr/include/sys/ioctl.h:46: warning: `FF1' redefined
/u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/termios.h:137: warning: this is the location of the previous definition
/usr/include/sys/ioctl.h:48: warning: `BS0' redefined
/u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/termios.h:130: warning: this is the location of the previous definition
/usr/include/sys/ioctl.h:49: warning: `BS1' redefined
/u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/termios.h:131: warning: this is the location of the previous definition
/usr/include/sys/ioctl.h:57: warning: `TOSTOP' redefined
/u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/termios.h:174: warning: this is the location of the previous definition
/usr/include/sys/ioctl.h:58: warning: `FLUSHO' redefined
/u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/termios.h:189: warning: this is the location of the previous definition
/usr/include/sys/ioctl.h:64: warning: `PENDIN' redefined
/u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/termios.h:190: warning: this is the location of the previous definition
/usr/include/sys/ioctl.h:66: warning: `NOFLSH' redefined
/u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/termios.h:173: warning: this is the location of the previous definition
In file included from /u/shelton/new/src/zsh-2001-04-12-0717-GMT/Src/Modules/terminfo.c:33:
/u/shelton/new/SunOS-4.1/gcc-2.95.3-test5/lib/gcc-lib/sparc-sun-sunos4.1.4/2.95.3/include/curses.h:54: `DO' redeclared as different kind of symbol
/u/shelton/new/src/zsh-2001-04-12-0717-GMT/Src/zsh.h:211: previous declaration of `DO'
make[3]: *** [terminfo.o] Error 1
make[3]: Leaving directory `/tmp_mnt/u/shelton/new/build/SunOS-4.1/zsh-2001-04-12-0717-GMT/Src/Modules'
make[2]: *** [modobjs] Error 1
make[2]: Leaving directory `/tmp_mnt/u/shelton/new/build/SunOS-4.1/zsh-2001-04-12-0717-GMT/Src'
make[1]: *** [modobjs] Error 2
make[1]: Leaving directory `/tmp_mnt/u/shelton/new/build/SunOS-4.1/zsh-2001-04-12-0717-GMT/Src'
make: *** [all] Error 1

  - vin

