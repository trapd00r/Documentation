From zsh-users-return-14624-mason-zsh=primenet.com.au@zsh.org Tue Dec 01 21:15:51 2009
Return-Path: <zsh-users-return-14624-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 3679 invoked by alias); 1 Dec 2009 21:15:51 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 14624
Received: (qmail 10824 invoked from network); 1 Dec 2009 21:15:49 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received-SPF: pass (ns1.primenet.com.au: SPF record at _spf.google.com designates 209.85.219.222 as permitted sender)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:cc:content-type;
        bh=4KHBQiCmHLGFpgPUVbmYJnXJid6z1yGRdRrgBy3qO5g=;
        b=VYAxGEviKCAC07KRD9tEfEGDDeC+h2r6WwsKXO9q8Tk2yRLMUH0RXLXu2fuLdA7jXI
         LSCuCZ3poKbWrp2eUVVYwPcsJlP/OoSkMnLnGLpkNMz5kWOef3uzpdEv2KT3n+Qsi1sI
         BrPXAGOjn4HpVTGOYDs1am42Z58W5ZZGt3x7U=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type;
        b=ARhmnxhpsYFA0/zpU8xD5HJFAHPtm/7N+4S/3TwsSs3RO/3v0jShGrLBwjUZFWxLnu
         YDng8hQvL+n9OJtfg8d+5XGjoG+9BBiSI6E2oHUMQBAONRnaWpeOgTP0difMYVBTxDs4
         OWXLqn4Z4rbk1SLDI34JK94xmfhQ5O9+LJNig=
MIME-Version: 1.0
In-Reply-To: <20091201150051.0942597181.qww314159@motoko.argon.local>
References: <20091201150051.0942597181.qww314159@motoko.argon.local>
Date: Tue, 1 Dec 2009 21:13:17 +0100
Message-ID: <237967ef0912011213o51f55255lcfea25cb024584dc@mail.gmail.com>
Subject: Re: aliases expanding aliases: a bug?
From: Mikael Magnusson <mikachu@gmail.com>
To: Jay Berkenbilt <ejb@ql.org>
Cc: zsh-users@zsh.org
Content-Type: text/plain; charset=UTF-8

2009/12/1 Jay Berkenbilt <ejb@ql.org>:
> I just downloaded zsh 4.3.10, and I am able to reproduce this problem
> with that version.  It appears that if an alias ends with a space,
> arguments that themselves happen to be aliases are expanded, at least in
> some cases.
[snip]
> I can't imagine that this is desirable or intended behavior.  It's also
> hard for me to see why one would have to have a trailing space in an
> alias that was expected to take arguments, but regardless, it still
> seems like a possible bug.
>
> Comments?

This is documented behaviour, and very useful in some cases.

ALIASING
       Every token in the shell input is checked to see if there is an
alias defined
       for  it.   If so, it is replaced by the text of the alias if it
is in command
       position (if it could be the first word of a simple command),
or if the alias
       is  global.   If the text ends with a space, the next word in
the shell input
       is treated as though it were in command position for purposes
of alias expan-
       sion.

consider an alias like
alias foo='xterm -e '
alias bar='ls -l /long\ and\ boring\ path'

which lets you say foo bar

-- 
Mikael Magnusson

