From schaefer@candle.brasslantern.com Thu May  9 11:34:44 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by melb.werple.net.au (8.7.5/8.7.3) with ESMTP id LAA19656 for <mason@werple.mira.net.au>; Thu, 9 May 1996 11:34:34 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id VAA23571; Wed, 8 May 1996 21:29:15 -0400 (EDT)
Resent-Date: Wed, 8 May 1996 21:29:15 -0400 (EDT)
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <960508183026.ZM23468@candle.brasslantern.com>
Date: Wed, 8 May 1996 18:30:25 -0700
In-Reply-To: Zoltan Hidvegi <hzoli@cs.elte.hu>
        "Re: Correction Bug in Beta 17" (May  9, 12:28am)
References: <199605082228.AAA00309@hzoli.ppp.cs.elte.hu>
Reply-To: schaefer@nbn.com
X-Mailer: Z-Mail (3.3dev.424 24apr96)
To: Zoltan Hidvegi <hzoli@cs.elte.hu>, zsh-workers@math.gatech.edu
Subject: Re: Correction Bug in Beta 17
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Resent-Message-ID: <"df3hq3.0.Am5.gfKan"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/1034
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu
Content-Length: 1138
Status: O

On May 9, 12:28am, Zoltan Hidvegi wrote:
} Subject: Re: Correction Bug in Beta 17
}
} > With the PROMPT_SUBST option set in zsh-2.6-beta17, the spelling correction
} > prompt is totally messed up, and two bogus error messages are produced:
} > 
} > 1% setopt correct
} > 2% setopt promptsubst
} > 3% ks
} > zsh: unmatched '
} > zsh: parse error in command substitution
} > zsh: correct n
} > zsh: command not found: ks
} 
} This is not a bug.  And the error messages are correct.  SPROMPT is
} initialised to
} 
} zsh: correct `%R' to `%r' [nyae]?
} 
} If you tund on GLOB_SUBST, zsh will try to expand it so interprets ` as
} command substitution.

Sorry, Zoltan, but I'd say that *IS* a bug.  If the initialization of
SPROMPT causes zsh to produce error messages when an option is set,
then I'd say SPROMPT ought not to be initialized to that.  The user
shouldn't have to know that he can't set certain combinations of options
without also changing his prompts.  That's just too silly.

-- 
Bart Schaefer                             Brass Lantern Enterprises
http://www.well.com/user/barts            http://www.nbn.com/people/lantern


