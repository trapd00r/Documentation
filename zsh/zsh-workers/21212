From zsh-workers-return-21212-mason-zsh=primenet.com.au@sunsite.dk Thu Apr 28 21:53:12 2005
Return-Path: <zsh-workers-return-21212-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1763 invoked from network); 28 Apr 2005 21:53:11 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 28 Apr 2005 21:53:11 -0000
Received: (qmail 90795 invoked from network); 28 Apr 2005 21:53:05 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 28 Apr 2005 21:53:05 -0000
Received: (qmail 12981 invoked by alias); 28 Apr 2005 21:53:02 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 21212
Received: (qmail 12311 invoked from network); 28 Apr 2005 21:51:20 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 28 Apr 2005 21:51:20 -0000
Received: (qmail 89713 invoked from network); 28 Apr 2005 21:51:20 -0000
Received: from smtp-out-2002.amazon.com (207.171.160.38)
  by a.mx.sunsite.dk with SMTP; 28 Apr 2005 21:51:16 -0000
X-Amazon-Corporate-Relay: smtp-out-2002.iad2.amazon.com
X-AMAZON-TRACK: <zsh-workers@sunsite.dk>
Received: from smtp-in-1001.vdc.amazon.com by smtp-out-2002.amazon.com with ESMTP 
          (peer crosscheck: smtp-in-1001.vdc.amazon.com)
Received: from ex-mail-sea-02.ant.amazon.com (ex-mail-sea-02.sea3.amazon.com [172.20.6.100])
	by smtp-in-1001.vdc.amazon.com (8.12.10/8.12.10) with ESMTP id j3SLpEQI002977
	for <zsh-workers@sunsite.dk>; Thu, 28 Apr 2005 21:51:14 GMT
x-mimeole: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C54C3C.65E05D94"
Subject: BUG? Zsh does not print the last line of stdout of a child process if that line does not have newline char at end. BUG?
Date: Thu, 28 Apr 2005 14:51:13 -0700
Message-ID: <897DED128797EC46906FF8EDDBFB5DD03F8D38@ex-mail-sea-02.ant.amazon.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: BUG? Zsh does not print the last line of stdout of a child process if that line does not have newline char at end. BUG?
Thread-Index: AcVMPGWdO3EzO4V5TreXQo+UPpJe4Q==
From: "Batalov, Denis" <denisb@amazon.com>
To: <zsh-workers@sunsite.dk>
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-17.6 required=6.0 tests=BAYES_00,HTML_40_50,
	HTML_MESSAGE,USER_IN_DEF_WHITELIST autolearn=ham version=3.0.2
X-Spam-Hits: -17.6

This is a multi-part message in MIME format.

------_=_NextPart_001_01C54C3C.65E05D94
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

I have encountered unexpected zsh behaviour which looks like a bug. At =
the same time it is so basic that others must have seen it before, so =
maybe it's not. I would appreciate some clarification.

Basically, if the last line in the output of a command executed from the =
zsh command-line does not have the terminating newline character, then =
the line is not shown by zsh. Here is a simple test one can try:

$ echo -n gogi
$

On other shells, e.g. bash, the behaviour is as expected:

$ echo -n gogi
gogi$

Any comments? Please CC directly to my e-mail address, as I am not a =
regular reader.

Thanks,
--
Denis V. Batalov

------_=_NextPart_001_01C54C3C.65E05D94
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
6.5.7226.0">
<TITLE>BUG? Zsh does not print the last line of stdout of a child =
process if that line does not have newline char at end. BUG?</TITLE>
</HEAD>
<BODY>
<!-- Converted from text/rtf format -->

<P><FONT SIZE=3D2 FACE=3D"Arial">I have encountered unexpected zsh =
behaviour which looks like a bug. At the same time it is so basic that =
others must have seen it before, so maybe it's not. I would appreciate =
some clarification.</FONT></P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Basically, if the last line in the =
output of a command executed from the zsh command-line does not have the =
terminating newline character, then the line is not shown by zsh. Here =
is a simple test one can try:</FONT></P>

<P><FONT SIZE=3D2 FACE=3D"Arial">$ echo -n gogi</FONT>

<BR><FONT SIZE=3D2 FACE=3D"Arial">$</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">On other shells, e.g. bash, the =
behaviour is as expected:</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">$ echo -n gogi</FONT>

<BR><FONT SIZE=3D2 FACE=3D"Arial">gogi$</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Any comments? Please CC directly to my =
e-mail address, as I am not a regular reader.</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Thanks,</FONT>

<BR><FONT SIZE=3D2 FACE=3D"Arial">--</FONT>

<BR><FONT SIZE=3D2 FACE=3D"Arial">Denis V. Batalov</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C54C3C.65E05D94--

