From zsh-workers-request@euclid.skiles.gatech.edu Fri May 09 18:16:56 1997
Return-Path: <zsh-workers-request@euclid.skiles.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 3534 invoked from network); 9 May 1997 18:16:54 -0000
Received: from euclid.skiles.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 9 May 1997 18:16:54 -0000
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id OAA16682; Fri, 9 May 1997 14:06:10 -0400 (EDT)
Resent-Date: Fri, 9 May 1997 14:06:10 -0400 (EDT)
From: <hzoli@VNET.IBM.COM> (Zoltan T. Hidvegi)
Message-Id: <9705091809.AA14534@lotto.fishkill.ibm.com>
Subject: Re: test patches
In-Reply-To: <9760.199705091400@stone.dcs.warwick.ac.uk> from Zefram at "May 9, 97 03:00:46 pm"
To: zefram@dcs.warwick.ac.uk (Zefram)
Date: Fri, 9 May 1997 14:09:17 -0400 (EDT)
Cc: zsh-workers@math.gatech.edu (Zsh workers list)
X-Mailer: ELM [version 2.4ME+ PL31 (25)]
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"bGdm43.0.b44.IUsSp"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3105
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Zefram wrote:
> Zoltan Hidvegi wrote:
> >                                                          Unfortunately
> >some Linux programs assume that /bin/sh has brace expansion so I'm thinking
> >about making ignorebraces off by default even in sh mode.
>
> Please don't.  Those Linux programs are assuming that sh is really bash,
> and are therefore broken.  In my experience, considering how simple they
> are to fix, authors are usually willing to fix them.

You are right, but if I want to tell people that here is zsh, just link it
to sh and use it, they will complain that it brakes this and that.  Fixing
a program is easy, but finding all programs depending on this feature is
difficult, and even if you do find everything, old installations will still
have some old broken binaries.  For the same reason has zsh so much obscure
bug compatibility code.  And some Linux developers simply tell you, that if
/bin/sh is not bash, then your Linux system is broken anyway.

Perhaps there are'n too many programs using brace expansion, but I have
even seen a program using this in a system() libc call )-:.

Zoltan

