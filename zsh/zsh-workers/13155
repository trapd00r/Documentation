From zsh-workers-return-13155-mason-zsh=primenet.com.au@sunsite.auc.dk Sun Nov 12 20:19:51 2000
Return-Path: <zsh-workers-return-13155-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17474 invoked from network); 12 Nov 2000 20:19:50 -0000
Received: from sunsite.dk (HELO sunsite.auc.dk) (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 12 Nov 2000 20:19:50 -0000
Received: (qmail 8195 invoked by alias); 12 Nov 2000 20:19:48 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 13155
Received: (qmail 8185 invoked from network); 12 Nov 2000 20:19:47 -0000
Date: Sun, 12 Nov 2000 15:19:35 -0500
From: cgf@redhat.com
To: zsh-workers@sunsite.auc.dk
Subject: Re: Bug in cygwin with select and master pty
Message-ID: <20001112151935.A19351@ohreally.bosbc.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.1.4i

In article <001e01c049b7$7f159ea0$21c9ca95@mow.siemens.ru>,
Andrej Borsenkow <Andrej.Borsenkow@mow.siemens.ru> wrote:
>> } About select - so far there seems to be no known problems under cygwin
>> } (that does not mean, there are no problems).
>>
>>OK, if there are no known problems with select, then the test on line
>>1376 can change from `ret <= 0' to `ret < 0' -- and in that case it's
>>possible that we could split read_poll() into two cases, HAVE_SELECT v.
>>all the other code that's there.  I won't do that for now, though.
>
>Life is fun.  5 minutes later I discovered a bug that made blocking
>multiline reads (with or without pattern) hang at the end of the first
>line.  I sent sort of a patch to cygwin list, but I am not sure if it
>really does the right thing (it fixed the bug I've seen, O.K.  The
>question is whether it introduced another bugs :-)

I didn't see any followup to this but the new (1.1.5) release of cygwin
should not have this problem.

>Anyway, fiddling with currently released versions of cygwin is pretty
>useless wrt to zpty (all of them are buggy in some way).  Unfortunately
>(to us) zsh seems to be the only program that has these problems.  With
>all implications.

Have all of these problems been reported to the cygwin mailing list?  Are
there still problems in 1.1.5?

>The pgrp problem still remains.

What is the pgrp problem?  Was this reported to the cygwin mailing list?

cgf

