From zsh-workers-return-6524-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Jun 08 12:13:41 1999
Return-Path: <zsh-workers-return-6524-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 3395 invoked from network); 8 Jun 1999 12:13:40 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 8 Jun 1999 12:13:40 -0000
Received: (qmail 29325 invoked by alias); 8 Jun 1999 12:13:25 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 6524
Received: (qmail 29318 invoked from network); 8 Jun 1999 12:13:23 -0000
Date: Tue, 8 Jun 1999 16:12:27 +0400 (MSD)
From: Andrej Borsenkow <bor@itsmx1.mow.sni.de>
X-Sender: bor@itsrm2.mow.siemens.ru
Reply-To: borsenkow.msk@sni.de
To: Bram@vim.org, zsh-workers@sunsite.auc.dk
Subject: vim-5.4l: patch to recognize ZSH new completion functions
Message-ID: <Pine.SV4.4.10.9906081607270.17600-100000@itsrm2.mow.siemens.ru>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

This patch enables vim to correctly recognize ZSH new completion functions
as ZSH scripts. I hope, they are already in stable enough state to justify
inclusion in VIM.

regards

/andrej

=================
--- scripts.vim.org	Mon Jun  7 18:14:38 1999
+++ scripts.vim	Tue Jun  8 16:03:15 1999
@@ -43,6 +43,10 @@
 elseif getline(1) =~ '^#!.*[/\\]zsh\>'
   set ft=zsh
 
+" Z shell completion functions
+elseif getline(1) =~ '^#compdef\>' || getline(1) =~ '^#autoload\>'
+  set ft=zsh
+
 " ELM Mail files
 elseif getline(1) =~ '^From [a-zA-Z][a-zA-Z_0-9\.=-]*\(@[^ ]*\)\= .*[12][09]\d\d$'
   set ft=mail

