From zsh-workers-return-25005-mason-zsh=primenet.com.au@sunsite.dk Mon May 12 16:04:18 2008
Return-Path: <zsh-workers-return-25005-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17561 invoked from network); 12 May 2008 16:04:16 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.4 (2008-01-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.4
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 12 May 2008 16:04:16 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 25429 invoked from network); 12 May 2008 16:04:10 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 12 May 2008 16:04:10 -0000
Received: (qmail 7922 invoked by alias); 12 May 2008 16:04:08 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 25005
Received: (qmail 7908 invoked from network); 12 May 2008 16:04:07 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 12 May 2008 16:04:07 -0000
Received: from cork.scru.org (cork.scru.org [80.68.89.82])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 7198880ED172
	for <zsh-workers@sunsite.dk>; Mon, 12 May 2008 18:04:03 +0200 (CEST)
Received: by cork.scru.org (Postfix, from userid 1000)
	id 4825D1822E; Mon, 12 May 2008 17:04:00 +0100 (BST)
Date: Mon, 12 May 2008 17:04:00 +0100
From: Clint Adams <schizo@debian.org>
To: zsh-workers@sunsite.dk
Cc: martin f krafft <madduck@debian.org>, 480889@bugs.debian.org
Subject: Re: Bug#480889: zcompiling messes with alias-in-function expansion
Message-ID: <20080512160400.GA10140@scru.org>
Mail-Followup-To: zsh-workers@sunsite.dk,
	martin f krafft <madduck@debian.org>, 480889@bugs.debian.org
References: <20080512145509.GA15757@lapse.madduck.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20080512145509.GA15757@lapse.madduck.net>
User-Agent: Mutt/1.5.17+20080114 (2008-01-14)
X-Virus-Scanned: ClamAV 0.91.2/7102/Mon May 12 15:06:15 2008 on bifrost
X-Virus-Status: Clean

I imagine that this is somehow related to

alias foo='echo bar'; foo

On Mon, May 12, 2008 at 03:55:09PM +0100, martin f krafft wrote:
> % cat <<_eof > foo
> alias foo='echo bar'
> fn() { foo }
> foo
> which foo
> _eof
> % . ./foo
> bar
> foo: aliased to echo bar
> % unalias foo; unfunction fn
> % zcompile foo
> % . ./foo
> ./foo:3: command not found: foo
> foo: aliased to echo bar
> 
> 
> OUCH!

