From zsh-users-return-15269-mason-zsh=primenet.com.au@zsh.org Thu Aug 12 11:04:50 2010
Return-Path: <zsh-users-return-15269-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9708 invoked by alias); 12 Aug 2010 11:04:50 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 15269
Received: (qmail 2481 invoked from network); 12 Aug 2010 11:04:45 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00,RCVD_IN_DNSWL_LOW,
	SPF_HELO_PASS autolearn=ham version=3.3.1
Received-SPF: none (ns1.primenet.com.au: domain at csr.com does not designate permitted sender hosts)
Date: Thu, 12 Aug 2010 12:03:56 +0100
From: Peter Stephenson <Peter.Stephenson@csr.com>
To: zsh-users@zsh.org
Subject: Re: Completion and double quotes
Message-ID: <20100812120356.517aec61@csr.com>
In-Reply-To: <201008121253.54918.joke@seiken.de>
References: <201008112130.10895.joke@seiken.de>
	<20100812103126.64aa5bce@csr.com>
	<201008121253.54918.joke@seiken.de>
Organization: Cambridge Silicon Radio
X-Mailer: Claws Mail 3.7.6 (GTK+ 2.18.9; i686-redhat-linux-gnu)
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 12 Aug 2010 11:04:07.0431 (UTC) FILETIME=[1577B170:01CB3A0E]
X-Scanned-By: MailControl A_09_40_00 (www.mailcontrol.com) on 10.68.0.135

On Thu, 12 Aug 2010 12:53:52 +0200
Joke de Buhr <joke@seiken.de> wrote:
> On Thursday 12 August 2010 11:31:26 Peter Stephenson wrote:
> > On Wed, 11 Aug 2010 21:30:08 +0200
> > 
> > Joke de Buhr <joke@seiken.de> wrote:
> > > Currently my completion is somehow configured to transform double
> > > quoted paths to backslash escaped paths.
> > > 
> > > Example:
> > >   ls /path/to/"file with"<TAB> -> /path/to/file\ with\ spaces
> > > 
> > > I would like the completion not to touch the quotation.
> > 
> > It's not configurable, but you can put the double quote right at
> > the start of the filename and it probably does what you want.
> > 
> 
> If put the double quote right at the start is there any way to get
> the completion to work paths beginning with "~" ?

Interesting case, and I think you're stuck there.  Unless someone can see
an ingenious solution, the only way would be to expand the ~ first or use
variables.  You could semi-automate converting the ~ to something starting
"/home/blah with some shell function magic, but without grungy changes deep
in the completion code I think that's as good as it's going to get.

-- 
Peter Stephenson <pws@csr.com>            Software Engineer
Tel: +44 (0)1223 692070                   Cambridge Silicon Radio Limited
Churchill House, Cambridge Business Park, Cowley Road, Cambridge, CB4 0WZ, UK


Member of the CSR plc group of companies. CSR plc registered in England and Wales, registered number 4187346, registered office Churchill House, Cambridge Business Park, Cowley Road, Cambridge, CB4 0WZ, United Kingdom

