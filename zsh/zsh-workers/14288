From zsh-workers-return-14288-mason-zsh=primenet.com.au@sunsite.dk Thu May 10 00:17:35 2001
Return-Path: <zsh-workers-return-14288-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 23554 invoked from network); 10 May 2001 00:17:34 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 10 May 2001 00:17:34 -0000
Received: (qmail 10571 invoked by alias); 10 May 2001 00:17:29 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 14288
Received: (qmail 10551 invoked from network); 10 May 2001 00:17:28 -0000
X-Authentication-Warning: godzilla.phydeaux.org: fletch set sender to fletch@phydeaux.org using -f
Sender: fletch@phydeaux.org
To: Peter Stephenson <pws@csr.com>
Cc: zsh-workers@sunsite.dk (Zsh users list)
Subject: Re: zsh-4.0.1-pre-4
References: <Tc0a88d015369d1a602@mailsweeper01.cambridgesiliconradio.com>
From: Fletch <fletch@phydeaux.org>
Organization: Very Little
Date: 09 May 2001 20:17:07 -0400
In-Reply-To: Peter Stephenson's message of "Wed, 09 May 2001 11:53:24 +0100"
Message-ID: <m2heyut5vg.fsf@godzilla.phydeaux.org>
Lines: 67
User-Agent: Gnus/5.0807 (Gnus v5.8.7) XEmacs/20.4 (Emerald)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii


        Problems on Solaris 2.7 with HAVE_CURSES_H not getting defined 
correctly.  This may just be my particular gcc install (the SMCgcc
2.95.2 package from sunfreeware).


gcc -c -I. -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DHAVE_CONFIG_H
-DMODULE -Wall -Wno-implicit -Wmissing-prototypes -O2 -fpic -o
termcap..o termcap.c
termcap.c: In function `scantermcap':
termcap.c:327: `boolcodes' undeclared (first use in this function)
termcap.c:327: (Each undeclared identifier is reported only once
termcap.c:327: for each function it appears in.)
termcap.c:336: `numcodes' undeclared (first use in this function)
termcap.c:345: `strcodes' undeclared (first use in this function)
termcap.c:256: warning: `capcode' might be used uninitialized in this function
make[3]: *** [termcap..o] Error 1


        Configure'd with just `./configure --prefix=/usr/local'.
Looking config.log shows:

configure:3336: gcc -c  -Wall -Wno-implicit -Wmissing-prototypes -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 conftest.c 1>&5
In file included from /usr/include/curses.h:23,
                 from /usr/local/lib/gcc-lib/sparc-sun-solaris2.7/2.95.2/include/curses.h:5,
                 from configure:3329:
/usr/include/widec.h:42: warning: `getwc' redefined
/usr/include/wchar.h:326: warning: this is the location of the previous definition
/usr/include/widec.h:43: warning: `putwc' redefined
/usr/include/wchar.h:329: warning: this is the location of the previous definition
/usr/include/widec.h:44: warning: `getwchar' redefined
/usr/include/wchar.h:327: warning: this is the location of the previous definition
/usr/include/widec.h:45: warning: `putwchar' redefined
/usr/include/wchar.h:330: warning: this is the location of the previous definition


        If I edit config.h and define HAVE_CURSES_H by hand everything
compiles fine.


zsh configuration
-----------------
zsh version               : 4.0.1-pre-4
host operating system     : sparc-sun-solaris2.7
source code location      : .
compiler                  : gcc
preprocessor flags        : -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64
executable compiler flags :  -Wall -Wno-implicit -Wmissing-prototypes
-O2
module compiler flags     :  -Wall -Wno-implicit -Wmissing-prototypes
-O2 -fpic
executable linker flags   :   -s
module linker flags       :   -s -G
library flags             : -lsocket -ldl -lnsl -lcurses -lm  -lc
installation basename     : zsh
binary install path       : /usr/local/bin
man page install path     : /usr/local/man
info install path         : /usr/local/info
functions install path    : /usr/local/share/zsh/4.0.1-pre-4/functions
See config.modules for installed modules and functions.


-- 
Fletch                | "If you find my answers frightening,       __`'/|
fletch@phydeaux.org   |  Vincent, you should cease askin'          \ o.O'
770 933-0600 x211(w)  |  scary questions." -- Jules                =(___)=
                      |                                               U

