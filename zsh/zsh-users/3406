From zsh-users-return-3406-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Aug 31 10:34:53 2000
Return-Path: <zsh-users-return-3406-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18161 invoked from network); 31 Aug 2000 10:34:52 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 31 Aug 2000 10:34:52 -0000
Received: (qmail 385 invoked by alias); 31 Aug 2000 10:33:55 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 3406
Received: (qmail 378 invoked from network); 31 Aug 2000 10:33:54 -0000
Date: Thu, 31 Aug 2000 12:33:50 +0200 (MET DST)
Message-Id: <200008311033.MAA01929@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-users@sunsite.auc.dk
CC: Klaus Wacker <wacker@Physik.Uni-Dortmund.DE>
In-reply-to: Klaus Wacker's message of Thu, 31 Aug 2000 12:17:07 +0200
Subject: Re: Completion doesn't work after upgrade


Klaus Wacker wrote:

> Dear Zsh, I just upgraded my notebook from Debian Linux 2.1 to 2.2,
> which brought with it an upgrade of zsh from 3.1.2-10 to
> 3.1.6.pws21-1. After the upgrade, TAB completion didn't work any more,
> i.e., hitting TAB when the cursor is at the end of an incomplete
> filename on the command line has no effect at all.
> 
> I found by accident that `compctl -L' will make it work again,
> although, according to man zshcomp, the existing behavior is not
> supposed to be changed by this option.
> 
> I traced the problem to the two statements:
> 
> bindkey -me
> bindkey '^[[2~' overwrite-mode
> 
> in my ~/.zshrc. If I omit both, the problem goes away. Either one of
> them or both will cause the problem to reappear.
> 
> I could of course put `compctl -L >/dev/null' into my .zshrc, but
> somehow I think that that is not the correct solution.

At least one of the betas had the bug that the compctl module
wasn't loaded automatically (and it was affected by autoloading of the
zle module). I'm pretty sure this is the problem you've discovered.

So, to make things work, you can either use the workaround you
discovered or upgrade to a newer version of zsh.

You can also have a look at the new completion system...


We apologise for the inconvenience.


Bye
 Sven

P.S.: This has been fixed quite some time ago, dunno why Debian 2.2
      comes with a version of zsh that has this bug.

--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

