From zsh-workers-return-19055-mason-zsh=primenet.com.au@sunsite.dk Wed Sep 10 06:26:55 2003
Return-Path: <zsh-workers-return-19055-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 29295 invoked from network); 10 Sep 2003 06:26:54 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 10 Sep 2003 06:26:54 -0000
Received: (qmail 7031 invoked by alias); 10 Sep 2003 06:26:43 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 19055
Received: (qmail 7017 invoked from network); 10 Sep 2003 06:26:42 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 10 Sep 2003 06:26:42 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [131.246.137.52] by sunsite.dk (MessageWall 1.0.8) with SMTP; 10 Sep 2003 6:26:41 -0000
Received: from mailgate1.uni-kl.de (mailgate1.uni-kl.de [131.246.120.5])
	by uni-kl.de (8.12.8/8.12.8) with ESMTP id h8A6QYj4009282;
	Wed, 10 Sep 2003 08:26:34 +0200 (MET DST)
Received: from hlrwm.rhrk.uni-kl.de (hlrwm.rhrk.uni-kl.de [131.246.91.18])
	by mailgate1.uni-kl.de (8.12.7/8.12.7) with ESMTP id h8A6QXj9011562;
	Wed, 10 Sep 2003 08:26:34 +0200
Received: by hlrwm.rhrk.uni-kl.de (Postfix, from userid 1001)
	id 5B67A7D9E; Wed, 10 Sep 2003 08:26:33 +0200 (CEST)
Message-ID: <XFMail.20030910082633.backes@rhrk.uni-kl.de>
X-Mailer: XFMail 1.5.4 on Linux
X-Priority: 3 (Normal)
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 8bit
MIME-Version: 1.0
Resent-Date: Tue, 9 Sep 2003 16:15:02 +0000
Resent-Message-Id: <1030909161503.ZM769@candle.brasslantern.com>
Resent-From: Bart Schaefer <schaefer@brasslantern.com>
Resent-To: zsh-workers <zsh-workers@sunsite.dk>
Date: Wed, 10 Sep 2003 08:26:33 +0200 (CEST)
X-Face: B^`ajbarE`qo`-u#R^.)e]6sO?X)FpoEm\>*T:H~b&S;U/h$2>my}Otw5$+BDxh}t0TGU?>
 O8Bg0/jQW@P"eyp}2UMkA!lMX2QmrZYW\F,OpP{/s{lA5aG'0LRc*>n"HM@#M~r8Ub9yV"0$^i~hKq
 P-d7Vz;y7FPh{XfvuQA]k&X+CDlg"*Y~{x`}U7Q:;l?U8C,K\-GR~>||pI/R+HBWyaCz1Tx]5
Reply-To: Joachim Backes <backes@rhrk.uni-kl.de>
Organization: University of Kaiserslautern,
 Computer Center [Supercomputing division]
Sender: backes@rhrk.uni-kl.de
From: Joachim Backes <backes@rhrk.uni-kl.de>
To: zsh-workers <zsh-workers@sunsite.dk>,
   Bart Schaefer <schaefer@brasslantern.com>
Subject: FWD: Re: zsh-4.0.7 memory fault in IRIX 6.5


-----FW: <1030909161503.ZM769@candle.brasslantern.com>-----

Date: Tue, 9 Sep 2003 16:15:02 +0000
From: Bart Schaefer <schaefer@brasslantern.com>
To: zsh-workers <zsh-workers@sunsite.dk>
Subject: Re: zsh-4.0.7 memory fault in IRIX 6.5

On Sep 9,  8:30am, Joachim Backes wrote:
} 
} if I have an (very old) /etc/zshenv with the contents
} 
}         setopt shwordsplit

I can't imagine anything that would confuse zsh users more (I can think
of a few that would confuse them just as badly) but I suppose if you are
the only one on the system ...

} then zsh dies directly after start with "memory fault". The reason
} seems to be the (invalid ??) contents of /etc/zshenv.

Does it matter _what_ the contents are?  That is, if you change it to
something other than 'setopt shwordsplit' does it still crash?

Just because I have it in the SGI section of my own .zshenv, try this
as the very first thing in /etc/zshenv:

if [[ -n "$ENVONLY" ]]
then
    unsetopt zle
fi

--------------End of forwarded message-------------------------

Hi Bart,

all problems disappear when configuring zsh with

        ./configure --enable-cflags='-LANG:vla=off -O'

or when using gcc for making (standard).

Regards

Joachim Backes

--

Joachim Backes <backes@rhrk.uni-kl.de>
University of Kaiserslautern,Computer Center,
High Performance Computing Department,
D-67653 Kaiserslautern, PO Box 3049, Germany
--------------------------------------------------
Phone: +49-631-205-2438, FAX: +49-631-205-3056
http://hlrwm.rhrk.uni-kl.de/home/staff/backes.html  

