From zsh-users-return-3523-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Nov 24 02:07:05 2000
Return-Path: <zsh-users-return-3523-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 27344 invoked from network); 24 Nov 2000 02:07:03 -0000
Received: from sunsite.dk (HELO sunsite.auc.dk) (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 24 Nov 2000 02:07:03 -0000
Received: (qmail 21486 invoked by alias); 24 Nov 2000 02:06:52 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 3523
Received: (qmail 21478 invoked from network); 24 Nov 2000 02:06:50 -0000
To: zsh-users@sunsite.auc.dk
Path: mason
From: mason@primenet.com.au (Geoff Wing)
X-Newsgroups: lists.zsh.users
Subject: Re: problem with CSH_NULL_GLOB
Date: 24 Nov 2000 02:06:33 GMT
Organization: PrimeNet Computer Consultants
Lines: 36
Distribution: local
Message-ID: <slrn91rj99.qfc.mason@coral.primenet.com.au>
References: <20001123205324.A5813@khazad-dum>
Reply-To: mason@primenet.com.au
NNTP-Posting-Host: coral.primenet.com.au
X-Trace: coral.primenet.com.au 975031593 27318 203.43.15.2 (24 Nov 2000 02:06:33 GMT)
X-Complaints-To: usenet@coral.primenet.com.au
NNTP-Posting-Date: 24 Nov 2000 02:06:33 GMT
User-Agent: slrn/0.9.6.3 (NetBSD)

Maciej Kalisiak <mac@cs.toronto.edu> typed:
:When I "setopt CSH_NULL_GLOB" and do "ls *.cc *.c" in my home directory, it
:lists all the files there (i.e. none of the GLOBs matched anything and they
:have been both removed without error).  I was expecting an error, or at the
:very least nothing to be listed.  Do I misunderstand this option or is there
:something wrong?

It looks like a bug in zsh.  I think you may have NULL_GLOB also set - if
so you will need to unsetopt it until you have a fixed zsh.  You also
didn't say which version - though I can reproduce this with 3.0.8 and a
recent development version.

% mkdir foo
% zsh -f
% setopt CSH_NULL_GLOB
% cd foo
% ls *.cc *.c
zsh: no match
% exit
% zsh -f
% setopt cshnullglob nullglob
% cd foo
% ls *.cc *.c
%

"CSH_NULL_GLOB <C>
	If  a  pattern  for  filename  generation  has   no
	matches, delete the pattern from the argument list;
	do not report an error unless all the patterns in a
	command have no matches.  Overrides NULL_GLOB."

Regards,
-- 
Geoff Wing : <gcw@pobox.com>
Rxvt Stuff : <gcw@rxvt.org>
Zsh Stuff  : <gcw@zsh.org>

