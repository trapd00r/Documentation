Delivered-To: mason-zsh@primenet.com.au
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <990202085415.ZM6787@candle.brasslantern.com>
Date: Tue, 2 Feb 1999 08:54:15 -0800
In-Reply-To: <199902021226.NAA09121@beta.informatik.hu-berlin.de>
Comments: In reply to Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
        "Re: Fun with zsh (Re: Associative array ordering (Re: Example function))" (Feb  2,  1:26pm)
References: <199902021226.NAA09121@beta.informatik.hu-berlin.de>
X-Mailer: Z-Mail (4.0b.820 20aug96)
To: zsh-workers@sunsite.auc.dk
Subject: Re: Fun with zsh (Re: Associative array ordering (Re: Example function))
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailing-List: <zsh-workers@sunsite.auc.dk> 5182

On Feb 2,  1:26pm, Sven Wischnowsky wrote:
} Subject: Re: Fun with zsh (Re: Associative array ordering (Re: Example fun
}
} In the previous message Bart wrote:
} 
} > That's obviously wrong here in more ways than one, and in fact my own
} > just-compiled copy of zsh dumps core when I do the same thing.
} 
} I'm not sure, in which ways zsh is wrong to do completion here. After
} all, it gets TABs. And even inside array values completion may be
} useful, don't you think?

I don't mean that it shouldn't do completion at all, just that it seemed
to be completing the wrong thing.

Following application of your patch, using 3.1.5-pws-6 zsh -f,

    zsh% foo=('(I*)<TAB>

only feeps, but

    zsh% foo(
    array> '(I*)<TAB>

autolists the entire contents of the current directory.

This is the same as the 3.0.5 behavior, but it still seems odd to me.

[Interestingly, with _my_ otherwise incorrect patch, doing

    zsh% foo(
    array> '(I*|)<TAB>

(note the alternation syntax) expands the word to INSTALL, but with
Sven's patch it autolists again.]

BTW, while fooling with this, I discovered that autolist output is not
properly cleared when M-x is the next thing typed (execute-named-cmd).

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

