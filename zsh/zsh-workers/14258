From zsh-workers-return-14258-mason-zsh=primenet.com.au@sunsite.dk Tue May 08 12:31:29 2001
Return-Path: <zsh-workers-return-14258-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 16331 invoked from network); 8 May 2001 12:31:26 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 8 May 2001 12:31:26 -0000
Received: (qmail 13021 invoked by alias); 8 May 2001 12:31:14 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 14258
Received: (qmail 13010 invoked from network); 8 May 2001 12:31:13 -0000
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
Date: Tue, 8 May 2001 14:31:02 +0200 (MET DST)
Message-Id: <200105081231.OAA03845@beta.informatik.hu-berlin.de>
To: zsh-workers@sunsite.dk
Subject: Re: PATCH: Improve handling of b/n/s subscript flags
In-Reply-To: <3AF7DDAB.72A6000F@u.genie.co.uk>

Oliver Kiddle wrote:

> ...
> 
> It'll be whatever C code decides the current context. This has never
> been perfect for determining whether we are in a subscript hence the
> completion of character classes in _subscript. If we want similar
> completion for zsh's various other flags, then I expect it is the same
> bit of code that needs updating to give us access to those areas in
> shell code.

I meant to reply to this thread earlier and then forgot.

There are mainly two (basic) things in completion I'd like to work on
after the next release.  One is suffix handling (we had some discussion
about this quite some time ago and Bart's last mails made it spin around
in my head again).  The other is moving more of the C-code into shell
code, especially parts of the code that tries to find out where we are
completing.  This is a very ugly part of the C-code and I hope with some
clever supporting builtins this will be more manageable when in shell
code.

And then I would like to have that context-determining code to be
generic enough to be used elsewhere (we were discussing that this might
be useful to have for other zle widgets, too, e.g. word-movement).


Bye
  Sven


-- 
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

