From zsh-users-return-10835-mason-zsh=primenet.com.au@sunsite.dk Thu Oct 12 08:51:55 2006
Return-Path: <zsh-users-return-10835-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2852 invoked from network); 12 Oct 2006 08:51:51 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.6 (2006-10-03) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00,
	FORGED_RCVD_HELO autolearn=ham version=3.1.6
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 12 Oct 2006 08:51:51 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 29748 invoked from network); 12 Oct 2006 08:51:40 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 12 Oct 2006 08:51:40 -0000
Received: (qmail 7415 invoked by alias); 12 Oct 2006 08:51:32 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 10835
Received: (qmail 7406 invoked from network); 12 Oct 2006 08:51:32 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 12 Oct 2006 08:51:32 -0000
Received: (qmail 28508 invoked from network); 12 Oct 2006 08:51:32 -0000
Received: from david.siemens.de (192.35.17.14)
  by a.mx.sunsite.dk with SMTP; 12 Oct 2006 08:51:29 -0000
Received: from mail1.siemens.de (localhost [127.0.0.1])
	by david.siemens.de (8.12.6/8.12.6) with ESMTP id k9C8ldcR017746;
	Thu, 12 Oct 2006 10:47:39 +0200
Received: from mchp771a.ww002.siemens.net (mchp771a.ww002.siemens.net [139.25.131.189])
	by mail1.siemens.de (8.12.6/8.12.6) with ESMTP id k9C8ldPB032646;
	Thu, 12 Oct 2006 10:47:39 +0200
Received: from MCHP7R6A.ww002.siemens.net ([139.25.131.164]) by mchp771a.ww002.siemens.net with Microsoft SMTPSVC(6.0.3790.1830);
	 Thu, 12 Oct 2006 10:47:39 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: logout from interactive subshell
Date: Thu, 12 Oct 2006 10:47:38 +0200
Message-ID: <F7507090F1A72B43A51444325DFBE43101391DF2@MCHP7R6A.ww002.siemens.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: logout from interactive subshell
thread-index: Acbt2xG0TAhlYr+yQr+Yg16SvmfXSg==
From: "Com MN PG P E B Consultant 3" <mn-pg-p-e-b-consultant-3.com@siemens.com>
To: <bug-bash@gnu.org>, "zsh-users Mailinglist" <zsh-users@sunsite.dk>
X-OriginalArrivalTime: 12 Oct 2006 08:47:39.0532 (UTC) FILETIME=[12C774C0:01C6EDDB]

Does someone know how to deal with the following situation?

Very often I do the following pattern:

   (1) rlogin to a foreign host
   (2) Invoke a subshell (for example because I'm setting a Clearcase
View)
   (3) Logout from the host

Step (3) needs two steps: First I have to type 'exit' to leave the
subshell,
and then either 'exit' or 'logout' to leave the login shell.

Is it possible to automate this in such a way that I have to type only
one
command, to leave all subshells (in this case, only 1, but in general, I
might be several subshells deep) AND then logout?

One idea would be to use ps, locate the process to the current subshell,
crawling upwards via the PPIDs to find the PID of the login shell, and
kill
it. But this seems to be such an awkward solution, that I thought maybe
there is an easier way to do it.

(Note: This posting goes to the bash and to the zsh mailing list,
because this problem
might be solved differently in both shells, and I'm interested in both
solutions - of
course a solution working in bash AND zsh would be preferable).

Ronald
--=20
Ronald Fischer (phone +49-89-63676431)
mailto:mn-pg-p-e-b-consultant-3.com@siemens.com

