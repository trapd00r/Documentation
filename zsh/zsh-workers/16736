From zsh-workers-return-16736-mason-zsh=primenet.com.au@sunsite.dk Wed Feb 27 18:03:36 2002
Return-Path: <zsh-workers-return-16736-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1246 invoked from network); 27 Feb 2002 18:03:35 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 27 Feb 2002 18:03:35 -0000
Received: (qmail 26217 invoked by alias); 27 Feb 2002 18:03:29 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 16736
Received: (qmail 26203 invoked from network); 27 Feb 2002 18:03:28 -0000
Date: Wed, 27 Feb 2002 10:03:23 -0800 (PST)
From: Bart Schaefer <schaefer@brasslantern.com>
Sender: <schaefer@ns1.sodaware.com>
To: Peter Stephenson <pws@csr.com>
cc: Zsh hackers list <zsh-workers@sunsite.dk>
Subject: Re: up-line-or-search question 
In-Reply-To: <4765.1014830972@csr.com>
Message-ID: <Pine.LNX.4.33.0202270938270.18592-100000@ns1.sodaware.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Wed, 27 Feb 2002, Peter Stephenson wrote:

> The answer to the question Bart asked the first time round `how do I
> find out if I'm at PS2' is, unless I'm missing a subtlety, `[[ -n
> $PREBUFFER ]]'.

(Hand smacks forehead)

> It's not clear to me what you do in that case anyway.

My knee-jerk reaction was to say "never do history-beginning-search" but
on further though I can see why it might sometimes be wanted.

Personally, I'd do something like

	[[ -n $PREBUFFER ]] && zle .push-line-or-edit

which would be perfect if only it didn't beep.

