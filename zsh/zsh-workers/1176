From A.Main@dcs.warwick.ac.uk Sun May 26 07:06:12 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by melb.werple.net.au (8.7.5/8.7.3) with ESMTP id HAA09097 for <mason@werple.mira.net.au>; Sun, 26 May 1996 07:06:10 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id QAA07437; Sat, 25 May 1996 16:52:18 -0400 (EDT)
Resent-Date: Sat, 25 May 1996 16:52:18 -0400 (EDT)
From: Zefram <A.Main@dcs.warwick.ac.uk>
Message-Id: <13043.199605252052@stone.dcs.warwick.ac.uk>
Subject: Re: clwords bugfix
To: coleman@math.gatech.edu (Richard Coleman)
Date: Sat, 25 May 1996 21:52:09 +0100 (BST)
Cc: zsh-workers@math.gatech.edu
In-Reply-To: <199605251802.OAA20740@redwood.skiles.gatech.edu> from "Richard Coleman" at May 25, 96 02:02:46 pm
X-Loop: zefram@dcs.warwick.ac.uk
X-Stardate: [-31]7559.34
X-US-Congress: Moronic fuckers
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"g6BHa1.0.7q1.1Ctfn"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/1176
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu
Content-Length: 686
Status: O

>What Unix has a NULL that isn't all-bits-zero?

I'm not sure about Unices, but the C FAQ does list more than one system.

>                                                That would break
>a tremendous amount of code.  There all lots of places in zsh
>that assume this and use memset.  I don't think we should change
>this.

I haven't noticed any other places that use memset for this purpose.  I
only noticed this one because I was looking for this particular bug.  I
think if there are other places that do this we should fix them because
they are broken.  GCC can probably optimise looped assignments to be
almost as good as memset on systems where NULL is all-bits-zero.

-zefram


