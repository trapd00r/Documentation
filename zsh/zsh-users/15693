From zsh-users-return-15693-mason-zsh=primenet.com.au@zsh.org Fri Jan 07 02:35:46 2011
Return-Path: <zsh-users-return-15693-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9859 invoked by alias); 7 Jan 2011 02:35:46 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 15693
Received: (qmail 16220 invoked from network); 7 Jan 2011 02:35:43 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00,RCVD_IN_DNSWL_LOW
	autolearn=ham version=3.3.1
Received-SPF: pass (ns1.primenet.com.au: SPF record at bounce.antispameurope.com designates 83.246.65.54 as permitted sender)
KRecCount: 1
X-Originating-IP: [217.85.53.150]
X-KInfo: !spam auth
Date: Fri, 7 Jan 2011 03:35:25 +0100
From: Andy Spiegl <zsh.Andy@spiegl.de>
To: zsh-users@zsh.org
Subject: substring completion question
Message-ID: <20110107023524.GA16245@spiegl.de>
Mail-Followup-To: zsh-users@zsh.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-15
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
X-PGP-GPG-Keys: mail -s "send pgp" auto@spiegl.de
X-Fingerprint: Key-ID C2CB30F0: 9051 50B9 13B0 57B9 10FD  48AC 4FA1 209B
 C2CB 30F0
X-Accepted-File-Formats: ASCII PDF OpenOffice - NO proprietory Microsoft
 files, please
X-how-to-quote: http://quoting.is-easy.de/
X-how-to-ask-questions: http://www.catb.org/~esr/faqs/smart-questions.html
X-stupid-disclaimers: http://goldmark.org/jeff/stupid-disclaimers/
User-Agent: Mutt/1.5.20 (2009-06-14)

Hi, one more question :-)

I'm using this wonderful matcher style:
 zstyle ':completion:*' matcher-list 'm:{A-ZÄÖÜa-zäöü}={a-zäöüA-ZÄÖÜ} m:[-_]=[-_] r:|[-_]=** r:|=*' '+l:|=*'

When friends of mine watch me typing and tabbing they get jealous and
some of them start trying zsh.  But usually they soon get frightened
off when they see what zsh does to their command line.
Examples:

$ ls
bar2-foo-baz2  bar-foo-baz  baz1-foo-bar1  baz-foo-bar

$ ls foo<tab>
$ ls ba-foo-ba
bar2-foo-baz2  bar-foo-baz    baz1-foo-bar1  baz-foo-bar

How can I setup their zsh such that it only shows unambiguous prefixes on
the command line but still shows substring-completions in the list of
possible completions?  In this case it should simply not change the
command line at all but list all 4 possible filenames.  Like so:
$ ls foo<tab>
$ ls foo
bar2-foo-baz2  bar-foo-baz    baz1-foo-bar1  baz-foo-bar

I tried
 zstyle ':completion::match:*' insert-unambiguous pattern
but that doesn't seem to make a difference.
Well, they could use menu_complete of course but then they'd need to
press the undo key to get back to their original command line.


Another a little disturbing thing is that right after starting menu
selection in interactive mode the TAB key does nothing.  After
pressing any cursor key the TAB key works again as expected
(i.e. jumping to the next entry)


Thanks!
 Andy.


-- 
 Those who reach their goals too easily have aimed too low.

