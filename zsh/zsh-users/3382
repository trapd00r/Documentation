From zsh-users-return-3382-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Aug 21 07:29:45 2000
Return-Path: <zsh-users-return-3382-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10873 invoked from network); 21 Aug 2000 07:29:42 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 21 Aug 2000 07:29:42 -0000
Received: (qmail 15966 invoked by alias); 21 Aug 2000 07:28:58 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 3382
Received: (qmail 15956 invoked from network); 21 Aug 2000 07:28:57 -0000
Date: Mon, 21 Aug 2000 00:02:23 -0700
From: Danek Duvall <duvall@lorien.emufarm.org>
To: "Andrej Borsenkow" <Andrej.Borsenkow@mow.siemens.ru>
Cc: "Roland Jesse" <jesse@mail.CS.Uni-Magdeburg.De>,
        "Zsh Users" <zsh-users@sunsite.auc.dk>
Subject: Re: 3.1.9 build fails at zftp.c when using Sun's WorkShop Compilers 5.0
Message-ID: <20000821000223.A29846@lorien.emufarm.org>
Mail-Followup-To: "Andrej Borsenkow" <Andrej.Borsenkow@mow.siemens.ru>,
	"Roland Jesse" <jesse@mail.CS.Uni-Magdeburg.De>,
	"Zsh Users" <zsh-users@sunsite.auc.dk>
References: <20000818101124.A9766@lorien.emufarm.org> <000001c00b3c$b2cbd520$21c9ca95@mow.siemens.ru>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 1.0pre3i
In-Reply-To: <000001c00b3c$b2cbd520$21c9ca95@mow.siemens.ru>

On Mon, Aug 21, 2000 at 10:54:48AM +0400, Andrej Borsenkow wrote:

> Danek Duvall wrote:
> > On Solaris, inet_pton and friends live in -lnsl.  -lnsl and -lresolv are not
> > both necessary, only the former.  And -lsocket seems to require -lnsl.

I misspoke here.  inet_aton() is in fact in -lresolv, but inet_pton() and
inet_ntop() are in -lnsl.

> O.K., once more. Was it clean install? Is it possible, that you have used
> wrong cache file for some reason? I get exactly the above lines when I run
> configure and it takes values from cache. If I remove config.cache and rerun
> configure, I get clear error messages.

A clean install gives me the expected errors -- it fails to find
inet_aton() because it doesn't try -lresolv (and spews the appropriate
errors to config.log), but it succeeds in finding the other two, and
config.log is clean for them (just the compilation line).

> What are the values of ac_cv_have_func_aton etc from config.log? If they are
> correct, configure fails to set defines for some reason.

config.cache, I assume:

ac_cv_func_inet_aton=${ac_cv_func_inet_aton='no'}
ac_cv_func_inet_ntop=${ac_cv_func_inet_ntop='yes'}
ac_cv_func_inet_pton=${ac_cv_func_inet_pton='yes'}

Danek

