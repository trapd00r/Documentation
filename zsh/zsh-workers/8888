From zsh-workers-return-8888-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Dec 03 17:09:41 1999
Return-Path: <zsh-workers-return-8888-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 25285 invoked from network); 3 Dec 1999 17:09:39 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 3 Dec 1999 17:09:39 -0000
Received: (qmail 28347 invoked by alias); 3 Dec 1999 17:09:34 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 8888
Received: (qmail 28340 invoked from network); 3 Dec 1999 17:09:32 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <991203170925.ZM18217@candle.brasslantern.com>
Date: Fri, 3 Dec 1999 17:09:25 +0000
In-Reply-To: <E11tuwR-0001Gj-00@crucigera.fysh.org>
Comments: In reply to Zefram <zefram@fysh.org>
        "Re: PATCH: Previous zsh.yo.in patch wasn't good enough" (Dec  3,  3:48pm)
References: <E11tuwR-0001Gj-00@crucigera.fysh.org>
X-Mailer: Z-Mail (5.0.0 30July97)
To: zsh-workers@sunsite.auc.dk
Subject: Re: PATCH: Previous zsh.yo.in patch wasn't good enough
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Dec 3,  3:48pm, Zefram wrote:
} Subject: Re: PATCH: Previous zsh.yo.in patch wasn't good enough
}
} Zefram wrote:
} >The source tree should not be modified by the build process alone;
} >building should only modify the source tree if the source has already
} >been modified.
} 
} Which I forgot to explain: if you are doing multiple builds from a single
} source tree, there MUST NOT be any build-specific data in the source tree,
} otherwise the builds will interfere with each other.

My thought (which I now see to have been half-formed) was that the docs
were architecture-independent and hence the same for all builds -- but
of course it's possible to have two build trees with different name
transforms.

This leads me to conclude that the $(tzsh).info change is either going
too far, or not far enough:  If we're renaming zsh.info, why aren't we
renaming zsh.1 and zshall.1 and zshbuiltins.1 etc?  And if we're going
to rename those, then they have to be written to the build tree and not
to the source tree, as well.

I *think* -- based on looking at automake-generated Makefile.in files --
that program name transforms are intended strictly as an install-time
thing, and should not affect compile-time file generation.  Its too bad
that info format requires the files to reference their own names.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

