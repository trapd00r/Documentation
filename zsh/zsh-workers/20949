From zsh-workers-return-20949-mason-zsh=primenet.com.au@sunsite.dk Mon Mar 07 20:49:47 2005
Return-Path: <zsh-workers-return-20949-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 20497 invoked from network); 7 Mar 2005 20:49:46 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 7 Mar 2005 20:49:46 -0000
Received: (qmail 63552 invoked from network); 7 Mar 2005 20:49:40 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 7 Mar 2005 20:49:40 -0000
Received: (qmail 12752 invoked by alias); 7 Mar 2005 20:49:37 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 20949
Received: (qmail 12742 invoked from network); 7 Mar 2005 20:49:37 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 7 Mar 2005 20:49:37 -0000
Received: (qmail 63211 invoked from network); 7 Mar 2005 20:49:37 -0000
Received: from moonbase.zanshin.com (64.84.47.139)
  by a.mx.sunsite.dk with SMTP; 7 Mar 2005 20:49:32 -0000
Received: from toltec.zanshin.com (toltec.zanshin.com [64.84.47.166])
	by moonbase.zanshin.com (8.13.1/8.13.1) with ESMTP id j27KnTB0009175
	for <zsh-workers@sunsite.dk>; Mon, 7 Mar 2005 12:49:29 -0800
Date: Mon, 7 Mar 2005 12:49:29 -0800 (PST)
From: Bart Schaefer <schaefer@brasslantern.com>
Reply-To: Bart Schaefer <schaefer@brasslantern.com>
To: zsh-workers@sunsite.dk
Subject: Re: Field splitting with trailing non-whitespace IFS characters
 (fwd)
Message-ID: <Pine.LNX.4.61.0503071248380.7630@toltec.zanshin.com>
X-Face: "f/X=UCVgd*^c>+x(gMq0at?e:woX+;'snkkRzc3SX<0AZ (/PS4.M2hzGS9X:Qj]at_H/%a9K}:-eS<"v_7vX84PG9Bf Zpb`wI!I4geY=or+nWq`3CX`oq&TJR;g^ps|7(MH?jh;bs %vHJfCh5>a*6Re5m|Bidja\\o]>n\A)ib1:yX*T`zR(*h~ %tOw<~!D9{e6h!8M2:d8G2@K>y^1I_Vdy\d\MYe]z7c
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=6.0 tests=BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.6

Anybody want to (or want me to) say anything more about this to the
austin-group list?


---------- Forwarded message ----------
Date: Mon, 7 Mar 2005 09:50:52 +0000
From: Geoff Clare <gwc@opengroup.org>
To: austin-group-l@opengroup.org
Subject: Re: Field splitting with trailing non-whitespace IFS characters
Resent-Date: 7 Mar 2005 09:51:17 -0000
Resent-From: austin-group-l@opengroup.org
Resent-To: austin-group-l@opengroup.org

Assuming there is consensus that Glenn's test script reflects the
intended POSIX requirements, I propose the following changes to
XCU6 to clarify the standard and to correct the defect identified
on the read page.

In 2.5.3 Shell Variables:

Delete "(Input Field Separators.) " from the beginning of the IFS
description.

On the sh page under ENVIRONMENT VARIABLES:

Delete "(Input Field Separators.) " from the beginning of the IFS
description.

Add to RATIONALE on the sh page:

"The name IFS was originally an abbreviation of Input Field Separators,
however this name is misleading as the IFS characters are actually
used as field terminators."

In 2.6.5 Field Splitting, paragraph 2:

Change "The shell shall treat each character of the IFS as a delimiter
and use the delimiters to split the results of parameter expansion and
command substitution into fields."

to "The shell shall treat each character of the IFS as a delimiter
and use the delimiters as field terminators to split the results of
parameter expansion and command substitution into fields."

On the read page:

Change "If there are fewer var operands specified than there are
fields, the leftover fields and their intervening separators shall be
assigned to the last var."

to "If there are fewer var operands specified than there are fields,
the last var shall be set to a value comprising the following elements:

    * the field that corresponds to the last var in the normal
      assignment sequence described above,
    * the delimiter(s) that follow the field corresponding to the
      last var, and
    * the remaining fields and their delimiters."


Any comments before I submit these as an aardvark?

-- 
Geoff Clare <g.clare@opengroup.org>
The Open Group, Thames Tower, Station Road, Reading, RG1 1LX, England

