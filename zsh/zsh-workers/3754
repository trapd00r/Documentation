From zsh-workers-request@math.gatech.edu Sun Feb 01 15:31:48 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 6187 invoked from network); 1 Feb 1998 15:31:47 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 1 Feb 1998 15:31:47 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id KAA19834;
	Sun, 1 Feb 1998 10:09:51 -0500 (EST)
Resent-Date: Sun, 1 Feb 1998 10:09:51 -0500 (EST)
Date: Sun, 1 Feb 1998 18:12:11 +0300 (MSK)
From: Andrej Borsenkow <borsenkow.msk@sni.de>
X-Sender: bor@itsrm1
Reply-To: borsenkow.msk@sni.de
To: Oliver Kiddle <opk101@cs.york.ac.uk>
cc: Zsh workers mailing list <zsh-workers@math.gatech.edu>
Subject: Re: Completion on cd
In-Reply-To: <swordfish.886344199@student.cs.york.ac.uk>
Message-ID: <Pine.SV4.3.95.980201180006.19055C-100000@itsrm1>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
Resent-Message-ID: <"yParZ2.0.or4._09rq"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3754
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

On Sun, 1 Feb 1998, Oliver Kiddle wrote:

> 
> I tracked the problem down to this line:
> 
> compctl -Tx 'C[0,*/*]' -f - 's[~]' -k users -S/ \
          ^^^^^^^^^^^^^^^^^

Yep. -T applies *before* anything else, and you just told it, that */*
must complete all files.  I am curious, if 'cd dir1/dir2/xTAB' works
correctly (that is, if pattern doesn't descend :-)

You would be probably better off by using -D flag. It allows you to
override it on per-command/per-argument basis and still be applied in
default case. In most cases it should be the same as you have, with
exception that -/ will work :-)

> There may well be a problem with this though it seems to work and I
> can't see any nasty suprises but I would strongly suggest that the
> manual is changed so that nobody else has this problem. 
> 

Sorry, in which respect? Manual *does* say, that -T is default applied
before anything else. 


> Note that the problem with cd ..[tab] beeping as opposed to completing
> to cd ../ is still there.
> 

I agree, that it must be sorted. At least, -/ must complete .. as
well.

-------------------------------------------------------------------------
Andrej Borsenkow 		Fax:   +7 (095) 252 01 05
SNI ITS Moscow			Tel:   +7 (095) 252 13 88

NERV:  borsenkow.msk		E-Mail: borsenkow.msk@sni.de
-------------------------------------------------------------------------



