From zsh-workers-request@euclid.skiles.gatech.edu  Wed Oct 30 09:22:32 1996
Return-Path: zsh-workers-request@euclid.skiles.gatech.edu
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by coral.primenet.com.au (8.7.5/8.7.3) with ESMTP id JAA15845 for <mason@primenet.com.au>; Wed, 30 Oct 1996 09:22:30 +1100 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id RAA18934; Tue, 29 Oct 1996 17:23:56 -0500 (EST)
Resent-Date: Tue, 29 Oct 1996 17:14:14 -0500 (EST)
From: Geoff Wing <gwing@primenet.com.au>
Message-Id: <199610292208.JAA10325@coral.primenet.com.au>
Subject: Re: pipes and redirection
To: gsker@lenti.med.umn.edu
Date: Wed, 30 Oct 1996 09:08:37 +1100 (EST)
Cc: zsh-users@math.gatech.edu
In-Reply-To: <Pine.SOL.3.95.961029130246.11799A-100000@halfdan.med.umn.edu> from "Gerald Skerbitz" at Oct 29, 96 01:22:23 pm
X-Mailer: ELM [version 2.4 PL25]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"1HiYj2.0.9Z4.r6eTo"@euclid>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/474
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Gerald Skerbitz wrote:
:I've been trying desparately to do something with the shell and failing.
:The goal is to get stdout to go to a file, and stderr to be piped to
:another program.
:If I do this:
:(print -u2 This is stderr;print This is stdout) 2>&1 1>test
:Then the file "test" contains the string "This is stdout"
:and "This is stderr" is printed to the terminal.
:
:So, assuming that the pipe (|) should send the stdout (file descriptor 1) on
:to the program, I tried this:
:(print -u2 This is stderr;print This is stdout) 2>&1 1>test | less
:which brought up less, with _both_ strings displayed.
:So, clearly, the | is picking up both streams.
:Is there a way to cleanly do what I want it to do?

You could always do:
coproc (print -u2 This is stderr;print This is stdout) 2>&p >test ; less <&p
-- 
Geoff Wing [gwing@primenet.com.au]     PrimeNet - Internet Consultancy
  Web   : http://www.primenet.com.au/  Phone    : +61-3-9818 2977
  Mobile: 0412 162 441		       Facsimile: +61-3-9819 3788

