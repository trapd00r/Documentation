From zsh-users-return-10557-mason-zsh=primenet.com.au@sunsite.dk Fri Jul 28 00:25:35 2006
Return-Path: <zsh-users-return-10557-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 22464 invoked from network); 28 Jul 2006 00:25:32 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.3 (2006-06-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=BAYES_00,FORGED_RCVD_HELO 
	autolearn=ham version=3.1.3
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 28 Jul 2006 00:25:32 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 10945 invoked from network); 28 Jul 2006 00:25:24 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 28 Jul 2006 00:25:24 -0000
Received: (qmail 561 invoked by alias); 28 Jul 2006 00:25:17 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 10557
Received: (qmail 550 invoked from network); 28 Jul 2006 00:25:17 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 28 Jul 2006 00:25:17 -0000
Received: (qmail 9839 invoked from network); 28 Jul 2006 00:25:17 -0000
Received: from py-out-1112.google.com (64.233.166.183)
  by a.mx.sunsite.dk with SMTP; 28 Jul 2006 00:25:15 -0000
Received: by py-out-1112.google.com with SMTP id z74so414701pyg
        for <zsh-users@sunsite.dk>; Thu, 27 Jul 2006 17:25:14 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=IlWSt7gKb6xp45sIp/sxNXY3hohr6jRWCW3LHUmxVg20GTGasGqM3slofPka7xE+7DQfLSotFaVHO4TYgUaS1jtFrYytL3HmA31HWPx6pltfIam7NVDK4TKc8KIte9JCNPV/QfXwU1bzNjE8vu1SWKXDUIA2w9kBy82C/V7RFDs=
Received: by 10.35.127.7 with SMTP id e7mr13772118pyn;
        Thu, 27 Jul 2006 17:25:14 -0700 (PDT)
Received: by 10.35.132.20 with HTTP; Thu, 27 Jul 2006 17:25:14 -0700 (PDT)
Message-ID: <96c45c490607271725o59c970bdt71ba7fe3f620317e@mail.gmail.com>
Date: Fri, 28 Jul 2006 10:25:14 +1000
From: Sean <schliden@gmail.com>
To: "Lloyd Zusman" <ljz@asfast.com>
Subject: Re: Does zsh have an equivalent to the shopt command ?
Cc: zsh-users@sunsite.dk
In-Reply-To: <87y7ufcsnu.fsf@asfast.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <96c45c490607220357h2c841b20q506de061f0e6f43b@mail.gmail.com>
	 <200607221508.k6MF8W0w002651@pwslaptop.csr.com>
	 <96c45c490607240044t282314dcn149e04073c0c2a1f@mail.gmail.com>
	 <200607241001.k6OA1rvM003764@news01.csr.com>
	 <96c45c490607240423u131caf80w6e5d667c735a65b9@mail.gmail.com>
	 <200607241138.k6OBcQmE015964@news01.csr.com>
	 <96c45c490607262038m39ed9af5nebe437335258ef0b@mail.gmail.com>
	 <87y7ufcsnu.fsf@asfast.com>

As Lloyd pointed out, the script is a little long to post inline, but
is available here:

http://todotxt.com/download/todo.sh

Peter, I tried your replacement suggestion, but it also (after a long
think) crashed zsh.

I have come up with this brilliant fix:

version()
{
  echo "TODO.TXT Manager
Version 1.7.1
Author:  Gina Trapani (ginatrapani@gmail.com)
Release date:  5/11/2006
Last updated:  7/20/2006
License:  GPL, http://www.gnu.org/copyleft/gpl.html
More information and mailing list at http://todotxt.com"
    exit 1
}

Cheers

Sean

On 7/27/06, Lloyd Zusman <ljz@asfast.com> wrote:
> Sean <schliden@gmail.com> writes:
>
> > Sorry for the slow reply... wife's birthdays seems to take preceedence :^)
> >
> > I can run sed from the command line ok, and all of the other sed stuff
> > in the script works.
> >
> > It seems to be something to do with processing these text blocks:
> >
> > <<EndVersion
> > EndVersion
> >
> > <<EndHelp
> > EndHelp
> >
> > <<Endusage
> > EndUsage
> >
> > I have tried saving these in seperate files and running them but zsh
> > crashes immeadiately, without outputting a single line.
> >
> > What does:   -e 's/^    //'  do anyway ?
> >
> > Perhaps I can work around this with a different approach.
> >
> > Cheers
> >
> > Sean
>
> Again, could you post the entire script, from top to bottom?  It will be
> easier to help you with this if you do so.
>
> The "-e ..." stuff you mention above strips the leading whitespace out
> of the lines within the here document, e.g., between "<<EndVersion" and
> "EndVersion".
>
>
> >
> > On 7/24/06, Peter Stephenson <pws@csr.com> wrote:
> >> Sean wrote:
> >> > The message fails to print and the shell hangs !
> >>
> >> I can't reproduce that.  What happens if you run the sed (and its
> >> here-document) from the command line, or by running ". file" on a file
> >> that contains only the sed command?  Could the path to "sed" be wrong?
> >>
> >> pws
> >>
> >>
> >> To access the latest news from CSR copy this link into a web browser:  http://www.csr.com/email_sig.php
> >>
> >
>
> --
>  Lloyd Zusman
>  ljz@asfast.com
>  God bless you.
>
>

