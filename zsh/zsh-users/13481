From zsh-users-return-13481-mason-zsh=primenet.com.au@sunsite.dk Sun Nov 23 22:05:08 2008
Return-Path: <zsh-users-return-13481-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 20840 invoked from network); 23 Nov 2008 22:05:04 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 23 Nov 2008 22:05:04 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 83365 invoked from network); 23 Nov 2008 22:04:57 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 23 Nov 2008 22:04:57 -0000
Received: (qmail 14300 invoked by alias); 23 Nov 2008 22:04:41 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 13481
Received: (qmail 14285 invoked from network); 23 Nov 2008 22:04:40 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 23 Nov 2008 22:04:40 -0000
Received: from zucker.schokokeks.org (zucker.schokokeks.org [78.46.69.5])
	by bifrost.dotsrc.org (Postfix) with ESMTPS id EA4C080525B4
	for <zsh-users@sunsite.dk>; Sun, 23 Nov 2008 23:04:37 +0100 (CET)
Received: from localhost (p5494CE82.dip.t-dialin.net [::ffff:84.148.206.130])
  (AUTH: PLAIN simon@ruderich.org, TLS: TLSv1/SSLv3,128bits,AES128-SHA)
  by zucker.schokokeks.org with esmtp; Sun, 23 Nov 2008 23:04:36 +0100
  id 0000000000018006.000000004929D374.000059E3
Date: Sun, 23 Nov 2008 23:04:46 +0100
From: Simon Ruderich <simon@ruderich.org>
To: zsh-users@sunsite.dk
Subject: Re: vcs_info problem
Message-ID: <20081123220446.GA8594@ruderich.org>
References: <20081123213233.GA7984@ruderich.org> <20081123214438.GB2757@fsst.voodoo.lan>
Mime-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-sha1; protocol="application/pgp-signature"; boundary="=_zucker.schokokeks.org-23011-1227477877-0001-2"
Content-Disposition: inline
In-Reply-To: <20081123214438.GB2757@fsst.voodoo.lan>
User-Agent: Mutt/1.5.18 (2008-05-17)
X-Virus-Scanned: ClamAV 0.92.1/8666/Sun Nov 23 11:41:19 2008 on bifrost
X-Virus-Status: Clean

This is a MIME-formatted message.  If you see this text it means that your
E-mail software does not support MIME-formatted messages.

--=_zucker.schokokeks.org-23011-1227477877-0001-2
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

On Sun, Nov 23, 2008 at 10:44:39PM +0100, Frank Terbeck wrote:
> Simon Ruderich <simon@ruderich.org>:
>> I'm using Zsh 4.3.9 and trying to use vcs_info. I added the following to=
 my
>> .zshrc as documented in zshcontrib.
>>
>>     autoload -Uz vcs_info
>>
>>     zstyle ':vcs_info:*' actionformats \
>>         '%F{5}(%f%s%F{5})%F{3}-%F{5}[%F{2}%b%F{3}|%F{1}%a%F{5}]%f '
>>     zstyle ':vcs_info:*' formats       \
>>         '%F{5}(%f%s%F{5})%F{3}-%F{5}[%F{2}%b%F{5}]%f '
>>     zstyle ':vcs_info:(sv[nk]|bzr):*' branchformat '%b%F{1}:%F{3}%r'
>>     precmd () { vcs_info }
>>     PS1=3D'%F{5}[%F{2}%n%F{5}] %F{3}%3~ ${vcs_info_msg_0_}'"%f%# '
>                     here is your unmatched double quote --^

Thanks for your answer,

but when I remove the double quote it still doesn't work and I get this err=
or:

    unmatched '

I took the example from the zshcontrib man page so it looks like there is an
error.

>> But if I use this vcs_info_msg_0_ is not expanded and stays in the promp=
t all
>> the time.
>
> If you want to use $vcs_info_msg_0_ like this, you will need to use:
>     setopt promptsubst
>
> Regards, Frank

Thanks, setting promptsubst worked fine.

I followed the introduction in the zshcontrib man page. Would it be possible
to add this information there so other users can set it up without any
problems?

Just curious, what other ways to use vcs_info than ${vcs_info_msg_0_} exist?

Thanks,
Simon
--=20
+ privacy is necessary
+ using http://gnupg.org
+ public key id: 0x6115F804EFB33229

--=_zucker.schokokeks.org-23011-1227477877-0001-2
Content-Type: application/pgp-signature
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (Darwin)

iEYEARECAAYFAkkp034ACgkQYRX4BO+zMin/pACfXLHO3CW8y4d7adCqfbUv5I5X
VyIAoM+qsYwcUTcNJ3f31RpqNm9Tr6Pg
=2Db+
-----END PGP SIGNATURE-----

--=_zucker.schokokeks.org-23011-1227477877-0001-2--

