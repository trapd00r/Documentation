From zsh-workers-return-12199-mason-zsh=primenet.com.au@sunsite.auc.dk Sat Jul 08 09:00:00 2000
Return-Path: <zsh-workers-return-12199-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2602 invoked from network); 8 Jul 2000 08:59:59 -0000
Received: from ns2.primenet.com.au (HELO primenet.com.au) (?mw+IrqM5GnIBiA/HR0scl491eQ07NMcB?@203.24.36.3)
  by ns1.primenet.com.au with SMTP; 8 Jul 2000 08:59:59 -0000
Received: (qmail 2050 invoked from network); 7 Jul 2000 19:33:17 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns2.primenet.com.au with SMTP; 7 Jul 2000 19:33:17 -0000
Received: (qmail 1182 invoked by alias); 7 Jul 2000 19:32:59 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 12199
Received: (qmail 1158 invoked from network); 7 Jul 2000 19:32:45 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <1000707193233.ZM1522@candle.brasslantern.com>
Date: Fri, 7 Jul 2000 19:32:33 +0000
In-Reply-To: <0FXC00J0TARQE8@la-la.cambridgesiliconradio.com>
Comments: In reply to Peter Stephenson <pws@cambridgesiliconradio.com>
        "Re: completing directory path" (Jul  7,  7:16pm)
References: <0FXC00J0TARQE8@la-la.cambridgesiliconradio.com>
X-Mailer: Z-Mail (5.0.0 30July97)
To: Peter Stephenson <pws@cambridgesiliconradio.com>,
        zsh-workers@sunsite.auc.dk (Zsh hackers list)
Subject: Re: completing directory path
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Jul 7,  7:16pm, Peter Stephenson wrote:
} Subject: Re: completing directory path
}
} > On Jul 7,  5:12pm, Peter Stephenson wrote:
} > } Subject: completing directory path
} > }
} > } completion has stopped working on ~1/... etc.
} > 
} > What are your styles?  This works for me.  Well, it sort of works; I first
} > get ~1/ --> ~+1/ and then completion after ~+1/ works as expected.
} 
} I can reproduce it with completely vanilla new completion, but it's weirder
} than I said: it only happens when there is a unique match for the file in
} question (which may explain why I needed to type the first character).

zagzig[131] zsh -f
zagzig% echo $ZSH_VERSION
3.1.9-dev-2
zagzig% dirs
~
zagzig% echo i*
images
zagzig% pushd /tmp
/tmp ~
zagzig% cd ~1/i<TAB>
zagzig% cd ~1/images/
zagzig% cd ~1/i<C-d>
zagzig% cd ~1/i      
images/

} This seems to be completely reproducible and as far as I can see not style
} dependent.  It may be related to the fact that the `+' doesn't get inserted
} in this case.

Does it perhaps have something more to do with the contents of directories
in the dirstack than just whether there is a unique match for one of the
files?

However, *I'm* now getting some inconsistent behavior, because it's not
replacing ~1 with ~+1 which it definitely was before.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

