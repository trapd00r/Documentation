From zsh-users-return-12816-mason-zsh=primenet.com.au@sunsite.dk Sat May 03 11:37:01 2008
Return-Path: <zsh-users-return-12816-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 15740 invoked from network); 3 May 2008 11:36:49 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.4 (2008-01-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.4
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 3 May 2008 11:36:49 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 91950 invoked from network); 3 May 2008 11:36:34 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 3 May 2008 11:36:34 -0000
Received: (qmail 6957 invoked by alias); 3 May 2008 11:36:23 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 12816
Received: (qmail 6940 invoked from network); 3 May 2008 11:36:22 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 3 May 2008 11:36:22 -0000
Received: from vms173005pub.verizon.net (vms173005pub.verizon.net [206.46.173.5])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 5F87180ED172
	for <zsh-users@sunsite.dk>; Sat,  3 May 2008 13:36:17 +0200 (CEST)
Received: from torch.brasslantern.com ([71.116.113.54])
 by vms173005.mailsrvcs.net
 (Sun Java System Messaging Server 6.2-6.01 (built Apr  3 2006))
 with ESMTPA id <0K0A00DA9IM8WJ04@vms173005.mailsrvcs.net> for
 zsh-users@sunsite.dk; Sat, 03 May 2008 06:30:09 -0500 (CDT)
Received: from torch.brasslantern.com (localhost.localdomain [127.0.0.1])
	by torch.brasslantern.com (8.13.1/8.13.1) with ESMTP id m43Ba0sh010537	for
 <zsh-users@sunsite.dk>; Sat, 03 May 2008 04:36:00 -0700
Received: (from schaefer@localhost)	by torch.brasslantern.com
 (8.13.1/8.13.1/Submit) id m43BZxi7010536	for zsh-users@sunsite.dk; Sat,
 03 May 2008 04:35:59 -0700
Date: Sat, 03 May 2008 04:35:59 -0700
From: Bart Schaefer <schaefer@brasslantern.com>
Subject: Re: Zsh hangs sometimes?
In-reply-to: <20080502234421.1382582d@pws-pc>
To: zsh-users@sunsite.dk
Message-id: <080503043559.ZM10535@torch.brasslantern.com>
MIME-version: 1.0
X-Mailer: OpenZMail Classic (0.9.2 24April2005)
Content-type: text/plain; charset=us-ascii
References: <1209745744.25440.ezmlm@sunsite.dk>
	<20080502173943.GA8824@alfa.kjonca>	<20080502234421.1382582d@pws-pc>
Comments: In reply to Peter Stephenson <p.w.stephenson@ntlworld.com>
 "Re: Zsh hangs sometimes?" (May  2, 11:44pm)
X-Virus-Scanned: ClamAV 0.91.2/7014/Fri May  2 22:17:48 2008 on bifrost
X-Virus-Status: Clean

On May 2, 11:44pm, Peter Stephenson wrote:
}
} This would only happen if you had lots and lots and lots of processes
} so that there was a chance that the process numbers would wrap before
} an entry in the table was cleared

Indeed, that's a lot of processes.  I don't think I've ever managed to
create that situation intentionally, and certainly not without putting
the machine into serious memory thrash.

} I've tidied up zhandler() because the comments were all over the place
} and I took against the way a goto in a for loop was written

"Took against"?  That's a turn of phrase I'd never encountered before.
I must be spending too much time on the west side of the Atlantic.

} and I've tidied up the STAT_ definitions because I can't do powers of
} two in my head well enough.

Interesting.  Not interesting that you can't do powers of two, but
interesting that your reaction to not being able to do powers of two
is to write out longhand the powers of two, rather than let the compiler
figure it out by use of shift operators.  All my professors back in
college would have said the Right Thing is what was there before, in
which you can see plainly exactly which bit-position is set rather than
having to convert hex to binary in your head, and in which you can add
the next bit-position without having to first work out the next power.

