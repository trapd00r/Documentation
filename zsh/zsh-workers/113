From zsh-workers-request@math.gatech.edu  Mon Jun 26 22:47:50 1995
Received: from gatech.edu (gatech.edu [130.207.244.244]) by werple.mira.net.au (8.6.12/8.6.9) with SMTP id WAA16045 for <mason@werple.mira.net.au>; Mon, 26 Jun 1995 22:47:35 +1000
Received: from math (math.skiles.gatech.edu) by gatech.edu with SMTP id AA24965
  (5.65c/Gatech-10.0-IDA for <mason@werple.mira.net.au>); Mon, 26 Jun 1995 08:32:13 -0400
Received: by math (5.x/SMI-SVR4)
	id AA07149; Mon, 26 Jun 1995 07:21:26 -0400
Resent-Date: Mon, 26 Jun 1995 13:19:07 +0200 (MET DST)
Old-Return-Path: <leitner@inf.fu-berlin.de>
Message-Id: <m0sQCC3-00018FC@inf.fu-berlin.de>
From: leitner@inf.fu-berlin.de (Felix von Leitner)
Subject: HP-UX compile problem: zsh beta 9
To: zsh-list@sterling.com (Z-Shell Liste)
Date: Mon, 26 Jun 1995 13:19:07 +0200 (MET DST)
X-Url: http://www.inf.fu-berlin.de/~leitner
X-Shell: zsh (ftp://ftp.fu-berlin.de/unix/shells/zsh/)
X-Editor: vim (ftp://ftp.fu-berlin.de/unix/editors/vim/)
X-Nickname: Fefe
X-Mailer: ELM [version 2.5 PL0a1]
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
Resent-Message-Id: <"DLnQN3.0.dl1.rWfxl"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/113
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Hi Zsh-hackers !

When trying to compile zsh beta 9 on HP-UX 9.05, I found that
/usr/include/sys/unistd.h (which is included by /usr/include/unistd.h)
defines 

  extern char *logname(void)

while Src/globals.h defines

  extern char *logname;

So we have a problem here ;)

  % grep "\<logname\>" *.[ch]
  globals.h:EXTERN char *logname;           /* $LOGNAME    */
  init.c:    if (!(logname = getlogin())) {
  init.c:     logname = ztrdup(pswd->pw_name);
  init.c:     logname = ztrdup("");
  init.c:    username = ztrdup(logname);
  params.c:       IPDEF6("LOGNAME", &logname),
  params.c:       pm->env = addenv("LOGNAME", logname);
  %

If we change all these occurances from "logname" to "Logname" or so,
everything works fine.  Well, it seems to work fine ;)
Mhh, let's put it this way: The problems do not seem to be related to
"logname" ;))

No, seriously, never had any serious problems with zsh.

Felix

-- 
(------------------------------------------------------------------)
Good programmers write good code; great programmers 'borrow' good code.
"Who is General Failure and why is he reading my hard disk ?"
PGP public key available (mail me with the subject "send key")
PGP public key fingerprint 05 B9 C9 43 3C 96 C5 1E  FD E4 EF 45 E1 A0 09 4D

