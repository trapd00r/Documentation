From zsh-workers-request@euclid.skiles.gatech.edu  Thu Feb 22 02:31:54 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by werple.net.au (8.7/8.7.1) with ESMTP id CAA18285 for <mason@werple.mira.net.au>; Thu, 22 Feb 1996 02:31:50 +1100 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id KAA02475; Wed, 21 Feb 1996 10:08:43 -0500 (EST)
Resent-Date: Wed, 21 Feb 1996 10:08:43 -0500 (EST)
Message-Id: <199602211508.JAA09846@meow.cs.utexas.edu>
From: pkn@cs.utexas.edu (Kay Nettle)
Date: Wed, 21 Feb 1996 09:08:07 -0600
X-Mailer: Mail User's Shell (7.2.5 10/14/92)
To: zsh-workers@math.gatech.edu
Subject: problem with zsh on Solaris2.5 machine
Resent-Message-ID: <"VrSZF.0.Yc.wLpAn"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/782
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

I was running my shell tests and discovered a bug with zsh-2.6-beta13 on a
Solaris 2.5 machine.  This happens when I build zsh with either gcc or cc.
Just a side note, gcc 2.7.2 with the gnu linker doesn't like your mult
variable, it linked in /lib/libmp.so, which caused zsh to core dump (this
is only under Solaris 2.5).  

Zsh doesn't have this problem under AIX3.2.5 or SunOS4.1.4, both of which
were built with gcc 2.7.2.  I'm trying to track down the problem, but
I don't know how much luck I'll have.  If anyone has any ideas about how
to fix the problem or any clue as to where to start looking, I'd be grateful.
If someone can fix the problem, I'd be even more grateful.

Example and reporter output follow.

Kay


Kay Nettle			pkn@cs.utexas.edu
Dept. of Computer Sciences	cs.utexas.edu!pkn
University of Texas at Austin	512-471-9594


squit$ zsh
\h\$ stty -a
speed 9600 baud; rows 24; columns 80;
intr = ^C; quit = ^\; erase = ^?; kill = ^U; eof = ^D; eol = <undef>;
eol2 = <undef>; swtch = <undef>; start = ^Q; stop = ^S; susp = ^Z; dsusp = ^Y;
rprnt = ^R; werase = ^W; lnext = ^V; flush = ^O; min = 4; time = 0;
parenb -parodd cs7 hupcl -cstopb cread -clocal -crtscts
-ignbrk brkint ignpar -parmrk -inpck istrip -inlcr -igncr icrnl -ixon -ixoff
-iuclc -ixany imaxbel
opost -olcuc -ocrnl onlcr -onocr -onlret -ofill -ofdel nl0 cr0 tab0 bs0 vt0 ff0
isig icanon iexten echo echoe echok -echonl -noflsh -xcase -tostop -echoprt
echoctl echoke
\h\$ echo | cat | more &
[1] 4863 4864 4865
\h\$ 
[1]  + done                    echo | 
       suspended (tty output)  cat | more
\h\$ fg
[1]  + done       echo | 
       continued  cat | more

\h\$ stty -a
speed 9600 baud; rows 24; columns 80;
intr = ^C; quit = <undef>; erase = ^?; kill = ^U; eof = ^A; eol = <undef>;
eol2 = <undef>; swtch = <undef>; start = ^Q; stop = ^S; susp = <undef>;
dsusp = <undef>; rprnt = ^R; werase = ^W; lnext = <undef>; flush = <undef>;
min = 1; time = 0;
parenb -parodd cs7 hupcl -cstopb cread -clocal -crtscts
-ignbrk brkint ignpar -parmrk -inpck istrip inlcr -igncr icrnl -ixon -ixoff
-iuclc -ixany imaxbel
opost -olcuc -ocrnl onlcr -onocr -onlret -ofill -ofdel nl0 cr0 tab0 bs0 vt0 ff0
isig icanon iexten echo echoe echok -echonl -noflsh -xcase -tostop -echoprt
echoctl echoke

# START zsh saveset
# uname:  SunOS squit.cs.utexas.edu 5.5 Generic sun4m

# Aliases.

alias run-help='man'
alias which-command='whence'

# Key bindings.
bindkey -r "^@"
bindkey -r "^D"
bindkey -r "^H"
bindkey -r "^I"
bindkey -r "^J"
bindkey -r "^K"
bindkey -r "^L"
bindkey -r "^M"
bindkey -r "^R"
bindkey -r "^S"
bindkey -r "^T"
bindkey -r "^U"
bindkey -r "^V"
bindkey -r "^W"
bindkey -r "\e"
bindkey -r "^?"
bindkey -r "\e"
bindkey -r "\e[A"
bindkey -r "\e[B"
bindkey -r "\e[C"
bindkey -r "\e[D"

bindkey "^@"    undefined-key
bindkey "^D"    list-choices
bindkey "^H"    vi-backward-delete-char
bindkey "^I"    expand-or-complete
bindkey "^J"    accept-line
bindkey "^K"    self-insert
bindkey "^L"    clear-screen
bindkey "^M"    accept-line
bindkey "^R"    redisplay
bindkey "^S"    self-insert
bindkey "^T"    self-insert
bindkey "^U"    vi-kill-line
bindkey "^V"    quoted-insert
bindkey "^W"    vi-backward-kill-word
bindkey "\e"    prefix
bindkey "^?"    backward-delete-char
bindkey "\e"    vi-cmd-mode
bindkey "\e[A"  up-line-or-history
bindkey "\e[B"  down-line-or-history
bindkey "\e[C"  forward-char
bindkey "\e[D"  backward-char

# Completions.

compctl -b bindkey
compctl -c builtin
compctl -v export
compctl -o setopt
compctl -v typeset
compctl -v unset
compctl -o unsetopt
compctl -v vared
compctl -c which
compctl -C -c
compctl -D -f
compctl -T

# Undefined functions.


# Defined functions.


# Limits.

limit datasize        2047MB
limit stacksize       8MB
limit descriptors     64

# Non-array variables.

TERMCAP='xterm|vs100:AL=\E[%dL:DC=\E[%dP:DL=\E[%dM:DO=\E[%dB:IC=\E[%d@:UP=\E[%dA:al=\E[L:am:bs:cd=\E[J:ce=\E[K:cl=\E[H\E[2J:cm=\E[%i%d;%dH:co#80:cs=\E[%i%d;%dr:ct=\E[3k:dc=\E[P:dl=\E[M:im=\E[4h:ei=\E[4l:mi:ho=\E[H:is=\E[r\E[m\E[2J\E[H\E[?7h\E[?1;3;4;6l\E[4l:rs=\E[r\E[m\E[2J\E[H\E[?7h\E[?1;3;4;6l\E[4l\E<:k1=\EOP:k2=\EOQ:k3=\EOR:k4=\EOS:kb=^H:kd=\EOB:ke=\E[?1l\E>:kl=\EOD:km:kn#4:kr=\EOC:ks=\E[?1h\E=:ku=\EOA:li#65:md=\E[1m:me=\E[m:mr=\E[7m:ms:nd=\E[C:pt:sc=\E7:rc=\E8:sf=
:so=\E[7m:se=\E[m:sr=\EM:te=\E[2J\E[?47l\E8:ti=\E7\E[?47h:up=\E[A:us=\E[4m:ue=\E[m:xn:'
TERM='vs100'
grep: Unbalanced [
prompt='test%'

# Array variables.

argv=()
grep: Unbalanced [

# Exported variables.

export TERMCAP
export TERM
grep: Unbalanced [

# Setopt.

setopt bgnice
setopt hashcmds
setopt hashdirs
setopt hashlistall
setopt notify

# END zsh saveset

