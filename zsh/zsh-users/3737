From zsh-users-return-3737-mason-zsh=primenet.com.au@sunsite.dk Fri Mar 23 18:37:29 2001
Return-Path: <zsh-users-return-3737-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 28822 invoked from network); 23 Mar 2001 18:37:28 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 23 Mar 2001 18:37:28 -0000
Received: (qmail 29486 invoked by alias); 23 Mar 2001 18:37:14 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 3737
Received: (qmail 29455 invoked from network); 23 Mar 2001 18:37:13 -0000
From: Scott Lipcon <slipcon@mercea.net>
To: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Cc: zsh-users@sunsite.dk
Subject: Re: new completion modifications 
In-Reply-To: Your message of "Fri, 23 Mar 2001 17:14:47 GMT."
             <1010323171447.ZM22586@candle.brasslantern.com> 
Date: Fri, 23 Mar 2001 13:37:13 -0500
Sender: slipcon@mercea.net
Message-Id: <20010323183713.AAB5026267@mercea.net>

> That trace doesn't look quite right ...
> 
> AHA!  CVS has the answer.  You're using 3.1.9, and _mailboxes didn't find
> out that mutt knows about MH mailboxes until sometime after that.  You
> can either upgrade to 4.0.1-pre-2, or you can find the (*:mutt:*) case
> label in the _mua_mailboxes function in Completion/User/_mailboxes and
> add "${_mh_cache[@]}" to the array assignment.

OK - I copied _mailboxes to my zsh functions directory, and modified it 
to include mh_cache:

 (*:mutt:*)
      mbox_names=( "${_mutt_cache[@]}" "${_mailbox_cache[@]}"
                   "${_maildir_cache[@]}" "${_mh_cache[@]}" )
      mbox_short=( \! \< \> );;


I then restarted zsh, and confirmed that it has the right definition for 
_mua_mailboxes.  I unset _mailbox_cache.

mutt -f +inb<tab>  still doesn't work.    Again the trace is pretty large,
so its at  http://mercea.net/~slipcon/misc/zsh25027mutt3

Thanks for all your help,
Scott

