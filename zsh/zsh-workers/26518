From zsh-workers-return-26518-mason-zsh=primenet.com.au@sunsite.dk Fri Feb 06 09:58:39 2009
Return-Path: <zsh-workers-return-26518-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 26247 invoked from network); 6 Feb 2009 09:58:36 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.7 required=5.0 tests=AWL,BAYES_00,MISSING_HEADERS
	autolearn=no version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 6 Feb 2009 09:58:36 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 19163 invoked from network); 6 Feb 2009 09:58:31 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 6 Feb 2009 09:58:31 -0000
Received: (qmail 11957 invoked by alias); 6 Feb 2009 09:58:28 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 26518
Received: (qmail 11946 invoked from network); 6 Feb 2009 09:58:28 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 6 Feb 2009 09:58:28 -0000
Received: from cluster-g.mailcontrol.com (cluster-g.mailcontrol.com [208.87.233.190])
	by bifrost.dotsrc.org (Postfix) with ESMTPS id B5E4280271F0
	for <zsh-workers@sunsite.dk>; Fri,  6 Feb 2009 10:58:24 +0100 (CET)
Received: from cameurexb01.EUROPE.ROOT.PRI ([193.128.72.68])
	by rly30g.srv.mailcontrol.com (MailControl) with ESMTP id n169w7AM002246
	for <zsh-workers@sunsite.dk>; Fri, 6 Feb 2009 09:58:21 GMT
Received: from news01 ([10.103.143.38]) by cameurexb01.EUROPE.ROOT.PRI with Microsoft SMTPSVC(6.0.3790.3959);
	 Fri, 6 Feb 2009 09:56:26 +0000
Date: Fri, 6 Feb 2009 09:56:26 +0000
From: Peter Stephenson <pws@csr.com>
Cc: Zsh hackers list <zsh-workers@sunsite.dk>
Subject: Re: Test D03 hang under cygwin 1.7
Message-ID: <20090206095626.24223f9a@news01>
In-Reply-To: <20a807210902052007m4f26f9d8w9cb831c90be3b879@mail.gmail.com>
References: <20a807210902052007m4f26f9d8w9cb831c90be3b879@mail.gmail.com>
Organization: CSR
X-Mailer: Claws Mail 3.5.0 (GTK+ 2.12.8; i386-redhat-linux-gnu)
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 06 Feb 2009 09:56:26.0687 (UTC) FILETIME=[2D0D54F0:01C98841]
X-Scanned-By: MailControl A_08_51_00 (www.mailcontrol.com) on 10.71.0.140
X-Virus-Scanned: ClamAV 0.92.1/8959/Fri Feb  6 06:58:05 2009 on bifrost
X-Virus-Status: Clean

On Thu, 5 Feb 2009 23:07:24 -0500
Vin Shelton <acs@alumni.princeton.edu> wrote:
> Under the soon-to-be-released Cygwin 1.7, I downloaded the latest CVS
> sources and ran a build from scratch.  I'm getting a test hang in D03:

This is process substitution again.  This is problematic under Cygwin:
sometimes one of the two forms works, sometimes another, even though both
are notionally present and zsh is simply using documented behaviour that
works on other systems.  (The real problem, of course, is that process
handling is intrinsically horrific in Cygwin.)

I don't think we can do much more than skip the test and put a warning
about related features in the manual.  We might be able to add an option to
pick the support we use (named pipes or device files) but that's probably
only of use to the sort of people who could in any case hack the
configuration by hand.

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR PLC, Churchill House, Cambridge Business Park, Cowley Road
Cambridge, CB4 0WZ, UK                          Tel: +44 (0)1223 692070

