From zsh-users-return-9717-mason-zsh=primenet.com.au@sunsite.dk Wed Nov 30 12:52:58 2005
Return-Path: <zsh-users-return-9717-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 14808 invoked from network); 30 Nov 2005 12:52:55 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.0 (2005-09-13) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=BAYES_00,FORGED_RCVD_HELO 
	autolearn=ham version=3.1.0
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 30 Nov 2005 12:52:55 -0000
Received: (qmail 33715 invoked from network); 30 Nov 2005 12:52:49 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 30 Nov 2005 12:52:49 -0000
Received: (qmail 22268 invoked by alias); 30 Nov 2005 12:52:42 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 9717
Received: (qmail 22259 invoked from network); 30 Nov 2005 12:52:41 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 30 Nov 2005 12:52:41 -0000
Received: (qmail 32587 invoked from network); 30 Nov 2005 12:52:41 -0000
Received: from parhelion.firedrake.org (193.201.200.77)
  by a.mx.sunsite.dk with SMTP; 30 Nov 2005 12:52:40 -0000
Received: from phil by parhelion.firedrake.org with local (Exim 3.36 #1 (Debian))
	id 1EhRRt-0008Ha-00
	for <zsh-users@sunsite.dk>; Wed, 30 Nov 2005 12:52:37 +0000
Date: Wed, 30 Nov 2005 13:52:37 +0100
From: Phil Pennock <phil.pennock@globnix.org>
To: zsh-users@sunsite.dk
Subject: zsh completion help sought
Message-ID: <20051130125237.GA30693@parhelion.globnix.org>
Mail-Followup-To: zsh-users@sunsite.dk
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Sender: Phil Pennock <phil@firedrake.org>

Hi,

I'm fairly sure that what I want can be done with the new-style
completion stuff; if so, I'll be able to at last move away from compctl
stuff without spending all my time snarling at the computer I'm using as
it barfs on my bad habits.

I'm getting frustrated trying to understand the manual enough to figure
out what goes where in the zstyle parameters to achieve this.  Please,
someone, have mercy on me.

(1) I use $_<tab> frequently, rather than history expansion, when I'm
    doing multiple operations on one file; I do want it expanded before
    I press return, both as a sanity check and so that I can repeat a
    command using command history.  How do I set a style/function so
    that if the current word is $_ and the cursor is at the end, to
    ignore all those evil no-namespace-workaround-hack functions and
    just expand the $_ variable itself?

(2) As a similar sanity check before pressing return, I like to
    tab-expand a glob to cast an eye over the list and catch my more
    egregrious mistakes.  How do I keep menu-completion turned on for
    tab expansions of a bare suffix but move straight to glob expansion
    if the end of the current word is a '*' ?  (ie, the item you get in
    the new system when tab cycles far enough through the options to
    show you all the options, just before showing you the bare '*')?

The first item is the one which always kills my productivity any time I
try to make the switch.  (And yes, I know that this is my problem, not a
zsh problem, but I want the shell to cater to _my_ whim).

Help, please?

Thanks,
-Phil

