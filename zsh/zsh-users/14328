From zsh-users-return-14328-mason-zsh=primenet.com.au@sunsite.dk Fri Aug 28 13:43:16 2009
Return-Path: <zsh-users-return-14328-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 22585 invoked from network); 28 Aug 2009 13:43:03 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 28 Aug 2009 13:43:03 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 19984 invoked from network); 28 Aug 2009 13:42:47 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 28 Aug 2009 13:42:47 -0000
Received: (qmail 26978 invoked by alias); 28 Aug 2009 13:42:28 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 14328
Received: (qmail 26956 invoked from network); 28 Aug 2009 13:42:27 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 28 Aug 2009 13:42:27 -0000
Received: from smtp103.mail.ukl.yahoo.com (smtp103.mail.ukl.yahoo.com [77.238.184.35])
	by bifrost.dotsrc.org (Postfix) with SMTP id A5278803081F
	for <zsh-users@sunsite.dk>; Fri, 28 Aug 2009 15:42:20 +0200 (CEST)
Received: (qmail 80792 invoked from network); 27 Aug 2009 18:55:40 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.fr;
  h=Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Date:From:To:Cc:Subject:Message-ID:Mail-Followup-To:References:MIME-Version:Content-Type:Content-Disposition:In-Reply-To:User-Agent;
  b=HEUfZvlzsxaTkUV6ULNoE5VK+Fyau5sQZiAsyw+yjWj72X3h+gyDSOyUm8zV6noMg5KZJaf7AOXaHxyk6Wi457AUTZcGut8Yrv5fSEc16fuXxoEuQVKSBK9kkYsza8PFxVMExGU6H+KBjOdRRi3OlHA4d2l70xYFv5bdmh7w6w0=  ;
Received: from unknown (HELO seebyte.com) (stephane_chazelas@78.105.235.196 with login)
  by smtp103.mail.ukl.yahoo.com with SMTP; 27 Aug 2009 18:55:39 -0000
X-Yahoo-SMTP: UETkiwKswBCC9bX5uJ2yis03J2tKBqQX.pJ.0Bnx
X-YMail-OSG: AocVVQoVM1nP0SbFv7ZJTQhxtGyFvLHDlXSIY0ZMxFKDuplB6izU8aePYll9gCoQuJWCAqWDTrFak8mUV1ZRwBZMt6Hj86G58ZCTUuEWf1jxmS9hUUIsybWEhjDUzjccHYPG5H5GWsZ9hYsyD0HB.fWEiyV.MiK6PikQLOoPTj7mJOLvOu5S5f5Avg8ZHtP8pgHWrmgZCnlxu0UNUQ8Cq7AklTcbq8JrUlD1HlaRM_6XE4jKsdnfYPFqc6pn.mCm3pqmwny79YBVgpK21sxlC.GoYo18PdPeNXXUWvvBeSs9qTHLbHA1eB9Bp_dkLXUIp4X1WKy9Uqol3W6iIk0-
X-Yahoo-Newman-Property: ymail-3
Date: Thu, 27 Aug 2009 19:55:37 +0100
From: Stephane Chazelas <stephane_chazelas@yahoo.fr>
To: spiralofhope <spiralofhope@gmail.com>
Cc: zsh-users@sunsite.dk
Subject: Re: simple substitution?
Message-ID: <chaz20090827185537.GA5341@seebyte.com>
Mail-Followup-To: spiralofhope <spiralofhope@gmail.com>,
	zsh-users@sunsite.dk
References: <20090812133916.6ab5adcf.tartifola@gmail.com> <chaz20090812120418.GA21006@seebyte.com> <20090827081235.176e8879@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20090827081235.176e8879@gmail.com>
User-Agent: Mutt/1.5.16 (2007-09-19)
X-Virus-Scanned: ClamAV 0.94.2/9756/Fri Aug 28 12:43:25 2009 on bifrost
X-Virus-Status: Clean

2009-08-27 08:12:35 -0700, spiralofhope:
> On Wed, 12 Aug 2009 13:04:18 +0100
> Stephane Chazelas <stephane_chazelas@yahoo.fr> wrote:
> 
> > eval.
> > 
> > eval "echo \${${FO}${O}}"
> > 
> > or
> > 
> > eval "echo \${$FO$O}"
> > 
> > See also:
> > 
> > echo ${(P)${:-$FO$O}}
> > 
> > or
> > 
> > echo ${(e)${:-\${$FO$O}}}
> 
> Is eval a good idea?  Can it introduce backdoors into the script?

Yes, that's usually what eval does when passed uncontrolled
data. You'd get the same problem with (e).

You need to make sure that $FO$O resolves to a valid variable
name.

if $FO$O were 'x}; rm -rf ${HOME' for instance, there'd be
damage.

However note that the eval solutions are standard POSIX sh
solutions, so you don't make your script zsh specific when using
them.

-- 
Stephane

