From zsh-workers-return-22235-mason-zsh=primenet.com.au@sunsite.dk Sun Feb 12 03:55:45 2006
Return-Path: <zsh-workers-return-22235-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 14224 invoked from network); 12 Feb 2006 03:55:43 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.0 (2005-09-13) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=BAYES_00,FORGED_RCVD_HELO 
	autolearn=ham version=3.1.0
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 12 Feb 2006 03:55:43 -0000
Received: (qmail 72574 invoked from network); 12 Feb 2006 03:55:37 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 12 Feb 2006 03:55:37 -0000
Received: (qmail 22539 invoked by alias); 12 Feb 2006 03:55:34 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 22235
Received: (qmail 22529 invoked from network); 12 Feb 2006 03:55:33 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 12 Feb 2006 03:55:33 -0000
Received: (qmail 72272 invoked from network); 12 Feb 2006 03:55:33 -0000
Received: from blackbird.world-net.net (204.57.72.6)
  by a.mx.sunsite.dk with SMTP; 12 Feb 2006 03:55:31 -0000
Received: from localhost.localdomain (ppp105-254.lns1.hba1.internode.on.net [150.101.105.254])
	(authenticated bits=0)
	by blackbird.world-net.net (8.13.1/8.13.1) with ESMTP id k1C3tVIa011102
	for <zsh-workers@sunsite.dk>; Sat, 11 Feb 2006 21:55:32 -0600 (CST)
	(envelope-from teratorn@world-net.net)
Date: Sun, 12 Feb 2006 14:55:23 +1200
To: zsh-workers@sunsite.dk
Subject: Completion functions for Twisted
From: "Eric Mangold" <teratorn@world-net.net>
Content-Type: multipart/mixed; boundary=----------48hlIfM0hvUVSpCJqIlZhz
MIME-Version: 1.0
Message-ID: <op.s4uc6lym6k1y1x@localhost.localdomain>
User-Agent: Opera Mail/9.00 (Linux)

------------48hlIfM0hvUVSpCJqIlZhz
Content-Type: text/plain; format=flowed; delsp=yes; charset=us-ascii
Content-Transfer-Encoding: 8bit

Hello all!

I would like to submit a completion function for the various commands that  
we have at the Twisted project. Right now, we have 15 command-line  
programs that we've implemented zsh completions for.

Back in 2004 I wrote this list regarding inclusion of a "stub" function in  
zsh that passes control to completions functions included in the Twisted  
distribution.

You may review the rational and discussion about this idea in the thread  
here:
http://www.zsh.org/mla/users/2004/msg00100.html

The code has been implemented, and we've been successfully using this  
method for about a year now. Various operating system packages, e.g.  
Debian, include this stub and it's been working very well for us.

Could someone please review the attached file and let me know what you  
think?

Thanks,
Eric Mangold



------------48hlIfM0hvUVSpCJqIlZhz
Content-Disposition: attachment; filename=_twisted_zsh_stub
Content-Type: application/octet-stream; name=_twisted_zsh_stub
Content-Transfer-Encoding: Base64

I2NvbXBkZWYgdHJpYWwgY29uY2ggbWt0YXAgY2Z0cCB0YXBjb252ZXJ0IHR3aXN0
ZCBja2V5Z2VuIGxvcmUgcHlodG1saXplciB3ZWJzZXRyb290IHRhcDJkZWIgdGtt
a3RhcCB0a2NvbmNoIG1hbmhvbGUgdGFwMnJwbQoKIyBDb3B5cmlnaHQgKGMpIDIw
MDUgRXJpYyBNYW5nb2xkCiMgTWFpbnRhaW5lcjogRXJpYyBNYW5nb2xkIDx0ZXJh
dG9ybkB0d2lzdGVkbWF0cml4LmNvbT4KCiMgVGhpcyBmaWxlIGlzIG1lYW50IHRv
IGJlIGluIHlvdXIgenNoIGZ1bmN0aW9uIHBhdGguIGkuZS4gaW4gb25lIG9mIHRo
b3NlCiMgZGlyZWN0b3JpZXMgbGlzdGVkIGluIHlvdXIgJGZwYXRoIHZhcmlhYmxl
LgojCiMgZS5nLiAvdXNyL2xvY2FsL3NoYXJlL3pzaC9zaXRlLWZ1bmN0aW9ucy8K
IwojIEl0IGlzIHJlc3BvbnNpYmxlIGZvciBwYXNzaW5nIGNvbXBsZXRpb24gY29u
dHJvbCB0byB0aGUgY29ycmVjdAojIGNvbXBsZXRpb24gZnVuY3Rpb24gZm9yIHRo
ZSB2ZXJzaW9uIG9mIFR3aXN0ZWQgdGhhdCBpcwojIGN1cnJlbnRseSBpbiB1c2Uu
CiMKIyBHb2FsczoKIwojIFdlIHdhbnQgdG8gZGV0ZWN0IGFueSBjaGFuZ2VzIHRv
IFBZVEhPTlBBVEggc2luY2UgdGhlIGxhc3QgdGltZSB3ZSByYW4uCiMgVGhhdCB3
YXkgd2UgY2FuIHJlLWxvY2F0ZSB0aGUgY29tcGxldGlvbiBmdW5jdGlvbnMgc28g
dGhhdCB3ZSBhcmUgc3VyZQojIHRvIGJlIGNvbXBsZXRpbmcgZm9yIHRoZSByaWdo
dCB2ZXJzaW9uIG9mIFR3aXN0ZWQuCgpsb2NhbCBkaXIgb2xkX2ZwYXRoIHB5dGhv
bl9jb2RlIHJ1biBzaGViYW5nCgpmdW5jdGlvbiBkZWJ1ZyAoKSB7CiAgICBlY2hv
ICRAID4+IC90bXAvdHdpc3RlZF9zdHViX2RlYnVnCn0KCiNkZWJ1ZyAiU1RBUlQg
X3R3aXN0ZWRfc3R1YiIKCmZ1bmN0aW9uIGxvYWRfdHdpc3RlZF9jb21wbGV0aW9u
cygpIHsKICAgIFtbIC16ICRjb21tYW5kc1t0d2lzdGRdIF1dICYmIGVjaG8gJ0VS
Uk9SOiB0ZXN0IGNvbW1hbmQgInR3aXN0ZCIgbm90IGZvdW5kIGluIHBhdGgnICYm
IHJldHVybiAxCiAgICBzaGViYW5nPSQoaGVhZCAtMSAkY29tbWFuZHNbdHdpc3Rk
XSkKICAgIFtbICRzaGViYW5nICE9IFwjXCEqIF1dICYmIGVjaG8gJ0VSUk9SOiBp
bnZhbGlkIHNoZWJhbmcgbGluZSBmb3IgdGVzdCBzY3JpcHQgInR3aXN0ZCInICYm
IHJldHVybiAxCiAgICBQWVRIT049JHNoZWJhbmdbMywtMV0gIyBzdHJpcCAjISBv
ZmYgdGhlIHNoZWJhbmcKICAgIFBZVEhPTj0ke1BZVEhPTiMgKn0gIyByZW1vdmUg
YW55IHNwYWNlcyBiZXR3ZWVuICMhIGFuZCBjb21tYW5kCgogICAgI2RlYnVnIFBZ
VEhPTiAkUFlUSE9OOnEKICAgIHB5dGhvbl9jb2RlPScKaW1wb3J0IHR3aXN0ZWQs
IG9zLnBhdGgKZGlyID0gb3MucGF0aC5kaXJuYW1lKHR3aXN0ZWQuX19maWxlX18p
CnByaW50IGRpciArIG9zLnNlcCArIG9zLnBhdGguam9pbigicHl0aG9uIiwgInpz
aCIpCicKICAgIGRpcj0kKCRQWVRIT04gLWMgIiRweXRob25fY29kZSIpCiAgICAj
ZGVidWcgIlRyeWluZyB0byBsb2FkIHR3aXN0ZWQgZnVuY3Rpb25zIGZyb20gJGRp
cjpxIgogICAgaWYgW1sgLXIgJGRpci9fdHdpc3RkIF1dOyB0aGVuCiAgICAgICAg
b2xkX2ZwYXRoPSgkZnBhdGgpCiAgICAgICAgZnBhdGg9KCAkZGlyICRmcGF0aCAp
CiAgICAgICAgYXV0b2xvYWQgK1ggX3RyaWFsIF9jb25jaCBfbWt0YXAgX2NmdHAg
X3RhcGNvbnZlcnQgX3R3aXN0ZCBfY2tleWdlbgogICAgICAgIGF1dG9sb2FkICtY
IF9sb3JlIF9weWh0bWxpemVyIF93ZWJzZXRyb290IF90YXAyZGViIF90a21rdGFw
IF90a2NvbmNoCiAgICAgICAgYXV0b2xvYWQgK1ggX21hbmhvbGUgX3RhcDJycG0K
ICAgICAgICBmcGF0aD0oJG9sZF9mcGF0aCkKICAgIGVsc2UKICAgICAgICBlY2hv
ICdFUlJPUjogQ2Fubm90IGZpbmQgdHdpc3RlZCBjb21wbGV0aW9uIGZ1bmN0aW9u
IGZpbGVzIGluICRkaXI6cScKICAgICAgICByZXR1cm4gMQogICAgZmkKfQoKZnVu
Y3Rpb24gdHdpc3RlZF9ydW4gKCkgewogICAgIyBydW4gY29tcGxldGlvbiBmdW5j
dGlvbiBmb3IgY3VycmVudCBjb21tYW5kCiAgICAjIHRoZSA6dCBtb2RpZmllciBz
dHJpcHMgb2ZmIGFueSBsZWFkaW5nIHBhdGhuYW1lIGNvbXBvbmVudHMKICAgIGV2
YWwgXyR3b3Jkc1sxXTp0Cn0KCmZ1bmN0aW9uIHR3aXN0ZWRfc2F2ZV9sb2FkX3J1
biAoKSB7CiAgICAjIHNhdmUgUFlUSE9OUEFUSCwgbG9hZCB0d2lzdGVkIGNvbXBs
ZXRpb25zLCBhbmQgcnVuIHRoZSBjb21wbGV0aW9uCiAgICAjIGZ1bmN0aW9uIGZv
ciB0aGUgY3VycmVudCBjb21tYW5kCiAgICBsb2FkX3R3aXN0ZWRfY29tcGxldGlv
bnMgJiYgdHdpc3RlZF9ydW4gJiYgUFlUSE9OUEFUSF9sYXN0PSRQWVRIT05QQVRI
Cn0KCgppZiBbWyAtbiAkUFlUSE9OUEFUSF9sYXN0IF1dOyB0aGVuCiAgICAjZGVi
dWcgIlBZVEhPTlBBVEhfbGFzdCBpcyBzZXQgdG8gJFBZVEhPTlBBVEhfbGFzdCIK
ICAgICNjaGVjayBpZiBpdCdzIHRoZSBzYW1lIGFzIHRoZSBsYXN0IHRpbWUgd2Ug
cmFuCiAgICBpZiBbWyAkUFlUSE9OUEFUSCA9PSAkUFlUSE9OUEFUSF9sYXN0IF1d
OyB0aGVuCiAgICAgICAgI2RlYnVnICJQWVRIT05QQVRIID09IFBZVEhPTlBBVEhf
bGFzdCIKICAgICAgICAjIGl0J3MgdGhlIHNhbWUsIHdoaWNoIG1lYW5zIHdlJ3Zl
IGFscmVhZHkgbG9hZGVkIGNvbXBsZXRpb24KICAgICAgICAjIGZ1bmN0aW9ucyBh
bmQgbm90aGluZyBoYXMgY2hhbmdlZC4KICAgICAgICB0d2lzdGVkX3J1bgogICAg
ZWxzZQogICAgICAgIHR3aXN0ZWRfc2F2ZV9sb2FkX3J1bgogICAgZmkKZWxzZQog
ICAgdHdpc3RlZF9zYXZlX2xvYWRfcnVuCmZpCgojZGVidWcgIkVORCBfdHdpc3Rl
ZF9zdHViIgojCg==

------------48hlIfM0hvUVSpCJqIlZhz--

