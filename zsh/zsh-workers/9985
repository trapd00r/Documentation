From zsh-workers-return-9985-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Mar 03 18:24:03 2000
Return-Path: <zsh-workers-return-9985-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5395 invoked from network); 3 Mar 2000 18:24:01 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 3 Mar 2000 18:24:01 -0000
Received: (qmail 14175 invoked by alias); 3 Mar 2000 18:23:54 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 9985
Received: (qmail 14168 invoked from network); 3 Mar 2000 18:23:54 -0000
Subject: Re: PATCH: Re: Running tests without installing Zsh
In-Reply-To: <1000303173706.ZM20761@candle.brasslantern.com> from Bart Schaefer
 at "Mar 3, 2000 05:37:06 pm"
To: Bart Schaefer <schaefer@candle.brasslantern.com>
Date: Fri, 3 Mar 2000 18:23:43 +0000 (GMT)
CC: ZSH workers mailing list <zsh-workers@sunsite.auc.dk>
X-Mailer: ELM [version 2.4ME+ PL66 (25)]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Message-Id: <E12Qwjn-0005Mo-00@crucigera.fysh.org>
From: Zefram <zefram@fysh.org>

Bart Schaefer wrote:
>That's fixable, too.  The one thing we can't fix is that modules may be
>autoloaded if the system has an /etc/zshenv file.  

How about a command-line option to disable processing of the global
rc files?

More radical idea: how about making --disable-z{sh{env,rc},profile,log{in,out}}
the default?  It is very rare that any of these files is genuinely
required (I've seen approximately one case where an /etc/zshenv was
justified), and they are very frequently misused.  It seems reasonable
to require the unusual systems that actually need this feature to
explicitly enable it at compile time, and it would mean that the great
mass of unthinking admins won't be able to screw up their users' shell
environments.

-zefram

