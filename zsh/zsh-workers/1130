From mdb@cdc.noaa.gov Thu May 23 05:50:09 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by melb.werple.net.au (8.7.5/8.7.3) with ESMTP id FAA03439 for <mason@werple.mira.net.au>; Thu, 23 May 1996 05:50:07 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id PAA26547; Wed, 22 May 1996 15:30:55 -0400 (EDT)
Resent-Date: Wed, 22 May 1996 15:30:55 -0400 (EDT)
Sender: mdb@cdc.noaa.gov
To: "alain (a.) caron" <alainc@nortel.ca>
Cc: zsh-workers@math.gatech.edu
Subject: Re: Programmable completion bug in beta18
References: <199605221808.UAA30331@bolyai.cs.elte.hu>
	<960522114756.ZM12275@zyrcon.z-code.com>
From: Mark Borges <mdb@cdc.noaa.gov>
Date: 22 May 1996 13:30:40 -0600
In-Reply-To: schaefer@z-code.ncd.com's message of Wed, 22 May 1996 11:47:55 -0700
Message-Id: <vkk9y4wlnj.fsf@cdc.noaa.gov>
Lines: 50
X-Mailer: September Gnus v0.89/XEmacs 19.14
Resent-Message-ID: <"QHEQh.0.jU6.kjsen"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/1130
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu
Content-Length: 1306
Status: O

>> On Wed, 22 May 1996 11:47:55 -0700,
>> Barton E Schaefer(BES) wrote:
BES> On May 22,  8:08pm, Zoltan Hidvegi wrote:
BES> } Subject: Re: Programmable completion bug in beta18
BES> }
BES> } > compctl -g '*(D-/)' cd
BES> } > {jagor}[0][~/hrv/zsh-2.6-beta18]$ cd [^D]
BES> } > 
BES> } > ^D gives no output. TAB refuses to menu-complete. Shortly, it doesn't work.
BES> } 
BES> } You need to set extended_glob for that.

BES> For what, specifically?

extendedglob seems to be involved in the behaviour alain found as well:

>> On Tue, 21 May 1996 16:31:00 -0400 ,
>> a (ac) wrote:
ac> I think I have found a bug in release 2.6-beta17 with regards to
ac> compctl.

ac> I have the following line in my .zshrc

ac> # rm Emacs backup and autosave files first
ac> compctl -g "*\~(D) \#*\#(D)" + -f rm
ac> FIGNORE=".o:~"
[...]
ac> With zsh 2.5.03, it works as expected, but not with 2.6-beta17.  For
ac> example. with both files .zshrc and .zshrc~

ac> rm .zs<TAB>
ac> expands to
ac> "rm .zshrc\~"   (with 2.5.03) and to
ac> "rm .zshrc"     (with 2.6-beta17)

as well:

  $ ~/bin/sunos-5.5/zsh -f
  % ls -a
  .    ..   .z   .z~  a    a~
  % compctl -g "*~(D) #*#(D)" + -f rm
  % rm a<TAB>        # doesn't complete
  % setopt extendedglob
  % rm a\~ .z\~      # completes
  % ls -a
  .   ..  .z  a
  %

-- 
  -mb-


