From zsh-workers-return-5738-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Mar 10 20:01:22 1999
Return-Path: <zsh-workers-return-5738-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8251 invoked from network); 10 Mar 1999 20:01:20 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 10 Mar 1999 20:01:20 -0000
Received: (qmail 20310 invoked by alias); 10 Mar 1999 19:59:48 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 5738
Received: (qmail 20301 invoked from network); 10 Mar 1999 19:59:46 -0000
Date: Wed, 10 Mar 1999 19:59:42 +0000
From: Phil Pennock <comet@fysh.org>
To: zsh workers mailing list <zsh-workers@sunsite.auc.dk>
Subject: Re: PATCH: zsh-3.1.5-pws-11: signames2.awk
Message-ID: <19990310195942.A13158@fysh.org>
Mail-Followup-To: zsh workers mailing list <zsh-workers@sunsite.auc.dk>
References: <19990309225721.D19692@rom.oit.gatech.edu>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 0.95.3i
In-Reply-To: <19990309225721.D19692@rom.oit.gatech.edu>; from "Will Day" on Tue 9 Mar 1999 (22:57 -0500)
Organisation: Organisation?  Here?  No, over there ---->
X-Disclaimer: Any views expressed in this message, where not explicitly
	attributed otherwise, are mine and mine alone.  Such views
	do not necessarily coincide with those of any organisation
	or company with which I am or have been affiliated.

Typing away merrily, Will Day produced the immortal words:
> The signames2.awk script wasn't finding any signals, due to the extra
> space generated by sun's cc -E (solaris 2.6, Sun WorkShop Compiler C
> 4.2), so I added a "*" to match extra spaces.

> --- zsh-3.1.5-pws-11/Src/signames2.awk.orig	Tue Feb  9 08:28:41 1999
> +++ zsh-3.1.5-pws-11/Src/signames2.awk	Tue Mar  9 19:55:52 1999
> @@ -6,7 +6,7 @@
>  # NB: On SunOS 4.1.3 - user-functions don't work properly, also \" problems
>  # Without 0 + hacks some nawks compare numbers as strings
>  #
> -/^XXNAMES XXSIG[A-Z][A-Z0-9]* [1-9][0-9]*/ {
> +/^XXNAMES XXSIG[A-Z][A-Z0-9]* *[1-9][0-9]*/ {
>      sigindex = index($0, "SIG")
>      sigtail = substr($0, sigindex, 80)
>      split(sigtail, tmp)

Is that 'correct'?  Shouldn't it be "  *" rather than " *" to force at
least one space?

Thus:
/^XXNAMES XXSIG[A-Z][A-Z0-9]*  *[1-9][0-9]*/ {

Could the pattern matched theoretically contain horizontal tabs there
too?
-- 
--> Phil Pennock ; GAT d- s+:+ a23 C++(++++) UL++++/I+++/S+++/B++/H+$ P++@$
L+++ E-@ W(+) N>++ o !K w--- O>+ M V !PS PE Y+ PGP+ t-- 5++ X+ R !tv b++>+++
DI+ D+ G+ e+ h* r y?

