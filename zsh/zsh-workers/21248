From zsh-workers-return-21248-mason-zsh=primenet.com.au@sunsite.dk Tue May 10 09:46:06 2005
Return-Path: <zsh-workers-return-21248-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9266 invoked from network); 10 May 2005 09:46:05 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 10 May 2005 09:46:05 -0000
Received: (qmail 68610 invoked from network); 10 May 2005 09:45:59 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 10 May 2005 09:45:59 -0000
Received: (qmail 10682 invoked by alias); 10 May 2005 09:45:57 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 21248
Received: (qmail 10673 invoked from network); 10 May 2005 09:45:56 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 10 May 2005 09:45:56 -0000
Received: (qmail 68314 invoked from network); 10 May 2005 09:45:56 -0000
Received: from mail36.messagelabs.com (193.109.254.211)
  by a.mx.sunsite.dk with SMTP; 10 May 2005 09:45:49 -0000
X-VirusChecked: Checked
X-Env-Sender: okiddle@yahoo.co.uk
X-Msg-Ref: server-20.tower-36.messagelabs.com!1115718347!17227721!1
X-StarScan-Version: 5.4.15; banners=-,-,-
X-Originating-IP: [158.234.9.163]
Received: (qmail 17942 invoked from network); 10 May 2005 09:45:47 -0000
Received: from iris.logica.co.uk (158.234.9.163)
  by server-20.tower-36.messagelabs.com with SMTP; 10 May 2005 09:45:47 -0000
Received: from trentino.logica.co.uk ([158.234.142.59])
	by iris.logica.co.uk (8.12.3/8.12.3/Debian -4) with ESMTP id j4A9jmZe018092
	for <zsh-workers@sunsite.dk>; Tue, 10 May 2005 10:45:48 +0100
Received: from trentino.groupinfra.com (localhost [127.0.0.1])
	by trentino.logica.co.uk (Postfix) with ESMTP id F244B54806
	for <zsh-workers@sunsite.dk>; Tue, 10 May 2005 11:45:27 +0200 (CEST)
X-VirusChecked: Checked
X-StarScan-Version: 5.0.7; banners=.,-,-
In-reply-to: <13873.1115198811@csr.com> 
From: Oliver Kiddle <okiddle@yahoo.co.uk>
References: <20050425063521.GA17598@quark.hightek.org> <1050425163202.ZM25027@candle.brasslantern.com> <20050426030308.GA21501@quark.hightek.org> <200504261834.j3QIYHSa018951@news01.csr.com> <1050427053638.ZM28743@candle.brasslantern.com> <200504270954.j3R9sujP029445@news01.csr.com> <1050427140931.ZM29524@candle.brasslantern.com> <20050501185447.GA24296@quark.hightek.org> <200505031004.j43A47jB014589@news01.csr.com> <20050503192011.GA34761@quark.hightek.org> <13873.1115198811@csr.com>
To: Zsh hackers list <zsh-workers@sunsite.dk>
Subject: Re: yodl and Z shell documentation (was localtraps) 
Date: Tue, 10 May 2005 11:45:27 +0200
Message-ID: <16447.1115718327@trentino.groupinfra.com>
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=6.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.6

On 4 May, Peter wrote:
> We (for some values of we, at least) would quite like to migrate to
> something XML-based such as Docbook-XML, but that will be a lot of work,
> so we're stuck with Yodl till then.  It is a bit past its sell-by date.

makeinfo can produce XML output from our .texi file which is a starting
point. The result needs a lot of reworking and adjusting, some of which
can probably be automated using XSLT. At the moment, makeinfo produces
invalid XML because of a subsection in the middle of an item in
mod_socket.yo. I'll apply the following patch so I only need to fix this
once.

I'm not quite sure how easy it'll be to produce the same set of man
pages as we currently have from docbook. The change may also be a step
backwards for anyone using info documentation.

Oliver

Index: mod_socket.yo
===================================================================
RCS file: /cvsroot/zsh/zsh/Doc/Zsh/mod_socket.yo,v
retrieving revision 1.4
diff -u -r1.4 mod_socket.yo
--- mod_socket.yo       22 May 2003 09:48:28 -0000      1.4
+++ mod_socket.yo       10 May 2005 09:34:54 -0000
@@ -10,6 +10,8 @@
 item(tt(zsocket) [ tt(-altv) ] [ tt(-d) var(fd) ] [ var(args) ])(
 tt(zsocket) is implemented as a builtin to allow full use of shell
 command line editing, file I/O, and job control mechanisms.
+)
+enditem()
 
 subsect(Outbound Connections)
 cindex(sockets, outbound Unix domain)
@@ -62,5 +64,3 @@
 In order to elicit more verbose output, use tt(-v).
 )
 enditem()
-)
-enditem()

