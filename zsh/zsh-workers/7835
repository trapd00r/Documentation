From zsh-workers-return-7835-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Sep 15 08:27:16 1999
Return-Path: <zsh-workers-return-7835-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 12269 invoked from network); 15 Sep 1999 08:27:15 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 15 Sep 1999 08:27:15 -0000
Received: (qmail 9202 invoked by alias); 15 Sep 1999 08:27:05 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7835
Received: (qmail 9195 invoked from network); 15 Sep 1999 08:27:02 -0000
Date: Wed, 15 Sep 1999 10:27:01 +0200 (MET DST)
Message-Id: <199909150827.KAA30649@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: Clint Adams's message of Tue, 14 Sep 1999 14:38:45 -0400
Subject: Re: odd completion behavior


Clint Adams wrote:

> pws-4:
> 
> zsh 5 % a2ps --pretty-print=  
> _main_complete: bad pattern: (\M-T^Q^HPs^T@^P [92]
> zsh 5 % a2ps --pretty-print=
> _main_complete: bad pattern: (\n1^HPs^T@^P [92]
> zsh 5 % a2ps --pretty-print=
> _main_complete: bad set of key/value pairs for associative array [92]
> zsh 5 % 
> 
> These were achieved by typing a2ps --pre<TAB to complete until the =>
> then between 3 to 40 TABs until the error occurred.
> 
> Anyone know what's going on here?

No and I can't reproduce it. Can you get this error with `zsh -f' or
could you tell us more about your environment?

The error message irritates me because line 92 in `_main_complete' is
just `_lastcomp=( "${(@kv)compstate}" )' and the error message is only 
emitted if the number of elements in the `(...)' is odd (err, an odd
number of...). And `${(kv)foo}' should never give an odd number of
strings for an associative array, I think.

And what's that `bad pattern' message, there is no pattern. Hm.

Bye
 Sven


--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

