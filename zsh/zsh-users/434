From zsh-workers-request@euclid.skiles.gatech.edu  Thu Oct 10 04:18:16 1996
Return-Path: zsh-workers-request@euclid.skiles.gatech.edu
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by coral.primenet.com.au (8.7.5/8.7.3) with ESMTP id EAA20327 for <mason@primenet.com.au>; Thu, 10 Oct 1996 04:18:14 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id OAA20168; Wed, 9 Oct 1996 14:13:08 -0400 (EDT)
Resent-Date: Wed, 9 Oct 1996 14:02:37 -0400 (EDT)
Date: Wed, 9 Oct 1996 13:02:03 -0500
Message-Id: <199610091802.NAA29625@gold.cs.umanitoba.ca>
From: Varadarajan <tsv@cs.UManitoba.CA>
To: zsh-users@math.gatech.edu
Subject: Completion Control (Novice qn)
Reply-To: tsv@cs.UManitoba.CA
Resent-Message-ID: <"EvHAf2.0.Xr4.zY-Mo"@euclid>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/434
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu


Hi all,
   I need some help with completions. Basically what I want is
this. If I want to talk to a person on local network, I want talk to
complete the machine name.
Typically this is what I want.
talk person@`rwho | grep person | cut -d: -f1 | awk '{print $2}' |
head -1`

And this stuff is what I want zsh to complete. So I know that a
function has to be written, but I dont have a good idea as to how to
do this. A naive try that I did was

local from

read -Ac from
from="${from[1]}"

reply=( `rwho | grep $from | cut -d: -f1 | awk '{print $2}' | head -1` )

return

and it did not work. I would like to know what is the solution, and if
there is any ways of debugging such things.. (Like how to know the
value of variables being used).
Thanks a lot,
Regards,
-- 
------------------------------------------------------------------------
Varadarajan.T.S.                E-Mail : tsv@cs.umanitoba.ca
#725, 77, University Crescent,  HTTP   : http://www.cs.umanitoba.ca/~tsv
Winnipeg,                       Tel No : 1-(204)269-6036(Residence)
Manitoba - MB R3T 3N8                    1-(204)474-8827(Office)
Canada.                        
------------------------------------------------------------------------

