From zsh-workers-request@math.gatech.edu Thu Nov 05 00:46:00 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5187 invoked from network); 5 Nov 1998 00:45:59 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 5 Nov 1998 00:45:59 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.9.1/8.9.1) id TAA11565;
	Wed, 4 Nov 1998 19:35:26 -0500 (EST)
Resent-Date: Wed, 4 Nov 1998 19:35:26 -0500 (EST)
Message-ID: <13888.61979.554790.869235@catbus.alphatech.com>
Date: Wed, 4 Nov 1998 19:32:27 -0500 (EST)
From: greg@alphatech.com (Greg Klanderman)
To: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
Cc: zsh-workers@math.gatech.edu, greg@alphatech.com
Subject: Re:  bug in 3.1.4 completion
In-Reply-To: <199811040904.KAA29172@beta.informatik.hu-berlin.de>
References: <199811040904.KAA29172@beta.informatik.hu-berlin.de>
Reply-To: greg@alphatech.com
X-Mailer: VM 6.62 under 21.0 "Pyrenean-pre4" XEmacs Lucid
Mime-Version: 1.0 (generated by tm-edit 7.108)
Content-Type: text/plain; charset=US-ASCII
Resent-Message-ID: <"isgcH1.0.eq2.EBFGs"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/4545
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu


>>>>> "Sven" == Sven Wischnowsky <wischnow@informatik.hu-berlin.de> writes:
Sven> 
Sven> greg@alphatech.com wrote:

Thanks for the patch, I'll try it with 3.1.5 after you follow up
to Bart's question.


>> [how to improve complete-in-word]

Sven> That would be expand-or-complete-prefix with a little hacking (the remove-
Sven> the-matched-prefix-of-the-suffix part), not too hard.

OK, I implemented it as a shell function and it works nicely.
I'm having a suffix removal problem but that might be fixed 
by your patch.

>> While I'm on little nits, it would be nice if the FIGNORE variable
>> were not used when listing completions:

Sven> I'm not too sure about this one, since C-d should list the completions 
Sven> and if there are other matching files the ignored ones aren't
Sven> completions. If there are no other files fignore will be ignored and
Sven> the files will be listed. I could be convinced to list the ignored
Sven> files separately (this indeed may make sense).

I believe tcsh works as I suggest.  Not that that's a good reason 
to change, but it makes sense to me that if you're listing
completions, that you be shown everything that matches what you've
typed so far, because then you can get to an otherwise ignored file if 
you want.  This is pretty minor, I'm not going to argue it.

Sven> We got many requests for this. For 3.1.5 there is a proposed patch
Sven> that adds a generic way to control the matching behavior of
Sven> completion. With this you can get case-insensitive completion, partial 
Sven> word completion and several other things.

I'll look for it sometime in the future...

Hey, one more minor suggestion - if you abort a command you're typing
(C-c or C-g) it'd be nice to indicate that on the aborted line so it
doesn't look like you actually executed it.  Csh prints "^C" at the
end of the line, for example.

Greg

