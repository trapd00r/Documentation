From zsh-users-return-6947-mason-zsh=primenet.com.au@sunsite.dk Sun Dec 21 18:02:41 2003
Return-Path: <zsh-users-return-6947-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5278 invoked from network); 21 Dec 2003 18:02:39 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 21 Dec 2003 18:02:39 -0000
Received: (qmail 21267 invoked by alias); 21 Dec 2003 18:02:12 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 6947
Received: (qmail 21239 invoked from network); 21 Dec 2003 18:02:11 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 21 Dec 2003 18:02:11 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [200.17.209.129] by sunsite.dk (MessageWall 1.0.8) with SMTP; 21 Dec 2003 18:2:11 -0000
Received: by fisica.ufpr.br (Postfix)
	id 0EED12330AB; Sun, 21 Dec 2003 16:02:09 -0200 (BRDT)
From: Carlos Carvalho <carlos@fisica.ufpr.br>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-Id: <16357.57374.153796.323631@fisica.ufpr.br>
Date: Sun, 21 Dec 2003 16:02:06 -0200
To: Zsh users list <zsh-users@sunsite.dk>
Subject: Re: 4.0.9
In-Reply-To: <20031221175017.GA21035@DervishD>
References: <14540.1071847413@csr.com>
	<16356.46659.422887.208336@fisica.ufpr.br>
	<20031221151330.GA16547@binome.blorf.net>
	<16357.54836.455021.323945@fisica.ufpr.br>
	<20031221175017.GA21035@DervishD>
X-Mailer: VM 7.07 under Emacs 19.34.1

DervishD (raul@pleyades.net) wrote on 21 December 2003 18:50:
 > * Carlos Carvalho <carlos@fisica.ufpr.br> dixit:
 >> ./Y01completion.ztst: starting.
 >> comptestinit:zpty:19: can't open pseudo terminal: bad file descriptor
 >> comptestinit:zpty:21: no such pty command: zsh
 >
 >    I've notified an almost-a-bug related to that issue. Maybe you're
 >running a Linux box that has support for ptmx and doesn't have
 >/dev/pty?? nodes. If that is true, then zsh pty subsystem won't work
 >for you. You will need to create the /dev/pty?? nodes, since zsh
 >thinks that Linux doesn't support ptmx. Not a problem, really.

On the box where the test fails:

hoggar% ls /dev/pty*
/dev/ptyp0  /dev/ptyp3  /dev/ptyp6  /dev/ptyp9  /dev/ptypc  /dev/ptypf
/dev/ptyp1  /dev/ptyp4  /dev/ptyp7  /dev/ptypa  /dev/ptypd
/dev/ptyp2  /dev/ptyp5  /dev/ptyp8  /dev/ptypb  /dev/ptype

It also has /dev/ptmx. The box where the tests pass uses devfs; it has
all the pty's from a0 to zf, they're symlinks to /dev/pty/m*, and no ptmx.

Is this a problem with the configuration?

