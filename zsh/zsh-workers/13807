From zsh-workers-return-13807-mason-zsh=primenet.com.au@sunsite.dk Wed Mar 28 06:22:33 2001
Return-Path: <zsh-workers-return-13807-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9185 invoked from network); 28 Mar 2001 06:22:32 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 28 Mar 2001 06:22:32 -0000
Received: (qmail 25976 invoked by alias); 28 Mar 2001 06:22:25 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 13807
Received: (qmail 25964 invoked from network); 28 Mar 2001 06:22:24 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <1010328062206.ZM15021@candle.brasslantern.com>
Date: Wed, 28 Mar 2001 06:22:06 +0000
In-Reply-To: <3AC1032D.263705A8@u.genie.co.uk>
Comments: In reply to Oliver Kiddle <opk@u.genie.co.uk>
        "Re: prefix-needed style in _popd" (Mar 27, 10:16pm)
References: <200103270942.LAA15423@beta.informatik.hu-berlin.de> 
	<20010327113950.51186.qmail@web9304.mail.yahoo.com> 
	<1010327175637.ZM14146@candle.brasslantern.com> 
	<3AC1032D.263705A8@u.genie.co.uk>
X-Mailer: Z-Mail (5.0.0 30July97)
To: Zsh workers <zsh-workers@sunsite.dk>
Subject: Re: prefix-needed style in _popd
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Mar 27, 10:16pm, Oliver Kiddle wrote:
} Subject: Re: prefix-needed style in _popd
}
} Bart Schaefer wrote:
} 
} > This is actually what _mailboxes does ... it adds all possible matches,
} > with + or @ or % or full paths or whatever ... I was wondering whether
} > it ought to be testing prefix-needed, too.
} 
} It should really. As should _mh. Also, it seems that _mh acts as if
} prefix-needed is true while _mailboxes acts like it is false. 

_mh has a lot more specialized knowledge about mh and its subcommands than
_mailboxes does.  For example, _mh also knows about sequences.  _mailboxes
just wants to generate all possible matches for other programs that can
interpret MH mailbox hierarchies.

Which now makes me think that _mailboxes is doing the right thing, and
thus that prefix-needed should be tested by callers of _mailboxes rather
than by _mailboxes itself.

Of course, _mutt is the only caller of _mailboxes at the moment, and *that*
behaves as if prefix-needed were true for options but not really for any
mailbox names.

There's also the question of whether it's more common to invoke the mail
commands with the abbreviation form (e.g., `+folder') or by full file
path.  Maybe the completion should show the abbreviated forms by default
and only show file paths when there's a non-empty prefix.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

