From zsh-users-return-15367-mason-zsh=primenet.com.au@zsh.org Sat Sep 04 18:09:02 2010
Return-Path: <zsh-users-return-15367-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 7093 invoked by alias); 4 Sep 2010 18:09:02 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 15367
Received: (qmail 11053 invoked from network); 4 Sep 2010 18:09:00 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.9 required=5.0 tests=BAYES_00,SPF_HELO_PASS
	autolearn=ham version=3.3.1
Received-SPF: pass (ns1.primenet.com.au: SPF record at zhar.net designates 68.118.117.234 as permitted sender)
Date: Sat, 4 Sep 2010 14:03:16 -0400
From: John Eikenberry <jae@zhar.net>
To: zsh-users@zsh.org
Subject: Re: Problems with zsh's job control and running jobs
Message-ID: <20100904180316.GA3988@mollari.zhar.net>
Mail-Followup-To: John Eikenberry <jae@zhar.net>, zsh-users@zsh.org
References: <20100902134747.GA30650@whistler.venod.com>
 <20100902153026.192301a3@csr.com>
 <100902085838.ZM12678@torch.brasslantern.com>
MIME-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-sha256;
	protocol="application/pgp-signature"; boundary="VS++wcV0S1rZb1Fb"
Content-Disposition: inline
In-Reply-To: <100902085838.ZM12678@torch.brasslantern.com>
User-Agent: Mutt/1.5.20 (2009-06-14)

--VS++wcV0S1rZb1Fb
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

Bart Schaefer wrote:

> On Sep 2,  3:30pm, Peter Stephenson wrote:
> } Subject: Re: Problems with zsh's job control and running jobs
> }
> }   jobs | while read job; do
> }     if [[ $job =3D \[(#b)([[:digit:]]##)\]*running* ]]; then
> }       disown %$match[1]
> }     fi
> }   done
>=20
>     disown %${(k)^jobstates[(R)*=3Drunning*]}

This works but it complains at each prompt where there are no jobs to hide.

precmd_disown:disown:12: no current job

--=20

John Eikenberry
[jae@zhar.net - http://zhar.net]
[PGP public key @ http://zhar.net/jae_at_zhar_net.gpg]
______________________________________________________________
"Perfection is attained, not when no more can be added, but when no more=20
 can be removed." -- Antoine de Saint-Exupery

--VS++wcV0S1rZb1Fb
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: Digital signature
Content-Disposition: inline

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)

iQEcBAEBCAAGBQJMgonhAAoJED2anlkTqUWiQawH/Ru+y6oVuHdJwvYKnP8LjfpW
n2H70evzhcdQd4yyCQ8HvlQ2MANOGCPsoH7+OesfTPKzx8BDDpigwfrplHrH8Vwu
q26OWwxyOecwAuPZEqULUpE3XLVzUBHE4Id80cq5ZccqCSwouJFExAHXsfTBsAlx
68HD/Zk18w8Hbb6oDr7SHlQ+wrj8gTvZqllcrr4mhEPVH0NPSrNrrXXhZxArEa5I
SIovfM9wjcdCtNbylwzuPPBVZWLW8WaFXk9CZkizTLT0AqZzN2off0E/HRYs+jg7
By+lgEsnAsjh249PGjT03m9KQCWbRTw3CqNxxBkr7W5/0tl7zSf/dexUfWAXUO4=
=dM8B
-----END PGP SIGNATURE-----

--VS++wcV0S1rZb1Fb--

