From zsh-workers-request@math.gatech.edu  Tue Jul 18 03:21:48 1995
Received: from gatech.edu (gatech.edu [130.207.244.244]) by werple.mira.net.au (8.6.12/8.6.9) with SMTP id DAA24192 for <mason@werple.mira.net.au>; Tue, 18 Jul 1995 03:21:45 +1000
Received: from math (math.skiles.gatech.edu) by gatech.edu with SMTP id AA11017
  (5.65c/Gatech-10.0-IDA for <mason@werple.mira.net.au>); Mon, 17 Jul 1995 13:21:41 -0400
Received: by math (5.x/SMI-SVR4)
	id AA16891; Mon, 17 Jul 1995 13:18:15 -0400
Resent-Date: Mon, 17 Jul 95 18:01:13 +0100
Old-Return-Path: <P.Stephenson@swansea.ac.uk>
Message-Id: <3160.9507171701@pyro.swan.ac.uk>
Pp-Warning: Illegal Via field on preceding line
To: gene@sapience.com (Gene Cohler)
Cc: zsh-workers@math.gatech.edu (Zsh hackers list)
Subject: Re: 2.6beta10 - a users comment.
In-Reply-To: "gene@sapience.com"'s message of "Mon, 17 Jul 95 11:54:33 EDT." <9507171154.ZM3324@cogent.sapience.com>
Date: Mon, 17 Jul 95 18:01:13 +0100
From: P.Stephenson@swansea.ac.uk
X-Mts: smtp
Resent-Message-Id: <"ag8kL1.0.n74.Mjf2m"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/224
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

gene@sapience.com wrote:
>   o When I now 'su user' command line editing ceases to work.
>     No amount of 'bindkey -v' gets it back.  Control chars print nothing
>     when typed but hitting return causes an execution attempt. For example:
>     ESC k prints nothing but after a return:

My fault: I hadn't realised that opening the tty for writing would
fail in this case.  The patch I submitted a week or two ago should fix
this (at the expense of an extra fd and file in the case that fd 0 is
not writable --- it is by default, but an exec would change that;
Zoltan has suggested an alternative fix based on using just /dev/tty
which I haven't tried out yet).

>   o Split man pages. I know this is religious but the multiple sections
>     are not convenient (for me) to use at all. In days of yore i could simply
>     'man zsh' and then search back and forward for what I needed to my
>     little heart's content. Now I need to first remember the name of
>     the 5 sections and work with them all.

Richard: could we supply the something like the following zshall page
as well?  That would fix the problem without keeping multiple copies.
It's just the zsh page with some .so's added:  unfortunately, .so
appears to be botched so that you have to specify the full pathname,
so that the /usr/local's I've put in should really be whatever
--prefix is given to configure.  (You can only put man1/zshmisc.1
etc. in the first line of a manual entry, it seems.  This is
typical of nroff which is surely the product of a deranged mind.)

(I'd just finished this when I got the followup with exactly the same
idea, even the same name.)

(Also, putting a note about this in the main zsh page would be a good idea.)

pws

.\"
.TH ZSHALL 1 "March 2, 1995" "zsh version 2.7"
.SH NAME
zsh \- the Z shell
.SH SYNOPSIS
.\" \fBzsh\fP [ \(+-\fIoptions\fP ] [ \(+-\fBo\fP \fIoption\fP ] ...  [ \-\fBc\fP \fIstring\fP ] [ \fIarg\fP ... ]

.SH "DESCRIPTION"
Zsh is a UNIX command interpreter (shell) usable as an interactive
login shell and as a shell script command processor.  Of the standard shells,
zsh most closely resembles \fIksh\fR but includes many enhancements.  Zsh
has comand line editing, builtin spelling correction, programmable
command completion, shell functions (with autoloading), a history
mechanism, and a host of other features.
.sp
This manual page includes all the separate manual pages in the
following order:  zshmisc (general information), zshexpn (command and
parameter expansion), zshbuiltins (built-in functions), zshcompctl
(completion control via the \fBcompctl\fP built-in), zshparam
(shell parameters), zshzle (command line editing) and zshoptions
(shell options).
.so /usr/local/man/man1/zshmisc.1
.so /usr/local/man/man1/zshexpn.1
.so /usr/local/man/man1/zshbuiltins.1
.so /usr/local/man/man1/zshcompctl.1
.so /usr/local/man/man1/zshparam.1
.so /usr/local/man/man1/zshzle.1
.so /usr/local/man/man1/zshoptions.1
.SH "INVOCATION OPTIONS"
If the \-\fBs\fP flag is not present and an argument is given,
the first argument is taken to be the pathname of a script to
execute.  The remaining arguments are assigned to the positional
parameters.  The following flags are interpreted by the shell
when invoked:
.TP
.PD 0
\-\fBc\fP \fIstring\fP
Read commands from \fIstring\fP.
.TP
\-\fBi\fP
Force shell to be interactive.
.TP
\-\fBs\fP
Read command from the standard input.
.SH STARTUP/SHUTDOWN FILES
Commands are first read from /etc/zshenv.
If the \-\fBf\fP flag is present or if the \fBNO_RCS\fP option is set
within /etc/zshenv, all other
initialization files are skipped.
Otherwise, commands are read
from $ZDOTDIR/.zshenv.
(If \fBZDOTDIR\fP is unset, \fBHOME\fP is used instead).
If the first character of argument zero passed to the shell
is \-, or if the \-\fBl\fP flag is present, then the shell is
assumed to be a login shell, and commands
are read from /etc/zprofile and then $ZDOTDIR/.zprofile.
Then, if the shell is interactive,
commands are read from /etc/zshrc and then $ZDOTDIR/.zshrc.
Finally, if the shell is a login shell, /etc/zlogin and $ZDOTDIR/.zlogin
are read.
.SH FILES
$ZDOTDIR/.zshenv
.br
$ZDOTDIR/.zprofile
.br
$ZDOTDIR/.zshrc
.br
$ZDOTDIR/.zlogin
.br
$ZDOTDIR/.zlogout
.br
/tmp/zsh*
.br
/etc/zshenv
.br
/etc/zprofile
.br
/etc/zshrc
.br
/etc/zlogin
.br
/etc/zlogout
.SH AUTHOR
Zsh was originally written by Paul Falstad <pf@z-code.com>.
.br
Programmable completion was implemented by Sven
Wischnowsky <oberon@cs.tu-berlin.de> and Peter Stephenson
<P.Stephenson@swansea.ac.uk>.  Zsh is currently maintained by the
members of the zsh workers mailing list zsh-workers@math.gatech.edu and
coordinated by Richard Coleman <zsh@math.gatech.edu>.
.SH SEE ALSO
sh(1),
csh(1),
tcsh(1),
rc(1),
bash(1),
ksh(1),

