From zsh-workers-return-13708-mason-zsh=primenet.com.au@sunsite.dk Thu Mar 22 16:57:15 2001
Return-Path: <zsh-workers-return-13708-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4693 invoked from network); 22 Mar 2001 16:57:14 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 22 Mar 2001 16:57:14 -0000
Received: (qmail 21204 invoked by alias); 22 Mar 2001 16:57:05 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 13708
Received: (qmail 21186 invoked from network); 22 Mar 2001 16:57:04 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <1010322165635.ZM20444@candle.brasslantern.com>
Date: Thu, 22 Mar 2001 16:56:35 +0000
In-Reply-To: <XFMail.20010321175608.bobort@abacus.dorm.reed.edu>
Comments: In reply to Ryan Richter <bobort@abacus.dorm.reed.edu>
        "Re: zsh bug-hang on startup after exec" (Mar 21,  5:56pm)
References: <XFMail.20010321175608.bobort@abacus.dorm.reed.edu>
X-Mailer: Z-Mail (5.0.0 30July97)
To: bobort@bigfoot.com
Subject: Re: zsh bug-hang on startup after exec
Cc: zsh-workers@sunsite.auc.dk
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Mar 21,  5:56pm, Ryan Richter wrote:
} Subject: Re: zsh bug-hang on startup after exec
}
} I ran it again by doing 'su myself -c bash', and the process group
} leader is su and the tty group leader is strace, which would
} originally have been bash.
} 
} Did it again with bash just execing zsh and attached strace after zsh
} started. In this case the process group leader is su and the tty group
} leader is zsh.

[...]

} ... best approximated by redhat 6.2 at present. I was logging in via
} the console and with su. I just tried logging in remotely via ssh and
} it didn't hang.

OK.

When I try this on a RH6.2 system I get process group and tty group
leaders the same, even though neither of them is the same as zsh's PID.
That causes zsh to exit the loop, even though it has never attachtty()d.

What we (zsh-workers) need to find out is whether what you see instead
is a normal behavior of some new version of su/bash/whatever, or whether
it is an anomaly of your system (which at the moment I'm at a loss to
explain).

Please tell us the RPM version numbers of these packages on your system:

bash
sh-utils
util-linux

Thanks.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

