From zsh-workers-return-7552-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Aug 30 15:31:25 1999
Return-Path: <zsh-workers-return-7552-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 3448 invoked from network); 30 Aug 1999 15:31:23 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 30 Aug 1999 15:31:23 -0000
Received: (qmail 14565 invoked by alias); 30 Aug 1999 15:31:08 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7552
Received: (qmail 14535 invoked from network); 30 Aug 1999 15:31:06 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <990830153101.ZM6317@candle.brasslantern.com>
Date: Mon, 30 Aug 1999 15:31:01 +0000
In-Reply-To: <9908301228.AA16041@ibmth.df.unipi.it>
Comments: In reply to Peter Stephenson <pws@ibmth.df.unipi.it>
        "Re: PATCH: add DESTDIR functionality to install" (Aug 30,  2:28pm)
References: <9908301228.AA16041@ibmth.df.unipi.it>
X-Mailer: Z-Mail (5.0.0 30July97)
To: zsh-workers@sunsite.auc.dk
Subject: Re: PATCH: add DESTDIR functionality to install
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Aug 30,  2:28pm, Peter Stephenson wrote:
} Subject: Re: PATCH: add DESTDIR functionality to install
}
} Clint Adams wrote:
} > e.g. make install DESTDIR=/tmp/test-chroot
} 
} I've applied this, but it doesn't look like it changes any of the internal
} variables, particularly module_path, that need to know where to find things
} (and install time is too late for that), so it's not clear to my how useful
} it actually is.

This is quite useful in a couple of cases:

(1) Installing for package manager utilities like "rpm" and "stow", which
want an image of the actual install tree in another location but need the
real path names in the internal values because they will later re-copy or
link the files into the true $(prefix) locations.

(2) Installing onto an NFS server where the path on the server is not the
same as where it will be mounted on the clients, and the internal values
need to reflect the client locations.

(3) Installing into a mirror filesystem to which a "chroot" will be done.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

