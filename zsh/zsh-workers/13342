From zsh-workers-return-13342-mason-zsh=primenet.com.au@sunsite.dk Fri Jan 12 04:47:48 2001
Return-Path: <zsh-workers-return-13342-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5384 invoked from network); 12 Jan 2001 04:47:47 -0000
Received: from sunsite.dk (HELO sunsite.auc.dk) (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 12 Jan 2001 04:47:47 -0000
Received: (qmail 22436 invoked by alias); 12 Jan 2001 04:47:40 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 13342
Received: (qmail 22425 invoked from network); 12 Jan 2001 04:47:40 -0000
Message-ID: <20010112044737.10207.qmail@web10408.mail.yahoo.com>
Date: Thu, 11 Jan 2001 20:47:37 -0800 (PST)
From: Felix Rosencrantz <f_rosencrantz@yahoo.com>
Subject: Re: Bug w/matching control + feature request 
To: zsh-workers <zsh-workers@sunsite.auc.dk>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Thanks for adding the cycle-completion-positions code, Sven!  Though, there
seems to be a problem with it.

Check out
% zsh -f
host% autoload -U compinit cycle-completion-positions ; compinit -D 
host% compdef _tst tst
host% _tst () {compadd -M 'r:|[.,_-]=** r:[^0-9]||[0-9]=**' _cd a_c ab_c
_b_cde_c}
host% zle -N cycle cycle-completion-positions
host% bindkey "^T" cycle
host% tst _c<TAB><^T>

After the tab it lists the possible completions.  But the value of
$_lastcomp[insert_positions] is 4:6:6, which causes the
cycle-completion-positions to get stuck at cursor position 6.  Not sure
if there should be unique values or cycle-completion-positions should
be able to deal with the duplicate values.

There are other cases, where there is only one value but there should be
multiple positions.  But I wasn't sure if it would be possible to list all the
positions. (Use same input but with
	_tst () {compadd -M 'r:|[.,_-]=** r:[^0-9]||[0-9]=**' _cd a_c ab_c }

and the positions are 6:6, and there should be two positions.)

-FR.


__________________________________________________
Do You Yahoo!?
Yahoo! Photos - Share your holiday photos online!
http://photos.yahoo.com/

