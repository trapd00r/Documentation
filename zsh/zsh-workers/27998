From zsh-workers-return-27998-mason-zsh=primenet.com.au@zsh.org Fri Jun 04 20:22:51 2010
Return-Path: <zsh-workers-return-27998-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9923 invoked by alias); 4 Jun 2010 20:22:50 -0000
Mailing-List: contact zsh-workers-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Workers List <zsh-workers.zsh.org>
List-Post: <mailto:zsh-workers@zsh.org>
List-Help: <mailto:zsh-workers-help@zsh.org>
Delivered-To: mailing list zsh-workers@zsh.org
X-Seq: 27998
Received: (qmail 8196 invoked from network); 4 Jun 2010 20:22:49 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.9 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.3.1
Received-SPF: none (ns1.primenet.com.au: domain at zsh.org does not designate permitted sender hosts)
Date: Fri, 4 Jun 2010 20:16:57 +0000
From: Clint Adams <clint@zsh.org>
To: zsh-workers@zsh.org
Subject: newuser recommended config option
Message-ID: <20100604201657.GA18893@scru.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.5.18 (2008-05-17)

Thoughts on something like this?

Index: Functions/Newuser/zsh-newuser-install
===================================================================
RCS file: /cvsroot/zsh/zsh/Functions/Newuser/zsh-newuser-install,v
retrieving revision 1.8
diff -u -r1.8 zsh-newuser-install
--- Functions/Newuser/zsh-newuser-install	21 Aug 2009 14:34:54 -0000	1.8
+++ Functions/Newuser/zsh-newuser-install	4 Jun 2010 20:12:52 -0000
@@ -954,6 +954,11 @@
   print -r "
 (1)  Continue to the main menu.
 "
+  if [[ -f /etc/zsh/recommended.zshrc ]]; then
+    print -r "
+(2)  Populate your $zdmsg/.zshrc with the configuration recommended
+     by the system administrator."
+  fi
 
   read -k key$longprompt
   print
@@ -971,6 +976,12 @@
     (1)
     ;;
 
+    (2)
+    cp /etc/zsh/recommended.zshrc $zd/.zshrc
+    source $zd/.zshrc
+    return 0
+    ;;
+
     (*)
     print -r "Aborting."
     if [[ $1 != -f ]]; then

