From zsh-users-return-12706-mason-zsh=primenet.com.au@sunsite.dk Mon Mar 10 17:17:18 2008
Return-Path: <zsh-users-return-12706-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 3852 invoked from network); 10 Mar 2008 17:17:16 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.4 (2008-01-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.4
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 10 Mar 2008 17:17:16 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 6134 invoked from network); 10 Mar 2008 17:16:40 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 10 Mar 2008 17:16:40 -0000
Received: (qmail 17912 invoked by alias); 10 Mar 2008 17:16:29 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 12706
Received: (qmail 17894 invoked from network); 10 Mar 2008 17:16:28 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 10 Mar 2008 17:16:28 -0000
Received: from smarty.dreamhost.com (smarty.dreamhost.com [208.113.175.8])
	by bifrost.dotsrc.org (Postfix) with ESMTP id E09FC8028AED
	for <zsh-users@sunsite.dk>; Mon, 10 Mar 2008 18:16:19 +0100 (CET)
Received: from herod.dreamhost.com (herod.dreamhost.com [208.113.239.72])
	by smarty.dreamhost.com (Postfix) with ESMTP id 9AD84EE234;
	Mon, 10 Mar 2008 10:16:17 -0700 (PDT)
Received: by herod.dreamhost.com (Postfix, from userid 130321)
	id 2EF2760334; Mon, 10 Mar 2008 10:16:17 -0700 (PDT)
Date: Mon, 10 Mar 2008 10:16:17 -0700
From: Wayne Davison <wayned@users.sourceforge.net>
To: Richard Hartmann <richih.mailinglist@gmail.com>
Cc: ZSH User List <zsh-users@sunsite.dk>
Subject: Re: feature idea: customizable string in history file
Message-ID: <20080310171616.GB26081@herod.dreamhost.com>
References: <20080307142825.GA23322@spiegl.de> <20080307170808.GC11566@herod.dreamhost.com> <20080308111057.GA23700@spiegl.de> <2d460de70803080409t18e8a4b4vb31f34c17d5f2281@mail.gmail.com> <20080308122521.GA30479@spiegl.de> <2d460de70803100933t112e57egcce85195a2e6c60a@mail.gmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <2d460de70803100933t112e57egcce85195a2e6c60a@mail.gmail.com>
User-Agent: Mutt/1.5.9i
X-Virus-Scanned: ClamAV 0.91.2/6192/Mon Mar 10 15:54:00 2008 on bifrost
X-Virus-Status: Clean

On Mon, Mar 10, 2008 at 05:33:35PM +0100, Richard Hartmann wrote:
>   timestamp;execution;user;computername;command

You have the wrong syntax there.  It is this:

: 1234:0; command

The ':' command is a no-op, so everything through the ';' is ignored.
Adding more args doesn't confuse zsh or any other shell as long as the
number parsing of the first 2 numbers is not affected and no shell-
special chars are added.  E.g, this is fine:

: 1234:0:user1; command

So, no numeric commands are ever executed by a non-zsh reading the
history file, just ":" commands.

..wayne..

