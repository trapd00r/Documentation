From zsh-workers-return-20846-mason-zsh=primenet.com.au@sunsite.dk Wed Feb 23 03:04:47 2005
Return-Path: <zsh-workers-return-20846-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13530 invoked from network); 23 Feb 2005 03:04:47 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 23 Feb 2005 03:04:47 -0000
Received: (qmail 21235 invoked from network); 23 Feb 2005 03:04:41 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 23 Feb 2005 03:04:41 -0000
Received: (qmail 15249 invoked by alias); 23 Feb 2005 03:04:34 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 20846
Received: (qmail 15234 invoked from network); 23 Feb 2005 03:04:33 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 23 Feb 2005 03:04:33 -0000
Received: (qmail 20920 invoked from network); 23 Feb 2005 03:04:32 -0000
Received: from ms-smtp-03.texas.rr.com (HELO ms-smtp-03-eri0.texas.rr.com) (24.93.47.42)
  by a.mx.sunsite.dk with SMTP; 23 Feb 2005 03:04:26 -0000
Received: from amdxp.kalama.no-ip.org (cpe-66-68-88-186.austin.res.rr.com [66.68.88.186])
	by ms-smtp-03-eri0.texas.rr.com (8.12.10/8.12.7) with ESMTP id j1N34M2b002943;
	Tue, 22 Feb 2005 21:04:22 -0600 (CST)
Received: from [10.0.1.100] (mothership.kalama.no-ip.org [10.0.1.100])
	by amdxp.kalama.no-ip.org (Postfix) with ESMTP id 874171D4;
	Tue, 22 Feb 2005 21:04:20 -0600 (CST)
In-Reply-To: <p06210200be3ca03b7817@[62.4.23.171]>
References: <p06210200be3ca03b7817@[62.4.23.171]>
Mime-Version: 1.0 (Apple Message framework v619.2)
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <649d6ec9487668334ce550c2bb2470ed@kalama.no-ip.org>
Content-Transfer-Encoding: 7bit
Cc: Quarante-Deux <xlii@xlii.org>
Reply-To: zsh-workers@sunsite.dk
From: lists <lists@kalama.no-ip.org>
Subject: Re: Trouble compiling 4.2.4 on Mac OS X.3
Date: Tue, 22 Feb 2005 21:04:28 -0600
To: zsh-workers@sunsite.dk
X-Mailer: Apple Mail (2.619.2)
X-Virus-Scanned: Symantec AntiVirus Scan Engine
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=6.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.5

Are you still having troubles?  Try the following patch from 
<http://www.zsh.org/mla/workers/2005/msg00143.html>:

Index: configure.ac
===================================================================
RCS file: /cvsroot/zsh/zsh/configure.ac,v
retrieving revision 1.25
diff -d -u -r1.25 configure.ac
--- configure.ac	1 Feb 2005 10:53:10 -0000	1.25
+++ configure.ac	3 Feb 2005 18:42:05 -0000
@@ -729,10 +729,11 @@

  AC_CHECK_LIB(iconv, iconv)

-if test "$host_os" = cygwin; then
-dnl cygwin iconv() is really libiconv()
-AC_CHECK_LIB(iconv, libiconv)
-fi
+case "$host_os" in
+  cygwin | darwin*)
+    dnl cygwin iconv() is really libiconv()
+    AC_CHECK_LIB(iconv, libiconv) ;;
+esac

  if test x$enable_pcre = xyes; then
  dnl pcre-config should probably be employed here



On Feb 19, 2005, at 1:52 AM, Quarante-Deux wrote:

>
> Hello,
>
> I have some trouble compiling zsh 4.2.4 on Mac OS X 10.3.8 (Darwin 
> Kernel Version 7.8.0):
>
> gcc -Wl,-x   -o zsh main.o  `cat stamp-modobjs`   -ldl -ltinfo -lm  -lc
> ld: Undefined symbols:
> _libiconv
> _libiconv_close
> _libiconv_open
> make[1]: *** [zsh] Error 1
> make: *** [all] Error 1
>
> zsh 4.2.1 is OK.
>
> Any idea? Thanks
>
>                                                     dom
>
> P.S.: I am not a subscriber.
>
> -- 
> Quarante-Deux : quelques pages sur la Science-Fiction
> Ellen C. Herzfeld - Dominique O. Martel
> http://www.quarante-deux.org/

