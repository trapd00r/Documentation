From zsh-workers-return-8711-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Nov 22 07:52:05 1999
Return-Path: <zsh-workers-return-8711-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 20342 invoked from network); 22 Nov 1999 07:52:04 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 22 Nov 1999 07:52:04 -0000
Received: (qmail 6023 invoked by alias); 22 Nov 1999 07:51:58 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 8711
Received: (qmail 6016 invoked from network); 22 Nov 1999 07:51:56 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <991122075152.ZM18282@candle.brasslantern.com>
Date: Mon, 22 Nov 1999 07:51:52 +0000
In-Reply-To: <rsqwvrbuqtk.fsf@crane.jaist.ac.jp>
Comments: In reply to Tanaka Akira <akr@jaist.ac.jp>
        "Re: 3.1.6-pws-9 available, I hope" (Nov 22, 12:51pm)
References: <38388B85.6644A0DA@supanet.com>  <rsqwvrbuqtk.fsf@crane.jaist.ac.jp>
X-Mailer: Z-Mail (5.0.0 30July97)
To: "Zsh Hacker's List" <zsh-workers@sunsite.auc.dk>
Subject: Re: 3.1.6-pws-9 available, I hope
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Nov 22, 12:51pm, Tanaka Akira wrote:
} Subject: Re: 3.1.6-pws-9 available, I hope
}
} I imported pws-9 and compared to last revision patched from bart-8.
} 
} This is summary of `cvs diff -r zsh-workers_8702 -r zsh-3_1_6-pws-9'.

A summary of differences from the version I have here:

* configure of -pws-9 has been built with a newer version of autoconf, so
  I got a lot of essentially no-op diff lines on that.

* In addition to 8501, configure.in is missing this change, suggested by
  Zefram but for which no patch was previously sent:

--- ./configure.in	Sun Nov 21 04:36:00 1999
+++ ../../zsh-3.1.6/configure.in	Sat Nov  6 22:39:21 1999
@@ -398,7 +398,7 @@
 AC_PROG_INSTALL             dnl Check for BSD compatible `install'
 AC_PROG_AWK                 dnl Check for mawk,gawk,nawk, then awk.
 AC_PROG_LN                  dnl Check for working ln, for "make install"
-AC_CHECK_PROGS([YODL], [yodl], [exit 0; yodl])
+AC_CHECK_PROGS([YODL], [yodl], [: yodl])
 
 dnl ------------------
 dnl CHECK HEADER FILES

* Only a nit, but there's an extraneous space in one spot in math.c:

--- ./Src/math.c	Sun Nov 21 15:00:36 1999
+++ ../../zsh-3.1.6/Src/math.c	Sat Nov 20 12:47:13 1999
@@ -367,7 +367,7 @@
 #ifdef USE_LOCALE
 		    setlocale(LC_NUMERIC, prev_locale);
 #endif
-		    if (ptr == nptr || *nptr == '.' ) {
+		    if (ptr == nptr || *nptr == '.') {
 			zerr("bad floating point constant", NULL, 0);
 			return EOI;
 		    }

* I have the same doubled paragraph in compsys.yo that -pws-9 has.  Based
  on my commitlogs, it was included in both 8639 and 8633.  (I can't check
  this against the archive easily, as 8639 is uuencoded.  Is there anyone
  who really still cares about the roughly 25% savings in size gained by
  doing gzip followed by uuencode?)  Did you fix this by hand, Tanaka?

* Otherwise, my differences are the same as those Tanaka reported.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

