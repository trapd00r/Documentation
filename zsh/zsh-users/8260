From zsh-users-return-8260-mason-zsh=primenet.com.au@sunsite.dk Fri Dec 03 08:05:52 2004
Return-Path: <zsh-users-return-8260-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1468 invoked from network); 3 Dec 2004 08:05:51 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 3 Dec 2004 08:05:51 -0000
Received: (qmail 229 invoked from network); 3 Dec 2004 08:05:45 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 3 Dec 2004 08:05:45 -0000
Received: (qmail 12351 invoked by alias); 3 Dec 2004 08:03:30 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8260
Received: (qmail 12328 invoked from network); 3 Dec 2004 08:03:29 -0000
Received: from unknown (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 3 Dec 2004 08:03:29 -0000
Received: (qmail 94227 invoked from network); 3 Dec 2004 08:02:30 -0000
Received: from rproxy.gmail.com (64.233.170.195)
  by a.mx.sunsite.dk with SMTP; 3 Dec 2004 08:02:29 -0000
Received: by rproxy.gmail.com with SMTP id f1so72895rne
        for <zsh-users@sunsite.dk>; Fri, 03 Dec 2004 00:02:28 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=llopvk1MKGO4eGDhYha1SyKPa+vORhKTkYx4LXPi4gufgFId/hvArFVn0/zf/0xsb3YBXCEUbcpmAuGt2iTGKXnwEy4t/JYV+FtjtuVMROJa4LTSBl7E4pwZI7ydWkG803239RUBXkmvOK/ZgE82/Nuf+s/QH7nOmKA/KGVEL4U=
Received: by 10.38.165.16 with SMTP id n16mr387940rne;
        Fri, 03 Dec 2004 00:02:27 -0800 (PST)
Received: by 10.38.125.24 with HTTP; Fri, 3 Dec 2004 00:02:21 -0800 (PST)
Message-ID: <dc507f4a04120300022e3894cb@mail.gmail.com>
Date: Fri, 3 Dec 2004 00:02:21 -0800
From: Felix Rosencrantz <f.rosencrantz@gmail.com>
Reply-To: Felix Rosencrantz <f.rosencrantz@gmail.com>
To: zsh-users@sunsite.dk
Subject: Re: Vim syntax file for zsh
In-Reply-To: <20041201120202.GB9543@puritan.pcp.ath.cx>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <dc507f4a04113023401aeab8b2@mail.gmail.com>
	 <20041201120202.GB9543@puritan.pcp.ath.cx>
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, hits=0.0 required=6.0 tests=none autolearn=no version=2.63
X-Spam-Hits: 0.0

I'm not a vim expert, I'm thinking there might be a better way to
allow me compare these syntax files side-by-side in the same process. 
I had to do it in separate runs.

Viewing completion function files under the cvs tree (e.g.
Completion/Unix/Type/_files)  It seems like both of these syntax files had some
problems with variable syntax.  Though Nikolai's seems to behave
better.  The one Danek sent marked some of  the variables with red
(meaning syntax errors.)  Neither knows about the new always keyword.

Though Nikolai's had problems with variables not listed in braces
(e.g. $#foo would only highlight the '$#'). It would only highlight
the first character.

I would like to see the syntax files be able to handle more of the
parameter expansion  syntax and flags (like found in man zshexpn) . 
It would be nice if it could color things like:
"${(@j:|:M)${(@)tmp#-}#?}" or show an error if it saw code like
"${(b)tmp} ('b' is not a valid flag).    Also things like the first
line #compdef or #autoload lines are not marked or highlighted in any
way, other than as a comment.

My focus is on completion functions, since they provide a good body of
source that use the zsh syntax.  Also, they contain quite a bit of
parameter syntax.

Both files seem better than the default one that comes with vim.  Very nice.
-FR.




On Wed, 1 Dec 2004 13:02:02 +0100, Nikolai Weibull

> Yes, but it isn't great.  You may definetely give enhancement tips,
>        nikolai

