From zsh-workers-return-17614-mason-zsh=primenet.com.au@sunsite.dk Wed Sep 04 08:25:16 2002
Return-Path: <zsh-workers-return-17614-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 25444 invoked from network); 4 Sep 2002 08:25:15 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 4 Sep 2002 08:25:15 -0000
Received: (qmail 11795 invoked by alias); 4 Sep 2002 08:25:06 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 17614
Received: (qmail 11779 invoked from network); 4 Sep 2002 08:25:05 -0000
X-VirusChecked: Checked
Date: Tue, 3 Sep 2002 17:24:18 +0100
From: Oliver Kiddle <okiddle@yahoo.co.uk>
To: Thomas =?iso-8859-1?Q?K=F6hler?= <jean-luc@picard.franken.de>
Cc: zsh-workers@sunsite.dk
Subject: Re: scp completion
Message-ID: <20020903162418.GA26930@logica.com>
References: <20020902163741.GA2240@picard.franken.de> <E17m9a1-0005kq-00@bimbo.logica.co.uk> <20020903151052.GA6194@picard.franken.de> <20020903152023.GA8799@picard.franken.de>
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
In-Reply-To: <20020903152023.GA8799@picard.franken.de>
User-Agent: Mutt/1.4i
Sender: Oliver Kiddle <kiddleo@logica.com>

On Tue, Sep 03, 2002 at 05:20:23PM +0200, Thomas Köhler wrote:

> +        _remote_files ${(kv)opt_args[(I)-[FP1246]]/-P/-p} && ret=0

> Now - scp completion didn't work for me - until I used
> 
>    scp -F /home/jean-luc/.ssh/config.special -P 2222 tkoehler@localhost:
> 
> instead of
> 
>    scp -F ~/.ssh/config.special -P 2222 tkoehler@localhost:
> 
> How can I avoid the "~" problem?

For the above line, you need:
  _remote_files ${(kv)~opt_args[(I)-[FP1246]]/-P/-p} && ret=0

The difference being the `~' before opt_args which turns on glob_subst
for the evaluation.

I'll commit the patch with this addition.

Oliver

This e-mail and any attachment is for authorised use by the intended recipient(s) only.  It may contain proprietary material, confidential information and/or be subject to legal privilege.  It should not be copied, disclosed to, retained or used by, any other party.  If you are not an intended recipient then please promptly delete this e-mail and any attachment and all copies and inform the sender.  Thank you.

