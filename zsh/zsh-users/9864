From zsh-users-return-9864-mason-zsh=primenet.com.au@sunsite.dk Sun Jan 29 16:29:41 2006
Return-Path: <zsh-users-return-9864-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2787 invoked from network); 29 Jan 2006 16:29:39 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.0 (2005-09-13) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=BAYES_00,FORGED_RCVD_HELO 
	autolearn=ham version=3.1.0
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 29 Jan 2006 16:29:39 -0000
Received: (qmail 84806 invoked from network); 29 Jan 2006 16:29:32 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 29 Jan 2006 16:29:32 -0000
Received: (qmail 9018 invoked by alias); 29 Jan 2006 16:29:24 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 9864
Received: (qmail 8988 invoked from network); 29 Jan 2006 16:29:23 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 29 Jan 2006 16:29:23 -0000
Received: (qmail 83736 invoked from network); 29 Jan 2006 16:29:23 -0000
Received: from moutng.kundenserver.de (212.227.126.177)
  by a.mx.sunsite.dk with SMTP; 29 Jan 2006 16:29:22 -0000
Received: from [84.141.217.200] (helo=shodan.local)
	by mrelayeu.kundenserver.de (node=mrelayeu2) with ESMTP (Nemesis),
	id 0MKwtQ-1F3FQX233X-0004nq; Sun, 29 Jan 2006 17:29:21 +0100
Received: from shodan.local (localhost [127.0.0.1])
	by shodan.local (8.12.10/8.12.10/SuSE Linux 0.7) with ESMTP id k0TGTKjL006660;
	Sun, 29 Jan 2006 17:29:20 +0100
Received: (from richter@localhost)
	by shodan.local (8.12.10/8.12.10/Submit) id k0TGTKUC006659;
	Sun, 29 Jan 2006 17:29:20 +0100
X-Authentication-Warning: shodan.local: richter set sender to richter@thomas-richter.de using -f
Date: Sun, 29 Jan 2006 17:29:20 +0100
From: Thomas Richter <richter@thomas-richter.de>
To: list zsh-users <zsh-users@sunsite.dk>
Subject: Re: history trouble
Message-ID: <20060129162920.GA32595@thomas-richter.de>
References: <20060128074156.GA19690@thomas-richter.de> <1060128155351.ZM730@candle.brasslantern.com> <20060128190424.GC19690@thomas-richter.de> <1060128203236.ZM1042@candle.brasslantern.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <1060128203236.ZM1042@candle.brasslantern.com>
User-Agent: Mutt/1.4.1i
Organization: http://www.thomas-richter.de
Priority: normal
X-Accept-Language: de, en, ru
X-Comment: da faellt mir auch nix mehr ein
X-Echelon: Drogen =?iso-8859-1?Q?f=FCr_Bundeskanzler_?=
	=?iso-8859-1?Q?der_Politik=2C_Bin_Laden_Accu=2C_Attentat_ist_Mord=2C_Netz?=
	=?iso-8859-1?Q?_gegen_Kinderporno=2C_President_ist_english_f=FCr_Pr=E4sid?=
	=?iso-8859-1?Q?ent=2C_Terror_der_RAF_in_Moskau_gabs_nie=2C_Hashisch=2C_Ma?=
	=?iso-8859-1?Q?rihuana=2C_Kokain=2C_Heroin=2C_LSD_und_Extacy_sind_auch_al?=
	=?iso-8859-1?Q?les_Drogen=2C_Israel=2C_da_wohnt?=
	=?iso-8859-1?Q?e?= der Saddam Hussein, hardcore but no child sex at all
X-Editor: VIM - Vi IMproved 6.2 (2003 Jun 1, compiled Sep 23 2003 23:25:02)
X-ICQ: 124849926
X-Identifikation: Thomas Richter
X-Location: Earth, Europe, Germany, Schleswig-Holstein, Kiel
X-Mailer: Mutt 1.4.1i (2003-03-19)
X-Message-Flag: Outlook and Outlook Express are Virus and Worm transport tools. Please use something else.
X-Operating-System: Linux shodan 2.4.21-303-default i686
X-Organization: http://www.thomas-richter.de
X-Preferred-File-Formats: ASCII text .html .pdf .ps .dvi .bz2 .gz .tar .zip Star and K Office. Please no MS Office documents unl
X-Priority: 3 (Normal)
X-Smily-Warning: This Mail could contain unmarked humor and/or satire.
X-Smily-Warnung: Diese Mail kann nicht gekennzeichneten Humor und/oder Satire enthalten.
X-Telephone: +49-179-5192431
X-URL: http://www.thomas-richter.de
X-Uptime: 5:23pm  an 6 Tage  9:50,  48 Benutzer,  Durchschnittslast: 0,44, 0,43, 0,53
X-Useless-Header: If you read this, say 'honk'!
X-Virus-Fake: joke, melissa, loveletter, ILOVEYOU, kournikova
X-Face: $?/'UO.DR3S)g{F/Dnxr^yTk#^s}dSBv1Ffuf5iJh;woY"7!*Bw23LN_7zowb#v:;dRRnzHM{7eO{Cz|z7:f/l?p*&yp,x7Vj`5jhGgFvt60((a)An[H<;RclBWK~'vIDt/$<+}8$'5MVl>[rZ%*/L8Lt{;2HBg7>WCRC?"F?*d;,LO:#JLxR*wePXXB^?EunUho+H^{;y!vV)j~&DdC5mm_K*oV{V1HJl%8_N5+"PO,!fd%1%u%
X-Provags-ID: kundenserver.de abuse@kundenserver.de login:66982b77710c28807b27c80bb686a2e0

Hi Bart Schaefer <schaefer@brasslantern.com>,
you wrote on Saturday, 2006-01-28 20:32:36 +0000:
> On Jan 28,  8:04pm, Thomas Richter wrote:
> 
> Possible reasons for the history not to be read are:
> 
> - the NO_RCS option is set (the doc says this prevents history from
>   being written, but it also suppresses reading it)

This option is not set.
 
> - the INTERACT option is not set

This option is set.
 
> - lockhistfile() fails because
>   + a temporary lock file can't be created in the same directory
>     as the HISTFILE

How can I test this?

>   + a link to that temp file can't be created

ln -s $HISTFILE newname is ok

>   + something else [possibly several somethings] has the file locked
>     for more than about 10 seconds (but this shouldn't apply at shell
>     startup, only for incremental history)

no process has this file open
 
> - the file can't be opened for reading

cat $HISTFILE is ok 

> - some part of the file is corrupt

no contains only one line with one word
 
> - HISTSIZE is zero (in which case, I believe, the file is read but all
>   the contents are discarded)

HISTSIZE = 99999
 
> My (new, ahem) guess is that the problem is with the lock file.

wkr Thomas Richter

-- 
dss1://49.431.801306      Wot're we going to do tonight, Brain ?
gsm://49.179.5192431   The same thing we do every night, Pinky .
icq://124849926                     Try to TAKE OVER THE WORLD !
mailto:richter@thomas-richter.de    http://www.thomas-richter.de

