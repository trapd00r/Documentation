From zsh-users-return-3720-mason-zsh=primenet.com.au@sunsite.dk Thu Mar 22 10:22:26 2001
Return-Path: <zsh-users-return-3720-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 22554 invoked from network); 22 Mar 2001 10:22:13 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 22 Mar 2001 10:22:13 -0000
Received: (qmail 10670 invoked by alias); 22 Mar 2001 10:21:49 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 3720
Received: (qmail 10649 invoked from network); 22 Mar 2001 10:21:48 -0000
Message-ID: <20010322102147.9030.qmail@web9301.mail.yahoo.com>
Date: Thu, 22 Mar 2001 10:21:47 +0000 (GMT)
From: =?iso-8859-1?q?Oliver=20Kiddle?= <okiddle@yahoo.co.uk>
Subject: Re: new completion modifications
To: Scott Lipcon <slipcon@mercea.net>
Cc: zsh-users@sunsite.dk
In-Reply-To: <20010322035841.D8AE626267@mercea.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

--- Scott Lipcon <slipcon@mercea.net> wrote:

> Second, is there an easy way to limit my $hosts expansions to telnet,
> rlogin, 
> ftp, etc, and $sshhosts to ssh, scp, etc?  using the above zstyles,
> they are 
> all thrown in one completion basket.

You can do this by using different contexts with the zstyle command.
For completion, contexts are of the form:
:completion:<function>:<completer>:<command>:<arg>:<tag>
(this line is so useful that I keep it in a comment in my .zshrc)
so we can use a context which restricts the command. So you can use
something like:

  zstyle '*' hosts $hosts
  zstyle ':completion:*:*:(ssh|scp):*' hosts $sshhosts

In the second zstyle, the context is more specific so when it matches
(for the ssh and scp commands), it will be used instead of the first
zstyle which will work in other cases.

You could similarly use a different context for hosts to use with other
programs like telnet, lynx, netscape etc.

There are also a few other styles you might find useful. Look-up the
users-hosts, users-hosts-ports, local and path styles in the manual.
That should give you the "magic zstyles" for urls.

Note to -workers - should _ssh be completing for ssh1 and ssh2 too?

It'll be quite possible to add other options to _rlogin but I'm not
familiar with any of the options beyond -l so I'll leave it to someone
else. Ideally, we would want to be able to work out if rlogin supports
kerberos so we know which set of options to complete.

Oliver



____________________________________________________________
Do You Yahoo!?
Get your free @yahoo.co.uk address at http://mail.yahoo.co.uk
or your free @yahoo.ie address at http://mail.yahoo.ie

