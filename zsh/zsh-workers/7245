From zsh-workers-return-7245-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Jul 21 15:55:03 1999
Return-Path: <zsh-workers-return-7245-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 29129 invoked from network); 21 Jul 1999 15:55:02 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 21 Jul 1999 15:55:02 -0000
Received: (qmail 15823 invoked by alias); 21 Jul 1999 15:54:57 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7245
Received: (qmail 15815 invoked from network); 21 Jul 1999 15:54:56 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <990721155446.ZM6856@candle.brasslantern.com>
Date: Wed, 21 Jul 1999 15:54:46 +0000
In-Reply-To: <199907211127.NAA02895@beta.informatik.hu-berlin.de>
Comments: In reply to Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
        "Re: CVS completer (Re: PATCH: Re: Completion/User functions again)" (Jul 21,  1:27pm)
References: <199907211127.NAA02895@beta.informatik.hu-berlin.de>
X-Mailer: Z-Mail (5.0.0 30July97)
To: zsh-workers@sunsite.auc.dk
Subject: Re: CVS completer (Re: PATCH: Re: Completion/User functions again)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Jul 21,  1:27pm, Sven Wischnowsky wrote:
} Subject: Re: CVS completer (Re: PATCH: Re: Completion/User functions again
}
} I mainly changed `compgen -f' to `_files' and `compgen -/' to `_files -/'
} and tweaked `_complete_opts' a bit so that `cvs ann -D<TAB>' doesn't
} give you `cvs ann -D-'.

Probably a list of what's still not quite right about _complete_opts should
be included in the comment at the top of it; and the usage comment should
mention that one trailing : means a required argument, two trailing : mean
an optional one, as per the latest GNU getopts.

Finally, in that vein, something ought to be done with $opt_arg besides just
including it in $with_arg.  The 'case "${#no_arg}-${#with_arg}" in' is an
interesting optimization, but I'm not sure it covers all the cases.

} Some questions:
} - And even with that in place: the `_complete_opts || _files' should
}   be reduced to `_files', right?

Yes, but again most of the _files should be changed to something that can
interpret CVS/Entries.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

