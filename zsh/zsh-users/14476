From zsh-users-return-14476-mason-zsh=primenet.com.au@sunsite.dk Sat Oct 10 21:41:26 2009
Return-Path: <zsh-users-return-14476-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 25849 invoked from network); 10 Oct 2009 21:41:14 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from new-brage.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.254.104)
  by ns1.primenet.com.au with SMTP; 10 Oct 2009 21:41:14 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 92392 invoked from network); 10 Oct 2009 21:41:05 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 10 Oct 2009 21:41:05 -0000
Received: (qmail 20122 invoked by alias); 10 Oct 2009 21:40:57 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 14476
Received: (qmail 20109 invoked from network); 10 Oct 2009 21:40:56 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 10 Oct 2009 21:40:56 -0000
Received: from mail-ew0-f225.google.com (mail-ew0-f225.google.com [209.85.219.225])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 0D9C7808ECB9
	for <zsh-users@sunsite.dk>; Sat, 10 Oct 2009 23:40:50 +0200 (CEST)
Received: by ewy25 with SMTP id 25so1602582ewy.45
        for <zsh-users@sunsite.dk>; Sat, 10 Oct 2009 14:40:50 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:cc:content-type
         :content-transfer-encoding;
        bh=HKYWqef8JlRaXXUDo0BpLYgfFQBdMTes+BEpKong9CA=;
        b=QJAH1ngVe7+3zjAsWKgtZ6PLs+6LzvEI1Nmpn0GfP9NKECErJiByjWI71ETMBdfU7Z
         EFSxCpBhqYk2SsCqF160yGaJVBYx7eHmHDkO9jjfxW5PGm/xRwom6X10G4nLDSNc2Hyf
         d6+d2wcvmhA7Pkt1y4yyy4U7G+8/bc/67RTOc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type:content-transfer-encoding;
        b=pa9wgNuO8PDGMNvruwRd2GR8bWdRSQBKJzMuTdyG7pINl/2SMB2PHcNANI9jK6tRex
         eK1Bc0AmSs0GPKFzZYT5DPXe+gbDNS3egrRkfw5PYfNWv7nKoHCYgSyd8gVvgTE5dCm7
         7hnX4A81enT5STxmLuPu/G79mgiHmQb40BfOg=
MIME-Version: 1.0
Received: by 10.211.128.9 with SMTP id f9mr5021125ebn.93.1255210849989; Sat, 
	10 Oct 2009 14:40:49 -0700 (PDT)
In-Reply-To: <487293.58954.qm@web65613.mail.ac4.yahoo.com>
References: <487293.58954.qm@web65613.mail.ac4.yahoo.com>
Date: Sat, 10 Oct 2009 23:40:49 +0200
Message-ID: <237967ef0910101440k4cf7e2e6t4cf2dc132b514ec@mail.gmail.com>
Subject: Re: How to make underlining of a command line disappear after an 
	ordinary key press? (2)
From: Mikael Magnusson <mikachu@gmail.com>
To: Guido van Steen <gvsteen@yahoo.com>
Cc: zsh-users@sunsite.dk
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Scanned: ClamAV 0.94.2/9881/Sat Oct 10 11:21:35 2009 on bifrost
X-Virus-Status: Clean

2009/10/10 Guido van Steen <gvsteen@yahoo.com>:
> Well, it seems that binding a widget like:
>
> """ordinary-key-press(){
> =C2=A0=C2=A0=C2=A0 region_highlight=3D("0 0 underline")
> =C2=A0=C2=A0=C2=A0 zle .self-insert;
> }
> """
>
> to all ordinary keys by:
>
> """zle -N ordinary-key-press
> bindkey 'a' ordinary-key-press
> ...
> ...
> ...
> bindkey 'Z' ordinary-key-press
> bindkey '^[[C' ordinary-key-press # arrow right
> bindkey '^[[D' ordinary-key-press # arrow left
> ...
> ...
> """
>
> achieves what I had in mind.
>
> I am still wondering though if the underlining can't be
> turned be done from within the widget
> "underline_cmdline_partially".
>
> Or can it at least be done without so many bindkey commands?

I think you can just do zle -N self-insert ordinary-key-press

--=20
Mikael Magnusson

