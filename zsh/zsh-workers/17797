From zsh-workers-return-17797-mason-zsh=primenet.com.au@sunsite.dk Wed Oct 09 11:53:49 2002
Return-Path: <zsh-workers-return-17797-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17827 invoked from network); 9 Oct 2002 11:53:48 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 9 Oct 2002 11:53:48 -0000
Received: (qmail 19503 invoked by alias); 9 Oct 2002 11:53:39 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 17797
Received: (qmail 19491 invoked from network); 9 Oct 2002 11:53:38 -0000
To: zsh-workers@sunsite.dk
Subject: Cygwin 1.3.12/zsh 4.0.6/zftp.c compilation problem
From: Hannu Koivisto <azure@iki.fi>
Date: Wed, 09 Oct 2002 14:53:36 +0300
Message-ID: <87y997eslb.fsf@lynx.ionific.com>
Lines: 19
User-Agent: Gnus/5.090007 (Oort Gnus v0.07) Emacs/21.2 (i686-pc-linux-gnu)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Sender: Hannu Koivisto <Hannu.Koivisto@ionific.com>

Greetings,

zsh 4.0.6 fails to compile under the latest Cygwin (1.3.12) because
zftp.c includes netinet/ip.h but not netinet/in_systm.h:

#ifndef __CYGWIN__
# include <netinet/in_systm.h>
#endif
#include <netinet/in.h>
#include <netinet/ip.h>

netinet/ip.h refers to at least n_long which is defined in
netinet/in_systm.h (or more precicely, in cygwin/in_systm.h that
netinet/in_systm.h includes) so netinet/in_systm.h is needed.  If I
comment out the first and the third lines in the above code, zsh
compiles and seems to work.

-- 
Hannu

