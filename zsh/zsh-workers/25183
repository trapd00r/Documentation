From zsh-workers-return-25183-mason-zsh=primenet.com.au@sunsite.dk Tue Jun 17 11:47:20 2008
Return-Path: <zsh-workers-return-25183-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13925 invoked from network); 17 Jun 2008 11:47:08 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.4 (2008-01-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.4
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 17 Jun 2008 11:47:08 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 76374 invoked from network); 17 Jun 2008 11:47:04 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 17 Jun 2008 11:47:04 -0000
Received: (qmail 22456 invoked by alias); 17 Jun 2008 11:47:01 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 25183
Received: (qmail 22438 invoked from network); 17 Jun 2008 11:47:00 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 17 Jun 2008 11:47:00 -0000
Received: from cluster-d.mailcontrol.com (cluster-d.mailcontrol.com [217.69.20.190])
	by bifrost.dotsrc.org (Postfix) with ESMTPS id C06338028AC3
	for <zsh-workers@sunsite.dk>; Tue, 17 Jun 2008 13:46:45 +0200 (CEST)
Received: from cameurexb01.EUROPE.ROOT.PRI ([193.128.72.68])
	by rly16d.srv.mailcontrol.com (MailControl) with ESMTP id m5HBkhUk020893
	for <zsh-workers@sunsite.dk>; Tue, 17 Jun 2008 12:46:44 +0100
Received: from news01.csr.com ([10.103.143.38]) by cameurexb01.EUROPE.ROOT.PRI with Microsoft SMTPSVC(6.0.3790.3959);
	 Tue, 17 Jun 2008 12:46:42 +0100
Received: from news01.csr.com (localhost.localdomain [127.0.0.1])
	by news01.csr.com (8.14.2/8.13.4) with ESMTP id m5HBkhnX013234
	for <zsh-workers@sunsite.dk>; Tue, 17 Jun 2008 12:46:43 +0100
Received: from csr.com (pws@localhost)
	by news01.csr.com (8.14.2/8.14.2/Submit) with ESMTP id m5HBkhfR013230
	for <zsh-workers@sunsite.dk>; Tue, 17 Jun 2008 12:46:43 +0100
Message-Id: <200806171146.m5HBkhfR013230@news01.csr.com>
X-Authentication-Warning: news01.csr.com: pws owned process doing -bs
To: Zsh hackers list <zsh-workers@sunsite.dk>
Subject: Re: arithmetic operator precedence
In-reply-to: <20080617112815.GF10734@prunille.vinc17.org>
References: <20080612095723.GF5113@sc.homeunix.net> <20080616080726.GP10734@prunille.vinc17.org> <20080616144211.276fb0e3@pws-pc> <2d460de70806170219k12ff4cadn441b52c48bf8076f@mail.gmail.com> <20080617094509.GC5016@sc.homeunix.net> <2d460de70806170324o5a44609x9383cc2445d67dd6@mail.gmail.com> <20080617103829.GD5016@sc.homeunix.net> <20080617114340.398c731f@news01> <20080617112815.GF10734@prunille.vinc17.org>
Comments: In-reply-to Vincent Lefevre <vincent@vinc17.org>
   message dated "Tue, 17 Jun 2008 13:28:15 +0200."
Date: Tue, 17 Jun 2008 12:46:43 +0100
From: Peter Stephenson <pws@csr.com>
X-OriginalArrivalTime: 17 Jun 2008 11:46:43.0180 (UTC) FILETIME=[D0208AC0:01C8D06F]
X-Scanned-By: MailControl A-08-50-03 (www.mailcontrol.com) on 10.68.0.126
X-Virus-Scanned: ClamAV 0.92.1/7494/Tue Jun 17 06:46:03 2008 on bifrost
X-Virus-Status: Clean

Vincent Lefevre wrote:
> Also, when people don't agree about the precedence of operators, a
> solution could be to require parentheses (but I don't know if this
> is easy to implement such rules). At least ambiguity is avoided.

That would be quite sensible, but the problem is we already have two
cases: traditional zsh behaviour, which we don't want to change now, and
"some sort of" compatilibity mode.  As it looks like "some sort of"
compatibility might as well be with other shells (so the option could
really be called "SH_PRECEDENCES", although it's perhaps less obvious that
means "something approximating to the precedences you probably expect if
you are a regular programmer") this doesn't give us room for manoeuvre
without yet another option.

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR PLC, Churchill House, Cambridge Business Park, Cowley Road
Cambridge, CB4 0WZ, UK                          Tel: +44 (0)1223 692070

