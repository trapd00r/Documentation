From zsh-users-return-11336-mason-zsh=primenet.com.au@sunsite.dk Sun Mar 25 18:52:28 2007
Return-Path: <zsh-users-return-11336-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 15475 invoked from network); 25 Mar 2007 18:52:25 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.8 (2007-02-13) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=BAYES_00,FORGED_RCVD_HELO
	autolearn=ham version=3.1.8
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 25 Mar 2007 18:52:25 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 53998 invoked from network); 25 Mar 2007 18:52:19 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 25 Mar 2007 18:52:19 -0000
Received: (qmail 2065 invoked by alias); 25 Mar 2007 18:52:11 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 11336
Received: (qmail 2056 invoked from network); 25 Mar 2007 18:52:10 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 25 Mar 2007 18:52:10 -0000
Received: (qmail 52729 invoked from network); 25 Mar 2007 18:52:10 -0000
Received: from atom.smasher.org (69.55.237.145)
  by a.mx.sunsite.dk with SMTP; 25 Mar 2007 18:52:06 -0000
Received: (qmail 48022 invoked by uid 1000); 25 Mar 2007 18:52:04 -0000
Message-ID: <20070325185204.48021.qmail@smasher.org>
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed
Date: Sun, 25 Mar 2007 14:52:02 -0400 (EDT)
From: Atom Smasher <atom@smasher.org>
In-Reply-To: <237967ef0703251133y79cde28coaa7a788f0ced8069@mail.gmail.com>
MIME-Version: 1.0
OpenPGP: id=0xB88D52E4D9F57808; algo=1 (RSA); size=4096; url=http://atom.smasher.org/pgp.txt
References: <20070325094407.62594.qmail@smasher.org>
 <237967ef0703251133y79cde28coaa7a788f0ced8069@mail.gmail.com>
Subject: Re: command substitution with control chars?
To: zsh-users@sunsite.dk
X-POM: The Moon is at the First Quarter
X-Hashcash: 1:20:0703251852:zsh-users@sunsite.dk::Mof3a74F+HO7jGh7:0000000000000
	000000000000000000000000BpmH

On Sun, 25 Mar 2007, Mikael Magnusson wrote:

> It sounds like you just need to put your escape sequences inside %{ %} 
> pairs?
=====================

then i wind up getting colored "%{" and colored "%}" in the prompt, and 
things are still hosed. maybe there's a way to do it, but i haven't 
figured it out yet...

basically, i'm taking this idea <http://swicked.net/pages/bat_mon.html> 
and trying to convert it from linux to bsd and from bash to zsh. i've got 
a script that outputs battery status, and uses different colors to display 
the output depending on the status... now to get the output into my 
prompt...

anyway, it seems that if the output of the script includes the zsh escape 
sequences it doesn't work as expected.


-- 
         ...atom

  ________________________
  http://atom.smasher.org/
  762A 3B98 A3C3 96C9 C6B7 582A B88D 52E4 D9F5 7808
  -------------------------------------------------

 	"Insanity is doing the same thing over and over
 	 again and expecting different results."
 		-- Albert Einstein


