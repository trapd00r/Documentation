From A.Main@dcs.warwick.ac.uk Thu Jun  6 02:23:15 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by melb.werple.net.au (8.7.5/8.7.3/2) with ESMTP id CAA03569 for <mason@werple.mira.net.au>; Thu, 6 Jun 1996 02:23:08 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id MAA28951; Wed, 5 Jun 1996 12:16:16 -0400 (EDT)
Resent-Date: Wed, 5 Jun 1996 12:16:16 -0400 (EDT)
From: Zefram <A.Main@dcs.warwick.ac.uk>
Message-Id: <22098.199606051612@granite.dcs.warwick.ac.uk>
Subject: Re: COLUMNS problem.
To: Rob.Hooft@EMBL-Heidelberg.de (Rob Hooft)
Date: Wed, 5 Jun 1996 17:12:51 +0100 (BST)
Cc: zsh-workers@math.gatech.edu (Z Shell workers mailing list)
In-Reply-To: <199606051525.RAA04603@nu.EMBL-Heidelberg.DE> from "Rob Hooft" at Jun 5, 96 05:25:26 pm
X-Loop: zefram@dcs.warwick.ac.uk
X-Stardate: [-31]7613.37
X-US-Congress: Moronic fuckers
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"DIkKO.0.E47.GBRjn"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/1264
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu
Content-Length: 553
Status: OR

>nu[100]crazy%% unset COLUMNS
>zsh: floating point exception  zsh

That's an effect of setting COLUMNS to zero.  unset does this.  One of
the patches I sent recently, to fix "unset USERNAME", incidentally
fixes this, by stopping unset from zeroing integer parameters.

>nu[104]crazy% COLUMNS= zsh -f
>zsh: floating point exception  COLUMNS= zsh -f
>nu[105]crazy% COLUMNS=0 zsh -f           
>zsh: floating point exception  COLUMNS=0 zsh -f

We need to do something about this.  I don't think zsh can handle less
than 2 columns, possibly more.

-zefram


