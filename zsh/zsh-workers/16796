From zsh-workers-return-16796-mason-zsh=primenet.com.au@sunsite.dk Mon Mar 11 09:56:37 2002
Return-Path: <zsh-workers-return-16796-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8394 invoked from network); 11 Mar 2002 09:56:37 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 11 Mar 2002 09:56:37 -0000
Received: (qmail 25965 invoked by alias); 11 Mar 2002 09:56:31 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 16796
Received: (qmail 25953 invoked from network); 11 Mar 2002 09:56:31 -0000
From: Sven Wischnowsky <wischnow@berkom.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15500.32490.15487.735745@wischnow.berkom.de>
Date: Mon, 11 Mar 2002 10:54:50 +0100
To: zsh-workers@sunsite.dk
Subject: Re: what is removing the space after completion and before "|"?
In-Reply-To: <20020309214538.A9452@eskimo.eskimo.com>
References: <20020309020350.A25556@eskimo.eskimo.com>
	<20020309103417.GA15311@Ax9.org>
	<1020309182056.ZM24962@candle.brasslantern.com>
	<20020309214538.A9452@eskimo.eskimo.com>
X-Mailer: VM 6.95 under 21.5 (patch 3) "asparagus" XEmacs Lucid


Derek Peschel wrote:

> ...
> 
> I'm using the old completion system and I haven't tried compctl.  I don't
> think AUTO_REMOVE_SLASH has any effect in the particular case of spaces
> before pipe characters (I tried it both ways).  This is with a 4.1
> development version.

compctl is the old one, the completion system is the new one.

> Is compresult.c the only file that deals with suffixes?

Everthing needed for this, yes.  But we have to rely on the zle module
to really remove the suffix (since at that time, the completion system
isn't running any more).

But.  We had some discussion about suffix handling some time ago
(sorry, don't have the message IDs here).  I've mostly been thinking
(or dreaming) about moving mor of the code into shell code for more
flexibilty and greater configurability.  I didn't have time to hack,
though, and it isn't easy without changing several parts of the C- and
shell-code.

I don't object if you want to hack that part of the code (everyone who
wants to work his way into the completion code is welcome), but I
don't want new shell options to appear for this (or I'll remove them
again when I find the time to tackle the suffix problem).

Maybe you have other ideas about suffix handling and could tell us
about them?  So that we could come up with a list of desired features
to help us implement that.

I'm starting to like hacking zsh again, so I might even start playing
with this as long as I'm stuck on the other two recent open issues
(fake and the -[JV] problem and defaults as in the my-accounts case --
but see the mail I'm writing in a few minutes for this).


Bye
  Sven

-- 
Sven Wischnowsky                          wischnow@berkom.de

