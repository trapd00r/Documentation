From zsh-users-return-3312-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Jul 21 06:13:57 2000
Return-Path: <zsh-users-return-3312-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 7096 invoked from network); 21 Jul 2000 06:13:55 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 21 Jul 2000 06:13:55 -0000
Received: (qmail 27832 invoked by alias); 21 Jul 2000 06:13:37 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 3312
Received: (qmail 27825 invoked from network); 21 Jul 2000 06:13:36 -0000
X-Envelope-Sender-Is: Andrej.Borsenkow@mow.siemens.ru (at relayer david.siemens.de)
From: "Andrej Borsenkow" <Andrej.Borsenkow@mow.siemens.ru>
To: "Mike Boilen" <mboilen@microsoft.com>, <zsh-users@sunsite.auc.dk>
Subject: RE: Problems with zsh 3.1.9 and cygwin
Date: Fri, 21 Jul 2000 10:13:33 +0400
Message-ID: <000001bff2da$cc2e9360$21c9ca95@mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
In-Reply-To: <1D4512C91A0E044FBF24DDB221C94C53826753@red-msg-29.redmond.corp.microsoft.com>
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
Importance: Normal

>
> I am using windows 2000 server with cygwin 1.1.2 (or whatever
> the newest
> release is; I downloaded it yesterday).  The code for zsh
> 3.1.9 builds fine
> without modification.  However, when I run it, I get the error:
>
>       0 [main] zsh 18877 handle_exceptions: Exception:
> STATUS_ACCESS_VIOLATION
>     913 [main] zsh 18877 stackdump: Dumping stack trace to
> zsh.exe.stackdump
>
> and the following stackdump:

I understand, that it is of little help, but I can build and run current
Zsh code (I do not remember, if I tried stock 3.1.9 - but it is very
probable) in exactly the above configuration. There are a couple of
glitches wrt pty support but apart from that it runs fine.
>
> I also poked around the code a bit.  It appears to crash in
> params.c at line
> 508 (using gdb to discover this)
>     for (envp = new_environ, envp2 = environ; *envp2; envp2++) {
>

Wow! I was never able to use GDB under Cygwin. How do you do it?

-andrej

