From zsh-users-return-14088-mason-zsh=primenet.com.au@sunsite.dk Sun May 03 03:54:30 2009
Return-Path: <zsh-users-return-14088-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9153 invoked from network); 3 May 2009 03:54:26 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 3 May 2009 03:54:26 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 34648 invoked from network); 3 May 2009 03:54:13 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 3 May 2009 03:54:13 -0000
Received: (qmail 13316 invoked by alias); 3 May 2009 03:53:57 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 14088
Received: (qmail 13300 invoked from network); 3 May 2009 03:53:56 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 3 May 2009 03:53:56 -0000
Received: from QMTA06.emeryville.ca.mail.comcast.net (qmta06.emeryville.ca.mail.comcast.net [76.96.30.56])
	by bifrost.dotsrc.org (Postfix) with ESMTP id A0FC58028C71
	for <zsh-users@sunsite.dk>; Sun,  3 May 2009 05:51:36 +0200 (CEST)
Received: from OMTA03.emeryville.ca.mail.comcast.net ([76.96.30.27])
	by QMTA06.emeryville.ca.mail.comcast.net with comcast
	id mpTo1b0080b6N64A6rth0C; Sun, 03 May 2009 03:53:41 +0000
Received: from ckhb06.ckhb.org ([24.4.103.59])
	by OMTA03.emeryville.ca.mail.comcast.net with comcast
	id mrtg1b0071GtvGg8PrtgxM; Sun, 03 May 2009 03:53:41 +0000
Date: Sat, 2 May 2009 20:53:39 -0700 (PDT)
From: "S. Cowles" <scowles@ckhb.org>
X-X-Sender: picmar@ckhb06.ckhb.org
To: zsh-users@sunsite.dk
Subject: Re: dll Error on cygwin
In-Reply-To: <alpine.LN8.2.00.0905021343480.14755@ckhb06.ckhb.org>
Message-ID: <alpine.LN8.2.00.0905022034430.14755@ckhb06.ckhb.org>
References: <20090501061103.GA22489@thomas-richter.de> <200905010919.n419JaNK031673@news01.csr.com> <20090501111952.GD22489@thomas-richter.de> <Pine.LNX.4.64.0905010841120.13565@gremlin.fruitbat.org> <090501091020.ZM27774@torch.brasslantern.com>
 <Pine.LNX.4.64.0905011016180.13565@gremlin.fruitbat.org> <alpine.LN8.2.00.0905021343480.14755@ckhb06.ckhb.org>
User-Agent: Alpine 2.00 (LN8 1167 2008-08-23)
X-Face: Ek1c-Ll9]E|9mF*Z|hf5VSHqF.]0Qv%;h%=Zne"Y3am*(:Tf_BlXI;j'}FMhu%sNCjSk|</(~~v,k&/W^J;>cxD~oD:g5Tv,gN}{Y8("m<8<%%=_vy
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed
X-Virus-Scanned: ClamAV 0.92.1/9319/Sat May  2 18:41:23 2009 on bifrost
X-Virus-Status: Clean

On Sat, 2 May 2009, S. Cowles wrote:
> On Fri, 1 May 2009, Peter A. Castro wrote:
>> On Fri, 1 May 2009, Bart Schaefer wrote:
>>> On May 1,  8:44am, Peter A. Castro wrote:
>
> one more data point: this problem had me effectively shut down on win7 beta 
> 1.  after the rebase routine, vim, zsh, cvs, subversion, and gcc, for 
> instance, all appear to be working as expected.

after a fresh compile of zsh on win 7 beta 1, dll's and so's in /usr/local 
need to be included in the rebaseall invocation.

1.  do the normal shutdown of all cygwin services and apps.
     (http://www.heikkitoivonen.net/blog/2008/11/26/cygwin-upgrades-and-rebaseall/)
2.  initiate a bash session
3.  find /usr/local -name *.dll  > /tmp/lst
4.  find /usr/local -name *.so  >> /tmp/lst
5.  exit the bash session
6.  initiate a cmd session
7.  cd \cygwin\bin
8.  .\ash.exe
9.  PATH=. rebaseall -v -T /tmp/lst

