From zsh-workers-return-17706-mason-zsh=primenet.com.au@sunsite.dk Thu Sep 19 15:38:38 2002
Return-Path: <zsh-workers-return-17706-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24599 invoked from network); 19 Sep 2002 15:38:37 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 19 Sep 2002 15:38:37 -0000
Received: (qmail 19488 invoked by alias); 19 Sep 2002 15:38:25 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 17706
Received: (qmail 19474 invoked from network); 19 Sep 2002 15:38:23 -0000
From: "David Gómez" <david@pleyades.net>
Date: Thu, 19 Sep 2002 17:37:37 +0200
To: Peter Stephenson <pws@csr.com>, zsh-workers@sunsite.dk
Subject: Re: Using zsh in gcc compilation
Message-ID: <20020919153737.GA30552@fargo>
References: <20020919150720.GA14948@fargo> <16798.1032448732@csr.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-15
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
In-Reply-To: <16798.1032448732@csr.com>
User-Agent: Mutt/1.3.28i

On Thu, Sep 19, 2002 at 04:18:52PM +0100, Peter Stephenson wrote:
> That's extremely plausible --- `on' occurs very frequently in $options.

Confirmed. Now gcc compiles fine with a different name for the options
variable in the genmultilib script. Anyway i don't think gcc scripts should
be changed to solve this problem.

> But that implies the zsh/parameter module is loaded.  It shouldn't be
> doing this by default in sh emulation. 

No, it isn't loaded. In sh emulation just main,complete,compctl and zle are
loaded, or just main if the shell is not interactive.

> You might want to check what
> startup scripts are being executed for sh mode (running with the option
> -x should show this).

With sh emulation, no scripts are loaded. I haven't a /etc/profile or the like.

> I'm not sure if there's a general way round this.  We would look to move
> towards separate namespaces, but that needs someone to do the work.
> It's a shame we didn't initially use names like zsh_options instead.

Yep, i think options is a name too common to be used as a global variable
in zsh, zsh_options is much better.

Thanks a lot for your help to find out the cause of this problem ;)

-- 
David Gómez

"The question of whether computers can think is just like the question of
 whether submarines can swim." -- Edsger W. Dijkstra

