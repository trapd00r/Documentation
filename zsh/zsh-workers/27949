From zsh-workers-return-27949-mason-zsh=primenet.com.au@zsh.org Mon May 10 11:43:12 2010
Return-Path: <zsh-workers-return-27949-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 22441 invoked by alias); 10 May 2010 11:43:12 -0000
Mailing-List: contact zsh-workers-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Workers List <zsh-workers.zsh.org>
List-Post: <mailto:zsh-workers@zsh.org>
List-Help: <mailto:zsh-workers-help@zsh.org>
Delivered-To: mailing list zsh-workers@zsh.org
X-Seq: 27949
Received: (qmail 995 invoked from network); 10 May 2010 11:43:09 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.9 required=5.0 tests=BAYES_00,RCVD_IN_DNSWL_NONE,
	SPF_HELO_PASS autolearn=ham version=3.3.1
Received-SPF: none (ns1.primenet.com.au: domain at bewatermyfriend.org does not designate permitted sender hosts)
From: Frank Terbeck <ft@bewatermyfriend.org>
To: zsh-workers@zsh.org
Subject: Failing test C03
User-Agent: Gnus/5.13 (Gnus v5.13) Emacs/23.1 (gnu/linux)
Date: Mon, 10 May 2010 13:35:18 +0200
Message-ID: <87aas82dmx.fsf@ft.bewatermyfriend.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 8bit
X-Df-Sender: 430444

Hello workers,

Here's a transcript of the failing test with current HEAD.
This is happening on a Linux 2.6.26, glibc 2.7; libc and zsh compiled
with gcc 4.3.2.

./C03traps.ztst: starting.
This test takes at least three seconds...
##
This test, too, takes at least three seconds...
#####
#####
#####
#####
#####
#####
#####
Another test that takes three seconds
########
#########
#########
#########
#########
#########
*** /tmp/zsh.ztst.out.1973	Mon May 10 13:27:22 2010
--- /tmp/zsh.ztst.tout.1973	Mon May 10 13:27:22 2010
***************
*** 1 ****
! This subshell is exiting  
--- 1 ----
! This subshell is exiting
Test ./C03traps.ztst failed: output differs from expected as shown above for:
   { trap 'echo This subshell is exiting' EXIT; } | cat
Was testing:  EXIT trap set in current shell at left of pipeline
./C03traps.ztst: test failed.
[...]
**************************************
36 successful test scripts, 2 failures, 0 skipped
**************************************

The second test, which is failing is C02, which is because I'm building
on a file system that's mounted with the `noatime' option.

Regards, Frank

