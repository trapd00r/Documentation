From zsh-workers-request@euclid.skiles.gatech.edu  Fri Nov  8 01:34:51 1996
Return-Path: zsh-workers-request@euclid.skiles.gatech.edu
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by coral.primenet.com.au (8.7.5/8.7.3) with ESMTP id BAA12819 for <mason@primenet.com.au>; Fri, 8 Nov 1996 01:34:49 +1100 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id JAA05479; Thu, 7 Nov 1996 09:20:48 -0500 (EST)
Resent-Date: Thu, 7 Nov 1996 09:20:48 -0500 (EST)
Date: Thu, 7 Nov 1996 08:20:34 -0600
From: John Patoskie <jozef@tivoli.com>
Message-Id: <9611070820.ZM7746@lanshark.tivoli.com>
X-Mailer: Z-Mail (3.2.1 10oct95)
To: zsh-workers@math.gatech.edu (Zsh workers list)
Subject: screen problems with bindkey -v set
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Resent-Message-ID: <"Lt0nM3.0.UL1._0VWo"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/2328
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

I am trying to complete a port of zsh v3.0.1 to OpenNT.
Everything seems to work fine if bindkey -e is set.
When I use bindkey -v, although the key sequence performs
the proper vi actions, the screen is garbled.

Given history:

53  ls
54  ls -al

<Esc>k   returns the following at the prompt

> kls -al

If I then try and execute the following sequence,

^d$als            - go to the beginning of the line, delete the
                    line, append "ls" <enter>

I get the following:

> kls -a^d$als

I get the expected "ls" output, but I shouldn't be seeing any
of the vi command key input.

This works fine using the same source base on HP-UX[9,10],
SunOS, and Solaris.

Suggestions?

I hope to send in the diffs to run on OpenNT when this is complete.

Regards,

John

