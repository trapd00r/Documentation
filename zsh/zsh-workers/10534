From zsh-workers-return-10534-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Apr 06 09:33:38 2000
Return-Path: <zsh-workers-return-10534-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8374 invoked from network); 6 Apr 2000 09:33:09 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 6 Apr 2000 09:33:09 -0000
Received: (qmail 24101 invoked by alias); 6 Apr 2000 09:32:57 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 10534
Received: (qmail 24093 invoked from network); 6 Apr 2000 09:32:57 -0000
X-Envelope-Sender-Is: Andrej.Borsenkow@mow.siemens.ru (at relayer david.siemens.de)
From: "Andrej Borsenkow" <Andrej.Borsenkow@mow.siemens.ru>
To: "Peter Stephenson" <pws@cambridgesiliconradio.com>,
   "Zsh hackers list" <zsh-workers@sunsite.auc.dk>
Subject: RE: Modifier substitutions.
Date: Thu, 6 Apr 2000 13:32:38 +0400
Message-ID: <000e01bf9fab$0c3e59a0$21c9ca95@mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
In-Reply-To: <0FSL00D608EDHX@la-la.cambridgesiliconradio.com>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6700


>
> The `#' is being interpreted as an anchor at the head of the
> string even
> when buried inside $old.  I have a feeling that wasn't my intention.
>

Erm ... it was done by Bart (do not have arcticle number handy) as a
result of my question. It was originally used when _configure called
_long_options (was it called so?) to make "--disable-*" out of
"--enable-*" (and vice versa). It gets pattern/replacement in the form

'#--disable- --enable-'
...

The intent was to not match string in the middle of option (it is
unlikely in case of configure, but for the sake of generality ...) But,
probably, now, with backreferences it can be rewrited as

'(#m)--disable-(*) --enable-$MATCH'

and explicitly anchor at the beginning.

I do not insist on this change. This was the sole reason for it.

-andrej

