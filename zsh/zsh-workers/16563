From zsh-workers-return-16563-mason-zsh=primenet.com.au@sunsite.dk Tue Feb 05 10:24:30 2002
Return-Path: <zsh-workers-return-16563-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 20580 invoked from network); 5 Feb 2002 10:24:29 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 5 Feb 2002 10:24:29 -0000
Received: (qmail 6083 invoked by alias); 5 Feb 2002 10:24:23 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 16563
Received: (qmail 6070 invoked from network); 5 Feb 2002 10:24:22 -0000
Message-ID: <20020205102420.39912.qmail@web9304.mail.yahoo.com>
Date: Tue, 5 Feb 2002 10:24:20 +0000 (GMT)
From: =?iso-8859-1?q?Oliver=20Kiddle?= <okiddle@yahoo.co.uk>
Subject: Re: PATCH: _ssh (scp)
To: zsh-workers@sunsite.dk
Cc: david@debian.org
In-Reply-To: <20020204175927.GA12977@dman.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Clint wrote:

>      _wanted files expl 'remote files' \
> -        compadd $(ssh -a -x ${words[CURRENT]%:*} echo
> ${words[CURRENT]#*:}\*)
> +      compadd ${${remfiles:#*/}/[*=@](#e)/}
> +
> +    _wanted dirs expl 'remote directories' \
> +      compadd -S/ ${${(M)remfiles:#*/}/\\/(#e)/}

It would be more consistent with normal file completion to add the
files and directories together with the same tag and description.
I'd also be tempted to setup separate display strings so that the * for
executables, @ for symlinks etc are preserved in the file list.

Is it possible to have colour coding work in this sort of case? When I
did _mtools I briefly looked but couldn't see how it could be done.

Oliver

__________________________________________________
Do You Yahoo!?
Everything you'll ever need on one web page
from News and Sport to Email and Music Charts
http://uk.my.yahoo.com

