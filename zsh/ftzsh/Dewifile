#!/usr/bin/perl

#set_opt('debug', 'true');
#set_opt('verbose', 'true');
#set_opt('dryrun', 'true');

nuke_deadlinks_register('~/.zshrc.d', '*.z');
add_hook( { type  => 'perl',
            event => 'pre-deploy',
            code  => \&nuke_deadlinks } );

#register('zshrc');
register( { glob        => '{zshrc,zlogout,dircolors}',
            method      => 'symlink',
            destination => '~/',
            transform   => \&makedotfile } );
register( { glob        => 'zshrc.d/{zshrc.real,zshrc.pre3,*.z}',
            method      => 'symlink',
            destination => '~/.zshrc.d' } );
register( { glob        => 'functions/[_a-zA-Z]*[a-z]',
            method      => 'symlink',
            destination => '~/.zfunctions' } );
end();
