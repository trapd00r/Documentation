From zsh-workers-return-26566-mason-zsh=primenet.com.au@sunsite.dk Fri Feb 13 11:51:04 2009
Return-Path: <zsh-workers-return-26566-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13658 invoked from network); 13 Feb 2009 11:51:01 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 13 Feb 2009 11:51:01 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 77856 invoked from network); 13 Feb 2009 11:50:56 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 13 Feb 2009 11:50:56 -0000
Received: (qmail 1450 invoked by alias); 13 Feb 2009 11:50:50 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 26566
Received: (qmail 1441 invoked from network); 13 Feb 2009 11:50:50 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 13 Feb 2009 11:50:50 -0000
Received: from yx-out-2324.google.com (yx-out-2324.google.com [74.125.44.30])
	by bifrost.dotsrc.org (Postfix) with ESMTP id F3A6D80271F0
	for <zsh-workers@sunsite.dk>; Fri, 13 Feb 2009 12:50:36 +0100 (CET)
Received: by yx-out-2324.google.com with SMTP id 8so585538yxm.81
        for <zsh-workers@sunsite.dk>; Fri, 13 Feb 2009 03:50:36 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:sender:received:in-reply-to
         :references:date:x-google-sender-auth:message-id:subject:from:to:cc
         :content-type:content-transfer-encoding;
        bh=F8SHy/ZFQeQUCeHfayYSG/IghfxkOM38VnW4PDLoQ2A=;
        b=UVZt2dxd3G+fbJ8THgmbBO6EqTxfkvxXQUZezQMK0yR7TlM/9v3d57WDlih/ceCPiP
         2unJ0ySRjcMFBQISbW1V7HjzQCgvsy7vcneCWI3ineXi5RGlCdrF807oMIufWggRTpql
         9U0rGX1LQ6jKGl+0BfJwxF2DtWWPL6sXh0E4U=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:in-reply-to:references:date
         :x-google-sender-auth:message-id:subject:from:to:cc:content-type
         :content-transfer-encoding;
        b=KT1bI4SII+ksb/trqayjtdiHRoY94z4KZ+BdgZTFwbmm3fjBmlJZKkR2zGgd9gUKd5
         +LlOq9fliVjfZbeVNXRVVe8CraOCQyqZMug99VRVPt2C9UhkvyqubXKYBRH3MRCea6Uh
         iAWRo+j+Dp8RLklwrvzI8kkYUszcPpPdxONmI=
MIME-Version: 1.0
Sender: ethersoft@gmail.com
Received: by 10.100.110.16 with SMTP id i16mr2570964anc.150.1234525836096; 
	Fri, 13 Feb 2009 03:50:36 -0800 (PST)
In-Reply-To: <Pine.LNX.4.64.0902062228220.7299@gremlin.fruitbat.org>
References: <20a807210902052007m4f26f9d8w9cb831c90be3b879@mail.gmail.com>
	 <Pine.LNX.4.64.0902062228220.7299@gremlin.fruitbat.org>
Date: Fri, 13 Feb 2009 06:50:35 -0500
X-Google-Sender-Auth: d2afcd01d2ea63dc
Message-ID: <20a807210902130350i63b2f1dah7cf850693c1a3821@mail.gmail.com>
Subject: Re: Test D03 hang under cygwin 1.7
From: Vin Shelton <acs@alumni.princeton.edu>
To: "Peter A. Castro" <doctor@fruitbat.org>
Cc: Zsh hackers list <zsh-workers@sunsite.dk>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: ClamAV 0.92.1/8987/Fri Feb 13 11:32:33 2009 on bifrost
X-Virus-Status: Clean

Hello, Peter -

On Sat, Feb 7, 2009 at 1:32 AM, Peter A. Castro <doctor@fruitbat.org> wrote:
> On Thu, 5 Feb 2009, Vin Shelton wrote:
>> Under the soon-to-be-released Cygwin 1.7, I downloaded the latest CVS
>> sources and ran a build from scratch.  I'm getting a test hang in D03:
>
> I've seen this only once before under 1.5, but not lately in any of my
> test builds.  Are you running a multi-processor/hyper-threaded machine?
> If so, what's the configuration?

Yes - I'm running this on my core-2 duo, T7250.  What other
configuration info would you like?

> At the point of the hang, do a 'ps' and
> see how many zsh shells are currently running.  This might be a race
> condition which can be coded around depending on the exact configuration
> needed to cause the condition.

There are 2 instances of the shell running:
     3632    3956     404       1792    0 1003 22:48:00
/usr/local/build/zsh-2009-02-12/Src/zsh
     1760    3632     404       3128    0 1003 22:48:51
/usr/local/build/zsh-2009-02-12/Src/zsh

HTH,
  Vin

