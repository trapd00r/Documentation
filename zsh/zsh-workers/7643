From zsh-workers-return-7643-mason-zsh=primenet.com.au@sunsite.auc.dk Sat Sep 04 02:06:59 1999
Return-Path: <zsh-workers-return-7643-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 22024 invoked from network); 4 Sep 1999 02:06:58 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 4 Sep 1999 02:06:58 -0000
Received: (qmail 12217 invoked by alias); 4 Sep 1999 02:06:42 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7643
Received: (qmail 12210 invoked from network); 4 Sep 1999 02:06:41 -0000
Message-Id: <199909040206.WAA18150@ocalhost>
Content-Type: text/plain
MIME-Version: 1.0
From: Timothy J Luoma <tjlists@bigfoot.com>
Date: Fri,  3 Sep 1999 22:06:34 -0400
To: zsh-workers@sunsite.auc.dk
Subject: completion killing zsh
X-Image-URL: http://www.peak.org/~luomat/luomat@peak.org.tiff
Organization: http://www.peak.org/~luomat/


Don't ask me why, but when I try this completion (ie: I hit 'tab' after  
'ivvvv' below) zsh dies:

(zsh = 3.1.5-pws-20)



(gdb) run
Starting program: /usr/bin/zsh
# appnmail -ivvvv Program generated(1): Memory access exception on address  
0x2f (protection failure).
0x36d45 in ?? ()
(gdb)

here's the completion:

compctl -K allmbox  'S[-]' -- compactmail appnmail


here's the reply function "allmbox" :

allmbox ()
   {
   if [[ $mboxs = "" ]]
   then
   	mboxs=(`find ~/Mailboxes/ -type d -name '*.mbox' -print`);
   fi
   reply=$mboxs;
   }


what am I doing wrong here?

is it a buffer overflow maybe?

# find ~/Mailboxes/ -type d -name '*.mbox' -print|wc
    177     177   11536


