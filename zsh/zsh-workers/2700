From zsh-workers-request@euclid.skiles.gatech.edu Thu Jan 02 09:54:55 1997
Return-Path: <zsh-workers-request@euclid.skiles.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 730 invoked from network); 2 Jan 1997 09:54:51 -0000
Received: from euclid.skiles.gatech.edu (list@130.207.146.50)
  by coral.primenet.com.au with SMTP; 2 Jan 1997 09:54:51 -0000
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id EAA25810; Thu, 2 Jan 1997 04:57:55 -0500 (EST)
Resent-Date: Thu, 2 Jan 1997 04:57:55 -0500 (EST)
From: Zefram <zefram@dcs.warwick.ac.uk>
Message-Id: <21090.199701020959@stone.dcs.warwick.ac.uk>
Subject: compctl base as a separate module
To: zsh-workers@math.gatech.edu (Z Shell workers mailing list)
Date: Thu, 2 Jan 1997 09:59:05 +0000 (GMT)
X-Patch: 177
X-Loop: zefram@dcs.warwick.ac.uk
X-Stardate: [-31]8667.08
X-US-Congress: Moronic fuckers
Content-Type: text
Resent-Message-ID: <"tdl0q2.0.BJ6.XQuoo"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/2700
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

-----BEGIN PGP SIGNED MESSAGE-----

This patch separates the basic compctl code from the rest of ZLE, and
puts it into a separate module.  Both the zle and compctl modules depend
on this "comp1" module.

The point of doing this is that ZLE and the compctl builtin are logically
independent.  They provide orthogonal interfaces to the completion
database -- ZLE uses it to control how it completes, and compctl allows
the user to modify it.  It should be possible to use compctl, and other
interfaces to completion, without having to load in a line editor.

 -zefram

begin 644 comp1.patch.gz
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
#3```
`
end

-----BEGIN PGP SIGNATURE-----
Version: 2.6.2

iQCVAwUBMspJ8XD/+HJTpU/hAQEACAQAvWCmR8cFlTqAwjrkcDRj9q1tziidN/8N
F0/qfJik2nKJDOu3+LzB1Iy7IQluWg1HW/Z+m19YrvZHnrSeOMI9Hl18gMRWe4JP
KLenRazYmBujJVbpb3+zLlmN4iDq9IlH7I9MjZKJxOskSkQbHywZX8gMxwHQxJVP
WDQdMqz/97w=
=ubQ3
-----END PGP SIGNATURE-----

