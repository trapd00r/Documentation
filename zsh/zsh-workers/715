From zsh-workers-request@euclid.skiles.gatech.edu  Sun Jan  7 16:57:06 1996
Received: from euclid.skiles.gatech.edu (euclid.skiles.gatech.edu [130.207.146.50]) by werple.net.au (8.7/8.7.1) with ESMTP id QAA13727 for <mason@werple.mira.net.au>; Sun, 7 Jan 1996 16:57:01 +1100 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id AAA15686; Sun, 7 Jan 1996 00:29:49 -0500 (EST)
Resent-Date: Sun, 7 Jan 1996 00:29:49 -0500 (EST)
To: Michael Talbot-Wilson <mike@calypso.bns.com.au>
CC: Zsh Workers <zsh-workers@math.gatech.edu>
Subject: Re: Hi.  Installed on FreeBSD 2.1
References: <Pine.BSD.3.91.960107152025.3278B-100000@calypso.bns.com.au>
From: dhall@illusion.apk.net (d. hall)
Date: 07 Jan 1996 00:31:12 -0500
In-Reply-To: Michael Talbot-Wilson's message of Sun, 7 Jan 1996 15:54:03 +1030 (CST)
Message-ID: <x6iviovae7.fsf@illusion.apk.net>
Organization: // DMi Virtual Softworks
Lines: 48
Resent-Message-ID: <"U7fxp.0.0r3.Dfrxm"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/715
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

ð thus on Sun, 7 Jan 1996 15:54:03 +1030 (CST), Michael virtually scripted...


> I have a little problem with ls, though I guess it's more general.  Best 
> explained by examples:

> 	$ ls -l -F			# okay
> 	$ A='-l'
> 	$ ls $A -F			# okay
> 	$ B='-l -F'
> 	$ ls $B				# error
> 					# BSD ls: "illegal option --"
> 					# GNU ls: "invalid option --"
> 	$ ls --8bit --color=tty -lF	# okay (GNU color ls)
> 	$ C='--8bit --color=tty'
> 	$ ls $C -lF		# unrecognized option `--8bit --color=tty'
> 				# (GNU color ls)

> The problem does not appear with bash or tcsh.  It does appear with two 
> varieties of ls with zsh.

> The color ls works by assigning the variable LS_OPTIONS and using it in 
> aliases.  It is set to "--8bit --color=<option>" by the program 
> dircolors run in a shell startup file. 

herein follows a color_ls setup (which i use on linux), notice the ()'s
since (and i do not if this is consistant with ksh, although for some
snipping reason i think this isn't how ksh does it).

### setup colorized directories
if [[ $TERM = "linux" ]] then
  LS_OPTIONS=(--8bit --color=yes -A -T 0)
  LS_PAGER=(less -rE '-P continue $')
else
  LS_OPTIONS=(--8bit --color=no -A -T 0)
  LS_PAGER=cat
fi

### system functions
function d() 	{ \ls $LS_OPTIONS -CF $* | $LS_PAGER }
function dir()	{ \ls $LS_OPTIONS -l  $* | $LS_PAGER }
function vls()	{ \ls $LS_OPTIONS -l  $* | less -r }
function pls()	{ \ls $LS_OPTIONS -lg $* | grep -v "^[d-]......---"}

d.
--
<<If you'd been there, you would've run from that deer, too!>>
				~jaya ballard, task mage

