From zsh-users-return-7824-mason-zsh=primenet.com.au@sunsite.dk Fri Aug 13 07:48:27 2004
Return-Path: <zsh-users-return-7824-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 28663 invoked from network); 13 Aug 2004 07:48:25 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 13 Aug 2004 07:48:25 -0000
Received: (qmail 37690 invoked from network); 13 Aug 2004 07:48:18 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 13 Aug 2004 07:48:18 -0000
Received: (qmail 14448 invoked by alias); 13 Aug 2004 07:47:34 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 7824
Received: (qmail 14437 invoked from network); 13 Aug 2004 07:47:33 -0000
Received: from unknown (HELO a.mx.sunsite.dk) (130.225.247.88)
  by 130.225.247.90 with SMTP; 13 Aug 2004 07:47:33 -0000
Received: (qmail 35895 invoked from network); 13 Aug 2004 07:46:02 -0000
Received: from smtp1.su.se (130.237.162.112)
  by a.mx.sunsite.dk with SMTP; 13 Aug 2004 07:45:59 -0000
Received: from localhost (smtp1.su.se [127.0.0.1])
	by smtp1.su.se (Postfix) with ESMTP id 1147C382B8
	for <zsh-users@sunsite.dk>; Fri, 13 Aug 2004 09:45:56 +0200 (CEST)
Received: from smtp1.su.se ([127.0.0.1])
 by localhost (smtp1.su.se [127.0.0.1]) (amavisd-new, port 10024) with LMTP
 id 02869-02-79 for <zsh-users@sunsite.dk>;
 Fri, 13 Aug 2004 09:45:55 +0200 (CEST)
Received: from unni.dsv.su.se (unni.dsv.su.se [130.237.161.27])
	by smtp1.su.se (Postfix) with ESMTP id E7947380EF
	for <zsh-users@sunsite.dk>; Fri, 13 Aug 2004 09:45:43 +0200 (CEST)
Received: from localhost (dhcp-161-153.dsv.su.se [130.237.161.153])
	by unni.dsv.su.se (Postfix) with ESMTP id D0FD78B341
	for <zsh-users@sunsite.dk>; Fri, 13 Aug 2004 09:45:43 +0200 (CEST)
Received: from jesper by localhost with local (Exim 4.34)
	id 1BvWkg-0002rG-Ot
	for zsh-users@sunsite.dk; Fri, 13 Aug 2004 09:45:26 +0200
Date: Fri, 13 Aug 2004 09:45:26 +0200
From: Jesper Holmberg <jeho5791@student.uu.se>
To: Zsh-users List <zsh-users@sunsite.dk>
Subject: Problem with complete-all
Message-ID: <20040813074526.GM1191@localhost>
Mail-Followup-To: Zsh-users List <zsh-users@sunsite.dk>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.5.6+20040722i
Sender: Jesper Holmberg <jesper.holmberg.5791@student.uu.se>
X-Virus-Scanned: by amavisd-new at su.se
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, hits=-0.5 required=6.0 tests=BAYES_01,FROM_ENDS_IN_NUMS 
	autolearn=no version=2.63
X-Spam-Hits: -0.5

I can't get complete-all to work as I would like it to. Perhaps I have
misunderstood what it's supposed to be doing, so I'll try to describe what
I want to accomplish.

I use the new completion system with menu-complete bound to <TAB>.
Suppose that I have a directory which is under CVS version control, and
that I have added a couple of files to this directory. If I now go: 

cvs add <TAB>

the completion system supplies one of the added files, which is very nice.
Pressing <TAB> again switches to the next added file, until I have cycled
through them all.

Now, what I thought would be possible to accomplish with complete-all
(bound to, say, '^Xx') would be that when I go:

cvs add ^Xx

all the files which have been added would be put on the command line at
the same time. However, what happens is that zsh beeps and nothing else,
not even an error message. Doing a 'describe-key-briefly' on '^Xx' shows
'all-matches'.

This is what I have in my .zshrc, taken from the manual:

zle -C all-matches complete-word _generic
bindkey '^Xx' all-matches
zstyle ':completion:all-matches:*' old-matches only
zstyle ':completion:all-matches::::' completer _all_matches

What am I doing wrong?

TIA,

Jesper

