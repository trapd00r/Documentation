From zsh-workers-return-6350-mason-zsh=primenet.com.au@sunsite.auc.dk Wed May 26 06:21:11 1999
Return-Path: <zsh-workers-return-6350-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8448 invoked from network); 26 May 1999 06:21:09 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 26 May 1999 06:21:09 -0000
Received: (qmail 19093 invoked by alias); 26 May 1999 06:21:00 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 6350
Received: (qmail 19086 invoked from network); 26 May 1999 06:21:00 -0000
Date: Wed, 26 May 1999 08:20:53 +0200 (MET DST)
Message-Id: <199905260620.IAA07416@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: Aldo Cortesi's message of Wed, 26 May 1999 14:03:19 +1000
Subject: Re: Some possible bugs...


Aldo Cortesi wrote:

> While using it, though, I've run accross a couple of
> problems that force me to use bash for certain tasks. 
> Here they are:

Please try the newest development version which you can get at:

http://www.ifh.de/~pws/computing/
-rw-r--r--   1 pws  quadrics  759988 May 19 13:48 zsh-3.1.5-pws-19.tar.bz2
-rw-r--r--   1 pws  quadrics  368884 May 19 13:48 zsh-3.1.5-pws-19.doc.tar.gz
-rw-r--r--   1 pws  quadrics  249242 May 19 13:48 zsh-3.1.5-pws-19.doc.tar.bz2
-rw-r--r--   1 pws  quadrics  937267 May 19 13:48 zsh-3.1.5-pws-19.tar.gz

...and then we had some patches after that -- see the mailing list
archive at http://www.zsh.org/mla.

> 	The last line of output from a program run in the
> 	shell gets overwritten if it doesn't end in a
> 	newline. This is very, very bad, and should not be
> 	allowed to happen even intentionally. For example
> 	the following program produces no visible output
> 	when run in zsh as I have it set up:
> 		int main(){
> 			printf("mundungus");
> 			return(0);
> 		}

`setopt nopromtcr' -- which has only recently be added to the FAQ.

> 	Running zsh with invalid command-line arguments
> 	causes a coredump. For instance
> 		zsh -asdfas
> 	produces a very nice corefile on my machine. 

This is still there... no doubt someone will have a look at it.

> 	I think that tab-completion of filenames containing
> 	spaces is not useful. For instance, if you have two
> 	files called:
> 		"one two three"
> 		"one two five"
> 	and you type 
> 		ls "one<tab>"
> 	it completes to "one two". If you press tab
> 	repeatedly you get:
> 		ls "one two one two one two..."
> 	I guess this should really cycle between the two
> 	filenames to be consistent with normal
> 	file-completion. Another problem is that if you
> 	type:
> 		ls "one<tab>"
> 	and get:
> 		ls "one two"
> 	and then type the next couple of characters and
> 	press tab again, like so:
> 		ls "one two f<tab>"
> 	no completion is done at all. 

We have this discussion again and again... Completion in quotes is
different in zsh because some time ago it was decided to let it work
there (almost) as without the quotes. So if you do ls "one t<TAB>
zsh doesn't think that the quotes are intended to just quote the
filename because for that you simply don't need the quotes. If you do
ls one<TAB> zsh will give you ls one\ two\ , quoting the string as
needed.
However, the behavior shown in your mail looks really weird, I might
have a look at it (but quoting and completion is a terribly
complicated issue).

Bye
 Sven


--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

