From zsh-workers-return-15847-mason-zsh=primenet.com.au@sunsite.dk Wed Sep 19 15:40:14 2001
Return-Path: <zsh-workers-return-15847-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 3680 invoked from network); 19 Sep 2001 15:40:13 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 19 Sep 2001 15:40:13 -0000
Received: (qmail 8138 invoked by alias); 19 Sep 2001 15:40:02 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 15847
Received: (qmail 8111 invoked from network); 19 Sep 2001 15:39:59 -0000
From: Bart Schaefer <schaefer@brasslantern.com>
Message-Id: <1010919153821.ZM9325@candle.brasslantern.com>
Date: Wed, 19 Sep 2001 15:38:20 +0000
In-Reply-To: <20010919094906.A25501@dman.com>
Comments: In reply to Clint Adams <clint@zsh.org>
        "Re: can't find termcap info under Solaris" (Sep 19,  9:49am)
References: <20010919145917.A8726@greux.loria.fr> 
	<20010919094906.A25501@dman.com>
X-Mailer: Z-Mail (5.0.0 30July97)
To: zsh-workers@sunsite.dk
Subject: Re: can't find termcap info under Solaris
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Sep 19,  9:49am, Clint Adams wrote:
} Subject: Re: can't find termcap info under Solaris
}
} > I get the "can't find termcap info" error under Solaris, though
} > I've recompiled zsh with ncurses 5.2.
} 
} The error is somewhat misleading.  zsh is using the ncurses
} termcap compatibility interface to terminfo

Let's fix that error message, shall we?

Index: Src/init.c
===================================================================
RCS file: /extra/cvsroot/zsh/zsh-4.0/Src/init.c,v
retrieving revision 1.5
diff -c -r1.5 init.c
--- Src/init.c	2001/09/05 15:22:33	1.5
+++ Src/init.c	2001/09/19 15:37:02
@@ -541,7 +541,7 @@
 #endif
 
 	if (isset(INTERACTIVE))
-	    zerr("can't find termcap info for %s", term, 0);
+	    zerr("can't find terminal definition for %s", term, 0);
 	errflag = 0;
 	termflags |= TERM_BAD;
 	return 0;


-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

