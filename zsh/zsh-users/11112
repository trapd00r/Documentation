From zsh-users-return-11112-mason-zsh=primenet.com.au@sunsite.dk Tue Jan 16 00:23:00 2007
Return-Path: <zsh-users-return-11112-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 20758 invoked from network); 16 Jan 2007 00:22:55 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.7 (2006-10-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=BAYES_00,FORGED_RCVD_HELO,
	UNPARSEABLE_RELAY autolearn=ham version=3.1.7
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 16 Jan 2007 00:22:55 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 28517 invoked from network); 16 Jan 2007 00:22:49 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 16 Jan 2007 00:22:49 -0000
Received: (qmail 7634 invoked by alias); 16 Jan 2007 00:22:39 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 11112
Received: (qmail 7624 invoked from network); 16 Jan 2007 00:22:37 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 16 Jan 2007 00:22:37 -0000
Received: (qmail 27180 invoked from network); 16 Jan 2007 00:22:37 -0000
Received: from e4ward.com (70.85.31.73)
  by a.mx.sunsite.dk with SMTP; 16 Jan 2007 00:22:31 -0000
Received: from localhost ([127.0.0.1] helo=e4ward.com)
	by e4ward.com with smtp (Exim 4.34)
	id 1H6c5v-0002YQ-8l
	for zsh-users@sunsite.dk; Mon, 15 Jan 2007 19:22:31 -0500
Received: from 66.249.92.169
	by e4ward.com;
	Mon, 15 January 2007 19:22:31 -0400
Received: by ug-out-1314.google.com with SMTP id k3so1454954ugf
        for <zsh--users-sunsite.dk-zsh-lydgate.e4ward.com-A0B-fks6-4@reply.e4ward.com>; Mon, 15 Jan 2007 16:22:28 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:date:from:to:subject:message-id:mime-version:content-type:content-disposition:user-agent;
        b=k7DgCBWeaZqfNGaystEuXWJ6Yzm3iT21CPXw+7lQy5QCq2i5U//sxS8GKTPRKuZAttOi407qspVBdGeethqUkf1s220jRktxlHLTukiDnQnBOpUo1D475c8xIq07xlPiLMr0Fh00f0oiGXHhNA2EzvGriqhSUqnaQC5DML5eDKc=
Received: by 10.66.232.9 with SMTP id e9mr6353081ugh.1168906947561;
        Mon, 15 Jan 2007 16:22:27 -0800 (PST)
Received: from localhost ( [128.232.247.218])
        by mx.google.com with ESMTP id j34sm6240690ugc.2007.01.15.16.22.26;
        Mon, 15 Jan 2007 16:22:27 -0800 (PST)
Date: Tue, 16 Jan 2007 00:22:23 +0000
From:  Lydgate  <zsh@lydgate.e4ward.com>
To: zsh-users@sunsite.dk
Subject: zsh completion for todo.*
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.5.12-2006-07-14
Message-ID: <E1H6c5v-0002YQ-8l@e4ward.com>

I'm trying to figure out how to get completion working for todo.py 
(which is just todo.sh in python with various differences).  I found 
this: http://www.zsh.org/mla/workers/2006/msg00591.html but it doesn't 
really match the features of this: 
http://todotxt.com/library/todo_completer.sh/ or else I just couldn't 
get it working right.  Neither could I get the latter working with 
bashcompinit.

With Peter's todo.sh, I get the initial command completed correctly.  If 
I want to list something, it gives an error, but this is simply because 
there are quotes missing from "search term..."  I want it to be able to 
complete contexts and projects, as todo_completer.sh does in bash.  
Using bashcompinit with todo_completer.sh, the first tab works correctly 
(though of course without Peter's nice descriptions), but the second tab 
gives _todo_sh:local:53: not an identifier: @5

Not being fluent in completion scripting in bash or zsh, I'm stumped.  
Can anyone help?

Thanks,

Lydgate

