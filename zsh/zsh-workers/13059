From zsh-workers-return-13059-mason-zsh=primenet.com.au@sunsite.auc.dk Sun Oct 22 18:11:09 2000
Return-Path: <zsh-workers-return-13059-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1193 invoked from network); 22 Oct 2000 18:11:07 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 22 Oct 2000 18:11:07 -0000
Received: (qmail 3607 invoked by alias); 22 Oct 2000 18:11:02 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 13059
Received: (qmail 3600 invoked from network); 22 Oct 2000 18:11:01 -0000
Date: Sun, 22 Oct 2000 13:10:51 -0500
From: Dan Nelson <dnelson@emsphone.com>
To: Peter Makholm <peter@makholm.net>
Cc: zsh-workers@sunsite.auc.dk
Subject: Re: BUG: zsh overwrites last line of output
Message-ID: <20001022131051.A2969@dan.emsphone.com>
References: <xnoy9zhszdt.fsf@berling.diku.dk>
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Disposition: inline
User-Agent: Mutt/1.3.10i
In-Reply-To: <xnoy9zhszdt.fsf@berling.diku.dk>; from "Peter Makholm" on Sun Oct 22 16:51:10 GMT 2000
X-OS: FreeBSD 5.0-CURRENT

In the last episode (Oct 22), Peter Makholm said:
> Try look at the following:
> 
> galar% echo $ZSH_VERSION 
> 3.1.9
> galar% echo -n foo
> galar% echo -n "foo\nbar"
> foo
> galar% 
> 
> Somehow zsh overwrites the last line of output if it doesn't end with
> an new-line. On a (very) slow terminal I've been able to see that the
> "bar" in the last example actually gets written.

Correct;  this is so zle knows exactly where the cursor is.  If you
don't want this behaviour, add "setopt nopromptcr" to one of your
startup scrpits.

-- 
	Dan Nelson
	dnelson@emsphone.com

