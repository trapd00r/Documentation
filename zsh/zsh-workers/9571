From zsh-workers-return-9571-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Feb 04 15:46:09 2000
Return-Path: <zsh-workers-return-9571-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4282 invoked from network); 4 Feb 2000 15:46:08 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 4 Feb 2000 15:46:08 -0000
Received: (qmail 22045 invoked by alias); 4 Feb 2000 15:46:01 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 9571
Received: (qmail 22036 invoked from network); 4 Feb 2000 15:46:01 -0000
To: zsh-workers@sunsite.auc.dk
Subject: Re: core dump by completion.
References: <200002041507.QAA29235@beta.informatik.hu-berlin.de>
MIME-Version: 1.0 (generated by AKEMI 1.13.2 - =?ISO-2022-JP?B?Ig==?=
 =?ISO-2022-JP?B?GyRCQTA0Y0s8GyhCIg==?=)
Content-Type: text/plain; charset=US-ASCII
From: Tanaka Akira <akr@jaist.ac.jp>
Date: 05 Feb 2000 00:45:58 +0900
In-Reply-To: Sven Wischnowsky's message of "Fri, 4 Feb 2000 16:07:13 +0100 (MET)"
Message-ID: <rsqr9etx96x.fsf@crane.jaist.ac.jp>
Lines: 68
User-Agent: Chao-gnus/6.12.5 AKEMI/1.13.2 (=?ISO-2022-JP?B?GyRCQTAbKEI=?=
 =?ISO-2022-JP?B?GyRCNGNLPBsoQg==?=) FLAM-DOODLE/1.12.6
 (=?ISO-2022-JP?B?GyRCM3cbKEI=?= 10R4.0/5.0) Emacs/20.4
 (sparc-sun-solaris2.6) MULE/4.0 (HANANOEN)

In article <200002041507.QAA29235@beta.informatik.hu-berlin.de>,
  Sven Wischnowsky <wischnow@informatik.hu-berlin.de> writes:

> I can't reproduce it and I can't find an error in the
> allocation/freeing scheme for oargs[]. So I guess, someone has
> overwritten parts of that array. Do you still have the core dump? If
> so, could you tell me the values of the surrounding fields (in
> ca_parse_line(): p[-2], p[0], etc.)? Maybe that gives a hint where it
> is overwritten.

ok.

#0  0x60e44 in freelinklist (list=0x31, freefunc=0x9e298 <freestr>) at linklist.c:189
189         for (node = list->first; node; node = next) {
(gdb) up
#1  0xfef856b0 in ca_parse_line (d=0x160dd0) at computil.c:1038
1038                    freelinklist(p[-1], freestr);
(gdb) print p[-10]
$1 = 0x0
(gdb) print p[-9]
$2 = 0x0
(gdb) print p[-8]
$3 = 0x0
(gdb) print p[-7]
$4 = 0x0
(gdb) print p[-6]
$5 = 0x0
(gdb) print p[-5]
$6 = 0x0
(gdb) print p[-4]
$7 = 0x0
(gdb) print p[-3]
$8 = 0x0
(gdb) print p[-2]
$9 = 0x0
(gdb) print p[-1]
$10 = 0x31
(gdb) print p[0]
$11 = 0x7363616e
(gdb) print p[1]
$12 = 0x0
(gdb) print p[2]
$13 = 0x0
(gdb) print p[3]
$14 = 0x4
(gdb) print p[4]
$15 = 0x0
(gdb) print p[5]
$16 = 0x0
(gdb) print p[6]
$17 = 0x0
(gdb) print p[7]
$18 = 0xffffffff
(gdb) print p[8]
$19 = 0x0
(gdb) print p[9]
$20 = 0x13fb98
(gdb) print p[10]
$21 = 0x0
(gdb) print ca_laststate
$22 = {d = 0x0, def = 0x0, ddef = 0x0, curopt = 0x0, opt = 0, arg = 0, argbeg = 0, optbeg = 0, nargbeg = 0, restbeg = 0, inopt = 0, inrest = 0, inarg = 0, 
  nth = 0, doff = 1365864, singles = 1231384, args = 0x135928, oargs = 0x15f870}
(gdb) print p
$23 = (LinkList *) 0x13324c
(gdb) print i
$24 = 44
-- 
Tanaka Akira

