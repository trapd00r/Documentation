From zsh-workers-request@math.gatech.edu  Sat Oct  7 06:09:04 1995
Received: from gatech.edu (gatech.edu [130.207.244.244]) by werple.net.au (8.7/8.7) with SMTP id GAA11096 for <mason@werple.mira.net.au>; Sat, 7 Oct 1995 06:09:00 +1000 (EST)
Received: from math (math.skiles.gatech.edu) by gatech.edu with SMTP id AA18064
  (5.65c/Gatech-10.0-IDA for <mason@werple.mira.net.au>); Fri, 6 Oct 1995 16:08:22 -0400
Received: by math (5.x/SMI-SVR4)
	id AA15601; Fri, 6 Oct 1995 16:05:08 -0400
Resent-Date: Fri, 6 Oct 1995 21:07:22 +0100 (MET)
Old-Return-Path: <hzoli@cs.elte.hu>
From: Zoltan Hidvegi  <hzoli@cs.elte.hu>
Message-Id: <199510062007.VAA12750@bolyai.cs.elte.hu>
Subject: Re: Zoltan's release doesn't compile on sunos 4.1.2 with zsh mem
To: carlos@snfep1.if.usp.br (Carlos Carvalho)
Date: Fri, 6 Oct 1995 21:07:22 +0100 (MET)
In-Reply-To: <199510061953.QAA26714@snfep1.if.usp.br> from "Carlos Carvalho" at Oct 6, 95 04:53:08 pm
X-Mailer: ELM [version 2.4 PL24]
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Sender: hzoli@cs.elte.hu
Resent-Message-Id: <"SCftb3.0.hp3.plOTm"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/427
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

> 
> If you enable zsh's mem routines mem.c doesn't compile under sunos
> 4.1.2 and Sun's acc compiler. It claims that malloc, free, etc. are
> being redeclared.
> 
> A long time ago this worked, but not for gcc. Now it works with gcc
> but...
> 
> Carlos

I did not modify anything related to mem.c.  Probably the MALLOC_RET_T is
wrongly defined in mem.c e.g. because _BSD is not defined or STDC_HEADERS is
defined.  Under SunOS 4.1.2 malloc returns (char *).  But ZSH_MEM is only
needed for developers, and thay probably have gcc (if they do not have, it's
better to compile one as soon as possible).

Zoltan

