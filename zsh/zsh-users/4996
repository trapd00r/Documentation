From zsh-users-return-4996-mason-zsh=primenet.com.au@sunsite.dk Sun May 26 10:58:23 2002
Return-Path: <zsh-users-return-4996-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18718 invoked from network); 26 May 2002 10:58:22 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 26 May 2002 10:58:22 -0000
Received: (qmail 2453 invoked by alias); 26 May 2002 10:58:10 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4996
Received: (qmail 2439 invoked from network); 26 May 2002 10:58:09 -0000
Message-ID: <20020526105805.90243.qmail@web20301.mail.yahoo.com>
Date: Sun, 26 May 2002 03:58:05 -0700 (PDT)
From: Jukka Lehti <jukkalehti@yahoo.com>
Subject: Re: make completion on OpenBSD
To: Bart Schaefer <schaefer@brasslantern.com>
Cc: zsh-users@sunsite.dk
In-Reply-To: <Pine.LNX.4.44.0205251030040.10900-100000@ns1.sodaware.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

> One possible difference is that awk is definitely
> GNU awk on RedHat, but
> it may be something else on OpenBSD.

Yes, OpenBSD has awk derivate from 4.4BSD, gawk is a
seperate package. (gawk is about 200k, awk 100k!)

Anyway, I've made some silly mistake, now it seems
that following works on Linuxes too, after all:

compctl -s "$(awk '/^[a-zA-Z0-9][^\/ \t]+:/ {print
$1}' FS=: [Mm]akefile)" -x 'c[-1,-f]' -f --
{,g,gnu,p,v}make

(So backslashes not needed before $'s. Why backslashes
do not work with BSD awk is a mystery.)

Sorry for wasting everyones time here.

> In any event, since you're using zsh-4.0.4, why not
> abandon your compctl
> entirely and enable the newer completion system?  It
> includes a very
> detailed "make" completion.

I would love to do that, but I have about 50 compctl
rules for which I've spent countless hours and some of
those behave different than the newer completion
system defaults. I haven't found a way to use the
newer system and override some of those rules with my
own compctl rules. Maybe I should "port" my compctl
rules to compsys rules (I presume they can be override
system defaults?), but it takes time if it cannot be
automated.

Thanks.

__________________________________________________
Do You Yahoo!?
Yahoo! - Official partner of 2002 FIFA World Cup
http://fifaworldcup.yahoo.com

