From zsh-workers-return-27558-mason-zsh=primenet.com.au@zsh.org Mon Jan 04 17:37:11 2010
Return-Path: <zsh-workers-return-27558-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13744 invoked by alias); 4 Jan 2010 17:37:11 -0000
Mailing-List: contact zsh-workers-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Workers List <zsh-workers.zsh.org>
List-Post: <mailto:zsh-workers@zsh.org>
List-Help: <mailto:zsh-workers-help@zsh.org>
Delivered-To: mailing list zsh-workers@zsh.org
X-Seq: 27558
Received: (qmail 3106 invoked from network); 4 Jan 2010 17:37:00 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.1 required=5.0 tests=AWL,BAYES_00,SPF_HELO_PASS
	autolearn=ham version=3.2.5
Received-SPF: softfail (ns1.primenet.com.au: transitioning SPF record at netwood.net does not designate 132.239.0.119 as permitted sender)
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: ApsEACq0QUuE7wEx/2dsb2JhbACDX8RejHeBLIIuVgQ
X-IronPort-AV: E=Sophos;i="4.47,499,1257148800"; 
   d="scan'208";a="161592756"
X-Authentication-Warning: smtp.ucsd.edu: Host dyn128-54-175-232.ucsd.edu [128.54.175.232] claimed to be localhost
Subject: Re: [PATCH] espeak completion
From: Jesse Weinstein <jessw@netwood.net>
To: Mikael Magnusson <mikachu@gmail.com>
Cc: zsh-workers <zsh-workers@zsh.org>
In-Reply-To: <237967ef1001040314t7097c1afh99175949123dae25@mail.gmail.com>
References: <1262587636.24526.8.camel@zareason>
	 <237967ef1001040314t7097c1afh99175949123dae25@mail.gmail.com>
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable
Date: Mon, 04 Jan 2010 09:26:59 -0800
Message-ID: <1262626019.24526.14.camel@zareason>
Mime-Version: 1.0
X-Mailer: Evolution 2.28.1 

On Mon, 2010-01-04 at 12:14 +0100, Mikael Magnusson wrote:

> typos, amplitude and capital
Oops.  Thanks for catching those.
> Not sure if you want to list the numbers like that, just say 'integer
> 1-20' instead maybe?
I didn't think it would work -- and when I tested it just now, it
didn't.  I *generated* the lists with {0..20}, but just using that gives
the error "(eval):1: command not found: 0..20".  If there is a shorter
way to express it -- I'd be glad to use it.

Corrected patch follows.

Jesse
----------------------
#compdef espeak

#TODO: complete arguments to -v
#TODO: complete non-existing filenames for -w and --phonout
#TODO: describe special cases for -k
#TODO: complete --punct better?
#TODO: complete language code for --voices, etc.

_arguments \
    '-h[help]' \
    '-f[file to speak]:text file:_files' \
    '--stdin[speak from stdin]' \
    '-q[quiet, no sound output]' \
    '-a[amplitude]:integer:(0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17
18 19 20)' \
    '-l[line length]:integer: ' \
    '-p[pitch]:integer:(0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18
19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42
43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66
67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90
91 92 93 94 95 96 97 98 99)' \
    '-s[speed]:words per minute: ' \
    '-v[voice]:voice name: ' \
    '-b[8-bit text]' \
    '-m[SSML or other XML text]' \
    '-w[wav output]:filename: ' \
    '-x[output phoneme mnemonics]' \
    '-X[output phoneme mnemonics and translation trace]' \
    '--stdout[output speech to stdout]' \
    '-k[capital letter indication]:integer:' \
    '--punct=3D-::characters: ' \
    '--voices=3D-[list available voices]::language code: ' \
    '--path=3D-[espeak-data path]:path:_files -/' \
    '--compile=3D-[compile]::voicename or debug: ' \
    '--phonout=3D-[output filename for -x/-X]:filename: '=20


