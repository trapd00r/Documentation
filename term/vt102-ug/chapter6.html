<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<HTML>
<HEAD>
<TITLE>VT100.net: Digital VT102 User Guide</TITLE>
<LINK HREF="vt102-ug.css" TYPE="text/css" REL="stylesheet">
</HEAD>
<BODY>
<DIV CLASS="navbar"><A HREF="http://vt100.net/"><IMG CLASS="button" SRC="vt100.net-logo.png" ALT="VT100.net" HEIGHT="16" WIDTH="102"></A> VT102 User Guide<TABLE WIDTH="100%">
<COL SPAN="3" WIDTH="33%">
<TBODY>
<TR>
<TD ALIGN="LEFT"><A HREF="chapter5.html">Chapter 5</A></TD>
<TD ALIGN="CENTER"><A HREF="contents.html">Contents</A></TD>
<TD ALIGN="RIGHT"><A HREF="chapter7.html">Chapter 7</A></TD>
</TR>
</TBODY>
</TABLE>
<HR></DIV>
<H1 ID="S6"><SPAN CLASS="chapnum">6</SPAN> Communication</H1>
<H2 ID="S6.1">General</H2>
<P>This chapter describes how the VT102 communicates with a computer
and optional serial printer. The chapter's main sections cover the two interfaces
used, modem and printer. The text provides a detailed description
of each connector and its signals. This chapter also describes the
terminal's communication features.</P>
<P CLASS="note">NOTE: See <A HREF="chapter8.html">Chapter 8</A> for a description of the 20&nbsp;mA current loop interface.</P>
<H2 ID="S6.2">Connecting to the Computer</H2>
<P>The VT102 communication (modem) interface is a DB-25 male connector
mounted on the back of the terminal (<A HREF="figure6-1.html">Figure 6-1</A>). This interface meets
Electronic Industry Association (EIA) standards RS-423 and RS-232-C,
and International Telegraph and Telephone Consultative Committee
(CCITT) recommendations V.24 and V.28.</P>
<P>The terminal connects to a computer through a common carrier facility
(telephone line) or directly (<A HREF="figure6-2.html">Figure 6-2</A>). Using a telephone line requires
modems. Modems change characters transmitted between the terminal
and computer into signals transmitted over the telephone line. There are
several types of modems available. When using modems to connect the
terminal to the computer, you must select the following items.</P>
<DL>
<DT>A modem</DT>
<DD><P>The terminal modem must be compatible with the computer
modem. <A HREF="table6-1.html">Table 6-1</A> lists the possible modems for public switched telephone
lines. <A HREF="table6-2.html">Table 6-2</A> lists the possible modem configurations for
dedicated telephone lines.</P>
<P CLASS="note">NOTE: These tables list examples of possible modem configurations.
You can use equivalent modems supplied by other manufacturers.</P>
<P CLASS="note">DIGITAL DF02-AA and DF03-AA modems are equivalent to Bell 103J
and 212A. DF02 operates at 300 baud; DF03 operates and 300 or 1200 baud.</P></DD>
<DT>The terminal's internal communication switches</DT>
<DD><P>Compare the
modem's interface information to the interface information provided
under <A HREF="#S6.2.4">Modem Control</A> in this chapter. Determine which lines are not
used and disconnect these signals by using the internal communication switches.</P></DD>
<DT>The communication SET-UP features</DT>
<DD><P>You must select these features
to match the type of communication used by the computer. For a description
of communication features, see <A HREF="#S6.2.2">Modem Serial Characters</A>,
<A HREF="#S6.2.3">Break</A>, and <A HREF="#S6.2.4">Modem Control</A> in this chapter. See <A HREF="chapter3.html">Chapter 3</A> for more information
about SET-UP communication features.</P></DD>
</DL>
<H3 ID="S6.2.1">Communication Switch Settings</H3>
<P>The terminal has a set of ten internal communication switches. These
switches allow some communication signals to disconnect from the
modem connector.</P>
<P>These switch settings usually stay at their factory settings. However, you
must configure these switches for some modems. <A HREF="figure6-3.html">Figure 6-3</A> shows the
communication signals which have switches.</P>
<P CLASS="note">NOTE: The internal communication switches are ignored when using 20
mA current loop communication.</P>
<H3 ID="S6.2.2">Modem Serial Characters</H3>
<P>The terminal communicates with the computer by transmitting serial characters.
Serial characters have a start bit, seven or eight data bits, an optional
parity bit, and one or two stop bits. <A HREF="figure6-4.html">Figure 6-4</A> shows the serial character
format.</P>
<P>The modem data/parity bits SET-UP feature selects the number of data
bits per character and type of parity. With 8-bit characters, the terminal
forces the last data bit to the space (0) condition, and ignores the last
data bit when received. Data bits are transmitted with the least significant
bit first. (See ANSI X3.15-1976 for details on serial character format).</P>
<P>The terminal uses the parity bit to detect transmission errors in both transmitted
and received characters. If you do not select parity, the terminal
cannot transmit or check parity bits.</P>
<P>If you select parity, the receive parity SET-UP feature determines if the
terminal checks or ignores the parity of received characters. However,
the terminal only checks received characters for odd or even parity, not
mark and space parity.</P>
<P>The stop bits SET-UP feature selects the number of stop bits (one or two)
in a character.</P>
<H3 ID="S6.2.3">Break</H3>
<P>Break is a space condition transmitted for 0.275 seconds &plusmn; 10 percent.
The break enable SET-UP feature enables or disables a break. When receiving
in half-duplex with supervisory control (HDX A), the terminal performs
a break by turning secondary request to send (SRTS) off for 0.275
seconds &plusmn; 10 percent. The computer response to the break depends on
the computer and software.</P>
<P>If you hold down <STRONG>SHIFT</STRONG> and press <STRONG>BREAK</STRONG>, the terminal generates a disconnect.
This causes the terminal to turn off the data terminal ready
(DTR) and request to send (RTS) signals. The transmit data line (TXD) is
held in a mark condition. After 0.22 seconds, the terminal tests the condition
of data set ready (DSR). When DSR turns off or after 1.8 seconds, the
disconnect is complete. When the disconnect character enable SET-UP
feature is on, the terminal transmits the disconnect character before the
DTR and RTS signals turn off. The disconnect character is selected by the
turnaround/disconnect SET-UP feature.</P>
<H3 ID="S6.2.4">Modem Control</H3>
<P>The terminal can communicate in full- or half-duplex, selected by the
modem control SET-UP feature. This feature has five selections, three for
full-duplex and two for half-duplex. <A HREF="table6-3.html">Table 6-3</A> describes these selections
and their usual applications.</P>
<P>The modem control feature must be compatible with the computer and
modem. <A HREF="table6-4.html">Table 6-4</A> matches feature selections and possible modems. You
can use equivalent modems supplied by other manufacturers.</P>
<P CLASS="note">NOTE: In several countries outside North America, communications
equipment must be certified before being connected to modems provided
by the local telecommunications authority (for example, German FTZ,
Sweden PTT, and England BT). In those countries, contact your local
Field Service office for more information about certification. In many
cases, DIGITAL has already provided the needed information to the local
telecommunication authority.</P>
<H3 ID="S6.2.5">Full-Duplex Communication</H3>
<P>Full-duplex communication lets you transmit and receive characters in
both directions at the same time. The terminal has three types of
full-duplex communication available: without modem control, with modem
control, and asymmetric full-duplex. All modem control selections except
full-duplex with no modem control (FDX A) use modem control signals during
communication. Modem control signals verify that the terminal and
computer are connected before communicating.</P>
<H4 ID="S6.2.5.1">Full-Duplex with No Modem Control (FDX A)</H4>
<P>This selection lets the
terminal communicate with the computer regardless of the received
modem control signals. The terminal assumes it is connected to the computer.
<A HREF="table6-5.html">Table 6-5</A> lists the signals used in FDX A. The terminal uses only
the connector signals listed.</P>
<P CLASS="note">NOTE: FDX A is used with the 20 mA current loop option (VT1XX-CA).</P>
<H4 ID="S6.2.5.2">FDX A Connection</H4>
<P>The terminal assumes it is connected to the computer
when the DTR signal is on. Communication is allowed regardless of
the condition of other modem control lines. DTR is on at all times except
when the terminal is off-line or performing a long break disconnect.</P>
<P>The terminal prepares to connect to the computer immediately after DTR
turns off. The terminal prepares to communicate by:</P>
<UL>
<LI>Erasing the keyboard buffer and turning off KBD LOCKED (if a keyboard
locked condition occurred)</LI>
<LI>Stopping print operations and ignoring new print operation requests</LI>
<LI>Using the character set selected by the US/UK character set SET-UP
feature. (Computer-selected character sets are not used).</LI>
<LI>Assuming XON if you selected auto XON/XOFF. (Transmission is allowed
in both directions).</LI>
</UL>
<H4 ID="S6.2.5.3">FDX A Disconnection</H4>
<P>The terminal disconnects (hangs up) the communication
(phone) line by turning DTR off. A disconnect occurs when the
terminal:</P>
<UL>
<LI>Switches off-line</LI>
<LI>Performs a recall, reset, or general default</LI>
<LI>Transmits a long break disconnect using <STRONG>SHIFT</STRONG> and <STRONG>BREAK</STRONG>. (Transmits
a disconnect character if the disconnect character enable SET-UP
feature is on).</LI>
<LI>Receives a disconnect character with the disconnect character enable
SET-UP feature on.</LI>
</UL>
<H4 ID="S6.2.5.4">Full-Duplex with Modem Controls (FDX B)</H4>
<P>This selection allows communication
when the terminal receives the correct modem control signals.
These signals verify the connection between the terminal and computer
before and during communication. The terminal cannot communicate without
this connection. <A HREF="table6-6.html">Table 6-6</A> lists the signals used in FDX B. The terminal
uses only the connector signals listed.</P>
<H4 ID="S6.2.5.5">FDX B Connection</H4>
<P>Before communicating, the terminal verifies the connection
to the computer by using modem control signals. The clear to
send (CTS), receive line signal detector (RLSD) and data set ready (DSR)
signals must be on, or communication is not permitted.</P>
<P>The terminal prepares to connect to the computer when DSR turns on.
The terminal prepares to communicate by:</P>
<UL>
<LI>Erasing the keyboard buffer and turning off KBD LOCKED (if a keyboard
locked condition occurred)</LI>
<LI>Stopping print operations and ignoring new print operation requests</LI>
<LI>Using the character set selected by the US/UK character set SET-UP
feature. (Computer-selected character sets are not used).</LI>
<LI>Selecting numeric keypad mode. (The keypad generates numeric
characters. The cursor keys transmit cursor movement commands).</LI>
<LI>Selecting replace mode. (Turning off insert mode. INSERT is off and
received characters appear at cursor position, replacing old display
character).</LI>
<LI>Assuming XON if you selected auto XON/XOFF. (Transmission is allowed
in both directions).</LI>
</UL>
<H4 ID="S6.2.5.6">FDX B Disconnection</H4>
<P>The terminal hangs up the communication phone
line by turning DTR off. A disconnect occurs when the terminal:</P>
<UL>
<LI>Switches off-line</LI>
<LI>Performs a recall, reset, or general default</LI>
<LI>Receives a disconnect character with the disconnect character enable
SET-UP feature on</LI>
<LI>Transmits a long break disconnect using <STRONG>SHIFT</STRONG> and <STRONG>BREAK</STRONG>. (Transmits
a disconnect character if the disconnect character enable SET-UP
feature is on).</LI>
<LI>Loses DSR during communication</LI>
<LI>During a connection, does not receive RLSD within 30 seconds after
DSR</LI>
<LI>After a connection, loses RLSD for a greater time than allowed by the
disconnect delay SET-UP feature.</LI>
</UL>
<H4 ID="S6.2.5.7">Asymmetric Full-Duplex (FDX C)</H4>
<P>This is full-duplex communication using
a half-duplex modem with a secondary channel. The terminal receives
characters on the primary channel at 600 or 1200 baud. It transmits characters
on the secondary channel at 75 baud. You use the internal communication
switches to configure the terminal to use a secondary channel.
<A HREF="table6-7.html">Table 6-7</A> lists the signals used in FDX C. The terminal uses only the connector
signals listed.</P>
<H4 ID="S6.2.5.8">FDX C Connection</H4>
<P>Before communicating, the terminal verifies the connection
to the computer by using modem control signals. The secondary
clear to send (SCTS), RLSD, and DSR signals must be on, or communication
is not permitted.</P>
<P>The terminal prepares to connect to the computer when DSR turns on.
The terminal prepares to communicate by:</P>
<UL>
<LI>Erasing the keyboard buffer and turning off KBD LOCKED (if a keyboard
locked condition occurred)</LI>
<LI>Stopping print operations and ignoring new print operation requests</LI>
<LI>Using the character set selected by the US/UK character set SET-UP
feature. (Computer-selected character sets are not used).</LI>
<LI>Selecting numeric keypad mode. (The keypad generates numeric
characters. The cursor keys transmit cursor movement commands).</LI>
<LI>Selecting replace mode. (Turning off insert mode. INSERT is off and
all received characters appear at cursor position, replacing old display
character).</LI>
<LI>Assuming XON if you selected auto XON/XOFF. (Transmission is allowed
in both directions).</LI>
</UL>
<H4 ID="S6.2.5.9">FDX C Disconnection</H4>
<P>The terminal hangs up phone line by turning DTR
off. A disconnect occurs when the terminal:</P>
<UL>
<LI>Switches off-line</LI>
<LI>Performs a recall, reset, or general default</LI>
<LI>Receives a disconnect character with the disconnect character enable
SET-UP feature on</LI>
<LI>Transmits a long break disconnect using <STRONG>SHIFT</STRONG> and <STRONG>BREAK</STRONG>. (Transmits
a disconnect character if the disconnect character enable SET-UP
feature is on).</LI>
<LI>Loses DSR during communication</LI>
<LI>During a connection, does not receive RLSD within 30 seconds after
DSR</LI>
<LI>After a connection, loses RLSD for a greater time than allowed by the
disconnect delay SET-UP feature.</LI>
</UL>
<H3 ID="S6.2.6">Half-Duplex Communication</H3>
<P>Half-duplex lets you transmit and receive communication characters in
both directions, one direction at a time. Therefore, you need a method to
control the direction of the communication line. The line direction determines
whether the terminal transmits or receives characters. Every time
the transmitting device wants to receive, the line must be turned around.
The terminal uses two types of half-duplex communication to control line
direction, supervisory control or coded control.</P>
<P CLASS="note">NOTE: In half-duplex, characters typed on the keyboard do not appear
immediately on the screen unless you selected local echo.</P>
<H4 ID="S6.2.6.1">Half-Duplex with Supervisory Control (HDX A)</H4>
<P>This selection lets the computer control line turnarounds by using the secondary channel control
signals. The secondary channel does not transfer data. <A HREF="table6-8.html">Table 6-8</A> lists the
signals used in HDX A. The terminal uses only the connector signals listed.</P>
<H4 ID="S6.2.6.2">HDX A Connection</H4>
<P>Before communicating, the terminal verifies the connection
to the computer by using DSR. The terminal prepares to connect
to the computer when DSR turns on. The terminal prepares to communicate
by:</P>
<UL>
<LI>Erasing the keyboard buffer and turning off KBD LOCKED (if a keyboard
locked condition occurred)</LI>
<LI>Stopping print operations and ignoring new print operation requests</LI>
<LI>Using the character set selected by the US/UK character set SET-UP
feature. (Computer-selected character sets are not used).</LI>
<LI>Selecting numeric keypad mode. (The keypad generates numeric
characters. The cursor keys transmit cursor movement commands).</LI>
<LI>Selecting replace mode. (Turning off insert mode. INSERT is off and
all received characters appear at the cursor position, replacing old
display character).</LI>
<LI>Selecting the initial direction of transmission by using the initial direction
SET-UP feature.</LI>
</UL>
<H4 ID="S6.2.6.3">HDX A Character Transmission and Reception</H4>
<P>After the terminal connects
to the computer, the secondary channel modem control signals
control line turnaround. The terminal receives data as follows.</P>
<TABLE>
<COL SPAN="2" WIDTH="50%">
<THEAD>
<TR>
<TH>Computer</TH>
<TH>Terminal</TH>
</TR>
</THEAD>
<TBODY>
<TR>
<TD>Computer turns secondary request to send (SRTS) off.</TD>
<TD></TD>
</TR>
<TR>
<TD></TD>
<TD>This turns secondary receive line signal detector (SRLSD) off at terminal.<BR>
Terminal turns request to send (RTS) off. (CTS turns off).</TD>
</TR>
<TR>
<TD>This turns RLSD off at computer.<BR>
Computer turns RTS on.</TD>
<TD></TD>
</TR>
<TR>
<TD></TD>
<TD>This turns RLSD on at terminal.<BR>
Terminal turns SRTS on.</TD>
</TR>
<TR>
<TD>This turns SRLSD on at computer.</TD>
<TD></TD>
</TR>
<TR>
<TD></TD>
<TD>Terminal receives characters transmitted by computer.</TD>
</TR>
</TBODY>
</TABLE>
<P>The terminal transmits data as follows.</P>
<TABLE>
<COL SPAN="2" WIDTH="50%">
<THEAD>
<TR>
<TH>Computer</TH>
<TH>Terminal</TH>
</TR>
</THEAD>
<TBODY>
<TR>
<TD>Computer turns RTS off and SRTS on.</TD>
<TD></TD>
</TR>
<TR>
<TD></TD>
<TD>This turns RLSD off and turns SRLSD on at terminal.<BR>
Terminal then turns SRTS off and RTS on.</TD>
</TR>
<TR>
<TD>This turns SRLSD off and RLSD on at computer.</TD>
<TD></TD>
</TR>
<TR>
<TD></TD>
<TD>Terminal waits for CTS to turn on, allowing transmission of characters to computer.</TD>
</TR>
</TBODY>
</TABLE>
<P><A HREF="table6-9.html">Table 6-9</A> summarizes the modem control signal conditions when transmitting
and receiving characters.</P>
<H4 ID="S6.2.6.4">HDX A Disconnection</H4>
<P>The terminal hangs up the phone line by turning
DTR off. A disconnect occurs when the terminal:</P>
<UL>
<LI>Switches off-line</LI>
<LI>Performs a recall, reset, or general default</LI>
<LI>Receives a disconnect character with the disconnect character enable
SET-UP feature on</LI>
<LI>Transmits a long break disconnect using <STRONG>SHIFT</STRONG> and <STRONG>BREAK</STRONG>. (Transmits
a disconnect character if the disconnect character enable SET-UP
feature is on).</LI>
<LI>Loses DSR during communication</LI>
<LI>Line turnaround does not complete within 5 seconds.</LI>
</UL>
<H4 ID="S6.2.6.5">Half-Duplex with Coded Control (HDX B)</H4>
<P>This selection lets the transmitting
device control line turnarounds with a turnaround character specified
by the turnaround/disconnect character SET-UP feature. The turnaround
character indicates that a line should turn around. The
transmitting device uses modem control lines to perform line turnarounds.
<A HREF="table6-10.html">Table 6-10</A> lists the signal used in HDX B. The terminal uses only the connector
signals listed.</P>
<P>The terminal uses ETX and EOT for turnaround characters. You can also
select DC3, FF, and CR; however, these characters do not comply with
ANSI X3.4-1977. If you set the line turnaround SET-UP feature for auto,
the line automatically turns around when the terminal transmits:</P>
<UL>
<LI>The answerback message</LI>
<LI>A cursor position report</LI>
<LI>A device status report</LI>
<LI>A device attributes</LI>
</UL>
<P>or</P>
<UL>
<LI>You press <SPAN CLASS="keyname">RETURN</SPAN>. If the turnaround character is CR, only one CR
character is transmitted.</LI>
</UL>
<P>If you set the line turnaround SET-UP feature for manual, you must select
the turnaround character manually.</P>
<H4 ID="S6.2.6.6">HDX B Connection</H4>
<P>Before communicating, the terminal verifies the connection
to the computer by using DSR. The terminal prepares to connect
to the computer when DSR turns on. The terminal prepares to communicate
by:</P>
<UL>
<LI>Erasing the keyboard buffer and turning off KBD LOCKED (if a keyboard
locked condition occurred)</LI>
<LI>Stopping print operations and ignoring new print operation requests</LI>
<LI>Using the character set selected by the US/UK character set SET-UP
feature. (Computer-selected character sets are not used).</LI>
<LI>Selecting numeric keypad mode. (The keypad generates numeric
characters. The cursor keys transmit cursor movement commands).</LI>
<LI>Selecting replace mode. (Turning off insert mode. INSERT is off and
all received characters appear at the cursor position, replacing old
display character).</LI>
<LI>Selecting the initial direction of transmission by using the initial direction
SET-UP feature.</LI>
</UL>
<H4 ID="S6.2.6.7">HDX B Character Transmission and Reception</H4>
<P>During a communication
line connection, the initial direction SET-UP feature selects which
device transmits. The transmitting device determines when the communication
line turns around. Line turnarounds begin with the transmitting
device sending a turnaround character. Both devices then change the
condition of RTS. This causes a line turnaround.</P>
<P>The terminal receives data as follows.</P>
<TABLE>
<COL SPAN="2" WIDTH="50%">
<THEAD>
<TR>
<TH>Computer</TH>
<TH>Terminal</TH>
</TR>
</THEAD>
<TBODY>
<TR>
<TD>Computer turns RTS on.</TD>
<TD></TD>
</TR>
<TR>
<TD></TD>
<TD><P>This turns RLSD on at terminal.</P>
<P>Terminal's RTS is off; therefore, CTS to terminal is
off. Terminal receives characters from computer.</P></TD>
</TR>
</TBODY>
</TABLE>
<P>The terminal transmits characters as follows.</P>
<TABLE>
<COL SPAN="2" WIDTH="50%">
<THEAD>
<TR>
<TH>Computer</TH>
<TH>Terminal</TH>
</TR>
</THEAD>
<TBODY>
<TR>
<TD></TD>
<TD>Terminal turns RTS on.</TD>
</TR>
<TR>
<TD>This turns RLSD on at computer.</TD>
<TD></TD>
</TR>
<TR>
<TD></TD>
<TD>This turns CTS on at terminal. Terminal can transmit characters.</TD>
</TR>
</TBODY>
</TABLE>
<P><A HREF="table6-11.html">Table 6-11</A> summarizes the modem control signal conditions when transmitting
and receiving characters.</P>
<H4 ID="S6.2.6.8">HDX B Disconnection</H4>
<P>The terminal hangs up the phone line by turning
DTR off. A disconnect occurs when the terminal:</P>
<UL>
<LI>Switches off-line</LI>
<LI>Performs a recall, reset, or general default</LI>
<LI>Receives a disconnect character with the disconnect character enable
SET-UP feature on</LI>
<LI>Transmits the long break disconnect using <SPAN CLASS="keyname">SHIFT</SPAN> and <SPAN CLASS="keyname">BREAK</SPAN>.
(Transmits a disconnect character if the disconnect character enable
SET-UP feature is on).</LI>
<LI>Loses DSR during communication</LI>
<LI>Loses RLSD for more than 5 seconds without receiving a turnaround
character</LI>
<LI>Line turnaround does not complete within 5 seconds.</LI>
</UL>
<H3 ID="S6.2.7">Input Buffer Overflow Prevention</H3>
<P>The terminal places all received characters (other than NUL), in a 128-character
input buffer. The input buffer holds received characters until
processed. After processing, the terminal removes characters from the input
buffer and transmits or displays them.</P>
<P>The input buffer fills when it receives characters faster than the terminal
can process them. When the buffer is full, the terminal loses received
characters and displays the substitute character (<IMG SRC="char141.png" ALT="[]" HEIGHT="20" WIDTH="12">). There are three
methods of input buffer overflow prevention:</P>
<UL>
<LI>XON/XOFF characters. (Recommended with full-duplex communication).</LI>
<LI>Fill characters</LI>
<LI>Low-speed operation.</LI>
</UL>
<P CLASS="note">NOTE: In applications using continuous 19,200 baud communication,
occasional data errors may occur. When the terminal detects errors, it replaces
the characters in error with the substitute character (<IMG SRC="char141.png" ALT="[]" HEIGHT="20" WIDTH="12">). In these
cases, use a lower baud rate.</P>
<H4 ID="S6.2.7.1">XON and XOFF Characters</H4>
<P>When you select the auto XON/XOFF, the
XON and XOFF control characters prevent input buffer overflows. These
characters indicate when this 128-character buffer is almost empty or full.
When the input buffer holds 32 characters, the terminal automatically
transmits XOFF (DC3, octal 023). The computer should stop transmitting
characters to prevent an input buffer overflow.</P>
<P>If the computer fails to respond to XOFF, the input buffer continues to fill.
The terminal transmits a second XOFF when the input buffer holds 112
characters. This second XOFF is a last request to the computer to stop
transmitting characters.</P>
<P>The terminal continues to remove characters from the input buffer. When
the input buffer holds 16 characters, the terminal automatically transmits
XON (DC1, octal 021), requesting the computer to continue transmission.</P>
<P>Use the following formulas to determine how fast the computer must respond
to the first XOFF character to avoid input buffer overflow.</P>
<BLOCKQUOTE CLASS="equation">
<P>C = 96 - [3 &times; (receive speed / transmit speed)]</P>
<P>R = C &times; (bits per char. + parity bit + no. of stop bits + 1) / receive speed</P>
</BLOCKQUOTE>
<P>where</P>
<BLOCKQUOTE CLASS="equation">
<P>C = number of characters to overflow</P>
<P>R = response time to XOFF (seconds)</P>
</BLOCKQUOTE>
<P><STRONG>Example 1</STRONG> - The terminal is transmitting 8-bit characters with no parity at
1200 baud and receiving at 1200 baud. When the terminal transmits the
first XOFF, the computer must stop transmitting within 0.775 seconds or
the input buffer overflows.</P>
<BLOCKQUOTE CLASS="equation">
<P>C = 96 - [3 &times; (1200 / 1200)] = 93 characters</P>
<P>R = 93 &times; (8 + 0 + 1 + 1) / 1200 = 0.775 seconds</P>
</BLOCKQUOTE>
<P><STRONG>Example 2</STRONG> - The terminal is transmitting 7-bit characters with parity at
300 baud and receiving at 300 baud. When the terminal transmits the first
XOFF, the computer must stop transmitting within 3.1 seconds or the input
buffer overflows.</P>
<BLOCKQUOTE CLASS="equation">
<P>C = 96 - [3 &times; (300 / 300)] = 93 characters</P>
<P>R = 93 &times; (7 + 1 + 1 + 1) / 300 = 3.1 seconds</P>
</BLOCKQUOTE>
<P CLASS="note">NOTE: Immediately after sending the reset or invoke confidence test sequences,
the computer may assume an XOFF from the terminal. The computer
stops sending characters until it receives XON. The terminal transmits
XON only after completing the specified function.</P>
<H4 ID="S6.2.7.2">Fill Characters</H4>
<P>The computer can use fill characters (NUL, octal 000
recommended) to prevent input buffer overflows. The terminal ignores received
null characters. Since the NUL character is not processed, the terminal
can process characters already received while receiving fill characters.</P>
<P>The computer transmits fill characters to the terminal after each control
function or display character. The number of fill characters needed depends
on the control function transmitted and the terminal receive speed.
<A HREF="table6-12.html">Table 6-12</A> lists the number of fill characters used when transmitting to the
terminal.</P>
<H4 ID="S6.2.7.3">Low-Speed Operation</H4>
<P>A slow terminal receive speed prevents input
buffer overflows. Low-speed operation lets the terminal process a character
before receiving the next character. Therefore, the input buffer is always
ready to receive characters. Use the following rules during low-speed
operation to prevent input buffer overflows.</P>
<UL>
<LI>Do not send the ESC code to the terminal.</LI>
<LI>Use terminal receive speed of 4800 baud or less.</LI>
<LI>Do not use the smooth scroll feature.</LI>
<LI>Immediately after sending the reset or invoke confidence test sequences,
use a delay of no less than 10 seconds to allow the terminal
to complete the function. This does not guarantee against loss of
characters when a test error is detected.</LI>
</UL>
<H3 ID="S6.2.8">Keyboard Transmit Buffer</H3>
<P>The keyboard transmit buffer holds characters generated by the terminal
before they are transmitted to the computer. When using auto XON/XOFF
in full-duplex, the computer can use XON (DC1, octal 021) and XOFF
(DC3, octal 023) characters to control character transmission from the
terminal.</P>
<P>After receiving XOFF, the terminal stops transmitting any characters except
XOFF and XON. A keyboard buffer stores keystrokes. If the keyboard
buffer overflows, KBD LOCKED turns on; keyclicks also stop if the keyclick
SET-UP feature is on.</P>
<P>When the terminal receives XON, the character transmission continues.
Also, entering and exiting SET-UP turns off KBD LOCKED and allows the
terminal to transmit characters. However, characters transmitted after entering
and exiting SET-UP may be lost if the computer is not ready to receive
characters. When the keyboard buffer is empty, KBD LOCKED turns
off; keyclicks return if the keyclick feature is on.</P>
<H2 ID="S6.3">Connecting to the Printer</H2>
<P>The terminal connects to a local serial printer via a printer interface. The
printer interface is full-duplex and uses the XON and XOFF control characters
to prevent input buffer overflows. <A HREF="table6-13.html">Table 6-13</A> lists recommended
DIGITAL printers, printer options, and cables.</P>
<P>When you use a serial printer, select full-duplex communication between
the terminal and computer. Also, select auto XON/XOFF to prevent input
buffer overflows. Without full-duplex communication and auto XON/XOFF,
it is impossible to guarantee correct system operation. However, a large
printer input buffer and fast printer interface speed (baud rate) decrease
the chance of problems.</P>
<H3 ID="S6.3.1">Serial Printer Interface</H3>
<P>The VT102's printer interface is a DB-25 male connector mounted on the
back of the terminal (<A HREF="figure6-5.html">Figure 6-5</A>). This interface meets Electronic Industry
Association (EIA) standards RS-423 and RS-232-C, and International
Telegraph and Telephone Consultative Committee (CCITT) recommendation
V.28. <A HREF="table6-14.html">Table 6-14</A> lists pin assignments for printer interface signals. The
terminal uses only the connector signals listed.</P>
<P>The printer interface uses full-duplex communication with auto
XON/XOFF to prevent buffer overflows. If possible, the printer should turn
off DTR when not ready to print. DTR has a higher priority than
XON/XOFF. If DTR is off, the terminal will not transmit to the printer after
receiving XON. If DTR is on, the terminal assumes XON.</P>
<H3 ID="S6.3.2">Printer Serial Characters</H3>
<P>The terminal communicates with the printer by using serial characters.
These characters have a start bit, seven or eight data bits, an optional
parity bit, and one or two stop bits. Data bits are transmitted with the least
significant bit first. See ANSI X3.15-1976 for further details on the character
format. <A HREF="figure6-4.html">Figure 6-4</A> shows the serial character format.</P>
<P>SET-UP features select the number of data bits and stop bits per character,
the parity, and the transmission speed. The printer data/parity bits
feature selects the number of data bits and type of parity. With 8-bit characters,
the terminal forces the last data bit to the space (0) condition and
ignores the last data bit when received. If you do not select parity, the
terminal cannot transmit the parity bit. The transmit/receive speed SET-UP
feature selects the number of stop bits (one or two) and speed (baud
rate).</P>
<DIV CLASS="navbar"><HR>
<TABLE WIDTH="100%">
<COL SPAN="3" WIDTH="33%">
<TBODY>
<TR>
<TD ALIGN="LEFT"><A HREF="chapter5.html">Chapter 5</A></TD>
<TD ALIGN="CENTER"><A HREF="contents.html">Contents</A></TD>
<TD ALIGN="RIGHT"><A HREF="chapter7.html">Chapter 7</A></TD>
</TR>
</TBODY>
</TABLE>
<DIV CLASS="navbot">http://vt100.net/docs/vt102-ug/chapter6.html</DIV></DIV>
</BODY>
</HTML>
