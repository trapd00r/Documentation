From zsh-workers-request@math.gatech.edu Mon Nov 02 11:12:14 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 23562 invoked from network); 2 Nov 1998 11:12:13 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 2 Nov 1998 11:12:13 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.9.1/8.9.1) id GAA12538;
	Mon, 2 Nov 1998 06:05:44 -0500 (EST)
Resent-Date: Mon, 2 Nov 1998 06:05:38 -0500 (EST)
Date: Mon, 2 Nov 1998 12:03:46 +0100 (CST)
From: Helmut Jarausch <jarausch@IGPM.Rwth-Aachen.DE>
Subject: Re: Strange behaviour of zsh-3.1.5 on IRIX 6.2 
To: kristiag@stud.math.ntnu.no
Cc: zsh-users@math.gatech.edu
Message-Id: <jarausch-981102120345.A05697@numa1>
X-Mailer: TkMail 4.0beta9
In-Reply-To: <19981102103233.A1700@stud.math.ntnu.no> 
Resent-Message-ID: <"ku9gm3.0.H33.28PFs"@math>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/1918
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Kristian Gjøsteen wrote
>> I did some debugging and found that a typtab array came out differently
>> in the two versions. So with the following patch, zsh-3.1.5 seems to
>> work on IRIX 6.2 using said MIPSpro compiler. Now, obviously, this is
>> just silly and should not be used, but I hope this can point others in
>> the right direction. I do not have time to debug this further.
>> 
>> --- /Stores/stash/zsh/src-3.1.5-local/Src/utils.c       Thu Oct 15 23:46:01 1998
>> +++ utils.c     Mon Nov  2 09:43:16 1998
>> @@ -2387,6 +2387,8 @@
>>         typtab[STOUC(*s)] |= ISPECIAL;
>>      if (isset(BANGHIST) && bangchar && interact && isset(SHINSTDIN))
>>         typtab[bangchar] |= ISPECIAL;
>> +    typtab[0] = 4640;
>> +    typtab[32] = 10284;
>>  }
>>  
>>  /**/

Hey, that SOLVES the problem here.  Many thanks!!!




--
Helmut Jarausch
Lehrstuhl fuer Numerische Mathematik
Institute of Technology, RWTH Aachen
D 52056 Aachen, Germany



