From zsh-workers-return-11610-mason-zsh=primenet.com.au@sunsite.auc.dk Sun May 28 15:54:16 2000
Return-Path: <zsh-workers-return-11610-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1990 invoked from network); 28 May 2000 15:54:15 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 28 May 2000 15:54:15 -0000
Received: (qmail 17633 invoked by alias); 28 May 2000 15:54:07 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 11610
Received: (qmail 17626 invoked from network); 28 May 2000 15:54:07 -0000
Date: Sun, 28 May 2000 17:53:58 +0200
From: jarausch@igpm.rwth-aachen.de
Subject: zftp.c doesn't compile on IRIX6.5
To: zsh-workers@sunsite.auc.dk
Reply-to: jarausch@igpm.rwth-aachen.de
Message-id: <200005281554.RAA22070@numa1.igpm.rwth-aachen.de>
MIME-version: 1.0
Content-type: TEXT/plain; charset=us-ascii

The cvs version from today doesn't compile on IRIX 6.5

It seems there is a bug on IRIX.
It uses a type 'n_long' within <netinet/ip.h>
but fails to include <netinet/in_systm.h>
where this is defined.

I had to apply the following (ugly) workaround

*** zftp.c.orig Sun May 28 17:34:38 2000
--- zftp.c      Sun May 28 17:34:39 2000
***************
*** 64,69 ****
--- 64,72 ----
  #ifdef HAVE_NETINET_IN_SYSTM_H
  # include <netinet/in_systm.h>
  #endif
+ #ifdef __sgi
+   #include <netinet/in_systm.h>
+ #endif
  #include <netinet/in.h>
  #include <netinet/ip.h>
  #include <arpa/inet.h>

-- 
Helmut Jarausch
Lehrstuhl fuer Numerische Mathematik
Institute of Technology, RWTH Aachen
D 52056 Aachen, Germany

