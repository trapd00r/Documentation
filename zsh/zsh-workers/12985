From zsh-workers-return-12985-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Oct 12 12:31:32 2000
Return-Path: <zsh-workers-return-12985-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 741 invoked from network); 12 Oct 2000 12:31:30 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 12 Oct 2000 12:31:30 -0000
Received: (qmail 12145 invoked by alias); 12 Oct 2000 12:30:37 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 12985
Received: (qmail 12138 invoked from network); 12 Oct 2000 12:30:32 -0000
Date: Thu, 12 Oct 2000 14:30:29 +0200 (MET DST)
Message-Id: <200010121230.OAA29231@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: "Bart Schaefer"'s message of Thu, 12 Oct 2000 12:23:34 +0000
Subject: Re: PATCH: all completions


Bart Schaefer wrote:

> On Oct 12, 10:44am, Sven Wischnowsky wrote:
> } 
> } Bart Schaefer wrote:
> } 
> } > What about _ignored?
> } 
> } Ah, right, this does. Hm, but when I think about this alternate-set
> } stuff it comes from: doesn't it may make sense to add all the ignored
> } matches? At least than all corrections.
> 
> It may make sense to add all the ignored matches, but not in the same
> single completion where one adds all the not-ignored matches.  Is there
> some way to get all the ignored matches added only if there aren't any
> that are not ignored? 

That's the normal behaviour of _ignored. Without it one never gets the 
ignored matches. With it one either gets the not-ignored matches (x)or,
if there are none, only the ignored ones.
And _all_matches only adds the special all-matches-match at the end,
so it represents only all not-ignored matches or all ignored ones.

> Can one use _all_matches more than once in the
> list of completers, e.g. both before and after _ignored?

Since _all_matches only registers a function that is executed at the
end[*], it can't be called more than once (well, it can, but that will
result in the same behaviour).


[*] In the non-`old-matches' mode. With old-matches it just sets
compstate[old_list]=keep and compstate[insert]=all and returns zero.

Bye
 Sven


--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

