From zsh-users-return-9347-mason-zsh=primenet.com.au@sunsite.dk Fri Aug 26 16:31:05 2005
Return-Path: <zsh-users-return-9347-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 11164 invoked from network); 26 Aug 2005 16:31:01 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 26 Aug 2005 16:31:01 -0000
Received: (qmail 43379 invoked from network); 26 Aug 2005 16:30:54 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 26 Aug 2005 16:30:54 -0000
Received: (qmail 15045 invoked by alias); 26 Aug 2005 16:30:48 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 9347
Received: (qmail 15035 invoked from network); 26 Aug 2005 16:30:48 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 26 Aug 2005 16:30:48 -0000
Received: (qmail 42361 invoked from network); 26 Aug 2005 16:30:48 -0000
Received: from sol.nlnetlabs.nl (213.154.224.43)
  by a.mx.sunsite.dk with SMTP; 26 Aug 2005 16:30:40 -0000
Received: from elektron.atoom.net (a80-127-17-126.adsl.xs4all.nl [80.127.17.126])
	by sol.nlnetlabs.nl (Postfix) with ESMTP id 4D9C91881F5
	for <zsh-users@sunsite.dk>; Fri, 26 Aug 2005 18:30:49 +0200 (CEST)
Received: by elektron.atoom.net (Postfix, from userid 1000)
	id 84450281BE8D; Fri, 26 Aug 2005 18:30:39 +0200 (CEST)
Date: Fri, 26 Aug 2005 18:30:39 +0200
From: Miek Gieben <miekg@atoom.net>
To: zsh users <zsh-users@sunsite.dk>
Subject: Re: previous cmd in RPS1
Message-ID: <20050826163039.GD32564@atoom.net>
Mail-Followup-To: zsh users <zsh-users@sunsite.dk>
References: <20050826093637.GA15060@atoom.net> <1050826161852.ZM10614@candle.brasslantern.com>
Mime-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-sha1;
	protocol="application/pgp-signature"; boundary="BI5RvnYi6R4T2M87"
Content-Disposition: inline
In-Reply-To: <1050826161852.ZM10614@candle.brasslantern.com>
User-Agent: Vim/Mutt/Linux
X-Home: www.miek.nl
X-Spam-Checker-Version: SpamAssassin 3.0.4 (2005-06-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.0.4


--BI5RvnYi6R4T2M87
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

[On 26 Aug, @18:18, Bart Schaefer wrote in "Re: previous cmd in RPS1 ..."]
> On Aug 26, 11:36am, Miek Gieben wrote:
> }
> } It there any way to make zsh /not/ to parse my previous cmd but
> } just show it as is?
>=20
> Use the psvar array and the %v prompt replacement.
>=20
> psvar=3D( $history[$[${(%):-%h}-1]] )
> RPS1=3D"$RPSL%$MAXMID<... <%v$RPSR"

nice! This works. Never heard of psvar, but it seems to do the trick.
(now that I now about psvar, this msg also explains it:
http://www.zsh.org/mla/users/2005/msg00860.html) (also from you :) )

Thanks,

grtz Miek

--BI5RvnYi6R4T2M87
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: Digital signature
Content-Disposition: inline

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.5 (GNU/Linux)

iD8DBQFDD0Ovw7f5Q7GEU6ERAogaAJ4xBrpJvICrhECuAwGeWCCH4d9OsQCgq0Jc
7fILXVa35aTI2zAhfPz2StA=
=RfxW
-----END PGP SIGNATURE-----

--BI5RvnYi6R4T2M87--

