From zsh-workers-request@math.gatech.edu Sat Feb 21 10:18:24 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 13947 invoked from network); 21 Feb 1998 10:18:23 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 21 Feb 1998 10:18:23 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id EAA21375;
	Sat, 21 Feb 1998 04:58:15 -0500 (EST)
Resent-Date: Sat, 21 Feb 1998 04:58:15 -0500 (EST)
Message-Id: <199802211000.LAA23094@sgi.ifh.de>
To: "Bart Schaefer" <schaefer@brasslantern.com>,
        zsh-workers@math.gatech.edu (Zsh hackers list)
Subject: Re: PATCH: expand-or-complete-prefix 
In-reply-to: ""Bart Schaefer""'s message of "Fri, 20 Feb 1998 09:26:22 MET."
             <980220092622.ZM3649@candle.brasslantern.com> 
Date: Sat, 21 Feb 1998 11:00:14 +0100
From: Peter Stephenson <pws@ifh.de>
Resent-Message-ID: <"roECE2.0.wD5.sKgxq"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3775
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

"Bart Schaefer" wrote:
> I've just been testing this, and it breaks on menu completion:
> 
> zagzig% bindkey '\t' expand-or-complete-prefix 
> zagzig% setopt menucomplete 
> zagzig% ls zlc
>              ^ with cursor here, press TAB, and you get
> zagzig% ls zle_bindings.oc
>                          ^ press TAB again
> zagzig% ls zle_hist.oc
>                      ^ press TAB again
> zagzig% ls zle_hist.proc
>                        ^ and so forth

Is that really a bug?  The prefix is 'zl', and that's what you're
completing according to what the doctor ordered: ignore the suffix,
just complete what's left of the cursor.  It's intrinsically
incompatible with complete-in-word, if that's what you mean, but then
you will have to use the usual exapnd-or-complete to get that; there's
just no way of having both possibilities at once.  Or am I missing
something?  Do you want the suffix to be deleted, a real space
inserted before it...?

-- 
Peter Stephenson <pws@ifh.de>       Tel: +39 50 911239
WWW:  http://www.ifh.de/~pws/
Gruppo Teorico, Dipartimento di Fisica
Piazza Torricelli 2, 56100 Pisa, Italy

