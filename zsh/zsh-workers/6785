From zsh-workers-return-6785-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Jun 22 13:18:44 1999
Return-Path: <zsh-workers-return-6785-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 22771 invoked from network); 22 Jun 1999 13:18:42 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 22 Jun 1999 13:18:42 -0000
Received: (qmail 25016 invoked by alias); 22 Jun 1999 13:18:22 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 6785
Received: (qmail 25009 invoked from network); 22 Jun 1999 13:18:21 -0000
Message-ID: <14191.36331.302444.11911@pdx.itasoftware.com>
Date: Tue, 22 Jun 1999 09:21:47 -0400 (EDT)
From: greg@klanderman.net (Greg Klanderman)
To: zsh-workers@sunsite.auc.dk (Zsh list)
Subject: extended compctl bug in 3.1.5
Reply-To: greg@klanderman.net
X-Mailer: VM 6.62 under 21.0 "Pyrenean" XEmacs Lucid (beta62)
Mime-Version: 1.0 (generated by tm-edit 7.108)
Content-Type: text/plain; charset=US-ASCII


Hi,

I hope this example will illustrate two bugs in using the "R" pattern
in extended completion:

compctl -k '(foo bar)' -x 'R[bar,foo]' -k '(a b c)' \
             - 'R[foo,;]' -k '(1 2 3)' -- foobar

First, type "foobar foo", with no space after "foo" and hit TAB.  You
get a beep and no completions, because the 'R[foo,;]' clause is
matching even though you are not after but ON the word with prefix
'foo'.  I would expect it to complete "foo" by appending the suffix
space.

Second, type "foobar foo bar ", with a space after "bar".  Hit TAB and
you get the completions "a", "b", and "c", which you should not, as
you are not before "foo".

Please include me in any reply as I am not on the list.

thanks,
Greg

