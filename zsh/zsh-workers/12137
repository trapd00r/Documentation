From zsh-workers-return-12137-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Jul 03 09:01:25 2000
Return-Path: <zsh-workers-return-12137-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24323 invoked from network); 3 Jul 2000 09:01:24 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 3 Jul 2000 09:01:24 -0000
Received: (qmail 26351 invoked by alias); 3 Jul 2000 09:01:17 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 12137
Received: (qmail 26344 invoked from network); 3 Jul 2000 09:01:17 -0000
Date: Mon, 3 Jul 2000 11:01:07 +0200 (MET DST)
Message-Id: <200007030901.LAA04627@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: "Bart Schaefer"'s message of Mon, 3 Jul 2000 08:51:23 +0000
Subject: Re: PATCH: Problem with _expand, _path_files, and $(command)


Bart Schaefer wrote:

> On Jul 3, 10:12am, Sven Wischnowsky wrote:
> } Subject: Re: PATCH: Problem with _expand, _path_files, and $(command)
> }
> } Bart Schaefer wrote:
> } 
> } > zagzig[88] echo $(exit 0)
> } > zagzig[88] echo \$\*\(exit\ 0Om\)
> } 
> } Shouldn't we just test for [[ $PREFIX$SUFFIX = *\$\(*\)* ]] and
> } give up if that is true?
> 
> This is a contrived example, but:
> 
> zagzig[128] ls Completion/$(echo Core)/_
> Completing file
> _funcall            _compalso           _files              _ignored          
> _menu               _approximate        _list               _setup
> (etc.)
> 
> This is without the _expand completer.  (The odd-looking order of the
> file names is because my styles display them sorted by mod time.)  Is
> that still going to work if _path_files gives up as you suggest?

Hm, no. Maybe just change the patterns in lines 120, 122, 166 and 168
from `(?*)' to `(*[^\$])'? (Haven't tried...)

Bye
 Sven


--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

