From zsh-users-return-5536-mason-zsh=primenet.com.au@sunsite.dk Tue Nov 26 13:38:43 2002
Return-Path: <zsh-users-return-5536-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 539 invoked from network); 26 Nov 2002 13:38:42 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 26 Nov 2002 13:38:42 -0000
Received: (qmail 14915 invoked by alias); 26 Nov 2002 13:38:22 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 5536
Received: (qmail 14885 invoked from network); 26 Nov 2002 13:38:18 -0000
X-Originating-IP: [212.21.163.7]
From: "x x" <pbyrne76@hotmail.com>
To: zsh-users@sunsite.dk
Bcc: 
Subject: exec problem
Date: Tue, 26 Nov 2002 13:31:25 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <F79APNXRPmcarcR4ZDg00026268@hotmail.com>
X-OriginalArrivalTime: 26 Nov 2002 13:31:26.0256 (UTC) FILETIME=[1E915B00:01C29550]

In 4.0.4 when I issue an 'exec' and zsh can't find
the executable it simply terminates without warning.
This is surly not desirable behaviour.

In bash the shell first checks to see if the command
is available and executable and if not it issues an
appropriate error message. The following function approximates
the bash bahaviour.

function exec {
  if [[ $# = 0 ]]; then
    builtin exec
  elif [[ -f $1 ]]; then
    if [[ -x $1 ]]; then
      builtin exec $*
    else
      echo "zsh: exec: $1: cannot execute: Permission denied"
    fi
  else
    echo "zsh: exec: $1: cannot execute: No such file or directory"
  fi
}

Shouldn't this be builtin?


Thanks,
Pascal


_________________________________________________________________
STOP MORE SPAM with the new MSN 8 and get 2 months FREE* 
http://join.msn.com/?page=features/junkmail



