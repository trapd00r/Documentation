From zsh-users-return-3015-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Apr 07 19:10:32 2000
Return-Path: <zsh-users-return-3015-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18992 invoked from network); 7 Apr 2000 19:10:31 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 7 Apr 2000 19:10:31 -0000
Received: (qmail 20755 invoked by alias); 7 Apr 2000 19:10:11 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 3015
Received: (qmail 20740 invoked from network); 7 Apr 2000 19:10:10 -0000
X-Authentication-Warning: natanya.us.mandrakesoft.com: chmou set sender to chmouel@mandrakesoft.com using -f
To: Francis GALIEGUE <francis@mandrakesoft.com>
Cc: zsh-users@sunsite.auc.dk
Subject: Re: RPM completion in dev19 and a suggested change to make completion
References: <m3pus2p38s.fsf@toy.mandrakesoft.com>
From: Chmouel Boudjnah <chmouel@mandrakesoft.com>
Date: 07 Apr 2000 12:10:42 -0700
In-Reply-To: Francis GALIEGUE's message of "07 Apr 2000 13:19:47 +0200"
Message-ID: <m2n1n54thp.fsf@natanya.us.mandrakesoft.com>
Lines: 32
User-Agent: Gnus/5.0804 (Gnus v5.8.4) Emacs/20.6
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Francis GALIEGUE <francis@mandrakesoft.com> writes:

> I'm not au fait enough to do it by myself, but a suggestion for rpm
> would be that it does not look into the RPM database if the -p
> <package> option is specified, as it only applies to files. Is this

Humm :

--=-=-=
From: Chmouel Boudjnah <chmouel@mandrakesoft.com>
Subject: PATCH: _rpm and locale file
To: zsh-workers@sunsite.auc.dk
Date: 31 Mar 2000 12:40:10 -0800

rpm -qp* is always locale files :

--- zsh-3.1.6-dev-20/Completion/Linux/_rpm.chmou        Wed Mar 22 15:07:53 2000
+++ zsh-3.1.6-dev-20/Completion/Linux/_rpm      Fri Mar 31 13:37:09 2000
@@ -102,7 +102,7 @@
       '--dbpath:RPM database path:_files -/' \
       '--queryformat:RPM query format:->tags' \
       '-f[specify file to query owner of]:file:_files' \
-      '-p[specify uninstalled package file to query]:RPM package file:->package_file' \
+      '-p+[specify uninstalled package file to query]:*:RPM package file:->package_file' \
       '--triggeredby:RPM package:->package' \
       '--whatprovides:RPM capability:->capability' \

--=-=-=

-- 
MandrakeSoft Inc                http://www.mandrakesoft.com
Pasadena, CA USA                                  --Chmouel

