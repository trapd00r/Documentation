From zsh-users-return-9777-mason-zsh=primenet.com.au@sunsite.dk Sun Dec 11 20:47:13 2005
Return-Path: <zsh-users-return-9777-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 25410 invoked from network); 11 Dec 2005 20:47:11 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.0 (2005-09-13) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.7 required=5.0 tests=BAYES_00,FORGED_RCVD_HELO,
	RCVD_IN_NJABL_PROXY autolearn=no version=3.1.0
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 11 Dec 2005 20:47:11 -0000
Received: (qmail 12028 invoked from network); 11 Dec 2005 20:47:05 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 11 Dec 2005 20:47:05 -0000
Received: (qmail 753 invoked by alias); 11 Dec 2005 20:46:57 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 9777
Received: (qmail 743 invoked from network); 11 Dec 2005 20:46:56 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 11 Dec 2005 20:46:56 -0000
Received: (qmail 10849 invoked from network); 11 Dec 2005 20:46:56 -0000
Received: from 80.178.163.14.adsl.012.net.il (HELO ods15.dyndns.org) (80.178.163.14)
  by a.mx.sunsite.dk with SMTP; 11 Dec 2005 20:46:55 -0000
Received: from ods15 by ods15.dyndns.org with local (Exim 4.54)
	id 1ElY6W-0004El-Vl
	for zsh-users@sunsite.dk; Sun, 11 Dec 2005 22:47:33 +0200
Date: Sun, 11 Dec 2005 22:47:32 +0200
To: zsh-users@sunsite.dk
Subject: crash with tab completion for 'make'
Message-ID: <20051211204732.GH6192@crate15>
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-8
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
User-Agent: Mutt/1.5.11
From: Oded Shimon <ods15@ods15.dyndns.org>

22:45 ods15@crate15 ~ $ zsh --version
zsh 4.2.6 (i686-pc-linux-gnu)

22:43 ods15@crate15 ~ $ zsh -ic 'compinit; _make'
zsh: 16202 segmentation fault  zsh -ic 'compinit; _make'

(gdb) run -ic 'compinit; _make'
Starting program: /bin/zsh -ic 'compinit; _make'

Program received signal SIGSEGV, Segmentation fault.
0xb7dd53b7 in strcpy () from /lib/libc.so.6
(gdb) bt
#0  0xb7dd53b7 in strcpy () from /lib/libc.so.6
#1  0xb7cbe165 in bin_zparseopts (nam=0xb7cbf9cc "DB\n\bDå?·\b", args=0xbff12574, ops=0x8052b8e,
    func=-1209014864) at zutil.c:1644
#2  0x08052b8e in execbuiltin (args=0xb7efe560, bn=0xb7cbf9cc) at builtin.c:439
#3  0x08061a17 in execcmd (state=0x2, input=134608940, output=-1074714776, how=0, last1=0)
    at exec.c:2437
#4  0x0805f82c in execpline2 (state=0xbff12768, pcode=512, how=2, input=0, output=134607017,
    last1=-1074714776) at exec.c:1285
#5  0x0805f0a9 in execpline (state=0x0, slcode=256, how=135330864, last1=-1074714776)
    at exec.c:1071
#6  0x0805eba5 in execlist (state=0xbff12768, dont_change_job=134881923, exiting=18) at exec.c:877
#7  0x0805e953 in execode (p=0x80d7b98, dont_change_job=135304304, exiting=-1209015888)
    at exec.c:777
#8  0x08063368 in execautofn (state=0x72, do_exec=-1209529888) at exec.c:3432
#9  0x0806186c in execcmd (state=0x12, input=134608940, output=-1074714232, how=0, last1=0)
    at exec.c:2384
#10 0x0805f82c in execpline2 (state=0xbff12988, pcode=0, how=18, input=0, output=134607017,
    last1=-1074714232) at exec.c:1285
#11 0x0805f0a9 in execpline (state=0x0, slcode=0, how=135304300, last1=-1074714232) at exec.c:1071
#12 0x0805eba5 in execlist (state=0xbff12988, dont_change_job=-1074714189, exiting=-1074714156)
    at exec.c:877
#13 0x0805e953 in execode (p=0x8109430, dont_change_job=-1074714189, exiting=0) at exec.c:777
#14 0x080639ae in runshfunc (prog=0x8109430, wrap=0x0, name=0xb7efe3e0 "_pick_variant")
    at exec.c:3705
#15 0x080637a6 in doshfunc (name=0x0, prog=0x8109430, doshargs=0x80632e5, flags=135304304,
    noreturnval=135304240) at exec.c:3614
#16 0x080632e5 in execshfunc (shf=0x8109430, args=0xb7efe330) at exec.c:3404
#17 0x080619c0 in execcmd (state=0x2, input=134608940, output=-1074713384, how=0, last1=0)
    at exec.c:2426
#18 0x0805f82c in execpline2 (state=0xbff12cd8, pcode=6144, how=2, input=0, output=134607017,
    last1=-1074713384) at exec.c:1285
#19 0x0805f0a9 in execpline (state=0x0, slcode=256, how=135372824, last1=-1074713384)
    at exec.c:1071
#20 0x0805eba5 in execlist (state=0xbff12cd8, dont_change_job=134881923, exiting=18) at exec.c:877
#21 0x0805e953 in execode (p=0x812d720, dont_change_job=135296304, exiting=134996392) at exec.c:777
#22 0x08063368 in execautofn (state=0x72, do_exec=-1209529888) at exec.c:3432
#23 0x0806186c in execcmd (state=0x12, input=134608940, output=-1074712840, how=0, last1=0)
    at exec.c:2384
#24 0x0805f82c in execpline2 (state=0xbff12ef8, pcode=0, how=18, input=0, output=134607017,
    last1=-1074712840) at exec.c:1285
#25 0x0805f0a9 in execpline (state=0x0, slcode=0, how=135296300, last1=-1074712840) at exec.c:1071
#26 0x0805eba5 in execlist (state=0xbff12ef8, dont_change_job=-1074712794, exiting=-1074712760)
    at exec.c:877
#27 0x0805e953 in execode (p=0x81074f0, dont_change_job=-1074712794, exiting=0) at exec.c:777
#28 0x080639ae in runshfunc (prog=0x81074f0, wrap=0x0, name=0xb7efe1a8 "_make") at exec.c:3705
#29 0x080637a6 in doshfunc (name=0x0, prog=0x81074f0, doshargs=0x80632e5, flags=135296304,
    noreturnval=135296240) at exec.c:3614
#30 0x080632e5 in execshfunc (shf=0x81074f0, args=0xb7efe180) at exec.c:3404
#31 0x080619c0 in execcmd (state=0x12, input=134608940, output=-1074711988, how=0, last1=0)
    at exec.c:2426
#32 0x0805f82c in execpline2 (state=0xbff1324c, pcode=0, how=18, input=0, output=134607017,
    last1=-1074711988) at exec.c:1285
#33 0x0805f0a9 in execpline (state=0x0, slcode=0, how=-1209016016, last1=-1074711988)
    at exec.c:1071
#34 0x0805eba5 in execlist (state=0xbff1324c, dont_change_job=0, exiting=-1074711788) at exec.c:877
#35 0x0805e953 in execode (p=0xb7efe0e0, dont_change_job=1, exiting=-1074703756) at exec.c:777
#36 0x0805e917 in execstring (s=0xbff15274 "compinit; _make", dont_change_job=0, exiting=1)
    at exec.c:762
#37 0x0806f035 in init_misc () at init.c:986
#38 0x0806fadf in zsh_main (argc=134554961, argv=0xbff13314) at init.c:1269
#39 0x08052551 in main (argc=-1074711788, argv=0xb7d8463f) at main.c:93


I'm using gentoo, zsh-4.2.6.ebuild. If you need any more details on crash, 
hollar, I'm subscribed to mailing list. Crash also happens on 4.2.5, 
haven't tried other versions.

- ods15

