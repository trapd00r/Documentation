From zsh-users-return-11910-mason-zsh=primenet.com.au@sunsite.dk Mon Oct 01 07:56:43 2007
Return-Path: <zsh-users-return-11910-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1948 invoked from network); 1 Oct 2007 07:56:35 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.3 (2007-08-08) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.3
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 1 Oct 2007 07:56:35 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 40855 invoked from network); 1 Oct 2007 07:56:28 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 1 Oct 2007 07:56:28 -0000
Received: (qmail 26053 invoked by alias); 1 Oct 2007 07:56:20 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 11910
Received: (qmail 26032 invoked from network); 1 Oct 2007 07:56:19 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 1 Oct 2007 07:56:19 -0000
Received: (qmail 39673 invoked from network); 1 Oct 2007 07:56:19 -0000
Received: from wx-out-0506.google.com (66.249.82.237)
  by a.mx.sunsite.dk with SMTP; 1 Oct 2007 07:56:13 -0000
Received: by wx-out-0506.google.com with SMTP id h27so3023345wxd
        for <zsh-users@sunsite.dk>; Mon, 01 Oct 2007 00:56:12 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:received:date:from:to:cc:subject:message-id:references:mime-version:content-type:content-disposition:in-reply-to:user-agent;
        bh=voQyZsVwx4PqcXY1RN0IYxE+GiqRvDqqIf0vu7onx+M=;
        b=m2PNA79aYuAsf0X2dLE1ov7G+vTRvWZjFoJfy1s6839dgtCgMCFqEV1L1WLfbR2kGFwdCCuGiLscYbEpLsEz0301UEcFKF90faael7ANsI5CdrAvH5kuKzD79EesaTS++tnVUIJP3DTR3YJJVHvI//AEzxb1RnC4UHelfjyQ2Ak=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:date:from:to:cc:subject:message-id:references:mime-version:content-type:content-disposition:in-reply-to:user-agent;
        b=Lby3siUdAaliceEGaPRb1KBqSF1yhKdtJ0v4yUELHpoWQu4aytklHG9MVoDDQoFVu2bnMS3rnZojCnr65JUSFosfLBad/ALKCR5qjZ5daeKK690rqp5EuGiddbXKhXphEIBBq9nTEdjWRYucsb8atLOfUujb2u16hd2bvgX2zns=
Received: by 10.90.56.11 with SMTP id e11mr4822729aga.1191225372036;
        Mon, 01 Oct 2007 00:56:12 -0700 (PDT)
Received: from mastermind ( [76.99.60.158])
        by mx.google.com with ESMTPS id 38sm12005684aga.2007.10.01.00.56.09
        (version=TLSv1/SSLv3 cipher=OTHER);
        Mon, 01 Oct 2007 00:56:11 -0700 (PDT)
Received: by mastermind (sSMTP sendmail emulation); Mon, 01 Oct 2007 03:56:10 -0400
Date: Mon, 1 Oct 2007 03:56:10 -0400
From: Matthew Wozniski <godlygeek@gmail.com>
To: vim.unix@gmail.com
Cc: zsh-users@sunsite.dk
Subject: Re: nohup dies
Message-ID: <20071001075609.GA24046@mastermind>
References: <vim.unix@googlemail.com> <30c383e70709301256m570d4cd7v4ce180db1d83cc67@mail.gmail.com> <200709302207.l8UM7FBc005205@pws-pc.ntlworld.com> <30c383e70709302316m6e93584ckcffdb3fd70b50b79@mail.gmail.com> <30c383e70710010029h143cd1f7obb1218c17e000587@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <30c383e70710010029h143cd1f7obb1218c17e000587@mail.gmail.com>
User-Agent: Mutt/1.5.15+20070412 (2007-04-11)

On Mon, Oct 01, 2007 at 09:29:24AM +0200, Pau Amaro-Seoane wrote:
> tuffi3% set nohup
That line is your problem.  Options in zsh are set using 'setopt', not
'set'.  You were setting $argv to 'nohup', which wasn't what you
wanted to do.  So, the following should do exactly what you want:

tuffi3% setopt nohup
tuffi3% cat ./inicia| ~pau/executables/NB4_NoPN > diagnostic &
[1] 19492 19493
tuffi3%
tuffi3% exit
zsh: you have running jobs.
tuffi3% exit

As noted, you no longer need to use the nohup command at all if you
use 'setopt nohup'.  Also as pointed out, the nohup command works if
you tell it "don't send a hup signal to cat AND don't send a hup
signal to NB4_NoPN" by putting a call to nohup before each of them.
And, also as pointed out, the best way for you to do this would have
been:
tuffi3% nohup ~pau/executables/NB4_NoPN < inicial > diagnostic &

~Matt Wozniski

