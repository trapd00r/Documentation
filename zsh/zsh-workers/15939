From zsh-workers-return-15939-mason-zsh=primenet.com.au@sunsite.dk Fri Oct 05 01:28:13 2001
Return-Path: <zsh-workers-return-15939-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 22003 invoked from network); 5 Oct 2001 01:28:12 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 5 Oct 2001 01:28:12 -0000
Received: (qmail 2545 invoked by alias); 5 Oct 2001 01:28:07 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 15939
Received: (qmail 2532 invoked from network); 5 Oct 2001 01:28:06 -0000
Date: Thu, 4 Oct 2001 21:28:05 -0400
From: Clint Adams <clint@zsh.org>
To: zsh-workers@sunsite.dk
Subject: PATCH: _mount -t xfs (for linux)
Message-ID: <20011004212805.A30443@dman.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5i

I don't currently have access to any IRIX machines, so I couldn't
check if all these options are equally valid there.

Index: Completion/Unix/Command/_mount
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_mount,v
retrieving revision 1.6
diff -u -r1.6 _mount
--- Completion/Unix/Command/_mount	2001/10/05 00:58:40	1.6
+++ Completion/Unix/Command/_mount	2001/10/05 01:24:24
@@ -414,6 +414,26 @@
       'ufstype[set ufs type]:ufs type:(old 44bsd sun sunx86 nextstep nextstep-cd openstep)'
       'onerror[set behaviour on error]:behaviour on error:(panic lock umount repair)'
     )
+    _fs_xfs=(
+      'biosize[specify preffer buffered I/O size]:base 2 logarithm:((13:8K 14:16K 15:32K 16:64K))
+      '(xdsm)dmapi[enable DMAPI event callouts]'
+      '(dmapi)xdsm[enable DMAPI event callouts]'
+      'logbufs[set number of in-memory log buffers]:(2 3 4 5 6 7 8)'
+      'logbsize[set size of each in-memory log buffer]:(16384 32768)'
+      'logdev[use external log device]:_files'
+      'rtdev[use external realtime device]:_files'
+      'noalign[do not align data allocations at stripe unit boundaries]'
+      'noatime[do not update atime on reads]'
+      'norecovery[do not run log recovery]'
+      'osyncisdsync[make O_SYNC behave as O_DSYNC]'
+      '(usrquota uqnoenforce)quota[enable user quotas]'
+      '(quota uqnoenforce)usrquota[enable user quotas]'
+      '(quota usrquota)uqnoenforce[enable user quotas without enforcement]'
+      '(gqnoenforce)grpquota[enable group quotas]'
+      '(grpquota)gqnoenforce[enable group quotas without enforcement]'
+      'sunit[specify stripe unit]:size:'
+      'swidth[specify stripe width]:size:'
+    )
     ;;
   freebsd*)
     _fs_any=(
@@ -529,7 +549,7 @@
     )
     fss=( minix ext ext2 xiafs hpfs msdos umsdos vfat proc nfs iso9660
           smbfs ncpfs affs ufs romfs sysv adfs autofs coda devpts efs
-          hfs ntfs qnx4 smbfs udf ext3 )
+          hfs ntfs qnx4 smbfs udf ext3 xfs )
     [[ -r /proc/filesystems ]] &&
         fss=( ${$(</proc/filesystems)#nodev} )
     ;;

