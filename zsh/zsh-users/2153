From zsh-users-return-2153-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Feb 15 05:39:05 1999
Return-Path: <zsh-users-return-2153-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 14710 invoked from network); 15 Feb 1999 05:39:03 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 15 Feb 1999 05:39:03 -0000
Received: (qmail 17420 invoked by alias); 15 Feb 1999 05:38:23 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 2153
Received: (qmail 17413 invoked from network); 15 Feb 1999 05:38:20 -0000
Message-ID: <19990215073813.Y22067@niksula.cs.hut.fi>
Date: Mon, 15 Feb 1999 07:38:13 +0200
From: Ville Herva <vherva@niksula.hut.fi>
To: Bart Schaefer <schaefer@brasslantern.com>
Cc: =?iso-8859-1?Q?Samuli_K=E4rkk=E4inen?= <Samuli.Karkkainen@netspan.fi>,
        zsh-users@sunsite.auc.dk
Subject: Re: Terminal problem with linux-2.0.34
References: <19990214112653.A22618@turing.netspan.fi> <990214051533.ZM26953@candle.brasslantern.com> <19990214155043.A22067@niksula.cs.hut.fi> <990214094636.ZM27905@candle.brasslantern.com> <19990214234846.I22067@niksula.cs.hut.fi> <990214155928.ZM29656@candle.brasslantern.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 0.93.2i
In-Reply-To: <990214155928.ZM29656@candle.brasslantern.com>; from Bart Schaefer on Sun, Feb 14, 1999 at 03:59:28PM -0800

On Sun, Feb 14, 1999 at 03:59:28PM -0800, you [Bart Schaefer] claimed:
> } The problem appears as before.
> 
> The only thing I can think of to suggest at this point is that you run
> "strace -v zsh +Z" and then examine what's output immediately following
> a "setopt zle" command.  I get, among other irrelevant things,
> 
> ioctl(10, SNDCTL_TMR_STOP, {c_iflags=0x540, c_oflags=0x5, c_cflags=0xbf,
> c_lflags=0x8a31, c_line=0, c_cc[VMIN]=1, c_cc[VTIME]=0,
> c_cc="\x03\x00\x08\x15\x04\x00\x01\x00\x11\x13\x00\x00\x12\x00\x17\x00
>       \x00\x00\x73"})
>  = 0

I got 

read(0, "setopt zle\n", 4096)           = 11
time(NULL)                              = 919056503
sigprocmask(SIG_BLOCK, [CHLD], [])      = 0
sigprocmask(SIG_BLOCK, [CHLD], [CHLD])  = 0
sigprocmask(SIG_UNBLOCK, [CHLD], [CHLD]) = 0
sigprocmask(SIG_UNBLOCK, [CHLD], [])    = 0
fstat(0, {st_dev=makedev(8, 3), st_ino=328182,
st_mode=S_ISVTX|0405, st_nlink=0,
 st_uid=4096, st_gid=0, st_blksize=919056412, st_blocks=0,
st_size=0, st_atime=0
, st_mtime=35/12/23-12:03:32, st_ctime=70/01/01-02:00:03}) = 0
fcntl(0, F_GETFL)                       = 0x2 (flags O_RDWR)
time(NULL)                              = 919056503
time(NULL)                              = 919056503
time(NULL)                              = 919056503
ioctl(10, TIOCSPGRP, [30250])           = 0
sigaction(SIGINT, {0x8071c80, [], 0}, NULL) = 0
sigaction(SIGINT, {0x8071c80, [], 0}, NULL) = 0
ioctl(10, TIOCSPGRP, [30250])           = 0
ioctl(10, SNDCTL_TMR_STOP, {c_iflags=0x540, c_oflags=0x5, c_cflags=0xbf,
c_lflag s=0x8a31, c_line=0, c_cc[VMIN]=1, c_cc[VTIME]=0,
c_cc="\x03\x00\x7f\x15\x04\x00\x01\x00\x11\x13\x00\x00\x12\x00\x17\x00
      \x00\x00\x73\xa0\xf9\xff\xbf\xb9\x87\x07\x08\x0a\x00\x00\x00\x01"}) = 0

> } That's what I would like to know, too...
> 
> I meant other users of that same machine, though anyone anywhere that is
> also having the problem would be good to hear from.

I seem to do a good job misunderstanding you all the time. The other users
of the machine tend to prefer bash (I have a hard time trying to
convinence them about zsh's superioty now that it does not work.) I have
used it as an ordinary user and as root - the problem shows the same way
as root, also. As I noted before I have also tried to disable my .zshrc,
but that had no effect. 


--
Ville Herva       Ville.Herva@netspan.fi   +358-50-5164500
Netspan Oy        netspan@netspan.fi       PL 65  FIN-02151 Espoo
PGP key available: http://www.iki.fi/v/pgp.html

