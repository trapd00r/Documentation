From zsh-users-return-2528-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Aug 27 23:44:44 1999
Return-Path: <zsh-users-return-2528-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9795 invoked from network); 27 Aug 1999 23:44:42 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 27 Aug 1999 23:44:42 -0000
Received: (qmail 24740 invoked by alias); 27 Aug 1999 23:44:23 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 2528
Received: (qmail 24732 invoked from network); 27 Aug 1999 23:44:22 -0000
Message-ID: <19990827194419.A7511@vmunix.com>
Date: Fri, 27 Aug 1999 19:44:19 -0400
From: Gabor <gabor@vmunix.com>
To: Bart Schaefer <schaefer@candle.brasslantern.com>, zsh-users@sunsite.auc.dk
Subject: Re: Files modified after a given date
References: <199908230809.KAA02317@beta.informatik.hu-berlin.de> <19990827175122.A2818@vmunix.com> <990827224347.ZM28594@candle.brasslantern.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 0.93.1i
In-Reply-To: <990827224347.ZM28594@candle.brasslantern.com>; from Bart Schaefer on Fri, Aug 27, 1999 at 10:43:47PM +0000
X-Operating-System: FreeBSD 2.2.7-STABLE i386

On Fri, Aug 27, 1999 at 10:43:47PM +0000, Bart Schaefer wrote:
# On Aug 27,  5:51pm, Gabor wrote:
# > Subject: Re: Files modified after a given date
# > === gabor $ builtin stat -H foo .zshrc
# > zsh: attempt to set slice of associative array
# 
# That's extremely strange.  What do you get in $foo if you use -A instead
# of -H ?  Are you sure you aren't loading a stat module that's from a
# different version/build of zsh?

Well, I figured it out.  I believe this to be a bug, though you
decide.  I always set ksharrays since I like 0 based indexing and use
ksh for scripting at work.  With ksharrays unset, it works.

=== gabor $ unsetopt ksharrays
=== gabor $ stat -H foo .
=== gabor $ print ${(kv)foo[@]}
blksize 8192 nlink 52 size 3072 rdev 533784 mode 16841 mtime 935797473
inode 127121 blocks 6 device 196614 atime 935797353 uid 1000 link
ctime 935797473 gid 1000
=== gabor $ setopt ksharrays
=== gabor $ stat -H foo .
zsh: attempt to set slice of associative array
zsh: exit 1
=== gabor $

