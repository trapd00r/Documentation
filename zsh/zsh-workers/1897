From zsh-workers-request@euclid.skiles.gatech.edu  Sat Aug  3 04:23:10 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by coral.primenet.com.au (8.7.5/8.7.3) with ESMTP id EAA01681 for <mason@primenet.com.au>; Sat, 3 Aug 1996 04:23:06 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id OAA25838; Fri, 2 Aug 1996 14:17:02 -0400 (EDT)
Resent-Date: Fri, 2 Aug 1996 14:17:02 -0400 (EDT)
From: Zoltan Hidvegi <hzoli@cs.elte.hu>
Message-Id: <199608021816.UAA05863@bolyai.cs.elte.hu>
Subject: Re: problem with multicomp
To: carlos@riglos.fisica.ufpr.br (Carlos Carvalho)
Date: Fri, 2 Aug 1996 20:16:14 +0200 (MET DST)
Cc: zsh-workers@math.gatech.edu
In-Reply-To: <m0umLmM-00002aC@riglos.fisica.ufpr.br> from Carlos Carvalho at "Aug 2, 96 12:04:00 pm"
Organization: Dept. of Comp. Sci., Eotvos University, Budapest, Hungary
Phone: (36 1)2669833 ext: 2667, home phone: (36 1) 2752368
X-Mailer: ELM [version 2.4ME+ PL16 (25)]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"-059R1.0.eJ6.TOa0o"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/1897
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

> With pre5, I get this:
> 
> zsh%  cd mem/7/ar
> zsh: sofar[2]: parameter not set

I'm sure that you set the nounset option.  Try the patch below to
multicomp.  One may say that it is a bug to that nounset gives an error
message when subscript is out of range bug as I know zsh always did that.
The oldest version I have is zsh-2.6-beta13-hzoli13 does this.

> Also, I have autocd enabled, but multicomp doesn't get invoked when
> press TAB.

Because multicomp does not work on words in command position I think.
compctl -C should be used for that.  See zshcompctl(1).

> On another issue, I missed the explanation about nocorrect now being a
> builtin. Why is this so? This is inconsistent. The other modifiers
> should then also be builtins. Also, if you use "noglob nocorrect etc."
> it doesn't work, you have to do "nocorrect noglob etc.". I think it
> should work, because noglob should work with anything, including
> nocorrect.

nocorrect is a reserved word and the other prefixes are builtins.
nocorrect must be recognized when parsing the input since spelling
correction is done during parsing so it cannot be a builtin.  Reserved
words are only recognized in command position or after other reserved words
(well I oversimplificated it) that's why noroccect must come before the
other modifiers.  For the parser noglob is the same as echo so if
echo nocorrect does not work, noglob nocorrect will not work either.  The
only way to change this is to make the other prefixes reserved words but
that would mean that foo=exec ; $foo something will not work.

Zoltan

