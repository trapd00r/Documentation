From zsh-users-return-13901-mason-zsh=primenet.com.au@sunsite.dk Thu Mar 12 16:58:16 2009
Return-Path: <zsh-users-return-13901-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4671 invoked from network); 12 Mar 2009 16:58:10 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 12 Mar 2009 16:58:10 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 91921 invoked from network); 12 Mar 2009 16:55:51 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 12 Mar 2009 16:55:51 -0000
Received: (qmail 7824 invoked by alias); 12 Mar 2009 16:55:34 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 13901
Received: (qmail 7813 invoked from network); 12 Mar 2009 16:55:34 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 12 Mar 2009 16:55:34 -0000
Received: from lorien.comfychair.org (lorien.comfychair.org [64.81.241.43])
	by bifrost.dotsrc.org (Postfix) with ESMTPS id F24A180307F8
	for <zsh-users@sunsite.dk>; Thu, 12 Mar 2009 17:55:25 +0100 (CET)
Received: from lorien.comfychair.org (lorien [127.0.0.1])
	by lorien.comfychair.org (8.14.3+Sun/8.14.3) with ESMTP id n2CGtU7j026230
	for <zsh-users@sunsite.dk>; Thu, 12 Mar 2009 09:55:30 -0700 (PDT)
Received: (from duvall@localhost)
	by lorien.comfychair.org (8.14.3+Sun/8.14.3/Submit) id n2CGtUua026229
	for zsh-users@sunsite.dk; Thu, 12 Mar 2009 09:55:30 -0700 (PDT)
Date: Thu, 12 Mar 2009 09:55:30 -0700
From: Danek Duvall <duvall@comfychair.org>
To: zsh-users@sunsite.dk
Subject: Bug in vi-mode search
Message-ID: <20090312165530.GA1834@lorien.comfychair.org>
Mail-Followup-To: Danek Duvall <duvall@comfychair.org>,
	zsh-users@sunsite.dk
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.5.19 (2009-01-27)
X-Virus-Scanned: ClamAV 0.92.1/9101/Thu Mar 12 16:30:26 2009 on bifrost
X-Virus-Status: Clean

Our bug database hasn't synced just yet, so this link doesn't do anything
at the moment, but an internal user filed

    http://bugs.opensolaris.org/view_bug.do?bug_id=6816606

where the bug description says:

    When using vi keybindings (set -o vi) history search is initiated by
    ESC-/. The searching appears to be broken:

    The initial history line returned is correct but subsequent entries (by
    repeatedly pressing '/') returned don't have the search string in them
    and appear to simply be sequential entries from the history file.

    This could be related to the recent zsh upgrade as searching works as
    expected on prior versions (101, 104).

    In emacs mode searching works as expected.

Builds 101 and 104 had zsh 4.3.4; the build he's filing the bug against has
zsh 4.3.9.  I've confirmed the bug's behavior, but don't have access to
non-Solaris systems on which to try it.  I don't see anything in the
ChangeLog that might have fixed this, but haven't yet tried building from
CVS to see if it exists.

Is this reproducible on other systems?

Thanks,
Danek

