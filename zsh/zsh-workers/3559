From zsh-workers-request@math.gatech.edu Wed Oct 08 09:54:05 1997
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 21275 invoked from network); 8 Oct 1997 09:54:04 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 8 Oct 1997 09:54:04 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id FAA19888;
	Wed, 8 Oct 1997 05:46:56 -0400 (EDT)
Resent-Date: Wed, 8 Oct 1997 05:46:56 -0400 (EDT)
Message-Id: <199710080947.LAA05511@hydra.ifh.de>
To: zsh-workers@math.gatech.edu (Zsh hackers list)
Subject: Re: ideas, questions, and bugs (?) 
In-reply-to: "Andrew Main"'s message of "Wed, 08 Oct 1997 10:11:45 MET."
             <199710080911.KAA06762@taos.demon.co.uk> 
Date: Wed, 08 Oct 1997 11:47:37 +0200
From: Peter Stephenson <pws@ifh.de>
Resent-Message-ID: <"jndpm1.0.hs4.FQrEq"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3559
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Andrew Main wrote:
> What happened to trashzleptr being initialised to an empty function?

Sorry, wasn't quite clear (I've restricted this to zsh-workers).

If there are shared libraries, but zle is linked in directly, this
initialisation doesn't happen, it's just left to zero, and the real
trashzleptr is resolved later, but too late for the zerr resulting from
a script not found.  I need to link zle in to make its symbols
available to other shared libraries.  Maybe the fix is therefore to
initialise to a dummy function in any case.

-- 
Peter Stephenson <pws@ifh.de>       Tel: +49 33762 77366
WWW:  http://www.ifh.de/~pws/       Fax: +49 33762 77413
Deutsches Elektronen-Synchrotron --- Institut fuer Hochenergiephysik Zeuthen
DESY-IfH, Platanenallee 6, 15738 Zeuthen, Germany.

