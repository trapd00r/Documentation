From zsh-workers-return-19613-mason-zsh=primenet.com.au@sunsite.dk Fri Mar 12 15:24:54 2004
Return-Path: <zsh-workers-return-19613-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17226 invoked from network); 12 Mar 2004 15:24:54 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 12 Mar 2004 15:24:54 -0000
Received: (qmail 3658 invoked by alias); 12 Mar 2004 15:24:45 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 19613
Received: (qmail 3644 invoked from network); 12 Mar 2004 15:24:44 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 12 Mar 2004 15:24:44 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [216.254.112.45] by sunsite.dk (MessageWall 1.0.8) with SMTP; 12 Mar 2004 15:24:44 -0000
Received: by acolyte.scowler.net (Postfix, from userid 1000)
	id 6EE1270037; Fri, 12 Mar 2004 10:24:43 -0500 (EST)
Date: Fri, 12 Mar 2004 10:24:43 -0500
From: Clint Adams <clint@zsh.org>
To: zsh-workers@sunsite.dk
Subject: Re: PATCH: vux/vuxctl completion
Message-ID: <20040312152443.GA32384@scowler.net>
References: <20040311213540.GA907@scowler.net> <29555.1079085603@trentino.logica.co.uk>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <29555.1079085603@trentino.logica.co.uk>
User-Agent: Mutt/1.5.5.1+cvs20040105i

> Sorry to winge about this but could we please have consistency on
> indentation across completion functions. Convention is for two spaces.

> Those actions could really do with descriptions:
>   '...:((p\:description g\:...))'
> works.

> This should really have an _wanted before it. We should never be adding
> matches without some sort of description.

Index: Completion/Unix/Command/_vux
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_vux,v
retrieving revision 1.1
diff -u -r1.1 _vux
--- Completion/Unix/Command/_vux	11 Mar 2004 21:29:49 -0000	1.1
+++ Completion/Unix/Command/_vux	12 Mar 2004 15:13:59 -0000
@@ -1,10 +1,15 @@
 #compdef vux vuxctl
 
+local expl
+
 case "$service" in
-	(vux)
+  (vux)
 
-_arguments -s -C \
-	'-x:action:(p g m w r f)' \
+  _arguments -s -C \
+	'-x:action:((play\:play\ music generate\:generate\ new\ scorelist
+	            merge\:merge\ new\ songs
+		    weed\:prune\ songs\ from\ scorelist
+		    ratings\:show\ statistics force\:force-rate))' \
 	'-s:file:_files' \
 	'-a:file:_files' \
 	'-z:file:_files' \
@@ -47,14 +52,13 @@
 	'-P[Always play new songs]' \
 	'-g[print stats in xgraph format]' \
 	'-h[Show summary of options]'
+  ;;
 
-	;;
-
-	(vuxctl)
-
-	compadd start clean double half up down next previous forward \
-		replay pause resume stop reload save history help
+  (vuxctl)
 
-	;;
+  _wanted vuxcmd expl 'vux control command' \
+      compadd start clean double half up down next previous forward \
+	      replay pause resume stop reload save history help
+  ;;
 
 esac

