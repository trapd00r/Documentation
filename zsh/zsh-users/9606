From zsh-users-return-9606-mason-zsh=primenet.com.au@sunsite.dk Wed Nov 02 06:36:29 2005
Return-Path: <zsh-users-return-9606-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 289 invoked from network); 2 Nov 2005 06:36:16 -0000
Received: from ns2.primenet.com.au (HELO primenet.com.au) (203.24.36.3)
  by ns1.primenet.com.au with (DHE-RSA-AES256-SHA encrypted) SMTP; 2 Nov 2005 06:36:16 -0000
Received: (qmail 324 invoked from network); 2 Nov 2005 03:45:56 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns2.melb.primenet.com.au with SMTP; 2 Nov 2005 03:45:56 -0000
Received: (qmail 71702 invoked from network); 2 Nov 2005 03:44:42 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 2 Nov 2005 03:44:42 -0000
Received: (qmail 27091 invoked by alias); 2 Nov 2005 03:44:35 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 9606
Received: (qmail 27050 invoked from network); 2 Nov 2005 03:44:34 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 2 Nov 2005 03:44:34 -0000
Received: (qmail 70578 invoked from network); 2 Nov 2005 03:44:34 -0000
Received: from smtp01.mrf.mail.rcn.net (207.172.4.61)
  by a.mx.sunsite.dk with SMTP; 2 Nov 2005 03:44:32 -0000
Received: from 209-6-229-49.c3-0.nwt-ubr2.sbo-nwt.ma.cable.rcn.com (HELO zion.rcn.com) ([209.6.229.49])
  by smtp01.mrf.mail.rcn.net with ESMTP; 01 Nov 2005 22:44:32 -0500
X-IronPort-AV: i="3.97,277,1125892800"; 
   d="scan'208"; a="114156143:sNHT31755668"
Received: by zion.rcn.com (Postfix, from userid 500)
	id A7EE37A8B7; Tue,  1 Nov 2005 22:44:30 -0500 (EST)
To: zsh-users@sunsite.dk
Subject: copy-prev-word doesn't respect universal argument
From: Vin Shelton <acs@alumni.princeton.edu>
Date: Tue, 01 Nov 2005 22:44:30 -0500
Message-ID: <m38xw73e8x.fsf@zion.rcn.com>
Lines: 24
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Checker-Version: SpamAssassin 3.0.4 (2005-06-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.0.4

Why don't copy-prev-word and copy-prev-shell-word respect the
universal argument?

Given the following:

  bindkey '^XA' copy-prev-word
  echo abc def ghi <ESC>2^XA

I would expect the result to be

  echo abc def ghi def

but zle seems always to copy the most recent word, ('ghi' in this
case), yielding:

  echo abc def ghi ghi

no matter what the prefix arg is.  I'm surprised I'm the first person
to request this.  Is there an alternate way to copy an arbitrary word
from earlier in the same command, or is the !#:<n> syntax sufficient
for most people?

Thanks,
  Vin

