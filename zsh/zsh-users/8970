From zsh-users-return-8970-mason-zsh=primenet.com.au@sunsite.dk Mon Jun 06 18:38:30 2005
Return-Path: <zsh-users-return-8970-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 12060 invoked from network); 6 Jun 2005 18:38:29 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 6 Jun 2005 18:38:29 -0000
Received: (qmail 28444 invoked from network); 6 Jun 2005 18:38:24 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 6 Jun 2005 18:38:24 -0000
Received: (qmail 6106 invoked by alias); 6 Jun 2005 18:38:10 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8970
Received: (qmail 6096 invoked from network); 6 Jun 2005 18:38:09 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 6 Jun 2005 18:38:09 -0000
Received: (qmail 26957 invoked from network); 6 Jun 2005 18:38:09 -0000
Received: from smtp-out-2001.amazon.com (207.171.160.37)
  by a.mx.sunsite.dk with SMTP; 6 Jun 2005 18:38:05 -0000
X-Amazon-Corporate-Relay: smtp-out-2001.iad2.amazon.com
X-AMAZON-TRACK: <zsh-users@sunsite.dk>
Received: from smtp-in-1004.vdc.amazon.com by smtp-out-2001.amazon.com with ESMTP 
          (peer crosscheck: smtp-in-1004.vdc.amazon.com)
Received: from ex-gate-02.ant.amazon.com (ex-gate-02.sea3.amazon.com [172.20.6.102])
	by smtp-in-1004.vdc.amazon.com (8.12.10/8.12.10) with ESMTP id j56Ic2q2002543
	for <zsh-users@sunsite.dk>; Mon, 6 Jun 2005 18:38:03 GMT
Received: from [10.51.142.30] ([10.51.142.30]) by ex-gate-02.ant.amazon.com with Microsoft SMTPSVC(6.0.3790.211);
	 Mon, 6 Jun 2005 11:38:02 -0700
Mime-Version: 1.0 (Apple Message framework v622)
In-Reply-To: <D28C037D-5573-4E78-BD77-37ABE5BD11A0@kalama.no-ip.org>
References: <FFF88236-D978-451E-8149-E994EFAB420F@mac.com> <D28C037D-5573-4E78-BD77-37ABE5BD11A0@kalama.no-ip.org>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <f6510408c81142e17c8fd129d1467927@mac.com>
Content-Transfer-Encoding: 7bit
From: Chris wong <chris_wong@mac.com>
Subject: Re: Avoid LDAP hit during completion
Date: Mon, 6 Jun 2005 11:38:08 -0700
To: zsh-users@sunsite.dk
X-Mailer: Apple Mail (2.622)
X-OriginalArrivalTime: 06 Jun 2005 18:38:02.0115 (UTC) FILETIME=[DEA1ED30:01C56AC6]
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=6.0 tests=BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.6

Thanks for the quick reply, Ryan.

My $fpath has the standard value pointing to 
/usr/share/zsh/site-functions /usr/share/zsh/4.1.1/functions

cd is not aliased or redefined in any way.

I should have been more clear about it.  It doesn't just happen to cd, 
it happened to ls and any other commands that trigger file/dir 
completion.  Just a few minutes ago, I noticed that it doesn't 
necessarily happen at the first time of completion.

My zsh is running on Mac OS X 10.3 and the LDAP directory service it's 
hitting is Active Directory.

Chris

--
Chris
On Jun 6, 2005, at 11:16 AM, lists wrote:

> Hi,
>     Is there anything in your $fpath that might cause this?  Is your 
> 'cd' a function or alias of your own design?  First try cd-ing after 
> issuing 'zsh -f'.  That should work.  I don't know offhand why cd 
> would make a call to LDAP as 'chown<TAB>' or 'ls -l' would.
>
> Regards,
> Ryan
>
> On Jun 6, 2005, at 12:25 PM, Chris Wong wrote:
>
>> For some reason, whenever I start a zsh shell, the first completion 
>> will trigger many many LDAP lookup.
>>
>> % cd foo<TAB>
>>
>> As soon as I hit TAB, the shell appears as frozen, but at the 
>> background, it's hitting the LDAP server of my company network.  This 
>> will go one for a couple minutes, at least.  tcpdump and top revealed 
>> that mystery to me.
>>
>> Is there any workaround for this?  I'd hate to use bash after years 
>> of using zsh.
>>
>> Thanks for any help!
>> Chris
>>
>>
>>
>

