From zsh-workers-return-11186-mason-zsh=primenet.com.au@sunsite.auc.dk Fri May 05 11:09:21 2000
Return-Path: <zsh-workers-return-11186-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5049 invoked from network); 5 May 2000 11:09:16 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 5 May 2000 11:09:16 -0000
Received: (qmail 14795 invoked by alias); 5 May 2000 11:09:05 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 11186
Received: (qmail 14784 invoked from network); 5 May 2000 11:09:05 -0000
Date: Fri, 5 May 2000 13:08:43 +0200 (MET DST)
Message-Id: <200005051108.NAA32332@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: "Andrej Borsenkow"'s message of Fri, 5 May 2000 14:01:19 +0400
Subject: PATCH: RE: nslookup (function) problem


Andrej Borsenkow wrote:

> > +  if [[ -n "$pager" && ${#${(f)line}} -gt LINES ]]; then
> > +    print -nr "$line" | "$pager"
> 
> :-)))
> 
> bor@itsrm2% export PAGER='less -c'
> bor@itsrm2% nslookup
> Default Server:  mowd017a.mow.siemens.ru
> Address:  139.24.18.1
> 
> > ?
> nslookup:37: command not found: less -c
> > 

Ok, ok... ;-)

Bye
 Sven

Index: Functions/Misc/nslookup
===================================================================
RCS file: /cvsroot/zsh/zsh/Functions/Misc/nslookup,v
retrieving revision 1.2
diff -u -r1.2 nslookup
--- Functions/Misc/nslookup	2000/05/05 08:52:41	1.2
+++ Functions/Misc/nslookup	2000/05/05 11:07:54
@@ -34,7 +34,7 @@
   zpty -r nslookup line '*
 > '
   if [[ -n "$pager" && ${#${(f)line}} -gt LINES ]]; then
-    print -nr "$line" | "$pager"
+    print -nr "$line" | eval "$pager"
   else
     print -nr "$line"
   fi

--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

