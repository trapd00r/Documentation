From zsh-workers-return-8930-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Dec 07 09:37:40 1999
Return-Path: <zsh-workers-return-8930-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 6816 invoked from network); 7 Dec 1999 09:37:39 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 7 Dec 1999 09:37:39 -0000
Received: (qmail 9634 invoked by alias); 7 Dec 1999 09:37:29 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 8930
Received: (qmail 9627 invoked from network); 7 Dec 1999 09:37:29 -0000
Date: Tue, 7 Dec 1999 10:37:27 +0100 (MET)
Message-Id: <199912070937.KAA07018@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
Subject: PATCH: two typos in _setup


I've lately changed it back to accept only one argument...

And a bit of documentation for it. I hadn't done that before since one 
doesn't have to call it anyway -- it's called from _descriptions and
one should call that.

Bye
 Sven

diff -u -r oldcompletion/Core/_setup Completion/Core/_setup
--- oldcompletion/Core/_setup	Tue Dec  7 10:23:03 1999
+++ Completion/Core/_setup	Tue Dec  7 10:23:18 1999
@@ -6,7 +6,7 @@
   if [[ "$1" = default ]]; then
     ZLS_COLORS="${(j.:.)${(@)val:gs/:/\\\:}}"
   else
-    eval "ZLS_COLORS=\"(${i})\${(j.:(${i}).)\${(@)val:gs/:/\\\:}}:\${ZLS_COLORS}\""
+    eval "ZLS_COLORS=\"(${1})\${(j.:(${1}).)\${(@)val:gs/:/\\\:}}:\${ZLS_COLORS}\""
   fi
 fi
 
diff -u olddoc/Zsh/compsys.yo Doc/Zsh/compsys.yo
--- olddoc/Zsh/compsys.yo	Tue Dec  7 10:22:41 1999
+++ Doc/Zsh/compsys.yo	Tue Dec  7 10:36:06 1999
@@ -1673,6 +1673,14 @@
 preference to the tt(format) style for the tt(descriptions) tag. The
 latter is used only if the former is unset.
 )
+item(tt(_setup))(
+This function expects a tag as its argument and sets up the special
+parameters used by the completion system appropriately for the tag,
+using styles such as tt(list-colors) and tt(last-prompt).
+
+Note that this function is called automatically from tt(_description)
+so that one normally don't have to call it explicitly.
+)
 item(tt(_tags))(
 If called with arguments, these are taken as the names of the tags for 
 the types of matches the calling completion function can generate in

--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

