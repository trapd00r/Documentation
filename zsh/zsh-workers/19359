From zsh-workers-return-19359-mason-zsh=primenet.com.au@sunsite.dk Sun Jan 11 15:06:50 2004
Return-Path: <zsh-workers-return-19359-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8471 invoked from network); 11 Jan 2004 15:06:49 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 11 Jan 2004 15:06:49 -0000
Received: (qmail 4569 invoked by alias); 11 Jan 2004 15:06:34 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 19359
Received: (qmail 4531 invoked from network); 11 Jan 2004 15:06:33 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 11 Jan 2004 15:06:32 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [62.193.203.32] by sunsite.dk (MessageWall 1.0.8) with SMTP; 11 Jan 2004 15:6:32 -0000
Received: from DervishD.pleyades.net (212.Red-80-35-44.pooles.rima-tde.net [80.35.44.212])
	by madrid10.amenworld.com (8.10.2/8.10.2) with ESMTP id i0BF6UG30717
	for <zsh-workers@sunsite.dk>; Sun, 11 Jan 2004 16:06:31 +0100
Received: from raul@pleyades.net by DervishD.pleyades.net with local (Exim MTA 2.05)
	  id <1AfhB7-0007ZT-00>; Sun, 11 Jan 2004 16:07:01 +0100
Date: Sun, 11 Jan 2004 16:07:01 +0100
From: DervishD <raul@pleyades.net>
To: Zsh Workers <zsh-workers@sunsite.dk>
Subject: About the zftp module
Message-ID: <20040111150701.GA29092@DervishD>
Mail-Followup-To: Zsh Workers <zsh-workers@sunsite.dk>
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
User-Agent: Mutt/1.4i
Organization: Pleyades
User-Agent: Mutt/1.4i <http://www.mutt.org>

    Hi all :))

    This message is directed mainly to Peter Stephenson, who is AFAIK
the author of the zftp module, but anyone interested is welcome ;)

    In zsh 4.0.9, the main problems of zsh/zftp still are there: lack
of signal handling, which makes impossible to stop a transfer, large
transfers (any transfer so long that makes the control connection
dissapear) make zftp hang (it doesn't respond when the transfer is
finished), etc... I want to make clear that some of this behaviour
can be, as always, my fault.

    My question is: are plans to solve this in future versions? In
this state, zsh/zftp is almost unusable, but OTOH is the better ftp
client I've ever used, since I can use the full power of zsh command
line handling with it. I really like it, but for me is very annoying
to have to stop transfer using 'kill -9', and things like that.

    I have a unfinished proyect (although usable, I think) of TCP and
UDP sockets, that support timeouts and nonblocking transfers, that
can be useful for zftp. It is unfinished and undocumented, but since
is a wrapper around the socket interface, it's pretty easy to use.
It's just that: an object oriented wrapper encapsulating the socket
access in an easy and simple interface, written in C and GPL'd. If
you want to take a look at it, feel free to ask. This may or may not
be a partial solution: I have read some of the code of the zftp module
and I'm not sure that my code will be suitable, but there is nothing
to loose in suggesting ;))

    As an interim solution what I do is to run zftp in a separate
interactive shell instance, so if I must kill it I don't loose my
background jobs and the like.

    Raúl Núñez de Arenas Coronado

-- 
Linux Registered User 88736
http://www.pleyades.net & http://raul.pleyades.net/

