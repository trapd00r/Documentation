From zsh-users-return-12717-mason-zsh=primenet.com.au@sunsite.dk Sat Mar 22 05:45:13 2008
Return-Path: <zsh-users-return-12717-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 7490 invoked from network); 22 Mar 2008 05:45:10 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.4 (2008-01-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.4
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 22 Mar 2008 05:45:10 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 73079 invoked from network); 22 Mar 2008 05:44:54 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 22 Mar 2008 05:44:54 -0000
Received: (qmail 25226 invoked by alias); 22 Mar 2008 05:44:41 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 12717
Received: (qmail 25208 invoked from network); 22 Mar 2008 05:44:40 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 22 Mar 2008 05:44:40 -0000
Received: from server1.nasreddine.com (server1.nasreddine.com [82.225.70.234])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 77DF282CCF47
	for <zsh-users@sunsite.dk>; Sat, 22 Mar 2008 06:44:34 +0100 (CET)
Received: from localhost (unknown [192.168.2.5])
	by server1.nasreddine.com (Postfix) with ESMTP id DE3271231DA9
	for <zsh-users@sunsite.dk>; Sat, 22 Mar 2008 05:44:31 +0000 (UTC)
X-Virus-Scanned: amavisd-new at nasreddine.info
Received: from server1.nasreddine.com ([192.168.2.5])
	by localhost (cadmus-mail.nasreddine.info [192.168.2.5]) (amavisd-new, port 10024)
	with LMTP id DvEKlINR5EYn for <zsh-users@sunsite.dk>;
	Sat, 22 Mar 2008 05:44:27 +0000 (UTC)
Received: from phoenix.nasreddine.info (phoenix.nasreddine.info [192.168.1.3])
	by server1.nasreddine.com (Postfix) with ESMTPA id F0F371231DA8
	for <zsh-users@sunsite.dk>; Sat, 22 Mar 2008 05:44:26 +0000 (UTC)
Date: Sat, 22 Mar 2008 06:44:25 +0100
From: Wael Nasreddine <mla@nasreddine.com>
To: zsh-users@sunsite.dk
Subject: Re: Just a few questions.
Message-ID: <20080322054425.GA6223@phoenix.nasreddine.info>
Mail-Followup-To: zsh-users@sunsite.dk
References: <20080320055822.GA6068@phoenix.nasreddine.info> <080321191201.ZM20586@torch.brasslantern.com>
MIME-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-sha1;
	protocol="application/pgp-signature"; boundary="PNTmBPCT7hxwcZjr"
Content-Disposition: inline
In-Reply-To: <080321191201.ZM20586@torch.brasslantern.com>
X-OS: Linux 2.6.24-tuxonice-r3 i686
X-Editor: VIM - Vi IMproved 7.1 (2007 May 12, compiled Mar  8 2008 19:37:19)
X-PGP-Key: http://wael.nasreddine.com/files/Wael_Nasreddine.asc
User-Agent: Mutt/1.5.16 (2007-06-09)
X-Virus-Scanned: ClamAV 0.91.2/6323/Sat Mar 22 05:25:16 2008 on bifrost
X-Virus-Status: Clean


--PNTmBPCT7hxwcZjr
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

This One Time, at Band Camp, Bart Schaefer <schaefer@brasslantern.com> said=
, On Fri, Mar 21, 2008 at 07:12:01PM -0700:
> On Mar 20,  6:58am, Wael Nasreddine wrote:
> }
> } I use zsh for shell, rxvt-unicode for Terminal emulator, urxvt runs
> } with TERM rxvt-unicode, GNU Screen runs with the term screen-256color,
> } now I'm not sure what's the issue, but when I login through GDM/KDM
> } the colors inside screen are all messed up

> Colors?  Or do you mean the character sets displayed?  The colors look
> OK to me, but I see that you're not getting horizontal lines in the
> prompt etc. in the second case.

> Screen is apparently not switching the terminal into the alternate
> character set mode when doing the line-drawing, but the termcap has
> line-drawing characters defined.  I don't know why this would happen
> from GDM/KDM and not from startx except that it must be some LC_* or
> LANG -related environment variable that is set differently (or not
> set at all) in one case or the other.  Try saving the output of
> "typeset -x" to a file in each case and then compare the two files.
Thank you for pointing this out, It was actually a LANG problem so I
added my LANG settings to /etc/profile and it works nicely now, Thanks
again :)

> } The second question is about a problem that has been bugging me for
> } a while now, and it doesn't just happen inside X, but whenever I am
> } inside ViM, when I type a letter, erase it and type another letter,
> } I'll get a weird char, not what I've typed

> Looks like you're unintentionally constructing unicode combining
> characters which vim isn't displaying properly ("real" width vs.
> display width conflict).  How you're getting started into combining
> characters in the first place I can't guess unless your delete or
> backspace key is sending something odd.

> Have you tried running zkbd?  It'll tell you when your backspace or
> delete are not sending ctrl-h and ctrl-?.

> Of course it's possible that vim is switching the terminal mode to
> keypad transmit or another flavor, so what you type at zkbd would not
> be representative of what vim sees, but it's worth a try.

> Have you tried gvim to see if the problem exists there as well?  If
> it does, see above about environment settings ...
The backspace is sending =7F , I attached the file generated by zkbd,
it happen=D1=95 in gvim too *-) so not a terminal problem ??

> } The third problem is zsh related ( really sorry guys for the above 2
> } questions being off topic ), anyway the problem is when I try to use
> } zsh outside rxvt-unicode the keys Home, PgUP, PgDn and End does not
> } work, in gnome-terminal instead of going to the beginning of the line,
> } I get this instead:
> } "H[2;A[0;G"

> Run zkbd and follow the instructions.  If you have trouble getting zkbd
> to work, see http://www.zsh.org/mla/workers/2008/msg00370.html=20
Thank you that actually worked perfectly... :)

--=20
Wael Nasreddine
http://wael.nasreddine.com
PGP: 1024D/C8DD18A2 06F6 1622 4BC8 4CEB D724  DE12 5565 3945 C8DD 18A2

=2E: An infinite number of monkeys typing into GNU emacs,
   would never make a good program. (L. Torvalds 1995) :.

--PNTmBPCT7hxwcZjr
Content-Type: application/pgp-signature
Content-Disposition: inline

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.7 (GNU/Linux)

iD8DBQFH5Jy5VWU5RcjdGKIRAjFCAKCWKTNJwLB14KWPMBNGRMdKAbWDngCfdBG0
A8fNzde4VGUOFPVHgvL1vQc=
=eQB6
-----END PGP SIGNATURE-----

--PNTmBPCT7hxwcZjr--

