From zsh-workers-return-14567-mason-zsh=primenet.com.au@sunsite.dk Wed May 30 11:49:18 2001
Return-Path: <zsh-workers-return-14567-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10580 invoked from network); 30 May 2001 11:49:17 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 30 May 2001 11:49:17 -0000
Received: (qmail 20739 invoked by alias); 30 May 2001 11:49:06 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 14567
Received: (qmail 20727 invoked from network); 30 May 2001 11:49:05 -0000
Sender: kiddleo
Message-ID: <3B14DE30.E1815610@u.genie.co.uk>
Date: Wed, 30 May 2001 12:49:04 +0100
From: Oliver Kiddle <opk@u.genie.co.uk>
X-Mailer: Mozilla 4.77 [en] (X11; U; Linux 2.2.15 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: zsh-workers@sunsite.dk
Subject: PATCH: _echotc, _echoti and _pine
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

This makes _echotc use ${(k)termcap}, adds _echoti and brings
_pine up-to-date with pine 4.33.

Oliver

Index: Completion/Unix/Command/_pine
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_pine,v
retrieving revision 1.2
diff -u -r1.2 _pine
--- Completion/Unix/Command/_pine	2001/04/26 14:00:45	1.2
+++ Completion/Unix/Command/_pine	2001/05/30 11:44:29
@@ -16,16 +16,19 @@
 sortorder=( {subject,arrival,date,from,size}{,/reverse} )
 lusortorder=( dont-sort {nickname,fullname}{,-with-lists-last} )
 
-opts=( -h -F -conf -create_lu -pinerc )  # exclusive options
+opts=( -h -v -F -conf -create_lu -pinerc -copy_abook -copy_pinerc)  # exclusive options
 idx=( -f -c -i -I -n -o -sort )  # options used when viewing messages
 send=( -attach -attachlist -attach_and_delete -url )  # options when sending
 
 _arguments -C -s \
-  "($opts $idx $send -bail -k -z -r -p -P *)-h[display help]" \
+  "($opts $idx $send -bail -d -k -z -r -p -P *)-h[display help]" \
+  "($opts $idx $send -bail -d -k -z -r -p -P *)-v[display version information]" \
   "($opts $idx $send -r *)-F+[specify file to open and page through]:file:_files" \
   "($opts $idx $send *)-conf[print out fresh global configuration]" \
   "($opts $idx $send *)-pinerc[put fresh pinerc configuration in file]:file:_files" \
   "($opts $idx $send *)-create_lu[create .lu from script]:addressbook file:_files:sort order:(${(j: :)lusortorder})" \
+  "($opts $idx $send *)-copy_pinerc:pinerc file:_files:remote folder" \
+  "($opts $idx $send *)-copy_abook:addressbook file:_files:remote folder" \
   "($opts $idx -url)-attach[go directly into composer with given file]:file:_files" \
   "($opts $idx -url)-attachlist[go to composer with given files]:file:_files" \
   "($opts $idx -url)-attach_and_delete[go to composer, attach file, delete when finished]:file:_files" \
@@ -37,11 +40,13 @@
   "($opts $send)-I+[specify initial keystrokes to be executed]:keystrokes" \
   "($opts $send)-n+[entry in index to begin on]:number:_guard '[0-9]#'" \
   "($opts $send)-o[open first folder read-only]" \
-  "(-F -h)-r[restricted - can only send mail to oneself]" \
+  "(-F -h -v)-r[restricted - can only send mail to oneself]" \
+  "(-h -v)-d[set debug level]:debug:(0 1 2 3 4 5 6 7 8 9 flush timestamp imap= numfiles= verbose=)" \
   "(${opts#-F})-k[force use of function keys]" \
   "(${opts#-F})-z[allow use of ^Z suspension]" \
   "(${opts#-F})-p+[use alternate .pinerc file]:alternate pinerc:_files" \
   "(${opts#-F})-P+[use alternate pine.conf file]:alternate pine.conf:_files" \
+  "(${opts#-F})-x[use configuration exceptions file]:configuration exceptions file:_files" \
   "(${opts#-F})-bail[exit if pinerc file doesn't already exist]" \
   '*::recipient:->userhost' \
   ${^_cache_pine_options}':option value' && return 0
Index: Completion/Zsh/Command/.distfiles
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Zsh/Command/.distfiles,v
retrieving revision 1.4
diff -u -r1.4 .distfiles
--- Completion/Zsh/Command/.distfiles	2001/04/12 09:24:40	1.4
+++ Completion/Zsh/Command/.distfiles	2001/05/30 11:44:29
@@ -6,5 +6,5 @@
 _cd          _enable      _print       _source      _wait        _zmodload
 _command     _fc          _prompt      _stat        _which       _zpty
 _compdef     _hash        _read        _trap        _zcompile    _zstyle
-_ttyctl      _ulimit      _vared       _alias       _jobs_builtin
+_echoti      _ttyctl      _ulimit      _vared       _alias       _jobs_builtin
 '
Index: Completion/Zsh/Command/_echotc
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Zsh/Command/_echotc,v
retrieving revision 1.1
diff -u -r1.1 _echotc
--- Completion/Zsh/Command/_echotc	2001/04/02 11:27:41	1.1
+++ Completion/Zsh/Command/_echotc	2001/05/30 11:44:29
@@ -2,6 +2,4 @@
 
 local expl
 
-_wanted arguments expl 'terminal capability' \
-    compadd al dc dl do le up al bl cd ce cl cr \
-            dc dl do ho is le ma nd nl se so up
+_wanted arguments expl 'terminal capability' compadd -k termcap
Index: Completion/Zsh/Command/_echoti
===================================================================
RCS file: _echoti
diff -N _echoti
--- /dev/null	Thu May 24 22:33:05 2001
+++ _echoti	Wed May 30 04:44:29 2001
@@ -0,0 +1,5 @@
+#compdef echoti
+
+local expl
+
+_wanted arguments expl 'terminal capability' compadd -k terminfo

