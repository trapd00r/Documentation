From zsh-workers-return-17397-mason-zsh=primenet.com.au@sunsite.dk Wed Jul 03 17:54:53 2002
Return-Path: <zsh-workers-return-17397-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 14076 invoked from network); 3 Jul 2002 17:54:52 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 3 Jul 2002 17:54:52 -0000
Received: (qmail 2509 invoked by alias); 3 Jul 2002 17:54:45 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 17397
Received: (qmail 2494 invoked from network); 3 Jul 2002 17:54:44 -0000
Date: Wed, 3 Jul 2002 13:54:42 -0400
From: Jason Price <jprice@cyberbuzz.gatech.edu>
To: zsh-workers@sunsite.dk
Subject: make install in a chroot?
Message-ID: <20020703135442.A28760@redfish.gatech.edu>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5.1i

I'm trying to build a solaris package for zsh.  The easiest way to do this
is to make a chroot, do the make install into the chroot's /usr/local/, and
then work from there.

The make install step seems to require gcc be accessable.  It does (at
least) the following:

nawk -f ./signames1.awk /usr/include/sys/iso/signal_iso.h >sigtmp.c
gcc -E sigtmp.c >sigtmp.out

I've tried to short circuit the process, and make that file while not
within the chroot, however this didn't work.

First question: why on earth isn't this built in the main 'make' step, or
if it is, why is it rebuilt in the make install step?

Second question: is there an easier way?  (aka am I being stupid?)

Thanks;
Jason

