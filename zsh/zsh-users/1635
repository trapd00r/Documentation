From zsh-workers-request@math.gatech.edu Mon Jun 22 16:13:24 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 29251 invoked from network); 22 Jun 1998 16:13:23 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 22 Jun 1998 16:13:23 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id MAA13316;
	Mon, 22 Jun 1998 12:02:40 -0400 (EDT)
Resent-Date: Mon, 22 Jun 1998 11:59:17 -0400 (EDT)
Message-ID: <19980622110036.A10529@emsphone.com>
Date: Mon, 22 Jun 1998 11:00:36 -0500
From: Dan Nelson <dnelson@emsphone.com>
To: zsh-users@math.gatech.edu
Subject: Re: zsh installation on FreeBSD-2.2.6
References: <19980622104625.A21596@math.fu-berlin.de>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 0.92.8i
In-Reply-To: <19980622104625.A21596@math.fu-berlin.de>; from "Sven Guckes" on Mon Jun 22 10:46:25 GMT 1998
X-OS: FreeBSD 2.2.6-STABLE
Resent-Message-ID: <"UzTUo1.0.xD3.KzdZr"@math>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/1635
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

In the last episode (Jun 22), Sven Guckes said:
> I just thought I'd mention it:
> 
> Installing the zsh on FreeBSD-2.2.6 doesn't get the manuals right.
> You get the (standard) manual of the zsh even with "man zshall" -
> and all the other separate manuals do not show up at all.

The problem with zshall is that the zsh port compresses the manpages,
and the .so entries in zshall.1 fail.  Try applying the following diff
to ports/shells/zsh/Makefile (which creates cat/zshall.1 before
compressing the source files).  I'll submit something similar as a PR
to the FreeBSD port people.

	-Dan Nelson
	dnelson@emsphone.com

Index: Makefile
===================================================================
RCS file: /home/ncvs/ports/shells/zsh/Makefile,v
retrieving revision 1.26
diff -b -u -r1.26 Makefile
--- Makefile	1997/09/26 08:23:14	1.26
+++ Makefile	1998/06/22 15:50:11
@@ -32,5 +32,6 @@
 	  ${SED} -ne '1,/Menu:/p' /usr/share/info/dir > ${PREFIX}/info/dir; \
 	 fi
 	@install-info ${PREFIX}/info/zsh.info ${PREFIX}/info/dir
+	@man zshall > /dev/null
 
 .include <bsd.port.mk>

