From zsh-workers-return-27172-mason-zsh=primenet.com.au@sunsite.dk Mon Jul 20 04:19:02 2009
Return-Path: <zsh-workers-return-27172-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 28226 invoked from network); 20 Jul 2009 04:18:59 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from new-brage.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.254.104)
  by ns1.primenet.com.au with SMTP; 20 Jul 2009 04:18:59 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 29048 invoked from network); 20 Jul 2009 04:18:49 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 20 Jul 2009 04:18:49 -0000
Received: (qmail 2834 invoked by alias); 20 Jul 2009 04:18:38 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 27172
Received: (qmail 2814 invoked from network); 20 Jul 2009 04:18:37 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 20 Jul 2009 04:18:37 -0000
Received: from vms173003pub.verizon.net (vms173003pub.verizon.net [206.46.173.3])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 856248027106
	for <zsh-workers@sunsite.dk>; Mon, 20 Jul 2009 06:18:34 +0200 (CEST)
Received: from torch.brasslantern.com ([96.238.220.32])
 by vms173003.mailsrvcs.net
 (Sun Java(tm) System Messaging Server 6.3-7.04 (built Sep 26 2008; 32bit))
 with ESMTPA id <0KN20093RBYMN7SK@vms173003.mailsrvcs.net> for
 zsh-workers@sunsite.dk; Sun, 19 Jul 2009 23:18:23 -0500 (CDT)
Received: from torch.brasslantern.com (localhost.localdomain [127.0.0.1])
	by torch.brasslantern.com (8.13.1/8.13.1) with ESMTP id n6K4IKbY011171	for
 <zsh-workers@sunsite.dk>; Sun, 19 Jul 2009 21:18:21 -0700
Received: (from schaefer@localhost)	by torch.brasslantern.com
 (8.13.1/8.13.1/Submit) id n6K4IKR2011170	for zsh-workers@sunsite.dk; Sun,
 19 Jul 2009 21:18:20 -0700
From: Bart Schaefer <schaefer@brasslantern.com>
Message-id: <090719211820.ZM11169@torch.brasslantern.com>
Date: Sun, 19 Jul 2009 21:18:20 -0700
In-reply-to: <20090719232041.GA5156@scru.org>
Comments: In reply to Clint Adams <schizo@debian.org>
 "Re: Bug#537596: regression: parse error near `()' in function definition"
 (Jul 19, 11:20pm)
References: <20090719171651.GA7217@piper.oerlikon.madduck.net>
	<20090719232041.GA5156@scru.org>
X-Mailer: OpenZMail Classic (0.9.2 24April2005)
To: zsh-workers@sunsite.dk
Subject: Re: Bug#537596: regression: parse error near `()' in function
 definition
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii
X-Virus-Scanned: ClamAV 0.94.2/9589/Sun Jul 19 05:14:56 2009 on bifrost
X-Virus-Status: Clean

On Jul 19, 11:20pm, Clint Adams wrote:
}
} Does this have anything to do with users/14240?

It's possible, but I can't reproduce the error.  Does he possibly also
have "ls" aliased to something so that there's more than one expansion
going on?

Note that in neither of his examples is he actually doing what he
wants to do.  In the first case (if it "worked") he'd be creating
two functions named "ls" and "-lt", and in the second example he's
creating a function named "foo" (not one named "de").
 
} On Sun, Jul 19, 2009 at 07:16:51PM +0200, martin f krafft wrote:
} > A regression introduced by this build:
} > 
} > This works (I use eval since those functions are defined in a loop[0])
} > 
} > % eval 'de() { (_de-en $*; _en-de $*) | more }'
} > % which de
} > de () {
} >   (
} >     _de-en $*
} >     _en-de $*
} >   ) | more
} > }
} > 
} > But:
} > 
} > % eval 'lt() { (_lt-en $*; _en-lt $*) | more }'
} > zsh: parse error near `()'
} > 
} > Alright, so lt is special:
} > 
} > % which lt
} > lt: aliased to ls -lt
} > 
} > But that does not prevent de from being defined:
} > 
} > % alias de=foo
} > % eval 'de() { (_de-en $*; _en-de $*) | more }'
} > % which de
} > de: aliased to foo
} > 
} > [0] http://git.madduck.net/v/etc/zsh.git?a=blob;f=.zsh/zshrc/30_aliases;h=f206c8c8bfeaf777a6f4ebef5ea4b54746376b7e;hb=HEAD#l131
}-- End of excerpt from Clint Adams


