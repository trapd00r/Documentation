From zsh-workers-return-11507-mason-zsh=primenet.com.au@sunsite.auc.dk Mon May 22 15:34:37 2000
Return-Path: <zsh-workers-return-11507-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 3880 invoked from network); 22 May 2000 15:34:36 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 22 May 2000 15:34:36 -0000
Received: (qmail 12401 invoked by alias); 22 May 2000 15:34:25 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 11507
Received: (qmail 12389 invoked from network); 22 May 2000 15:34:24 -0000
Date: Mon, 22 May 2000 16:33:55 +0100
From: Peter Stephenson <pws@cambridgesiliconradio.com>
Subject: Re: Proxy support for zftp functions
In-reply-to: "Your message of Mon, 22 May 2000 19:01:57 +0400."
 <000901bfc3fe$acab7310$21c9ca95@mow.siemens.ru>
To: zsh-workers@sunsite.auc.dk (Zsh hackers list)
Message-id: <0FUY009L8WKJGE@la-la.cambridgesiliconradio.com>
Content-transfer-encoding: 7BIT

> I'd like to add proxy support to these. Looking around, it looks, like
> it enough to add a couple of lines to zfopen - but I'm not sure, if
> there can be any side effects (e.g. we set ZFTP_HOST but open real
> connection to another host).

This was on my original plan, but not only didn't I need it myself I didn't
even have a proxy host to try on, so I never thought much about it.
I was actually imagining doing it in the C code.  But if the server is
configured suitably, you ought to get away with it.  The parameters
ZFTP_HOST, ZFTP_USER etc. are readonly, but not special, and are not
checked by the C code, only set by it, so running typeset +r then changing
the variable after the connection is open and a user logged in should be
OK.  I don't actually know how proxies work, having never used one, but if
logging into a remote server involves sending a special username to the
proxy server there shouldn't be a problem.

-- 
Peter Stephenson <pws@cambridgesiliconradio.com>
Cambridge Silicon Radio, Unit 300, Science Park, Milton Road,
Cambridge, CB4 0XL, UK                          Tel: +44 (0)1223 392070

