From zsh-users-return-7664-mason-zsh=primenet.com.au@sunsite.dk Sun Jul 04 17:15:48 2004
Return-Path: <zsh-users-return-7664-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 12053 invoked from network); 4 Jul 2004 17:15:47 -0000
Received: from odin.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.85)
  by ns1.primenet.com.au with SMTP; 4 Jul 2004 17:15:47 -0000
Received: (qmail 9424 invoked from network); 4 Jul 2004 18:29:29 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 4 Jul 2004 18:29:29 -0000
Received: (qmail 16348 invoked by alias); 4 Jul 2004 17:14:57 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 7664
Received: (qmail 16338 invoked from network); 4 Jul 2004 17:14:57 -0000
Received: from odin.dotsrc.org (HELO a.mx.sunsite.dk) (qmailr@130.225.247.85)
  by sunsite.dk with SMTP; 4 Jul 2004 17:14:57 -0000
Received: (qmail 8406 invoked from network); 4 Jul 2004 18:29:00 -0000
Received: from cmailg3.svr.pol.co.uk (195.92.195.173)
  by a.mx.sunsite.dk with SMTP; 4 Jul 2004 18:28:47 -0000
Received: from modem-2.electric-blue-damsel.dialup.pol.co.uk ([62.137.5.2] helo=pwstephenson.fsnet.co.uk)
	by cmailg3.svr.pol.co.uk with esmtp (Exim 4.14)
	id 1BhAZf-0007Gt-Ds
	for zsh-users@sunsite.dk; Sun, 04 Jul 2004 18:14:43 +0100
Received: by pwstephenson.fsnet.co.uk (Postfix, from userid 501)
	id 4BED085BC; Sun,  4 Jul 2004 13:22:47 -0400 (EDT)
Received: from pwstephenson.fsnet.co.uk (localhost [127.0.0.1])
	by pwstephenson.fsnet.co.uk (Postfix) with ESMTP id 3CF4D84BC
	for <zsh-users@sunsite.dk>; Sun,  4 Jul 2004 18:22:47 +0100 (BST)
To: zsh-users@sunsite.dk
Subject: Re: histroy file being truncated (konsole with multiple shells context) 
In-reply-to: "Samuel Krempp"'s message of "Sun, 04 Jul 2004 12:40:10 +0200."
             <1088937610.4949.41.camel@marvin.localdomain> 
Date: Sun, 04 Jul 2004 18:22:46 +0100
From: Peter Stephenson <pws@pwstephenson.fsnet.co.uk>
Message-Id: <20040704172247.4BED085BC@pwstephenson.fsnet.co.uk>
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: ***
X-Spam-Status: No, hits=3.2 required=6.0 tests=BAYES_80,RCVD_IN_SORBS 
	autolearn=no version=2.63
X-Spam-Hits: 3.2

Samuel Krempp wrote:
> Shouldn't zsh be cautious about that, and use some safe commit idiom ?

It uses a lockfile, in fact, so in principle it ought to be safe.
(Whether it's bug free in practice is another matter, of course.)  It
would be less safe if you were accessing files remotely via NFS or
[makes sign of evil eye] Samba.

-- 
Peter Stephenson <pws@pwstephenson.fsnet.co.uk>
Work: pws@csr.com
Web: http://www.pwstephenson.fsnet.co.uk

