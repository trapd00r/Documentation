From zsh-users-return-7908-mason-zsh=primenet.com.au@sunsite.dk Mon Aug 23 16:01:13 2004
Return-Path: <zsh-users-return-7908-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 364 invoked from network); 23 Aug 2004 16:01:11 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 23 Aug 2004 16:01:11 -0000
Received: (qmail 54123 invoked from network); 23 Aug 2004 16:01:05 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 23 Aug 2004 16:01:05 -0000
Received: (qmail 7520 invoked by alias); 23 Aug 2004 16:00:20 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 7908
Received: (qmail 7510 invoked from network); 23 Aug 2004 16:00:20 -0000
Received: from unknown (HELO a.mx.sunsite.dk) (130.225.247.88)
  by 130.225.247.90 with SMTP; 23 Aug 2004 16:00:20 -0000
Received: (qmail 51897 invoked from network); 23 Aug 2004 15:58:26 -0000
Received: from madrid10.amenworld.com (62.193.203.32)
  by a.mx.sunsite.dk with SMTP; 23 Aug 2004 15:58:25 -0000
Received: from DervishD.pleyades.net (212.Red-80-35-44.pooles.rima-tde.net [80.35.44.212])
	by madrid10.amenworld.com (8.10.2/8.10.2) with ESMTP id i7NFwM119579
	for <zsh-users@sunsite.dk>; Mon, 23 Aug 2004 17:58:22 +0200
Received: from disposable1@telefonica.net by DervishD.pleyades.net with local (Exim MTA 2.05)
	  id <1BzHEd-0006Jh-00>; Mon, 23 Aug 2004 17:59:51 +0200
Date: Mon, 23 Aug 2004 17:59:51 +0200
From: DervishD <disposable1@telefonica.net>
To: Zsh Users <zsh-users@sunsite.dk>
Subject: Using zle outside zsh
Message-ID: <20040823155951.GA24279@DervishD>
Mail-Followup-To: Zsh Users <zsh-users@sunsite.dk>
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
User-Agent: Mutt/1.4.2.1i
Organization: Pleyades
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, hits=-4.9 required=6.0 tests=BAYES_00 autolearn=no 
	version=2.63
X-Spam-Hits: -4.9

    Hi all :)

    First of all, I've changed my email address, although I can still
be contacted on the old address, just in case someone in the list
has it.

    That said, let's go to the matter ;)

    No, I'm not talking about getting zle out of zsh and reusing it
as a library. I asked that in the past and is very difficult, so I've
thought about other solution.

    The scenario: we have a nice program we use a lot, and it's very
well coded, indeed. It is interactive, and takes its input from stdin
and outputs to stdout/stderr, but it lacks command line editing. It
uses the old stdio to read the user input, and we would like to have
command line editing, a fancy prompt, some kind of completion, a
couple of keyboard shorcuts or macros, a way of configuring
keybindings, etc...

    A solution is to hack the program and write a nice command line
interpreter for it, or use libedit, libreadline or try to get the
functionality of zle and put in the program. But this requires time,
coding, etc. and maybe forking the project (assuming it is free
software, of course).

    What I'm thinking is: will it be difficult to use zsh as the
command line interpreter? I mean, you run the program as:

    program < fifoin > fifoout 2> fifoerr

    and you configure zsh so it takes the command line (zle, full
edition, etc.) and instead of running it, writes it to 'fifoin',
while reads 'fifoout' and 'fifoerr' and dumps them on the screen.

    I haven't though about how implementing all that, it's just an
idea that popped out a minute ago, when I needed to use a poor-man's
ftp client without command line editing because 'zftp' doesn't have a
'STAT' command (yes, I know, it has 'quote', I discovered it too
late)...

    Thanks for your attention :) If anyone has ideas about a
solution, they're welcome. Of course, I'm don't want anybody to
implement this, I'll do that, I just want to know ideas, drawbacks,
etc.

    Raúl Núñez de Arenas Coronado

-- 
Linux Registered User 88736
http://www.pleyades.net & http://raul.pleyades.net/

