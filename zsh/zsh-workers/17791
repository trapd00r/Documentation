From zsh-workers-return-17791-mason-zsh=primenet.com.au@sunsite.dk Tue Oct 08 04:58:54 2002
Return-Path: <zsh-workers-return-17791-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 26392 invoked from network); 8 Oct 2002 04:58:53 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 8 Oct 2002 04:58:53 -0000
Received: (qmail 3876 invoked by alias); 8 Oct 2002 04:58:40 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 17791
Received: (qmail 3858 invoked from network); 8 Oct 2002 04:58:38 -0000
Date: Mon, 7 Oct 2002 21:58:36 -0700
From: Danek Duvall <duvall@emufarm.org>
To: Zsh Workers <zsh-workers@sunsite.auc.dk>
Subject: completion in braces
Message-ID: <20021008045836.GA28326@aeolian.emufarm.org>
Mail-Followup-To: Danek Duvall <duvall@emufarm.org>,
	Zsh Workers <zsh-workers@sunsite.auc.dk>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.5.1i

Completion inside braces of filenames containing commas leaves the
filenames improperly escaped:

% ls
a,a  a,b  a,c  b,a  b,b  b,c
% ls -l $PWD/{			Hit tab =>
% ls -l $PWD/{a,a		Type comma/tab/tab =>
% ls -l $PWD/{a,a,a,b

And so forth.  That should probably look like

% ls -l $PWD/{a\,a		Type comma/tab/tab =>
% ls -l $PWD/{a\,a,a\,b

Is that possible?

I'm seeing this on 4.0.3 and 4.0.5, and I can reproduce it with a plain
zsh -f, followed by "autoload -U compinit; compinit -i".

Thanks,
Danek

