From zsh-users-return-4864-mason-zsh=primenet.com.au@sunsite.dk Thu Apr 25 15:23:08 2002
Return-Path: <zsh-users-return-4864-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 29574 invoked from network); 25 Apr 2002 15:23:08 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 25 Apr 2002 15:23:08 -0000
Received: (qmail 12179 invoked by alias); 25 Apr 2002 15:22:52 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4864
Received: (qmail 12165 invoked from network); 25 Apr 2002 15:22:51 -0000
X-Authentication-Warning: roman.mobil.cz: roman set sender to neuhauser@mail.cz using -f
Date: Thu, 25 Apr 2002 17:38:33 +0200
From: Roman Neuhauser <neuhauser@mail.cz>
To: Peter Stephenson <pws@csr.com>
Cc: Zsh users list <zsh-users@sunsite.dk>
Subject: Re: _normal:26: bad math expression: operator expected at `0 '
Message-ID: <20020425153833.GN82912@roman.mobil.cz>
References: <20020425150621.GM82912@roman.mobil.cz> <17559.1019746853@csr.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <17559.1019746853@csr.com>
User-Agent: Mutt/1.3.26i

> To: zsh-users@sunsite.dk (Zsh users list)
> Subject: Re: _normal:26: bad math expression: operator expected at `0 ' 
> Date: Thu, 25 Apr 2002 16:00:53 +0100
> From: Peter Stephenson <pws@csr.com>
> 
> Roman Neuhauser wrote:
> > roman@roman ~ > echo $ZSH_VERSION                                      124:0
> > 4.0.4
> >
> > So, is 4.0.4 not a stable version?
> 
> Check your $fpath to see if it's possibly picking up other versions of
> the function.

I don't think that's possible. 4.0.4 is the only version that this box
has ever seen:

roman@roman ~ > echo $fpath                                               133:0
/usr/local/share/zsh/site-functions /usr/local/share/zsh/4.0.4/functions
roman@roman ~ > for dir in $fpath; do ls $dir/_normal 2>/dev/null; done   134:0
/usr/local/share/zsh/4.0.4/functions/_normal
roman@roman ~ >                                                           135:0

> It's hard to see how this problem can occur in 4.0.4, unless there's
> some additional option we should be setting for compatibility in the
> list given by $_comp_options.  If it really is the function from 4.0.4,
> try running `emulate zsh' before starting and using the new completion
> system.  If it works after that, it would help if you send a list of
> options you've got set.

    You've nailed it down, thanks! Let me know if you need anything else.

    roman@roman ~ > setopt                                        107:0
    autocd
    nobeep
    cbases
    noclobber
    completeinword
    correct
    cshjunkiehistory
    cshjunkieloops
    extendedhistory
    histignoredups
    histnostore
    histreduceblanks
    histverify
    incappendhistory
    interactive
    interactivecomments
    nolistambiguous
    listpacked
    longlistjobs
    monitor
    octalzeroes
    pathdirs
    pushdignoredups
    shinstdin
    zle
    roman@roman ~ >                                               108:0

-- 
FreeBSD 4.4-STABLE
5:30PM up 10 days, 6:43, 14 users, load averages: 0.26, 0.17, 0.16

