From zsh-users-return-6529-mason-zsh=primenet.com.au@sunsite.dk Sun Sep 07 17:57:25 2003
Return-Path: <zsh-users-return-6529-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9209 invoked from network); 7 Sep 2003 17:57:24 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 7 Sep 2003 17:57:24 -0000
Received: (qmail 24663 invoked by alias); 7 Sep 2003 17:57:12 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 6529
Received: (qmail 24653 invoked from network); 7 Sep 2003 17:57:11 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 7 Sep 2003 17:57:11 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [192.54.253.222] by sunsite.dk (MessageWall 1.0.8) with SMTP; 7 Sep 2003 17:57:11 -0000
Received: by binome.blorf.net (Postfix, from userid 1000)
	id 51F0B30A7; Sun,  7 Sep 2003 10:57:10 -0700 (PDT)
Date: Sun, 7 Sep 2003 10:57:10 -0700
From: Wayne Davison <wayned@users.sourceforge.net>
To: Bart Schaefer <schaefer@brasslantern.com>
Cc: zsh-users@sunsite.dk
Subject: Re: ~/.zshenv or ~/.zprofile
Message-ID: <20030907175710.GA28613@binome.blorf.net>
References: <20030803221858.GA2720@puritan.pcp.ath.cx> <20030803223949.GA18476@binome.blorf.net> <1030804060015.ZM15706@candle.brasslantern.com>
Mime-Version: 1.0
Content-Type: multipart/mixed; boundary="zYM0uCDKw75PZbzx"
Content-Disposition: inline
In-Reply-To: <1030804060015.ZM15706@candle.brasslantern.com>
User-Agent: Mutt/1.5.4i


--zYM0uCDKw75PZbzx
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline

I'd like to change the StartupFiles/zshenv file so that it doesn't
recommend setting the "path".  How about something like the attached
patch?

..wayne..

--zYM0uCDKw75PZbzx
Content-Type: text/plain; charset=us-ascii
Content-Disposition: attachment; filename="zshenv.patch"

--- StartupFiles/zshenv	25 Mar 2001 23:41:02 -0000	1.2
+++ StartupFiles/zshenv	7 Sep 2003 17:54:42 -0000
@@ -1,20 +1,18 @@
 #
-# Generic .zshenv file for zsh 2.7
+# Generic .zshenv file for zsh
 #
-# .zshenv is sourced on all invocations of the
-# shell, unless the -f option is set.  It should
-# contain commands to set the command search path,
-# plus other important environment variables.
-# .zshenv should not contain commands that product
-# output or assume the shell is attached to a tty.
+# .zshenv is sourced on ALL invocations of the shell, unless the -f option is
+# set.  It should NOT contain commands to set the command search path, or other
+# important environment variables unless you really know what you're doing.
+# E.g. running "PATH=/custom/path gdb program" sources this file (when gdb runs
+# the program via $SHELL), so you don't want to override a custom environment
+# in such cases.  Note also that .zshenv should not contain commands that
+# product output or assume the shell is attached to a tty.
 #
 
 # THIS FILE IS NOT INTENDED TO BE USED AS /etc/zshenv, NOR WITHOUT EDITING
 return 0	# Remove this line after editing this file as appropriate
 
-export X11HOME=/usr/X11
-
-path=($X11HOME/bin)
-path=($path /usr/ucb /usr/bin /usr/etc)
-path=($path /usr/local/bin)
-path=($path ~ .)
+# This kludge makes sure that certain /etc/z* files can't set aliases for rm,
+# mv, etc.  Just be sure to put "unalias alias" in your own rc file(s).
+alias alias=:

--zYM0uCDKw75PZbzx--

