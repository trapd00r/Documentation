From zsh-workers-return-8532-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Nov 03 20:52:20 1999
Return-Path: <zsh-workers-return-8532-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 26753 invoked from network); 3 Nov 1999 20:52:19 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 3 Nov 1999 20:52:19 -0000
Received: (qmail 8301 invoked by alias); 3 Nov 1999 20:52:13 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 8532
Received: (qmail 8293 invoked from network); 3 Nov 1999 20:52:13 -0000
Date: Wed, 3 Nov 1999 15:52:12 -0500
From: Clint Adams <schizo@debian.org>
To: zsh-workers@sunsite.auc.dk
Subject: PATCH: completion for dpkg and dpkg-source
Message-ID: <19991103155212.B9348@dman.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
User-Agent: Mutt/1.0pre4i

A stab at basic completion for dpkg and dpkg-source.

*** Completion/Debian.old/_dpkg	Wed Dec 31 19:00:00 1969
--- Completion/Debian/_dpkg	Wed Nov  3 15:46:00 1999
***************
*** 0 ****
--- 1,42 ----
+ #compdef dpkg
+ 
+ _arguments -s '(--install)-i[install packages]:Debian package:_files -g \*.deb' \
+            '--unpack[unpack package]:Debian package:_files -g \*.deb' \
+            '(--record-avail)-A[record available]:package file:_files' \
+            '--configure:package:_deb_packages installed' \
+            '(--remove)-r[remove package]:package:_deb_packages installed' \
+            '(--purge)-P[purge package]:package:_deb_packages installed' \
+            '--get-selections[get selections]:pattern:' \
+            '--set-selections[set selections]' \
+            '--update-avail[update available]:package file:_files' \
+            '--merge-avail[merge available]:package file:_files' \
+            '--clear-avail[clear available]' \
+            '--forget-old-avail[forget uninstalled unavailable]' \
+            '(--status)-s[display package status]:packages:_deb_packages avail' \
+            '(--print-avail)-p[display available details]:packages:_deb_packages avail' \
+            '(--listfiles)-L[list owned files]:packages:_deb_packages installed' \
+            '(--list)-l[list packages]:packages:_deb_packages avail' \
+            '(--search)-S[search for file owner]:pattern:' \
+            '(--audit)-C[check for broken pkgs]' \
+            '--abort-after[abort after errors]:number of errors:' \
+            '--print-architecture[print target architecture]' \
+            '--print-gnu-build-architecture[print GNU version of target architecture]' \
+            '--print-installation-architecture[print host architecture]' \
+            '--compare-versions[compare version numbers]:expression:' \
+            '--help[show help]' \
+            '--version[show version]' \
+            '--licence[show licensing]' \
+            '--admindir=[data directory]:directory:_files -/' \
+            '--root=[alternative root]:root:_files -/' \
+            '--instdir=[change inst root but not data dir]:_files -/' \
+            '(--selected-only)-O[skip unselected packages]' \
+            '(--skip-same-version)-E[skip packages with same version as installed]' \
+            '(--refuse-downgrade)-G[skip packages with earlier version than installed]' \
+            '(--auto-deconfigure)-B[install can break other packages]' \
+            '--largemem[optimize for >4Mb RAM]' \
+            '--smallmem[optimize for <4Mb RAM]' \
+            '--no-act[show potential actions but do not follow through]' \
+            '-D+[debug options]:debug options:(h 1 2 3)' \
+            '--debug=[debug options]:debug options:(help 1 2 3)' \
+            '--ignore-depends=[ignore depends involving package]:package:_deb_packages avail' \
+            --{force,refuse,no-force}'--[forcing options]:what:(auto-select downgrade configure-any hold bad-path not-root overwrite overwrite-diverted depends-version depends confnew confold confdef confmiss conflicts architecture overwrite-dir remove-reinstreq remove-essential)'

*** Completion/Debian.old/_dpkg-source	Wed Dec 31 19:00:00 1969
--- Completion/Debian/_dpkg-source	Wed Nov  3 15:46:00 1999
***************
*** 0 ****
--- 1,27 ----
+ #compdef dpkg-source
+ 
+ _arguments '-x[specify source file]:Debian source file:_files -g \*.dsc' \
+            '-b[specify source directory]:Debian source directory:_files -/' \
+            '-c-[control file]:control file:_files' \
+            '-l-[changelog file]:changelog file:_files' \
+            '-F-[changelog format]:changelog format:' \
+            '-V-[set substitutions variable]:expression:' \
+            '-T-[alternate variable file]:varlistfile:' \
+            '-D-[override dsc field]:expression:' \
+            '-U-[remove a field]:field:' \
+            '-i-[ignore files in diff]:filter:' \
+            '-sa[autoselect orig source]' \
+            '-sk[use packaged orig source - unpack and keep]' \
+            '-sp[use packaged orig source - unpack and remove]' \
+            '-su[use unpackaged orig source - unpack and keep]' \
+            '-sr[use unpackaged orig source - unpack and remove]' \
+            '-ss[trust packed and unpacked source are the same]' \
+            '-sn[no diff, do main tarfile only]' \
+            '-sA[autoselect orig source with overwrite]' \
+            '-sK[use packaged orig source - unpack and keep with overwrite]' \
+            '-sP[use packaged orig source - unpack and remove with overwrite]' \
+            '-sU[use unpackaged orig source - unpack and keep with overwrite]' \
+            '-sR[use unpackaged orig source - unpack and remove with overwrite]' \
+            '-sp[leave original source packed in cwd]' \
+            '-su[unpack original source tree too]' \
+            '-h[help]'

