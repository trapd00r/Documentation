From zsh-workers-return-8877-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Dec 03 15:16:44 1999
Return-Path: <zsh-workers-return-8877-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24299 invoked from network); 3 Dec 1999 15:16:43 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 3 Dec 1999 15:16:43 -0000
Received: (qmail 13830 invoked by alias); 3 Dec 1999 15:16:37 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 8877
Received: (qmail 13823 invoked from network); 3 Dec 1999 15:16:35 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <991203151631.ZM18044@candle.brasslantern.com>
Date: Fri, 3 Dec 1999 15:16:31 +0000
In-Reply-To: <E11tojT-0004ji-00@crucigera.fysh.org>
Comments: In reply to Zefram <zefram@fysh.org>
        "Re: PATCH: Previous zsh.yo.in patch wasn't good enough" (Dec  3,  9:10am)
References: <E11tojT-0004ji-00@crucigera.fysh.org>
X-Mailer: Z-Mail (5.0.0 30July97)
To: zsh-workers@sunsite.auc.dk
Subject: Re: PATCH: Previous zsh.yo.in patch wasn't good enough
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Dec 3,  9:10am, Zefram wrote:
} Subject: Re: PATCH: Previous zsh.yo.in patch wasn't good enough
}
} Bart Schaefer wrote:
} >+$(sdir)/zsh.yo: $(sdir)/zsh.yo.in
} >+	sed 's,@@TEXINFO@@,texinfo\($(tzsh).info\)\($(tzsh)\),' $(sdir)/zsh.yo.in > $(sdir)/zsh.yo
} 
} Bad idea.  The source tree mustn't be modified during building;

The source tree is already modified during building; all the *.1 files go
in $(sdir)/Doc when the man pages are generated, Etc/FAQ and META-FAQ are
written to the source tree, etc.

} Isn't it possible to
} do that variable replacement in the .texi file, leaving the .yo files
} name-independent?

I'm not sure what you're asking.  The problem is that yodl generates an
empty .info file if the .yo file isn't in the source tree.

If you're asking whether we should get rid of zsh.yo.in again so that
zsh.yo is not a generated file, you'll have to ask Clint.  I'm just
cleaning up after his patches in 8827 and 8841.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

