From zsh-users-return-2412-mason-zsh=primenet.com.au@sunsite.auc.dk Sun Jun 27 13:59:05 1999
Return-Path: <zsh-users-return-2412-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 19147 invoked from network); 27 Jun 1999 13:59:02 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 27 Jun 1999 13:59:02 -0000
Received: (qmail 8056 invoked by alias); 27 Jun 1999 13:58:42 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 2412
Received: (qmail 8049 invoked from network); 27 Jun 1999 13:58:41 -0000
Message-Id: <9906271330.AA33175@ibmth.df.unipi.it>
To: Amol Deshpande <amold@microsoft.com>,
        zsh-users@sunsite.auc.dk (Zsh users list)
Subject: Re: need help with compctl for NT 
In-Reply-To: "Amol Deshpande"'s message of "Wed, 23 Jun 1999 12:23:11 DFT."
             <CDF457DA4ADAD11193E50008C724CC39043FD3AC@RED-MSG-10> 
Date: Sun, 27 Jun 1999 15:30:00 +0200
From: Peter Stephenson <pws@ibmth.df.unipi.it>

Amol Deshpande wrote:

> I came up with a completion that seems to work:
> 
>      'c[-1,stop]' -s "$(net.exe start|grep.exe -v ^T|sed.exe -ne
> 's/\([A-Z][a-zA
> -Z].*\)/"\1"/p')" \
> 
> 
> The only problem is that this completion only collects the output of "net
> start"
> on shell startup.  I would like the list to be updated every time i run "net
> stop ..."

Simply change the double quotes around the $(...) to single quotes (and
anywhere else affected by the change in quotation marks, of course).  With
the double quotes, the $(...) is getting evaluated straight away; with
single quotes it will be stored as a complete string, and expanded
separately each time.  At least, it looks that simple...

-- 
Peter Stephenson <pws@ibmth.df.unipi.it>       Tel: +39 050 844536
WWW:  http://www.ifh.de/~pws/
Dipartimento di Fisica, Via Buonarroti 2, 56127 Pisa, Italy

