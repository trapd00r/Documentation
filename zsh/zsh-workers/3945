From zsh-workers-request@math.gatech.edu Thu May 07 18:55:13 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13237 invoked from network); 7 May 1998 18:55:13 -0000
Received: from ns2.primenet.com.au (HELO primenet.com.au) (7795@203.24.36.3)
  by ns1.primenet.com.au with SMTP; 7 May 1998 18:55:13 -0000
Received: (qmail 7442 invoked from network); 7 May 1998 18:55:09 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns2.primenet.com.au with SMTP; 7 May 1998 18:55:09 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id OAA23255;
	Thu, 7 May 1998 14:45:42 -0400 (EDT)
Resent-Date: Thu, 7 May 1998 14:45:42 -0400 (EDT)
From: pacman@cqc.com
Message-ID: <19980507184554.22535.qmail@defiant.cqc.com>
Subject: Re: Oh my God! They killed completion! YOU BASTARDS!
To: zsh-workers@math.gatech.edu
Date: Thu, 7 May 1998 13:45:54 -0500 (EST)
In-Reply-To: <199805070858.JAA01558@taos.demon.co.uk> from "Andrew Main" at May 7, 98 09:58:16 am
Content-Type: text
Resent-Message-ID: <"rxePz2.0.Ih5.L5WKr"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3945
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Andrew Main wrote:
>
>pacman@cqc.com wrote:
>
>There was a policy decision made in 3.1.1 that, generally speaking, the
>clever interactive options should be enabled by default.

For new features, that might make sense. For things which are variations on
an existing feature, I'm not so sure.

>                                                          It does change
>the default behaviour, but it doesn't affect scripts (where compatibility
>really matters), and the new behaviour is usually preferred.

It broke a script in my head, which says "Left little finger pushes tab. Eyes
move to bottom of screen to find cursor". My brain-script has been working
that way since zsh 2.5 or so, and before that, it worked that way with tcsh.

>
>The Etc/NEWS file does list new options.  These options being on by
>default isn't listed, but this is a beta version, and it is listed in
>the ChangeLog.

OK, now I have a roadmap for upgrade: read that new option list and then
check their description, and turn them off if you're married to the old
behavior.

>
>>17:01 6 londo /home/pacman/src %echo $ZSH_ <--\
>>ZSH_NAME     ZSH_VERSION                      |
>>                              /---------------/
>>My cursor is sitting HERE! --/ WHAT THE HELL IS THAT?
>
>ALWAYS_LAST_PROMPT.  One of my favourite features.  It means that you
>don't waste screen space with old completion lists -- new lists visibly
>replace the old one -- and the command line doesn't jump around, so
>it's easier to keep your eyes on what you're editing.  This has been
>available since 2.5.

You make it sound so nice, but I'm really used to knowing that everything
after my prompt is part of the command I'm typing. Considering multi-line,
ZLE, there really is no clear separator between what is part of the command
line, and what is just some other stuff after it, except that you can't move
the cursor down there. Even ^R and ^L treat the completion list as if it was
part of the command line! Ugh!

>
>I'm glad to see I'm not the only person that gets this emotional about
>computer programs.

You should have seen me. I was pounding my desk and straining to keep from
screaming.

>
>But ALWAYS_LAST_PROMPT is right.  It's SO right.  So vastly right that
>having to use bash purees my brain when it puts the completion list in
>the wrong place.

That's funny, the first thing I thought when I saw it happen was "Oh no, this
must be some crazy bash feature. They're cloning bash now."

>
>"unsetopt alwayslastprompt".

What I tried was "setopt noalwayslastprompt" and it didn't seem to have an
effect. Of course now, after I complain about it, it does. I should have
saved the history from that test, because now I'll never know what was
happening. OK, I'll revise my complaint: FAQ 4.3, which lists all the
completion-related options, doesn't have alwayslastprompt.

>You'll get used to it, if you use it.  I can understand how it might be
>confusing when unexpected.
>

Quite.

More minor things I noticed while playing around:

With 3.0, there is a default compctl for setopt itself. In 3.1, it seems to
be gone. What do I have to do, pick apart the compctl example file and add
lots of stuff to /etc/zshrc, just to make 3.1 catch up with 3.0's default
completion awareness?

With automenu on, echo $ZSH_<TAB><TAB> shows ZSH_NAME with a slash after it.
Why's that?

-- 
Alan Curry

