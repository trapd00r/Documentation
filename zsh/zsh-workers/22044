From zsh-workers-return-22044-mason-zsh=primenet.com.au@sunsite.dk Mon Nov 28 01:16:16 2005
Return-Path: <zsh-workers-return-22044-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24091 invoked from network); 28 Nov 2005 01:16:14 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.0 (2005-09-13) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00,
	FORGED_RCVD_HELO autolearn=ham version=3.1.0
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 28 Nov 2005 01:16:14 -0000
Received: (qmail 42702 invoked from network); 28 Nov 2005 01:16:08 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 28 Nov 2005 01:16:08 -0000
Received: (qmail 21283 invoked by alias); 28 Nov 2005 01:16:02 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 22044
Received: (qmail 21269 invoked from network); 28 Nov 2005 01:16:01 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 28 Nov 2005 01:16:01 -0000
Received: (qmail 42051 invoked from network); 28 Nov 2005 01:16:01 -0000
Received: from vms048pub.verizon.net (206.46.252.48)
  by a.mx.sunsite.dk with SMTP; 28 Nov 2005 01:16:00 -0000
Received: from candle.brasslantern.com ([71.116.81.225])
 by vms048.mailsrvcs.net
 (Sun Java System Messaging Server 6.2-4.02 (built Sep  9 2005))
 with ESMTPA id <0IQN002XK4UMS5L7@vms048.mailsrvcs.net> for
 zsh-workers@sunsite.dk; Sun, 27 Nov 2005 19:15:59 -0600 (CST)
Received: from candle.brasslantern.com (IDENT:schaefer@localhost [127.0.0.1])
	by candle.brasslantern.com (8.12.11/8.12.11) with ESMTP id jAS1Fwqt008250	for
 <zsh-workers@sunsite.dk>; Sun, 27 Nov 2005 17:15:58 -0800
Received: (from schaefer@localhost)	by candle.brasslantern.com
 (8.12.11/8.12.11/Submit) id jAS1FvcU008249	for zsh-workers@sunsite.dk; Sun,
 27 Nov 2005 17:15:58 -0800
Date: Mon, 28 Nov 2005 01:15:57 +0000
From: Bart Schaefer <schaefer@brasslantern.com>
Subject: Re: path and += troubles
In-reply-to: <200511272039.jARKdohO003868@pwslaptop.csr.com>
To: zsh-workers@sunsite.dk
Message-id: <1051128011557.ZM8248@candle.brasslantern.com>
MIME-version: 1.0
X-Mailer: Z-Mail (5.0.0 30July97)
Content-type: text/plain; charset=us-ascii
References: <200511272039.jARKdohO003868@pwslaptop.csr.com>
Comments: In reply to Peter Stephenson <p.w.stephenson@ntlworld.com>
 "Re: path and += troubles" (Nov 27,  8:39pm)

On Nov 27,  8:39pm, Peter Stephenson wrote:
}
} > zagzig% setopt cshnullglob
} > zagzig% $1+=($2)
} > zagzig% 
} 
} The first argument is globbed separately in order to check whether its
} arguments require special expansion, via a direct call to zglob() rather
} than globlist() which is where cshnullglob is handled.
[...]
} Does applying cshnullglob to the command word and its argument list
} together make sense?

No, I don't think it does.  A glob failure in command position should,
I think, always be a failure unless NO_NOMATCH is set.  It doesn't make
sense to me to produce an empty command name without failing.  Even with
NULL_GLOB, the empty command name should produce "command not found" or
some such error.

I've just tried tcsh and it produces "no match" on any glob failure in
command position, even if the rest of the arguments are successful globs.

