From zsh-workers-request@math.gatech.edu  Sun Jul 30 00:25:15 1995
Received: from gatech.edu (gatech.edu [130.207.244.244]) by werple.mira.net.au (8.6.12/8.6.9) with SMTP id AAA29182 for <mason@werple.mira.net.au>; Sun, 30 Jul 1995 00:24:59 +1000
Received: from math (math.skiles.gatech.edu) by gatech.edu with SMTP id AA21774
  (5.65c/Gatech-10.0-IDA for <mason@werple.mira.net.au>); Sat, 29 Jul 1995 10:25:00 -0400
Received: by math (5.x/SMI-SVR4)
	id AA06326; Sat, 29 Jul 1995 10:20:51 -0400
Resent-Date: Sat, 29 Jul 1995 16:22:44 +0200 (MET DST)
Old-Return-Path: <kaefer@aglaia.snafu.DE>
Message-Id: <m0scCmr-00007BC@aglaia.snafu.DE>
Subject: COMPLETE_IN_WORD dumps core if built-in functions match
To: zsh-workers@math.gatech.edu
Date: Sat, 29 Jul 1995 16:22:44 +0200 (MET DST)
From: Thorsten Meinecke <kaefer@aglaia.snafu.de>
Organization: none. Location: Berlin, Germany
X-Mailer: ELM [version 2.4 PL23]
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-Id: <"5eADg1.0.mY1.3Fa6m"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/279
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Please consider this:

  aglaia:~/wrk/zsh/zsh-2.6-beta10/Src> gdb ./zsh   
[blurb]
  (gdb) set args -f
  (gdb) r
  Starting program: /u/home/kaefer/wrk/zsh/zsh-2.6-beta10/Src/./zsh -f
  aglaia:~/wrk/zsh/zsh-2.6-beta10/Src> setopt autolist completeinword 
  aglaia:~/wrk/zsh/zsh-2.6-beta10/Src> rt
                                        ^
[cursor position is here, and completion requested]

  Program received signal SIGSEGV, Segmentation fault.
  0x804ed39 in addmatch (s=0x8059424 "epeat", t=0x8059424 "epeat")
      at zle_tricky.c:1524
  1524                *e = '\0';
  (gdb)

The obvious way around (at least for GCC) is to recompile with
-fwritable-strings.
Can anyone more proficient in zle_tricky.c hackery comment on this?
-- 
Thorsten Meinecke
<kaefer@aglaia.snafu.de>

