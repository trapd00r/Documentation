From leakin@test490.pac.sc.ti.com Fri Jun 21 06:00:04 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by melb.werple.net.au (8.7.5/8.7.3/2) with ESMTP id GAA26102 for <mason@werple.mira.net.au>; Fri, 21 Jun 1996 06:00:02 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id PAA16077; Thu, 20 Jun 1996 15:53:30 -0400 (EDT)
Resent-Date: Thu, 20 Jun 1996 15:52:51 -0400 (EDT)
Message-Id: <199606201951.OAA20489@vogon.test.sparcs>
Reply-To: Lee.Eakin@TI.COM
To: zsh-users@math.gatech.edu
Subject: Can this be done?
Date: Thu, 20 Jun 1996 14:51:42 -0500
From: Lee Eakin <leakin@test490.pac.sc.ti.com>
Resent-Message-ID: <"rkPFm1.0.jw3.JmQon"@euclid>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/254
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu
Content-Length: 1300
Status: O

I have been using zsh for a couple of years now, and am hopelessly hooked.
One thing has always bothered me though.  I used to have a ksh function
that buried the value of $DISPLAY, $LINES, and $COLUMNS in the TERM
variable before calling rlogin or rsh.  The .profile would then strip them
back out on the other end.  I can accomplish the second part in zsh, but I
cannot figure out how to modify the TERM variable of the rsh command
without a complaint from zsh.  I have resorted to a bourne shell script to
do this, but would like to do it inside zsh if possible.

If I do this command in zsh:

TERM="$TERM%$DISPLAY" rlogin -8 otherhost

I get this error message before the login:

zsh: can't find termcap info for xterm%myhost:0.0

I correct the value successfully on the other end with this line in my
.zshenv:

[[ "$TERM" = *%* ]] && eval export $(print "$TERM"|sed \
                       's|^\(.*\)%\(.*\)$|TERM=\1 DISPLAY=\2|')

Is it possible to turn off this error message or should I continue to use
the bourne shell script to accomplish the task?

advTHANKSance,
   -Lee
--
 Lee E. Eakin, Paranet 14651 Dallas Pkwy., Suite 405 Dallas, Tx 75240 
 Email: Lee.Eakin@Paranet.COM (on loan to: Lee.Eakin@TI.COM (TI,PAC))

 ...You are in a maze of twisted little UNIX versions, all different.


