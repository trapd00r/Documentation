From zsh-workers-request@math.gatech.edu Fri Jan 16 15:08:42 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 3396 invoked from network); 16 Jan 1998 15:08:41 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 16 Jan 1998 15:08:41 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id JAA21306;
	Fri, 16 Jan 1998 09:47:00 -0500 (EST)
Resent-Date: Fri, 16 Jan 1998 09:47:00 -0500 (EST)
Message-Id: <199801161448.PAA13383@hydra.ifh.de>
To: zsh-workers@math.gatech.edu (Zsh hackers list)
Subject: Re: PATCH: zsh-3.1.2-zefram3: 12 hour clock in prompts 
In-reply-to: "Andrew Main"'s message of "Fri, 16 Jan 1998 14:27:48 MET."
             <199801161427.OAA05931@taos.demon.co.uk> 
Date: Fri, 16 Jan 1998 15:48:25 +0100
From: Peter Stephenson <pws@ifh.de>
Resent-Message-ID: <"A_pcN1.0.oC5.ZBtlq"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3722
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Andrew Main wrote:
> ztrftime() is disgusting.  I'd really like to strip it down to what POSIX
> requires date(1) to handle (and make it really POSIX conformant) -- to
> hell with existing users, it's used almost purely for prompts.  Then do
> what should have been done with strftime() from the start: add flags to
> the % sequences to specify the type of fill.  What do people think?

I don't think it's really long enough to worry about.  We can only
ended up re-implementing the whole of strftime(), which is even more
to worry about.  It would have been nice to have had fills handled properly,
but that's too late to do in any kind of compatible way.  Also, every
time something in zsh gets stripped down it's usually the bits I was
using that disappear (unless I'm doing it myself).  I use print -P
sometimes to format dates and times and it's inconvenient to find out
bits of the system's strftime() are not implemented (some date's don't
take +fmt).

-- 
Peter Stephenson <pws@ifh.de>       Tel: +39 50 911239
WWW:  http://www.ifh.de/~pws/
Gruppo Teorico, Dipartimento di Fisica
Piazza Torricelli 2, 56100 Pisa, Italy

