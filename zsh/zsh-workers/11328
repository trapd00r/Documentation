From zsh-workers-return-11328-mason-zsh=primenet.com.au@sunsite.auc.dk Thu May 11 15:47:47 2000
Return-Path: <zsh-workers-return-11328-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8355 invoked from network); 11 May 2000 15:47:45 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 11 May 2000 15:47:45 -0000
Received: (qmail 9507 invoked by alias); 11 May 2000 15:47:32 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 11328
Received: (qmail 9480 invoked from network); 11 May 2000 15:47:31 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <1000511154724.ZM28622@candle.brasslantern.com>
Date: Thu, 11 May 2000 15:47:24 +0000
In-Reply-To: <391AD206.7A5B2523@u.genie.co.uk>
Comments: In reply to Oliver Kiddle <opk@u.genie.co.uk>
        "PATCH: return command's exit code from _call" (May 11,  4:30pm)
References: <391AD206.7A5B2523@u.genie.co.uk>
X-Mailer: Z-Mail (5.0.0 30July97)
To: Zsh workers <zsh-workers@sunsite.auc.dk>
Subject: Re: PATCH: return command's exit code from _call
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On May 11,  4:30pm, Oliver Kiddle wrote:
} Subject: PATCH: return command's exit code from _call
}
} completion for groups had broken again, with ypcat dumping error
} messages over my terminal. The problem was that _call was now being used
} to call ypcat but didn't pass on its exit code.

The exit value of a function is supposed to be the exit value of the last
command that it executed.  That is, "return $?" should be unnecessary; if
$? has the right value to begin with, that's what should be returned by
default.

So if this patch really changed the behavior, then there's another bug
somewhere else (perhaps in the wordcode executor for if/else/fi?).

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

