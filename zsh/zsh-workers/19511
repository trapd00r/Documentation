From zsh-workers-return-19511-mason-zsh=primenet.com.au@sunsite.dk Mon Mar 01 13:56:54 2004
Return-Path: <zsh-workers-return-19511-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24415 invoked from network); 1 Mar 2004 13:56:53 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 1 Mar 2004 13:56:53 -0000
Received: (qmail 21371 invoked by alias); 1 Mar 2004 13:56:43 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 19511
Received: (qmail 21351 invoked from network); 1 Mar 2004 13:56:42 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 1 Mar 2004 13:56:42 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [202.214.225.228] by sunsite.dk (MessageWall 1.0.8) with SMTP; 1 Mar 2004 13:56:42 -0000
Received: from exchangejp.csr.com (unverified) by mailsweeperjp.CSR.COM
 (Content Technologies SMTPRS 4.3.1) with ESMTP id <T68150f6428c0a87901240@mailsweeperjp.CSR.COM> for <zsh-workers@sunsite.dk>;
 Mon, 1 Mar 2004 22:58:49 +0900
Received: from EXCHANGE02.csr.com ([192.168.137.45]) by exchangejp.csr.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Mon, 1 Mar 2004 13:58:12 +0000
Received: from csr.com ([192.168.144.127]) by EXCHANGE02.csr.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Mon, 1 Mar 2004 13:58:09 +0000
To: zsh-workers@sunsite.dk (Zsh hackers list)
Subject: Re: redo of 16845 
In-reply-to: "Oliver Kiddle"'s message of "Mon, 01 Mar 2004 14:29:47 +0100."
             <22853.1078147787@trentino.logica.co.uk> 
Date: Mon, 01 Mar 2004 13:56:35 +0000
Message-ID: <27795.1078149395@csr.com>
From: Peter Stephenson <pws@csr.com>
X-OriginalArrivalTime: 01 Mar 2004 13:58:09.0039 (UTC) FILETIME=[3A5561F0:01C3FF95]

Oliver Kiddle wrote:
> Peter wrote:
> > 
> > Mentioning it in the installation notes should be good enough, since
> > you can just set `link=no auto=no' in config.modules to avoid the
> > problem completely.  (Alternatively, we could set link=no in pcre.mdd.)
> > Either of these should avoid the need to remove it.
> 
> That doesn't help. configure has already decided that it needs to link
> against the pcre library because there is nothing in configure.ac which
> links the pcre setup to having the pcre module.

You're right, we probably need an explicit --enable for now.  Putting
that around the pcre checks and setting a flag to test in the .mdd
file should be good enough.

> Also, with a solution like that you suggest, people packaging for
> Linux distributions are possibly going to enable the pcre module.

That then creates a dependency of the zsh package on the pcre package.
That would be rather nasty regardless of the library availability.
There should certainly be no need to install pcre to get zsh working.

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR Ltd., Science Park, Milton Road,
Cambridge, CB4 0WH, UK                          Tel: +44 (0)1223 692070


**********************************************************************
The information transmitted is intended only for the person or
entity to which it is addressed and may contain confidential 
and/or privileged material. 
Any review, retransmission, dissemination or other use of, or
taking of any action in reliance upon, this information by 
persons or entities other than the intended recipient is 
prohibited. 
If you received this in error, please contact the sender and 
delete the material from any computer.
**********************************************************************

