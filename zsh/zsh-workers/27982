From zsh-workers-return-27982-mason-zsh=primenet.com.au@zsh.org Tue Jun 01 15:52:17 2010
Return-Path: <zsh-workers-return-27982-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 915 invoked by alias); 1 Jun 2010 15:52:17 -0000
Mailing-List: contact zsh-workers-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Workers List <zsh-workers.zsh.org>
List-Post: <mailto:zsh-workers@zsh.org>
List-Help: <mailto:zsh-workers-help@zsh.org>
Delivered-To: mailing list zsh-workers@zsh.org
X-Seq: 27982
Received: (qmail 18926 invoked from network); 1 Jun 2010 15:52:03 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.9 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.3.1
Received-SPF: none (ns1.primenet.com.au: domain at chaosdorf.de does not designate permitted sender hosts)
Date: Tue, 1 Jun 2010 17:51:55 +0200
From: Daniel Friesel <derf@chaosdorf.de>
To: zsh workers <zsh-workers@zsh.org>
Subject: [PATCH] Update feh completion for feh 1.6
Message-ID: <20100601155155.GA4687@derf.homelinux.org>
MIME-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-sha1;
	protocol="application/pgp-signature"; boundary="O5XBE6gyVG5Rl6Rj"
Content-Disposition: inline
User-Agent: Mutt/1.5.20 (2009-06-14)

--O5XBE6gyVG5Rl6Rj
Content-Type: multipart/mixed; boundary="YZ5djTAD1cGYuMQK"
Content-Disposition: inline


--YZ5djTAD1cGYuMQK
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline

Heya,

I updated the feh completion, it'd be nice if someone could commit that to the
repo.

--derf

--YZ5djTAD1cGYuMQK
Content-Type: text/x-diff; charset=us-ascii
Content-Disposition: attachment; filename="0001-Update-feh-completion-for-feh-1.6.patch"
Content-Transfer-Encoding: quoted-printable

=46rom e3d162aaf4c560a8967abb85e78b37b56f141756 Mon Sep 17 00:00:00 2001
=46rom: Daniel Friesel <derf@derf.homelinux.org>
Date: Tue, 1 Jun 2010 17:45:49 +0200
Subject: [PATCH] Update feh completion for feh 1.6

---
 Completion/Unix/Command/_feh |   85 ++++++++++++++++++++++++++++----------=
----
 1 files changed, 57 insertions(+), 28 deletions(-)

diff --git a/Completion/Unix/Command/_feh b/Completion/Unix/Command/_feh
index e8d020f..ea86925 100644
--- a/Completion/Unix/Command/_feh
+++ b/Completion/Unix/Command/_feh
@@ -1,5 +1,5 @@
 #compdef feh
-## completion for feh 1.3.4, based on feh(1)
+## completion for feh 1.6, based on feh(1)
=20
 typeset -a arguments
 typeset -A argument_pairs argument_postfix
@@ -39,15 +39,14 @@ argument_pairs=3D(
 	'thumbnails'  't'
 	'menu-font'   'M+'
 	'no-menus'    'N'
-	'next-button' '1+'
+	'reload-button' '0'
+	'pan-button'  '1+'
 	'zoom-button' '2+'
-	'pan-button'  '3+'
-	'menu-button' '4+'
-	'no-menu-ctrl-mask' '5'
-	'rotate-button' '6+'
-	'no-rotate-ctrl-mask' '7'
-	'blur-button' '8+'
-	'no-blur-ctrl-mask' '9'
+	'menu-button' '3+'
+	'prev-button' '4+'
+	'next-button' '5+'
+	'rotate-button' '8+'
+	'blur-button' '9+'
 	'ignore-aspect' 'X'
 	'stretch'     's'
 	'thumb-width' 'y+'
@@ -57,6 +56,18 @@ argument_pairs=3D(
 	'bg'          'b+'
 	'alpha'       'a+'
 	'font'        'e+'
+	'scale-down'  '.'
+	'output-dir'  'j+'
+	'wget-timestamp' 'G'
+	'fontpath'    'C+'
+	'image-bg'    'B+'
+	'output'      'o'
+	'output-only' 'O'
+	'rcfile'      '_'
+	'thumb-title' '~'
+	'title'       '^'
+	'start-at'    '|'
+	'title-font'  '@'
 )
=20
 argument_postfix=3D(
@@ -92,15 +103,14 @@ argument_postfix=3D(
 	'thumbnails'  '[Enable interactive index mode]'
 	'menu-font'   '[Set font in menus]:font: '
 	'no-menus'    "[Don't load or show any menus]"
-	'next-button' '[Button for next image]:button:_feh_button'
-	'zoom-button' '[Button to zoom image]:button:_fes_button'
-	'pan-button'  '[Ctrl+Button to pan image]:button:_feh_button'
+	'reload-button' '[Button to reload image]:button:_feh_button'
+	'pan-button'  '[Button to pan image]:button:_feh_button'
+	'zoom-button' '[Button to zoom image]:button:_feh_button'
 	'menu-button' '[Button to activate menu]:button:_feh_button'
-	'no-menu-ctrl-mask' '[Show Menu without pressing ctrl]'
+	'prev-button' '[Button to go to previous image]:button:_feh_button'
+	'next-button' '[Button to go to next image]:button:_feh_button'
 	'rotate-button' '[Ctrl+Button to rotate image]:button:_feh_button'
-	'no-rotate-ctrl-mask' '[Rotate without pressing ctrl]'
 	'blur-button' '[Ctrl+Button tu blur image]:button:_feh_button'
-	'no-blur-ctrl-mask' '[Blur without pressing ctrl]'
 	'ignore-aspect' "[montage mode: Don't preserve aspect ratio]"
 	'stretch'     '[montage mode: Enlarge images to fit thumbnail size]'
 	'thumb-width' '[montage mode: Thumbnail width]:pixels: '
@@ -111,33 +121,52 @@ argument_postfix=3D(
 	'alpha'       '[montage mode: Thumbnail transparency level]:integer: '
 	'font'        '[index mode: Thumbnail info font]:font: '
 	'slideshow-delay' '[slide change delay]:seconds'
+	'scale-down'  '[Scale down images which are too big]'
+	'output-dir'  '[Save files to DIR (with -k)]:directory:_files -/'
+	'wget-timestamp' '[Add no timestamp ("?123") to URLs]'
+	'fontpath'    '[Add paths to font path]:font path:_files -/'
+	'image-bg'    '[Set transparent image background]:background:(white black=
 default)'
+	'output'      '[montage mode: Output file]:file:_files'
+	'output-only' "[montage mode: Output file, don't display montage]:file:_f=
iles"
+	'rcfile'      '[Specify config file]:file:_files'
+	'thumb-title' '[Window title in thumbnail mode]:format string'
+	'title'       '[Window title in slideshow mode]:format string'
+	'start-at'    '[Start slideshow at]:file:_files'
+	'title-font'  '[Title font for index mode]:font'
 )
=20
 arguments=3D(
-	'--rcfile[Specify config file]:file:_files'
 	'--zoom[Zoom images]:percent: '
 	'--caption-path[Where to look for image captions]:relative directory: '
 	--action{1..9}':shell: '
 	'--bg-tile[Set tiled desktop background]:file:_files'
 	'--bg-center[Set centered desktop background]:file:_files'
 	'--bg-scale[Set scaled desktop background]:file:_files'
-	'--bg-seamless[Set scaled desktop background, preserving aspect]:file:_fi=
les'
+	'--bg-seamless[Set desktop background with seamless borders]:file:_files'
+	'--bg-fill[Set scaled desktop background, preserving aspect ratio]:file:_=
files'
 	'--menu-style[Style descriptor for menu text]:file:_files'
-	'--menu-bg[Background image in menus]: :_feh_background'
 	'--menu-border[Set menu background border]:integer: '
-	'--no-pan-ctrl-mask[Pan without pressing ctrl]'
-	'--xinerama[Toggle xinerama support]'
+	'--menu-ctrl-mask[Use Ctrl+Button to display menu]'
+	'--no-rotate-ctrl-mask[Don'\''t require Ctrl for the rotate button]'
+	'--no-blur-ctrl-mask[Don'\''t require Ctrl for the blur button]'
+	'--no-xinerama[Disable xinerama support]'
 	'--screen-clip[Toggle window clipping]'
 	'--hide-pointer[Hide mouse pointer in fullscreen mode]'
-	'-o[montage mode: Output file]:file:_files'
-	"-O[montage mode: Output file, don't display montage]:file:_files"
 	'*--fontpath[index mode: directory to search for fonts]:directory:_path_f=
iles -/'
-	'--title-font[index mode: title font]:font: '
+	'--index-name[Show image name in index/thumbnail mode]:bool:(0 1)'
+	'--index-size[Show image size in index/thumbnail mode]:bool:(0 1)'
+	'--index-dim[Show image dimensions in index/thumbnail mode]:bool:(0 1)'
+	'--no-jump-on-resort[Stay at current image after resorting the filelist]'
+	'--cycle-once[Quit after one loop through the slideshow]'
+	'--draw-actions[Draw defined actions]'
+	'--cache-thumbnails[Enable thumbnail caching]'
+	'--menu-bg[Background image in menus]: :_feh_background'
+	'--thumb-redraw[Set thumbnail image redraw frequency]:digit'
 	'*:file:_files'
 )
=20
 for arg in ${(k)argument_pairs}; {
-	arguments+=3D'(--'$arg')-'${argument_pairs[$arg]}${argument_postfix[$arg]}
+	arguments+=3D'(--'${arg}')-'${argument_pairs[$arg]}${argument_postfix[$ar=
g]}
 	arguments+=3D'(-'${argument_pairs[$arg]}[1]')--'${arg}${argument_postfix[=
$arg]}
 }
=20
@@ -147,9 +176,9 @@ function _feh_theme {
 		typeset theme IFS=3D$'\n'
 		for theme in $(grep "\w" ~/.fehrc | grep -v "^#"); do
 			tmp=3D(${(s: :)theme})
-			theme=3D$tmp[1]
+			theme=3D${tmp[1]}
 			shift tmp
-			themes+=3D$theme:${(j: :)tmp}
+			themes+=3D${theme}:${(j: :)tmp}
 		done
 		_describe 'theme' themes
 	fi
@@ -158,7 +187,7 @@ function _feh_theme {
 function _feh_button {
 	typeset expl
 	_wanted button expl button \
-	compadd 1 2 3
+	compadd {0..5}
 }
=20
 function _feh_background {
@@ -167,4 +196,4 @@ function _feh_background {
 	'mode:mode:(trans)'
 }
=20
-_arguments -s $arguments
+_arguments -s ${arguments}
--=20
1.7.1


--YZ5djTAD1cGYuMQK--

--O5XBE6gyVG5Rl6Rj
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: Digital signature
Content-Disposition: inline

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)

iEYEARECAAYFAkwFLJsACgkQjuWtMO0ss3+HxwCgnG7qCvv5G2XIEr1luA0NpbJm
oxQAn1iDuuYfl1snlua3M4zTjE96MFwb
=Fbxc
-----END PGP SIGNATURE-----

--O5XBE6gyVG5Rl6Rj--

