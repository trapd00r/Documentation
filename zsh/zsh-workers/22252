From zsh-workers-return-22252-mason-zsh=primenet.com.au@sunsite.dk Mon Feb 13 08:47:04 2006
Return-Path: <zsh-workers-return-22252-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1977 invoked from network); 13 Feb 2006 08:47:03 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.0 (2005-09-13) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00,
	FORGED_RCVD_HELO autolearn=ham version=3.1.0
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 13 Feb 2006 08:47:03 -0000
Received: (qmail 12700 invoked from network); 13 Feb 2006 08:46:56 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 13 Feb 2006 08:46:56 -0000
Received: (qmail 19148 invoked by alias); 13 Feb 2006 08:46:54 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 22252
Received: (qmail 19137 invoked from network); 13 Feb 2006 08:46:53 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 13 Feb 2006 08:46:53 -0000
Received: (qmail 12398 invoked from network); 13 Feb 2006 08:46:53 -0000
Received: from dsl3-63-249-88-2.cruzio.com (HELO dot.blorf.net) (63.249.88.2)
  by a.mx.sunsite.dk with SMTP; 13 Feb 2006 08:46:53 -0000
Received: by dot.blorf.net (Postfix, from userid 1000)
	id 9B92C9DD7; Mon, 13 Feb 2006 00:46:51 -0800 (PST)
Date: Mon, 13 Feb 2006 00:46:51 -0800
From: Wayne Davison <wayned@users.sourceforge.net>
To: Roumen Petrov <bugtrack@roumenpetrov.info>
Cc: Zsh Workers <zsh-workers@sunsite.dk>, bug-libtool@gnu.org
Subject: Re: Word splitting with zsh fix
Message-ID: <20060213084651.GC31780@dot.blorf.net>
References: <20060211122226.GD13513@DervishD> <43EF4EAA.6040507@roumenpetrov.info> <20060212184538.GA25045@dot.blorf.net> <43EFAE17.9020800@roumenpetrov.info>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <43EFAE17.9020800@roumenpetrov.info>
User-Agent: Mutt/1.5.11

On Sun, Feb 12, 2006 at 11:52:23PM +0200, Roumen Petrov wrote:
> I don't know other way to write compatible script without to set 
> SH_WORD_SPLIT for zsh.

The right way is to run the script using /bin/sh, and if that happens
to be zsh, it will automatically set SH_WORD_SPLIT when it turns on sh
emulation mode.  When run explicitly as zsh, you can turn it on manually
using something like this:

[ -n "${ZSH_VERSION+set}" ] && emulate sh

> Is word splitting on ${1+"$@"} bug in zsh ?

Yes, it is.  I'm looking into a fix.

..wayne..

