From zsh-workers-request@math.gatech.edu Thu Oct 08 19:17:23 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 7995 invoked from network); 8 Oct 1998 19:17:22 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 8 Oct 1998 19:17:22 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.9.1/8.9.1) id OAA19618;
	Thu, 8 Oct 1998 14:56:31 -0400 (EDT)
Resent-Date: Thu, 8 Oct 1998 14:56:02 -0400 (EDT)
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <981008115831.ZM20784@candle.brasslantern.com>
Date: Thu, 8 Oct 1998 11:58:31 -0700
In-Reply-To: <19981008204953.A9624@kappa.ro>
Comments: In reply to Mircea Damian <dmircea@secu.kappa.ro>
        "How to trigger the death of zsh(3.0.5)" (Oct  8,  8:49pm)
References: <19981008204953.A9624@kappa.ro>
X-Mailer: Z-Mail (4.0b.820 20aug96)
To: Mircea Damian <dmircea@secu.kappa.ro>, zsh-users@math.gatech.edu
Subject: Re: How to trigger the death of zsh(3.0.5)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Resent-Message-ID: <"Ub_wY.0.4o4.2hG7s"@math>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/1847
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

On Oct 8,  8:49pm, Mircea Damian wrote:
} Subject: How to trigger the death of zsh(3.0.5)
}
}  I posted a while ago a message about the "disappearing zsh".
}  I'm still using zsh-3.0.5(the one which comes with slackware 3.5) and I
} found a way to trigger the death of zsh:
}  I'm doing a backward-i-search(Ctrl-r) for "ls"(without quotes) and instead
} of pressing enter I'm hitting Ctrl-C(which is interrupt key for my terminal)
} the prompt for search is disappearing. Then it's enough to type "ls",
} enter and the shell is dead.

A patch for this was posted to zsh-workers some while ago.  You can find
the article at:

	http://www.zsh.org/cgi-bin/mla/workers/bynum/4172

There's a related thread that explains what's going on, which you can find
by looking at:

	http://www.zsh.org/cgi-bin/mla/workers/bynum/4095

but you want the patch from 4172, not 4095.  It should apply OK to 3.0.5
even though the subject says 3.1.4.  (The above URLs are to HTML-ified
messages; you probably want to hit <http://www.zsh.org/mla/zsh-workers/>
and pick up the appropriate gzip'd tar file for patching.)

} 2)
} Another question: Is there any way to bind the keys the way they are in
} bash for "insert-last-word"? I'm trying to convince some other people to
} move to zsh but it seems that this is a big impediment for them.

That function is bound by default to ESC . and ESC _ in zsh.  Rebinding to
the bash equivalent is as easy as:

	bindkey '\C\My' insert-last-word

} 3)
} Why zsh is not able to run the script which comes with linux kernel
} scripts/patch-kernel? It seems that it is not passing the PATH enviroment

That's not very likely to be the problem.  More likely is that patch-kernel
is a bash script, and you're being bitten by something like SH_WORD_SPLIT
behavior.  You need to tell zsh to emulate sh when reading /bin/sh scripts.

} with a command like:
} 
} . scripts/patch-kernel

Ooo, ick.  Don't do that.  Script files are rarely intended to be read into
an interactive shell that way.  (Not never, but rarely, and surely not in
that particular case.)

} zsh scripts/patch-kernel

Try (from your login zsh):

	ARGV0=sh zsh scripts/patch-kernel

or just run patch-kernel with "sh" as was intended.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

