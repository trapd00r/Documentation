From zsh-users-return-5924-mason-zsh=primenet.com.au@sunsite.dk Mon Feb 17 09:19:11 2003
Return-Path: <zsh-users-return-5924-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2931 invoked from network); 17 Feb 2003 09:19:10 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 17 Feb 2003 09:19:10 -0000
Received: (qmail 7245 invoked by alias); 17 Feb 2003 09:18:38 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 5924
Received: (qmail 7237 invoked from network); 17 Feb 2003 09:18:37 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 17 Feb 2003 09:18:37 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [195.197.252.71] by sunsite.dk (MessageWall 1.0.8) with SMTP; 17 Feb 2003 9:18:37 -0000
Received: from azure by lynx.ionific.com with local (Exim 3.35 #1 (Debian))
	id 18khQ6-00035r-00; Mon, 17 Feb 2003 11:18:38 +0200
To: Oliver Kiddle <okiddle@yahoo.co.uk>
Cc: zsh-users@sunsite.dk
Subject: Re: Remote scp completion that can handle spaces etc. in pathnames
Mail-copies-to: nobody
From: Hannu Koivisto <azure@iki.fi>
Date: Mon, 17 Feb 2003 11:18:38 +0200
In-Reply-To: <1815.1045152769@finches.logica.co.uk> (Oliver Kiddle's message
 of "Thu, 13 Feb 2003 17:12:49 +0100")
Message-ID: <87smunnu35.fsf@lynx.ionific.com>
User-Agent: Gnus/5.090014 (Oort Gnus v0.14) Emacs/21.2
 (i386-debian-linux-gnu)
References: <87d6lwqper.fsf@lynx.ionific.com>
	<29391.1045147304@finches.logica.co.uk>
	<87heb8p6e1.fsf@lynx.ionific.com>
	<1815.1045152769@finches.logica.co.uk>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Sender: Hannu Koivisto <Hannu.Koivisto@ionific.com>

Oliver Kiddle <okiddle@yahoo.co.uk> writes:

> The completion for ssh uses ls -F on the remote machine to get the files
> and then takes trailing *, =, |, / and @ characters to be the characters

Ah, so it does indeed.  I wonder if listing could be done in some
other, more robust way.  The availability of programs on the remote
machine obviously limits the possible ways...  Perhaps find could
be used?

> added by ls -F to indicate the type of the file. I don't tend to have
> file names ending in those characters and find it useful that it does
> this. The ssh completion should perhaps honour the list_types style but

I don't usually have file names ending in those characters either
(someone else whose files I need to copy might have, though) and
one of the reasons I use zsh is that in general it handles even the
corner cases well unlike so many other programs.  Programmers who
think "oh well, no one should put spaces to filenames anyway" and
do not handle the filenames allowed by the relevant standards are
the cause to problems like Y2k.  Of course, in this case zsh is at
the mercy of programs that make it hard to be robust, so it is
understandable if it cannot be done (I guess it would be nice if it
was documented somewhere, however).

-- 
Hannu

