From zsh-users-return-14339-mason-zsh=primenet.com.au@sunsite.dk Thu Sep 03 14:50:06 2009
Return-Path: <zsh-users-return-14339-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 29063 invoked from network); 3 Sep 2009 14:50:03 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from new-brage.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.254.104)
  by ns1.primenet.com.au with SMTP; 3 Sep 2009 14:50:03 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 30444 invoked from network); 3 Sep 2009 14:49:49 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 3 Sep 2009 14:49:49 -0000
Received: (qmail 5589 invoked by alias); 3 Sep 2009 14:49:31 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 14339
Received: (qmail 5571 invoked from network); 3 Sep 2009 14:49:31 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 3 Sep 2009 14:49:31 -0000
Received: from mail-fx0-f214.google.com (mail-fx0-f214.google.com [209.85.220.214])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 5A157801E281
	for <zsh-users@sunsite.dk>; Thu,  3 Sep 2009 16:49:24 +0200 (CEST)
Received: by fxm10 with SMTP id 10so1594601fxm.45
        for <zsh-users@sunsite.dk>; Thu, 03 Sep 2009 07:49:24 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:cc:content-type;
        bh=RKb1du/MZyNJtmO4OTID21bHkpdAhSQ5n+KcOQUjuHg=;
        b=sZN0qWyzEAWH72TQI3CRonbMa7C/ZNI77pZEicWeFpzRznQx7/B+HJOKqz9z2PiV0u
         oTWwPVdweJZCTzQVZCRFSYv0os7qt4ZB09XWJPvUj1nYrkdyFFpkTy3tunQyOKNvffMY
         c18RZK+WdOnKtI0PcoJktfHm4WgbOp7wk2msg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type;
        b=LAEEeWagctPt9t6VXs3Lai3H2nDl9hxcspj1JY/QX/KTYxwxQMS5TiWD7FB8QAzJIn
         4VMQdgQ0ZrUq5XHQYQ9jbBpuSLbOo/FVf1tUAkRi0vq06Gnhv7Om2XwDGArFWiQOFX2+
         V9cvIvanXOsChZ4xXLDdHu+sepSslleR4qBD0=
MIME-Version: 1.0
Received: by 10.204.15.152 with SMTP id k24mr7935791bka.83.1251989364282; Thu, 
	03 Sep 2009 07:49:24 -0700 (PDT)
In-Reply-To: <m3skf4qeii.fsf@klanderman.net>
References: <6a42eec70909021254p62849de5r2c53d7f29fec3f07@mail.gmail.com>
	 <237967ef0909021324m6e4b06cbw5bd9c3ae82f35568@mail.gmail.com>
	 <m3skf4qeii.fsf@klanderman.net>
Date: Thu, 3 Sep 2009 16:49:24 +0200
Message-ID: <237967ef0909030749i1d4e3304rae5ee8d9b274df63@mail.gmail.com>
Subject: Re: Better way to execute commands from history?
From: Mikael Magnusson <mikachu@gmail.com>
To: gak@klanderman.net
Cc: zsh-users@sunsite.dk
Content-Type: text/plain; charset=UTF-8
X-Virus-Scanned: ClamAV 0.94.2/9773/Thu Sep  3 09:38:27 2009 on bifrost
X-Virus-Status: Clean

2009/9/3 Greg Klanderman <gak@klanderman.net>:
>
>>>>>> On September 2, 2009 Mikael Magnusson <mikachu@gmail.com> wrote:
>
>> If you rebind ^R (and ^[^R) to history-incremental-pattern-search-forward
>> (the default is without the "pattern-"), you can press ^R and type cd*link
>> to get the same result, but you can iterate backwards as usual too.
>
> Nice.. anyone know how hard it would be to make a regex variant?

These widgets are implemented in the C code, not as shell code, so it would
take at least some work. Maybe not that much, it looks like (and I'm
half talking
out of my ass here) the doisearch() function already takes a 'pattern'
argument that
could be extended to be an enum instead of on/off, and have it use
regcomp/regexec
instead of the builtin patcompile() function family. (I'm not
volunteering to do this).

-- 
Mikael Magnusson

