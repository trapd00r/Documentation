From zsh-workers-request@math.gatech.edu Tue Jun 23 20:21:40 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 15609 invoked from network); 23 Jun 1998 20:21:38 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 23 Jun 1998 20:21:38 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id QAA29516;
	Tue, 23 Jun 1998 16:14:24 -0400 (EDT)
Resent-Date: Tue, 23 Jun 1998 15:37:42 -0400 (EDT)
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <980623123820.ZM758@candle.brasslantern.com>
Date: Tue, 23 Jun 1998 12:38:19 -0700
In-Reply-To: =?iso-8859-1?Q?=3C358FC264=2E1C7A9EFA=40bigfoot=2Ecom=3E?=
 =?iso-8859-1?Q?Comments=3A_In_reply_to_=22Johan_Sundstr=F6m=22_=3Cjohan_s?=
 =?iso-8859-1?Q?undstrom=40bigfoot=2Ecom=3E?=
 =?iso-8859-1?Q?________=22Compctl_completion_tweaking=22_=28Jun_23=2C__4?=
 =?iso-8859-1?Q?=3A57pm=29?=
References: <358FC264.1C7A9EFA@bigfoot.com>
X-Mailer: Z-Mail (4.0b.820 20aug96)
To: johan_sundstrom@bigfoot.com, zsh mailinglist <zsh-users@math.gatech.edu>
Subject: Re: Compctl completion tweaking
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by math.gatech.edu id PAA28603
Resent-Message-ID: <"YzHiY2.0.6_6.6G0ar"@math>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/1646
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

On Jun 23,  4:57pm, Johan Sundström wrote:
} Subject: Compctl completion tweaking
}
} I've been trying for some time to limit completion behaviour for some
} commands in an intelligent manner. What I am trying to do is mask out
} files not matching a given pattern, keeping directories intact

In 3.1.4, what you'd want (I think) is

	compctl -g '*.rpm(.)' -/ rpm

The -/ flag is new and means "filesystem paths".  You may not even need
the (.) in the -g pattern, unless you have some files with .rpm extensions
that aren't plain files.

} better still, matching files according to some pattern and directories
} according to some other pattern. Shouldn't that be possible using
} something like -g '(*.rpm(.))|(*(-/))'?

Unfortunately, qualifiers can only be appended at the end of an entire
glob.  If you parenthesize them in an alternation like that, they're
taken as part of the pattern rather than as qualifiers.

} Secondly, is there any way I can influence the sorting compctl does?

Not at present.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

