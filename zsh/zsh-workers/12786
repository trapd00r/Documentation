From zsh-workers-return-12786-mason-zsh=primenet.com.au@sunsite.auc.dk Sat Sep 09 20:14:35 2000
Return-Path: <zsh-workers-return-12786-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 15875 invoked from network); 9 Sep 2000 20:14:34 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 9 Sep 2000 20:14:34 -0000
Received: (qmail 27903 invoked by alias); 9 Sep 2000 20:14:22 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 12786
Received: (qmail 27896 invoked from network); 9 Sep 2000 20:14:21 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <1000909201415.ZM3901@candle.brasslantern.com>
Date: Sat, 9 Sep 2000 20:14:15 +0000
X-Mailer: Z-Mail (5.0.0 30July97)
To: zsh-workers@sunsite.auc.dk
Subject: ZLE and handling of MARK
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

If one sets the mark in zle and then delete characters to the left of it
by assigning to a slice of $BUFFER in a user-defined widget, the mark
remains in the same numeric position rather than the same logical position.

If instead one deletes characters by using the builtin widgets, the mark
stays in the same logical position (its numeric position changes as the
line gets shorter).  The two cases should be consistent, no?

One other observation:

If one sets the mark and then moves around in the history, the mark stays
at the same numeric position in each recalled line, moving only if a line
is too short for it to stay in that position AND some reference to the mark
is made (such as invoking exchange-point-and-mark).  I'm not sure whether
such behavior makes sense or not ... and if it changes, some functions in
Functions/Zle will have to change, too.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

