From zsh-users-return-8680-mason-zsh=primenet.com.au@sunsite.dk Fri Apr 15 01:47:13 2005
Return-Path: <zsh-users-return-8680-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4399 invoked from network); 15 Apr 2005 01:47:12 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 15 Apr 2005 01:47:12 -0000
Received: (qmail 43493 invoked from network); 15 Apr 2005 01:47:04 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 15 Apr 2005 01:47:04 -0000
Received: (qmail 16667 invoked by alias); 15 Apr 2005 01:46:57 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8680
Received: (qmail 16655 invoked from network); 15 Apr 2005 01:46:56 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 15 Apr 2005 01:46:56 -0000
Received: (qmail 42451 invoked from network); 15 Apr 2005 01:46:56 -0000
Received: from smtp1.poczta.interia.pl (HELO smtp.poczta.interia.pl) (217.74.65.44)
  by a.mx.sunsite.dk with SMTP; 15 Apr 2005 01:46:51 -0000
Received: by smtp.poczta.interia.pl (INTERIA.PL, from userid 502)
	id 6DD61D0292; Fri, 15 Apr 2005 03:46:51 +0200 (CEST)
Received: from poczta.interia.pl (mi04.poczta.interia.pl [10.217.12.4])
	by smtp.poczta.interia.pl (INTERIA.PL) with ESMTP id 11A03D0260
	for <zsh-users@sunsite.dk>; Fri, 15 Apr 2005 03:46:51 +0200 (CEST)
Received: by poczta.interia.pl (INTERIA.PL, from userid 502)
	id 8BF1E142B1C; Fri, 15 Apr 2005 03:46:49 +0200 (CEST)
Received: from localhost.localdomain (ajm186.internetdsl.tpnet.pl [83.16.246.186])
	by poczta.interia.pl (INTERIA.PL) with ESMTP id C938E142B1A
	for <zsh-users@sunsite.dk>; Fri, 15 Apr 2005 03:46:44 +0200 (CEST)
Received: from Mutt by mutt-smtp-wrapper.pl 1.2  (www.zdo.com/articles/mutt-smtp-wrapper.shtml)
Date: Fri, 15 Apr 2005 03:46:35 +0200
From: Mariusz Gniazdowski <cellsan@interia.pl>
To: zsh-users@sunsite.dk
Subject: Optimal use of zparseopts
Message-ID: <20050415014635.GA7437@globtel.pl>
Reply-To: Mariusz Gniazdowski <cellsan@interia.pl>
Mail-Followup-To: zsh-users@sunsite.dk
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-2
Content-Disposition: inline
User-Agent: Mutt/1.5.8i
X-EMID: ea1fe26c
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.3 required=6.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.3

Hi.
I'm trying to use zparseopts but it can be done in many ways.
Which is the most optimal? I mean:

- zparseopts can put options into arrays, like ( -l -h -t )

	How to best test if some value is in array?


- It can put values into arrays too

	How to reach it? Find key, then take [keyidx+1] ?


- It can put values into associative arrays

	How to test if option without argument has ben given? Something
	like:
		isset($hash[-h])

	I tried to use -K option, but it's like not working:

fun() { 
	typeset -A Args
	Args=(-sl 0 -si 0 -sm 0 -ss x)
	echo ${(kvqq)Args}
	zparseopts -K -D -E -A Args sl si sm ss sd
	echo ${(kvqq)Args}
}
$ fun -si a 
'-si' '0' '-sl' '0' '-sm' '0' '-ss' 'x' 
'-si' ''	


- How to handle the same option given many times?

	Like:
		fun -s abab -s ab -s x

-- 
Mariusz Gniazdowski

--------------------------------------------------------------------
Nie dzwon do Londynu...
zanim nie sprawdzisz HALO.interia.pl
Tutaj: http://link.interia.pl/f1870

