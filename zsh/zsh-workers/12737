From zsh-workers-return-12737-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Sep 04 14:07:53 2000
Return-Path: <zsh-workers-return-12737-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4865 invoked from network); 4 Sep 2000 14:07:51 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 4 Sep 2000 14:07:51 -0000
Received: (qmail 6361 invoked by alias); 4 Sep 2000 14:07:38 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 12737
Received: (qmail 6354 invoked from network); 4 Sep 2000 14:07:38 -0000
Date: Mon, 04 Sep 2000 15:07:10 +0100
From: Peter Stephenson <pws@csr.com>
Subject: 3.1.9-dev-6
To: zsh-workers@sunsite.auc.dk (Zsh hackers list)
Message-id: <0G0D00F738JX97@la-la.cambridgesiliconradio.com>
Content-transfer-encoding: 7BIT

[I sent this but it seems to have got lost.]

I have uploaded
  ftp://ftp.zsh.org/zsh/development/zsh-3.1.9-dev-6.tar.gz

Changes all seem to be fairly minor (which is why I haven't uploaded
anything before).

As things stand, the only thing I am at all likely to have a go at myself
before 4.0 is integrating the module system, unless somebody gets there
first.  I have a few ideas about doing this: something to go in configure,
and something to go in the source code module system will be necessary, and
maybe some extra installation hooks (though they may be OK already).  It
would probably be something like this: configure generates a file with
lists of modules (probably based on the .mdd files, which may therefore get
extended), functions and eventually (this won't happen without some extra
stuff in the documentation system) manual/info entries.  Unlike the present
system, this will completely describe all modules, so you can turn on and
off compilation and installation just by changing an entry --- e.g. if you
decide to add zftp to a system without dynamic loading, you just change
`no' to `yes' and the functions get installed, too.  This file is read by
everything which has to do with modules, and can be updated by hand
(probably configure therefore shouldn't modify an existing one).

One of the .mdd additions would probably be a variable indicating whether
to compile by default; currently, if you have dynamic loading, everything
automatically gets compiled, which will be less and less useful as we get
more and more specialised modules (I have a module which talks to our
Bluetooth chip, which isn't a lot of use for most people).

It would be good to compile a wishlist; I haven't got as far as writing
anything specific down.

Here are the changes this time.

2000-09-04  Peter Stephenson  <pws@csr.com>

	* Config/version.mk: 3.1.9-dev-6

2000-09-04  Bart Schaefer  <schaefer@zsh.org>

	* 12733: Functions/Misc/colors: Restore `grey' and other
	accidentally-misplaced elements in the `fg*' and `bg*' arrays.

	* 12732: Src/params.c: Suppress base# prefix when base is 10 even
	if the [##base] format of 12722 was not used.

2000-09-03  Clint Adams  <schizo@debian.org>

	* 12728: Completion/User/_man: complete _files instead of
	manpages if -l or --local-file is present on the commandline.

2000-09-03  Bart Schaefer  <schaefer@zsh.org>

	* 12726,12727: Functions/Misc/zrecompile: Handle pass-through of
	all zcompile options.

2000-09-02  Bart Schaefer  <schaefer@zsh.org>

	* 12725: Util/helpfiles: Recognize more end-of-page patterns, and
	find the end of the builtins section correctly.

	* 12723: Util/reporter: Modernize variables and options handling;
	add zstyle to output.

2000-09-02  Andrew Main  <zefram@zsh.org>

	* 12722: Doc/Zsh/arith.yo, Src/math.c, Src/params.c: Allow
	[##base] as well as [#base]; the doubled # suppresses output
	of a base prefix.  Also clean up parsing of [] base-selection
	constructs.

2000-09-01  Bart Schaefer  <schaefer@zsh.org>

	* 12721: Functions/Misc/allopt: Remove "emulate" which changes the
	output of the function; other minor cleanup.

2000-08-30  Clint Adams  <schizo@debian.org>

	* 12720: Completion/Debian/_dpkg: change two instances of
	_files to _path_files to avoid completion of all-files.

2000-08-29  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 12719: Doc/Zsh/mod_zle.yo, Src/utils.c, Src/Zle/zle_main.c:
	handle quoting of separators in arrays when there might also be
	real backslashes around.

2000-08-29  Sven Wischnowsky  <wischnow@zsh.org>

	* 12717: Src/Zle/zle_tricky.c: fix for unbalanced calls to
 	{push,pop}heap in docomplete()/get_comp_string()
	
2000-08-28  Bart Schaefer  <schaefer@zsh.org>

	* 12716: Doc/Zsh/builtins.yo, Doc/Zsh/compctl.yo,
	Doc/Zsh/compsys.yo, Doc/Zsh/expn.yo, Doc/Zsh/grammar.yo,
	Doc/Zsh/mod_zutil.yo, Doc/Zsh/params.yo: Documentation and index
	entries for the REPLY and reply parameters, plus index entries for
	a couple of paramters used by the completion system.

2000-08-28  Sven Wischnowsky  <wischnow@zsh.org>

	* 12710: Src/exec.c: fix for `function' without names
	
2000-08-27  Oliver Kiddle  <opk@zsh.org>

	* 12708: Completion/AIX/_logical_volumes: new AIX completion function

2000-08-23  Sven Wischnowsky  <wischnow@zsh.org>

	* 12692: Alexandre: 12691; 12692: Completion/User/_gv,
	Completion/User/_pdf, Completion/User/_ps, Completion/User/_pspdf:
 	complete compressed files for gv; improve results from _pspdf
	
2000-08-21  Sven Wischnowsky  <wischnow@zsh.org>

	* 12682: Completion/Builtins/_zmodload: use return value
	
2000-08-18  Oliver Kiddle  <opk@zsh.org>

	* 12677: Completion/Builtins/_zmodload: use _arguments in _zmodload

2000-08-16  Peter Stephenson  <pws@csr.com>

	* unposted: Src/.distfiles: forgot this yet again.

	* pws/Andrej: 12594, 12661: Src/zsh.rc, Src/zsh.ico, Src/Makefile.in,
	configure.in: basic support for Windows resources including icon,
	will be built in for cygwin.

	* Andrej: 12658: .cvsignore, Src/.cvsignore: cscope ignorance.

2000-08-16  Sven Wischnowsky  <wischnow@zsh.org>

	* 12654: Doc/Zsh/mod_parameter.yo, Src/Modules/parameter.c: make
 	$modules report aliases correctly
	
	* unposted: Completion/Builtins/_pids: remove unnecessary local parameter

2000-08-15  Peter Stephenson  <pws@csr.com>

	* 12650: Completion/Builtins/_zmodload: don't lists aliases if
	there aren't any.

2000-08-15  Bart Schaefer  <schaefer@zsh.org>

	* 12652: Src/module.c: Fix variable scoping problem that caused
	crash in `zmodload -u'.

2000-08-15  Sven Wischnowsky  <wischnow@zsh.org>

	* 12640: Completion/Builtins/_pids, Completion/Builtins/_zstyle,
 	Doc/Zsh/compsys.yo: call ps only once and be more intelligent when
 	finding the PIDs
	
	* 12635: Completion/Builtins/_pids: small improvement to allow
 	lists where the pid is not in the first column
	
2000-08-14  Bart Schaefer  <schaefer@zsh.org>

	* Andrej: 12623: configure.in, Src/mkmakemod.sh, Src/zsh.h:  Fix
	dynamic linking on cygwin, again.
	
	* 12621: Src/Zle/zle_main.c: Use ztrdup() on a string that will
	later be freed; this appears to have been a bug ever since 9839.

	* Andrej: 12620: configure.in, Src/system.h: Fix cache variable
	test for mmap, remove cygwin special-case.

	* 12617: configure.in: Use AC_FUNC_MMAP rather than just test for
	existence of mmap.

	* Andrej: 12614: Test/53completion.ztst, Test/54compmatch.ztst,
	Test/55arguments.ztst: Add %clean sections to unload zpty module.

	* Andrej: 12614: Completion/Builtins/_zmodload: Add DLL to suffix
	list, for benefit of cygwin.

2000-08-14  Sven Wischnowsky  <wischnow@zsh.org>

	* Andrej: 12613: Src/lex.c: missing mod_export
	
	* 12610: Src/Zle/computil.c: make all builtins in computil test if
 	they were called from a completion function
	
2000-08-13  Bart Schaefer  <schaefer@zsh.org>

	* 12604: Src/compat.c, Src/system.h, Src/Modules/files.c,
	Src/Modules/parameter.c: Remove calls to zpathmax(); fix some
	serious errors in zpathmax() but wrap it in #if 0 anyway; minor
	fixes to comments and coding style for zopenmax().

	* 12601: aczsh.m4, configure.in: configure --enable-cflags and the
	like, i.e., with no =... part, should preserve the environment
	values for CFLAGS etc. rather than erase them.

2000-08-11  Peter Stephenson  <pws@csr.com>

	* 12598: INSTALL, aczsh.m4, configure.in: --enable-cppflags=...,
	--enable-cflags=..., --enable-ldflags=..., --enable-libs=...

2000-08-11  Bart Schaefer  <schaefer@zsh.org>

	* 12596: INSTALL: Update for module aliasing changes.

2000-08-11  Sven Wischnowsky  <wischnow@zsh.org>

	* 12592: Completion/Core/_parameters, Src/Zle/compcore.c,
 	Src/Zle/zle_tricky.c: fixes for completion in math contexts: don't
 	quote spaces and do normal parameter expansion completion after `$'

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
Cambridge Silicon Radio, Unit 300, Science Park, Milton Road,
Cambridge, CB4 0XL, UK                          Tel: +44 (0)1223 392070

