From zsh-workers-return-20366-mason-zsh=primenet.com.au@sunsite.dk Mon Sep 13 17:52:26 2004
Return-Path: <zsh-workers-return-20366-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 29883 invoked from network); 13 Sep 2004 17:52:25 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 13 Sep 2004 17:52:25 -0000
Received: (qmail 25669 invoked from network); 13 Sep 2004 17:52:18 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 13 Sep 2004 17:52:18 -0000
Received: (qmail 10351 invoked by alias); 13 Sep 2004 17:52:06 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 20366
Received: (qmail 10340 invoked from network); 13 Sep 2004 17:52:05 -0000
Received: from unknown (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 13 Sep 2004 17:52:05 -0000
Received: (qmail 24924 invoked from network); 13 Sep 2004 17:51:08 -0000
Received: from moonbase.zanshin.com (64.84.47.139)
  by a.mx.sunsite.dk with SMTP; 13 Sep 2004 17:51:05 -0000
Received: from toltec.zanshin.com (toltec.zanshin.com [64.84.47.166])
	by moonbase.zanshin.com (8.13.1/8.13.1) with ESMTP id i8DHp4Z7024252
	for <zsh-workers@sunsite.dk>; Mon, 13 Sep 2004 10:51:04 -0700
Date: Mon, 13 Sep 2004 10:51:03 -0700 (PDT)
From: Bart Schaefer <schaefer@brasslantern.com>
Reply-To: zsh-workers@sunsite.dk
To: Zsh hackers list <zsh-workers@sunsite.dk>
Subject: Re: PATCH: exit after 10 EOF's
In-Reply-To: <200409131118.i8DBIM5B005245@news01.csr.com>
Message-ID: <Pine.LNX.4.61.0409131047340.10799@toltec.zanshin.com>
References: <200409131118.i8DBIM5B005245@news01.csr.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, hits=0.0 required=6.0 tests=none autolearn=no version=2.63
X-Spam-Hits: 0.0

On Mon, 13 Sep 2004, Peter Stephenson wrote:

> The shell is supposed to exit after 10 EOFs if ignore_eof is set.
> When zle is in use this appears to have been broken for a long time.

Actually I think that was intentional.  ZLE is able to distinguish a real
end-of-file from a press of the EOF key, so it doesn't need the failsafe
to prevent it from going into an infinite loop when the SHIN descriptor
is closed.

In other words, the shell is supposed to exit after 10 real end-of-files,
not after 10 keyboard-initiated end-of-files.

Unless I've missed or forgotten something ...

