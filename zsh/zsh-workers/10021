From zsh-workers-return-10021-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Mar 09 12:55:03 2000
Return-Path: <zsh-workers-return-10021-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 21443 invoked from network); 9 Mar 2000 12:55:01 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 9 Mar 2000 12:55:01 -0000
Received: (qmail 2412 invoked by alias); 9 Mar 2000 12:54:37 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 10021
Received: (qmail 2400 invoked from network); 9 Mar 2000 12:54:36 -0000
Message-ID: <38C79E9E.6059AFDB@u.genie.co.uk>
Date: Thu, 09 Mar 2000 12:52:46 +0000
From: Oliver Kiddle <opk@u.genie.co.uk>
X-Mailer: Mozilla 4.72 [en] (Win95; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Zsh workers <zsh-workers@sunsite.auc.dk>
Subject: Saving the zle display stuff
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Is it possible to have a zle widget which saves any text (completion
list etc) which is below the prompt (as if ALWAYS_LAST_PROMPT was set
when the list was generated). The nearest I can get to this is:
save_list() {
  unsetopt alwayslastprompt
  zle list-choices
  setopt alwasylastprompt
}

This would be particularly useful with _complete_help where I often want
to cut-and-paste to a zstyle command or refer back to the information
later.

I'd guess that zle prints lists and doesn't remember where it finished
so this isn't easy to do. If this is correct, the solution may relate to
the stuff with calling zle from traps and establishing if there is a
completion list from there.

Oliver Kiddle

