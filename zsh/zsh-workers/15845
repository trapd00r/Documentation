From zsh-workers-return-15845-mason-zsh=primenet.com.au@sunsite.dk Wed Sep 19 14:17:17 2001
Return-Path: <zsh-workers-return-15845-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2705 invoked from network); 19 Sep 2001 14:17:16 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 19 Sep 2001 14:17:16 -0000
Received: (qmail 8008 invoked by alias); 19 Sep 2001 14:17:07 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 15845
Received: (qmail 7994 invoked from network); 19 Sep 2001 14:17:06 -0000
Date: Wed, 19 Sep 2001 10:17:02 -0400
From: Clint Adams <clint@zsh.org>
To: Vincent Lefevre <vincent@vinc17.org>, ee_in_co@yahoo.com
Cc: zsh-workers@sunsite.dk
Subject: hp/ux terminfo
Message-ID: <20010919101702.B25501@dman.com>
References: <20010918165111.B17411@greux.loria.fr> <20010918155339.20305.qmail@web12504.mail.yahoo.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5i
In-Reply-To: <20010918155339.20305.qmail@web12504.mail.yahoo.com>; from ee_in_co@yahoo.com on Tue, Sep 18, 2001 at 08:53:39AM -0700

> Under HP-UX, the tgetent return codes recently changed so it
> returns OK (0) for success and ERR (-1) for error.  Hence the
> changes invalidated the code written with the old assumptions.
> 
> I am not sure if HP-UX is following a new POSIX standard or what
> by implementing these changes, but it may be possible that linux
> has made a similar change.

This is actually from X/Open Curses, which doesn't define
specific values for OK and ERR.  The tgetent entry
has been marked "to be withdrawn" in Open Group specs
for many years now.  I'm not sure if this is because
they intend to deprecate the termcap emulation routines
or because of the possible return value inconsistency.

If HP-UX is actually returning 0 instead of merely
documenting the X/Open behavior and implementing the
traditional behavior, we should check for that
at configure-time.

