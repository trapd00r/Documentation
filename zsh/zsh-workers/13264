From zsh-workers-return-13264-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Dec 13 16:42:31 2000
Return-Path: <zsh-workers-return-13264-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 286 invoked from network); 13 Dec 2000 16:42:29 -0000
Received: from sunsite.dk (HELO sunsite.auc.dk) (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 13 Dec 2000 16:42:29 -0000
Received: (qmail 7997 invoked by alias); 13 Dec 2000 16:42:23 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 13264
Received: (qmail 7986 invoked from network); 13 Dec 2000 16:42:18 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <1001213164213.ZM12168@candle.brasslantern.com>
Date: Wed, 13 Dec 2000 16:42:12 +0000
In-Reply-To: <001a01c0651c$a32bf2f0$21c9ca95@mow.siemens.ru>
Comments: In reply to "Andrej Borsenkow" <Andrej.Borsenkow@mow.siemens.ru>
        "Some problem with completion matching" (Dec 13,  6:52pm)
References: <001a01c0651c$a32bf2f0$21c9ca95@mow.siemens.ru>
X-Mailer: Z-Mail (5.0.0 30July97)
To: "ZSH workers mailing list" <zsh-workers@sunsite.auc.dk>
Subject: Re: Some problem with completion matching
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Dec 13,  6:52pm, Andrej Borsenkow wrote:
} 
} bor@itsrm2% l ntpd/*.c
} ntpd/check_y2k.c            ntpd/map_vme.c
} ntpd/ntp_config.c           ntpd/ntp_control.c
} ntpd/ntp_crypto.c           ntpd/ntp_filegen.c
} ..... etc
} bor@itsrm2% l ntpd/.cTAB
} bor@itsrm2% l ntpd/ntpd.c
} Completing file
} ntpd.c      version.c
} 
} ???
} 
} bor@itsrm2% zstyle -L
} zstyle ':completion:*' matcher-list '' 'm:{a-z}={A-Z}' 'm:{a-z}={A-Z}
} r:|[._-]=* r:|=*' 'm:{a-z}={A-Z} r:|[.-]=** r:|=**'
  ^^^^^^^^^^
I *think* the behavior you're seeing is correct, but Sven will have to
confirm.  The match spec I marked means that file names are to split into
segments at dot, underscore, and hyphen, for purposes of matching.  The
doc says that "... the anchor can occur anywhere, but must match in both
the command line and trial completion strings."  Since there's only one
match for the anchor on the command line, only files having a single
such segment are eligible for completion.

I have a similar problem with my own matcher-list which I've been sort of
halfheartedly trying to work out for a while now.  This example has made
me understand it better, but I still don't see a solution.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

