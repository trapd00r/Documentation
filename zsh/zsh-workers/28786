From zsh-workers-return-28786-mason-zsh=primenet.com.au@zsh.org Mon Feb 21 03:15:08 2011
Return-Path: <zsh-workers-return-28786-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 28511 invoked by alias); 21 Feb 2011 03:15:08 -0000
Mailing-List: contact zsh-workers-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Workers List <zsh-workers.zsh.org>
List-Post: <mailto:zsh-workers@zsh.org>
List-Help: <mailto:zsh-workers-help@zsh.org>
Delivered-To: mailing list zsh-workers@zsh.org
X-Seq: 28786
Received: (qmail 26773 invoked from network); 21 Feb 2011 03:14:56 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.9 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.3.1
Received-SPF: none (ns1.primenet.com.au: domain at hightek.org does not designate permitted sender hosts)
Date: Sun, 20 Feb 2011 21:14:49 -0600
From: Vincent Stemen <vince.lists@hightek.org>
To: zsh-workers@zsh.org
Subject: Installation fails because the documentation is not building
Message-ID: <20110221031449.GA5748@quark.hightek.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.5.18 (2008-05-17)
Sender: Vincent Stemen <vince@hightek.org>

Hi.

On FreeBSD of course.

With the source from the git repository, "gmake install" fails on the
documentation.  yodl version 2.15.2 is installed.

Here is the output from "gmake" from the point where it entered the Doc
directory.

    gmake[1]: Entering directory `/home/vince/ports/zsh-20110218/work/zsh-20110218/Doc'
    yodl  -o zsh.texi -I. -w ztexi.yo version.yo zsh.yo; \
            test -f zsh.texi
    Zsh Yodl-to-TeXinfo converter
    Including file Zsh/manual.yo
    Including file Zsh/manmodmenu.yo
    Including file Zsh/intro.yo
    [ ... a bunch more includes ] 
    Including file Zsh/index.yo
    case 'yodl ' in :*) touch ../META-FAQ ;; *) \
                yodl  -I. META-FAQ.yo | sed -e '/NEXTLINE/N' -e '/DELLINE/d' -e '/^SECTHEAD$/{N;s/^SECTHEAD.//;h;s/./-/g;H;g;}' -e 's/  *$//' > ../META-FAQ \
            ;; esac
    gmake[1]: Leaving directory `/home/vince/ports/zsh-20110218/work/zsh-20110218/Doc'

It does not appear to have any errors.

Here is the output from "gmake install" from the point where it entered the Doc
directory.

    gmake[1]: Entering directory `/home/vince/ports/zsh-20110218/work/zsh-20110218/Doc'
    /bin/sh ../mkinstalldirs /usr/share/man/man1
    for file in zsh.1 zshbuiltins.1 zshcalsys.1 zshcompctl.1 zshcompwid.1 zshcompsys.1 zshcontrib.1 zshexpn.1 zshmisc.1 zshmodules.1 zshoptions.1 zshparam.1 zshroadmap.1 zshtcpsys.1 zshzftpsys.1 zshzle.1 zshall.1; do \
                test -s ./$file || exit 1; \
                /usr/bin/install -c -m 644 ./$file /usr/share/man/man1/`echo $file | sed 's|zsh|zsh|'` || exit 1; \
            done
    gmake[1]: *** [install.man] Error 1
    gmake[1]: Leaving directory `/home/vince/ports/zsh-20110218/work/zsh-20110218/Doc'
    gmake: *** [install.man] Error 2

I assume it is failing on the "test -s" statement, because when I look in the
Doc directory, all the man files ending in ".1" are zero length.

Any ideas?

