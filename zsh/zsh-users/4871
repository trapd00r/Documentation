From zsh-users-return-4871-mason-zsh=primenet.com.au@sunsite.dk Fri Apr 26 01:17:39 2002
Return-Path: <zsh-users-return-4871-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17807 invoked from network); 26 Apr 2002 01:17:38 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 26 Apr 2002 01:17:38 -0000
Received: (qmail 11212 invoked by alias); 26 Apr 2002 01:17:14 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4871
Received: (qmail 11201 invoked from network); 26 Apr 2002 01:17:12 -0000
Date: Thu, 25 Apr 2002 18:16:06 -0700 (PDT)
From: Bart Schaefer <schaefer@brasslantern.com>
Sender: schaefer@ns1.sodaware.com
To: Joshua Symons <vmcore@mysun.com>
cc: zsh-users@sunsite.dk
Subject: Re: Preexec & Printf
In-Reply-To: <1eed22689c.2689c1eed2@mysun.com>
Message-ID: <Pine.LNX.4.44.0204251812550.18487-100000@ns1.sodaware.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Thu, 25 Apr 2002, Joshua Symons wrote:

> preexec () {
>         print -Pn "\e]0;%m:%l   -   ${(z)1} \a"
> }
> [(ichirou:152:pts/33)~ %] printf '^[[32;40mwith quotes\n'
> [32;40mwith quotes
> ' with quotes

Your specific problem there is that the titlebar escape sequence appears
literally in the command that you're trying to put into the titlebar, so
strange things happen.  I missed that before.  Try ${(qVz)1}.

