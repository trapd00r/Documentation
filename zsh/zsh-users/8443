From zsh-users-return-8443-mason-zsh=primenet.com.au@sunsite.dk Mon Jan 31 18:00:24 2005
Return-Path: <zsh-users-return-8443-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18595 invoked from network); 31 Jan 2005 18:00:22 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 31 Jan 2005 18:00:22 -0000
Received: (qmail 55197 invoked from network); 31 Jan 2005 18:00:13 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 31 Jan 2005 18:00:13 -0000
Received: (qmail 3756 invoked by alias); 31 Jan 2005 17:59:55 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8443
Received: (qmail 3746 invoked from network); 31 Jan 2005 17:59:54 -0000
Received: from unknown (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 31 Jan 2005 17:59:54 -0000
Received: (qmail 53759 invoked from network); 31 Jan 2005 17:59:18 -0000
Received: from wproxy.gmail.com (64.233.184.197)
  by a.mx.sunsite.dk with SMTP; 31 Jan 2005 17:59:13 -0000
Received: by wproxy.gmail.com with SMTP id 69so727315wra
        for <zsh-users@sunsite.dk>; Mon, 31 Jan 2005 09:59:11 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=PMYYoqsfAvVY36m88N9kNLMBSIotvazl3IRoXWnqVewYes8r0nVpyipCKYkkKaRyqWMf3JoOTzM/T3nVjbjeYyDmxNgHKnq7sENrWbvjDPVVDEgy41cB6ffgzTcdriCcakeHxHsTLbJD0Umv+6w0c5eF9JrJM+C6LUEpeLiPhAU=
Received: by 10.54.23.26 with SMTP id 26mr46171wrw;
        Mon, 31 Jan 2005 09:32:28 -0800 (PST)
Received: by 10.54.36.1 with HTTP; Mon, 31 Jan 2005 09:32:26 -0800 (PST)
Message-ID: <44613de0050131093255b80bc7@mail.gmail.com>
Date: Mon, 31 Jan 2005 12:32:26 -0500
From: Shawn Halpenny <paxunix@gmail.com>
Reply-To: Shawn Halpenny <paxunix@gmail.com>
To: zsh-users@sunsite.dk
Subject: Re: can't complete .. paths with 4.2.3
In-Reply-To: <1050129183904.ZM13058@candle.brasslantern.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <44613de005012718295387a145@mail.gmail.com>
	 <1050128030646.ZM11582@candle.brasslantern.com>
	 <44613de00501280825265c7f4a@mail.gmail.com>
	 <1050129183904.ZM13058@candle.brasslantern.com>
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.1 required=6.0 tests=AWL,BAYES_00,RCVD_BY_IP 
	autolearn=ham version=3.0.2
X-Spam-Hits: -2.1

On Sat, 29 Jan 2005 18:39:04 +0000, Bart Schaefer
<schaefer@brasslantern.com> wrote:
> On Jan 28, 11:25am, Shawn Halpenny wrote:
> } Subject: Re: can't complete .. paths with 4.2.3
> }
> } I tried completing 'echo ../' with trace enabled and noticed that tmp1
> } after the call to compfiles (line 345 of _path_files) was empty,
> } whereas on Cygwin, it had the list of files in the parent dir.
> 
> Do you have any zstyles set at all?  Put another way, have you tried
> reproducing this with 'zsh -f' (running autoload and compinit by hand)?
> 
> The only obvious reason that compfiles would behave that way at that
> particular spot is if the "fake-files" style were set to something.

I have zstyles, but it makes no difference if they are executed or
not.  However, I noticed that running 'zsh -f' and running compinit by
hand made things work again, so the problem must have been in my rc
files.

As it turns out, in my .zshenv I have 'setopt nocaseglob'.  If I
remove that (or 'setopt caseglob' at a prompt), I can complete paths
with .. again.  This behavior must have changed since 4.2.1, since
I've had that option setting for ages.

-- 
Shawn Halpenny

