From zsh-workers-request@euclid.skiles.gatech.edu Tue Jun 10 20:55:55 1997
Return-Path: <zsh-workers-request@euclid.skiles.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 6599 invoked from network); 10 Jun 1997 20:55:53 -0000
Received: from euclid.skiles.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 10 Jun 1997 20:55:53 -0000
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id QAA22186; Tue, 10 Jun 1997 16:47:14 -0400 (EDT)
Resent-Date: Tue, 10 Jun 1997 16:44:58 -0400 (EDT)
Message-Id: <199706102048.VAA02067@sgi20.york.ac.uk>
From: wjf103@york.ac.uk (Wez Furlong)
Date: Tue, 10 Jun 1997 21:48:34 +0100
X-Mailer: Mail User's Shell (7.2.6 beta(3) 11/17/96)
To: zsh-users@math.gatech.edu
Subject: Helpful username completion
Resent-Message-ID: <"R8Iwo2.0._O5.ApRdp"@euclid>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/893
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Just a helpful bit of compctl for zsh users at sites with a large number
of user accounts.

At York we have 11000 users which means a LONG wait for zsh to hash all
of them if you accidentally hit TAB too early...

This compctl was written by a friend and is great:

	trusted=(auser anotheruser myfriend)
	compctl -C -c -x 'W[0,\~*/*]' -g '*(-*,-/)' - 's[~]' -k trusted -S '/'
	compctl -g '*(D,-/)' -x 'C[0,\~*/*]' -g '*(D,-/)' - 's[~]' -k\
		trusted -S '/' -- cd

[\ denotes line continuation at the end of the second compctl line]

The net result is that zsh will only complete the list of users in the
trusted array after a ~

[example: before]

% ~a
 [Press Tab]
 [Long Wait]
 Do you wish to see all 1000 possibilities?

[example2: after]

% ~a
 [Press Tab]
 auser	anotheruser

Much nicer :)

Hope some of you find it helpful; full credit goes to my friend Alan who
is also a student here at York.

TTFN



-- 
Wez - Electronics Undergraduate at the University of York
URL : http://www.twinklestar.demon.co.uk/

Insult Of The Day: Thou clouted swag-bellied flirt-gill!

