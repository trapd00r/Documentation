From schaefer@z-code.ncd.com Wed Mar 27 07:08:57 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by melb.werple.net.au (8.7.5/8.7.3) with ESMTP id HAA25661 for <mason@werple.mira.net.au>; Wed, 27 Mar 1996 07:08:54 +1100 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id OAA22471; Tue, 26 Mar 1996 14:53:01 -0500 (EST)
Resent-Date: Tue, 26 Mar 1996 14:53:01 -0500 (EST)
From: schaefer@z-code.ncd.com (Barton E. Schaefer)
Message-Id: <960326115239.ZM24606@zyrcon.z-code.com>
Date: Tue, 26 Mar 1996 11:52:39 -0800
In-Reply-To: Zefram <A.Main@dcs.warwick.ac.uk>
        "Re: zsh hangs on IRIX 5.2 / me to: (SunOS4.1.3 + Solaris 2.4)" (Mar 26,  6:45pm)
References: <14689.199603261845@stone.dcs.warwick.ac.uk>
Reply-To: schaefer@z-code.ncd.com
X-Face: czU|*h"p8AX?4.I.yU.^s%TIMx|"-s,*'|#H^|e,QjE&!jL%<]:-.U/;khS%3a2BC5_d#)(
 mz=$$G0u9P&*N8cA~b[URf;lgKRif@#qEf[ltie#Gg0%6$b`e`k.Cgw:\qJx\\a7c(K7^3;gXW:e1@
 J<dlE"_MR!jLyY^_Ig[6-B#D2;B2V
X-Mailer: Z-Mail (3.3dev.227 27feb96)
To: Zefram <A.Main@dcs.warwick.ac.uk>,
        braemer@doc.physi.uni-heidelberg.de (Achim Braemer),
        zsh-workers@math.gatech.edu
Subject: Re: zsh hangs on IRIX 5.2 / me to: (SunOS4.1.3 + Solaris 2.4)
Cc: bas@astro.uva.nl
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Resent-Message-ID: <"y7UmK3.0.1V5.Si4Mn"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/861
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu
Content-Length: 751
Status: OR

On Mar 26,  6:45pm, Zefram wrote:
} Subject: Re: zsh hangs on IRIX 5.2 / me to: (SunOS4.1.3 + Solaris 2.4)
}
} >/**/
} >void
} >attachtty(pid_t pgrp)
} >{
} ...
} >        {
} >            if (kill(pgrp, 0) == -1)
} >                attachtty(mypgrp);                     <===============
} >            else {
} ...
} 
} The obvious solution is to add a flag so that this only retries once.
} But in which circumstances is this retry needed at all?

I think this is what is wanted:

		if (pgrp != mypgrp && kill(pgrp, 0) == -1)
		    attachtty(mypgrp);
		else {

-- 
Bart Schaefer                     Vice President, Technology, Z-Code Software
schaefer@z-code.com                  Division of NCD Software Corporation
http://www.well.com/www/barts


