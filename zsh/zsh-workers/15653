From zsh-workers-return-15653-mason-zsh=primenet.com.au@sunsite.dk Fri Aug 17 10:33:04 2001
Return-Path: <zsh-workers-return-15653-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1947 invoked from network); 17 Aug 2001 10:33:03 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 17 Aug 2001 10:33:03 -0000
Received: (qmail 18128 invoked by alias); 17 Aug 2001 10:32:55 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 15653
Received: (qmail 18117 invoked from network); 17 Aug 2001 10:32:54 -0000
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15228.62151.587861.882104@gargle.gargle.HOWL>
Date: Fri, 17 Aug 2001 12:32:39 +0200
To: zsh-workers@sunsite.dk
Subject: Re: insert-tab default 
In-Reply-To: <8501.998042232@csr.com>
References: <15228.59487.241930.695@gargle.gargle.HOWL>
	<8501.998042232@csr.com>
X-Mailer: VM 6.92 under 21.1 (patch 3) "Acadia" XEmacs Lucid


Peter Stephenson wrote:

> Sven Wischnowsky wrote:
> > Oops.  That's from:
> > 
> >   zstyle -s ":completion:${curcontext}:" insert-tab tmp || tmp=no
> > 
> > in _main_complete.  Should we change the code or the docs?
> 
> The traditional behaviour of tab at the start of line seems to be `true',
> as the doc suggests, so I suggest we change the code to use that.

That's what I'd prefer, too.

> > > By the way, I was having some problem with another apparently trivial
> > > widget, expand-or-complete() { zle .expand-or-complete; }, which frequently
> > > made the shell crash.  Unfortunately, it doesn't do this with the default
> > > settings and I haven't traced what was doing it.
> > 
> > Hm, can't reproduce that.  Will keep trying...
> 
> May not be worth it until I can localise it a bit better.  It doesn't seem
> to be happening here, although it was easy to find at home last night.

Ok.

> > P.S.: longest=( ${(M)array:#${~${(O@)array//?/?}[1]}} )
> 
> Hmmph.  Not sure if I want to change that section or not, now.

I didn't mean to say it should be changed (especially because it
doesn't use the (l:...:) trick).

Interesting reading again, Peter, well done.


Bye
  Sven

Index: Completion/Base/Core/_main_complete
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Base/Core/_main_complete,v
retrieving revision 1.3
diff -u -r1.3 _main_complete
--- Completion/Base/Core/_main_complete	2001/06/20 17:42:15	1.3
+++ Completion/Base/Core/_main_complete	2001/08/17 10:29:40
@@ -33,7 +33,7 @@
 
 [[ -z "$curcontext" ]] && curcontext=:::
 
-zstyle -s ":completion:${curcontext}:" insert-tab tmp || tmp=no
+zstyle -s ":completion:${curcontext}:" insert-tab tmp || tmp=yes
 
 if [[ ( "$tmp" = *pending(|[[:blank:]]*) && PENDING -gt 0 ) ||
       ( "$tmp" = *pending=(#b)([0-9]##)(|[[:blank:]]*) &&

-- 
Sven Wischnowsky                    wischnow@informatik.hu-berlin.de

