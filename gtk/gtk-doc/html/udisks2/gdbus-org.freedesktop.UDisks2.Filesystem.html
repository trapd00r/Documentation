<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>org.freedesktop.UDisks2.Filesystem</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.76.1">
<link rel="home" href="index.html" title="UDisks Reference Manual">
<link rel="up" href="ch02.html" title="D-Bus Interfaces">
<link rel="prev" href="gdbus-org.freedesktop.UDisks2.PartitionTable.html" title="org.freedesktop.UDisks2.PartitionTable">
<link rel="next" href="gdbus-org.freedesktop.UDisks2.Swapspace.html" title="org.freedesktop.UDisks2.Swapspace">
<meta name="generator" content="GTK-Doc V1.18 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="gdbus-org.freedesktop.UDisks2.PartitionTable.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="ch02.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">UDisks Reference Manual</th>
<td><a accesskey="n" href="gdbus-org.freedesktop.UDisks2.Swapspace.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts">
<a href="#gdbus-org.freedesktop.UDisks2.Filesystem.synopsis" class="shortcut">Top</a>
                   | 
                  <a href="#gdbus-org.freedesktop.UDisks2.Filesystem.description" class="shortcut">Description</a>
                   | 
                  <a href="#gdbus-org.freedesktop.UDisks2.Filesystem.properties" class="shortcut">Properties</a>
</td></tr>
</table>
<div class="refentry">
<a name="gdbus-org.freedesktop.UDisks2.Filesystem"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="gdbus-interface-org-freedesktop-UDisks2-Filesystem.top_of_page"></a>org.freedesktop.UDisks2.Filesystem</span></h2>
<p>org.freedesktop.UDisks2.Filesystem — Block device containing a mountable filesystem</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<h2>Methods</h2>
<pre class="synopsis">
<a class="link" href="gdbus-org.freedesktop.UDisks2.Filesystem.html#gdbus-method-org-freedesktop-UDisks2-Filesystem.SetLabel" title="The SetLabel() method">SetLabel</a> (IN  s     label,
          IN  a{sv} options);
<a class="link" href="gdbus-org.freedesktop.UDisks2.Filesystem.html#gdbus-method-org-freedesktop-UDisks2-Filesystem.Mount" title="The Mount() method">Mount</a>    (IN  a{sv} options,
          OUT s     mount_path);
<a class="link" href="gdbus-org.freedesktop.UDisks2.Filesystem.html#gdbus-method-org-freedesktop-UDisks2-Filesystem.Unmount" title="The Unmount() method">Unmount</a>  (IN  a{sv} options);
</pre>
</div>
<div class="refsect1">
<a name="id366190"></a><h2>Properties</h2>
<pre class="synopsis">
<a class="link" href="gdbus-org.freedesktop.UDisks2.Filesystem.html#gdbus-property-org-freedesktop-UDisks2-Filesystem.MountPoints" title='The "MountPoints" property'>MountPoints</a>  readable   aay
</pre>
</div>
<div class="refsect1">
<a name="gdbus-interface-org-freedesktop-UDisks2-Filesystem"></a><h2>Description</h2>
<p>      This interface is used for <a class="link" href="gdbus-org.freedesktop.UDisks2.Block.html#gdbus-interface-org-freedesktop-UDisks2-Block.top_of_page">org.freedesktop.UDisks2.Block</a>
      devices that contain a mountable filesystem.
</p>
</div>
<div class="refsect1">
<a name="gdbus-methods-org.freedesktop.UDisks2.Filesystem"></a><h2>Method Details</h2>
<div class="refsect2">
<a name="gdbus-method-org-freedesktop-UDisks2-Filesystem.SetLabel"></a><h3>The SetLabel() method</h3>
<pre class="programlisting">
SetLabel (IN  s     label,
          IN  a{sv} options);
</pre>
<p>        Sets the filesystem label.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><code class="literal">IN s <em class="parameter"><code>label</code></em></code>:</span></p></td>
<td><p>The label to set.</p></td>
</tr>
<tr>
<td><p><span class="term"><code class="literal">IN a{sv} <em class="parameter"><code>options</code></em></code>:</span></p></td>
<td><p>Options (currently unused except for <a class="link" href="udisks-std-options.html" title="The options parameter">standard options</a>).</p></td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="gdbus-method-org-freedesktop-UDisks2-Filesystem.Mount"></a><h3>The Mount() method</h3>
<pre class="programlisting">
Mount (IN  a{sv} options,
       OUT s     mount_path);
</pre>
<p>        Mounts the filesystem.
</p>
<p>        The directory the filesystem will be mounted in is determined
        by looking at data related to the device or filesystem (such
        the filesystem UUID and label) and will be created
        automatically except if the device the filesystem resides on
        is referenced in the <code class="filename">/etc/fstab</code> file, see
        below. In either case, the directory the filesystem is mounted
        in, is returned in <em class="parameter"><code>mount_path</code></em> on success - it is usually a
        sub-directory of <code class="filename">/run/media/$USER</code> but note that
        any directory may be returned.
</p>
<p>        The filesystem type to use can be overridden with the <em class="parameter"><code>fstype</code></em>
        option and mount options (a comma-separated string) can be
        given in <em class="parameter"><code>options</code></em> option. Note that both the mount options and
        filesystem types are validated against a (small) whitelist to
        avoid unexpected privilege escalation
</p>
<p>        Mounting a file system is a privileged operation and before
        fulfilling the request, an authorization check for one of the
        two actions
        <span class="emphasis"><em>org.freedesktop.udisks2.filesystem-mount</em></span>
        or
        <span class="emphasis"><em>org.freedesktop.udisks2.filesystem-mount-system</em></span>
        is performed (the value of the
        <a class="link" href="gdbus-org.freedesktop.UDisks2.Block.html#gdbus-property-org-freedesktop-UDisks2-Block.HintSystem" title='The "HintSystem" property'>"HintSystem"</a> property is used to
        determine which one). The latter check typically results in
        the user having to authenticate as an administrator while the
        former typically doesn't require authentication if the caller
        is on a local console.
</p>
<p>        If the device in question is referenced in the
        <code class="filename">/etc/fstab</code> file, the
        <span class="command"><strong>mount</strong></span> command is called directly (as root)
        and the given options or filesystem type given in <em class="parameter"><code>options</code></em> are
        ignored. The authorization checks mentioned above are still
        performed.
</p>
<p>        If <code class="literal">x-udisks-auth</code> is specified as an option
        for the device in the <code class="filename">/etc/fstab</code> file,
        then the <span class="command"><strong>mount</strong></span> command is run as the
        calling user, without performing any of the authorization
        checks mentioned above. If this fails because of insufficient
        permissions, an authorization check is performed for the
        <span class="emphasis"><em>org.freedesktop.udisks2.filesystem-fstab</em></span>
        action which typically results in the user having to
        authenticate as an administrator. If authorized, the
        <span class="command"><strong>mount</strong></span> command is then run as root.
</p>
<p>        The filesystem should be unmounted using the
        <a class="link" href="gdbus-org.freedesktop.UDisks2.Filesystem.html#gdbus-method-org-freedesktop-UDisks2-Filesystem.Unmount" title="The Unmount() method">Unmount()</a> method.
</p>
<p>        If the device is removed without being unmounted (e.g. the
        user yanking the device or pulling the media out) or unmounted
        in a way that bypasses the
        <a class="link" href="gdbus-org.freedesktop.UDisks2.Filesystem.html#gdbus-method-org-freedesktop-UDisks2-Filesystem.Unmount" title="The Unmount() method">Unmount()</a> method
        (e.g. unmounted by the super-user by using the
        <span class="citerefentry"><span class="refentrytitle">umount</span>(8)</span>
        command directly), the device will be unmounted (if needed)
        and/or the mount point will be cleaned up.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><code class="literal">IN a{sv} <em class="parameter"><code>options</code></em></code>:</span></p></td>
<td><p>Options - known options (in addition to <a class="link" href="udisks-std-options.html" title="The options parameter">standard options</a>) includes <em class="parameter"><code>fstype</code></em> (of type 's') and <em class="parameter"><code>options</code></em> (of type 's').</p></td>
</tr>
<tr>
<td><p><span class="term"><code class="literal">OUT s <em class="parameter"><code>mount_path</code></em></code>:</span></p></td>
<td><p>The filesystem path where the device was mounted.</p></td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="gdbus-method-org-freedesktop-UDisks2-Filesystem.Unmount"></a><h3>The Unmount() method</h3>
<pre class="programlisting">
Unmount (IN  a{sv} options);
</pre>
<p>        Unmount a mounted device.
</p>
<p>        If the device in question was not mounted by the calling user
        via the <a class="link" href="gdbus-org.freedesktop.UDisks2.Filesystem.html#gdbus-method-org-freedesktop-UDisks2-Filesystem.Mount" title="The Mount() method">Mount()</a> method the
        filesystem is unmounted without any authorization checks.
        Otherwise, an authorization check is performed for the
        <span class="emphasis"><em>org.freedesktop.udisks2.filesystem-unmount-others</em></span>
        action which typically results in the user having to
        authenticate as an administrator. If authorized, the
        filesystem is unmounted.
</p>
<p>        If the filesystem is busy, this operation fails with the error
        <a class="link" href="udisks2-UDisksError.html#UDISKS-ERROR-DEVICE-BUSY:CAPS"><code class="constant">org.freedesktop.UDisks2.Error.DeviceBusy</code></a>
        unless the <em class="parameter"><code>force</code></em> option is used.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><code class="literal">IN a{sv} <em class="parameter"><code>options</code></em></code>:</span></p></td>
<td><p>Options - known options (in addition to <a class="link" href="udisks-std-options.html" title="The options parameter">standard options</a>) includes <em class="parameter"><code>force</code></em> (of type 'b').</p></td>
</tr></tbody>
</table></div>
</div>
</div>
<div class="refsect1">
<a name="gdbus-properties-org.freedesktop.UDisks2.Filesystem"></a><h2>Property Details</h2>
<div class="refsect2">
<a name="gdbus-property-org-freedesktop-UDisks2-Filesystem.MountPoints"></a><h3>The "MountPoints" property</h3>
<pre class="programlisting">
MountPoints  readable   aay
</pre>
<p>         An array of filesystems paths for where the file system on
         the device is mounted. If the device is not mounted, this
         array is empty.
</p>
</div>
</div>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.18</div>
</body>
</html>