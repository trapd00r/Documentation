From zsh-workers-return-27948-mason-zsh=primenet.com.au@zsh.org Sat May 08 08:59:49 2010
Return-Path: <zsh-workers-return-27948-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 7981 invoked by alias); 8 May 2010 08:59:49 -0000
Mailing-List: contact zsh-workers-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Workers List <zsh-workers.zsh.org>
List-Post: <mailto:zsh-workers@zsh.org>
List-Help: <mailto:zsh-workers-help@zsh.org>
Delivered-To: mailing list zsh-workers@zsh.org
X-Seq: 27948
Received: (qmail 7822 invoked from network); 8 May 2010 08:59:37 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.9 required=5.0 tests=BAYES_00,RCVD_IN_DNSWL_NONE,
	SPF_HELO_PASS autolearn=ham version=3.3.1
Received-SPF: none (ns1.primenet.com.au: domain at bewatermyfriend.org does not designate permitted sender hosts)
From: Frank Terbeck <ft@bewatermyfriend.org>
To: zsh-workers@zsh.org
Cc: Peter Stephenson <p.w.stephenson@ntlworld.com>,  Seth House <seth@eseth.com>,  Simon Ruderich <simon@ruderich.org>
Subject: Re: PATCH: Various changes for vcs_info
In-Reply-To: <87tyqi3hk7.fsf@ft.bewatermyfriend.org> (Frank Terbeck's message
	of "Sat, 08 May 2010 10:48:24 +0200")
References: <87tyqi3hk7.fsf@ft.bewatermyfriend.org>
User-Agent: Gnus/5.13 (Gnus v5.13) Emacs/23.1 (gnu/linux)
Date: Sat, 08 May 2010 10:58:49 +0200
Message-ID: <87ocgq3h2u.fsf@ft.bewatermyfriend.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Df-Sender: 430444

Replying to myself...

Turns out, the list software rejects some attachments, too. I've put the
patch up here for now:
  <http://ft.bewatermyfriend.org/tmp/vcs_info-changes.patch>

Below is a full-quote of my original message.

Frank Terbeck wrote:
> Here's a huge update for `vcs_info' on which I've been working for quite
> some time with two very helpful people, Seth and Simon.
>
> The major changes are vast improvements for the mercurial (hg) backend
> (which was done almost entirely by Seth); improved documentation (mostly
> done by Simon and again Seth); quilt support (as an addon and stand
> alone, see the manual for details); a number of new hooks and a fair
> share of bugfixes.
>
> Below is a condensed version of a who-did-what from my patch history. If
> someone cares for more detail, the changes were tracked in git and the
> branch can currently be seen here:
>
>     <http://github.com/ft/zsh-ft/commits/ft/vcs_info>
>
> Seth House:
>       Fix mq-patch + hg-bookmarks logic
>       Numerous code improvements
>       Mercurial examples for the examples file
>       Documentation improvements
>       Unapplied mq-patches support
>       Flavour support for `hg'
>       Rearranging the `misc' argument logic
>
> Simon Ruderich:
>       Documentation fixes
>       Documentation improvements
>       Add vcs_info example file
>       Example about selectively running vcs_info
>       Early testing and bugspotting
>
> Frank Terbeck:
>       Fix `read-only' attribute for internal variables in hooks
>       Add `start-up' and `pre-get-data' hooks
>       Add `post-backend' hook
>       Add Quilt support
>       Rearranging the `misc' argument logic
>       Various examples
>       Documentation updates
>       Added user_data array
>
> This adds a file `Misc/vcs_info-examples' (like `Misc/compctl-examples')
> which contains a number of larger examples on how to use vcs_info. I
> hope adding that file is okay - scream if it is not (Cc:ed Peter to make
> sure this is okay).
>
> I squashed the changes into one patch in order to avoid flooding the
> list with a ~40-patch series.  This really has become a bit too big
> and should have been merged more regularly. In fact the patch has
> become so huge, that it'll probably be rejected by the mailing list
> software, I've attached a gzipped version of it.
>
> I'll let it sit here for the weekend before committing it.
>
> Regards, Frank
>
> ---
>  Doc/Zsh/contrib.yo                                |  506 ++++++++++++++-------
>  Functions/VCS_Info/.distfiles                     |    1 +
>  Functions/VCS_Info/Backends/VCS_INFO_detect_hg    |   14 +-
>  Functions/VCS_Info/Backends/VCS_INFO_get_data_git |   35 +-
>  Functions/VCS_Info/Backends/VCS_INFO_get_data_hg  |  295 +++++++++----
>  Functions/VCS_Info/VCS_INFO_formats               |   26 +-
>  Functions/VCS_Info/VCS_INFO_hook                  |   10 +-
>  Functions/VCS_Info/VCS_INFO_quilt                 |  190 ++++++++
>  Functions/VCS_Info/vcs_info                       |   30 +-
>  Misc/.distfiles                                   |    1 +
>  Misc/vcs_info-examples                            |  496 ++++++++++++++++++++
>  11 files changed, 1303 insertions(+), 301 deletions(-)
>  create mode 100644 Functions/VCS_Info/VCS_INFO_quilt
>  create mode 100644 Misc/vcs_info-examples
>

