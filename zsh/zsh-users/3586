From zsh-users-return-3586-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Jan 09 09:03:55 2001
Return-Path: <zsh-users-return-3586-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 27360 invoked from network); 9 Jan 2001 09:03:53 -0000
Received: from sunsite.dk (HELO sunsite.auc.dk) (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 9 Jan 2001 09:03:53 -0000
Received: (qmail 17853 invoked by alias); 9 Jan 2001 09:03:39 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 3586
Received: (qmail 17846 invoked from network); 9 Jan 2001 09:03:39 -0000
X-Envelope-Sender-Is: Andrej.Borsenkow@mow.siemens.ru (at relayer david.siemens.de)
From: "Andrej Borsenkow" <Andrej.Borsenkow@mow.siemens.ru>
To: "Paul Lew" <paullew@cisco.com>, <zsh-users@sunsite.auc.dk>
Subject: RE: GID behavior
Date: Tue, 9 Jan 2001 12:03:32 +0300
Message-ID: <000801c07a1b$0a866760$21c9ca95@mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
In-reply-to: <14938.51151.386870.208752@paullew-ultra.cisco.com>
Importance: Normal

> 
> According to zsh manaul:
> 
>      GID <S>
>           The real group ID of the shell process.   If  you  have
>           sufficient  privileges,  you may change the group ID of
>           the shell process by assigning to this parameter.  Also
>           (assuming  sufficient privileges), you may start a sin-
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>           gle command under a different group  ID  by  `(GID=gid;
>           command)'
> 

     setgid()   If the effective user ID of the process calling setgid() is
                the superuser, the real, effective, and saved group IDs are
                set to the gid.

                If the effective user ID of the calling process is not the
                superuser, but gid is either the real group ID or the saved
                group ID of the calling process, the effective group ID is
                set to gid.

You must be root to change your GID. The newgrp command is SUID root:

bor@itsrm2% ll =newgrp  
-rwsr-xr-x   1 root     bin        22805 Nov 18  1998 /usr/bin/newgrp*

-andrej

