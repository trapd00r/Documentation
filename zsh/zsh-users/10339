From zsh-users-return-10339-mason-zsh=primenet.com.au@sunsite.dk Mon May 29 07:57:43 2006
Return-Path: <zsh-users-return-10339-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4020 invoked from network); 29 May 2006 07:57:40 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.2 (2006-05-25) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=BAYES_00,FORGED_RCVD_HELO 
	autolearn=ham version=3.1.2
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 29 May 2006 07:57:40 -0000
Received: (qmail 77310 invoked from network); 29 May 2006 07:57:32 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 29 May 2006 07:57:32 -0000
Received: (qmail 6422 invoked by alias); 29 May 2006 07:57:25 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 10339
Received: (qmail 6413 invoked from network); 29 May 2006 07:57:25 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 29 May 2006 07:57:25 -0000
Received: (qmail 76242 invoked from network); 29 May 2006 07:57:25 -0000
Received: from gw02.mail.saunalahti.fi (195.197.172.116)
  by a.mx.sunsite.dk with SMTP; 29 May 2006 07:57:23 -0000
Received: from kuori.saunalahti.fi (kuori.saunalahti.fi [195.197.175.23])
	by gw02.mail.saunalahti.fi (Postfix) with ESMTP id B28AA1393F2
	for <zsh-users@sunsite.dk>; Mon, 29 May 2006 10:57:22 +0300 (EEST)
Received: by kuori.saunalahti.fi (Postfix, from userid 11801)
	id 8FE9720F; Mon, 29 May 2006 10:57:22 +0300 (EEST)
Date: Mon, 29 May 2006 10:57:22 +0300
From: Anssi Saari <as@sci.fi>
To: zsh-users@sunsite.dk
Subject: Re: Vanishing files ?
Message-ID: <20060529075722.GA28846@sci.fi>
Mail-Followup-To: Anssi Saari <as@sci.fi>, zsh-users@sunsite.dk
References: <20060528.172405.74744323.Meino.Cramer@gmx.de> <060528113200.ZM31855@torch.brasslantern.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <060528113200.ZM31855@torch.brasslantern.com>
User-Agent: Mutt/1.4.2.1i

On Sun, May 28, 2006 at 11:32:00AM -0700, Bart Schaefer wrote:
> On May 28,  5:24pm, Meino Christian Cramer wrote:
> }
> }  Why can I execute the contents of the script "tempwatch" but not the
> }  script itsself?
> 
> That usually means that the program named in the #! line is not where
> the path in that line says it is.
 
Now that we're on the topic, I think bash does this a little better. If you have an
invalid interpreter, it tells you, like this:

bash: ./foo: /bin/foo: bad interpreter: No such file or directory

Maybe this could be improved with zsh?

> }  By the way: Does anyone know a trick how to remove _all_
> }  Escape-Sequences from a script generated by the command "script" ...
> 
> 	sed "s/[^"$'\t '"-~]//g"
> 
> The order of tab and space in $'\t ' is important.  The above actually
> strips anything that's not printable ASCII, so if you're using an ISO
> character set you probably need to put more stuff inside the [ ].

That doesn't really work for escape sequences now does it? For example, on
this machine, my prompt under script is shown in less like this:

^MESC[m^OESC[mESC[mESC[Jkuori% ESC[Kls^M

That sed removes the ^M and escapes, but what it leaves behind is 

[m[m[m[Jkuori% [K

