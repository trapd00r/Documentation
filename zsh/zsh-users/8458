From zsh-users-return-8458-mason-zsh=primenet.com.au@sunsite.dk Fri Feb 04 00:38:59 2005
Return-Path: <zsh-users-return-8458-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 26087 invoked from network); 4 Feb 2005 00:38:57 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 4 Feb 2005 00:38:57 -0000
Received: (qmail 40637 invoked from network); 4 Feb 2005 00:38:43 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 4 Feb 2005 00:38:43 -0000
Received: (qmail 26376 invoked by alias); 4 Feb 2005 00:38:35 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8458
Received: (qmail 26365 invoked from network); 4 Feb 2005 00:38:34 -0000
Received: from unknown (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 4 Feb 2005 00:38:34 -0000
Received: (qmail 37028 invoked from network); 4 Feb 2005 00:37:35 -0000
Received: from tantale.fifi.org (64.81.251.130)
  by a.mx.sunsite.dk with SMTP; 4 Feb 2005 00:37:30 -0000
Received: from ceramic.fifi.org (Debian-exim@ceramic.fifi.org [64.81.251.131])
	by tantale.fifi.org (8.9.3p2/8.9.3/Debian 8.9.3-21) with ESMTP id QAA30386;
	Thu, 3 Feb 2005 16:37:25 -0800
Received: from phil by ceramic.fifi.org with local (Exim 4.34)
	id 1CwrTR-0001b5-KO; Thu, 03 Feb 2005 16:37:25 -0800
To: Christian Taylor <cht@chello.at>
Cc: "zsh-users" <zsh-users@sunsite.dk>
Subject: Re: Always showing short home directories
References: <200502031912.26120.cht@chello.at>
Mail-Copies-To: nobody
From: Philippe Troin <phil@fifi.org>
Date: 03 Feb 2005 16:37:25 -0800
In-Reply-To: <200502031912.26120.cht@chello.at>
Message-ID: <8765199n3u.fsf@ceramic.fifi.org>
Lines: 25
User-Agent: Gnus/5.09 (Gnus v5.9.0) Emacs/21.2
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=6.0 tests=BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.6

Christian Taylor <cht@chello.at> writes:

> Hi everyone,
> 
> zsh displays the home directories of users in a shortened form (in a suitable 
> prompt), but only after zsh "knows" about them, for instance after actually 
> using the directory name in the shortened form or after doing a completion 
> like this:
> % cd ~<TAB>
> 
> What would be the best way to let zsh figure this out already when it starts?

Put:

        : $userdirs

In your zshrc.

Be forewarned that this will enumerate all the passwd entries in your
system.  If you're in a networked environment using nis/yp or ldap
with more than a few hundred users, this stanza could take a while to
run and use a lot of memory.

Phil.

