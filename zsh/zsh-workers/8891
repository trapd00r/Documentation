From zsh-workers-return-8891-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Dec 03 20:41:38 1999
Return-Path: <zsh-workers-return-8891-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 26900 invoked from network); 3 Dec 1999 20:41:37 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 3 Dec 1999 20:41:37 -0000
Received: (qmail 16229 invoked by alias); 3 Dec 1999 20:41:27 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 8891
Received: (qmail 16222 invoked from network); 3 Dec 1999 20:41:26 -0000
To: zsh-workers@sunsite.auc.dk (Zsh hackers list)
Subject: Re: on AIX, builds zsh.xxx.so 
In-reply-to: ""Andrej Borsenkow""'s message of "Thu, 02 Dec 1999 13:35:20 +0300."
             <000001bf3cb0$eed9e030$21c9ca95@mow.siemens.ru> 
Date: Fri, 03 Dec 1999 20:42:02 +0000
From: Peter Stephenson <pws@pwstephenson.fsnet.co.uk>
Message-Id: <E11tzW9-0006KF-00.1999-12-03-20-41-25@cmailg5.svr.pol.co.uk>

"Andrej Borsenkow" wrote:
> > > Vardhan Varma wrote:
> > > >	on AIX, default makefiles build a zsh.xxx.so.
> > > >	What changes do i do to make is statically linked.
> > >
> > > Add "--disable-dynamic" to the configure command line.
> > 	will that not disable dynamic loading of modules too ??
> > 	Actuall zsh being dependent on zsh-3.1.6.so is causing
> > 	problem. i've compiled on HP and SunOS too, where
> > 	ldd zsh doesn not list anny zsh*so
> 
> Zsh tests if symbols in executables are available; and it will use additional
> flags to avoid libzsh.so on known systems. If libzsh.so is built on AIX it
> means, that these tests fail and you won't be able to use dynamic modules
> without libzsh.so at all.

That's a configuration bug, then, because it's not necessary on AIX.  My
AIX testing ground has now gone, however.

-- 
Peter Stephenson <pws@pwstephenson.fsnet.co.uk>

