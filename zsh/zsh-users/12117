From zsh-users-return-12117-mason-zsh=primenet.com.au@sunsite.dk Thu Oct 25 18:55:32 2007
Return-Path: <zsh-users-return-12117-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8233 invoked from network); 25 Oct 2007 18:55:23 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.3 (2007-08-08) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.3
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 25 Oct 2007 18:55:23 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 2536 invoked from network); 25 Oct 2007 18:55:17 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 25 Oct 2007 18:55:17 -0000
Received: (qmail 23644 invoked by alias); 25 Oct 2007 18:55:04 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 12117
Received: (qmail 23615 invoked from network); 25 Oct 2007 18:55:03 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 25 Oct 2007 18:55:03 -0000
Received: (qmail 516 invoked from network); 25 Oct 2007 18:55:03 -0000
Received: from wx-out-0506.google.com (66.249.82.235)
  by a.mx.sunsite.dk with SMTP; 25 Oct 2007 18:54:57 -0000
Received: by wx-out-0506.google.com with SMTP id h27so605110wxd
        for <zsh-users@sunsite.dk>; Thu, 25 Oct 2007 11:54:56 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:received:date:from:to:cc:subject:message-id:references:mime-version:content-type:content-disposition:in-reply-to:x-editor:user-agent;
        bh=LuvaLzreyaIR/ckTI+OL1Yxt6oaC5xnLxWIKeEyPJHI=;
        b=YIpCQRW3J8/jBqsNOoLE0LaeUHXddYBy9LdYDvCBotQIH3EX8a7ZFGmHzCHCk3imTqzfWnxLpcbW/2li0TwHFb28X37N1bfSl7Ns16kDFxpWPc2mw7Pc2ROrUNyPBWObcafwJ5tQers5cpiVVaZ3P0fwgOmtu1Wgy3gDFrNpUcg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:date:from:to:cc:subject:message-id:references:mime-version:content-type:content-disposition:in-reply-to:x-editor:user-agent;
        b=ZWODXDtdRwYY/0ZvbR49Wb3Nd+T0x0flnavvtoQFvCmuW8rHFEjFQjVmKgY8UE2gP40TuLMRjP4aToqlli7L7j8JCjjmk3zmWMRMYTPU+ki+wPI1HZkOG4uyGWEUjMNBIK8CmZRbts7OXup+Lj3IS1PT7BTaPNdFeszRr0zlJMs=
Received: by 10.70.11.5 with SMTP id 5mr3499132wxk.1193338496169;
        Thu, 25 Oct 2007 11:54:56 -0700 (PDT)
Received: from mastermind ( [76.99.60.158])
        by mx.google.com with ESMTPS id i36sm6256178wxd.2007.10.25.11.54.53
        (version=TLSv1/SSLv3 cipher=OTHER);
        Thu, 25 Oct 2007 11:54:55 -0700 (PDT)
Received: by mastermind (sSMTP sendmail emulation); Thu, 25 Oct 2007 14:53:57 -0400
Date: Thu, 25 Oct 2007 14:53:56 -0400
From: Matthew Wozniski <godlygeek@gmail.com>
To: zsh-users@sunsite.dk
Cc: John Cooper <John.Cooper@citrix.com>
Subject: Re: Slow compdump on Vista - no .zcompdump created
Message-ID: <20071025185356.GB19564@mastermind>
References: <DD74FBB8EE28D441903D56487861CD9D22719534@lonpexch01.citrite.net> <016801c8164c$301c5d70$90551850$@com> <DD74FBB8EE28D441903D56487861CD9D2271979B@lonpexch01.citrite.net> <018501c81658$6beebbc0$43cc3340$@com> <DD74FBB8EE28D441903D56487861CD9D2271A057@lonpexch01.citrite.net> <200710251044.l9PAi9Ag016224@news01.csr.com> <DD74FBB8EE28D441903D56487861CD9D22835ED2@lonpexch01.citrite.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <DD74FBB8EE28D441903D56487861CD9D22835ED2@lonpexch01.citrite.net>
X-Editor: Vim-7.1.145
User-Agent: Mutt/1.5.15+20070412 (2007-04-11)

On Thu, Oct 25, 2007 at 12:12:59PM +0100, John Cooper wrote:
> I can create files in this directory:
>   $ touch /c/Users/johnc.CITRITE/Documents/foo 
>   $
> 
> .. although Cygwin seems to think it is not writeable:
>   $ ls -ld /c/Users/johnc.CITRITE/Documents
> 
>   dr-x------+ 16 johnc mkpasswd 16384 Oct 25 12:10
> /c/Users/johnc.CITRITE/Documents/
> 

Now we're on to something.  The directory is conspicuously missing
a 'w' for user permissions, but its permissions list ends in a '+',
which means overriding ACLs are in effect that mean that the
permissions on the directory can't really be mapped to simple user,
group, and other permissions.  Maybe you're only allowed to create
certain types of files in that directory, or something similar.
I dunno, I'm not really a windows person.  In any event, try running

cacls "`cygpath -w /c/Users/johnc.CITRITE/Documents`"

and seeing if the output tells you anything interesting about the ACLs
in effect.  After all, there has to be some reason why cygwin doesn't
think that you have full write permissions to that directory.

~Matt

