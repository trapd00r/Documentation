From zsh-workers-return-15860-mason-zsh=primenet.com.au@sunsite.dk Mon Sep 24 05:51:47 2001
Return-Path: <zsh-workers-return-15860-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 21830 invoked from network); 24 Sep 2001 05:51:46 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 24 Sep 2001 05:51:46 -0000
Received: (qmail 2466 invoked by alias); 24 Sep 2001 05:51:35 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 15860
Received: (qmail 2453 invoked from network); 24 Sep 2001 05:51:35 -0000
From: Borsenkow Andrej <Andrej.Borsenkow@mow.siemens.ru>
To: "'Wes Morgan'" <wesm@slacknet.org>,
   "'zsh-workers'"
	 <zsh-workers@sunsite.dk>
Subject: RE: Compiling zsh-4.0.2 on Mac OS X
Date: Mon, 24 Sep 2001 09:51:18 +0400
Message-ID: <001101c144bc$ee35fae0$21c9ca95@mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2627
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
In-Reply-To: <3BAE579A.3010205@slacknet.org>
Importance: Normal

> 
> This patch causes the "checking for executable suffix..." test in the
> configure script to fail with "compiler cannot create executables."
The
> man page for ld on Mac OS X says that -x overlaps with a compiler
option
> and that to invoke it from cc, it needs to be specified as "-Wl,-x". I
> changed this in the configure script and configure worked again. Then
> "make" succeeded, but "make check" had some problems. I don't know if
> they are specific to OS X or something I did/didn't do. Here's the
errors:
> 
> Test ./C02cond.ztst failed: bad status 1, expected 0 from:
>   [[ -k modish && ! -k zerolength ]]
> Was testing: -k cond
>

That is probably OS specific. Does Mac OS X support sticky bit?

> comptest:2: command not found: zpty

You compiled without module support (or configure decided that modules
are not supported) and did not include zpty in the list of builtin
modules.

Could you send config.log from clean reconfiguration?

-andrej

