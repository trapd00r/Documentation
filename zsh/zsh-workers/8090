From zsh-workers-return-8090-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Sep 29 03:57:19 1999
Return-Path: <zsh-workers-return-8090-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 121 invoked from network); 29 Sep 1999 03:57:14 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 29 Sep 1999 03:57:14 -0000
Received: (qmail 7808 invoked by alias); 29 Sep 1999 03:57:02 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 8090
Received: (qmail 7801 invoked from network); 29 Sep 1999 03:57:00 -0000
From: Paul Kimoto <kimoto@lightlink.com>
Date: Tue, 28 Sep 1999 23:56:56 -0400
To: zsh-workers@sunsite.auc.dk
Subject: command-spelling correction strangeness
Message-ID: <19990928235656.A22062@perdita.antigonus.net>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 1.0pre3i

This is zsh-3.1.6-pws-{5,6} on i586-pc-linux-gnu, with glibc-2.1.2.
(I think that this also occurred under zsh-3.1.6.)

I have a non-executable, non-zero-size file "ps"
(-rw-r--r--   1 kimoto   kimoto        268 Mar 30 16:44 ps)
in a directory ahead of /bin in PATH.  When I have the "correct" and
"autocd" options set, often zsh offers to correct "ps" to "ls" _after_ 
"ps" has been run once.

I can reliably reproduce this under "zsh -f" as follows:

### begin example

perdita[0,821]: zsh -f
perdita% setopt correct autocd
perdita% ps
  PID TTY          TIME CMD
  421 ttyp1    00:00:19 zsh 
  565 ttyp1    00:00:00 tail
20787 ttyp1    00:00:05 emacs
21382 ttyp1    00:00:00 less 
21422 ttyp1    00:00:00 zsh  
21423 ttyp1    00:00:00 ps   
perdita% ps
zsh: correct 'ps' to 'ls' [nyae]? n
  PID TTY          TIME CMD
  421 ttyp1    00:00:19 zsh  
  565 ttyp1    00:00:00 tail 
20787 ttyp1    00:00:05 emacs
21382 ttyp1    00:00:00 less 
21422 ttyp1    00:00:00 zsh  
21424 ttyp1    00:00:00 ps  

### end example

I am not a zsh-workers subscriber, so please cc me as
appropriate.    

        -Paul <kimoto@lightlink.com>

