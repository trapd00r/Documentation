From zsh-users-return-3259-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Jul 06 11:03:37 2000
Return-Path: <zsh-users-return-3259-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17004 invoked from network); 6 Jul 2000 11:03:35 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 6 Jul 2000 11:03:35 -0000
Received: (qmail 27232 invoked by alias); 6 Jul 2000 11:03:10 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 3259
Received: (qmail 27225 invoked from network); 6 Jul 2000 11:03:09 -0000
Date: Thu, 6 Jul 2000 13:03:06 +0200
From: Bernd Eggink <eggink@uni-hamburg.de>
To: Zsh Users <zsh-users@sunsite.auc.dk>
Subject: Re: Probs with nested braces in PROMPT
Message-ID: <20000706130302.A3470@eggink3.rrz.uni-hamburg.de>
Mail-Followup-To: Zsh Users <zsh-users@sunsite.auc.dk>
References: <20000706113451.A2892@eggink3.rrz.uni-hamburg.de> <000601bfe730$ee914ed0$21c9ca95@mow.siemens.ru>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.3.2i
In-Reply-To: <000601bfe730$ee914ed0$21c9ca95@mow.siemens.ru>; from Andrej.Borsenkow@mow.siemens.ru on Thu, Jul 06, 2000 at 01:59:53PM +0400

On Thu, Jul 06, 2000 at 01:59:53PM +0400, Andrej Borsenkow wrote:
> >
> > PROMPT='%{^[[5;46m%}%m:%l %T %~${PROJECT:+
> > %{^[[31m[%}}$PROJECT${PROJECT:+]%{^[[30m%}}%#%{^[[0m%}'
> >
> 
> You do have promptsubst set, don't you?
> 
> What about
> 
> PROMPT='%{^[[5;46m%}%m:%l %T %~${PROJECT:+
> %{^[[31m[%\}}$PROJECT${PROJECT:+]%{^[[30m%\}}%#%{^[[0m%}'
> 
> (note, that `}' in %} are quoted). This seems to work. I suspect, why it
> happens, but I do not know code good enugh.

Thanks, this works. My first attempt was to quote both of the braces %\{
...  %\}, but that resulted in something like this:

    eggink3:2 13:01 ~/necht {[ecc]{%

Regards,
Bernd

-- 
Bernd Eggink
Regionales Rechenzentrum der Uni Hamburg
eggink@uni-hamburg.de
http://www.rrz.uni-hamburg.de/eggink/BEggink.html

