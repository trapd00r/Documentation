From zsh-users-return-11794-mason-zsh=primenet.com.au@sunsite.dk Thu Aug 23 14:59:46 2007
Return-Path: <zsh-users-return-11794-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10131 invoked from network); 23 Aug 2007 14:59:44 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.1 (2007-05-02) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.1
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 23 Aug 2007 14:59:44 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 75246 invoked from network); 23 Aug 2007 14:59:39 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 23 Aug 2007 14:59:39 -0000
Received: (qmail 13999 invoked by alias); 23 Aug 2007 14:59:25 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 11794
Received: (qmail 13983 invoked from network); 23 Aug 2007 14:59:24 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 23 Aug 2007 14:59:24 -0000
Received: (qmail 73852 invoked from network); 23 Aug 2007 14:59:23 -0000
Received: from cluster-g.mailcontrol.com (85.115.41.190)
  by a.mx.sunsite.dk with SMTP; 23 Aug 2007 14:59:19 -0000
Received: from cameurexb01.EUROPE.ROOT.PRI ([62.189.241.200])
	by rly04g.srv.mailcontrol.com (MailControl) with ESMTP id l7NEwftg000377
	for <zsh-users@sunsite.dk>; Thu, 23 Aug 2007 15:59:13 +0100
Received: from news01.csr.com ([10.103.143.38]) by cameurexb01.EUROPE.ROOT.PRI with Microsoft SMTPSVC(6.0.3790.1830);
	 Thu, 23 Aug 2007 15:59:02 +0100
Received: from news01.csr.com (localhost.localdomain [127.0.0.1])
	by news01.csr.com (8.13.8/8.13.4) with ESMTP id l7NEx3Il013375
	for <zsh-users@sunsite.dk>; Thu, 23 Aug 2007 15:59:03 +0100
Received: from csr.com (pws@localhost)
	by news01.csr.com (8.13.8/8.13.8/Submit) with ESMTP id l7NEx2RF013372
	for <zsh-users@sunsite.dk>; Thu, 23 Aug 2007 15:59:03 +0100
Message-Id: <200708231459.l7NEx2RF013372@news01.csr.com>
X-Authentication-Warning: news01.csr.com: pws owned process doing -bs
To: zsh-users@sunsite.dk
Subject: Re: How to add two empty lines before and after output (stdout) of any command? 
In-reply-to: <070823074718.ZM14084@torch.brasslantern.com> 
References: <91f598150708222016n4e8db3a1p194b171819cdd91c@mail.gmail.com> <070823074718.ZM14084@torch.brasslantern.com>
Comments: In-reply-to Bart Schaefer <schaefer@brasslantern.com>
   message dated "Thu, 23 Aug 2007 07:47:18 -0700."
Date: Thu, 23 Aug 2007 15:59:02 +0100
From: Peter Stephenson <pws@csr.com>
X-OriginalArrivalTime: 23 Aug 2007 14:59:02.0884 (UTC) FILETIME=[24D06240:01C7E596]
Content-Type: text/plain
MIME-Version: 1.0
X-Scanned-By: MailControl A-07-08-00 (www.mailcontrol.com) on 10.71.0.114

Bart Schaefer wrote:
> On Aug 23,  9:16am, Y@R wrote:
> }
> } Is it possible to solve this problem?
> 
> The short answer to this is "no."
> 
> The long answer is that in general the shell doesn't have any idea what
> (or if any) output a given command produces.  For external commands,
> the shell completely surrenders control of the terminal and waits for
> the command to finish; it can't tell what happens to the display in
> the interim.

Hmm... now you've spelled out the problem, it reminds me that there are
ways of prodding certain sorts of terminal including xterm into
reporting the cursor position.  If you do this before and after, you can
guess what's happened, although there are numerous cases (e.g. right at
the bottom of the screen) where this isn't good enough.  Then you have
to start looking at what characters are on the screen.  I suspect this
isn't going anywhere.

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR PLC, Churchill House, Cambridge Business Park, Cowley Road
Cambridge, CB4 0WZ, UK                          Tel: +44 (0)1223 692070


.

