From zsh-workers-return-13010-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Oct 17 15:31:41 2000
Return-Path: <zsh-workers-return-13010-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 28395 invoked from network); 17 Oct 2000 15:31:39 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 17 Oct 2000 15:31:39 -0000
Received: (qmail 15081 invoked by alias); 17 Oct 2000 15:31:34 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 13010
Received: (qmail 15074 invoked from network); 17 Oct 2000 15:31:33 -0000
Date: Tue, 17 Oct 2000 16:31:06 +0100
From: Peter Stephenson <pws@csr.com>
Subject: 3.1.9-dev-7
To: zsh-workers@sunsite.auc.dk (Zsh hackers list)
Message-id: <0G2K0054RZ3TAT@la-la.cambridgesiliconradio.com>
Content-transfer-encoding: 7BIT

I've finally uploaded a new version to
ftp://ftp.zsh.org/pub/development/zsh-3.1.9-dev-7.tar.gz

Bart just pointed out the number of the new version at the top of ChangeLog
is wrong, which I've now corrected.

I don't think any of the changes are critical.


2000-10-17  Sven Wischnowsky  <wischnow@zsh.org>

	* 13005: Src/Zle/computil.c: make _arguments ignore unspecified
 	non-option arguments to the right of the cursor
	
2000-10-17  Peter Stephenson  <pws@csr.com>

	* Config/version.mk, Functions/Zle/.distfiles,
	Completion/Core/.distfiles: 3.1.9-dev-7

	* Functions/Misc/zmv: in verbose mode, report if something was
	skipped because it didn't change.
	
2000-10-16  Sven Wischnowsky  <wischnow@zsh.org>

	* 13003: Test/54compmatch.ztst: add tests for the stuff in 12995
	
2000-10-13  Bart Schaefer  <schaefer@zsh.org>

	* 13000: Doc/Zsh/jobs.yo: Document tty restoration when a stopped
	job is resumed with fg.  This was previously documented only under
	the STTY parameter, but it applies to all stopped jobs.

2000-10-13  Sven Wischnowsky  <wischnow@zsh.org>

	* 12995: Src/Zle/compmatch.c: two completion matching fixes; wrong
 	(path) prefix matching (removed path components) and reverse order
 	of sub-strings in match-strings
	
2000-10-12  Sven Wischnowsky  <wischnow@zsh.org>

	* 12974: Completion/Core/_tags, Completion/Core/_sort_tags,
	Doc/Zsh/compsys.yo: remove possibility for func() entries in
	tag-order style, can be done using zstyle -e

	* 12954, 12973: Completion/Builtins/_zstyle,
	Completion/Core/_path_files, Doc/Zsh/compsys.yo: rename fake style
	to fake-files
	
2000-10-11  Andrej Borsenkow <Andrej.Borsenkow@mow.siemens.ru>

	* 12958: Cosmo <cosmo@informix.com>: aczsh.m4: fix for NCR compiler

2000-10-11  Sven Wischnowsky  <wischnow@zsh.org>

	* 12960: Completion/Builtins/_zstyle, Completion/Commands/_expand_word,
 	Completion/Core/_all_matches, Completion/Core/_expand,
 	Doc/Zsh/compsys.yo, Doc/Zsh/compwid.yo, Src/Zle/comp.h,
 	Src/Zle/compcore.c, Src/Zle/complete.c, Src/Zle/complist.c,
 	Src/Zle/compresult.c:add _all_matcher completer and supporting
 	C-code for adding a special match representing all other matches;
 	remove completions style from _expand(|_word)
	
	* 12959: Src/Zle/compcore.c, Src/Zle/complist.c: make user defined
 	completion widgets leave menu selection without accepting the
 	currently selected match
	
2000-10-10  Sven Wischnowsky  <wischnow@zsh.org>

	* 12948: Completion/Core/_expand: follow-up to 12942, only a
 	missing redirection
	
	* 12946: Completion/Base/_math, Completion/Base/_subscript,
 	Completion/Builtins/_vars, Completion/Builtins/_zstyle,
 	Completion/Core/_parameters, Doc/Zsh/compsys.yo: add
 	fake-parameters style to allow completing parameters which are not
 	yet set
	
	* 12942,12945: Completion/Core/_expand: temporarily remove global
 	aliases to avoid error message inside the evals
	
	* 12941: Src/Zle/compmatch.c: follow-up to 12930, make it first
 	try exact character matches, but enable it to go back to try match
 	specs if it fails after accepting such character matches
	
2000-10-09  Sven Wischnowsky  <wischnow@zsh.org>

	* 12930: Src/Zle/compmatch.c: prefer exact character matches over
 	match specs (so that `nom' can match `nomatch' in _options)
	
2000-10-06  Sven Wischnowsky  <wischnow@zsh.org>

	* 12919: Completion/User/_tiff, Completion/X/_xv: search for *.tif
 	files, too
	
	* 12917: Completion/Bsd/_bsd_pkg, Completion/Bsd/_kld,
 	Completion/Builtins/_autoload, Completion/Builtins/_cd,
 	Completion/Builtins/_compdef, Completion/Builtins/_popd,
 	Completion/Core/_expand, Completion/Core/_path_files,
 	Completion/Linux/_rpm, Completion/User/_gcc, Completion/User/_gdb,
 	Completion/User/_mailboxes, Completion/User/_man,
 	Completion/User/_perl_modules, Completion/User/_printers,
 	Completion/User/_zdump: more option setting cleanup; remove some
 	unnecessary setopts, remove N qualifiers
	
2000-10-05  Bart Schaefer  <schaefer@zsh.org>

	* 12912: Completion/Commands/_bash_completions,
	Completion/Commands/_complete_debug,
	Completion/Commands/_complete_help,
	Completion/Commands/_correct_word,
	Completion/Commands/_expand_word,
	Completion/Commands/_history_complete_word,
	Completion/Commands/_next_tags, Completion/Core/_main_complete:
	Other places where `unsetopt cshnullglob' is needed.

2000-10-05  Sven Wischnowsky  <wischnow@zsh.org>

	* 12901: Doc/Zsh/compwid.yo, Doc/Zsh/manual.yo: cleanup for 12896
	
	* 12899: Completion/Core/_main_complete: unset cshnullglob
	
	* 12898: Src/parse.c: don't return invalid Eprog after parse error
	
	* 12897: Src/Zle/computil.c: comparguments: don't use
 	rest-argument-specification if it was inactivated
	
	* 12896: Doc/Zsh/arith.yo, Doc/Zsh/builtins.yo, Doc/Zsh/compctl.yo,
 	Doc/Zsh/compsys.yo, Doc/Zsh/compwid.yo, Doc/Zsh/expn.yo,
 	Doc/Zsh/func.yo, Doc/Zsh/mod_complist.yo: cleanup
	
	* 12892: Completion/Core/_files, Completion/Core/_path_files,
 	Doc/Zsh/compsys.yo, Doc/Zsh/expn.yo: complete after automounted
 	directories (a rather ugly hack); remove old code in _files (comma
 	separated patterns); improve docs for fake style and for comma
 	separated qualifier lists
	
2000-10-04  Tanaka Akira  <akr@zsh.org>

	* 12886: Completion/User/_cvs: make _cvs_vendor_branches to handle
	remote-access style.

2000-10-04  Sven Wischnowsky  <wischnow@zsh.org>

	* 12885: Src/Zle/zle_tricky.c: don't stop parsing too early when
 	completing inside a command substitution
	
	* 12884: Src/Zle/compcore.c: don't forget a displayed list when
 	starting menu completion
	
2000-10-04  Tanaka Akira  <akr@zsh.org>

	* 12872: Completion/User/_cvs: Fix modules completion when a cvsroot
	specified in a command line begins with tilde.  Generate subcommand
	list from `cvs --help-commands' and `cvs --help-synonyms'.  Complete
	remote modules. Complete vendor branch for a second argument of
	`cvs import'.  Use _call.

2000-10-02  Bart Schaefer  <schaefer@zsh.org>

	* 12869: Src/builtin.c, Src/exec.c, Src/glob.c, Src/signals.c,
	Src/utils.c: Change several zerr() to zwarn(), either because
	errflag was immediately cleared after calling zerr(), or to make
	builtin commands fail normally (with nonzero exit status) rather
	than aborting all the way back to top level.

2000-10-01  Clint Adams  <schizo@debian.org>

	* unposted: Src/Zle/compresult.c: remove unused variable declaration.

2000-09-27  Clint Adams  <schizo@debian.org>

	* 12863: Src/string.c, Src/Zle/compresult.c: remove ztrdupstring(),
	fold guts back into ztat(), change memory allocation to VARARR.

2000-09-25  Bart Schaefer  <schaefer@zsh.org>

	* 12862: Src/exec.c: Fix STTY parameter to match documentation.
	(Plus unposted addition at the end of execcmd() to clear STTYval.)

2000-09-22  Clint Adams  <schizo@debian.org>

	* 12860: Src/jobs.c: don't check length against PATH_MAX or
	truncate.

	* 12859: Src/string.c, Src/Zle/compresult.c:
	dynamically allocate buffer in ztat, remove
	duplication loop to ztrdupstrip().

2000-09-20  Bart Schaefer  <schaefer@zsh.org>

	* 12851, 12852: Completion/Commands/_expand_word,
	Completion/Core/_expand, Doc/Zsh/compsys.yo: Change the way the
	completers are selected for _expand_word; clarify and update doc.

2000-09-20  Andrej Borsenkow <Andrej.Borsenkow@mow.siemens.ru>

	* 12848: Doc/Zsh/zle.yo: Alphabetize list of parameters

	* 12842 with corrections of Bart: Doc/Zsh/contrib.yo: Clarify
	digest file usage.

2000-09-19  Clint Adams  <schizo@debian.org>

	* 12847: Src/builtin.c: dynamically allocate z and buf in
	bin_whence().

	* 12846: Src/.distfiles, Src/mem.c, Src/string.c, Src/utils.c,
	Src/zsh.mdd: Move dupstring(), ztrdup(), tricat(), zhtricat(),
	dyncat(), dupstrpfx(), ztrduppfx(), and appstr() to string.c.

	* 12845: Src/Modules/files.c: dynamically allocate pbuf in domove().

2000-09-18  Andrej Borsenkow <Andrej.Borsenkow@mow.siemens.ru>

	* 12835: Doc/Zsh/compwid.yo: Alphabetize list of special parameters

2000-09-18  Clint Adams  <schizo@debian.org>

	* 12836: Src/Modules/files.c: use ztrdup()/appstr() in lieu of
	statically-allocated buffer in bin_ln.

2000-09-18  Bart Schaefer  <schaefer@zsh.org>

	* 12833: Back out the zasprintf changes from 12814, they're not
	being used any more and they break common builds like SunOS.

2000-09-17  Bart Schaefer  <schaefer@zsh.org>

	* 12829: Src/glob.c, Src/init.c, Src/utils.c: Move dyncat() and
	tricat() to utils.c; rewrite 12814, 12818, 12827 and 12828 for
	less allocation-intensive behavior.

2000-09-18  Clint Adams  <schizo@debian.org>

	* 12828: Src/utils.c: dynamically allocate 'dir' in mailstat.

	* 12827: Src/utils.c: dynamically allocate 'file' in mailstat.

2000-09-17  Clint Adams  <schizo@debian.org>

	* unposted: Src/system.h, Src/utils.c: define mailstat()
	as a macro if MAILDIR_SUPPORT is undefined.

	* 12823: Src/builtin.c, Src/utils.c: use zsh heap instead of
	permanent heap.

	* 12821: Src/builtin.c: bin_dot is now independent of PATH_MAX.

2000-09-16  Bart Schaefer  <schaefer@zsh.org>

	* 12817: Doc/Zsh/builtins.yo, Src/builtin.c: Give meaning to
	"typeset +m" and "typeset +g -m".

2000-09-16  Clint Adams  <schizo@debian.org>

	* 12818: Src/init.c: call tricat() instead of zasprintf()
	as inspired by Bart.

	* 12814: configure.in, Src/compat.c, Src/init.c, Src/system.h:
	implement zasprintf and use it in lieu of sprintf with a
	static buffer in sourcehome().

2000-09-15  Bart Schaefer  <schaefer@zsh.org>

	* unposted: Doc/Zsh/contrib.yo: Missing hunk from 12765 (replace
	another use of "wordcode").

2000-09-14  Bart Schaefer  <schaefer@zsh.org>

	* 12804: Src/builtin.c: "typeset -m" implies "-g".

	* unposted: Completion/Commands/_complete_debug: Changed my mind
	about the edit to 12800.

2000-09-13  Bart Schaefer  <schaefer@zsh.org>

	* 12800: E. Jay Berkenbilt: Completion/Commands/_complete_debug:
	Quote the file name pushed onto the history, in case the command
	word has strange characters in it.  (Slighty edited.)

2000-09-11  Bart Schaefer  <schaefer@zsh.org>

	* 12793: Completion/Builtins/_zle, Doc/Zsh/compwid.yo,
	Doc/Zsh/mod_zle.yo: Convert _zle to use _arguments; fix typos.

2000-09-08  Andrej Borsenkow <Andrej.Borsenkow@mow.siemens.ru>

	* 12779: Src/system.h: Comment out #define _XPG_IV for sinix.
	It was not correct to set it here, and is not needed with
	currently supported versions. If anybody happens to run really
	outdated SINIX, we should add check for gettimeofday prototype
	instead.

2000-09-07  Bart Schaefer  <schaefer@zsh.org>

	* 12773: Doc/Zsh/contrib.yo, Functions/Zle/smart-insert-last-word:
	Add the smart-insert-last-word function from zsh-users/3272.
	Change "completion style" to "widget style" in a few places.

2000-09-07  Sven Wischnowsky  <wischnow@zsh.org>

	* 12769: Completion/Builtins/_cd: more sensible value
	
	* 12768: as suggested by Andrej (12767): Completion/Bsd/_bsd_pkg,
	Completion/Bsd/_kld, Completion/User/_gcc, Completion/User/_gdb,
 	Completion/User/_mailboxes, Completion/User/_zdump: stick some
 	`N's into glob patterns
	
2000-09-06  Bart Schaefer  <schaefer@zsh.org>

	* 12765,12766: Doc/Zsh/builtins.yo, Doc/Zsh/contrib.yo: Eliminate
	use of "wordcode".

2000-09-06  Peter Stephenson  <pws@csr.com>

	* 12762: Akinori MUSHA: configure.in, Completion/Bsd/_kld:
	changes for new FreeBSD releases.

2000-09-06  Andrej Borsenkow <Andrej.Borsenkow@mow.siemens.ru>

	* 12761: Doc/ztexi.yo: `` was converted into " by makeinfo;
	use `@:` instead. In line, use `{}` for tex, this looks better
	in printed output.

	* unposted: aczsh.m4, conifgure.in:  Remove patch from 12686
	that was accidentally commited

2000-09-05  Bart Schaefer  <schaefer@zsh.org>

	* 12745: Doc/Zsh/contrib.yo: Add a cross-reference; include some
	comments about using completers with predict-on.

2000-09-05  Sven Wischnowsky  <wischnow@zsh.org>

	* 12744: Doc/Zsh/contrib.yo, Doc/Zsh/mod_complist.yo,
 	Functions/Zle/incremental-complete-word: change context for i-c-w
 	styles, update docs
	
2000-09-04  Bart Schaefer  <schaefer@zsh.org>

	* 12742: Doc/.distfiles, Doc/Makefile.in, Doc/Zsh/.distfiles,
	Doc/Zsh/builtins.yo, Doc/Zsh/compsys.yo, Doc/Zsh/contrib.yo,
	Doc/Zsh/manual.yo, Doc/Zsh/zftpsys.yo, Doc/Zsh/zle.yo,
	Doc/zsh.yo, Doc/zshcontrib.yo, Functions/Prompts/promptinit,
	Functions/Zle/history-search-end, Functions/Zle/predict-on:
	Create new "User Contributions" chapter in the manual; move
	some items there from existing chapters; fix a few typos.
	Minor improvements to promptinit and history-search-end.
	Larger improvements to predict-on, including removing the
	`:completion' prefix from most of its style contexts.

2000-09-04  Peter Stephenson  <pws@csr.com>

	* 12741: Src/math.c: problem with nested matheval unexpectedly
	stomping on outputradix.

2000-09-04  Andrej Borsenkow <Andrej.Borsenkow@mow.siemens.ru>

	* 12736: configure.in: Fix `make install' dependency
	for Cygwin static build

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
Cambridge Silicon Radio, Unit 300, Science Park, Milton Road,
Cambridge, CB4 0XL, UK                          Tel: +44 (0)1223 392070

