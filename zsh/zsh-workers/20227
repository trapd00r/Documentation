From zsh-workers-return-20227-mason-zsh=primenet.com.au@sunsite.dk Fri Jul 30 16:53:52 2004
Return-Path: <zsh-workers-return-20227-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 7333 invoked from network); 30 Jul 2004 16:53:51 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 30 Jul 2004 16:53:51 -0000
Received: (qmail 23971 invoked from network); 30 Jul 2004 16:53:46 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 30 Jul 2004 16:53:46 -0000
Received: (qmail 11961 invoked by alias); 30 Jul 2004 16:53:37 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 20227
Received: (qmail 11952 invoked from network); 30 Jul 2004 16:53:37 -0000
Received: from unknown (HELO a.mx.sunsite.dk) (130.225.247.88)
  by 130.225.247.90 with SMTP; 30 Jul 2004 16:53:37 -0000
Received: (qmail 23221 invoked from network); 30 Jul 2004 16:51:38 -0000
Received: from homer.w3.org (18.29.0.30)
  by a.mx.sunsite.dk with SMTP; 30 Jul 2004 16:51:36 -0000
Received: from jibboom (localhost [127.0.0.1])
	by homer.w3.org (Postfix) with ESMTP id C58224F055;
	Fri, 30 Jul 2004 12:51:33 -0400 (EDT)
Received: by jibboom (Postfix, from userid 1000)
	id 596AE12C84; Fri, 30 Jul 2004 18:51:33 +0200 (CEST)
Date: Fri, 30 Jul 2004 18:51:33 +0200
From: Hugo Haas <hugo@larve.net>
To: Clint Adams <schizo@debian.org>
Cc: zsh-workers@sunsite.dk, 262247-forwarded@bugs.debian.org
Subject: Re: Bug#262247: zsh: Improved make completion
Message-ID: <20040730165133.GL12279@larve.net>
References: <20040730101751.GA11905@larve.net> <20040730153054.GA4059@scowler.net>
Mime-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-md5;
	protocol="application/pgp-signature"; boundary="mkHYMT4O8DyWoHkb"
Content-Disposition: inline
In-Reply-To: <20040730153054.GA4059@scowler.net>
User-Agent: Mutt/1.5.6+20040523i
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, hits=-4.9 required=6.0 tests=BAYES_00 autolearn=no 
	version=2.63
X-Spam-Hits: -4.9


--mkHYMT4O8DyWoHkb
Content-Type: text/plain; charset=utf-8
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

* Clint Adams <schizo@debian.org> [2004-07-30 11:30-0400]
> > Attached is a Perl script that can be used as a replacement of the
> > Perl script appearing in the make completion code (_make) to follow
> > include statements in Makefiles.
>=20
> You mean it should replace the expression
>=20
> '@matches =3D /^(?:([a-zA-Z0-9]+[^\/\t=3D\s]+)\s*)+:/  and
>         print join(" ", @matches);
> if (/^\.include\s+\<bsd\.port\.(subdir\.|pre\.)?mk>/ ||
>     /^\.include\s+\".*mk\/bsd\.pkg\.(subdir\.)?mk\"/) {
>     print "fetch fetch-list extract patch configure build install reinsta=
ll dein
> stall package describe checkpatch checksum makesum\n";
>     }
> '
>=20
> in _make?

Yes, it basically does the same, but follows include statements. It
doesn't work for something like "include $(MYFILE)", but works for
"include myfile" =E2=80=94 resolving variable seemed complex.

> Maybe the perl and awk bits should be replaced by some native Z-Shell par=
sing.

I agree, but that sounds complex to do. :-)

Cheers,

Hugo

--=20
Hugo Haas - http://larve.net/people/hugo/

--mkHYMT4O8DyWoHkb
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: Digital signature
Content-Disposition: inline

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.4 (GNU/Linux)

iQCVAwUBQQp8laN/9WeKWvkNAQFOfgQAjY6/f3omKzm7rjf6kS0n9X6bCE0OIKfI
hIl0GCgLVzzP3UpeFHaLcZ2D4zigYy5416ehCBD4/PAG6LMnAXFYcWrPPcsBDnzP
Pha/L3epWCrSUm0tNk9VmjnH8G4bhh5i3fK2URDLz0sZCdd59xH5Dy3mNzAjpZXx
12PQv+zWAHE=
=4jFl
-----END PGP SIGNATURE-----

--mkHYMT4O8DyWoHkb--

