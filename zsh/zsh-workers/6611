From zsh-workers-return-6611-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Jun 14 08:09:02 1999
Return-Path: <zsh-workers-return-6611-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 27462 invoked from network); 14 Jun 1999 08:09:01 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 14 Jun 1999 08:09:01 -0000
Received: (qmail 29659 invoked by alias); 14 Jun 1999 08:08:54 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 6611
Received: (qmail 29652 invoked from network); 14 Jun 1999 08:08:52 -0000
To: zsh-workers@sunsite.auc.dk
Path: mason
From: mason@primenet.com.au (Geoff Wing)
X-Newsgroups: lists.zsh.workers
Subject: Re: BUG: 3.1.5-pws-21: lfs
Date: 14 Jun 1999 08:08:42 GMT
Organization: PrimeNet Computer Consultants
Lines: 20
Distribution: local
Message-ID: <slrn7m9e4a.qn8.mason@coral.primenet.com.au>
References: <slrn7m73a2.fkh.mason@coral.primenet.com.au>
Reply-To: mason@primenet.com.au
NNTP-Posting-Host: coral.primenet.com.au
X-Trace: coral.primenet.com.au 929347722 27369 203.43.15.2 (14 Jun 1999 08:08:42 GMT)
X-Complaints-To: usenet@coral.primenet.com.au
NNTP-Posting-Date: 14 Jun 1999 08:08:42 GMT
User-Agent: slrn/0.9.5.6 (UNIX)

Geoff Wing <mason@primenet.com.au> typed:
:Heyla, with
:% ./configure  --enable-zsh-debug --enable-zsh-mem --enable-zsh-mem-debug \
:--enable-zsh-mem-warning --enable-zsh-secure-free --enable-zsh-hash-debug \
:--enable-lfs --enable-dynamic
:
:I get a near continuous spew out of:
:	BUG: attempt to free storage at invalid address

Occurs due to malloc() not aligning on M_ALIGN.  malloc(3) on my system
says:
 "The allocated space is suitably aligned (after possible pointer coercion)
  for storage of any type of object."
It aligns on 32 bits not 64 bits (M_ALIGN size).

Regards,
-- 
Geoff Wing : <gcw@pobox.com>     Work URL: http://www.primenet.com.au/
Rxvt Stuff : <gcw@rxvt.org>      Ego URL : http://pobox.com/~gcw/
Zsh Stuff  : <gcw@zsh.org>       Phone   : (Australia) 0413 431 874

