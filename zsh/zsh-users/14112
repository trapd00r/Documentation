From zsh-users-return-14112-mason-zsh=primenet.com.au@sunsite.dk Tue May 12 20:49:32 2009
Return-Path: <zsh-users-return-14112-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 15469 invoked from network); 12 May 2009 20:49:29 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 12 May 2009 20:49:29 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 28195 invoked from network); 12 May 2009 20:49:19 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 12 May 2009 20:49:19 -0000
Received: (qmail 12023 invoked by alias); 12 May 2009 20:49:02 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 14112
Received: (qmail 12014 invoked from network); 12 May 2009 20:49:02 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 12 May 2009 20:49:02 -0000
Received: from atom.smasher.org (atom.smasher.org [69.55.237.145])
	by bifrost.dotsrc.org (Postfix) with SMTP id 2728B8028C72
	for <zsh-users@sunsite.dk>; Tue, 12 May 2009 22:48:46 +0200 (CEST)
Received: (qmail 52186 invoked by uid 1000); 12 May 2009 20:48:44 -0000
Message-ID: <20090512204844.52185.qmail@smasher.org>
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed
Date: Wed, 13 May 2009 08:48:41 +1200 (NZST)
From: Atom Smasher <atom@smasher.org>
In-Reply-To: <090512080953.ZM16503@torch.brasslantern.com>
MIME-Version: 1.0
OpenPGP: id=0xB88D52E4D9F57808; algo=1 (RSA); size=4096; url=http://atom.smasher.org/pgp.txt
References: <20090512074013.66710.qmail@smasher.org>
 <090512080953.ZM16503@torch.brasslantern.com>
Subject: Re: read & leading (and trailing) spaces
To: zsh-users@sunsite.dk
X-POM: The Moon is Waning Gibbous (88% of Full)
X-Hashcash: 1:20:0905122048:zsh-users@sunsite.dk::Z8msz2xQu8WNl89U:0000000000000
	00000000000000000000000050Q5
X-Virus-Scanned: ClamAV 0.92.1/9355/Tue May 12 19:42:46 2009 on bifrost
X-Virus-Status: Clean

On Tue, 12 May 2009, Bart Schaefer wrote:

> On May 12,  7:40pm, Atom Smasher wrote:
> }
> } this doesn't work as advertised when the input includes leading and/or
> } trailing spaces:
> }  	read -r foo ; print -r -- "${foo}"
>
> As advertised where?  The doc is silent on the treatment of leading and 
> trailing spaces; under -r, it says only that backslashes aren't special.
>
> (The doc probably *shouldn't* be silent but that's another matter.)
================

my interpretation of "raw" would mean "output is _identical_ to input". 
should i apply a different interpretation to the read builtin?


> I think you'll find that "read" in ksh, bash, etc. also removes leading
> and trailing IFS characters, even with -r.
==================

if all of the other shells jumped off a bridge, would zsh jump too? 
SH_WORD_SPLIT is a good example of all the ~other~ shells being broken and 
zsh doing The Right Thing(tm) by default.


> } i can work around that by setting IFS to either null (IFS='') or setting
> } it to just a newline (IFS='
> } '). should i expect problems (in older or newer versions of zsh) using
> } either of those tricks to make read recognize leading/trailing spaces?
>
> You should not expect problems with that, it's standard IFS behavior.
==================

as long as i can work around it. thanks...


-- 
         ...atom

  ________________________
  http://atom.smasher.org/
  762A 3B98 A3C3 96C9 C6B7 582A B88D 52E4 D9F5 7808
  -------------------------------------------------

 	"... we must counterpose the overwhelming judgment provided
 	 by consistent observations and inferences by the thousands.
 	 The earth is billions of years old and its living creatures
 	 are linked by ties of evolutionary descent. Scientists stand
 	 accused of promoting dogma by so stating, but do we brand
 	 people illiberal when they proclaim that the earth is neither
 	 flat nor at the center of the universe? Science *has* taught
 	 us some things with confidence! Evolution on an ancient earth
 	 is as well established as our planet's shape and position.
 	 Our continuing struggle to understand how evolution happens
 	 (the 'theory of evolution') does not cast our documentation
 	 of its occurrence -- the 'fact of evolution' -- into doubt."
 		-- Stephen Jay Gould, "The Verdict on Creationism",
 		The Skeptical Inquirer, Vol. XII No. 2.

