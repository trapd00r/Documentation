From zsh-users-return-3706-mason-zsh=primenet.com.au@sunsite.dk Tue Mar 20 21:58:24 2001
Return-Path: <zsh-users-return-3706-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10220 invoked from network); 20 Mar 2001 21:58:22 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 20 Mar 2001 21:58:22 -0000
Received: (qmail 17773 invoked by alias); 20 Mar 2001 21:57:57 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 3706
Received: (qmail 17759 invoked from network); 20 Mar 2001 21:57:56 -0000
Date: Tue, 20 Mar 2001 14:59:49 -0700 (MST)
From: Jeff Shipman <shippy@nmt.edu>
X-X-Sender:  <shippy@neptune>
To: <zsh-users@sunsite.dk>
Subject: prompt weirdness
Message-ID: <Pine.LNX.4.31.0103201457480.8340-100000@neptune>
Organization: New Mexico Institute of Mining and Technology
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

I've got the following prompt setting:

PROMPT="%n@%m:%B%30<...<%~%b%(!.#.>) "

and it works great when I'm my normal
user (looks like: jeff@mother:~> ), but
when I su to root, which I have the following
function for:

su() { ZDOTDIR=/u/jeff command su "$@" -c zsh }

I am not seeing the # at the end. Instead, I
get only a single space after my home directory.

Why is this happening?

Jeff "Shippy" Shipman     E-Mail: shippy@nmt.edu
Computer Science Major    ICQ: 1786493
New Mexico Institute of Mining and Technology
Homepage: http://www.nmt.edu/~shippy

