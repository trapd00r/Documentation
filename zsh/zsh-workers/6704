From zsh-workers-return-6704-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Jun 17 15:23:32 1999
Return-Path: <zsh-workers-return-6704-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 22346 invoked from network); 17 Jun 1999 15:23:30 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 17 Jun 1999 15:23:30 -0000
Received: (qmail 13388 invoked by alias); 17 Jun 1999 15:22:14 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 6704
Received: (qmail 13381 invoked from network); 17 Jun 1999 15:22:12 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <990617152203.ZM5317@candle.brasslantern.com>
Date: Thu, 17 Jun 1999 15:22:03 +0000
In-Reply-To: <002401beb8b6$03bdc680$21c9ca95@mow.siemens.ru>
Comments: In reply to "Andrej Borsenkow" <borsenkow.msk@sni.de>
        "RE: PATCH: 3.0.6-pre-4: COLUMNS/LINES environment handling" (Jun 17,  3:39pm)
References: <002401beb8b6$03bdc680$21c9ca95@mow.siemens.ru>
X-Mailer: Z-Mail (5.0.0 30July97)
To: "Andrej Borsenkow" <borsenkow.msk@sni.de>, <zsh-workers@sunsite.auc.dk>
Subject: Re: PATCH: 3.0.6-pre-4: COLUMNS/LINES environment handling
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Jun 17,  3:39pm, Andrej Borsenkow wrote:
} Subject: RE: PATCH: 3.0.6-pre-4: COLUMNS/LINES environment handling
}
} > How much of all that needs to go in the manual? Lots of it should
} > go in the FAQ, including remarks about how it is broken in various
} > versions if we can figure that out.
} 
} Currently both LINES and COLUMNS are in section "Parameters used by
} shell". After this patch this is no more true (and presumably never
} was). So, at least, they should be moved to the section "Parameters
} set by shell" with explanation, when they are set.

They most certainly are used by the shell!  LINES is now used by the code
that displays `select name in ...' listings; LINES also determines whether
SINGLE_LINE_ZLE is asserted; COLUMNS determines placement of RPS1; and
both obviously affect the way multiline zle is used.

If you override LINES and COLUMNS and never cause a SIGWINCH to be sent to
the shell, they'll never change, even if they don't actually match the
size of your terminal, and zsh will behave as if the terminal is whatever
size you claimed.  This can be a bit strange if you try to make it use
a bigger window than you really have, but you get what you ask for.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

