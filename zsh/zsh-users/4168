From zsh-users-return-4168-mason-zsh=primenet.com.au@sunsite.dk Mon Aug 27 07:50:47 2001
Return-Path: <zsh-users-return-4168-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1145 invoked from network); 27 Aug 2001 07:50:46 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 27 Aug 2001 07:50:46 -0000
Received: (qmail 26961 invoked by alias); 27 Aug 2001 07:50:28 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4168
Received: (qmail 26948 invoked from network); 27 Aug 2001 07:50:27 -0000
From: "Preben Guldberg" <c928400@student.dtu.dk>
Date: Mon, 27 Aug 2001 09:50:25 +0200
To: zsh-users@sunsite.dk
Subject: Re: prompt quoting question
Message-ID: <20010827095025.A7989@student.dtu.dk>
Reply-To: Preben Peppe Guldberg <c928400@student.dtu.dk>
Mail-Followup-To: Preben Peppe Guldberg <c928400@student.dtu.dk>,
	zsh-users@sunsite.dk
References: <20010827004932.A11967@panix.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5i
In-Reply-To: <20010827004932.A11967@panix.com>; from "Russell Hoover" on [010827] at 00:49:32

Thus wrote Russell Hoover (rj@panix.com) den [010827]:

> But when I replace "tty" in the line above with `/usr/bin/tty | sed -e 's/\/dev\/tty//'`
> instead of displaying the tty number, the prompt is messed up:

>                  \e[1;32mMonday  2001/08/27  00:14:45 \e[mv

> and sed gives me an error message:

>                  sed: 1: "s//dev/tty//": bad flag in substitute command: 't'

> It seems to me the problem is in correctly quoting the 's/\/dev\/tty//' : the
> single quotes (within backtics within single quotes) won't cut it.  Any clues
> appreciated.

As for the quoting of the sed command, you could go for, say

    /usr/bin/tty | sed -e s_/dev/tty__

Peppe
-- 
                                      "Before you criticize someone, walk
Preben "Peppe" Guldberg  __/-\__       a mile in his shoes. That way, if
c928400@student.dtu.dk    (o o)        he gets angry, he'll be a mile away
----------------------oOOo (_) oOOo--  - and barefoot."    --Sarah Jackson

