From zsh-workers-return-6675-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Jun 16 15:42:31 1999
Return-Path: <zsh-workers-return-6675-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 6447 invoked from network); 16 Jun 1999 15:42:30 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 16 Jun 1999 15:42:30 -0000
Received: (qmail 2221 invoked by alias); 16 Jun 1999 15:42:08 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 6675
Received: (qmail 2213 invoked from network); 16 Jun 1999 15:42:07 -0000
From: "Andrej Borsenkow" <borsenkow.msk@sni.de>
To: "ZSH workers mailing list" <zsh-workers@sunsite.auc.dk>
Subject: resent: pws-22: killing the ZSH loops problem
Date: Wed, 16 Jun 1999 19:41:29 +0400
Message-ID: <001901beb80e$b39a2830$21c9ca95@mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2314.1300


[due to some problems it looks, like this one never made it's way to
zsh-workers. Sorry if you get it twice]


>
> It does not happen, if I use 'zsh -c "read line"' (that is, the whole
> loop is killed), but as it stays with every external command I tried.
>


Sorry for all these followups. It looks, like the problem happens with programs,
that catch SIGINT (sh, gzip, gzcat) but not with programs, that leave it default
(cat, zsh). In the latter case, Zsh gets information about child being
interraupted by SIGINT and reacts correctly. In the former case, Zsh only knows,
that program (normally) exited for whatever reason.

Looks, like Zsh cannot rely on child info and must handle INT itself. I wonder,
how 3.0.5 behaves in this case.

/andrej

