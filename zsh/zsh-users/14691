From zsh-users-return-14691-mason-zsh=primenet.com.au@zsh.org Sun Dec 27 01:54:39 2009
Return-Path: <zsh-users-return-14691-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2264 invoked by alias); 27 Dec 2009 01:54:39 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 14691
Received: (qmail 7455 invoked from network); 27 Dec 2009 01:54:38 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00,DKIM_SIGNED,
	DKIM_VERIFIED autolearn=ham version=3.2.5
Received-SPF: none (ns1.primenet.com.au: domain at yahoo.com does not designate permitted sender hosts)
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 140338.74638.bm@omp114.mail.ac4.yahoo.com
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1261878478; bh=dCpv0pF/zSOLbjbsePih5tYChtcLO6R/vL1sq3gFs5o=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:Cc:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=XjleyK4rex+KJ8mFfdMecdShccu7g+DOepHHPmAAsvi6tr/dKvDbYBqlAj7sOzNGTh2tM5XZk6RwnVORt8GuzmIOQ0g41nTlmQDi/0fDOYMRiLPuuBzS028UgaWR20/hhGCqHLrkh5zlZqlAabQYi5zl+3PpXqN9u0I7LxKf+cs=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:Cc:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=aVF5SCph/lbXAelf1HBMkTOLZIVq+S2vfi592DcJpglS4OZCYsXxTwX5DbYS5kcOVhYP8hphXYvILlWMMcsN4fR9Qiza9ifB2kPqkVfGQecOpmL8P1+N8HCMlQF3XfdFj7egXeeGh993+3PWguen64qTQkpp3Nbwj/OLBhRHGsQ=;
Message-ID: <13539.83135.qm@web65610.mail.ac4.yahoo.com>
X-YMail-OSG: KPUZLLMVM1kyQxvBVwfmekfDmqvFLhbF.tzZYyFhtRvaACtybZurG7cwZuRGp9hEjiZ6vHY0KjFkWdv.waRhkPGlNPltYhwBgvrZKp2UrjEbHOE_GknICEJxDC43oDV8ad.DaU3zd9uLHghoiwYTqcjNxvM3HskZQrNcUwUyu682LcNDpBylqjHwMzUz7GuhjZJtCrybQSB6r.suZsHQmi4AUoYFc2FyzclQV5Jhhp.cZmbVExUSeDsE.N7BY70ZVllZPZObfSgcln3_LCUOE._umMG4hIHEW0jYSefzYFtnOxz3EdeOCEpxSrhWqT1uAl0BsBZrSTJ_4NQc9DUmhkAWneptTjRWR6RLgEWFNAdhKWpOeYy9rSKxHxDV2..ChNGeGwF8qF2NW6uygqIH94YJbODeg02W9Hot8hMR3gcL7E8WcKNuc4T88EaUxowt3sEU.nNOHkp.LyZ3Klw.xDym8_Ktn6s-
X-Mailer: YahooMailClassic/9.0.20 YahooMailWebService/0.8.100.260964
Date: Sat, 26 Dec 2009 17:47:57 -0800 (PST)
From: Guido van Steen <gvsteen@yahoo.com>
Subject: Re: Encrypting history?
To: Lloyd Zusman <ljz@asfast.com>
Cc: zsh-users@zsh.org
In-Reply-To: <m2zl55uyzl.fsf@asfast.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Hi Lloyd, =0A=0AInteresting idea indeed! You might miss a feature like shar=
ing a history file across sessions. =0A=0AYou could overcome this by sepera=
tely saving all your sessions' increments to your history file, and then in=
corporating them into the history file when you login again. =0A=0AThis way=
 the entries of your history file might get out of order, but you could pro=
bably handle this by also saving the time when your commands were issued. =
=0A=0AI would also be interested in a zsh extension like that. =0A=0ABest w=
ishes, =0A=0AGuido =0A=0A--- On Sun, 27/12/09, Lloyd Zusman <ljz@asfast.com=
> wrote:=0A=0A> From: Lloyd Zusman <ljz@asfast.com>=0A> Subject: Encrypting=
 history?=0A> To: zsh-users@zsh.org=0A> Date: Sunday, 27 December, 2009, 5:=
55 AM=0A> I would like my command history to be=0A> stored in an encrypted =
file. I=0A> have read a few messages in this list from 2007 which state=0A>=
 that there=0A> isn't a straightforward way to do this within zsh, itself,=
=0A> and the use=0A> of an encrypted file system is suggested.=0A> =0A> How=
ever, I think that there might indeed be a way to=0A> accomplish this.=0A> =
=0A> Is it possible to do the following?=0A> =0A> Make sure that SAVEHIST i=
s set to 0.=0A> =0A> Then, on login, prompt the user for a password. Rememb=
er=0A> this password=0A> for the duration of the shell session. Then, use t=
his=0A> password along=0A> with a decryption program to read an encrypted h=
istory file=0A> called, for=0A> example, ~/.ehistory. Put the decrypted con=
tents of this=0A> file into the=0A> current shell's history list via the re=
peated use of the=0A> "print -s"=0A> command.=0A> =0A> Finally, on logout, =
pipe the output of "fc -ln 1" through a=0A> program=0A> which uses the same=
 password entered at login time to=0A> encrypt the=0A> history and write it=
 to the ~/.ehistory file.=0A> =0A> Can any of you see any reason for why th=
is would not work?=0A> =0A> Or alternatively, is there perhaps a better way=
 to do this=0A> within zsh?=0A> =0A> Thanks in advance.=0A> =A0 =0A> =0A> -=
- =0A>  Lloyd Zusman=0A>  ljz@asfast.com=0A>  God bless you.=0A> =0A> =0A=
=0A=0A      Get your new Email address!=0AGrab the Email name you&#39;ve al=
ways wanted before someone else does!=0Ahttp://mail.promotions.yahoo.com/ne=
wdomains/aa/

