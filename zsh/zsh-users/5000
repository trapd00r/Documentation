From zsh-users-return-5000-mason-zsh=primenet.com.au@sunsite.dk Tue May 28 11:06:19 2002
Return-Path: <zsh-users-return-5000-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13571 invoked from network); 28 May 2002 11:06:19 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 28 May 2002 11:06:19 -0000
Received: (qmail 27897 invoked by alias); 28 May 2002 11:05:51 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 5000
Received: (qmail 27881 invoked from network); 28 May 2002 11:05:49 -0000
Message-ID: <20020528110546.72148.qmail@web20307.mail.yahoo.com>
Date: Tue, 28 May 2002 04:05:46 -0700 (PDT)
From: Jukka Lehti <jukkalehti@yahoo.com>
Subject: Re: make completion on OpenBSD
To: Bart Schaefer <schaefer@brasslantern.com>
Cc: zsh-users@sunsite.dk
In-Reply-To: <Pine.LNX.4.44.0205261044460.15953-100000@ns1.sodaware.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

> That's what I was trying to tell you.  If you remove
> the backslashes, then the $(awk ...) runs at the
> time
> that you *define* the compctl, rather than at the
> time
> that you attempt a completion.  That's the effect of
> having it inside double quotes.  So without the
> backslashes, it only "works" if you run the compctl
> command in the same directory that holds the
> Makefile.

Ok, now I finally got it!

> After loading the new system with `compinit', unset
> the elements of the _comps assoc corresponding to
> the
> compctls that you prefer to use.  E.g.
> 
>  unset '_comps[foo]' '_comps[bar]' '_comps[etc]'
> 
> or (shorthand)
> 
>  noglob unset _comps[{foo,bar,etc}]

Amazing, this really works! :)

> > Maybe I should "port" my compctl rules to compsys
> > rules (I presume they can be override system
> > defaults?), but it takes time if it cannot be
> > automated.
> 
> There isn't any automated way, but it's possible
> that
> there are zstyle commands you could use to get the
> behavior that you want -- many of the new
> completions
> are very configurable.  Ask on the list about a few
> that are most important to you.

I think I'll use compctl for now, I have one system
where only zsh3 is installed. I guess compctl will not
be removed from zsh (ever/soon)?

>  Even if zstyles are
> not available it's possible that your different
> behaviors are generally useful enough to get folded
> into the distribution.

They seemed to work very well, make was an exception:

if in a Makefile is line

FOO :=

make <TAB> lists that also as possible completion,
although "make FOO" is meaningless.

One thing I really miss from default completions is
the "cd ..<TAB>" producing /. With Finnish/Swedish
(probably German, too) keyboards / is shift+7 and
that's quite a penalty.

Anyway, thanks again!

__________________________________________________
Do You Yahoo!?
Yahoo! - Official partner of 2002 FIFA World Cup
http://fifaworldcup.yahoo.com

