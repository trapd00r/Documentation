From zsh-workers-return-20110-mason-zsh=primenet.com.au@sunsite.dk Sun Jun 27 18:37:49 2004
Return-Path: <zsh-workers-return-20110-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1289 invoked from network); 27 Jun 2004 18:37:48 -0000
Received: from odin.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.85)
  by ns1.primenet.com.au with SMTP; 27 Jun 2004 18:37:48 -0000
Received: (qmail 17216 invoked from network); 27 Jun 2004 19:47:04 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 27 Jun 2004 19:47:04 -0000
Received: (qmail 15280 invoked by alias); 27 Jun 2004 18:37:29 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 20110
Received: (qmail 15270 invoked from network); 27 Jun 2004 18:37:29 -0000
Received: from odin.dotsrc.org (HELO a.mx.sunsite.dk) (qmailr@130.225.247.85)
  by sunsite.dk with SMTP; 27 Jun 2004 18:37:29 -0000
Received: (qmail 16931 invoked from network); 27 Jun 2004 19:46:55 -0000
Received: from unknown (HELO moonbase.zanshin.com) (@167.160.213.139)
  by a.mx.sunsite.dk with SMTP; 27 Jun 2004 19:46:54 -0000
Received: from toltec.zanshin.com (toltec.zanshin.com [64.84.47.166])
	by moonbase.zanshin.com (8.12.11/8.12.11) with ESMTP id i5RIbOqS025242;
	Sun, 27 Jun 2004 11:37:24 -0700
Date: Sun, 27 Jun 2004 11:37:24 -0700 (PDT)
From: Bart Schaefer <schaefer@brasslantern.com>
Reply-To: zsh-workers@sunsite.dk
To: zsh-workers@sunsite.dk
cc: 255788-forwarded@bugs.debian.org
Subject: Re: Bug#255788: $'' does not work after <<< 
In-Reply-To: <20040627174550.94612865D@pwstephenson.fsnet.co.uk>
Message-ID: <Pine.LNX.4.60.0406271129290.19831@toltec.zanshin.com>
References: <20040627174550.94612865D@pwstephenson.fsnet.co.uk>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, hits=0.0 required=6.0 tests=none autolearn=no version=2.63
X-Spam-Hits: 0.0

On Sun, 27 Jun 2004, Peter Stephenson wrote:

> ... and I was talking about the end marker: it seemed to be the
> conclusion of what you were saying that in:
> 
> cat <<$foo
> ...
> cat <<$'a\tb'
> ...
> cat <<"$(echo hello)"
> 
> the \t in the middle case was exanded, but the $ in the other two
> weren't.

The conclusion seems to be that $'...' is treated as a form of quoting, 
not a form of expansion, whereas `...` is treated as a form of expansion 
rather than a form of quoting; quoting applies, but expansion does not.  
Viz:

[schaefer]$ cat <<`echo foo`
> bar
> foo
> echo foo
> `echo foo`
bar
foo
echo foo
[schaefer]$ 

> I haven't even thought about changing anything to do with the
> contents.

Had my wires crossed again, it seems.

> I don't think that's our problem.  We consistently use singsub() for
> cases like this and I can't see why we shouldn't here.

I'm not sure whether you mean "that's [not] our problem" in the sense of
"that's not what we're doing wrong" or in the sense of "it's not incumbent
upon us to deal with that."

However, if indeed $'...' is meant as a form of quoting, then singsub() 
may be the wrong place for it to be handled -- other forms of quoting are
applied earlier in the parse.

