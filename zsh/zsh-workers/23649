From zsh-workers-return-23649-mason-zsh=primenet.com.au@sunsite.dk Tue Jul 03 16:43:41 2007
Return-Path: <zsh-workers-return-23649-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 192 invoked from network); 3 Jul 2007 16:43:39 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.1 (2007-05-02) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.1
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 3 Jul 2007 16:43:39 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 87050 invoked from network); 3 Jul 2007 16:43:31 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 3 Jul 2007 16:43:31 -0000
Received: (qmail 7202 invoked by alias); 3 Jul 2007 16:43:28 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 23649
Received: (qmail 7193 invoked from network); 3 Jul 2007 16:43:26 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 3 Jul 2007 16:43:26 -0000
Received: (qmail 86752 invoked from network); 3 Jul 2007 16:43:26 -0000
Received: from acolyte.scowler.net (216.254.112.45)
  by a.mx.sunsite.dk with SMTP; 3 Jul 2007 16:43:22 -0000
Received: by acolyte.scowler.net (Postfix, from userid 1000)
	id 57FBD5C3C6; Tue,  3 Jul 2007 12:43:18 -0400 (EDT)
Date: Tue, 3 Jul 2007 12:43:18 -0400
From: Clint Adams <clint@zsh.org>
To: zsh-workers@sunsite.dk
Subject: vcs conversion tools hate zsh sf cvs repo [was Re: PATCH: zfautocheck equals signs]
Message-ID: <20070703164318.GB17859@scowler.net>
Mail-Followup-To: zsh-workers@sunsite.dk
References: <20070703070627.GA3164@scowler.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20070703070627.GA3164@scowler.net>
User-Agent: Mutt/1.5.13 (2006-08-11)

On Tue, Jul 03, 2007 at 03:06:27AM -0400, Clint Adams wrote:
> This somewhat gratuitous change is to get a rev 1.2 on the file;
> I suspect that the state of the branches is confusing tailor.

In case there is anyone else who cares about this:

Doc/Zsh/mod_cap.yo                    |    7 ++--
Doc/Zsh/mod_complete.yo               |    7 ++--
Doc/Zsh/mod_example.yo                |    7 ++--
Doc/Zsh/mod_files.yo                  |   49 ++++++++++++++++++++++++++++--
Doc/Zsh/mod_mapfile.yo                |   15 +++++----
Doc/Zsh/mod_zleparameter.yo           |   15 ++++-----
Doc/intro.ms                          |    8 ++++
Doc/zshzftpsys.yo                     |    3 +
Etc/Makefile.in                       |   15 ++++++---
Functions/Prompts/prompt_adam1_setup  |   29 +++++++++++++++--
Functions/Prompts/prompt_redhat_setup |    1 
Functions/Prompts/prompt_suse_setup   |    1 
Functions/Zftp/zfrglob                |   17 ++++------
Functions/Zftp/zftp_chpwd             |   37 ++++++++++++----------
Misc/.distfiles                       |    4 +-
Misc/bash2zshprompt                   |   17 ++++++----
Misc/c2z                              |   10 +++++-
Misc/compctl-examples                 |   20 ++++++------
Misc/globtests.ksh                    |   13 +++++++
Misc/job-control-tests                |   45 +++++++++++++++++++++++++++
Misc/lete2ctl                         |   49 ++++++++++++++++++++++++++----
Src/Zle/.distfiles                    |    8 +++-
Util/preconfig                        |    2 -
aclocal.m4                            |   29 ++++++++++++++++-

That is the current discrepancy between a cvs checkout of HEAD and a git
conversion created by tailor 0.9.28 with the cvs backend.  With the
cvsps backend, something entirely different and horrible is achieved.

For the files above, the HEAD revisions are on the vendor branch (they
are numbered 1.1.1.1 and 1.1.1.4, for instance), but the revisions that
make it to the git HEAD checkout are only 1.1.

A subsequent commit will change the revision number to 1.2, and then
tailor will commit a -r1.1 -r1.2 diff to git, which is less than ideal,
but syncs the file in both places and will presumably keep the history
properly thenceforth.

I don't know whether this should be treated as a bug in tailor or in our
CVS repository.

