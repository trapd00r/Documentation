From zsh-workers-request@euclid.skiles.gatech.edu Sat Aug 09 06:14:00 1997
Return-Path: <zsh-workers-request@euclid.skiles.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 5938 invoked from network); 9 Aug 1997 06:13:58 -0000
Received: from euclid.skiles.gatech.edu (list@130.207.146.50)
  by coral.primenet.com.au with SMTP; 9 Aug 1997 06:13:58 -0000
Received: (from list@localhost)
	by euclid.skiles.gatech.edu (8.8.5/8.8.5) id BAA20336;
	Sat, 9 Aug 1997 01:57:50 -0400 (EDT)
Resent-Date: Sat, 9 Aug 1997 01:57:50 -0400 (EDT)
X-URL: http://ghidora.uwyo.edu/~harres
Date: Fri, 08 Aug 1997 23:58:01 -0600
From: "John M. Harres" <harres@UWYO.EDU>
Subject: Re: weird zsh startup behavior
In-reply-to: "Your message of Sat, 09 Aug 1997 05:11:53 -0000."
 <slrn5unv0p.5k0.mason@coral.primenet.com.au>
To: mason@primenet.com.au
Cc: zsh-workers@math.gatech.edu
Message-id: <199708090558.XAA05936@ghidora.uwyo.edu>
Resent-Message-ID: <"4O5Xg3.0.hz4.TR0xp"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3433
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

On Sat 9 Aug 1997, Geoff Wing wrote:

> John M. Harres <harres@UWYO.EDU> typed:
> :On Fri 8 Aug 1997, Zoltan Hidvegi wrote:
> :> > Does anyone know under what circumstances zsh will change directory on 
> :> > startup?  I was in root under sh, ran zsh, and zappo, switched directori
> es,
> :> > and not to root's home directory.  Both home directories are automounted
> .
> :> We can only fix this problem if you provide more details about the
> :> problem.  What zsh version, OS, OS version, libc version, compiler are
> :> you using?  Can you reproduce this with zsh -f?  If not, try to find the
> :> command in you startup files which triggers the problem.
> :Sorry, brain on hold.  zsh 3.0.4, Solaris 2.5.1, gcc-2.7.2.2, whatever libc
> :Sun ships withe Solaris 2.5.1.
> :Reproduced with zsh -f:
> 
> Can you reproduce it with "zsh -f" and no /etc/zshenv?

With no /etc/z* /.z* (I was running as root), still the same problem.

Further:

It seems to occur when I'm in any user's home directory who has a local home
directory (as opposed to those with remote automounted home directories) as
long as that home directory is automounted.

I've tried it on another virtually identical system, with similar, though not
quite the same, results:

ghidora% su                                                                   ~
Password:
# cd /home/bthomas
# zsh -f
ghidora:/home/harres# pwd
/home/harres

There is no consistency with the order of the auto_home file, nor the passwd
file for deriving the 'magic' user you end up in the home directory of.

Let me know if there's anything else I can provide.

John Harres
harres@uwyo.edu

