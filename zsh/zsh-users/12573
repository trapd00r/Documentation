From zsh-users-return-12573-mason-zsh=primenet.com.au@sunsite.dk Thu Feb 14 17:43:39 2008
Return-Path: <zsh-users-return-12573-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18830 invoked from network); 14 Feb 2008 17:43:37 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.4 (2008-01-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.4
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 14 Feb 2008 17:43:37 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 17814 invoked from network); 14 Feb 2008 17:43:17 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 14 Feb 2008 17:43:17 -0000
Received: (qmail 27288 invoked by alias); 14 Feb 2008 17:43:07 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 12573
Received: (qmail 27275 invoked from network); 14 Feb 2008 17:43:06 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 14 Feb 2008 17:43:06 -0000
Received: from smtp25.orange.fr (smtp25.orange.fr [193.252.22.23])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 3DB4380482A1
	for <zsh-users@sunsite.dk>; Thu, 14 Feb 2008 18:43:01 +0100 (CET)
Received: from localhost (AClermont-Ferrand-157-1-119-139.w86-216.abo.wanadoo.fr [86.216.14.139])
	by mwinf2553.orange.fr (SMTP Server) with ESMTP id 206481C00095
	for <zsh-users@sunsite.dk>; Thu, 14 Feb 2008 18:43:00 +0100 (CET)
X-ME-UUID: 20080214174301132.206481C00095@mwinf2553.orange.fr
Received: from stephane by localhost with local (Exim 4.69)
	(envelope-from <stephane@ukacgedilsacha2.artesyncp.com>)
	id 1JPi6t-00021I-Ly
	for zsh-users@sunsite.dk; Thu, 14 Feb 2008 17:42:59 +0000
Date: Thu, 14 Feb 2008 17:42:59 +0000
From: Stephane Chazelas <stephane.chazelas@emerson.com>
To: ZSH User List <zsh-users@sunsite.dk>
Subject: Re: timeout problem in ssh sessions - I found the culprit:
	mouse.zsh
Message-ID: <chaz20080214174259.GA7729@ukacgedilsacha2.artesyncp.com>
Mail-Followup-To: ZSH User List <zsh-users@sunsite.dk>
References: <20080211233404.GA13398@spiegl.de> <080212083755.ZM20121@torch.brasslantern.com> <20080212232947.GA13793@spiegl.de> <080212200708.ZM20711@torch.brasslantern.com> <20080213134200.GB31852@spiegl.de> <200802131349.m1DDnXRF004831@news01.csr.com> <20080214132417.GD31852@spiegl.de> <chaz20080214162554.GB6772@ukacgedilsacha2.artesyncp.com> <20080214164456.GE31852@spiegl.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20080214164456.GE31852@spiegl.de>
User-Agent: Mutt/1.5.16 (2007-09-19)
X-Virus-Scanned: ClamAV 0.91.2/5810/Thu Feb 14 17:43:13 2008 on bifrost
X-Virus-Status: Clean

On Thu, Feb 14, 2008 at 05:44:56PM +0100, Andy Spiegl wrote:
> On 2008-02-14, 16:25, Stephane CHAZELAS wrote:
> > 
> > xclip or xsel fork a background process in order to own the
> > CLIPBOARD selection. Having something else owning the selection
> > (by having another app copying some text) should terminate that
> > xclip/xsel and release your ssh session.
> 
> YES, that's it!  There is a xsel process hanging around until
> I press Ctrl-U or Ctrl-Y in a different shell.  As soon as I
> do that the ssh connection terminates, too.
> 
> Now I am thinking whether it would be easily possible to kill
> this process in .zlogout.  Does mouse.zsh keep track of the pid?
> A "killall xsel" might not always be what I want, right?
[...]

Doing a xsel -b -c
should terminate the background xsel or xclip.

-- 
Stephane

