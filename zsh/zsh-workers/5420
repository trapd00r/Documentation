From zsh-workers-return-5420-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Feb 18 16:38:05 1999
Return-Path: <zsh-workers-return-5420-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5340 invoked from network); 18 Feb 1999 16:38:04 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 18 Feb 1999 16:38:04 -0000
Received: (qmail 3569 invoked by alias); 18 Feb 1999 16:37:28 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 5420
Received: (qmail 3561 invoked from network); 18 Feb 1999 16:37:26 -0000
Date: Thu, 18 Feb 1999 17:37:26 +0100 (CST)
From: jarausch@numa1.igpm.rwth-aachen.de (Helmut Jarausch)
Subject: bug with 3.1.5-pws-83.1.5-pws-8
To: zsh-workers@sunsite.auc.dk
Message-Id: <jarausch-990218173715.A021933@numa1.igpm.rwth-aachen.de>
X-Mailer: TkMail 4.0beta9

Hi all,

The following triggers a bug in zsh.

If I select the text at the end and paste it into an xterm (with zsh running)
then

1st) is does work as expected if there is no  "set -k" active
2nd) if one has executed before  "set -k", the HERE-document doesn't
     work right --- see the output below

Thanks for enlightening me,
Helmut.

Here the text (the first line is normally perl -pi'.bak' - texmf.cnf <<\EOP )

cat  >CHECK <<\EOP
next if ( defined($Found) || !/^TEXINPUTS.etex/ );
print;
$_= <<'EOF';
TEXINPUTS.ETeX     = .;$TEXMF/{etex,tex}/{plain,generic,}//
TEXINPUTS.ETeXe    = .;$TEXMF/{etex,tex}/{plain,generic,}//
TEXINPUTS.PTeX     = .;$TEXMF/{etex,tex}/{plain,generic,}//
TEXINPUTS.PTeXe    = .;$TEXMF/{etex,tex}/{plain,generic,}//
EOF
$Found=1;
EOP


buggy output:
next if ( defined($Found) || !/^TEXINPUTS.eteTEXINPUTS.ETeX     = .;$TEXMF/{etex,tex/ );
print;
$_= <<'EOF';
x}/{plain,generic,}//
TEXINPUTS.ETeXe    = .;$TEXMF/{etex,tex}/{plain,generic,}//
TEXINPUTS.PTeX     = .;$TEXMF/{etex,tex}/{plain,generic,}//
TEXINPUTS.PTeXe    = .;$TEXMF/{etex,tex}/{plain,generic,}//
EOF
$Found=1;





