From zsh-users-return-5300-mason-zsh=primenet.com.au@sunsite.dk Tue Aug 27 21:37:39 2002
Return-Path: <zsh-users-return-5300-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18917 invoked from network); 27 Aug 2002 21:37:38 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 27 Aug 2002 21:37:38 -0000
Received: (qmail 28109 invoked by alias); 27 Aug 2002 21:37:22 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 5300
Received: (qmail 28089 invoked from network); 27 Aug 2002 21:37:21 -0000
From: Eric.D.Friedman@WellsFargo.COM
Message-ID: <8F6C90BF40FFD211948B0001FA7E51660F101882@xcem-casfo-13.wellsfargo.com>
To: zsh-users@sunsite.dk
Subject: completion for dotdirs/symlinks to directories
Date: Tue, 27 Aug 2002 14:34:53 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"

Hello,

My .zshrc currently uses the following set for completing "cd" and friends:

# cd/pushd only directories or symbolic links to directories
compctl -g '*(-/)' cd chdir dirs pushd
# skips CVS when changing directories
# compctl -g '*~(*/)#CVS(/)' cd
compctl -g '*(-/)' -g '*~(*/)#CVS(/)' cd chdir dirs pushd

My goal is to be able to skip past CVS directories when completing a path
and to have only directories and symlinks to directories be legal completion
targets.

Currently there are two problems:

(1) I can't get completions for directories that start with a "."  ; and

(2) symlinks to directories do not work.

I'm using zsh-4.0.2 on solaris.

I tried putting "D" in the first completion rule [ as in -g "$(D-/)" ] but
that didn't work out.

Can anyone set me straight?

Thanks,
Eric

