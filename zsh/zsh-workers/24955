From zsh-workers-return-24955-mason-zsh=primenet.com.au@sunsite.dk Tue May 06 20:54:08 2008
Return-Path: <zsh-workers-return-24955-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13853 invoked from network); 6 May 2008 20:54:06 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.4 (2008-01-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.4
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 6 May 2008 20:54:06 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 73559 invoked from network); 6 May 2008 20:53:59 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 6 May 2008 20:53:59 -0000
Received: (qmail 3414 invoked by alias); 6 May 2008 20:53:56 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 24955
Received: (qmail 3393 invoked from network); 6 May 2008 20:53:56 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 6 May 2008 20:53:56 -0000
Received: from mtaout01-winn.ispmail.ntl.com (mtaout01-winn.ispmail.ntl.com [81.103.221.47])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 8FD1E80ED172
	for <zsh-workers@sunsite.dk>; Tue,  6 May 2008 22:53:52 +0200 (CEST)
Received: from aamtaout03-winn.ispmail.ntl.com ([81.103.221.35])
          by mtaout01-winn.ispmail.ntl.com with ESMTP
          id <20080506205720.OIUN14647.mtaout01-winn.ispmail.ntl.com@aamtaout03-winn.ispmail.ntl.com>;
          Tue, 6 May 2008 21:57:20 +0100
Received: from pws-pc ([81.107.40.67]) by aamtaout03-winn.ispmail.ntl.com
          with ESMTP
          id <20080506210130.KOUH26699.aamtaout03-winn.ispmail.ntl.com@pws-pc>;
          Tue, 6 May 2008 22:01:30 +0100
Date: Tue, 6 May 2008 21:52:58 +0100
From: Peter Stephenson <p.w.stephenson@ntlworld.com>
To: martin f krafft <madduck@debian.org>
Cc: zsh-workers@sunsite.dk, 479764@bugs.debian.org
Subject: Re: Bug#479764: shell builtin mv fails to move files across devices
Message-ID: <20080506215258.6f2eb23c@pws-pc>
In-Reply-To: <20080506165555.GB17377@lapse.madduck.net>
References: <20080506144208.GA15225@lapse.madduck.net>
	<20080506150303.GB31177@scru.org>
	<080506084541.ZM1350@torch.brasslantern.com>
	<20080506165555.GB17377@lapse.madduck.net>
X-Mailer: Claws Mail 3.3.1 (GTK+ 2.12.5; x86_64-redhat-linux-gnu)
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: ClamAV 0.91.2/7041/Tue May  6 20:15:04 2008 on bifrost
X-Virus-Status: Clean

On Tue, 6 May 2008 17:55:55 +0100
martin f krafft <madduck@debian.org> wrote:
> also sprach Bart Schaefer <schaefer@brasslantern.com> [2008.05.06.1645 +0100]:
> > I'd rather we didn't.  rename(2) is atomic, but there's no
> > reasonable way to make cp+rm be so, and I think it's better if the
> > user is forced to be aware of the issue.
> > 
> > Also note that "cp" is (intentionally) NOT one of the commands
> > supplied by the zsh/files module, so changing mv means
> > implementing cp.
> 
> What, if I may ask, is the purpose of zsh/files?

Its primary purpose has been as a fallback on a system where the shell
is working but nothing much else is.  Hence it provides the limited,
easy-to-implement things you're likely to need to fix what needs
fixing.  Moving things between file systems typically isn't something
you need (though in any given case it may be, as well as a whole load of
other stuff the shell doesn't provide).

-- 
Peter Stephenson <p.w.stephenson@ntlworld.com>
Web page now at http://homepage.ntlworld.com/p.w.stephenson/

