From zsh-workers-return-5712-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Mar 09 14:27:33 1999
Return-Path: <zsh-workers-return-5712-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 6525 invoked from network); 9 Mar 1999 14:27:31 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 9 Mar 1999 14:27:31 -0000
Received: (qmail 23284 invoked by alias); 9 Mar 1999 14:26:42 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 5712
Received: (qmail 23270 invoked from network); 9 Mar 1999 14:26:41 -0000
Date: Tue, 9 Mar 1999 15:25:53 +0100 (MET)
Message-Id: <199903091425.PAA14788@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: "Andrej Borsenkow"'s message of Tue, 9 Mar 1999 17:04:23 +0300
Subject: RE: PATCH: (was Re: _configure does not work)


Andrej Borsenkow wrote:

> > > 2. l ~/.z/C<TAB>
> > >     Beep
> > > ~/.zsh.d/Completion exists and was correctly completed before a
> > couple of
> > > last patches :-)
> >
> > Hm, this works for me.
> >
> 
> That what I get with set -x:
> ...

Ah, you don't use `globcomplete'...

Bye
 Sven

diff -u oc/Core/_path_files Completion/Core/_path_files
--- oc/Core/_path_files	Tue Mar  9 15:25:02 1999
+++ Completion/Core/_path_files	Tue Mar  9 15:25:05 1999
@@ -95,6 +95,7 @@
   str="${PREFIX}*${SUFFIX}"
 else
   str="${PREFIX:q}*${SUFFIX:q}"
+  [[ "$str" = \\\~* ]] && str="$str[2,-1]"
 fi
 orig="${PREFIX}${SUFFIX}"
 

--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

