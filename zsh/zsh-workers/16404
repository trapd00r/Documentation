From zsh-workers-return-16404-mason-zsh=primenet.com.au@sunsite.dk Sun Jan 06 18:51:14 2002
Return-Path: <zsh-workers-return-16404-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17096 invoked from network); 6 Jan 2002 18:51:14 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 6 Jan 2002 18:51:14 -0000
Received: (qmail 11172 invoked by alias); 6 Jan 2002 18:51:08 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 16404
Received: (qmail 11161 invoked from network); 6 Jan 2002 18:51:08 -0000
Sender: ethersoft@rcn.com
To: "Bart Schaefer" <schaefer@brasslantern.com>
Cc: zsh-workers@sunsite.dk
Subject: Re: Can not complete automounted directories
References: <m2666p206j.fsf@zion.rcn.com>
	<1020106023837.ZM7568@candle.brasslantern.com>
From: Vin Shelton <acs@alumni.princeton.edu>
Organization: EtherSoft, Inc
Date: 06 Jan 2002 13:52:01 -0500
In-Reply-To: <1020106023837.ZM7568@candle.brasslantern.com>
Message-ID: <m28zbb8g8e.fsf@zion.rcn.com>
Lines: 66
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

"Bart Schaefer" <schaefer@brasslantern.com> writes:

> On Dec 29,  4:20pm, Vin Shelton wrote:
> } Subject: Can not complete automounted directories
> }
> } I have network shares automounted under /net/<system>/<sharename>.
> } So, for example, on my workstation I have access to a filesystem
> } located at /net/mithril/opt.  The filesystem is actually mounted at
> } /.automount/mithril/root/opt - automount puts a nicer path on the
> } front end.
> 
> Completion on automounted filesystems works for me with 4.0.4.  There
> was a patch for it way back in 3.1.9-dev-7 (October 2000).
> 
> How did you configure the automounter to put this "nicer path on the
> front end"?


Here is the contents of /etc/amd.conf:

#
# amd default config file
#
# check amd.conf(5) man page for details about options in this file
#

# GLOBAL OPTIONS SECTION
[ global ]
normalize_hostnames =   no
print_pid =             yes
pid_file =              /var/run/amd.pid
restart_mounts =        yes
auto_dir =              /.automount
#log_file =             /var/log/amd
log_file =              syslog
log_options =           all
#debug_options =        all
plock =                 no
selectors_on_default =  yes
print_version =         no
# set map_type to "nis" for NIS maps, or comment it out to search for all
# types
map_type =              file
search_path =           /etc
browsable_dirs =        yes
show_statfs_entries =   no
fully_qualified_hosts = no
cache_duration =        300

# DEFINE AN AMD MOUNT POINT
[ /net ]
map_name =              amd.net
map_type =              file


And here is the contents of /etc/amd.net:

/defaults fs:=${autodir}/${rhost}/root/${rfs};opts:=nosuid,nodev,rsize=8192,wsize=8192
*       rhost:=${key};type:=host;rfs:=/


I don't think I made any configuration changes from the Mandrake
default package of am-utils-6.0.6-3mdk.  What automounter do you use,
Bart?

  - vin

