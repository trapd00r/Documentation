From hzoli@cs.elte.hu Wed Jun 26 05:31:04 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by melb.werple.net.au (8.7.5/8.7.3/2) with ESMTP id FAA12905 for <mason@werple.mira.net.au>; Wed, 26 Jun 1996 05:31:02 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id PAA28045; Tue, 25 Jun 1996 15:16:29 -0400 (EDT)
Resent-Date: Tue, 25 Jun 1996 15:12:23 -0400 (EDT)
From: Zoltan Hidvegi <hzoli@cs.elte.hu>
Message-Id: <199606251911.VAA11678@bolyai.cs.elte.hu>
Subject: Re: bug in zsh-2.6-beta21
To: vlefevre@ens-lyon.fr
Date: Tue, 25 Jun 1996 21:11:56 +0200 (MET DST)
Cc: zsh-users@math.gatech.edu
In-Reply-To: <199606251855.UAA03602@woodstock.ens-lyon.fr> from Vincent Lefevre at "Jun 25, 96 08:55:26 pm"
Organization: Dept. of Comp. Sci., Eotvos University, Budapest, Hungary
Phone: (36 1)2669833 ext: 2667, home phone: (36 1) 2752368
X-Mailer: ELM [version 2.4ME+ PL16 (25)]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"mqbD7.0.iq6.Me3qn"@euclid>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/260
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu
Content-Length: 567
Status: OR

Vincent Lefevre wrote:
> [...] But under zsh 2.6-beta21:
> 
> $ var=`echo "ab\ncd\nef"`
> $ echo $var
> ab
> cd
> ef
> $ var=`echo "ab\ncd\nef\n"`
> $ echo $var
> ab
> cd
> ef
> $
> 
> The last "\n" is not printed.

All other shells strip trailing newlines from command substitution and
POSIX requires this behaviour.  So far zsh stripped only one trailing
newline now it strips all.  But if the opposition of this change is big
enough I may change it back.  I thought that this change will be mostly
unnoticeable and I hope that it won't break any scripts.

Zoltan


