From zsh-users-return-3668-mason-zsh=primenet.com.au@sunsite.dk Wed Mar 14 15:54:21 2001
Return-Path: <zsh-users-return-3668-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 28066 invoked from network); 14 Mar 2001 15:54:20 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 14 Mar 2001 15:54:20 -0000
Received: (qmail 22535 invoked by alias); 14 Mar 2001 15:54:07 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 3668
Received: (qmail 22522 invoked from network); 14 Mar 2001 15:54:07 -0000
Message-ID: <Tc0a88d01524a47c72c@mailsweeper01.cambridgesiliconradio.com>
To: zsh-users@sunsite.dk (Zsh users list),
    John Cooper <john.cooper@eu.citrix.com>
Subject: Re: Completing within colon separated paths 
In-Reply-To: Your message of "14 Mar 2001 15:45:35 GMT."
             <m3ofv4icbk.fsf@kontiki.cam.eu.citrix.com> 
Date: Wed, 14 Mar 2001 15:53:39 +0000
From: Peter Stephenson <pws@csr.com>

> Is there a way to have TAB complete '/usr/local' from the X (marking cursor
> position) in the following:
> 
>   $ .:/home/jsc/bin:/usr/locX:/sbin:/usr/sbin:/usr/java/jdk1.3/bin

If you are using the new completion system, then it will work as long as
you are performing a parameter assignment (or it does for me).  So

$ PATH=/foo/bar:...

or

$ typeset PATH=/foo/bar:...

should perform completion correctly.  This is why it works in vared --- the
context is treated similarly to a parameter assignment.  (You still need
expand-or-complete-prefix --- I don't know if it's to be considered a bug
that the colon before is used as a word separator while the one after
isn't.)

Now everything computes?
-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR Ltd., Unit 300, Science Park, Milton Road,
Cambridge, CB4 0XL, UK                          Tel: +44 (0)1223 392070

