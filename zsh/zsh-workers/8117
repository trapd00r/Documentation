From zsh-workers-return-8117-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Sep 30 18:34:14 1999
Return-Path: <zsh-workers-return-8117-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 7831 invoked from network); 30 Sep 1999 18:34:12 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 30 Sep 1999 18:34:12 -0000
Received: (qmail 23005 invoked by alias); 30 Sep 1999 18:34:03 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 8117
Received: (qmail 22997 invoked from network); 30 Sep 1999 18:34:03 -0000
Date: Thu, 30 Sep 1999 19:32:37 +0100
From: Adam Spiers <adam@thelonious.new.ox.ac.uk>
To: zsh-workers@sunsite.auc.dk
Subject: Re: PATCH: _rpm caches installed rpms
Message-ID: <19990930193237.A2054@thelonious.new.ox.ac.uk>
Reply-To: Adam Spiers <adam@spiers.net>
Mail-Followup-To: zsh-workers@sunsite.auc.dk
References: <19990929195933.A15944@thelonious.new.ox.ac.uk> <E11WcsN-0005L6-00@crucigera.fysh.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 1.0pre2i
In-Reply-To: <E11WcsN-0005L6-00@crucigera.fysh.org>
X-URL: http://www.new.ox.ac.uk/~adam/
X-OS: Linux 2.2.9 i686

Zefram (zefram@fysh.org) wrote:
> Adam Spiers wrote:
> >I'm personally a fan of caching (sp?).  Others may not be; should it
> >be configurable?  In any case, the cache can easily be force-rebuilt.
> 
> I think caching is dangerous in this case.  If the rpm command is being
> used, then the data you are caching -- the list of installed packages
> -- is almost certainly changing.

Oops, good point.  Peter, probably best to leave that patch out.

> The list can also be generated (with
> rpm -qa) quite quickly.

Not on my machine :-(  664 installed rpms ...

> In both of these aspects, rpm is unlike, for
> exxample, man, where caching is useful.

True.

