From zsh-users-return-12972-mason-zsh=primenet.com.au@sunsite.dk Tue Jun 17 13:54:17 2008
Return-Path: <zsh-users-return-12972-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 21179 invoked from network); 17 Jun 2008 13:54:15 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.4 (2008-01-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.4
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 17 Jun 2008 13:54:15 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 42324 invoked from network); 17 Jun 2008 13:54:03 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 17 Jun 2008 13:54:03 -0000
Received: (qmail 4961 invoked by alias); 17 Jun 2008 13:53:51 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 12972
Received: (qmail 4946 invoked from network); 17 Jun 2008 13:53:50 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 17 Jun 2008 13:53:50 -0000
Received: from cluster-g.mailcontrol.com (cluster-g.mailcontrol.com [208.87.233.190])
	by bifrost.dotsrc.org (Postfix) with ESMTPS id 14BBC8028AC3
	for <zsh-users@sunsite.dk>; Tue, 17 Jun 2008 15:53:35 +0200 (CEST)
Received: from cameurexb01.EUROPE.ROOT.PRI ([193.128.72.68])
	by rly05g.srv.mailcontrol.com (MailControl) with ESMTP id m5HDqKSj002353
	for <zsh-users@sunsite.dk>; Tue, 17 Jun 2008 14:53:29 +0100
Received: from news01.csr.com ([10.103.143.38]) by cameurexb01.EUROPE.ROOT.PRI with Microsoft SMTPSVC(6.0.3790.3959);
	 Tue, 17 Jun 2008 14:52:19 +0100
Received: from news01.csr.com (localhost.localdomain [127.0.0.1])
	by news01.csr.com (8.14.2/8.13.4) with ESMTP id m5HDqJVY014816
	for <zsh-users@sunsite.dk>; Tue, 17 Jun 2008 14:52:19 +0100
Received: from csr.com (pws@localhost)
	by news01.csr.com (8.14.2/8.14.2/Submit) with ESMTP id m5HDqJrD014813
	for <zsh-users@sunsite.dk>; Tue, 17 Jun 2008 14:52:19 +0100
Message-Id: <200806171352.m5HDqJrD014813@news01.csr.com>
X-Authentication-Warning: news01.csr.com: pws owned process doing -bs
To: "Zsh Users" <zsh-users@sunsite.dk>
Subject: Re: shortloops for while?
In-reply-to: <2d460de70806170642v5340abf9o79af3460c4e1008d@mail.gmail.com>
References: <2d460de70806170642v5340abf9o79af3460c4e1008d@mail.gmail.com>
Comments: In-reply-to "Richard Hartmann" <richih.mailinglist@gmail.com>
   message dated "Tue, 17 Jun 2008 15:42:12 +0200."
Date: Tue, 17 Jun 2008 14:52:19 +0100
From: Peter Stephenson <pws@csr.com>
X-OriginalArrivalTime: 17 Jun 2008 13:52:19.0366 (UTC) FILETIME=[5C0B4460:01C8D081]
X-Scanned-By: MailControl A-08-50-03 (www.mailcontrol.com) on 10.71.0.115
X-Virus-Scanned: ClamAV 0.92.1/7494/Tue Jun 17 06:46:03 2008 on bifrost
X-Virus-Status: Clean

"Richard Hartmann" wrote:
> Hi all,
> 
> I am using setopt shortloops, which allows me to do
> 
>   for i in *; echo $i
> 
> Along the same lines, I would want to be able to do
> 
>   while true; echo this is neat
> 
> 
> Is there any reason this is not possible? Is it an oversight? Could
> something like this be added at some point in the future?

It does appear the parser doesn't support any short looping syntax for
while.  It may be to do with the fact that in regular shell parsing any
set of statements can come between the "while" and the "do":

  while true; false; do echo never got here; done

This is the reason why "if" requires you to use trickery for short
"loops".

You can do

for ((;;)); echo this is not quite so neat

and if you were really desperate you could use a global alias for
the ((;;)).

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR PLC, Churchill House, Cambridge Business Park, Cowley Road
Cambridge, CB4 0WZ, UK                          Tel: +44 (0)1223 692070

