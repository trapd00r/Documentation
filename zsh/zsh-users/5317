From zsh-users-return-5317-mason-zsh=primenet.com.au@sunsite.dk Thu Aug 29 20:50:34 2002
Return-Path: <zsh-users-return-5317-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 20298 invoked from network); 29 Aug 2002 20:50:33 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 29 Aug 2002 20:50:33 -0000
Received: (qmail 20619 invoked by alias); 29 Aug 2002 20:49:32 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 5317
Received: (qmail 20602 invoked from network); 29 Aug 2002 20:49:30 -0000
Date: Thu, 29 Aug 2002 14:49:18 -0600
From: Steve Talley <stephen.talley@sun.com>
To: Zsh Users <zsh-users@sunsite.dk>
Subject: vi-history-incremental-search?
Message-ID: <20020829204918.GE9260@.central.sun.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.3.28i

Hello,

I am using the vi keymap (bindkey -v).  I have these lines in my
.zshrc:

    bindkey -M vicmd "?" vi-history-search-backward
    bindkey -M vicmd "/" vi-history-search-forward

I really like the ability to see incremental searches, so I changed
this to:

    bindkey -M vicmd "?" history-incremental-search-backward
    bindkey -M vicmd "/" history-incremental-search-forward

Unfortunately, now "n" (vi-repeat-search) and "N" (vi-rev-repeat-
search) don't seem to work after the search is completed.  That is,
they don't perform the same search from that point in the history.

For example, with this history:

    ...
    100 echo foobar
    101 echo blah
    102 echo woofoo

When I use vi-history-search-backward to search for "foo" (matched at
102), I can use "n" (vi-repeat-search) to perform the same search
again (matched at 100).  But if I initially use
history-incremental-search-backward to search for "foo", then "n"
(vi-repeat-search) doesn't continue the search for "foo".

Is there any way to modify either vi-history-search-* or
history-incremental-search-* to come up with a hybrid
vi-history-incremental-search*?

Thanks,

Steve

