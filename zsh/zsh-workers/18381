From zsh-workers-return-18381-mason-zsh=primenet.com.au@sunsite.dk Tue Mar 25 13:19:09 2003
Return-Path: <zsh-workers-return-18381-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 3001 invoked from network); 25 Mar 2003 13:19:08 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 25 Mar 2003 13:19:08 -0000
Received: (qmail 23033 invoked by alias); 25 Mar 2003 13:18:59 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 18381
Received: (qmail 23022 invoked from network); 25 Mar 2003 13:18:59 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 25 Mar 2003 13:18:59 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [207.99.30.4] by sunsite.dk (MessageWall 1.0.8) with SMTP; 25 Mar 2003 13:18:58 -0000
Received: from acolyte.scowler.net (localhost [127.0.0.1])
	by acolyte.scowler.net (8.12.6/8.12.6/Debian-7) with ESMTP id h2PDItHv013571
	(version=TLSv1/SSLv3 cipher=EDH-RSA-DES-CBC3-SHA bits=168 verify=OK);
	Tue, 25 Mar 2003 08:18:56 -0500
Received: (from clint@localhost)
	by acolyte.scowler.net (8.12.6/8.12.6/Debian-7) id h2PDItb0013543;
	Tue, 25 Mar 2003 08:18:55 -0500
X-Authentication-Warning: acolyte.scowler.net: clint set sender to clint@zsh.org using -f
Date: Tue, 25 Mar 2003 08:18:54 -0500
From: Clint Adams <clint@zsh.org>
To: Miciah Dashiel Butler Masters <miciah@myrealbox.com>
Cc: zsh-workers@sunsite.dk
Subject: Re: Crash with 'print -s' with no further arguments
Message-ID: <20030325131854.GA10638@acolyte.scowler.net>
References: <b59211$60n$1@main.gmane.org> <1030320041539.ZM2167@candle.brasslantern.com> <b5bgn6$u8a$1@main.gmane.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <b5bgn6$u8a$1@main.gmane.org>
User-Agent: Mutt/1.5.4i

> $ zsh -f
> AwesomeComp% setopt hist_ignore_all_dups
> AwesomeComp% print -s
> AwesomeComp% print -s
> Segmentation fault

Program received signal SIGSEGV, Segmentation fault.
0x40106299 in free () from /lib/libc.so.6
(gdb) bt
#0  0x40106299 in free () from /lib/libc.so.6
#1  0x0806b75c in freehistdata ()
#2  0x0806b72a in freehistnode ()
#3  0x08059ba4 in bin_print ()
#4  0x08051cda in execbuiltin ()
#5  0x0806199b in execsubst ()
#6  0x0806041f in execlist ()
#7  0x0805fa05 in execlist ()
#8  0x0805f78b in execlist ()
#9  0x0805f29d in execode ()
#10 0x0806fda6 in loop ()
#11 0x080722f8 in zsh_main ()
#12 0x0805178b in main ()
#13 0x400b2a51 in __libc_start_main () from /lib/libc.so.6

