From zsh-workers-return-5692-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Mar 09 07:59:30 1999
Return-Path: <zsh-workers-return-5692-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 14109 invoked from network); 9 Mar 1999 07:59:28 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 9 Mar 1999 07:59:28 -0000
Received: (qmail 21384 invoked by alias); 9 Mar 1999 07:58:53 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 5692
Received: (qmail 21369 invoked from network); 9 Mar 1999 07:58:51 -0000
Date: Tue, 9 Mar 1999 08:58:07 +0100 (MET)
Message-Id: <199903090758.IAA12254@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: Bart Schaefer's message of Mon, 8 Mar 1999 10:35:50 -0800 (PST)
Subject: Re: PATCH: zsh-3.1.5-pws-11 plus: _long_options and compstate[matcher]


Bart Schaefer wrote:

> This is the same bug that I had to patch in _match_test before.  Please
> remember that compstate[matcher] may be ZERO!  I think this is the right
> fix.

Oh, oops. I wanted to add this only temporarily when testing the
thing, it wasn't intended to be in the final version. I'm terribly
sorry.


Bye
 Sven

diff -u oc/User/_long_options Completion/User/_long_options
--- oc/User/_long_options	Tue Mar  9 08:56:07 1999
+++ Completion/User/_long_options	Tue Mar  9 08:56:32 1999
@@ -180,7 +180,6 @@
 
 # We get the string from the line and and see if it already contains a 
 # equal sign.
-(( compstate[matcher] > 1 )) && return
 
 str="$PREFIX$SUFFIX"
 

--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

