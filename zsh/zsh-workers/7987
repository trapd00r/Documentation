From zsh-workers-return-7987-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Sep 21 22:07:17 1999
Return-Path: <zsh-workers-return-7987-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24524 invoked from network); 21 Sep 1999 22:07:16 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 21 Sep 1999 22:07:16 -0000
Received: (qmail 10307 invoked by alias); 21 Sep 1999 22:07:09 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7987
Received: (qmail 10300 invoked from network); 21 Sep 1999 22:07:08 -0000
Date: Tue, 21 Sep 1999 15:06:57 -0700
From: Clint Olsen <olsenc@ichips.intel.com>
To: zsh-workers@sunsite.auc.dk
Subject: "exec zsh" inside .zprofile doesn't set SHELL
Message-ID: <19990921150657.A14612@ichips.intel.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 1.0pre1i
Organization: Intel Corporation, Hillsboro, OR
X-Disclaimer: Mutt Bites!

Hello:

I'm using my own precompiled version of zsh because I have some bugs/issues
in zsh 3.0.5.  I don't have access to write root's area, so I compiled my
own.  After setting my $path, at the end of my .zprofile, I do:

exec zsh

ZSH_VERSION gets set properly to 3.1.6 in my login shell, but SHELL is set
to /usr/intel/97r1.3/bin/zsh, which is the production version.  As a
result, subshells spawned after that are incorrectly set to the old
version.  I don't want to force the setting of SHELL (I had a similar
problem with tcsh a long while back), I think the job of a shell is to set
its own variable.

Bug?

-Clint

