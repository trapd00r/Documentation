From zsh-workers-request@euclid.skiles.gatech.edu Sun Jan 05 00:15:28 1997
Return-Path: <zsh-workers-request@euclid.skiles.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 17227 invoked from network); 5 Jan 1997 00:15:27 -0000
Received: from euclid.skiles.gatech.edu (list@130.207.146.50)
  by coral.primenet.com.au with SMTP; 5 Jan 1997 00:15:27 -0000
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id TAA10325; Sat, 4 Jan 1997 19:22:04 -0500 (EST)
Resent-Date: Sat, 4 Jan 1997 19:22:04 -0500 (EST)
Message-Id: <9701050023.AA05189@raven.cg.tuwien.ac.at>
Content-Type: text/plain
Mime-Version: 1.0 (NeXT Mail 3.3 v118.2)
X-Image-Url: http://www.cg.tuwien.ac.at/~rft/XImage/1996-01-15.tiff
X-Nextstep-Mailer: Mail 3.3 (Enhance 1.3)
Original-Received: by NeXT.Mailer (1.118.2)
PP-warning: Illegal Received field on preceding line
From: Robert F Tobler <rft@raven.cg.tuwien.ac.at>
Date: Sun, 5 Jan 97 01:23:04 +0100
To: Zsh Workers <zsh-workers@math.gatech.edu>
Subject: nohup problem with zsh 3.0.0/3.0.2 under Nextstep
Reply-To: rft@titus.cg.tuwien.ac.at
Resent-Message-ID: <"PB2kw.0.DX2.gGlpo"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/2728
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu


I found a problem with zsh 3.0.0/3.0.2 under i386-next-nextstep3.3.

When I try to nohup a command that takes a long time to compute:

nohup command >| output &

and I try to quit the nextstep Terminal application, the application will
not terminate completely:
ps will not show the application anymore,
but the Workspace managers processes panel will still show it, and thus
it hangs and cannot be restarted anymore.  If the nohup'ed command terminates,
the Terminal application will completely terminate and everything is OK again.
This defeats the purpose of nohup'ing :-(

Now I think this is a problem with the Nextstep Terminal application, but
the same thing works when I use tcsh.
Somehow it seems, that zsh handles nohup'ed processes differently than
tcsh (maybe different signal handlers).

Does zsh isntall some zsh-specific signal handlers for nohup'ed processes?
Is it possible to change the way nohup'd processes are handled?  Does
someone have any idea as to how this can be fixed? Since I like the zsh
very much, I hope this is fixable.

------------------------------------------------------------------------
  Robert F. Tobler                 -  tel:+43(1)58801-4585,fax:5874932
  Institute of Computer Graphics   -  mailto:rft@cg.tuwien.ac.at
  Vienna University of Technology  -  http://www.cg.tuwien.ac.at/~rft/

