From zsh-workers-return-7550-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Aug 30 14:44:02 1999
Return-Path: <zsh-workers-return-7550-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 648 invoked from network); 30 Aug 1999 14:44:00 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 30 Aug 1999 14:44:00 -0000
Received: (qmail 9011 invoked by alias); 30 Aug 1999 14:43:51 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7550
Received: (qmail 9004 invoked from network); 30 Aug 1999 14:43:49 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <990830144344.ZM6222@candle.brasslantern.com>
Date: Mon, 30 Aug 1999 14:43:44 +0000
In-Reply-To: <199908300821.KAA20279@beta.informatik.hu-berlin.de>
Comments: In reply to Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
        "Re: prob: fg not sending CONT to 'make' children" (Aug 30, 10:21am)
References: <199908300821.KAA20279@beta.informatik.hu-berlin.de>
X-Mailer: Z-Mail (5.0.0 30July97)
To: zsh-workers@sunsite.auc.dk
Subject: Re: prob: fg not sending CONT to 'make' children
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Aug 30, 10:21am, Sven Wischnowsky wrote:
} Subject: Re: prob: fg not sending CONT to 'make' children
}
} Bart Schaefer wrote:
} 
} > I think this must be a case where process group management was updated
} > elsewhere but the change was not reflected in killjb().  The following
} > patch resumes the make properly in this particular example, but I'm not
} > sure it isn't an over-use of killpg() -- Sven, can you comment?
} 
} I think we could add some extra safety by first trying killpg() and
} then using kill() if that fails.

As long as we're on the subject ...

Why does killjb() return failure only if the last attempted kill failed?
Is the second-to-last job in the pn->next chain special for some reason?
Or should it be returning failure when any of the kills failed?

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

