From mason@werple.net.au Thu Jul 18 04:48:35 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by melb.werple.net.au (8.7.5/8.7.3/2) with ESMTP id EAA01025 for <mason@werple.mira.net.au>; Thu, 18 Jul 1996 04:48:32 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id OAA20173; Wed, 17 Jul 1996 14:40:10 -0400 (EDT)
Resent-Date: Wed, 17 Jul 1996 14:40:10 -0400 (EDT)
From: Geoff Wing <mason@werple.net.au>
Message-Id: <199607171838.SAA00748@werple.net.au>
Subject: Re: ZLE scrolly bugfix
To: zsh-workers@math.gatech.edu (zsh-list)
Date: Thu, 18 Jul 1996 04:38:38 +1000 (EST)
Cc: A.Main@dcs.warwick.ac.uk
In-Reply-To: <7795.199607171117@stone.dcs.warwick.ac.uk>
X-Mailer: ELM [version 2.4 PL25]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"ZnxaZ2.0.7x4.AEJxn"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/1686
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu
Content-Length: 1242
Status: O

Zefram wrote:
:If the cursor gets onto the last line of the screen and there's
:more text off the bottom of the screen, it's possible to have the
:cursor over the <.... marker when it's really in the text hidden
:under that.  Also, the cursor doesn't go onto the last position on
:the screen properly on a terminal that moves the cursor onto the
:next line as soon as something is written to the last column.
:I fix both of these problems by having refresh() avoid putting
:the cursor on the last line if possible.  If there's no more text,
:obviously, it can't avoid putting the cursor there, but then it's
:not a problem.

Yep, these are bugs.  However the patch doesn't fix these properly.
In  nextline, if  nvln == winh - 1 (or --ln as you put it), then 
you would still need to scroll one line and adjust nvln.
I'll look at this (after I get some sleep).
I was thinking about breaking up scrollwindow() into scroll a single
line and scroll a half screen.

And for Zoltan and others who want to use zed to edit their stuff
and want half window scrolls, chuck "local BAUD=2400" at the top
somewhere.  Other refresh styles will have to wait till after zsh 3.0
-- 
Mason [G.C.W]  mason@werple.mira.net.au    "Hurt...Agony...Pain...LOVE-IT"


