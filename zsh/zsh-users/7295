From zsh-users-return-7295-mason-zsh=primenet.com.au@sunsite.dk Mon Mar 29 15:20:15 2004
Return-Path: <zsh-users-return-7295-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 26060 invoked from network); 29 Mar 2004 15:20:14 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 29 Mar 2004 15:20:14 -0000
Received: (qmail 8298 invoked by alias); 29 Mar 2004 15:19:53 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 7295
Received: (qmail 8286 invoked from network); 29 Mar 2004 15:19:53 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 29 Mar 2004 15:19:53 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [130.225.247.86] by sunsite.dk (MessageWall 1.0.8) with SMTP; 29 Mar 2004 15:19:53 -0000
Received: (qmail 15803 invoked from network); 29 Mar 2004 15:19:52 -0000
Received: from lorien.emufarm.org (66.93.131.57)
  by a.mx.sunsite.dk with SMTP; 29 Mar 2004 15:19:51 -0000
Received: from lorien.emufarm.org (localhost [127.0.0.1])
	by lorien.emufarm.org (8.12.7/8.12.7) with ESMTP id i2TFJL1t012464;
	Mon, 29 Mar 2004 07:19:21 -0800
Received: (from duvall@localhost)
	by lorien.emufarm.org (8.12.7/8.12.7/Submit) id i2TFJLCX012463;
	Mon, 29 Mar 2004 07:19:21 -0800
Date: Mon, 29 Mar 2004 07:19:20 -0800
From: Danek Duvall <duvall@emufarm.org>
To: Aaron Davies <agdavi01@louisville.edu>
Cc: zsh-users@sunsite.dk
Subject: Re: Globbing for Empty Directories?
Message-ID: <20040329151920.GA6379@lorien.emufarm.org>
Mail-Followup-To: Danek Duvall <duvall@emufarm.org>,
	Aaron Davies <agdavi01@louisville.edu>, zsh-users@sunsite.dk
References: <20040328194921.GA6311@DervishD> <CA7477A0-8146-11D8-913F-000502631FBD@louisville.edu> <20040329132800.GA7384@DervishD>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20040329132800.GA7384@DervishD>
User-Agent: Mutt/1.5.4i
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, hits=0.0 required=6.0 tests=none autolearn=no version=2.63
X-Spam-Hits: 0.0

On Mon, Mar 29, 2004 at 03:28:00PM +0200, DervishD wrote:

> > Adding any subdirectories or files to it seems to increase the
> > number of links it has.
> 
>     Not under Linux, at least, although it may depend on the
> filesystem type. For ext3, only subdirs increase the number of links
> of a directory.

As it should be.  Think of it this way.  st_nlink is the number of names
a filesystem object has on a filesystem.  For any directory, that'll be
1) the name the directory has in its parent, 2) the name "." it contains
itself, and 3-nlink) the name ".." its children contain.

Non-directory files (generally) don't contain other files, so they won't 
add to st_nlink.

Danek

