From zsh-workers-return-7109-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Jul 13 12:32:31 1999
Return-Path: <zsh-workers-return-7109-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17597 invoked from network); 13 Jul 1999 12:32:29 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 13 Jul 1999 12:32:29 -0000
Received: (qmail 22777 invoked by alias); 13 Jul 1999 12:32:24 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7109
Received: (qmail 22770 invoked from network); 13 Jul 1999 12:32:24 -0000
Message-Id: <9907131201.AA35778@ibmth.df.unipi.it>
To: zsh-workers@sunsite.auc.dk
Subject: Re: PATCH: some more job-control-tests 
In-Reply-To: "Sven Wischnowsky"'s message of "Tue, 13 Jul 1999 12:37:34 DFT."
             <199907131037.MAA24749@beta.informatik.hu-berlin.de> 
Date: Tue, 13 Jul 1999 14:01:29 +0200
From: Peter Stephenson <pws@ibmth.df.unipi.it>

Sven Wischnowsky wrote:
> Peter: the file contains the sed-loop from 7056 which didn't work for
> you -- could you reproduce the failure?

It's still happening under AIX 3 here --- it takes a few ^C's to get it to
stop.  It doesn't seem to be happening with the same version under Irix 6,
SunOS5 or HPUX 10 --- although the response is a good deal slower, so I
can't be sure it wasn't happening at all.  But the whole thing is weird: if
I redirect the error messages from sed, it stops much more frequently,
though not every time, sometimes with status 1 and sometimes with status
130, which presumably means sometimes it is, after all, interrupting the
shell itself.  Setting a trap shows that it really is behaving as if it
hasn't got the signal.  As before, if it doesn't get it on the first few
tries it seems to hang up completely.  Maybe I can look and see what it's
waiting for, but I have to get it to happen first... oh, great, gdb's hung
up too.  Anyway, it looks like some AIX strangeness, maybe to do with I/O,
so probably we shouldn't worry too much.  Aha! bash has the same problem
here... and not elsewhere.  So it's almost certainly the system.

-- 
Peter Stephenson <pws@ibmth.df.unipi.it>       Tel: +39 050 844536
WWW:  http://www.ifh.de/~pws/
Dipartimento di Fisica, Via Buonarroti 2, 56127 Pisa, Italy

