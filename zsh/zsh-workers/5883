From zsh-workers-return-5883-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Mar 22 17:48:18 1999
Return-Path: <zsh-workers-return-5883-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 6862 invoked from network); 22 Mar 1999 17:48:16 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 22 Mar 1999 17:48:16 -0000
Received: (qmail 4339 invoked by alias); 22 Mar 1999 17:47:21 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 5883
Received: (qmail 4323 invoked from network); 22 Mar 1999 17:47:19 -0000
From: "Andrej Borsenkow" <borsenkow.msk@sni.de>
To: <zsh-workers@sunsite.auc.dk>
Subject: RE: PATCH: cleanup in zle_tricky.c
Date: Mon, 22 Mar 1999 20:45:22 +0300
Message-ID: <003701be748b$c2b21740$21c9ca95@mowp.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-reply-to: <199903221543.QAA18102@beta.informatik.hu-berlin.de>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2014.211

>
> Question to others: do you see the same behavior Andrej does? I.e. is
> it me or is it the rest of the world who has run out of sync?
>

I know now where the problem(s) were - I sent this to Sven as well.

Bsically, the completion does not work with ambiguous prefix. In my case I
had /u1/informix* as well - that way _path_files took another branch.

In case of `.../*.suffix', the `/.*' was replaced by `/.', that 'course
could not match.

In case of x*y, first the whole was quoted (that gives you `x\*y') then *
was replaced by pattern, that should match anything except `/' - leaving
backslash inside. again, that pattern could not match.

bor@itsrm2:~%> sudo mkdir -p /foo/bar/baz
bor@itsrm2:~%> sudo touch /foo/bar/baz/{a,b,c}.h
bor@itsrm2:~%> l /foo/bar/baz/*.h
bor@itsrm2:~%> setopt globcomplete
bor@itsrm2:~%> l /foo/bar/baz/*.h
In both cases I completed /f/b/b/*.h

But

bor@itsrm2:~%> sudo mkdir -p /foo/baz
bor@itsrm2:~%> l /f/b/b/*.h
	Beep

cheers

/andrej

P.S. ZSH is fun, you know :-)

