Delivered-To: mason-zsh@primenet.com.au
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
Date: Mon, 1 Feb 1999 13:03:30 +0100 (CST)
From: Helmut Jarausch <jarausch@IGPM.Rwth-Aachen.DE>
Subject: patch 5132  breaks pws-6
To: zsh-workers@sunsite.auc.dk
Message-Id: <jarausch-990201130329.A03694@numa1>
X-Mailer: TkMail 4.0beta9
X-Mailing-List: <zsh-workers@sunsite.auc.dk> 5151

Hi,

first patches 5132 and 5133 are hard to apply. What 'patch' is required
for that.

Having applied it (by hand), zsh fails to build.

In  Src/init.c

the preprocessor variable UNLINKED_XMOD_zle  gets defined in 
zshxmods.h

but is used already in  init.pro, which gets included by zsh.mdh.

But placing 
#include "zshxmods.h"

before
#include "zsh.mdh"

doesn't work either, since only "zsh.mdh" includes  "config.h"
which defines DYNAMIC  which is referenced in "zshxmods.h"

So one has to break this circular dependency.

Helmut.


(Here on IRIX 6.2)






