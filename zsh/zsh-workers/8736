From zsh-workers-return-8736-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Nov 22 19:58:36 1999
Return-Path: <zsh-workers-return-8736-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 27635 invoked from network); 22 Nov 1999 19:57:44 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 22 Nov 1999 19:57:44 -0000
Received: (qmail 2978 invoked by alias); 22 Nov 1999 19:57:37 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 8736
Received: (qmail 2970 invoked from network); 22 Nov 1999 19:57:36 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <991122195650.ZM23432@candle.brasslantern.com>
Date: Mon, 22 Nov 1999 19:56:50 +0000
In-Reply-To: <199911220934.KAA04967@beta.informatik.hu-berlin.de>
Comments: In reply to Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
        "Re: Latest CVS: configure --pre=/to does not work" (Nov 22, 11:27am)
References: <199911220934.KAA04967@beta.informatik.hu-berlin.de>
X-Mailer: Z-Mail (5.0.0 30July97)
To: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>,
        zsh-workers@sunsite.auc.dk
Subject: Re: Latest CVS: configure --pre=/to does not work
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

(Responding to 8716, which I pulled from my archive account as I mentioned.)

On Nov 22, 11:27am, Sven Wischnowsky wrote:
} Subject: Re: Latest CVS: configure --pre=/to does not work
}
} This patch also fixes this for me:
} 
} Tanaka Akira wrote:
} 
} > Z:akr@is27e1u11% Src/zsh -f
} > is27e1u11% bindkey -e; fpath=($PWD/Completion/*(/)); autoload -U compinit; compinit -D; compdef _tst tst
} > is27e1u11% cvs <TAB>
} > CVS/           Src/           commit        init          rtag
} > Completion/    StartupFiles/  diff          log           status
} > Config/        Util/          edit          login         tag
} > Doc/           add           editors       logout        unedit
} > Etc/           admin         export        rdiff         update
} > Functions/     annotate      history       release       watch
} > Misc/          checkout      import        remove        watchers
} > 
} > Wow. filenames shouldn't listed.
} > 
} > And after second <TAB>:
} > 
} > is27e1u11% cvs --allow-root=CVS/
} > 
} > Of cause, the option `--allow-root' shouldn't completed.
} 
} That was caused by the wrong test, too.

I now get the following equally strange behavior:

zagzig<3> cvs <TAB>
add        commit     export     log        release    tag        watchers 
admin      diff       history    login      remove     unedit              
annotate   edit       import     logout     rtag       update              
checkout   editors    init       rdiff      status     watch               
zagzig<3> cvs -<TAB>
(FEEP)
zagzig<3> cvs - <TAB>
zagzig<3> cvs - --allow-root=

And --allow-root= is still the *only* option it will complete, even though
several others are passed to "_arguments -s" by _cvs.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

