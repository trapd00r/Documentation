From zsh-workers-request@math.gatech.edu  Thu Jul 20 07:08:03 1995
Received: from gatech.edu (gatech.edu [130.207.244.244]) by werple.mira.net.au (8.6.12/8.6.9) with SMTP id HAA03338 for <mason@werple.mira.net.au>; Thu, 20 Jul 1995 07:07:58 +1000
Received: from math (math.skiles.gatech.edu) by gatech.edu with SMTP id AA18452
  (5.65c/Gatech-10.0-IDA for <mason@werple.mira.net.au>); Wed, 19 Jul 1995 17:04:45 -0400
Received: by math (5.x/SMI-SVR4)
	id AA21514; Wed, 19 Jul 1995 17:00:39 -0400
Resent-Date: Wed, 19 Jul 1995 22:01:38 +0100 (BST)
Old-Return-Path: <zefram@dcs.warwick.ac.uk>
From: Zefram <A.Main@dcs.warwick.ac.uk>
Message-Id: <25948.199507192101@stone.dcs.warwick.ac.uk>
Subject: YACCP (yet another compctl patch)
To: zsh-workers@math.gatech.edu (Z Shell workers mailing list)
Date: Wed, 19 Jul 1995 22:01:38 +0100 (BST)
X-Loop: zefram@dcs.warwick.ac.uk
X-Stardate: [-31]6004.38
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-Id: <"E98fj2.0.4G5.s9N3m"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/246
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

-----BEGIN PGP SIGNED MESSAGE-----

At the moment, compctl won't allow a prefix or suffix in an xor'ed
completion, but it will allow these in the effectively xor'ed parts of
an extended completion.  This patch simply removes this prohibition.
Tests don't reveal any problems with the use of this ability.

 -zefram

      Index: Src/builtin.c
      ***************
        		}
        		break;
        	    case 'P':
      - 		if (hx) {
      - 		    zerrnam(name, "no prefix allowed in xor'd (+) completion",
      - 			    NULL, 0);
      - 		    return 1;
      - 		}
        		if ((*argv)[1]) {
        		    cct.prefix = (*argv) + 1;
        		    *argv = "" - 1;
      --- 1849,1854 ----
      ***************
      *** 1866,1876 ****
        		}
        		break;
        	    case 'S':
      - 		if (hx) {
      - 		    zerrnam(name, "no suffix allowed in xor'd (+) completion",
      - 			    NULL, 0);
      - 		    return 1;
      - 		}
        		if ((*argv)[1]) {
        		    cct.suffix = (*argv) + 1;
        		    *argv = "" - 1;
      --- 1861,1866 ----

-----BEGIN PGP SIGNATURE-----
Version: 2.6.i

iQBVAgUBMA1ydWWJ8JfKi+e9AQHKfgH9EmdnFQI4i99CADm5yMGNBFTDdcRBgL1q
YrK6H+R8BLbCQ0e1q0RT01mQ7gvFI5ZlIobcf8XxhFN+b2snYMoJOA==
=M0dN
-----END PGP SIGNATURE-----

