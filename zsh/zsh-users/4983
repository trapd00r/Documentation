From zsh-users-return-4983-mason-zsh=primenet.com.au@sunsite.dk Fri May 24 17:03:10 2002
Return-Path: <zsh-users-return-4983-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 7412 invoked from network); 24 May 2002 17:03:09 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 24 May 2002 17:03:09 -0000
Received: (qmail 10476 invoked by alias); 24 May 2002 17:02:49 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4983
Received: (qmail 10449 invoked from network); 24 May 2002 17:02:46 -0000
Date: Fri, 24 May 2002 10:02:40 -0700 (PDT)
From: Bart Schaefer <schaefer@brasslantern.com>
Sender: schaefer@ns1.sodaware.com
To: Jukka Lehti <jukkalehti@yahoo.com>
cc: zsh-users@sunsite.dk
Subject: Re: make completion on OpenBSD
In-Reply-To: <20020524163058.93920.qmail@web20301.mail.yahoo.com>
Message-ID: <Pine.LNX.4.44.0205240958580.7873-100000@ns1.sodaware.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Fri, 24 May 2002, Jukka Lehti wrote:

> I wrote:
>
> > compctl -s "\$(awk '/^[a-zA-Z0-9][^\/ \t]+:/ {print
> > \$1}' FS=: [mM]akefile)" -x 'c[-1,-f]' -f --
> > {,g,gnu,p,v}make
> >
> > However, after I installed OpenBSD 3.1 and zsh-4.0.4,
> > the above behaves strangely
>
> Well, after removing backslashed before $'s it started
> to work on OpenBSD

Removing the backslashes is almost certainly the wrong thing to do, given
that you have double quotes around the "$(awk ...}".

More likely you should check whether the values of your setopts are the
same on OpenBSD as they are on Linux.  E.g., does one have sh_word_split
set and the other not?

