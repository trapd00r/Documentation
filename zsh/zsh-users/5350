From zsh-users-return-5350-mason-zsh=primenet.com.au@sunsite.dk Mon Sep 16 06:53:02 2002
Return-Path: <zsh-users-return-5350-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 29801 invoked from network); 16 Sep 2002 06:53:01 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 16 Sep 2002 06:53:01 -0000
Received: (qmail 11864 invoked by alias); 16 Sep 2002 06:52:49 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 5350
Received: (qmail 11853 invoked from network); 16 Sep 2002 06:52:47 -0000
From: Paul Lew <paullew@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15749.32672.519001.745519@paullew-ultra.cisco.com>
Date: Sun, 15 Sep 2002 23:52:16 -0700
To: Micha Holzmann <holzmann@mhnet.de>
Cc: zsh-users@sunsite.dk
Subject: RE: cat file|while read behaves not as expected
In-Reply-To: <20020916063254.GA8555@idm-06.pf.kramski.de>
References: <20020916063254.GA8555@idm-06.pf.kramski.de>
X-Mailer: VM 7.07 under Emacs 21.2.1

>>>>> "Micha" == Micha Holzmann <holzmann@mhnet.de> writes:

    Micha> #!/bin/zsh

    Micha> cat ./tst.dat|while read line
    Micha> do
    Micha> for i in $line
    Micha> do
    Micha> echo $i
    Micha> done
    Micha> done

    Micha> If i run this script, it prints "1 2 3 4 5" as result, if i
    Micha> change the shell to /bin/sh, it prints (te expected)
    Micha> result:

    Micha> 1
    Micha> 2
    Micha> 3
    Micha> 4
    Micha> 5

    Micha> What is the fault i make?

if you say:

    for i in $=line

it will do what you want.  Basically, the variable i will contain the
"1 2 3 4 5", unless you told it to split word, the entire entry is
will be used on variable expansion.  This is what zsh does it
correctly compare to other shells, but also a problem with
compatibility :-)

