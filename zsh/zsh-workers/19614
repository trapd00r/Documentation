From zsh-workers-return-19614-mason-zsh=primenet.com.au@sunsite.dk Fri Mar 12 15:42:38 2004
Return-Path: <zsh-workers-return-19614-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17846 invoked from network); 12 Mar 2004 15:42:37 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 12 Mar 2004 15:42:37 -0000
Received: (qmail 20707 invoked by alias); 12 Mar 2004 15:42:16 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 19614
Received: (qmail 20692 invoked from network); 12 Mar 2004 15:42:15 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 12 Mar 2004 15:42:15 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [216.254.112.45] by sunsite.dk (MessageWall 1.0.8) with SMTP; 12 Mar 2004 15:42:14 -0000
Received: by acolyte.scowler.net (Postfix, from userid 1000)
	id 0EACB70037; Fri, 12 Mar 2004 10:42:13 -0500 (EST)
Date: Fri, 12 Mar 2004 10:42:13 -0500
From: Clint Adams <clint@zsh.org>
To: zsh-workers@sunsite.dk
Subject: Re: PATCH: vux/vuxctl completion
Message-ID: <20040312154213.GA301@scowler.net>
References: <20040311213540.GA907@scowler.net> <29555.1079085603@trentino.logica.co.uk>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <29555.1079085603@trentino.logica.co.uk>
User-Agent: Mutt/1.5.5.1+cvs20040105i

> Since in 4.1, matches are grouped where they have the same description,
> it is much nicer to give the description to both the long and short
> option. The convention is to do this with brace expansion:
> 
>   '(-r --report)'{-r,--report}'[report]' \
>   '(-c --report-cycles)'{-c,--report-cycles}'[report cycles]:count' \
> 
> Except the descriptions could be rather more, um, descriptive.

Index: Completion/Unix/Command/_mtr
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_mtr,v
retrieving revision 1.1
diff -u -r1.1 _mtr
--- Completion/Unix/Command/_mtr	11 Mar 2004 21:58:49 -0000	1.1
+++ Completion/Unix/Command/_mtr	12 Mar 2004 15:30:08 -0000
@@ -1,28 +1,16 @@
 #compdef mtr
 
 _arguments -C \
-	'(--help)-h[help]' \
-	'(-h)--help' \
-	'(--version)-v[version]' \
-	'(-v)--version' \
-	'(--report)-r[report]' \
-	'(-r)--report' \
-	'(--report--cycles)-c[report cycles]:count:' \
-	'(-c)--report-cycles:count:' \
-	'(--psize)-p[packet size]:packet size in bytes:' \
-	'(-p)--psize:packet size in bytes:' \
-	'(--curses)-t[curses]' \
-	'(-t)--curses' \
-	'(--no-dns)-n[no dns]' \
-	'(-n)--no-dns' \
-	'(--gtk)-g[gtk]' \
-	'(-g)--gtk' \
-	'(--split)-s[split]' \
-	'(-s)--split' \
-	'(--raw)-l[raw]' \
-	'(-l)--raw' \
-	'(--address)-a[source IP]:source IP:' \
-	'(-a)--address:source IP:' \
-	'(--interval)-i[interval]:seconds:' \
-	'(-i)--interval:seconds:' \
-	':hostname:_hosts'
+	'(-h --help)'{-h,--help}'[help]' \
+	'(-v --version)'{-v,--version}'[version]' \
+	'(-r --report)'{-r,--report}'[report mode]' \
+	'(-c --report-cycles)'{-c,--report-cycles}'[report cycles]:number of pings' \
+	'(-p --psize)'{-p,--psize}'[packet size]:number of bytes' \
+	'(-t --curses)'{-t,--curses}'[curses UI]' \
+	'(-n --no-dns)'{-n,--no-dns}'[no DNS lookups]' \
+	'(-g --gtk)'{-g,--gtk}'[GTK+ UI]' \
+	'(-s --split)'{-s,--split}'[output for a split-user interface]' \
+	'(-l --raw)'{-l,--raw}'[raw output format]' \
+	'(-a --address)'{-a,--address}'[source address]:source IP:_hosts' \
+	'(-i --interval)'{-i,--interval}'[ping interval]:number of seconds' \
+	':destination host:_hosts'

