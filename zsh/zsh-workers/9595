From zsh-workers-return-9595-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Feb 07 08:10:15 2000
Return-Path: <zsh-workers-return-9595-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13098 invoked from network); 7 Feb 2000 08:10:14 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 7 Feb 2000 08:10:14 -0000
Received: (qmail 23101 invoked by alias); 7 Feb 2000 08:09:57 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 9595
Received: (qmail 23088 invoked from network); 7 Feb 2000 08:09:56 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <1000207080634.ZM8445@candle.brasslantern.com>
Date: Mon, 7 Feb 2000 08:06:34 +0000
In-Reply-To: <NCBBLINKDKKLMKDJFLMCAEIJCBAA.Andrej.Borsenkow@mow.siemens.ru>
Comments: In reply to "Andrej Borsenkow" <Andrej.Borsenkow@mow.siemens.ru>
        "RE: Makefile target given more than once (Re: 3.1.6-dev-17)" (Feb  7, 10:34am)
References: <NCBBLINKDKKLMKDJFLMCAEIJCBAA.Andrej.Borsenkow@mow.siemens.ru>
X-Mailer: Z-Mail (5.0.0 30July97)
To: "Andrej Borsenkow" <Andrej.Borsenkow@mow.siemens.ru>,
        "Zsh hackers list" <zsh-workers@sunsite.auc.dk>
Subject: Re: Makefile target given more than once (Re: 3.1.6-dev-17)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Feb 7, 10:34am, Andrej Borsenkow wrote:
} Subject: RE: Makefile target given more than once (Re: 3.1.6-dev-17)
}
} > } gmake[1]: Entering directory `/tools/src/zsh-3.1.6-dev-17/Doc'
} > } Makefile:217: target `zsh.texi' given more than once in the same rule.
} >
} > Hrm.  This would appear to be gmake cleverly discovering that when $(sdir)
} > is ".", zsh.texi and $(sdir)/zsh.texi are the same target.
} 
} So far it is just noise. But why we need two targets? One is obviously
} redundant.

No, that's not true.

The $(sdir)/zsh.texi target is used in dependencies elsewhere in the
Makefile.

The zsh.texi target is for (cd Doc; make zsh.texi) which is executed by
the top-level Makefile and also may be typed by a user.

When $(sdir) is not "." (e.g., when building in a platform-specific
parallel tree) one or the other of those targets will fail if they are
not both present.  "make zsh.texi" doesn't actually create ./zsh.texi
when $(sdir) is not ".", but if you don't know what $(sdir) is it's
bothersome to figure out what you should type to get zsh.texi created.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

