From zsh-workers-return-15678-mason-zsh=primenet.com.au@sunsite.dk Wed Aug 22 16:21:24 2001
Return-Path: <zsh-workers-return-15678-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5530 invoked from network); 22 Aug 2001 16:21:23 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 22 Aug 2001 16:21:23 -0000
Received: (qmail 10416 invoked by alias); 22 Aug 2001 16:21:16 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 15678
Received: (qmail 10402 invoked from network); 22 Aug 2001 16:21:15 -0000
X-Envelope-Sender-Is: Andrej.Borsenkow@mow.siemens.ru (at relayer david.siemens.de)
From: Borsenkow Andrej <Andrej.Borsenkow@mow.siemens.ru>
To: "'Bart Schaefer'" <schaefer@brasslantern.com>, zsh-workers@sunsite.dk
Subject: RE: Quoted parameter parsing glitch
Date: Wed, 22 Aug 2001 20:21:09 +0400
Message-ID: <006601c12b26$73edf210$21c9ca95@mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
In-Reply-To: <1010822155420.ZM23938@candle.brasslantern.com>
x-mimeole: Produced By Microsoft MimeOLE V6.00.2479.0006
Importance: Normal

> schaefer<502> print "${foo:-"}"
> dquote braceparam>
> 
> At this point the parser is in an infinite loop.  There's nothing you
can
> type (except end-of-file or interrupt) that will free you from the PS2
> prompt.
> 

Shell should not hang, but please note it is invalid as per POSIX.
Double-quotes and braces must match. So whatever fix is used, it should
not make the above valid construct (i.e. it should not print `"'). 

-andrej

