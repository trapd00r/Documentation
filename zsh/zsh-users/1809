From zsh-workers-request@math.gatech.edu Wed Sep 16 03:04:59 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 29404 invoked from network); 16 Sep 1998 03:04:58 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 16 Sep 1998 03:04:57 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.9.1/8.9.1) id WAA27014;
	Tue, 15 Sep 1998 22:58:47 -0400 (EDT)
Resent-Date: Tue, 15 Sep 1998 22:54:56 -0400 (EDT)
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <980915195634.ZM4983@candle.brasslantern.com>
Date: Tue, 15 Sep 1998 19:56:34 -0700
In-Reply-To: <199809152113.RAA17938@dilbert.wlgore.com>
Comments: In reply to Jerry Alexandratos <jalexand@wlgore.com>
        "3.1.4 and su" (Sep 15,  5:13pm)
References: <199809152113.RAA17938@dilbert.wlgore.com>
X-Mailer: Z-Mail (4.0b.820 20aug96)
To: darkstar@udel.edu, zsh-users@math.gatech.edu
Subject: Re: 3.1.4 and su
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Resent-Message-ID: <"ROy3k3.0.4b6._Xo_r"@math>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/1809
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

On Sep 15,  5:13pm, Jerry Alexandratos wrote:
} Subject: 3.1.4 and su
}
} I've been using 3.1.4 for a while now, and I'm finally getting around to
} asking this question.
} 
} When I do a "su -m" my environment isn't kept.  Of course this isn't a
} problem under 3.0.5.

Depending on how you installed 3.1.4, it could be the case that your
$SHELL is not listed in /etc/shells.  That affects behavior of su -m.

It's also possible that the environment isn't kept under 3.0.5 either,
but that your init files are being sourced at startup of su -m in 3.0.5
yet are not sourced in 3.1.4.

3.1.4 automatically puts itself in "priveleged" state when UID and EUID
are not equivalent.  That causes it to skip sourcing $HOME/.zshrc et. al.
3.0.5 has no notion of "priveleged" and always sources the init files.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

