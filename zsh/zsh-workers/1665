From flight@mathi.uni-heidelberg.DE Tue Jul 16 21:56:59 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by melb.werple.net.au (8.7.5/8.7.3/2) with ESMTP id VAA02352 for <mason@werple.mira.net.au>; Tue, 16 Jul 1996 21:56:56 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id HAA29207; Tue, 16 Jul 1996 07:45:03 -0400 (EDT)
Resent-Date: Tue, 16 Jul 1996 07:45:03 -0400 (EDT)
Message-Id: <9607161142.AA04420@mathi.uni-heidelberg.DE>
Content-Type: text/plain
Mime-Version: 1.0 (NeXT Mail 3.3risc v118.3)
In-Reply-To: <199607132107.RAA04878@nerc.com>
X-Nextstep-Mailer: Mail 3.3 (Enhance 1.3)
From: Gregor Hoffleit <flight@mathi.uni-heidelberg.DE>
Date: Tue, 16 Jul 96 13:41:54 +0200
To: zsh-workers@math.gatech.edu
Subject: pre3 & NEXTSTEP: strcoll, HP-PA
References: <199607132107.RAA04878@nerc.com>
Resent-Message-ID: <"1Vl4n2.0.I87.-2uwn"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/1665
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu
Content-Length: 1060
Status: O

Two observations with pre3 and NEXTSTEP:

1.) NEXTSTEP defines a strcoll() in <ansi/string.h>, but this is  
definitely something else:

  extern size_t strcoll(char *to, size_t maxsize, const char *from);

The effect is that configure #defines HAVE_STRCOLL, but compilation  
fails. You have to manually #undef HAVE_STRCOLL. Is there any way  
to care for this automatically ?


2.) Not an pre3 issue, not even a zsh specific: autoconf-2.10 and  
below fails to detect NEXTSTEP 3.x running on HP-PA machines, and  
configure crashes. I've reported this to bug-gnu-utils, but didn't  
get any reaction yet. The following is an quick (dirty?) fix for  
this:

Change line 151 in config.sub from

	      | hppa1.0-* | hppa1.1-* | alpha-* | ...
to
	      | hppa-* | hppa1.0-* | hppa1.1-* | alpha-* | ...
	


	Gregor


---
| Gregor Hoffleit          admin MATHInet / contact RhiNO |
| MAIL: Mathematisches Institut   PHONE: (49)6221 54-5771 |
| INF 288, 69120 Heidelberg / Germany        FAX: 54-8312 |
| EMAIL: flight@mathi.uni-heidelberg.de  (NeXTmail, MIME) |


