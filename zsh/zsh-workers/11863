From zsh-workers-return-11863-mason-zsh=primenet.com.au@sunsite.auc.dk Sun Jun 11 07:52:48 2000
Return-Path: <zsh-workers-return-11863-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 28163 invoked from network); 11 Jun 2000 07:52:47 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 11 Jun 2000 07:52:47 -0000
Received: (qmail 23585 invoked by alias); 11 Jun 2000 07:52:40 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 11863
Received: (qmail 23578 invoked from network); 11 Jun 2000 07:52:39 -0000
To: zsh-workers@sunsite.auc.dk
Subject: core dump on OSF1
MIME-Version: 1.0 (generated by SEMI 1.13.7 - "Awazu")
Content-Type: text/plain; charset=US-ASCII
From: Tanaka Akira <akr@m17n.org>
Date: 11 Jun 2000 16:52:40 +0900
Message-ID: <hvor9a464dz.fsf@serein.m17n.org>
Lines: 42
User-Agent: T-gnus/6.14.1 (based on Gnus v5.8.3) (revision 16) SEMI/1.13.7 (Awazu) FLIM/1.13.2 (Kasanui) Emacs/20.6 (i686-pc-linux-gnu) MULE/4.0 (HANANOEN)

On OSF1, zsh dumps core as follows.

Z:akr@tru64% uname -a
OSF1 tru64.m17n.org V4.0 1091 alpha
Z:akr@tru64% ./configure --prefix=/home/akr/zsh/tru64
...
Z:akr@tru64% make                                    
...
Z:akr@tru64% make install                            
...
Z:akr@tru64% Src/zsh -f                          
tru64% bindkey -e; autoload -U compinit; compinit -D
tru64% ls <TAB>
zsh: segmentation fault (core dumped)  Src/zsh -f
Z:akr@tru64% gdb Src/zsh core
GNU gdb 19990201
Copyright 1998 Free Software Foundation, Inc.
GDB is free software, covered by the GNU General Public License, and you are
welcome to change it and/or distribute copies of it under certain conditions.
Type "show copying" to see the conditions.
There is absolutely no warranty for GDB.  Type "show warranty" for details.
This GDB was configured as "alphaev56-dec-osf4.0e"...(no debugging symbols found)...
Core was generated by `zsh'.
Program terminated with signal 11, Segmentation fault.
Reading symbols from /usr/shlib/libm.so...(no debugging symbols found)...done.
Reading symbols from /usr/shlib/libc.so...(no debugging symbols found)...done.
Reading symbols from /home/akr/zsh/tru64/lib/zsh/3.1.9/zsh/zle.so...(no debugging symbols found)...done.
Reading symbols from /home/akr/zsh/tru64/lib/zsh/3.1.9/zsh/complete.so...(no debugging symbols found)...done.
Reading symbols from /home/akr/zsh/tru64/lib/zsh/3.1.9/zsh/compctl.so...(no debugging symbols found)...done.
Reading symbols from /home/akr/zsh/tru64/lib/zsh/3.1.9/zsh/parameter.so...(no debugging symbols found)...done.
Reading symbols from /home/akr/zsh/tru64/lib/zsh/3.1.9/zsh/zutil.so...(no debugging symbols found)...done.
Reading symbols from /home/akr/zsh/tru64/lib/zsh/3.1.9/zsh/computil.so...(no debugging symbols found)...done.
#0  0x3ffbffb9180 in _ftext () from /home/akr/zsh/tru64/lib/zsh/3.1.9/zsh/computil.so
(gdb) where
#0  0x3ffbffb9180 in _ftext () from /home/akr/zsh/tru64/lib/zsh/3.1.9/zsh/computil.so
(gdb) 

Note that the following debugging configuration prevents core dump.

DLLD=gcc LDFLAGS="-g -rpath ..." ./configure --prefix="$prefix" --enable-zsh-debug
-- 
Tanaka Akira

