From zsh-workers-return-9727-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Feb 14 19:06:41 2000
Return-Path: <zsh-workers-return-9727-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9045 invoked from network); 14 Feb 2000 19:06:39 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 14 Feb 2000 19:06:39 -0000
Received: (qmail 10156 invoked by alias); 14 Feb 2000 19:06:32 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 9727
Received: (qmail 10148 invoked from network); 14 Feb 2000 19:06:31 -0000
To: "Zsh hackers list" <zsh-workers@sunsite.auc.dk>
Subject: Re: PATCH: omit modules from compilation and installation process 
In-reply-to: ""Andrej Borsenkow""'s message of "Mon, 14 Feb 2000 10:14:11 +0300."
             <000001bf76bb$174c9500$21c9ca95@mow.siemens.ru> 
Date: Mon, 14 Feb 2000 19:10:04 +0000
From: Peter Stephenson <pws@pwstephenson.fsnet.co.uk>
Message-Id: <E12KQpH-0006cW-00.2000-02-14-19-06-28@cmailg2.svr.pol.co.uk>

"Andrej Borsenkow" wrote:
> > Now you can give configure a comma-separated list of modules not
> > to compile
> > nor install as --enable-omit-modules=zsh/example,zsh/zpty.  Having to use
> > the `enable' in front is a bit tacky, but as far as I can see there's no
> > way round it.
> 
> Ahem ... what's wrong with --(disable|enable)-modules=... ?

--disable-modules is a synonym for --enable-modules=no, it doesn't take
arguments.  The nearest possibility is Bart's suggestion for using some
kind of negation symbol.

> Is it usable for static compilation as well?  Will it completely replace
> defaults? Probably, meta keywords like
> 
> --enable-modules=all
> --enable-modules=default,zsh/zpty
> 
> would be useful (but, may be, for static case only).

The first question is what Bart was addressing.  Something along those
lines should presumably be possible, but I think it might be a bit
confusing to overload just the one switch.  I might suggest keeping
--enable-omit-modules as it is and having --enable-builtin-modules=... to do
what you (and Bart) are suggesting.  Then it ought to be possible to have
"all" (build in all the modules there are, phew), and possible "default"
in the manner you suggest.  This is a little harder than
--enable-omit-modules, but probably not too bad.

-- 
Peter Stephenson <pws@pwstephenson.fsnet.co.uk>

