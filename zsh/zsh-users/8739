From zsh-users-return-8739-mason-zsh=primenet.com.au@sunsite.dk Sat Apr 23 08:55:15 2005
Return-Path: <zsh-users-return-8739-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 29502 invoked from network); 23 Apr 2005 08:55:14 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 23 Apr 2005 08:55:14 -0000
Received: (qmail 92911 invoked from network); 23 Apr 2005 08:55:08 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 23 Apr 2005 08:55:08 -0000
Received: (qmail 12940 invoked by alias); 23 Apr 2005 08:55:01 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8739
Received: (qmail 12915 invoked from network); 23 Apr 2005 08:55:00 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 23 Apr 2005 08:55:00 -0000
Received: (qmail 91493 invoked from network); 23 Apr 2005 08:55:00 -0000
Received: from flock1.newmail.ru (212.48.140.157)
  by a.mx.sunsite.dk with SMTP; 23 Apr 2005 08:54:56 -0000
Received: (qmail 21701 invoked from network); 23 Apr 2005 08:53:30 -0000
Received: from unknown (HELO ?10.0.0.1?) (arvidjaar@newmail.ru@83.237.208.11)
  by smtpd.newmail.ru with SMTP; 23 Apr 2005 08:53:30 -0000
From: Andrey Borzenkov <arvidjaar@newmail.ru>
To: zsh-users@sunsite.dk
Subject: Re: Speeding up ZSH startup
Date: Sat, 23 Apr 2005 12:54:53 +0400
User-Agent: KMail/1.8
Cc: Meino Christian Cramer <Meino.Cramer@gmx.de>
References: <20050423.082943.74746308.Meino.Cramer@gmx.de>
In-Reply-To: <20050423.082943.74746308.Meino.Cramer@gmx.de>
MIME-Version: 1.0
Content-Type: multipart/signed;
  boundary="nextPart1515538.oYVoC7Oab5";
  protocol="application/pgp-signature";
  micalg=pgp-sha1
Content-Transfer-Encoding: 7bit
Message-Id: <200504231254.54270.arvidjaar@newmail.ru>
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=6.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.6

--nextPart1515538.oYVoC7Oab5
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

On Saturday 23 April 2005 10:29, Meino Christian Cramer wrote:
> Hi,
>
>  I am at the very beginning of dvinig deeper into the wonderful world
>  of ZSH :O)...
>
>  I want to speed up the start of zsh on my Linux system.
>  WIth "zsh -x" I figured out what file are loaded when and I found no
>  abnormal things (reloading and such...). The different fiel, which
>  got loaded are of "normal" size (so nothing VERY big...).
>
>  Is there any other things or tricks I can try to make starting zsh a
>  little faster ?
>

If you use "new" completion (compinit) then the slowest part is reading and=
=20
parsing all completion functions.

You can speed it up by precompiling; see zcompile and function autoloading =
in=20
Zsh manuals.

I do something like

for i in $fpath; do
  zcompile $i $i/*(N)
done

and wrapper function that checks modification time to automatically recompi=
le=20
if needed.

>  For example: Are there feature known, which are better to be
>  activated at last/at first...
>

it depends on your rc files actually. Ubuntu ships zero rc files for zsh an=
d=20
startup is very fast :)

=2Dandrey

--nextPart1515538.oYVoC7Oab5
Content-Type: application/pgp-signature

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.0 (GNU/Linux)

iD8DBQBCag1eR6LMutpd94wRAimIAKCxF2JL8eVs3NiNyFzudq6tpOl0hwCfeYpf
Ipg0ul/2B2h6RGpUPNPGJVU=
=bHO0
-----END PGP SIGNATURE-----

--nextPart1515538.oYVoC7Oab5--

