From zsh-workers-return-28409-mason-zsh=primenet.com.au@zsh.org Sat Nov 13 15:53:48 2010
Return-Path: <zsh-workers-return-28409-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 566 invoked by alias); 13 Nov 2010 15:53:48 -0000
Mailing-List: contact zsh-workers-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Workers List <zsh-workers.zsh.org>
List-Post: <mailto:zsh-workers@zsh.org>
List-Help: <mailto:zsh-workers-help@zsh.org>
Delivered-To: mailing list zsh-workers@zsh.org
X-Seq: 28409
Received: (qmail 17161 invoked from network); 13 Nov 2010 15:53:47 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.9 required=5.0 tests=BAYES_00,RCVD_IN_DNSWL_NONE
	autolearn=ham version=3.3.1
Received-SPF: none (ns1.primenet.com.au: domain at closedmail.com does not designate permitted sender hosts)
From: Bart Schaefer <schaefer@brasslantern.com>
Message-id: <101113075331.ZM15942@torch.brasslantern.com>
Date: Sat, 13 Nov 2010 07:53:31 -0800
In-reply-to: <AANLkTikt-ZdJA_+hSLEc88+Qu2a8a4GJiGRW5RQHM2HK@mail.gmail.com>
Comments: In reply to Nikolai Weibull <now@bitwi.se>
 "( Text in unknown character set UTF-8 not shown ) " (Nov 13,  4:07pm)
References: <AANLkTikt-ZdJA_+hSLEc88+Qu2a8a4GJiGRW5RQHM2HK@mail.gmail.com>
X-Mailer: OpenZMail Classic (0.9.2 24April2005)
To: Zsh Workers <zsh-workers@zsh.org>
Subject: Re: ( Text in unknown character set UTF-8 not shown )
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii

On Nov 13,  4:07pm, Nikolai Weibull wrote:
}
} _multi_parts -f doesn't seem to have any effect.  At least note the
} one I care about, which is to apply colors to different file types.
} Is this a known issue?

It defintely passes -f through to compadd, so you're going to have to
be a bit more specific.  However, there are likely to be two combined
effects at work here.

(1) File type coloring is applied only to files that can be examined
with stat(2), unless you have some pattern-match colorings defined.

(2) _multi_parts treats each "component" of the string it breaks up as
an independent match, so it passes the prefix from the line to compadd
using -P rather than -W.

The result is that _multi_parts can only apply file coloring in cases
where there is no path prefix, i.e., files in the current directory.

Which, IIRC, is why _path_files exists in the first place.

