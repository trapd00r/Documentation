From zsh-workers-return-8899-mason-zsh=primenet.com.au@sunsite.auc.dk Sun Dec 05 17:05:42 1999
Return-Path: <zsh-workers-return-8899-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 12512 invoked from network); 5 Dec 1999 17:05:41 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 5 Dec 1999 17:05:41 -0000
Received: (qmail 28042 invoked by alias); 5 Dec 1999 17:05:35 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 8899
Received: (qmail 28035 invoked from network); 5 Dec 1999 17:05:32 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <991205170527.ZM23739@candle.brasslantern.com>
Date: Sun, 5 Dec 1999 17:05:27 +0000
In-Reply-To: <991205165636.ZM23631@candle.brasslantern.com>
Comments: In reply to "Bart Schaefer" <schaefer@candle.brasslantern.com>
        "Re: PATCH: Previous zsh.yo.in patch wasn't good enough" (Dec  5,  4:56pm)
References: <E11uasI-0003R0-00@crucigera.fysh.org> 
	<991205165636.ZM23631@candle.brasslantern.com>
X-Mailer: Z-Mail (5.0.0 30July97)
To: zsh-workers@sunsite.auc.dk
Subject: Re: PATCH: Previous zsh.yo.in patch wasn't good enough
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Dec 5,  4:56pm, I wrote:
}
} } Then a sed over that generates zsh.texi in the build tree, with the
} } transformed name in the appropriate place.  We run makeinfo on that.
} 
} The easiest way to do this is to get rid of the "%.info: $(tzsh).texi"
} rule and simply have "install.info: $(sdir)/zsh.texi.in".

Two things:

First, of course I mean "install.info: zsh.texi" and have another rule
for generating zsh.texi from zsh.texi.in.

Second, it just occurred to me that having program name transforms apply
to the documentation changes the results of "make targz-doc" from the top
level directory; in fact, without hacking .distfiles during the build,
"make targz-doc" won't work at all with a transformed program name.

Maybe that's OK, as we don't really want someone distributing a tar file
with transformed names in the documentation, but it's a point to note.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

