From zsh-workers-return-19644-mason-zsh=primenet.com.au@sunsite.dk Wed Mar 17 10:23:52 2004
Return-Path: <zsh-workers-return-19644-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8901 invoked from network); 17 Mar 2004 10:23:51 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 17 Mar 2004 10:23:51 -0000
Received: (qmail 10638 invoked by alias); 17 Mar 2004 10:23:43 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 19644
Received: (qmail 10625 invoked from network); 17 Mar 2004 10:23:43 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 17 Mar 2004 10:23:43 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [130.95.128.56] by sunsite.dk (MessageWall 1.0.8) with SMTP; 17 Mar 2004 10:23:42 -0000
Received: from 127.0.0.1 (localhost [127.0.0.1])
	by dummy.domain.name (Postfix) with SMTP id 5DC7A366FE9
	for <zsh-workers@sunsite.dk>; Wed, 17 Mar 2004 18:23:40 +0800 (WST)
Received: from gulag.gu.uwa.edu.au (gulag.guild.uwa.edu.au [130.95.100.5])
	by asclepius.uwa.edu.au (Postfix) with ESMTP id 4AF67366A0F
	for <zsh-workers@sunsite.dk>; Wed, 17 Mar 2004 18:23:40 +0800 (WST)
Received: from gulag.gu.uwa.edu.au (devenish@localhost [127.0.0.1])
	by gulag.gu.uwa.edu.au (8.12.3/8.12.3/Debian-6.6) with ESMTP id i2HANd3X014677
	for <zsh-workers@sunsite.dk>; Wed, 17 Mar 2004 18:23:39 +0800
Received: (from devenish@localhost)
	by gulag.gu.uwa.edu.au (8.12.3/8.12.3/Debian-6.6) id i2HANdP0014675
	for zsh-workers@sunsite.dk; Wed, 17 Mar 2004 18:23:39 +0800
Date: Wed, 17 Mar 2004 18:23:39 +0800
From: James Devenish <j-devenish@users.sourceforge.net>
To: zsh-workers@sunsite.dk
Subject: Re: PATCH: zpty on HP/UX (and Mac OS X 10.3)
Message-ID: <20040317102338.GA14418@mail.guild.uwa.edu.au>
Mail-Followup-To: zsh-workers@sunsite.dk
References: <28264.1079449650@csr.com> <12351.1079466466@trentino.logica.co.uk> <BCC268FF-77A4-11D8-B853-003065E5EFE0@mneptok.com> <24420.1079518350@trentino.logica.co.uk>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <24420.1079518350@trentino.logica.co.uk>
User-Agent: Mutt/1.3.28i

In message <24420.1079518350@trentino.logica.co.uk>
on Wed, Mar 17, 2004 at 11:12:30AM +0100, Oliver Kiddle wrote:
> But can you read from the commands. i.e. if you do:
>   zpty date date
>   zpty -r date
> will the second command print the date or will it exit with a status of
> 1.

% uname -a
Darwin ... 7.3.0 Darwin Kernel Version 7.3.0: Fri Mar 5 14:22:55 PST 2004; root:xnu/xnu-517.3.15.obj~4/RELEASE_PPC  Power Macintosh powerpc
% sw_vers
ProductName:    Mac OS X
ProductVersion: 10.3.3
BuildVersion:   7F44
% which zsh
/bin/zsh
% zpty -L
zsh: command not found: zpty
% zmodload zsh/zpty
% zpty date date
% zpty -r date
Wed Mar 17 18:17:21 WST 2004
%

> If reading does work, what version of zsh is it?

% echo $ZSH_VERSION
4.1.1

I wonder if this is the version that is available as tarball/CVS from
Apple's website?

> If you build zsh on MacOS X.3, does it build the dynamic modules
> without your having to install the dlcompat library?

% locate dlcompat | fgrep -v /sw/fink
%
% otool -L =zsh
/bin/zsh:
        /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 71.0.0)
        /usr/lib/libncurses.5.dylib (compatibility version 5.0.0, current version 5.0.0)
% locate zpty | fgrep -v devenish
/usr/lib/zsh/4.1.1/zsh/zpty.so
/usr/share/zsh/4.1.1/functions/_zpty
%


