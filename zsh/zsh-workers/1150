From hzoli@cs.elte.hu Fri May 24 04:47:14 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by melb.werple.net.au (8.7.5/8.7.3) with ESMTP id EAA10994 for <mason@werple.mira.net.au>; Fri, 24 May 1996 04:46:44 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id OAA00484; Thu, 23 May 1996 14:32:11 -0400 (EDT)
Resent-Date: Thu, 23 May 1996 14:32:11 -0400 (EDT)
From: Zoltan Hidvegi <hzoli@cs.elte.hu>
Message-Id: <199605231832.UAA04182@bolyai.cs.elte.hu>
Subject: Re: HISTCHARS
To: schaefer@z-code.ncd.com
Date: Thu, 23 May 1996 20:32:05 +0200 (MET DST)
Cc: zsh-workers@math.gatech.edu
In-Reply-To: <960523105059.ZM15172@zyrcon.z-code.com> from "Barton E. Schaefer" at "May 23, 96 10:50:58 am"
Organization: Dept. of Comp. Sci., Eotvos University, Budapest, Hungary
Phone: (36 1)2669833 ext: 2667, home phone: (36 1) 2752368
X-Mailer: ELM [version 2.4ME+ PL16 (25)]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"AQrAb1.0.U7.gyAfn"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/1150
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu
Content-Length: 1729
Status: OR

> Somebody remind me why this has become a lower-case variable, and why it is
> not mirrored to/from the upper-case version?
> 
> Does anybody know what the comprehensive list of these seemingly arbitrary
> incompatibilities is?  I'm getting really tired of tweaking and re-tweaking
> my .zsh* files every time I find another of these stupid things.  We need a
> complete upgrade guide of some sort.

HISTCHARS was changed to histchars quite long ago because both bash and csh
use the lower-case version.

A complete list of changes would be useful indeed.  There is a NEWS file
listing the new features in zsh-2.5 (strange that some of these features
were completely unusable in 2.5 because of the bugs).  Perhaps it the
upgrage guite should go there.  An other difference which comes to my mind
is the ${~...} ${^...} and ${=...} parameter substitution syntax, which do
not toggle the relevant options anymore.  Also GLOB_SUBST and ${~...} do
not evaluate the substituted parameter expansions:

% foo='$bar' ; echo $~foo
$bar

instead of printing the value of bar (but ${(e)foo} can be use for that).


% foo=*

does not glob.  Use foo=( * ).

An other change is "${#foo}" gives the array length if foo is an array (use
"${(c)#foo}" to get the old behaviour).  It also caused problems that
PROMPT_SUBST now really works and expads backquote substitutions (it didn't
do that before beta17).  Also history expansion is disabled in single
quoted strings.  This may break some functions which used something like
sed '/pattern/\!d' since now the backslash is passed to sed.

There are probably many other changes I forgot (I did not use 2.5 too much
since it was too buggy, and 2.5 was the first zsh version I ever used).

Zoltan


