From zsh-users-return-14451-mason-zsh=primenet.com.au@sunsite.dk Fri Oct 02 10:13:28 2009
Return-Path: <zsh-users-return-14451-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24993 invoked from network); 2 Oct 2009 10:13:25 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.4 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from new-brage.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.254.104)
  by ns1.primenet.com.au with SMTP; 2 Oct 2009 10:13:25 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 3180 invoked from network); 2 Oct 2009 10:13:10 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 2 Oct 2009 10:13:10 -0000
Received: (qmail 20562 invoked by alias); 2 Oct 2009 10:12:59 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 14451
Received: (qmail 20550 invoked from network); 2 Oct 2009 10:12:59 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 2 Oct 2009 10:12:59 -0000
Received: from cluster-d.mailcontrol.com (cluster-d.mailcontrol.com [85.115.60.190])
	by bifrost.dotsrc.org (Postfix) with ESMTPS id 2DC2F808ECB9
	for <zsh-users@sunsite.dk>; Fri,  2 Oct 2009 12:12:51 +0200 (CEST)
Received: from cameurexb01.EUROPE.ROOT.PRI ([193.128.72.68])
	by rly49d.srv.mailcontrol.com (MailControl) with ESMTP id n92ACkHV022667
	for <zsh-users@sunsite.dk>; Fri, 2 Oct 2009 11:12:50 +0100
Received: from news01.csr.com ([10.99.50.25]) by cameurexb01.EUROPE.ROOT.PRI with Microsoft SMTPSVC(6.0.3790.3959);
	 Fri, 2 Oct 2009 11:04:52 +0100
Received: from news01.csr.com (localhost.localdomain [127.0.0.1])
	by news01.csr.com (8.14.2/8.13.4) with ESMTP id n92A4q5a007000
	for <zsh-users@sunsite.dk>; Fri, 2 Oct 2009 11:04:52 +0100
Received: from csr.com (pws@localhost)
	by news01.csr.com (8.14.2/8.14.2/Submit) with ESMTP id n92A4qDt006996
	for <zsh-users@sunsite.dk>; Fri, 2 Oct 2009 11:04:52 +0100
Message-Id: <200910021004.n92A4qDt006996@news01.csr.com>
X-Authentication-Warning: news01.csr.com: pws owned process doing -bs
To: zsh-users@sunsite.dk
Subject: Re: Exclude non-executables from command completion
In-reply-to: <20091002091337.GA13986@dru.eepb.de>
References: <20090917160826.GA16143@joutsen> <20090918112708.7529490c@news01> <20091002091337.GA13986@dru.eepb.de>
Comments: In-reply-to Eike von Seggern <jan.eike.von.seggern@physik.hu-berlin.de>
   message dated "Fri, 02 Oct 2009 11:13:37 +0200."
Date: Fri, 02 Oct 2009 11:04:52 +0100
From: Peter Stephenson <pws@csr.com>
X-OriginalArrivalTime: 02 Oct 2009 10:04:52.0341 (UTC) FILETIME=[C8C28250:01CA4347]
Content-Type: text/plain
MIME-Version: 1.0
X-Scanned-By: MailControl A-06-00-00 (www.mailcontrol.com) on 10.68.0.159
X-Virus-Scanned: ClamAV 0.94.2/9861/Fri Oct  2 03:51:01 2009 on bifrost
X-Virus-Status: Clean

Eike von Seggern wrote:
> I've had a look in the current HEAD version of hashtable.c, though I
> have not compiled and tried it hands-on. But if I'm right, only
> regular&&executable files are added to the hashtable.

I think we're OK: we test using the information returned by stat whether
the file is regular and executable, but the information was retrieved
using the stat() call (not lstat()), so any symbolic links will have
been dereferenced (unless they're broken, of course).  Tests seem to
confirm this is working.

-- 
Peter Stephenson <pws@csr.com>            Software Engineer
Tel: +44 (0)1223 692070                   Cambridge Silicon Radio Limited
Churchill House, Cambridge Business Park, Cowley Road, Cambridge, CB4 0WZ, UK


Member of the CSR plc group of companies. CSR plc registered in England and Wales, registered number 4187346, registered office Churchill House, Cambridge Business Park, Cowley Road, Cambridge, CB4 0WZ, United Kingdom

