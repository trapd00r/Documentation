From zsh-workers-return-13775-mason-zsh=primenet.com.au@sunsite.dk Mon Mar 26 15:29:37 2001
Return-Path: <zsh-workers-return-13775-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 25836 invoked from network); 26 Mar 2001 15:29:36 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 26 Mar 2001 15:29:36 -0000
Received: (qmail 20529 invoked by alias); 26 Mar 2001 15:29:29 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 13775
Received: (qmail 20514 invoked from network); 26 Mar 2001 15:29:28 -0000
Message-ID: <Tc0a88d01528834c8ea@mailsweeper01.cambridgesiliconradio.com>
To: zsh-workers@sunsite.dk (Zsh hackers list)
Subject: Re: `jobs | wc -l' => 0 ... bug? 
In-Reply-To: Your message of "Mon, 26 Mar 2001 16:18:10 +0100."
             <20010326161810.C24352@thelonious.new.ox.ac.uk> 
Date: Mon, 26 Mar 2001 15:29:03 +0000
From: Peter Stephenson <pws@csr.com>

> From: neonatus@neonatus.net (Bostjan Muller)
> jobs | wc -l | tr -d " "
> but in zsh wc does not seem to get any input:
> $ jobs
> [1]  - suspended  mc
> [3]  + suspended  mc
> 
> $ jobs | wc -l
>       0

jobs here runs in a subshell, where there is no job control, so no
information on jobs.  It has always been this way.  It's not particularly
convenient, however.  Maybe it's time someone thought about changing it.

The only workaround is to use a temporary file for output.

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR Ltd., Unit 300, Science Park, Milton Road,
Cambridge, CB4 0XL, UK                          Tel: +44 (0)1223 392070

