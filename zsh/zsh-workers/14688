From zsh-workers-return-14688-mason-zsh=primenet.com.au@sunsite.dk Sun Jun 03 00:55:29 2001
Return-Path: <zsh-workers-return-14688-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 6288 invoked from network); 3 Jun 2001 00:55:28 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 3 Jun 2001 00:55:28 -0000
Received: (qmail 20330 invoked by alias); 3 Jun 2001 00:55:15 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 14688
Received: (qmail 20302 invoked from network); 3 Jun 2001 00:55:14 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <1010603005238.ZM11760@candle.brasslantern.com>
Date: Sun, 3 Jun 2001 00:52:38 +0000
In-Reply-To: <Pine.SV4.4.33.0106022143160.27900-100000@itsrm2.mow.siemens.ru>
Comments: In reply to Andrej Borsenkow <Andrej.Borsenkow@mow.siemens.ru>
        "Re: PATCH: "make check" with libzsh (e.g. FreeBSD)" (Jun  2,  9:48pm)
References: <Pine.SV4.4.33.0106022143160.27900-100000@itsrm2.mow.siemens.ru>
X-Mailer: Z-Mail (5.0.0 30July97)
To: Andrej Borsenkow <Andrej.Borsenkow@mow.siemens.ru>,
        <zsh-workers@sunsite.dk>
Subject: Re: PATCH: "make check" with libzsh (e.g. FreeBSD)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Jun 2,  9:48pm, Andrej Borsenkow wrote:
} Subject: Re: PATCH: "make check" with libzsh (e.g. FreeBSD)
}
} The actual problem is interaction between LD_RUN_PATH encoded in
} executable and LD_LIBRARY_PATH. I.e. when two libraries exist, which
} one is used. It may result in obscure test failures.

This is hardly ever going to be a problem except for someone who is
trying to keep up with individual patches.  For everyone else, the
version number will change between installs.

} The only proper workaround is to recompile zsh with different LD_RUN_PATH
} value. Or use libtool - I guess, it is quite usable now.

I've had nothing but trouble with it the last several times I tried to
use it.  Not because of any particular flaw in its function, but because
it now depends on the availability of various compatibility libraries,
which I've been unable to compile because they in turn depend on the very
latest gcc/glibc, or for various other reasons.

IMO using libtool would have the opposite of the intended effect -- it
would restrict the number of platforms on which zsh can easily be compiled.
However, I'm prepared to be convinced otherwise.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

