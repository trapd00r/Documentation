From zsh-users-return-4592-mason-zsh=primenet.com.au@sunsite.dk Tue Jan 15 11:29:43 2002
Return-Path: <zsh-users-return-4592-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 14832 invoked from network); 15 Jan 2002 11:29:41 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 15 Jan 2002 11:29:41 -0000
Received: (qmail 5924 invoked by alias); 15 Jan 2002 11:29:25 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4592
Received: (qmail 5912 invoked from network); 15 Jan 2002 11:29:25 -0000
X-Authentication-Warning: erdbeere.lifebits.local: luthien set sender to d.vogt@lifebits.de using -f
Date: Tue, 15 Jan 2002 12:13:27 +0100
From: Dominik Vogt <dominik.vogt@gmx.de>
To: zsh-users@sunsite.auc.dk
Subject: named directories and directory completion
Message-ID: <20020115121327.D660@lifebits.de>
Reply-To: d.vogt@lifebits.de
Mail-Followup-To: zsh-users@sunsite.auc.dk
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.3.12i
X-Virus-Scanned: by AMaViS perl-11
X-Sender: 520008918237-0001@t-dialin.net

There seems to be a small problem with directory completion with
named directories.  When I partially type the name of a named
directory and then hit TAB, I just get a beep and nothing is
completed.  This only starts working when I visit the directory
once:

  $ exec zsh
  $ cd com<TAB>
  --> beep
  $ cd /net/server/share/common
  $ cd ~
  $ cd com<TAB>
  --> name is completed

I guess I can somehow 'fix' this with the 'hash' command, but I'd
like to understand why this happens in the first place.

A partial list of settings im my zshrc:

----------------------------------- snip --------------------------------
# named directories and cd command
unsetopt AUTO_NAME_DIRS            # parameters can be uses as named dirs
common=/net/server/share/common
setopt CDABLE_VARS                 # cd completions uses named dirs
setopt AUTO_CD                     # add cd if cmd is a directory name
cdpath=(. ~ /)                     # cd search path

# completion control
compctl -n -g '*(-/) .*(-/)' cd pushd mkdir
----------------------------------- snip --------------------------------

(zsh 3.1.9)

Bye

Dominik ^_^  ^_^

-- 
Dominik Vogt, email: d.vogt@lifebits.de
LifeBits Aktiengesellschaft, Albrechtstr. 9, D-72072 Tuebingen
fon: ++49 (0) 7071/7965-0, fax: ++49 (0) 7071/7965-20

