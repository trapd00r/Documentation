From zsh-workers-request@math.gatech.edu  Tue Dec  5 02:27:21 1995
Received: from math.gatech.edu (euclid.skiles.gatech.edu [130.207.146.50]) by werple.net.au (8.7/8.7.1) with SMTP id CAA11568 for <mason@werple.mira.net.au>; Tue, 5 Dec 1995 02:27:14 +1100 (EST)
Received: by math.gatech.edu (5.x/SMI-SVR4)
	id AA12192; Mon, 4 Dec 1995 09:53:04 -0500
Resent-Date: Mon, 4 Dec 1995 15:01:00 +0000 (GMT)
Old-Return-Path: <mc@prismtech.co.uk>
Date: Mon, 4 Dec 1995 15:01:00 +0000 (GMT)
From: Matt Chidambaram <mc@prismtech.co.uk>
To: zsh-workers@math.gatech.edu
Subject: problems with $WATCH / $WATCHFMT
In-Reply-To: <199505190544.PAA16613@werple03.mira.net.au>
Message-Id: <Pine.OSF.3.91.951204143311.561C-100000@alpha3.prismtech.co.uk>
Mime-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
Resent-Message-Id: <"cx6in.0.N-2.Fjmmm"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/668
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu


i have recently (till this morning) been using zsh version 2.6 beta10, 
on the following setups:

 linux (486)
 hppa (hpux 9.05) 9000/715
 dec alpha osf/1 v3.x

now, (as of this afternoon) i have been using zsh version 2.6 beta12, on 
the same platforms.

all of the following apply to both beta10 and beta12 flavours....

i have recently discovered the following features:

export WATCH=all
export WATCHFMT="%n has %a %l from %m @ %T."
export LOGCHECK=1

however there seems to be a discrepency between the information (time)
displayed in identical xterms that display login/out info on the same 
machine, about users.

essentially, i have many xterms on my screen at once - but i only really 
work in two or three of them through the day.

in those xterms that i work in - sometimes when i press return (every few 
minutes), the screen displays various peoples id's tty's and login times.

in those xterms that i dont work in very often - nothing happens until i 
press return every so often (ie every couple of hours); in these xterms - 
when i get the very similar login/out information as the other xterms - 
its great - except for the fact that the login/out times are effectively 
(plus/minus a minute) the time of day when i pressed return in that 
xterm/shell on that machine.

is this a [bug|feature|error-on-my-part] ?

ok - here's a wish for zsh ....

is there any way of getting these login/out pieces of information to 
auto-interrupt my shell - without me having to press return before it 
displays the information? - say by setting an environemnt variable.

[ie similar action to biff command -> if biff is active, it will auto 
interrupt my application etc and inform me of new mail, and the first 
few lines of the mail/ if biff is inactive then it wont]

ok thats the first problem over with ...

the second problem is the one about installing zsh on dec alpha running 
osf/1 v3.x ....

after reading the FAQ and doing as it says about copying ypclnt.h and 
altering the yp_all() signature's third parameter; i still get errors 
concerning the zle_tricky.c call to yp_all();

i eventually altered the call from within zle_tricky.c ....
from:
    yp_all(domain, PASSWD_MAP, &cb);
to:
    yp_all(domain, PASSWD_MAP, cb);

it compiles and runs ok now. i havent tested it fully.
( - but it hasnt crashed as yet...)

is the change i made valid/correct?

ok.

any help on these matters would be most appreciated.

keep up the good work.

matt.

Thought for the Day: We are the people our parents warned us about.
__________________________________________________________________________
Prism Technologies Ltd.,    |                 Matt
KingFisher House, Kingsway, |  Tel No.    +44 (0)191 491 3983
Team Valley, Gateshead,     |  Fax No.    +44 (0)191 491 3973          
Tyne & Wear, England,       |  EMail.     mc@prismtech.co.uk
NE11  0JQ, U.K.             |  WWW Page   http://www.prismtech.co.uk/
__________________________________________________________________________

