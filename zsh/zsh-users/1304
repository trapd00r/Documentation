From zsh-workers-request@math.gatech.edu Mon Feb 02 10:03:47 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 19734 invoked from network); 2 Feb 1998 10:03:45 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 2 Feb 1998 10:03:45 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id EAA03819;
	Mon, 2 Feb 1998 04:46:28 -0500 (EST)
Resent-Date: Mon, 2 Feb 1998 04:42:18 -0500 (EST)
Sender: oma1000@phy.cam.ac.uk (Owen Astley)
Date: Mon, 2 Feb 1998 09:38:00 +0000 (GMT)
From: "Owen M. Astley" <oma1000@cam.ac.uk>
X-Sender: oma1000@alpha2.poco.phy.cam.ac.uk
To: zsh-users@math.gatech.edu
Subject: Re: Completion on cd
In-Reply-To: <swordfish.886195210@student.cs.york.ac.uk>
Message-ID: <Pine.OSF.3.96.980202093408.26874L-100000@alpha2.poco.phy.cam.ac.uk>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
Resent-Message-ID: <"k3ZYU3.0._w.vJPrq"@math>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/1304
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

On Fri, 30 Jan 1998, Oliver Kiddle wrote:

> On Jan 28, 10:10am, zefram@tao.co.uk wrote:
> I was hoping that these -/ options would fix my problems when I upgraded
> to 3.1.2-zefram but that wasn't the case. Using the above compctl for cd
> and the 3.1.2-zefram I still get the problems I previously described. If
> you can't remember, I shall outline it again:
> 
> % compctl -/ cd
> % cd
> % cd [tab]
>  -- Only my directories not beginning with "." are listed which is fine
> % cd .[tab]
>  -- Only my directories beginning with "." are listed which is fine
> % cd .netscape/[tab]
>  -- All the *files* and directories in .netscape/ (not starting ".") are
>  -- listed! I'd have expected it to complete to "cd .netscape/plugins/"
>  -- Also annoying is this behaviour:
> % cd ..[tab]
>  -- I get a beep! It should complete to "cd ../" as in tcsh.

I use
compctl -g '*(-/)' + -g '.*(-/)' cd

Which doesn't reproduce the behaviour that you have been describing - it
works fine even when going into the .netscape/ directory.

Another thing:
zsh doesn't complete on ./ and ../, you may have to include those
explicitly with something like

-g '.*(-/) ./ ../'


