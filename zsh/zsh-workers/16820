From zsh-workers-return-16820-mason-zsh=primenet.com.au@sunsite.dk Wed Mar 13 10:00:49 2002
Return-Path: <zsh-workers-return-16820-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 19386 invoked from network); 13 Mar 2002 10:00:47 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 13 Mar 2002 10:00:47 -0000
Received: (qmail 22942 invoked by alias); 13 Mar 2002 10:00:42 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 16820
Received: (qmail 22931 invoked from network); 13 Mar 2002 10:00:39 -0000
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <1020313100031.ZM207@candle.brasslantern.com>
Date: Wed, 13 Mar 2002 10:00:31 +0000
In-Reply-To: <20020312062122.24827.qmail@web10405.mail.yahoo.com>
Comments: In reply to Felix Rosencrantz <f_rosencrantz@yahoo.com>
        "E01options.ztst : CDABLE_VARS option" (Mar 11, 10:21pm)
References: <20020312062122.24827.qmail@web10405.mail.yahoo.com>
X-Mailer: Z-Mail (5.0.0 30July97)
To: zsh-workers@sunsite.dk
Subject: PATCH: Re: E01options.ztst : CDABLE_VARS option
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Mar 11, 10:21pm, Felix Rosencrantz wrote:
}
} I'm seeing the following failure with the E01options.ztst.

This is because `cd' was changed to never print the destination directory
when the shell from which it is invoked is not interactive.

The test script needs to be updated.  Some of the pushd tests have the same
problem.

Index: Test/E01options.ztst
===================================================================
diff -c -r1.6 E01options.ztst
--- Test/E01options.ztst	2001/09/05 15:22:35	1.6
+++ Test/E01options.ztst	2002/03/12 18:29:06
@@ -193,7 +193,6 @@
   unsetopt cdablevars
   cd cdablevar2
 1q:CDABLE_VARS option
->`print -P '%~'`/tmpcd
 >back in options.tmp
 ?(eval):cd:4: no such file or directory: cdablevar1
 ?(eval):cd:10: no such file or directory: cdablevar2
@@ -769,9 +768,7 @@
   cd $mydir  
 0q:PUSHD_MINUS option
 >$mydirt/newcd $mydirt/tmpcd $mydirt
->$mydirt
 >$mydirt $mydirt/newcd $mydirt/tmpcd
->$mydirt
 >$mydirt $mydirt/newcd $mydirt/tmpcd
 
 # Do you have any idea how dull this is?

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

