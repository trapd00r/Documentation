From zsh-workers-return-27446-mason-zsh=primenet.com.au@zsh.org Tue Dec 01 21:33:16 2009
Return-Path: <zsh-workers-return-27446-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 22082 invoked by alias); 1 Dec 2009 21:33:16 -0000
Mailing-List: contact zsh-workers-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Workers List <zsh-workers.zsh.org>
List-Post: <mailto:zsh-workers@zsh.org>
List-Help: <mailto:zsh-workers-help@zsh.org>
Delivered-To: mailing list zsh-workers@zsh.org
X-Seq: 27446
Received: (qmail 13392 invoked from network); 1 Dec 2009 21:33:14 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received-SPF: none (ns2.melb.primenet.com.au: domain at bewatermyfriend.org does not designate permitted sender hosts)
From: Frank Terbeck <ft@bewatermyfriend.org>
To: zsh-workers@zsh.org
Subject: PATCH: _tmux: Updates for on going development
Date: Tue,  1 Dec 2009 22:31:19 +0100
Message-Id: <1259703079-26538-1-git-send-email-ft@bewatermyfriend.org>
X-Mailer: git-send-email 1.6.5.rc2
X-Df-Sender: 430444

Here's an update for the current changes in tmux's development.
It adds few command aliases, window options and a new sub-command.

Regards, Frank
---
 Completion/Unix/Command/_tmux |   17 ++++++++++++++++-
 1 files changed, 16 insertions(+), 1 deletions(-)

diff --git a/Completion/Unix/Command/_tmux b/Completion/Unix/Command/_tmux
index 10a1eb2..481a34b 100644
--- a/Completion/Unix/Command/_tmux
+++ b/Completion/Unix/Command/_tmux
@@ -57,6 +57,7 @@ _tmux_aliasmap=(
     new         new-session
     refresh     refresh-client
     rename      rename-session
+    showmsgs    show-messages
     source      source-file
     start       start-server
     suspendc    suspend-client
@@ -105,7 +106,8 @@ _tmux_aliasmap=(
     showw       show-window-options
 
     # environment
-    #no aliases so far in this category
+    setenv      set-environment
+    showenv     show-environment
 
     # status line
     confirm     confirm-before
@@ -334,6 +336,7 @@ function _tmux-display-message() {
     [[ -n ${tmux_describe} ]] && print "Display a message in the status line" && return
     local -a args
     args=(
+        '-p[Print message to stdout]'
         '-t[Choose a target client]:clients:__tmux-clients'
         '*:: :->msg'
     )
@@ -923,6 +926,12 @@ function _tmux-show-environment() {
     _arguments ${args}
 }
 
+function _tmux-show-messages() {
+    [[ -n ${tmux_describe} ]] && print "Show client"\'"s message log" && return
+    args=('-t[Choose target client]:client:__tmux-clients')
+    _arguments ${args}
+}
+
 function _tmux-show-options() {
     [[ -n ${tmux_describe} ]] && print "Show session options" && return
     local -a args
@@ -1178,6 +1187,7 @@ function __tmux-option-guard() {
             'message-attr:__tmux-attributes'
             'message-bg:__tmux-colours'
             'message-fg:__tmux-colours'
+            'message-limit:'${int_guard}
             'mouse-select-pane:DESC:on off'
             'prefix:MSG:comma-seperated key list'
             'repeat-time:'${int_guard}
@@ -1233,7 +1243,9 @@ function __tmux-option-guard() {
             'window-status-current-attr:__tmux-attributes'
             'window-status-current-bg:__tmux-colours'
             'window-status-current-fg:__tmux-colours'
+            'window-status-current-format:MSG:status format string'
             'window-status-fg:__tmux-colours'
+            'window-status-format:MSG:status format string'
             'xterm-keys:DESC:on off'
         )
     fi
@@ -1280,6 +1292,7 @@ function __tmux-options() {
         'message-attr:Set status line message attributes'
         'message-bg:Set status line message background colour'
         'message-fg:Set status line message foreground colour'
+        'message-limit:Set size of message log per client'
         'mouse-select-pane:Make mouse clicks select window panes'
         'prefix:Comma seperated line of keys accepted as prefix key'
         'repeat-time:Time for multiple commands without prefix-key presses'
@@ -1376,7 +1389,9 @@ function __tmux-window-options() {
         'window-status-current-attr:Set status line attributes for active window'
         'window-status-current-bg:Set status line background for active window'
         'window-status-current-fg:Set status line foreground for active window'
+        'window-status-current-format:Set status line format for active window'
         'window-status-fg:Set status line foreground for a window'
+        'window-status-format:Set status line format for all but the active window'
         'xterm-keys:Generate xterm-style function key sequences'
     )
     _describe -t tmux-window-options 'tmux window option' tmux_window_options
-- 
1.6.5.rc2

