<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
  <meta name="generator" content=
  "HTML Tidy for Linux/x86 (vers 25 March 2009), see www.w3.org">
  <meta http-equiv="Content-Type" content=
  "text/html; charset=utf-8">

  <title>Git Magic - Kapitel 5. Geschichtsstunde</title>
  <link rel="stylesheet" href="default.css" type="text/css">
  <meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
  <link rel="home" href="index.html" title=
  "Git Magic = Ben Lynn August 2007">
  <link rel="up" href="index.html" title=
  "Git Magic = Ben Lynn August 2007">
  <link rel="prev" href="ch04.html" title=
  "Kapitel 4. Branch-Magie">
  <link rel="next" href="ch06.html" title=
  "Kapitel 6. Multiplayer Git">
</head>

<body bgcolor="white" text="black" link="#0000FF" vlink="#840084"
alink="#0000FF">
    <div class="toc">
      <ul>
<li><b>Git Magic</b></li>
        <li>
          <span class="preface"><a href=
          "index.html">Vorwort</a></span>

          <ul>
            <li><span class="section"><a href=
            "index.html#_danke">Danke!</a></span></li>

            <li><span class="section"><a href=
            "index.html#_lizenz">Lizenz</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch01.html">1.
          Einleitung</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch01.html#_arbeit_ist_spiel">Arbeit ist
            Spiel</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_versionsverwaltung">Versionsverwaltung</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_verteilte_kontrolle">Verteilte
            Kontrolle</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_ein_dummer_aberglaube">Ein dummer
            Aberglaube</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_emphasis_merge_emphasis_konflikte"><span class="emphasis">
            <em>Merge</em></span> Konflikte</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch02.html">2. Erste
          Schritte</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch02.html#_stand_sichern">Stand
            sichern</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_hinzuf_gen_l_schen_umbenennen">Hinzufügen,
            Löschen, Umbenennen</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_fortgeschrittenes_r_ckg_ngig_machen_wiederherstellen">
            Fortgeschrittenes Rückgängig
            machen/Wiederherstellen</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_r_ckg_ngig_machen">Rückgängig
            machen</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_changelog_erstellen">Changelog
            erstellen</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_dateien_herunterladen">Dateien
            herunterladen</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_das_neueste_vom_neuen">Das Neueste vom
            Neuen</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_einfaches_ver_ffentlichen">Einfaches
            Veröffentlichen</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_was_habe_ich_getan">Was habe ich
            getan?</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_bung">Übung</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch03.html">3. Rund ums
          <span class="emphasis"><em>Clonen</em></span></a></span>

          <ul>
            <li><span class="section"><a href=
            "ch03.html#_computer_synchronisieren">Computer
            synchronisieren</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_klassische_quellcodeverwaltung">Klassische
            Quellcodeverwaltung</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_geheime_quellen">Geheime
            Quellen</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_emphasis_nackte_repositories_emphasis"><span class="emphasis">
            <em>Nackte Repositories</em></span></a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_emphasis_push_emphasis_oder_emphasis_pull_emphasis">
            <span class="emphasis"><em>Push</em></span> oder
            <span class=
            "emphasis"><em>Pull</em></span></a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_emphasis_fork_emphasis_eines_projekts"><span class="emphasis">
            <em>Fork</em></span> eines Projekts</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_ultimative_datensicherung">Ultimative
            Datensicherung</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_multitasking_mit_lichtgeschwindigkeit">Multitasking
            mit Lichtgeschwindigkeit</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_versionsverwaltung_im_untergrund">Versionsverwaltung
            im Untergrund</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_mercurial">Mercurial</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_bazaar">Bazaar</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_warum_ich_git_benutze">Warum ich Git
            benutze</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch04.html">4. <span class=
          "emphasis"><em>Branch</em></span>-Magie</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch04.html#_die_chef_taste">Die
            Chef-Taste</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_schmutzarbeit">Schmutzarbeit</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_schnelle_fehlerbehebung">Schnelle
            Fehlerbehebung</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_emphasis_mergen_emphasis"><span class=
            "emphasis"><em>Mergen</em></span></a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_kontinuierlicher_arbeitsfluss">Kontinuierlicher
            Arbeitsfluss</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_mischmasch_reorganisieren">Mischmasch
            Reorganisieren</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_emphasis_branches_emphasis_verwalten"><span class="emphasis">
            <em>Branches</em></span> verwalten</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_tempor_re_emphasis_branches_emphasis">Temporäre
            <span class=
            "emphasis"><em>Branches</em></span></a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_arbeite_wie_du_willst">Arbeite wie du
            willst</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch05.html">5.
          Geschichtsstunde</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch05.html#_ich_nehme_alles_zur_ck">Ich nehme alles
            zurück</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_8230_und_noch_viel_mehr">… und noch viel
            mehr</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_lokale_nderungen_zum_schlu">Lokale
            Änderungen zum Schluß</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_chronik_umschreiben">Chronik
            umschreiben</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_geschichte_machen">Geschichte
            machen</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_wo_ging_alles_schief">Wo ging alles
            schief?</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_wer_ist_verantwortlich">Wer ist
            verantwortlich?</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_pers_nliche_erfahrungen">Persönliche
            Erfahrungen</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch06.html">6. Multiplayer
          Git</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch06.html#_wer_bin_ich">Wer bin ich?</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_git_ber_ssh_http">Git über SSH,
            HTTP</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_git_ber_alles">Git über
            alles</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_patches_das_globale_zahlungsmittel">Patches:
            Das globale Zahlungsmittel</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_entschuldigung_wir_sind_umgezogen">Entschuldigung,
            wir sind umgezogen.</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_entfernte_emphasis_branches_emphasis">Entfernte
            <span class=
            "emphasis"><em>Branches</em></span></a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_mehrere_emphasis_remotes_emphasis">Mehrere
            <span class=
            "emphasis"><em>Remotes</em></span></a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_meine_einstellungen">Meine
            Einstellungen</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch07.html">7. Git für
          Fortgeschrittene</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch07.html#_quellcode_ver_ffentlichen">Quellcode
            veröffentlichen</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_emphasis_commite_emphasis_nderungen"><span class="emphasis">
            <em>Commite</em></span> Änderungen</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_mein_emphasis_commit_emphasis_ist_zu_gro">Mein
            <span class="emphasis"><em>Commit</em></span> ist zu
            groß!</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_der_index_git_8217_s_bereitstellungsraum">Der
            Index: Git’s Bereitstellungsraum</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_verliere_nicht_deinen_kopf">Verliere nicht
            Deinen KOPF</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_kopf_jagd">KOPF-Jagd</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_auf_git_bauen">Auf Git
            bauen</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_gewagte_kunstst_cke">Gewagte
            Kunststücke</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_verhindere_schlechte_emphasis_commits_emphasis">
            Verhindere schlechte <span class=
            "emphasis"><em>Commits</em></span></a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch08.html">8. Aufgedeckte
          Geheimnisse</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch08.html#_unsichtbarkeit">Unsichtbarkeit</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_integrit_t">Integrität</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_intelligenz">Intelligenz</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_indizierung">Indizierung</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_git_8217_s_wurzeln">Git’s
            Wurzeln</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_die_objektdatenbank">Die
            Objektdatenbank</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_blobs">Blobs</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_emphasis_trees_emphasis"><span class=
            "emphasis"><em>Trees</em></span></a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_emphasis_commits_emphasis"><span class=
            "emphasis"><em>Commits</em></span></a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_von_magie_nicht_zu_unterscheiden">Von Magie
            nicht zu unterscheiden</a></span></li>
          </ul>
        </li>

        <li>
          <span class="appendix"><a href="apa.html">A. Git’s
          Mängel</a></span>

          <ul>
            <li><span class="section"><a href=
            "apa.html#_sha1_schw_che">SHA1 Schwäche</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_microsoft_windows">Microsoft
            Windows</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_dateien_ohne_bezug">Dateien ohne
            Bezug</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_wer_macht_was">Wer macht
            was?</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_dateihistorie">Dateihistorie</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_der_erster_klon">Der erster
            Klon</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_unbest_ndige_projekte">Unbeständige
            Projekte</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_globaler_z_hler">Globaler
            Zähler</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_leere_unterverzeichnisse">Leere
            Unterverzeichnisse</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_initialer_emphasis_commit_emphasis">Initialer
            <span class=
            "emphasis"><em>Commit</em></span></a></span></li>

            <li><span class="section"><a href=
            "apa.html#_eigenarten_der_anwendung">Eigenarten der
            Anwendung</a></span></li>
          </ul>
        </li>

        <li><span class="appendix"><a href="apb.html">B. Diese
        Anleitung übersetzen</a></span></li>
      </ul>
    </div>
<div class="content">
  <div class="chapter" title="Kapitel 5. Geschichtsstunde">
    <div class="titlepage">
      <div>
        <div>
          <h2 class="title"><a name="_geschichtsstunde"></a>Kapitel
          5. Geschichtsstunde</h2>
        </div>
      </div>
    </div>

    <p>Eine Folge von Git’s verteilter Natur ist, dass die Chronik
    einfach verändert werden kann. Aber, wenn du an der
    Vergangenheit manipulierst, sei vorsichtig: verändere nur den
    Teil der Chronik, den du ganz alleine hast. So wie Nationen
    ewig diskutieren, wer welche Greueltaten vollbracht hat, wirst
    du beim Abgleichen in Schwierigkeiten geraten, falls jemand
    einen <span class="emphasis"><em>Clone</em></span> mit
    abweichender Chronik hat und die Zweige sich austauschen
    sollen.</p>

    <p>Einige Entwickler setzen sich nachhaltig für die
    Unantastbarkeit der Chronik ein, mit allen Fehlern, Nachteilen
    und Mängeln. Andere denken, daß Zweige vorzeigbar gemacht
    werden sollten, bevor sie auf die Öffentlichkeit losgelassen
    werden. Git versteht beide Gesichtspunkte. Wie <span class=
    "emphasis"><em>Clonen</em></span>, <span class=
    "emphasis"><em>Branchen</em></span> und <span class=
    "emphasis"><em>Mergen</em></span> ist das Umschreiben der
    Chronik lediglich eine weitere Stärke, die Git dir bietet. Es
    liegt an dir diese weise zu nutzen.</p>

    <div class="section" title="Ich nehme alles zurück">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_ich_nehme_alles_zur_ck"></a>Ich nehme alles
            zurück</h2>
          </div>
        </div>
      </div>

      <p>Hast du gerade <span class=
      "emphasis"><em>commitet</em></span>, aber du hättest gerne
      eine andere Beschreibung eingegeben? Dann gib ein:</p>
      <pre class="literallayout">
$ git commit --amend
</pre>

      <p>um die letzte Beschreibung zu ändern. Du merkst, dass du
      vergessen hast eine Datei hinzuzufügen? Führe <span class=
      "strong"><strong>git add</strong></span> aus um sie
      hinzuzufügen und dann die vorhergehende Anweisung.</p>

      <p>Du willst noch ein paar Änderungen zu deinem letzten
      <span class="emphasis"><em>Commit</em></span> hinzufügen?
      Dann mache diese Änderungen und gib ein:</p>
      <pre class="literallayout">
$ git commit --amend -a
</pre>
    </div>

    <div class="section" title="… und noch viel mehr">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_8230_und_noch_viel_mehr"></a>… und noch viel
            mehr</h2>
          </div>
        </div>
      </div>

      <p>Nehmen wir jetzt an, das vorherige Problem ist zehnmal
      schlimmer. Nach einer längeren Sitzung hast du einen Haufen
      <span class="emphasis"><em>Commits</em></span> gemacht. Aber
      du bist mit der Art der Organisation nicht glücklich und
      einige <span class="emphasis"><em>Commits</em></span> könnten
      etwas umformuliert werden. Dann gib ein:</p>
      <pre class="literallayout">
$ git rebase -i HEAD~10
</pre>

      <p>und die letzten zehn <span class=
      "emphasis"><em>Commits</em></span> erscheinen in deinem
      bevorzugten $EDITOR. Auszug aus einem Beispiel:</p>
      <pre class="literallayout">
pick 5c6eb73 Link repo.or.cz hinzugefügt
pick a311a64 Analogien in "Arbeite wie du willst" umorganisiert
pick 100834f Push-Ziel zum Makefile hinzugefügt
</pre>

      <p>Dann:</p>

      <div class="itemizedlist">
        <ul class="itemizedlist">
          <li class="listitem">Entferne <span class=
          "emphasis"><em>Commits</em></span> durch das Löschen von
          Zeilen.</li>

          <li class="listitem">Organisiere <span class=
          "emphasis"><em>Commits</em></span> durch verschieben von
          Zeilen.</li>

          <li class="listitem">
            <p class="simpara">Ersetze <code class=
            "literal">pick</code> mit:</p>

            <div class="itemizedlist">
              <ul class="itemizedlist">
                <li class="listitem"><code class=
                "literal">edit</code> um einen <span class=
                "emphasis"><em>Commit</em></span> für <span class=
                "emphasis"><em>amends</em></span> zu
                markieren.</li>

                <li class="listitem"><code class=
                "literal">reword</code> um die Log-Beschreibung zu
                ändern.</li>

                <li class="listitem"><code class=
                "literal">squash</code> um einen <span class=
                "emphasis"><em>Commit</em></span> mit dem
                vorhergehenden zu vereinen (<span class=
                "emphasis"><em>merge</em></span>).</li>

                <li class="listitem"><code class=
                "literal">fixup</code> um einen <span class=
                "emphasis"><em>Commit</em></span> mit dem
                vorhergehenden zu vereinen (<span class=
                "emphasis"><em>merge</em></span>) und die
                Log-Beschreibung zu verwerfen.</li>
              </ul>
            </div>
          </li>
        </ul>
      </div>

      <p>Speichere und Beende. Wenn du einen <span class=
      "emphasis"><em>Commit</em></span> mit <span class=
      "emphasis"><em>edit</em></span> markiert hast, gib ein:</p>
      <pre class="literallayout">
$ git commit --amend
</pre>

      <p>Ansonsten:</p>
      <pre class="literallayout">
$ git rebase --continue
</pre>

      <p>Also <span class="emphasis"><em>commite</em></span> früh
      und oft: du kannst später mit <span class=
      "emphasis"><em>rebase</em></span> aufräumen.</p>
    </div>

    <div class="section" title="Lokale Änderungen zum Schluß">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_lokale_nderungen_zum_schlu"></a>Lokale Änderungen zum
            Schluß</h2>
          </div>
        </div>
      </div>

      <p>Du arbeitest an einem aktiven Projekt. Über die Zeit haben
      sich einige lokale <span class=
      "emphasis"><em>Commits</em></span> angesammelt und dann
      synchronisierst du mit einem <span class=
      "emphasis"><em>Merge</em></span> mit dem offiziellen Zweig.
      Dieser Zyklus wiederholt sich ein paar Mal bevor du zum
      <span class="emphasis"><em>Pushen</em></span> in den
      zentralen Zweig bereit bist.</p>

      <p>Aber nun ist die Chronik in deinem lokalen
      Git-<span class="emphasis"><em>Clone</em></span> ein
      chaotisches Durcheinander deiner Änderungen und den
      Änderungen vom offiziellen Zweig. Du willst alle Deine
      Änderungen lieber in einem fortlaufenden Abschnitt und hinter
      den offiziellen Änderungen sehen.</p>

      <p>Das ist eine Aufgabe für <span class="strong"><strong>git
      rebase</strong></span>, wie oben beschrieben. In vielen
      Fällen kannst du den <span class=
      "strong"><strong>--onto</strong></span> Schalter benutzen um
      Interaktion zu vermeiden.</p>

      <p>Siehe auch <span class="strong"><strong>git help
      rebase</strong></span> für ausführliche Beispiele dieser
      erstaunlichen Anweisung. Du kannst auch <span class=
      "emphasis"><em>Commits</em></span> aufteilen. Du kannst sogar
      <span class="emphasis"><em>Branches</em></span> in einem
      <span class="emphasis"><em>Repository</em></span>
      umorganisieren.</p>
    </div>

    <div class="section" title="Chronik umschreiben">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_chronik_umschreiben"></a>Chronik umschreiben</h2>
          </div>
        </div>
      </div>

      <p>Gelegentlich brauchst du Versionsverwaltung vergleichbar
      dem Wegretuschieren von Personen aus einem offiziellen Foto,
      um diese in stalinistischer Art aus der Geschichte zu
      löschen. Stell dir zum Beispiel vor, du willst ein Projekt
      veröffentlichen, aber es enthält eine Datei, die aus
      irgendwelchen Gründen privat bleiben muss. Vielleicht habe
      ich meine Kreditkartennummer in einer Textdatei notiert und
      diese versehentlich dem Projekt hinzugefügt. Die Datei zu
      löschen ist zwecklos, da über ältere <span class=
      "emphasis"><em>Commits</em></span> auf sie zugegriffen werden
      könnte. Wir müssen die Datei aus allen <span class=
      "emphasis"><em>Commits</em></span> entfernen:</p>
      <pre class="literallayout">
$ git filter-branch --tree-filter 'rm sehr/geheime/Datei' HEAD
</pre>

      <p>Siehe <span class="strong"><strong>git help
      filter-branch</strong></span>, wo dieses Beispiel erklärt und
      eine schnellere Methode vorstellt wird. Allgemein,
      <span class="strong"><strong>filter-branch</strong></span>
      lässt dich große Bereiche der Chronik mit einer einzigen
      Anweisung verändern.</p>

      <p>Danach beschreibt der Ordner <code class=
      "literal">.git/refs/original</code> den Zustand der Lage vor
      der Operation. Prüfe, ob die <span class=
      "emphasis"><em>filter-branch</em></span> Anweisung getan hat
      was du wolltest, dann lösche dieses Verzeichnis bevor du
      weitere <span class="emphasis"><em>filter-branch</em></span>
      Operationen durchführst.</p>

      <p>Zuletzt, ersetze alle <span class=
      "emphasis"><em>Clones</em></span> deines Projekts mit deiner
      überarbeiteten Version, falls du später mit ihnen
      interagieren möchtest.</p>
    </div>

    <div class="section" title="Geschichte machen">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_geschichte_machen"></a>Geschichte machen</h2>
          </div>
        </div>
      </div>

      <p><a name="makinghistory" id="makinghistory"></a> Du
      möchtest ein Projekt zu Git umziehen? Wenn es mit einem der
      bekannteren Systeme verwaltet wird, besteht die Möglichkeit,
      dass schon jemand ein Skript geschrieben hat, das die gesamte
      Chronik für Git exportiert.</p>

      <p>Anderenfalls, sieh dir <span class="strong"><strong>git
      fast-import</strong></span> an, das Text in einem speziellen
      Format einliest um eine Git Chronik von Anfang an zu
      erstellen. Normalerweise wird ein Skript, das diese Anweisung
      benutzt, hastig zusammengeschustert und einmalig ausgeführt
      um das Projekt in einem einzigen Lauf zu migrieren.</p>

      <p>Erstelle zum Beispiel aus folgendem Listing eine temporäre
      Datei, z.B. <code class="literal">/tmp/history</code>:</p>
      <pre class="screen">
commit refs/heads/master committer Alice &lt;alice@example.com&gt; Thu, 01 Jan
1970 00:00:00 +0000 data &lt;&lt;EOT Initial commit.  EOT

M 100644 inline hello.c data &lt;&lt;EOT #include &lt;stdio.h&gt;

int main() {
  printf("Hallo, Welt!\n");
  return 0;
}
EOT


commit refs/heads/master committer Bob &lt;bob@example.com&gt; Tue, 14 Mar 2000
01:59:26 -0800 data &lt;&lt;EOT Ersetze printf() mit write().  EOT

M 100644 inline hello.c data &lt;&lt;EOT #include &lt;unistd.h&gt;

int main() {
  write(1, "Hallo, Welt!\n", 14);
  return 0;
}
EOT
</pre>

      <p>Dann, erstelle ein Git <span class=
      "emphasis"><em>Repository</em></span> aus dieser temporären
      Datei, durch Eingabe von:</p>
      <pre class="literallayout">
$ mkdir project; cd project; git init
$ git fast-import --date-format=rfc2822 &lt; /tmp/history
</pre>

      <p>Die aktuellste Version des Projekts kannst du abrufen
      (<span class="emphasis"><em>checkout</em></span>) mit:</p>
      <pre class="literallayout">
$ git checkout master .
</pre>

      <p>Die Anweisung <span class="strong"><strong>git
      fast-export</strong></span> konvertiert jedes <span class=
      "emphasis"><em>Repository</em></span> in das <span class=
      "strong"><strong>git fast-import</strong></span> Format,
      diese Ausgabe kannst du studieren um Exporteure zu schreiben
      und außerdem um <span class=
      "emphasis"><em>Repositories</em></span> in Klartext zu
      übertragen. untersuchen wes you can study for writing
      exporters, and also to transport repositories in a
      human-readable format. Wirklich, diese Anweisung kann
      Klartext-<span class="emphasis"><em>Repositories</em></span>
      über reine Textkanäle übertragen.</p>
    </div>

    <div class="section" title="Wo ging alles schief?">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_wo_ging_alles_schief"></a>Wo ging alles schief?</h2>
          </div>
        </div>
      </div>

      <p>Du hast gerade ein Funktion in deiner Anwendung entdeckt,
      die nicht mehr funktioniert und du weißt sicher, dass sie vor
      ein paar Monaten noch ging. Argh! Wo kommt dieser Fehler her?
      Hättest du nur die Funktion während der Entwicklung
      getestet.</p>

      <p>Dafür ist es nun zu spät. Wie auch immer, vorausgesetzt du
      hast oft <span class="emphasis"><em>comittet</em></span>,
      kann Git dir sagen, wo das Problem liegt:</p>
      <pre class="literallayout">
$ git bisect start
$ git bisect bad HEAD
$ git bisect good 1b6d
</pre>

      <p>Git ruft eine Stand ab, der genau dazwischen liegt. Teste
      die Funktion und wenn sich immer noch nicht funktioniert:</p>
      <pre class="literallayout">
$ git bisect bad
</pre>

      <p>Wenn nicht, ersetzte "bad" mit "good". Git versetzt dich
      wieder auf einen Stand genau zwischen den bekannten Versionen
      "good" und "bad" und reduziert so die Möglichkeiten. Nach ein
      paar Durchläufen wird dich diese binäre Suche zu dem
      <span class="emphasis"><em>Commit</em></span> führen, der die
      Probleme verursacht. Wenn du deine Ermittlungen abgeschlossen
      hast, kehre zum Originalstand zurück mit:</p>
      <pre class="literallayout">
$ git bisect reset
</pre>

      <p>Anstatt jede Änderung per Hand zu untersuchen,
      automatisiere die Suche durch Ausführen von:</p>
      <pre class="literallayout">
$ git bisect run mein_skript
</pre>

      <p>Git benutzt den Rückgabewert der übergebenen Anweisung,
      normalerweise ein Skript für einmalige Ausführung, um zu
      entscheiden, ob eine Änderung gut (<span class=
      "emphasis"><em>good</em></span>) oder schlecht (<span class=
      "emphasis"><em>bad</em></span>) ist: Das Skript sollte 0 für
      <span class="emphasis"><em>good</em></span> zurückgeben, 125
      wenn die Änderung übersprungen werden soll und irgendetwas
      zwischen 1 und 127 für <span class=
      "emphasis"><em>bad</em></span>. Ein negativer Rückgabewert
      beendet die <span class=
      "emphasis"><em>bisect</em></span>-Operation sofort.</p>

      <p>Du kannst noch viel mehr machen: die Hilfe erklärt, wie
      man <span class="emphasis"><em>bisect</em></span>-Operationen
      visualisiert, das <span class=
      "emphasis"><em>bisect</em></span>-Log untersucht oder
      wiedergibt und sicher unschuldige Änderungen ausschließt um
      die Suche zu beschleunigen.</p>
    </div>

    <div class="section" title="Wer ist verantwortlich?">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_wer_ist_verantwortlich"></a>Wer ist
            verantwortlich?</h2>
          </div>
        </div>
      </div>

      <p>Wie viele andere Versionsverwaltungssysteme hat Git eine
      <span class="emphasis"><em>blame</em></span> Anweisung:</p>
      <pre class="literallayout">
$ git blame bug.c
</pre>

      <p>das jede Zeile in der angegebenen Datei kommentiert um
      anzuzeigen, wer sie zuletzt geändert hat und wann. Im
      Gegensatz zu vielen anderen Versionsverwaltungssystemen
      funktioniert diese Operation offline, es wird nur von der
      lokalen Festplatte gelesen.</p>
    </div>

    <div class="section" title="Persönliche Erfahrungen">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_pers_nliche_erfahrungen"></a>Persönliche
            Erfahrungen</h2>
          </div>
        </div>
      </div>

      <p>In einem zentralisierten Versionsverwaltungssystem ist das
      Bearbeiten der Chronik eine schwierige Angelegenheit und den
      Administratoren vorbehalten. <span class=
      "emphasis"><em>Clonen</em></span>, <span class=
      "emphasis"><em>Branchen</em></span> und <span class=
      "emphasis"><em>Mergen</em></span> sind unmöglich ohne
      Netzwerkverbindung. Ebenso grundlegende Funktionen wie das
      Durchsuchen der Chronik oder das <span class=
      "emphasis"><em>comitten</em></span> einer Änderung. In
      manchen Systemen benötigt der Anwender schon eine
      Netzwerkverbindung nur um seine eigenen Änderungen zu sehen
      oder um eine Datei zum Bearbeiten zu öffnen.</p>

      <p>Zentralisierte Systeme schließen es aus offline zu
      arbeiten und benötigen teurere Netzwerkinfrastruktur, vor
      allem, wenn die Zahl der Entwickler steigt. Am wichtigsten
      ist, dass alle Operationen bis zu einem gewissen Grad
      langsamer sind, in der Regel bis zu dem Punkt, wo Anwender
      erweiterte Anweisungen scheuen, bis sie absolut notwendig
      sind. In extremen Fällen trifft das auch auf die
      grundlegenden Anweisungen zu. Wenn Anwender langsame
      Anweisungen ausführen müssen, sinkt die Produktivität, da der
      Arbeitsfluss unterbrochen wird.</p>

      <p>Ich habe diese Phänomen aus erster Hand erfahren. Git war
      das erste Versionsverwaltungssystem, das ich benutzt habe.
      Ich bin schnell in die Anwendung hineingewachsen und
      betrachtete viele Funktionen als selbstverständlich. Ich habe
      einfach vorausgesetzt, dass andere Systeme ähnlich sind: die
      Auswahl eines Versionsverwaltungssystems sollte nicht anders
      sein als die Auswahl eines Texteditors oder
      Internetbrowser.</p>

      <p>Ich war geschockt, als ich später gezwungen war ein
      zentralisiertes System zu benutzen. Eine unzuverlässige
      Internetverbindung stört mit Git nicht sehr, aber sie macht
      die Entwicklung unerträglich, wenn sie so zuverlässig wie ein
      lokale Festplatte sein sollte. Zusätzlich habe ich mich dabei
      ertappt, bestimmte Anweisungen zu vermeiden, um die damit
      verbundenen Wartezeiten zu vermeiden und das hat mich
      letztendlich davon abgehalten meinem gewohnten Arbeitsablauf
      zu folgen.</p>

      <p>Wenn ich eine langsame Anweisung auszuführen hatte, wurde
      durch die Unterbrechung meiner Gedankengänge dem Arbeitsfluss
      ein unverhältnismäßiger Schaden zugefügt. Während dem Warten
      auf das Ende der Serverkommunikation tat ich etwas anderes um
      die Wartezeit zu überbrücken, zum Beispiel E-Mails lesen oder
      Dokumentation schreiben. Wenn ich zur ursprünglichen Arbeit
      zurückkehrte, war die Operation längst beendet und ich
      vergeudete noch mehr Zeit beim Versuch mich zu erinnern was
      ich getan habe. Menschen sind nicht gut im
      Kontextwechsel.</p>

      <p>Da war auch ein interessanter <a class="ulink" href=
      "http://de.wikipedia.org/wiki/Tragik_der_Allmende" target=
      "_top">Tragik-der-Allmende</a> Effekt: Netzwerküberlastungen
      erahnend, verbrauchten einzelne Individuen für diverse
      Operationen mehr Netzwerkbandbreite als erforderlich, um
      zukünftige Engpässe zu vermeiden. Die Summe der Bemühungen
      verschlimmerte die Überlastungen, was einzelne wiederum
      ermutigte noch mehr Bandbreite zu verbrauchen um noch längere
      Wartezeiten zu verhindern.</p>
    </div>
  </div><script type="text/javascript" src="find_selflink.js">
</script><script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
  document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
  </script><script type="text/javascript">
var pageTracker = _gat._getTracker("UA-1901330-2");
  pageTracker._initData();
  pageTracker._trackPageview();
  </script>
</div>
</div><div class="footer"><a href="/~blynn/">Ben Lynn</a></div>
</body>
</html>
