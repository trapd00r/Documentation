From zsh-workers-request@euclid.skiles.gatech.edu Tue Dec 24 11:35:32 1996
Return-Path: <zsh-workers-request@euclid.skiles.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 6411 invoked from network); 24 Dec 1996 11:35:30 -0000
Received: from euclid.skiles.gatech.edu (list@130.207.146.50)
  by coral.primenet.com.au with SMTP; 24 Dec 1996 11:35:30 -0000
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id GAA02200; Tue, 24 Dec 1996 06:35:45 -0500 (EST)
Resent-Date: Tue, 24 Dec 1996 06:35:45 -0500 (EST)
From: Zefram <zefram@dcs.warwick.ac.uk>
Message-Id: <23897.199612241136@stone.dcs.warwick.ac.uk>
Subject: installing functions
To: zsh-workers@math.gatech.edu (Z Shell workers mailing list)
Date: Tue, 24 Dec 1996 11:36:49 +0000 (GMT)
X-Patch: 161
X-Loop: zefram@dcs.warwick.ac.uk
X-Stardate: [-31]8622.41
X-US-Congress: Moronic fuckers
Content-Type: text
Resent-Message-ID: <"886ML.0.EY.G0ylo"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/2634
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

-----BEGIN PGP SIGNED MESSAGE-----

This patch makes the functions in the zsh distribution be installed in
$(libdir)/zsh/functions.

 -zefram

      *** Makefile.in	1996/12/22 04:50:00	1.6
      --- Makefile.in	1996/12/24 06:43:11
      ***************
      *** 89,95 ****
        FORCE:
        
        # install everything
      ! install: install.bin install.modules install.man install.info
        
        # install/uninstall just the binary
        install.bin uninstall.bin:
      --- 89,95 ----
        FORCE:
        
        # install everything
      ! install: install.bin install.modules install.functions install.man install.info
        
        # install/uninstall just the binary
        install.bin uninstall.bin:
      ***************
      *** 98,103 ****
      --- 98,107 ----
        # install/uninstall just the modules
        install.modules uninstall.modules:
        	cd Src && $(MAKE) $(MAKEDEFS) $@
      + 
      + # install/uninstall just the shell functions
      + install.functions uninstall.functions:
      + 	cd Functions && $(MAKE) $(MAKEDEFS) $@
        
        # install/uninstall just the man pages
        install.man uninstall.man:
      *** Functions/Makefile.in	1996/12/22 01:13:12	1.1.1.7
      --- Functions/Makefile.in	1996/12/24 06:40:18
      ***************
      *** 28,45 ****
        
        SHELL = /bin/sh
        
      ! srcdir = @srcdir@
      ! VPATH  = @srcdir@
        
        .SUFFIXES:
        
        # all files in this directory included in the distribution
      ! DIST = Makefile.in acx cdmatch cx harden mere multicomp proto \
      ! randline run-help yp yu zed
        
        # ========== DEPENDENCIES FOR BUILDING ==========
        
        all:
        
        # ========== DEPENDENCIES FOR CLEANUP ==========
        
      --- 28,71 ----
        
        SHELL = /bin/sh
        
      ! top_srcdir   = @top_srcdir@
      ! srcdir       = @srcdir@
      ! VPATH        = @srcdir@
      ! 
      ! prefix       = @prefix@
      ! exec_prefix  = @exec_prefix@
      ! libdir       = @libdir@
      ! FNDIR        = $(libdir)/zsh/functions
      ! 
      ! INSTALL      = @INSTALL@
      ! INSTALL_DATA = @INSTALL_DATA@
        
        .SUFFIXES:
        
        # all files in this directory included in the distribution
      ! FUNCTIONS = acx cat cdmatch cdmatch2 checkmail cx harden mere multicomp \
      ! proto pushd randline run-help yp yu zed
      ! DIST = Makefile.in $(FUNCTIONS)
        
        # ========== DEPENDENCIES FOR BUILDING ==========
        
        all:
      + 
      + # ========== DEPENDENCIES FOR INSTALLING ==========
      + 
      + install: install.functions
      + uninstall: uninstall.functions
      + 
      + install.functions:
      + 	$(top_srcdir)/mkinstalldirs $(FNDIR)
      + 	for fn in $(FUNCTIONS); do \
      + 	    $(INSTALL_DATA) $(srcdir)/$$fn $(FNDIR)/$$fn; \
      + 	done
      + 
      + uninstall.functions:
      + 	for fn in $(FUNCTIONS); do \
      + 	    test ! -f $(FNDIR)/$$fn || rm -f $(FNDIR)/$$fn; \
      + 	done
        
        # ========== DEPENDENCIES FOR CLEANUP ==========
        

-----BEGIN PGP SIGNATURE-----
Version: 2.6.2

iQCVAwUBMr98enD/+HJTpU/hAQGdbgP9GiB89AtTsM3/nOvUZD5usrZKEKawOwBO
qU4eS6pHYVj0TFRa5nuckLn3E+Y4dWViPAlBT16H+PRTDcTBWVg548UEBw4c7H/M
KKUAHbFSRhQwzcOhPpVEbq15guSlUmXVXwDoJK3IwjcXTY79E+4LZFct/4yApaNS
QFrkDBFaQ4I=
=8VpT
-----END PGP SIGNATURE-----

