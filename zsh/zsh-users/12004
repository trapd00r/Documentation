From zsh-users-return-12004-mason-zsh=primenet.com.au@sunsite.dk Sat Oct 13 21:41:22 2007
Return-Path: <zsh-users-return-12004-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 14050 invoked from network); 13 Oct 2007 21:41:15 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.3 (2007-08-08) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.3
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 13 Oct 2007 21:41:15 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 12041 invoked from network); 13 Oct 2007 21:41:08 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 13 Oct 2007 21:41:08 -0000
Received: (qmail 17538 invoked by alias); 13 Oct 2007 21:41:00 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 12004
Received: (qmail 17526 invoked from network); 13 Oct 2007 21:40:59 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 13 Oct 2007 21:40:59 -0000
Received: (qmail 10776 invoked from network); 13 Oct 2007 21:40:59 -0000
Received: from vms046pub.verizon.net (206.46.252.46)
  by a.mx.sunsite.dk with SMTP; 13 Oct 2007 21:40:53 -0000
Received: from torch.brasslantern.com ([71.116.76.59])
 by vms046.mailsrvcs.net (Sun Java System Messaging Server 6.2-6.01 (built Apr
 3 2006)) with ESMTPA id <0JPV00GLODJZKLK4@vms046.mailsrvcs.net> for
 zsh-users@sunsite.dk; Sat, 13 Oct 2007 16:40:48 -0500 (CDT)
Received: from torch.brasslantern.com (localhost.localdomain [127.0.0.1])
	by torch.brasslantern.com (8.13.1/8.13.1) with ESMTP id l9DLek8u015538	for
 <zsh-users@sunsite.dk>; Sat, 13 Oct 2007 14:40:47 -0700
Received: (from schaefer@localhost)	by torch.brasslantern.com
 (8.13.1/8.13.1/Submit) id l9DLeka4015537	for zsh-users@sunsite.dk; Sat,
 13 Oct 2007 14:40:46 -0700
Date: Sat, 13 Oct 2007 14:40:46 -0700
From: Bart Schaefer <schaefer@brasslantern.com>
Subject: Re: precmd, preexec, and supplied prompt themes
In-reply-to: <20071013135858.18e842df.wgscott@chemistry.ucsc.edu>
To: zsh-users@sunsite.dk
Message-id: <071013144046.ZM15536@torch.brasslantern.com>
MIME-version: 1.0
X-Mailer: OpenZMail Classic (0.9.2 24April2005)
Content-type: text/plain; charset=us-ascii
References: <DD973F2C-E6A0-4FCA-96F5-6C96701DC677@chemistry.ucsc.edu>
	<20071012215906.GA8935@mastermind>
	<071012185005.ZM2921@torch.brasslantern.com>
	<35490.69.3.191.19.1192241340.squirrel@mail.acg.ucsc.edu>
	<071012202721.ZM13638@torch.brasslantern.com>
	<20071013135858.18e842df.wgscott@chemistry.ucsc.edu>
Comments: In reply to wgscott@chemistry.ucsc.edu
 "Re: precmd, preexec, and supplied prompt themes" (Oct 13,  1:58pm)

On Oct 13,  1:58pm, wgscott@chemistry.ucsc.edu wrote:
}
} Well, that pretty much ensured I wouldn't get any work done this weekend.

:-)

} The first is that the prompt_simple_preview function doesn't work.

"Doesn't work" how?

Note that the prompt_simple_setup file needs to be found in a directory
in your $fpath to be loaded as a recognized theme by "promptinit".  If
it's not in $fpath, you'll get

% prompt -p simple     

Unknown theme: simple

% 

Is that what's happening?

Also your attempt to display the available colors in prompt_simple_help
is not working for me; "black" compes out white, and neither it nor
"white" are visible on the white background of my xterm.  I'd suggest
restricting the help to bare text and leaving the color demonstrations
to the preview.
 
} The second, and more fundamental one, is that I can't get the dynamic
} updating to work unless I issue these six lines in the shell itself,
} in addition to the prompt function:
} 
} 	typeset -a preexec_functions

Try "typeset -ga preexec_functions" as was pointed out somewhere on this
thread.

