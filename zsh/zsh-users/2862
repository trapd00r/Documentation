From zsh-users-return-2862-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Jan 12 07:29:51 2000
Return-Path: <zsh-users-return-2862-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 23559 invoked from network); 12 Jan 2000 07:29:49 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 12 Jan 2000 07:29:49 -0000
Received: (qmail 19577 invoked by alias); 12 Jan 2000 07:29:33 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 2862
Received: (qmail 19570 invoked from network); 12 Jan 2000 07:29:32 -0000
X-Envelope-Sender-Is: Andrej.Borsenkow@mow.siemens.ru (at relayer goliath.siemens.de)
From: "Andrej Borsenkow" <Andrej.Borsenkow@mow.siemens.ru>
To: "Scott Lipcon" <slipcon@ugrad.cs.jhu.edu>, <zsh-users@sunsite.auc.dk>
Subject: RE: remote function problems.
Date: Wed, 12 Jan 2000 10:29:28 +0300
Message-ID: <000201bf5cce$c2a9f5c0$21c9ca95@mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-reply-to: <Pine.GSO.3.96.1000110234329.25844A-100000@hops.cs.jhu.edu>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6600

You most probably have call to stty in your .zshrc or /etc/zshrc (that is being
executed for every interactive shell; and you force your shell to be interactive
with -i option).

1. Do not use -i option. Why do you need it?

2. Wrap call to stty around

if [[ -t 0 ]]; then
	stty ...
fi

/andrej

> -----Original Message-----
> From: Scott Lipcon [mailto:slipcon@ugrad.cs.jhu.edu]
> Sent: Tuesday, January 11, 2000 7:49 AM
> To: zsh-users@sunsite.auc.dk
> Subject: remote function problems.
>
>
> Hello,
>
> I'm trying to write some function to distribute my config files among all
> the machines I use.  For various reasons, I dont want to use rsync or CVS.
> I want to "push" the files out from my main machine, so I have a function
> which tars them up and scp's them to the remote machine (prompting for a
> password if necessary)
>
> I also have a function which installs the config files properly, from a
> tar file in my home directory.  The problem is now executing that function
> remotely, via ssh.
>
> The best I've come up with is:
>
> $ ssh remote-host zsh -i -c function
>
> which runs the function, but also outputs:
>
> stty: standard input: Invalid argument
>
> is there a way to do this better?
>
> Thanks,
>
> Scott
>
>

