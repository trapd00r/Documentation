From zsh-users-return-4195-mason-zsh=primenet.com.au@sunsite.dk Wed Sep 05 13:26:08 2001
Return-Path: <zsh-users-return-4195-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 7593 invoked from network); 5 Sep 2001 13:26:06 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 5 Sep 2001 13:26:06 -0000
Received: (qmail 28013 invoked by alias); 5 Sep 2001 13:25:38 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4195
Received: (qmail 28001 invoked from network); 5 Sep 2001 13:25:36 -0000
Date: Wed, 5 Sep 2001 09:25:33 -0400
From: Clint Adams <clint@zsh.org>
To: Zsh Users <zsh-users@sunsite.dk>
Subject: Re: termcap
Message-ID: <20010905092533.A29243@dman.com>
References: <20010905053205.F4009@hq.newdream.net>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5i
In-Reply-To: <20010905053205.F4009@hq.newdream.net>; from william@hq.newdream.net on Wed, Sep 05, 2001 at 05:32:05AM -0700

> this machine doesn't have zsh so i'm running zsh from $HOME/bin/
> did i need to tell zsh the location of terminfo when i compiled it? do i
> just need to set different environment variables?
> 
> if termcap is needed, i have a current copy of that in $HOME/etc/termcap
> 
> i'm having the same problem with tcsh, so i'm assuming there's just some
> variable i need to set.

bash treats the TERMINFO parameter as special, and resets the terminal every
time it changes.  zsh (and tcsh, I assume) don't currently know about this
variable.  Other than the zsh/terminfo module, zsh is dealing with
termcap or termcap emulation.

On the other hand, zsh does react when the TERM parameter is changed.
I have zsh linked against ncurses, which knows about TERMINFO even though
zsh doesn't, and if I export TERMINFO, then change TERM, it will happily
find the terminfo definitions in $TERMINFO.

Thus, I think you are either not exporting TERMINFO to the environment
or the library which is providing zsh with tgetent() and friends
doesn't care about that variable.

