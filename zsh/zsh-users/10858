From zsh-users-return-10858-mason-zsh=primenet.com.au@sunsite.dk Fri Oct 13 09:44:56 2006
Return-Path: <zsh-users-return-10858-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17803 invoked from network); 13 Oct 2006 09:44:53 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.6 (2006-10-03) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.4 required=5.0 tests=AWL,BAYES_00,
	FORGED_RCVD_HELO autolearn=ham version=3.1.6
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 13 Oct 2006 09:44:53 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 78865 invoked from network); 13 Oct 2006 09:44:47 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 13 Oct 2006 09:44:47 -0000
Received: (qmail 23407 invoked by alias); 13 Oct 2006 09:44:36 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 10858
Received: (qmail 23398 invoked from network); 13 Oct 2006 09:44:35 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 13 Oct 2006 09:44:35 -0000
Received: (qmail 77226 invoked from network); 13 Oct 2006 09:44:35 -0000
Received: from cluster-c.mailcontrol.com (168.143.177.190)
  by a.mx.sunsite.dk with SMTP; 13 Oct 2006 09:44:34 -0000
Received: from cameurexb01.EUROPE.ROOT.PRI ([62.189.241.200])
	by rly11c.srv.mailcontrol.com (MailControl) with ESMTP id k9D9hGPa017303
	for <zsh-users@sunsite.dk>; Fri, 13 Oct 2006 10:44:19 +0100
Received: from news01.csr.com ([10.103.143.38]) by cameurexb01.EUROPE.ROOT.PRI with Microsoft SMTPSVC(6.0.3790.1830);
	 Fri, 13 Oct 2006 10:30:57 +0100
Received: from news01.csr.com (localhost.localdomain [127.0.0.1])
	by news01.csr.com (8.13.7/8.13.4) with ESMTP id k9D9Uv0m007024
	for <zsh-users@sunsite.dk>; Fri, 13 Oct 2006 10:30:57 +0100
Received: from csr.com (pws@localhost)
	by news01.csr.com (8.13.7/8.13.7/Submit) with ESMTP id k9D9UuL7007021
	for <zsh-users@sunsite.dk>; Fri, 13 Oct 2006 10:30:57 +0100
Message-Id: <200610130930.k9D9UuL7007021@news01.csr.com>
X-Authentication-Warning: news01.csr.com: pws owned process doing -bs
To: zsh users <zsh-users@sunsite.dk>
Subject: Re: matching commands by pattern 
In-reply-to: <20061013090422.GH4262@fsst.voodoo.lan> 
References: <20061013090422.GH4262@fsst.voodoo.lan>
Comments: In-reply-to Frank Terbeck <ft@bewatermyfriend.de>
   message dated "Fri, 13 Oct 2006 11:04:22 +0200."
Date: Fri, 13 Oct 2006 10:30:56 +0100
From: Peter Stephenson <pws@csr.com>
X-OriginalArrivalTime: 13 Oct 2006 09:30:57.0575 (UTC) FILETIME=[49BF1B70:01C6EEAA]
Content-Type: text/plain
MIME-Version: 1.0
X-Scanned-By: MailControl A-07-06-55 (www.mailcontrol.com) on 10.67.0.121

Frank Terbeck wrote:
> I'm trying to be able to use compsys to find all completions, that are
> possible as the first word of the command-line _and_ match a given
> pattern. Ideally, these matches should be accessible via a completion
> menu.

It's easy: just set the option "globcomplete", that's what it's designed
for.  This makes pattern characters active during normal completion, so
you don't have to do anything else special to get command completion in
command position.

You need to ensure the *'s aren't being grabbed by non-compsys expansion
but that's probably already the case.  If there were files in your
directory matching the pattern and you had the _expand completer before
_complete then it would still try to do globbing first.

> Is there a possibility, to get this going with 'expand-or-complete'
> instead of 'menu-complete'? That way you could use <TAB> to trigger
> the menu. I think this could be done by not expanding filenames, if
> completing the first word in the command-line. But I'm not sure, how
> to achieve this.

Well, with globcomplete you should have the full range of completion
options, so autolist etc. etc. should work as normal.

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR PLC, Churchill House, Cambridge Business Park, Cowley Road
Cambridge, CB4 0WZ, UK                          Tel: +44 (0)1223 692070


To access the latest news from CSR copy this link into a web browser:  http://www.csr.com/email_sig.php

