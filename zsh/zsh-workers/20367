From zsh-workers-return-20367-mason-zsh=primenet.com.au@sunsite.dk Mon Sep 13 18:05:48 2004
Return-Path: <zsh-workers-return-20367-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 26468 invoked from network); 13 Sep 2004 18:05:47 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 13 Sep 2004 18:05:47 -0000
Received: (qmail 31959 invoked from network); 13 Sep 2004 18:05:41 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 13 Sep 2004 18:05:41 -0000
Received: (qmail 16156 invoked by alias); 13 Sep 2004 18:05:28 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 20367
Received: (qmail 16144 invoked from network); 13 Sep 2004 18:05:28 -0000
Received: from unknown (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 13 Sep 2004 18:05:28 -0000
Received: (qmail 31343 invoked from network); 13 Sep 2004 18:04:53 -0000
Received: from moonbase.zanshin.com (64.84.47.139)
  by a.mx.sunsite.dk with SMTP; 13 Sep 2004 18:04:52 -0000
Received: from toltec.zanshin.com (toltec.zanshin.com [64.84.47.166])
	by moonbase.zanshin.com (8.13.1/8.13.1) with ESMTP id i8DI4kZ1007221;
	Mon, 13 Sep 2004 11:04:46 -0700
Date: Mon, 13 Sep 2004 11:04:46 -0700 (PDT)
From: Bart Schaefer <schaefer@brasslantern.com>
Reply-To: zsh-workers@sunsite.dk
To: Hugo Haas <hugo@larve.net>
cc: zsh-workers@sunsite.dk
Subject: Re: Bug#270632: zsh: Completion and spaces
In-Reply-To: <20040911081145.GC10878@larve.net>
Message-ID: <Pine.LNX.4.61.0409131059130.10799@toltec.zanshin.com>
References: <20040908115321.GA2417@larve.net> <20040908180950.GC25987@scowler.net>
 <20040908194101.GD2775@larve.net> <20040908202633.GA3130@scowler.net>
 <Pine.LNX.4.61.0409081645470.31752@toltec.zanshin.com> <20040908235639.GB6785@scowler.net>
 <Pine.LNX.4.61.0409090754020.4924@toltec.zanshin.com> <20040909151552.GA21470@scowler.net>
 <Pine.LNX.4.61.0409091405160.7216@toltec.zanshin.com> <20040911081145.GC10878@larve.net>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, hits=-0.0 required=6.0 tests=BAYES_44 autolearn=no 
	version=2.63
X-Spam-Hits: -0.0

[I've dropped the Debian bugs addresses for now.]

On Sat, 11 Sep 2004, Hugo Haas wrote:

> * Bart Schaefer <schaefer@brasslantern.com> [2004-09-09 14:37-0700]
> > The following is untested.
> 
> It seems to do the trick indeed.

Having finally had a chance to try it ...

With the zsh/paramter patch it _never_ removes the auto-suffix, because it 
never calls a zle insert widget.  It's no better than LBUFFER+=''.

I'm reaching the conclusion that we do need some way for a user-defined 
widget to announce whether it should be considered an insertion, deletion, 
or motion, so that zle can deal properly with the suffixes added by the 
previous widget.

