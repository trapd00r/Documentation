From zsh-workers-return-13900-mason-zsh=primenet.com.au@sunsite.dk Wed Apr 04 03:10:32 2001
Return-Path: <zsh-workers-return-13900-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 19845 invoked from network); 4 Apr 2001 03:10:31 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 4 Apr 2001 03:10:31 -0000
Received: (qmail 11759 invoked by alias); 4 Apr 2001 03:10:19 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 13900
Received: (qmail 11748 invoked from network); 4 Apr 2001 03:10:18 -0000
Sender: ethersoft@rcn.com
To: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
Cc: zsh-workers@sunsite.dk
Subject: Re: Test Failures from Latest CVS
References: <200104031122.NAA23997@beta.informatik.hu-berlin.de>
From: Vin Shelton <acs@alumni.princeton.edu>
Organization: EtherSoft, Inc
Date: 03 Apr 2001 23:16:48 -0400
In-Reply-To: <200104031122.NAA23997@beta.informatik.hu-berlin.de>
Message-ID: <m2r8z9icbj.fsf@zion.rcn.com>
Lines: 17
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Thanks, Sven.  Your fixes removed all but the following error:

/usr/local/src/zsh-2001-04-03/Test/C02cond.ztst: starting.
Test /usr/local/src/zsh-2001-04-03/Test/C02cond.ztst failed: bad status 1, expected 0 from:
  # Find a block special file system.  This is a little tricky.
  block=$(find /dev /devices -type b -print 2>/dev/null|head -1) &&
  [[ -b $block && ! -b zerolength ]]
Was testing: -b cond
/usr/local/src/zsh-2001-04-03/Test/C02cond.ztst: test failed.

I'm willing to bet this has something to do with the OS: mandrake 7.2
/ i686 / kernel 2.4.3.  I don't see the -N failure (at home) because
this is a local disk.  At work, on a Solaris 5.5.1 box, I do see the
-N failure because the directory is mounted via NFS.  Interestingly, I
don't see the -b failure on the Solaris box at work.

  - vin

