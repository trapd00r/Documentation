From zsh-users-return-4614-mason-zsh=primenet.com.au@sunsite.dk Wed Jan 23 08:42:02 2002
Return-Path: <zsh-users-return-4614-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1321 invoked from network); 23 Jan 2002 08:42:01 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 23 Jan 2002 08:42:01 -0000
Received: (qmail 12804 invoked by alias); 23 Jan 2002 08:41:34 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4614
Received: (qmail 12786 invoked from network); 23 Jan 2002 08:41:33 -0000
From: Sven Wischnowsky <wischnow@berkom.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15438.30441.817950.156120@wischnow.berkom.de>
Date: Wed, 23 Jan 2002 09:40:09 +0100
To: zsh-users@sunsite.dk
Subject: Re: completion for rsync?
In-Reply-To: <20020122191915.GA25925@argo.cit.nih.gov>
References: <20020122191915.GA25925@argo.cit.nih.gov>
X-Mailer: VM 6.95 under 21.5 (patch 3) "asparagus" XEmacs Lucid


Anthony R Iano-Fletcher wrote:

> ...
> 
> #compdef fping
> 
> local expl hosts
> 
> _arguments -C \
> ...
>    '-u[show targets that are unreachable]:' \
>    && ret=0

Shouldn't the follwing be replaced by an argument-spec calling _hosts
(it's the same code anyway) and the `&& ret=0' be removed (it's not
defined as a local and not initialised to `1')?

> if ! zstyle -a ":completion:${curcontext}:hosts" hosts hosts; then
>   (( $+_cache_hosts )) ||
>       : ${(A)_cache_hosts:=${(s: :)${(ps:\t:)${${(f)~~"$(</etc/hosts)"}%%\#*}##[:blank:]#[^[:blank:]]#}}}
> 
>   hosts=( "$_cache_hosts[@]" )
> fi
> 
> _wanted hosts expl host \
>     compadd -M 'm:{a-zA-Z}={A-Za-z} r:|.=* r:|=*' "$@" -a hosts



Bye
  Sven

-- 
Sven Wischnowsky                           wischnow@berkom.de

