From zsh-workers-return-15781-mason-zsh=primenet.com.au@sunsite.dk Mon Sep 10 16:35:53 2001
Return-Path: <zsh-workers-return-15781-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 29420 invoked from network); 10 Sep 2001 16:35:52 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 10 Sep 2001 16:35:52 -0000
Received: (qmail 27532 invoked by alias); 10 Sep 2001 16:35:43 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 15781
Received: (qmail 27520 invoked from network); 10 Sep 2001 16:35:42 -0000
Message-ID: <20010910163539.46518.qmail@web9304.mail.yahoo.com>
Date: Mon, 10 Sep 2001 17:35:39 +0100 (BST)
From: =?iso-8859-1?q?Oliver=20Kiddle?= <okiddle@yahoo.co.uk>
Subject: PATCH: completion for samba tools
To: zsh-workers@sunsite.dk
MIME-Version: 1.0
Content-Type: multipart/mixed; boundary="0-860444195-1000139739=:46224"
Content-Transfer-Encoding: 8bit

--0-860444195-1000139739=:46224
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
Content-Disposition: inline

This adds completion for the various samba tools like smbclient. There
is plenty of scope for improvements. The output from smbclient -L could
allow for things like services and workgroups to be completed better
but it needs the name of the smb server passed and the output produced
seems to have been designed for human viewing not machine parsing so I
haven't bothered.

Oliver

____________________________________________________________
Do You Yahoo!?
Get your free @yahoo.co.uk address at http://mail.yahoo.co.uk
or your free @yahoo.ie address at http://mail.yahoo.ie
--0-860444195-1000139739=:46224
Content-Type: application/x-unknown; name=_samba
Content-Transfer-Encoding: base64
Content-Description: _samba
Content-Disposition: attachment; filename=_samba

I2NvbXBkZWYgc21iY29udHJvbCBzbWJjbGllbnQgbm1ibG9va3VwIHNtYnN0
YXR1cwoKbG9jYWwgZXhwbCBtc2dzIGFyZ3MKCmNhc2UgJHNlcnZpY2UgaW4K
ICBzbWJjb250cm9sKQogICAgY2FzZSAkQ1VSUkVOVCBpbgogICAgICAzKQoJ
bXNncz0oIGRlYnVnIHBpbmcgcHJvZmlsZSBkZWJ1Z2xldmVsIHByb2ZpbGVs
ZXZlbCApCgljYXNlICR3b3Jkc1tDVVJSRU5ULTFdIGluCgkgIG5tYmQpIG1z
Z3M9KCAkbXNncyBmb3JjZS1lbGVjdGlvbiApIDs7CgkgIHNtYmQpIG1zZ3M9
KCAkbXNncyBwcmludGVyLW5vdGlmeSApIDs7CgkgIC1pKSByZXR1cm4gMSA7
OwoJZXNhYwogICAgICAgIF93YW50ZWQgbWVzc2FnZS10eXBlIGV4cGwgJ21l
c3NhZ2UgdHlwZXMnIGNvbXBhZGQgLWEgbXNncwogICAgICA7OwogICAgICA0
KQogICAgICAgIGNhc2UgJHdvcmRzW0NVUlJFTlQtMV0gaW4KCSAgcHJvZmls
ZSkKCSAgICBfd2FudGVkIHBhcmFtZXRlciBleHBsICdwYXJhbWV0ZXInIGNv
bXBhZGQgb24gb2ZmIGZsdXNoIGNvdW50CgkgIDs7CgkgIGRlYnVnKSBfbWVz
c2FnZSAnZGVidWcgbGV2ZWwnIDs7CgkgIHBpbmcpIF9tZXNzYWdlICdudW1i
ZXIgb2YgcGluZyBtZXNzYWdlcycgOzsKCWVzYWMKICAgICAgOzsKICAgICAg
KikKICAgICAgICBfYXJndW1lbnRzIFwKICAgICAgICAgICctaVtydW4gaW50
ZXJhY3RpdmVseV0nIFwKICAgICAgICAgICc6ZGVzdGluYXRpb246KG5tYmQg
c21iZCknCiAgICAgIDs7CiAgICBlc2FjCiAgOzsKICBzbWJjbGllbnQpCiAg
ICBhcmdzPSgKICAgICAgJygtTiAtQSkyOnBhc3N3b3JkJwogICAgICAnKDIp
LXMrW3NwZWNpZnkgbG9jYXRpb24gb2Ygc21iLmNvbmZdOnNtYi5jb25mIGxv
Y2F0aW9uOl9maWxlcycKICAgICAgJygyKS1PK1tzcGVjaWZ5IHNvY2tldCBv
cHRpb25zXTpzb2NrZXQgb3B0aW9ucycKICAgICAgJygyKS1SK1tzcGVjaWZ5
IG5hbWUgcmVzb2x1dGlvbiBvcmRlcl06bmFtZSByZXNvbHV0aW9uIG9yZGVy
Ol92YWx1ZXMgLXMgIiAiIGxtaG9zdHMgaG9zdCB3aW5zIGJjYXN0JwogICAg
ICAnKDIgLUwgLUQgLVQpLU0rW3NlbmQgbWVzc2FnZV06aG9zdDpfaG9zdHMn
CiAgICAgICcoMiktaStbc3BlY2lmeSBOZXRCSU9TIHNjb3BlXTpzY29wZScK
ICAgICAgJygyKS1OW3N1cHByZXNzIHBhc3N3b3JkIHByb21wdF0nCiAgICAg
ICcoMiktbitbc3BlY2lmeSBsb2NhbCBOZXRCSU9TIG5hbWVdOmxvY2FsIG1h
Y2hpbmUgbmFtZScKICAgICAgJygyKS1kK1tzcGVjaWZ5IGRlYnVnIGxldmVs
XTpkZWJ1ZyBsZXZlbDooMCAxIDIgMyA0IDUgNiA3IDggOSAxMCknCiAgICAg
ICcoMiktcCtbc3BlY2lmeSB0Y3AgcG9ydF06dGNwIHBvcnQnCiAgICAgICco
MiktbCtbc3BlY2lmeSBiYXNlIGxvZyBmaWxlbmFtZV06YmFzZSBsb2cgZmls
ZW5hbWUnCiAgICAgICcoMiktSStbc3BlY2lmeSBJUCBhZGRyZXNzIG9mIHNl
cnZlcl06SVAgYWRkcmVzcycKICAgICAgJygyKS1FW291dHB1dCBtZXNzYWdl
cyB0byBzdGRlcnJdJwogICAgICAnKDIpLVUrW3NwZWNpZnkgdXNlcm5hbWVd
OnVzZXJuYW1lOl91c2VycycKICAgICAgJygyKS1BK1tzcGVjaWZ5IGZpbGUg
Y29udGFpbmluZyB1c2VybmFtZS9wYXNzd29yZF06ZmlsZTpfZmlsZXMnCiAg
ICAgICcoMiAtTSAtRCAtVCktTCtbbGlzdCBzZXJ2aWNlcyBvbiBzZXJ2ZXJd
Omhvc3Q6X2hvc3RzJwogICAgICAnKDIpLXQrW3NwZWNpZnkgdGVybWluYWwg
Y29kZV06dGVybWluYWwgY29kZScKICAgICAgJygyKS1iK1tzcGVjaWZ5IGJ1
ZmZlcnNpemVdOnRyYW5zbWl0L3NlbmQgYnVmZmVyIHNpemUgKGJ5dGVzKScK
ICAgICAgJygyKS1XK1tzcGVjaWZ5IHdvcmtncm91cF06d29ya2dyb3VwJwog
ICAgICAnKDIgLU0gLUwpLVQrW3NwZWNpZnkgdGFyIG9wdGlvbnNdOnRhciBv
cHRpb25zJwogICAgICAnKDIgLU0gLUwpLUQrW2luaXRpYWwgZGlyZWN0b3J5
XTppbml0aWFsIGRpcmVjdG9yeScKICAgICAgJygyKS1jW3NwZWNpZnkgY29t
bWFuZHNdOmNvbW1hbmQgc3RyaW5nJwogICAgKQogICAgaWYgKCggQ1VSUkVO
VCA9PSAyICkpOyB0aGVuCiAgICAgIGFyZ3M9KCAkYXJncyAKICAgICAgICAn
MTpzZXJ2aWNlIG5hbWU6X2hvc3RzIC1QIC8vIC1TIC8nCiAgICAgICAgJygt
cyAtTyAtUiAtTSAtaSAtTiAtbiAtZCAtcCAtbCAtSSAtRSAtVSAtQSAtTCAt
dCAtYiAtVyAtVCAtRCAtYyktaFtkaXNwbGF5IHVzYWdlIGluZm9ybWF0aW9u
XScKICAgICAgKQogICAgZmkKICAgIF9hcmd1bWVudHMgLXMgIiRhcmdzW0Bd
IgogIDs7CiAgbm1ibG9va3VwKQogICAgX2FyZ3VtZW50cyAtcyAtQSAiLSoi
IFwKICAgICAgJygtaCktUltzZXQgcmVjdXJzaW9uIGRlc2lyZWQgaW4gcGFj
a2V0XScgXAogICAgICAnKC1oKS1NW3NlYXJjaCBmb3IgYSBtYXN0ZXIgYnJv
d3Nlcl0nIFwKICAgICAgJygtaCktU1tsb29rdXAgbm9kZSBzdGF0dXMgYXMg
d2VsbF0nIFwKICAgICAgJygtaCktVFtwZXJmb3JtIHJldmVyc2UgRE5TIG9u
IElQIGFkZHJlc3Nlc10nIFwKICAgICAgJygtaCktclt1c2Ugcm9vdCBwb3J0
IDEzN10nIFwKICAgICAgJygtaCktQVtxdWVyeSBub2RlIHN0YXR1cyBvbiBJ
UCBhZGRyZXNzXScgXAogICAgICAnKC1SIC1NIC1TIC1UIC1yIC1BIC1CIC1V
IC1kIC1zIC1pICopLWhbcHJpbnQgaGVscCBtZXNzYWdlXScgXAogICAgICAn
KC1oKS1CK1tzcGVjaWZ5IGJyb2FkY2FzdCBhZGRyZXNzXTpicm9hZGNhc3Qg
YWRkcmVzcycgXAogICAgICAnKC1oKS1VK1tzcGVjaWZ5IHVuaWNhc3QgYWRk
cmVzc106dW5pY2FzdCBhZGRyZXNzJyBcCiAgICAgICcoLWgpLWQrW3NwZWNp
ZnkgZGVidWcgbGV2ZWxdOmRlYnVnIGxldmVsOigwIDEgMiAzIDQgNSA2IDcg
OCA5IDEwKScgXAogICAgICAnKC1oKS1zK1tzcGVjaWZ5IGxvY2F0aW9uIG9m
IHNtYi5jb25mXTpzbWIuY29uZiBsb2NhdGlvbjpfZmlsZXMnIFwKICAgICAg
JygtaCktaStbc3BlY2lmeSBOZXRCSU9TIHNjb3BlXTpzY29wZScgXAogICAg
ICAnKC1oKSo6TmV0QklPUyBuYW1lOl9ob3N0cycKICA7OwogIHNtYnN0YXR1
cykKICAgIGFyZ3M9JygtYiAtZCAtTCAtcCAtUyknCiAgICBfYXJndW1lbnRz
IC1zIFwKICAgICAgIiRhcmdzLWJbYnJpZWYgb3V0cHV0XSIgXAogICAgICAi
JGFyZ3MtZFtkZXRhaWxlZCBvdXRwdXRdIiBcCiAgICAgICIkYXJncy1MW2xp
c3Qgb25seSBsb2Nrc10iIFwKICAgICAgIiRhcmdzLXBbbGlzdCBzbWJkKDgp
IHByb2Nlc3Nlc10iIFwKICAgICAgIiRhcmdzLVNbbGlzdCBvbmx5IHNoYXJl
c10iIFwKICAgICAgJy1zK1tzcGVjaWZ5IGxvY2F0aW9uIG9mIHNtYi5jb25m
XTpzbWIuY29uZiBsb2NhdGlvbjpfZmlsZXMnIFwKICAgICAgJy11K1tzcGVj
aWZ5IHVzZXIgdG8gcmVzdHJpY3QgaW5mb3JtYXRpb24gdG9dOnVzZXI6X3Vz
ZXJzJwogICA7Owplc2FjCg==

--0-860444195-1000139739=:46224--

