From zsh-workers-return-26481-mason-zsh=primenet.com.au@sunsite.dk Thu Jan 29 15:23:45 2009
Return-Path: <zsh-workers-return-26481-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 19593 invoked from network); 29 Jan 2009 15:23:33 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 29 Jan 2009 15:23:33 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 25945 invoked from network); 29 Jan 2009 15:23:29 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 29 Jan 2009 15:23:29 -0000
Received: (qmail 4375 invoked by alias); 29 Jan 2009 15:23:25 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 26481
Received: (qmail 4364 invoked from network); 29 Jan 2009 15:23:24 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 29 Jan 2009 15:23:24 -0000
Received: from vms044pub.verizon.net (vms044pub.verizon.net [206.46.252.44])
	by bifrost.dotsrc.org (Postfix) with ESMTP id B8D3D80271F0
	for <zsh-workers@sunsite.dk>; Thu, 29 Jan 2009 16:23:20 +0100 (CET)
Received: from torch.brasslantern.com ([96.238.220.215])
 by vms044.mailsrvcs.net
 (Sun Java System Messaging Server 6.2-6.01 (built Apr  3 2006))
 with ESMTPA id <0KE800B9JO2US4A3@vms044.mailsrvcs.net> for
 zsh-workers@sunsite.dk; Thu, 29 Jan 2009 09:23:19 -0600 (CST)
Received: from torch.brasslantern.com (localhost.localdomain [127.0.0.1])
	by torch.brasslantern.com (8.13.1/8.13.1) with ESMTP id n0TFNHui015828	for
 <zsh-workers@sunsite.dk>; Thu, 29 Jan 2009 07:23:18 -0800
Received: (from schaefer@localhost)	by torch.brasslantern.com
 (8.13.1/8.13.1/Submit) id n0TFNHjd015827	for zsh-workers@sunsite.dk; Thu,
 29 Jan 2009 07:23:17 -0800
Date: Thu, 29 Jan 2009 07:23:17 -0800
From: Bart Schaefer <schaefer@brasslantern.com>
Subject: Re: help with matcher-list style
In-reply-to: <20090129110353.65527d81@news01>
To: "Zsh Hackers' List" <zsh-workers@sunsite.dk>
Message-id: <090129072317.ZM15826@torch.brasslantern.com>
MIME-version: 1.0
X-Mailer: OpenZMail Classic (0.9.2 24April2005)
Content-type: text/plain; charset=us-ascii
References: <18817.6080.228775.132881@gargle.gargle.HOWL>
	<090129005248.ZM10205@torch.brasslantern.com>	<20090129110353.65527d81@news01>
Comments: In reply to Peter Stephenson <pws@csr.com>
 "Re: help with matcher-list style" (Jan 29, 11:03am)
X-Virus-Scanned: ClamAV 0.92.1/8919/Thu Jan 29 14:05:38 2009 on bifrost
X-Virus-Status: Clean

On Jan 29, 11:03am, Peter Stephenson wrote:
} Subject: Re: help with matcher-list style
}
} On Thu, 29 Jan 2009 00:52:48 -0800
} Bart Schaefer <schaefer@brasslantern.com> wrote:
} > 39: ../../../zsh-4.0/Src/Zle/compmatch.c:1181: bad matcher pattern type
} > 39: ../../../zsh-4.0/Src/Zle/compmatch.c:1181: bad matcher pattern type
} > (repeats a dozen times or so)
} 
} I think this is it, but this is near the very heart of the fog, and a
} second pair of eyes here would be very useful.  "tmpgenpat" and "wp" now
} have comparable relationships to "curgenpat" and "wordcp", respectively, so
} the code certainly looks better.

It looks right to me on inspection, but I'm flying almost entirely by
instinct in that part of the code.

Anyone want to figure out how to add a regression test for this to
Test/Y02compmatch.ztst ?

