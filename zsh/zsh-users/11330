From zsh-users-return-11330-mason-zsh=primenet.com.au@sunsite.dk Sat Mar 24 16:46:20 2007
Return-Path: <zsh-users-return-11330-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 15807 invoked from network); 24 Mar 2007 16:46:18 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.8 (2007-02-13) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=BAYES_00,FORGED_RCVD_HELO
	autolearn=ham version=3.1.8
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 24 Mar 2007 16:46:18 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 67439 invoked from network); 24 Mar 2007 16:46:12 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 24 Mar 2007 16:46:12 -0000
Received: (qmail 5008 invoked by alias); 24 Mar 2007 16:46:04 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 11330
Received: (qmail 4999 invoked from network); 24 Mar 2007 16:46:04 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 24 Mar 2007 16:46:04 -0000
Received: (qmail 66278 invoked from network); 24 Mar 2007 16:46:04 -0000
Received: from vms044pub.verizon.net (206.46.252.44)
  by a.mx.sunsite.dk with SMTP; 24 Mar 2007 16:46:01 -0000
Received: from torch.brasslantern.com ([71.116.70.212])
 by vms044.mailsrvcs.net (Sun Java System Messaging Server 6.2-6.01 (built Apr
 3 2006)) with ESMTPA id <0JFF009FP2KC12C8@vms044.mailsrvcs.net> for
 zsh-users@sunsite.dk; Sat, 24 Mar 2007 11:45:49 -0500 (CDT)
Received: from torch.brasslantern.com (localhost.localdomain [127.0.0.1])
	by torch.brasslantern.com (8.13.1/8.13.1) with ESMTP id l2OGjlJE014992	for
 <zsh-users@sunsite.dk>; Sat, 24 Mar 2007 09:45:48 -0700
Received: (from schaefer@localhost)	by torch.brasslantern.com
 (8.13.1/8.13.1/Submit) id l2OGjlOj014991	for zsh-users@sunsite.dk; Sat,
 24 Mar 2007 09:45:47 -0700
Date: Sat, 24 Mar 2007 09:45:47 -0700
From: Bart Schaefer <schaefer@brasslantern.com>
Subject: Re: users-hosts combination failing
In-reply-to: <20070324150902.GA24489@cetus30.cs.utk.edu>
To: zsh-users@sunsite.dk
Message-id: <070324094547.ZM14990@torch.brasslantern.com>
MIME-version: 1.0
X-Mailer: OpenZMail Classic (0.9.2 24April2005)
Content-type: text/plain; charset=us-ascii
References: <20070320153737.GA14160@cetus30.cs.utk.edu>
	<20070324150902.GA24489@cetus30.cs.utk.edu>
Comments: In reply to Chris Johnson <cjohnson@cs.utk.edu>
 "Re: users-hosts combination failing" (Mar 24, 11:09am)

On Mar 24, 11:09am, Chris Johnson wrote:
}
} Hmm...  No responses yet.  Is there anyway I can I provide more
} information?

No ... you can try this patch, though:

Index: Completion/Base/Utility/_combination
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Base/Utility/_combination,v
retrieving revision 1.1
diff -u -r1.1 _combination
--- Completion/Base/Utility/_combination        2 Apr 2001 11:10:08 -0000
1.1
+++ Completion/Base/Utility/_combination        24 Mar 2007 16:36:07 -0000
@@ -88,7 +88,9 @@
   fi
   tmp=( ${tmp%%${~sep}*} )
 
-  compadd "$@" -a tmp || { (( $+functions[_$key] )) && "_$key" "$@" }
+  local expl
+  _wanted $key expl $key  compadd "$@" -a tmp ||
+      { (( $+functions[_$key] )) && "_$key" "$@" }
 else
   (( $+functions[_$key] )) && "_$key" "$@"
 fi


This was, not exactly rejected, but put off, on the grounds that it's
an inadequate fix for the problem (see zsh-workers/16605 and the long
thread that follows it).

