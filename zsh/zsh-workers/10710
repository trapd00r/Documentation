From zsh-workers-return-10710-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Apr 12 16:21:02 2000
Return-Path: <zsh-workers-return-10710-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2109 invoked from network); 12 Apr 2000 16:20:56 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 12 Apr 2000 16:20:56 -0000
Received: (qmail 25343 invoked by alias); 12 Apr 2000 16:20:50 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 10710
Received: (qmail 25330 invoked from network); 12 Apr 2000 16:20:49 -0000
Date: Wed, 12 Apr 2000 18:20:32 +0200
From: Daniel Bauke <bonkey@matylda.bildex.net.pl>
To: Zsh hackers list <zsh-workers@sunsite.auc.dk>
Subject: problems with building zsh
Message-ID: <20000412182032.A2833@matylda.bildex.net.pl>
Mail-Followup-To: Daniel Bauke <bonkey@matylda.bildex.net.pl>,
	Zsh hackers list <zsh-workers@sunsite.auc.dk>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.1.11i
X-Writing-Started: Wed Apr 12 17:28:27 CEST 2000

Hi, almighty gurus of zsh :-)

I've stucked with building zsh v.3.1.6, (and dev-22, too) on a
little strange system. It's PLD Linux (Polish[ed] Linux
Distribution), which is still in development stage and has many
devel packages. make makes this error:

make[2]: Entering directory `/mnt/vol01/RPM/BUILD/zsh-3.1.6-dev-22/Src'
gcc -c -I. -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DHAVE_CONFIG_H -O2 -mcpu=
pentiumpro  -o builtin.o builtin.c
In file included from /usr/include/linux/fs.h:12,
                 from /usr/include/linux/capability.h:13,
                 from /usr/include/sys/capability.h:24,
                 from system.h:396,
                 from zsh.mdh:15,
                 from builtin.c:30:
/usr/include/linux/wait.h:4: warning: `WNOHANG' redefined
/usr/include/bits/waitflags.h:26: warning: this is the location of the previous 
definition
/usr/include/linux/wait.h:5: warning: `WUNTRACED' redefined
/usr/include/bits/waitflags.h:27: warning: this is the location of the previous 
definition
In file included from zsh.mdh:16,
                 from builtin.c:30:
zsh.h:237: parse error before `1'
zsh.h:246: parse error before `0'
make[2]: *** [builtin.o] Error 1
make[2]: Leaving directory `/mnt/vol01/RPM/BUILD/zsh-3.1.6-dev-22/Src'
make[1]: *** [modobjs] Error 2
make[1]: Leaving directory `/mnt/vol01/RPM/BUILD/zsh-3.1.6-dev-22/Src'
make: *** [all] Error 1

I have kernel 2.2.14, glibc 2.1.3 and gcc 2.95.2

It looks like something includes file from /usr/include/linux,
which is already included in glibc, or something similar. Has any
has a smart solution to this?

-- 
Daniel `bonkey' Bauke; http://www.oho.com.pl/~bonkey/; {happiness=bike&&unix;}

