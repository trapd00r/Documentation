From zsh-workers-return-7059-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Jul 09 08:37:41 1999
Return-Path: <zsh-workers-return-7059-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17527 invoked from network); 9 Jul 1999 08:37:39 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 9 Jul 1999 08:37:39 -0000
Received: (qmail 3930 invoked by alias); 9 Jul 1999 08:37:27 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7059
Received: (qmail 3923 invoked from network); 9 Jul 1999 08:37:25 -0000
To: zsh-workers@sunsite.auc.dk
Path: mason
From: mason@primenet.com.au (Geoff Wing)
X-Newsgroups: lists.zsh.workers
Subject: Re: Big problems RE: Problem with cursor position after wrapped completion lists
Date: 9 Jul 1999 08:37:19 GMT
Organization: PrimeNet Computer Consultants
Lines: 23
Distribution: local
Message-ID: <slrn7obd5v.h14.mason@coral.primenet.com.au>
References: "Andrej Borsenkow"'s message of Thu, 8 Jul 1999 20:26:19 +0400 <199907090828.KAA13033@beta.informatik.hu-berlin.de>
Reply-To: mason@primenet.com.au
NNTP-Posting-Host: coral.primenet.com.au
X-Trace: coral.primenet.com.au 931509439 17445 203.43.15.2 (9 Jul 1999 08:37:19 GMT)
X-Complaints-To: usenet@coral.primenet.com.au
NNTP-Posting-Date: 9 Jul 1999 08:37:19 GMT
User-Agent: slrn/0.9.5.6 (UNIX)

Sven Wischnowsky <wischnow@informatik.hu-berlin.de> typed:
:mason@primenet.com.au wrote:
:> I'm pretty sure zle_refresh.c violates this in some special cases (prompt
:> things I think) so I guess I better fix those soonish.  Printing outside of
:> zle_refresh.c I've got no idea about.
:I'll just wait for this solution and then hack the completion listing
:code, we'll probably end up with some utility functions that at least
:try to return some information about the current cursor-position or
:the number of characters printed in this process. Then we can decide
:what else we want to do with them.

The biggest problem is that we can't always know where we are.  Anyone who
does ``setopt NO_PROMPT_CR'' on an abnormal (or uncommon) terminal is just
asking for it.

If we get too more complex we'd just about end up incorporating a ``screen''
clone :-)

Regards,
-- 
Geoff Wing : <gcw@pobox.com>     Work URL: http://www.primenet.com.au/
Rxvt Stuff : <gcw@rxvt.org>      Ego URL : http://pobox.com/~gcw/
Zsh Stuff  : <gcw@zsh.org>       Phone   : (Australia) 0413 431 874

