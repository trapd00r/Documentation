From zsh-workers-return-8193-mason-zsh=primenet.com.au@sunsite.auc.dk Sun Oct 10 23:03:52 1999
Return-Path: <zsh-workers-return-8193-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10582 invoked from network); 10 Oct 1999 23:03:50 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 10 Oct 1999 23:03:50 -0000
Received: (qmail 9046 invoked by alias); 10 Oct 1999 23:03:40 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 8193
Received: (qmail 9039 invoked from network); 10 Oct 1999 23:03:38 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <991010230334.ZM5252@candle.brasslantern.com>
Date: Sun, 10 Oct 1999 23:03:34 +0000
In-Reply-To: <E11ZAyr-0005J7-00@crucigera.fysh.org>
Comments: In reply to Zefram <zefram@fysh.org>
        "PATCH: emulate (Re: Prompt fun)" (Oct  7, 11:41am)
References: <E11ZAyr-0005J7-00@crucigera.fysh.org>
X-Mailer: Z-Mail (5.0.0 30July97)
To: zsh-workers@sunsite.auc.dk
Subject: PATCH: Re: PATCH: emulate (Re: Prompt fun)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

As per the discussion that followed Zefram's changes in 8152 and 8154, this
backs out manipulation of `exec' by emulate, and makes `extendeglob' be off
by default again.  I'm persuaded that the rest of the changes were OK.

Index: Doc/Zsh/options.yo
===================================================================
@@ -329,7 +329,7 @@
 )
 pindex(EXTENDED_GLOB)
 cindex(globbing, extended)
-item(tt(EXTENDED_GLOB) <Z>)(
+item(tt(EXTENDED_GLOB))(
 Treat the `tt(#)', `tt(~)' and `tt(^)' characters as part of patterns
 for filename generation, etc.  (An initial unquoted `tt(~)'
 always produces named directory expansion.)
Index: Src/options.c
===================================================================
@@ -104,8 +104,8 @@
 {NULL, "cshnullglob",	      OPT_EMULATE|OPT_CSH,	 CSHNULLGLOB},
 {NULL, "equals",	      OPT_EMULATE|OPT_ZSH,	 EQUALS},
 {NULL, "errexit",	      OPT_EMULATE,		 ERREXIT},
-{NULL, "exec",		      OPT_EMULATE|OPT_ALL,		 EXECOPT},
-{NULL, "extendedglob",	      OPT_EMULATE|OPT_ZSH,	 EXTENDEDGLOB},
+{NULL, "exec",		      OPT_ALL,			 EXECOPT},
+{NULL, "extendedglob",	      OPT_EMULATE,		 EXTENDEDGLOB},
 {NULL, "extendedhistory",     OPT_CSH,			 EXTENDEDHISTORY},
 {NULL, "flowcontrol",	      OPT_ALL,			 FLOWCONTROL},
 {NULL, "functionargzero",     OPT_EMULATE|OPT_NONBOURNE, FUNCTIONARGZERO},


-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

