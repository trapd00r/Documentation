From zsh-users-return-7276-mason-zsh=primenet.com.au@sunsite.dk Sun Mar 28 12:04:23 2004
Return-Path: <zsh-users-return-7276-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 22885 invoked from network); 28 Mar 2004 12:04:22 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 28 Mar 2004 12:04:22 -0000
Received: (qmail 4708 invoked by alias); 28 Mar 2004 12:04:09 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 7276
Received: (qmail 4666 invoked from network); 28 Mar 2004 12:04:09 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 28 Mar 2004 12:04:09 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [130.225.247.86] by sunsite.dk (MessageWall 1.0.8) with SMTP; 28 Mar 2004 12:4:9 -0000
Received: (qmail 24993 invoked from network); 28 Mar 2004 12:04:08 -0000
Received: from main.gmane.org (80.91.224.249)
  by a.mx.sunsite.dk with SMTP; 28 Mar 2004 12:04:07 -0000
Received: from list by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1B7Z1F-0000C9-00
	for <zsh-users@sunsite.dk>; Sun, 28 Mar 2004 14:04:06 +0200
Received: from isi-dialin-129-37.isionline-dialin.de ([195.158.129.37])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <zsh-users@sunsite.dk>; Sun, 28 Mar 2004 14:04:01 +0200
Received: from thorsten by isi-dialin-129-37.isionline-dialin.de with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <zsh-users@sunsite.dk>; Sun, 28 Mar 2004 14:04:01 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: zsh-users@sunsite.dk
From: Thorsten Kampe <thorsten@thorstenkampe.de>
Subject: Re: Completion for cd
Date: Sun, 28 Mar 2004 14:03:53 +0200
Lines: 31
Message-ID: <1h76677mo3oj$.dlg@thorstenkampe.de>
References: <20040328104221.GA2642@eumel.yoo.net>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: isi-dialin-129-37.isionline-dialin.de
User-Agent: 40tude_Dialog/2.0.10.1de
Sender: news <news@sea.gmane.org>
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, hits=0.0 required=6.0 tests=none autolearn=no version=2.63
X-Spam-Hits: 0.0

* Thorsten Haude (2004-03-28 12:42 +0100)
> one of the last upgrades of Zsh in Debian Sarge changed the way
> directory names for cd are completed. With the current set of
> functions, user's home directories are completed, which is a nuisance.
> 
> I think I have found the file to change:
> /usr/share/zsh/4.1.1/functions/Completion/Zsh/_cd
> 
> Now, there are some problems:
> 1. I don't understand enough of the code to reliably remove user's
> home directories from completion. I could fall back to an older
> version of the file, but would loose completion of cdable vars.
> 
> The code in question is probably this part:
> [...]
> 
> How to rip out home dir completion without affecting cdable vars?

Just don't "rip out" and modify the completion code. zsh isn't bash - 
use the possibility to modify the way zsh completes. Completing named 
directories is already a change from the default behaviour because zsh 
completes by default only the directories in the current directory and 
the CDPATH.

Have a look at the users' guide for "tag-order"...

Thorsten
-- 
 Content-Type: text/explicit; charset=ISO-8859-666 (Parental Advisory)
 Content-Transfer-Warning: message contains innuendos not suited for
 children under the age of 18

