From zsh-users-return-3626-mason-zsh=primenet.com.au@sunsite.dk Fri Feb 16 10:22:01 2001
Return-Path: <zsh-users-return-3626-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2133 invoked from network); 16 Feb 2001 10:22:00 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 16 Feb 2001 10:22:00 -0000
Received: (qmail 6539 invoked by alias); 16 Feb 2001 10:21:50 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 3626
Received: (qmail 6523 invoked from network); 16 Feb 2001 10:21:46 -0000
Date: Fri, 16 Feb 2001 11:21:37 +0100
From: Louis-David Mitterrand <cunctator@apartia.ch>
To: zsh-users@sunsite.auc.dk
Subject: Re: "rehash" each time a new program is installed?
Message-ID: <20010216112137.E6320@apartia.ch>
Mail-Followup-To: zsh-users@sunsite.auc.dk
References: <200102160806.JAA31948@beta.informatik.hu-berlin.de>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
User-Agent: Mutt/1.3.14i
In-Reply-To: <200102160806.JAA31948@beta.informatik.hu-berlin.de>; from wischnow@informatik.hu-berlin.de on Fri, Feb 16, 2001 at 09:06:11AM +0100
X-URL: http://www.apartia.org

On Fri, Feb 16, 2001 at 09:06:11AM +0100, Sven Wischnowsky wrote:
> 
> > } Oh, and a last one ;) Is it possible to "fignore" a file except when
> > } it's the only completion candidate (considering the typed string e.g.)?
> > 
> > That should happen already:
> > 
> > fignore <S> <Z> (FIGNORE <S>)
> >      An array (colon separated list) containing the suffixes of files
> >      to be ignored during filename completion.  However, if the
> >      completion generates only files which would match if this variable
> >      would be ignored, than these files are completed anyway.
> 
> The fact that it doesn't work out of the box might mean that he's
> using the new completion system. In that case he needs to use the
> _ignored completer, as in:
> 
>   zstyle ':completion:*' completer _complete _ignored

Great, that works!

> 
> And if he's using the new completion system, this:
> 
> > } Also, how could I have zsh not list "CVS" directories when completing
> > } paths? I tried fignore but it doesn't work.
> > 
> > I don't immediately recall any way to ignore intermediate directories in
> > a path.  It's probably possible using styles in 3.1.6 and later, but the
> > only way for 3.0.8 would be to write a "compctl -K" function and attach
> > it to the specific commands for which you don't want to see CVS.
> 
> can be solved, too. One only needs to not set $fignore, but instead
> use the ignored-patterns style, like so:
> 
>   zstyle ':completion:*:complete:*:(all-|)files' \
>       '?*~' '?*.(o|log|aux|...)' '(|*/)CVS'
>                  ^^^^^^^^^^^^^
>                     whatever suffixes one wants to have ignored
> 
> And finally: the _ignored completer can also be customized, see the
> manual/info or Peter's guide (from www.zsh.org).

I'll look it up, thank you Sven!

-- 
    OENONE: Songez-vous qu'en naissant mes bras vous ont reçue ?
            Mon pays, mes enfants, pour vous j'ai tout quitté.
                                          (Phèdre, J-B Racine, acte 1, scène 3)

