From zsh-workers-return-22498-mason-zsh=primenet.com.au@sunsite.dk Sun Jun 18 04:48:00 2006
Return-Path: <zsh-workers-return-22498-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10963 invoked from network); 18 Jun 2006 04:47:59 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.3 (2006-06-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00,
	FORGED_RCVD_HELO autolearn=ham version=3.1.3
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 18 Jun 2006 04:47:59 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 97304 invoked from network); 18 Jun 2006 04:47:53 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 18 Jun 2006 04:47:53 -0000
Received: (qmail 16749 invoked by alias); 18 Jun 2006 04:47:50 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 22498
Received: (qmail 16740 invoked from network); 18 Jun 2006 04:47:50 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 18 Jun 2006 04:47:50 -0000
Received: (qmail 97034 invoked from network); 18 Jun 2006 04:47:50 -0000
Received: from vms044pub.verizon.net (206.46.252.44)
  by a.mx.sunsite.dk with SMTP; 18 Jun 2006 04:47:48 -0000
Received: from torch.brasslantern.com ([71.116.105.50])
 by vms044.mailsrvcs.net (Sun Java System Messaging Server 6.2-4.02 (built Sep
 9 2005)) with ESMTPA id <0J1100LRJHBA1IC1@vms044.mailsrvcs.net> for
 zsh-workers@sunsite.dk; Sat, 17 Jun 2006 23:47:35 -0500 (CDT)
Received: from torch.brasslantern.com (localhost.localdomain [127.0.0.1])
	by torch.brasslantern.com (8.13.1/8.13.1) with ESMTP id k5I4lXJl000693	for
 <zsh-workers@sunsite.dk>; Sat, 17 Jun 2006 21:47:34 -0700
Received: (from schaefer@localhost)	by torch.brasslantern.com
 (8.13.1/8.13.1/Submit) id k5I4lX5c000692	for zsh-workers@sunsite.dk; Sat,
 17 Jun 2006 21:47:33 -0700
Date: Sat, 17 Jun 2006 21:47:33 -0700
From: Bart Schaefer <schaefer@brasslantern.com>
Subject: Re: Segfaulting script
In-reply-to: <20060617181417.GA19721@fsst.voodoo.lan>
To: zsh-workers@sunsite.dk
Message-id: <060617214733.ZM691@torch.brasslantern.com>
MIME-version: 1.0
X-Mailer: OpenZMail Classic (0.9.2 24April2005)
Content-type: text/plain; charset=us-ascii
References: <20060613231505.GA23239@goomba.ruder>
	<20060616110319.GB2780@fsst.voodoo.lan>
	<060617101117.ZM32743@torch.brasslantern.com>
	<20060617181417.GA19721@fsst.voodoo.lan>
Comments: In reply to Frank Terbeck <frank.terbeck@rwth-aachen.de>
 "Re: Segfaulting script" (Jun 17,  8:14pm)

On Jun 17,  8:14pm, Frank Terbeck wrote:
}
} > You can't assign values to an array in a "local" statement.
} 
} Yes, I know that the assignment does not make sense.

Certainly.  I was just pointing out for the peanut gallery exactly what
went wrong.
 
} > My guess would be that you get a segfault when the compile-time
} > setting of the maximum function depth is large enough that you run
} > out of memory before the limit is hit. There's not a whole lot we
} > can do about that.
} 
} Hm, definitely no nice, but I trust your judgement.

It might be possible to estimate a run-time value for the recursion
depth based on ulimit sizes, but some OSs are willing to overpromise on
memory allocations in the hope that all that was asked for will never
really be used.  In such a case there's no way to avoid the segfault if
more is used than truly is available.

