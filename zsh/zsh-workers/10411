From zsh-workers-return-10411-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Apr 03 11:53:01 2000
Return-Path: <zsh-workers-return-10411-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 23155 invoked from network); 3 Apr 2000 11:53:01 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 3 Apr 2000 11:53:01 -0000
Received: (qmail 6486 invoked by alias); 3 Apr 2000 11:52:47 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 10411
Received: (qmail 6473 invoked from network); 3 Apr 2000 11:52:47 -0000
Message-ID: <38E885DD.EE18A598@u.genie.co.uk>
Date: Mon, 03 Apr 2000 12:51:57 +0100
From: Oliver Kiddle <opk@u.genie.co.uk>
X-Mailer: Mozilla 4.72 [en] (Win95; I)
X-Accept-Language: en
MIME-Version: 1.0
To: The Corridor <dfavor@corridor.com>
CC: zsh-workers@sunsite.auc.dk
Subject: Re: AIX - getting dynamic modules working
References: <200003311927.MAA11630@corridor.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

The Corridor wrote:

>    1) I've tried setting $LDFLAGS in the environment and
>       running configure, but $LDFLAGS does not make it into
>       the Makefile(s).

Are you sure that you exported LDFLAGS. Try:
export LDFLAGS=whatever

This works fine for me (on AIX).

What do you actually want to put in the LDFLAGS. I use a dynamic zsh on
AIX and have never had any problems compiling it that relate to compiler
options.

>       Let me know the best way to pass in linker commands
>       to configure.

One of the best ways if you are generally using the same options is to
create a config.site shell script. This gets run by configure everytime
so lets you setup common variables. I also use it so that I keep a
single configure cache which speeds things up a lot. See the autoconf
manuals for more details.

>    2) Has anyone tried to change the zsh makefiles to use
>       libtool. If so, send me your makefiles, as this is
>       probably a better place to start.

Not that I know of and I really hope nobody does. Admittedly I haven't
looked at libtool for a few versions but the last time I did, there was
a lot that I didn't like. It seems to be primarily concerned with
allowing you to handle shared and static libraries interchangeably which
is something which I've never found to be a problem anyway. There no
attempt to use any kernel supported shared object versioning systems
used by OS's such as IRIX but it has it's own version system which
relies on a mess of symbolic links and which is fairly useless without
kernel support. It seemed to slightly miss what I considered to be the
main potential use of it - platform independence for software using
DSOs.

Oliver Kiddle

