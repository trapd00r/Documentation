From zsh-users-return-13488-mason-zsh=primenet.com.au@sunsite.dk Tue Nov 25 18:33:05 2008
Return-Path: <zsh-users-return-13488-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 20423 invoked from network); 25 Nov 2008 18:33:01 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.3 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 25 Nov 2008 18:33:01 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 14801 invoked from network); 25 Nov 2008 18:32:54 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 25 Nov 2008 18:32:54 -0000
Received: (qmail 13395 invoked by alias); 25 Nov 2008 18:32:38 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 13488
Received: (qmail 13383 invoked from network); 25 Nov 2008 18:32:38 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 25 Nov 2008 18:32:38 -0000
Received: from cluster-g.mailcontrol.com (cluster-g.mailcontrol.com [208.87.233.190])
	by bifrost.dotsrc.org (Postfix) with ESMTPS id 5CD9E80525B4
	for <zsh-users@sunsite.dk>; Tue, 25 Nov 2008 19:32:34 +0100 (CET)
Received: from cameurexb01.EUROPE.ROOT.PRI ([193.128.72.68])
	by rly28g.srv.mailcontrol.com (MailControl) with ESMTP id mAPIWVAs001997
	for <zsh-users@sunsite.dk>; Tue, 25 Nov 2008 18:32:32 GMT
Received: from news01 ([10.103.143.38]) by cameurexb01.EUROPE.ROOT.PRI with Microsoft SMTPSVC(6.0.3790.3959);
	 Tue, 25 Nov 2008 18:32:31 +0000
Date: Tue, 25 Nov 2008 18:32:30 +0000
From: Peter Stephenson <pws@csr.com>
To: "Zsh Users" <zsh-users@sunsite.dk>
Subject: Re: Zsh configuration files
Message-ID: <20081125183230.33d860d4@news01>
In-Reply-To: <b2e43f8f0811250910l7828242bnf3c8e137756b2f16@mail.gmail.com>
References: <ggbjfl$der$1@ger.gmane.org>
	<2d460de70811230730v1a79f3b3rd73a020f99b66f02@mail.gmail.com>
	<ggcv5t$a88$1@ger.gmane.org>
	<alpine.LNX.2.00.0811241643240.20698@acer.home.local>
	<b2e43f8f0811250910l7828242bnf3c8e137756b2f16@mail.gmail.com>
Organization: CSR
X-Mailer: Claws Mail 3.5.0 (GTK+ 2.12.8; i386-redhat-linux-gnu)
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 25 Nov 2008 18:32:31.0220 (UTC) FILETIME=[2D325B40:01C94F2C]
X-Scanned-By: MailControl A_08_51_00 (www.mailcontrol.com) on 10.71.0.138
X-Virus-Scanned: ClamAV 0.92.1/8679/Tue Nov 25 14:08:31 2008 on bifrost
X-Virus-Status: Clean

On Tue, 25 Nov 2008 12:10:43 -0500
"Allan Caffee" <allan.caffee@gmail.com> wrote:
> > 2. For running as root, I can just link my normal-user .zshrc and .zshenv
> > files, and it'll detect that they're linked, and use the .zsh_* files from
> > my normal-user directory
> 
> That sounds really dangerous.  You're offering a hook for someone to
> execute arbitrary code as root.  If someone breaks your user account
> they could for example add a file in your home directory that resets
> the root password or does some other really mean things.  If you want
> root to have the same setup as your regular user you should put it
> somewhere that only root can write.

It's probably worth pointing out that if you use sudo, as many people do
(it's the normal method of accessing root in a lot of places), then it will
usually execute your own start up files: the shell starts up essentially as
for the user, except with UID 0.  Furthermore, the password for accessing
root in this case is the same as the user's own.  So it seems a lot of
people aren't too worried about this aspect.  They probably tend not to be
sites accesible by the general public.

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR PLC, Churchill House, Cambridge Business Park, Cowley Road
Cambridge, CB4 0WZ, UK                          Tel: +44 (0)1223 692070

