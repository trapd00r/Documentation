From zsh-users-return-9475-mason-zsh=primenet.com.au@sunsite.dk Wed Oct 05 13:42:04 2005
Return-Path: <zsh-users-return-9475-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 11772 invoked from network); 5 Oct 2005 13:42:02 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 5 Oct 2005 13:42:02 -0000
Received: (qmail 67143 invoked from network); 5 Oct 2005 13:41:55 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 5 Oct 2005 13:41:55 -0000
Received: (qmail 23566 invoked by alias); 5 Oct 2005 13:41:48 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 9475
Received: (qmail 22418 invoked from network); 5 Oct 2005 13:35:06 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 5 Oct 2005 13:35:06 -0000
Received: (qmail 62335 invoked from network); 5 Oct 2005 13:35:06 -0000
Received: from 216.114.79.25.primarynetwork.com (HELO ns1.open-development.com) (216.114.79.25)
  by a.mx.sunsite.dk with SMTP; 5 Oct 2005 13:35:05 -0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by ns1.open-development.com (Postfix) with ESMTP id D35FB46643
	for <zsh-users@sunsite.dk>; Wed,  5 Oct 2005 08:35:02 -0500 (CDT)
Received: from ns1.open-development.com ([127.0.0.1])
 by localhost (ns1.open-development.com [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 17367-14 for <zsh-users@sunsite.dk>;
 Wed,  5 Oct 2005 08:35:02 -0500 (CDT)
Received: from bb (h-68-164-200-34.nycmny83.dynamic.covad.net [68.164.200.34])
	by ns1.open-development.com (Postfix) with ESMTP id B1BE546642
	for <zsh-users@sunsite.dk>; Wed,  5 Oct 2005 08:35:00 -0500 (CDT)
Date: Wed, 5 Oct 2005 09:34:59 -0400
From: Radu Duta <rduta@syskey.com>
To: zsh-users@sunsite.dk
Subject: question about wait in interactive mode
Message-ID: <20051005133459.GA25549@syskey.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.5.9i
X-Virus-Scanned: amavisd-new at open-development.com
X-Spam-Checker-Version: SpamAssassin 3.0.4 (2005-06-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.0.4

I have a scriptlet that behaves differently then I would expect.  This only
happens on the command line.  Running a script script file with those same
lines works as expected and the code returns after printing the 3 lines.

In bash it works as I thought it would, but zsh gets stuck in what looks like a
wait deadlock.

Does anybody know what is going on?  This is 4.2.4

cat <<END |
a
b
c
END
(
for f in `cat`
do
/bin/echo $f &
done
wait
)

Thanks.

