From zsh-users-return-8371-mason-zsh=primenet.com.au@sunsite.dk Thu Jan 13 21:24:00 2005
Return-Path: <zsh-users-return-8371-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8763 invoked from network); 13 Jan 2005 21:23:59 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 13 Jan 2005 21:23:59 -0000
Received: (qmail 66692 invoked from network); 13 Jan 2005 21:23:53 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 13 Jan 2005 21:23:53 -0000
Received: (qmail 24183 invoked by alias); 13 Jan 2005 21:23:44 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8371
Received: (qmail 24173 invoked from network); 13 Jan 2005 21:23:44 -0000
Received: from unknown (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 13 Jan 2005 21:23:44 -0000
Received: (qmail 65535 invoked from network); 13 Jan 2005 21:23:28 -0000
Received: from lorien.emufarm.org (HELO lorien.comfychair.org) (64.81.48.166)
  by a.mx.sunsite.dk with SMTP; 13 Jan 2005 21:23:24 -0000
Received: from lorien.comfychair.org (localhost [127.0.0.1])
	by lorien.comfychair.org (8.12.11/8.12.4) with ESMTP id j0DLNpmS027184
	for <zsh-users@sunsite.dk>; Thu, 13 Jan 2005 13:23:51 -0800
Received: (from duvall@localhost)
	by lorien.comfychair.org (8.12.11/8.12.11/Submit) id j0DLNpwk027183
	for zsh-users@sunsite.dk; Thu, 13 Jan 2005 13:23:51 -0800
Date: Thu, 13 Jan 2005 13:23:51 -0800
From: Danek Duvall <duvall@comfychair.org>
To: Zsh users list <zsh-users@sunsite.dk>
Subject: Re: egrep with zsh as /bin/sh - wordsplitting
Message-ID: <20050113212351.GD11826@lorien.comfychair.org>
Mail-Followup-To: Danek Duvall <duvall@comfychair.org>,
	Zsh users list <zsh-users@sunsite.dk>
References: <2005-01-13T17-30-35@devnull.michael-prokop.at>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <2005-01-13T17-30-35@devnull.michael-prokop.at>
User-Agent: Mutt/1.5.6i
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=0.1 required=6.0 tests=FORGED_RCVD_HELO 
	autolearn=ham version=3.0.2
X-Spam-Hits: 0.1

On Thu, Jan 13, 2005 at 09:50:18PM +0100, Michael Prokop wrote:

> Why does the original egrep version use ${1+"$@"} and not
> "$@" or "${1+"$@"}"?

My understanding is that if you write "$@", then with no arguments, in some
shells it becomes "" (i.e., an argument, but with no length), and that's
not actually what you want.  ${1+"$@"} only adds something if there are any
arguments.

I don't know if this is a problem on any modern shell, though.

Danek

