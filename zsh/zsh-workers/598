From zsh-workers-request@math.gatech.edu  Sun Nov 12 13:00:49 1995
Received: from math.gatech.edu (euclid.skiles.gatech.edu [130.207.146.50]) by werple.net.au (8.7/8.7.1) with SMTP id NAA20958 for <mason@werple.mira.net.au>; Sun, 12 Nov 1995 13:00:43 +1100 (EST)
Received: by math.gatech.edu (5.x/SMI-SVR4)
	id AA23190; Sat, 11 Nov 1995 20:49:39 -0500
Resent-Date: 12 Nov 1995 01:51:27 U
Old-Return-Path: <heading_anthony@jpmorgan.com>
Message-Id: <n1395999439.7422@smtpgwprod.ny.jpmorgan.com>
Date: 12 Nov 1995 01:51:27 U
From: "Heading, Anthony" <heading_anthony@jpmorgan.com>
Subject: RE: PUSHD_TO_HOME problem
To: "Danek Duvall" <duvall@dhduvall.student.Princeton.EDU>
Cc: zsh-workers@math.gatech.edu
X-Mailer: Mail*Link SMTP-MS 3.0.1
Resent-Message-Id: <"CVKOv1.0.Dg5.oALfm"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/598
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

> However, I don't like the behaviour your patch produces.
Oh dear.  Sorry about that.

> I want cd to be able to swap the top two dirs, just like pushd does. [...]
> Obviously, it's not that big a deal; I can alias cd to pushd if I want.

You can indeed. That was really all that AUTO_PUSHD used to do.  But the
consequence was that a naked cd "broke", hence the need for PUSHD_TO_HOME.

I hope my patch allows for all comers.  The old behaviour is exactly
replicable, I think, by aliasing cd to pushd.  But if you don't alias
you get cd=>home and pushd=>swap, which I think is more useful. Not to
mention the extra behaviour of the +n stuff.

> the way I interpret AUTO_PUSHD is like the manual says:
> `Make cd act like pushd.'

Hmm. It's a fair cop, guv'nor.

Anthony


*** zshoptions.1.Orig	Sun Nov 12 01:09:56 1995
--- zshoptions.1	Sun Nov 12 01:17:36 1995
***************
*** 57,63 ****
  then add a trailing slash.
  .TP
  \fBAUTO_PUSHD\fP (\-\fBN\fP)
! Make \fBcd\fP act like \fBpushd\fP.
  .TP
  \fBAUTO_REMOVE_SLASH\fP
  When the last character resulting from a completion is a slash and the next
--- 57,63 ----
  then add a trailing slash.
  .TP
  \fBAUTO_PUSHD\fP (\-\fBN\fP)
! Make \fBcd\fP push the old directory onto the directory stack.
  .TP
  \fBAUTO_REMOVE_SLASH\fP
  When the last character resulting from a completion is a slash and the next

