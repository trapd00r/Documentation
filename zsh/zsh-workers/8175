From zsh-workers-return-8175-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Oct 07 21:25:22 1999
Return-Path: <zsh-workers-return-8175-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1396 invoked from network); 7 Oct 1999 21:25:21 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 7 Oct 1999 21:25:21 -0000
Received: (qmail 21656 invoked by alias); 7 Oct 1999 21:25:15 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 8175
Received: (qmail 21649 invoked from network); 7 Oct 1999 21:25:14 -0000
To: zsh-workers@sunsite.auc.dk
Subject: Reasons for not wanting EXTENDED_GLOB interactively (was Re: PATCH:...)
References: <E11ZHMN-0002mM-00@crucigera.fysh.org>
From: Bruce Stephens <bruce@cenderis.demon.co.uk>
Date: 07 Oct 1999 21:32:19 +0100
In-Reply-To: Zefram's message of "Thu, 7 Oct 1999 18:29:43 +0100 (BST)"
Message-ID: <871zb6zzcc.fsf@cenderis.demon.co.uk>
User-Agent: Gnus/5.070096 (Pterodactyl Gnus v0.96) XEmacs/21.1 (Biscayne)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Lines: 23

Zefram <zefram@fysh.org> writes:

> I find it difficult to believe that anything actually relies on
> "emulate zsh" *not* resetting EXTENDED_GLOB.

This isn't really on the same subject, but a colleague wanted to
delete files beginning .# in a directory a few days ago (they're
created by Emacs ediffing files with versions or something), and did:

        rm .#*

(Don't try this at home.)

I'm not sure whether this is a bug in zsh.  After all, the "rm *"
warning is a special case (and useful, too, IMHO).

Hmm, how about changing the implementation of the check?  Presumably
the current test looks for * explicitly; an alternative (slightly more
expensive) would be to do the expansion and see if it includes all of
the files or not, and if it does, issue the warning.  

In fact, one could probably do this as a shell function, instead.
That probably makes more sense.

