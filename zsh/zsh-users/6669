From zsh-users-return-6669-mason-zsh=primenet.com.au@sunsite.dk Thu Oct 09 13:26:01 2003
Return-Path: <zsh-users-return-6669-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9398 invoked from network); 9 Oct 2003 13:26:01 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 9 Oct 2003 13:26:01 -0000
Received: (qmail 29487 invoked by alias); 9 Oct 2003 13:25:46 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 6669
Received: (qmail 29438 invoked from network); 9 Oct 2003 13:25:46 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 9 Oct 2003 13:25:46 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [195.212.29.140] by sunsite.dk (MessageWall 1.0.8) with SMTP; 9 Oct 2003 13:25:46 -0000
Received: from d06relay02.portsmouth.uk.ibm.com (d06relay02.uk.ibm.com [9.166.84.148])
	by mtagate7.uk.ibm.com (8.12.10/8.12.10) with ESMTP id h99DPEp1047570;
	Thu, 9 Oct 2003 13:25:26 GMT
Received: from koetsu.ibm.com (d06av02.portsmouth.uk.ibm.com [9.149.37.228])
	by d06relay02.portsmouth.uk.ibm.com (8.12.9/NCO/VER6.6) with ESMTP id h99DOtrh183532;
	Thu, 9 Oct 2003 14:24:58 +0100
Received: from localhost (localhost [127.0.0.1])
	by koetsu.ibm.com (Postfix) with ESMTP
	id CB896AEFF3; Thu,  9 Oct 2003 14:21:46 +0100 (BST)
Received: from uk.ibm.com (localhost [127.0.0.1])
	by koetsu.ibm.com (Postfix) with ESMTP
	id 78CF3AEFF2; Thu,  9 Oct 2003 14:21:42 +0100 (BST)
Message-ID: <3F8560E5.3080904@uk.ibm.com>
Date: Thu, 09 Oct 2003 14:21:41 +0100
From: Cosmo <cosmo@uk.ibm.com>
Organization: IBM Informix
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en, en-us
MIME-Version: 1.0
To: Mads Martin Joergensen <mmj@suse.de>
Cc: zsh-users@sunsite.dk
Subject: Re: Debugging a test
References: <20031009121008.GD28237@suse.de> <20031009122355.GA26014@ppe.happygiraffe.net> <20031009125044.GC25849@suse.de>
In-Reply-To: <20031009125044.GC25849@suse.de>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: by AMaViS 0.3.12pre8

Mads Martin Joergensen wrote:
> 
> 
> 
> * Dominic Mitchell <dom@happygiraffe.net> [Oct 09. 2003 14:24]:
> 
>>>When running V01zmodload.ztst in an environment with a profiling
> 
> enabled
> 
>>>gcc, zsh hangs burning 99.9% CPU. Adding an strace to the process gives
>>>no output at all.
>>>
>>>So I was wondering how to enable some kind of debug info to the module
>>>in order to have it e.g. print how far it gets, in order to nail down
>>>what causes the loop?
>>
>>If you've got it installed, try ltrace instead of strace.
> 
> 
> Same effect. Nothing happens, no output at all.

You're in a tight loop somewhere, not making any library or system calls.
Attach to the process with a debugger and get a stack trace.




Cosmo

