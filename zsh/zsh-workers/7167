From zsh-workers-return-7167-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Jul 16 08:26:30 1999
Return-Path: <zsh-workers-return-7167-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18424 invoked from network); 16 Jul 1999 08:26:28 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 16 Jul 1999 08:26:27 -0000
Received: (qmail 9795 invoked by alias); 16 Jul 1999 08:26:20 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7167
Received: (qmail 9787 invoked from network); 16 Jul 1999 08:26:19 -0000
To: zsh-workers@sunsite.auc.dk
Path: mason
From: mason@primenet.com.au (Geoff Wing)
X-Newsgroups: lists.zsh.workers
Subject: Re: Bad optimisations: (Was: Test version zsh-3.1.6-test-1)
Date: 16 Jul 1999 08:26:13 GMT
Organization: PrimeNet Computer Consultants
Lines: 23
Distribution: local
Message-ID: <slrn7otr55.fbr.mason@coral.primenet.com.au>
References: Geoff Wing's message of Fri, 16 Jul 1999 02:20:52 +1000 <199907160634.IAA14160@beta.informatik.hu-berlin.de>
Reply-To: mason@primenet.com.au
NNTP-Posting-Host: coral.primenet.com.au
X-Trace: coral.primenet.com.au 932113573 15785 203.43.15.2 (16 Jul 1999 08:26:13 GMT)
X-Complaints-To: usenet@coral.primenet.com.au
NNTP-Posting-Date: 16 Jul 1999 08:26:13 GMT
User-Agent: slrn/0.9.5.6 (UNIX)

Sven Wischnowsky <wischnow@informatik.hu-berlin.de> typed:
:Geoff Wing wrote:
:> What about just expanding it slightly (with appropriate comments of course)
:> instead of duplicating it.
:> e.g.
:>     if (*args && **args == '?')
:>         args++;
:>     /* default result parameter */
:>     if (*args)
:>         reply = *args++;
:>     else
:>         reply = ops['A'] ? "reply" : "REPLY";
:Note this isn't intended as an optimisation (of course), but to work
:around a bug in gcc-2.8.1 under DU.

I thought it may be a gcc optimisation bug.  i.e. Does it appear at -O0 or
-01 or -O2?  All of them?

Regards,
-- 
Geoff Wing : <gcw@pobox.com>     Work URL: http://www.primenet.com.au/
Rxvt Stuff : <gcw@rxvt.org>      Ego URL : http://pobox.com/~gcw/
Zsh Stuff  : <gcw@zsh.org>       Phone   : (Australia) 0413 431 874

