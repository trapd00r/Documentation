From zsh-users-return-8220-mason-zsh=primenet.com.au@sunsite.dk Tue Nov 16 14:38:19 2004
Return-Path: <zsh-users-return-8220-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5942 invoked from network); 16 Nov 2004 14:38:18 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 16 Nov 2004 14:38:18 -0000
Received: (qmail 30784 invoked from network); 16 Nov 2004 14:38:11 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 16 Nov 2004 14:38:11 -0000
Received: (qmail 23535 invoked by alias); 16 Nov 2004 14:37:20 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8220
Received: (qmail 23521 invoked from network); 16 Nov 2004 14:37:19 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 16 Nov 2004 14:37:19 -0000
Received: (qmail 29477 invoked from network); 16 Nov 2004 14:37:19 -0000
Received: from smtp-out5.blueyonder.co.uk (195.188.213.8)
  by a.mx.sunsite.dk with SMTP; 16 Nov 2004 14:37:16 -0000
Received: from sc ([82.41.208.120]) by smtp-out5.blueyonder.co.uk with Microsoft SMTPSVC(5.0.2195.6713);
	 Tue, 16 Nov 2004 14:32:23 +0000
Date: Tue, 16 Nov 2004 14:31:44 +0000
From: Stephane Chazelas <Stephane_Chazelas@yahoo.fr>
To: zsh-users@sunsite.dk
Subject: Re: !!:$
Message-ID: <20041116143144.GA23971@sc>
Mail-Followup-To: zsh-users@sunsite.dk
References: <20041116134539.GB14064@pegleg.valdosta.edu> <200411161422.iAGEMTuv032704@news01.csr.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
In-Reply-To: <200411161422.iAGEMTuv032704@news01.csr.com>
User-Agent: Mutt/1.5.6i
X-OriginalArrivalTime: 16 Nov 2004 14:32:23.0257 (UTC) FILETIME=[16252C90:01C4CBE9]
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: *
X-Spam-Status: No, hits=1.5 required=6.0 tests=RCVD_IN_SORBS autolearn=no 
	version=2.63
X-Spam-Hits: 1.5

On Tue, Nov 16, 2004 at 02:22:28PM +0000, Peter Stephenson wrote:
[...]
> me as a curious omission.  How about adding it using the same name as
> bash?  Then you can always get the full previous line as
> $history[$((HISTCMD-1))].  Hence you can do lots of tricks.  The
> equivalent of the above would be:
> 
[...]
> +vindex(HISTCMD)
> +item(tt(HISTCMD))(
> +The current history line number in an interactive shell, in other
> +words the line number for the command that caused tt($HISTCMD)
> +to be read.
> +)
[...]

Wouldn't it be the same as ${(%):-%!}?

-- 
Stéphane

