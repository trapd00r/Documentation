From zsh-workers-request@math.gatech.edu Mon Feb 23 09:30:36 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 11311 invoked from network); 23 Feb 1998 09:30:35 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 23 Feb 1998 09:30:35 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id EAA13071;
	Mon, 23 Feb 1998 04:21:24 -0500 (EST)
Resent-Date: Mon, 23 Feb 1998 04:21:24 -0500 (EST)
Message-Id: <199802230923.KAA03818@hydra.ifh.de>
To: Bernd Eggink <eggink@rrz.uni-hamburg.de>,
        zsh-workers@math.gatech.edu (Zsh hackers list)
Subject: Re: Treatment of illegal indices 
In-reply-to: "Bernd Eggink"'s message of "Sun, 22 Feb 1998 16:07:40 MET."
             <34F03F3C.5FFA09E@rrz.uni-hamburg.de> 
Date: Mon, 23 Feb 1998 10:23:21 +0100
From: Peter Stephenson <pws@ifh.de>
Resent-Message-ID: <"bxrsD2.0.7C3.J-Jyq"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3782
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Bernd Eggink wrote:
> The way zsh treats illegal array indices is pretty ugly. It simply
> replaces indices which are 0 (with KSH_ARRAYS unset) or < -length by 1.
>
> Possible improvements could be:
> 
> c) Print an error message if an illegal index is used on the left      
> side of an assignment, return an empty value otherwise.

I think this is better; it's fairly standard for interpreted languages.
The `feature' that 0 is treated as 1 has been around for a long time,
but since KSH_ARRAYS it's probably time it went.  You are supposed to
be able to extend arrays by assignment, remember:  some time ago there
was an argument about whether

23456789=''

using up a lot of memory was a bug, and it was decided it wasn't.

-- 
Peter Stephenson <pws@ifh.de>       Tel: +39 50 911239
WWW:  http://www.ifh.de/~pws/
Gruppo Teorico, Dipartimento di Fisica
Piazza Torricelli 2, 56100 Pisa, Italy

