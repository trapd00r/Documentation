From zsh-workers-return-9050-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Dec 14 23:44:40 1999
Return-Path: <zsh-workers-return-9050-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 29097 invoked from network); 14 Dec 1999 23:44:39 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 14 Dec 1999 23:44:39 -0000
Received: (qmail 27516 invoked by alias); 14 Dec 1999 23:44:34 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 9050
Received: (qmail 27509 invoked from network); 14 Dec 1999 23:44:34 -0000
To: zsh-workers@sunsite.auc.dk
Subject: Re: PATCH: hierarchical module names 
In-reply-to: "zefram@fysh.org"'s message of "Tue, 14 Dec 1999 17:07:46 GMT."
             <199912141707.RAA31154@mango.dublin.iona.ie> 
Date: Tue, 14 Dec 1999 23:45:32 +0000
From: Peter Stephenson <pws@pwstephenson.fsnet.co.uk>
Message-Id: <E11y1cO-0003fh-00.1999-12-14-23-44-33@mail1.svr.pol.co.uk>

zefram@fysh.org wrote:
> Each existing module `foo' is renamed to `zsh/foo', except that the `zsh'
> module is renamed to `zsh/main'.  We should decide at this point whether
> all the modules distributed with zsh will always go into the `zsh/'
> namespace, or whether we can also bundle modules in other namespaces
> (should `zsh/zprof' be `sven/zprof', for example).

I don't like this bit.  It means zmodload behaves differently from the way
it's done for several years now.  I don't see why the main modules
shouldn't keep their old names.  Indeed, if you can arrange (and I don't
see why you can't, given the suffix on the module itself) that both
`modname' and `modname/mymod' can exist as modules (i.e. you can have
modname.so and modname/mymod.so), there's no reason why we shouldn't just
tell people supplying modules separately to use an arbitrary prefix and
keep bundled ones (even new bundled ones) without.  I don't see this part
of the change being very popular otherwise.

Or, if you prefer, you can make a name without a slash equivalent to the
same with zsh/ stuck in front.  That might be the simplest.

> * There is no way to load a module from a specified filename.  There
>   should probably be a distinct option for this, if the capability is
>   to exist at all.

I don't think this is a worry; you can write a function with some $fpath
trickery if you're desparate.

-- 
Peter Stephenson <pws@pwstephenson.fsnet.co.uk>

