From zsh-workers-return-27016-mason-zsh=primenet.com.au@sunsite.dk Thu May 28 22:56:51 2009
Return-Path: <zsh-workers-return-27016-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2949 invoked from network); 28 May 2009 22:56:48 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.5
Received: from new-brage.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.254.104)
  by ns1.primenet.com.au with SMTP; 28 May 2009 22:56:48 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 52486 invoked from network); 28 May 2009 22:56:42 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 28 May 2009 22:56:42 -0000
Received: (qmail 4481 invoked by alias); 28 May 2009 22:56:35 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 27016
Received: (qmail 4468 invoked from network); 28 May 2009 22:56:34 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 28 May 2009 22:56:34 -0000
Received: from QMTA08.westchester.pa.mail.comcast.net (qmta08.westchester.pa.mail.comcast.net [76.96.62.80])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 17AE5801E289
	for <zsh-workers@sunsite.dk>; Fri, 29 May 2009 00:56:30 +0200 (CEST)
Received: from OMTA05.westchester.pa.mail.comcast.net ([76.96.62.43])
	by QMTA08.westchester.pa.mail.comcast.net with comcast
	id x1Fc1b0080vyq2s58AwXiy; Thu, 28 May 2009 22:56:31 +0000
Received: from smtp.klanderman.net ([98.217.254.247])
	by OMTA05.westchester.pa.mail.comcast.net with comcast
	id xAwW1b00t5M2Np63RAwWc5; Thu, 28 May 2009 22:56:31 +0000
Received: from lwm.klanderman.net (unknown [192.168.100.50])
	by smtp.klanderman.net (Postfix) with ESMTP id 78024B30144
	for <zsh-workers@sunsite.dk>; Thu, 28 May 2009 18:56:29 -0400 (EDT)
Received: by lwm.klanderman.net (Postfix, from userid 500)
	id 4C7069FC61B; Thu, 28 May 2009 18:56:29 -0400 (EDT)
From: Greg Klanderman <gak@klanderman.net>
To: zsh-workers@sunsite.dk
Subject: Re: PATCH: Add CORRECT_NOCOMPSYS option
Reply-To: gak@klanderman.net
Date: Thu, 28 May 2009 18:56:29 -0400
In-Reply-To: <20090528203552.36019db3@pws-pc> (Peter Stephenson's message of "Thu, 28 May 2009 20:35:52 +0100")
Message-ID: <m3prdsbzvm.fsf@klanderman.net>
User-Agent: Gnus/5.1007 (Gnus v5.10.7) XEmacs/21.4.17 (linux)
References: <1238890030-4683-1-git-send-email-ft@bewatermyfriend.org>
	<090404193718.ZM19801@torch.brasslantern.com>
	<20090405191304.1908fca8@pws-pc>
	<090405151115.ZM13159@torch.brasslantern.com>
	<20090406100929.505617e2@news01>
	<2d460de70905270930j681da6a5kf7848d67d89f0c69@mail.gmail.com>
	<20090527175941.3bbe2eba@news01> <m37i02cqd9.fsf@klanderman.net>
	<2d460de70905280148iebfcegcb4143c33e510efd@mail.gmail.com>
	<20090528092514.GA3315@fsst.voodoo.lan>
	<m3vdnlawz2.fsf@klanderman.net> <20090528203552.36019db3@pws-pc>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Scanned: ClamAV 0.94.2/9403/Fri May 29 00:08:10 2009 on bifrost
X-Virus-Status: Clean


>>>>> Peter Stephenson <p.w.stephenson@ntlworld.com> writes:

> It's probably where the references to GLOBDOTS are in
> Src/Zle/computil.c.  See if .'s stop being ignored when GLOBDOTS is
> turned on;

Yep, 'setopt globdots' stops the '.'-files from being ignored, so that
gives me somewhere to start.

> if so, ^x? will produce trace output that should show you if
> the effect of the glob is being produced within the shell function
> suite, or is hidden somewhere, which would probably be compfiles.

> _path_files makes undocumented and somewhat cryptic calls to compfiles,

Yeah, I've traced into there once or twice, gotten really lost, and
eventually given up.  So I'll probably put this aside for now until I
am feeling more adventurous.. the dearth of useful comments makes it
rather impenetrable without large blocks of time to spend on this.

Like I just spent a while trying to understand the two uses of
GLOBDOTS in computil.c, attempting to reconcile why those two uses
appear in similar looking but logically very different expressions,
and wondering if one of those expressions is wrong.

>From your past comments Peter, I've inferred that this code is all due
to a group of contributors who are no longer active, is that right?

thanks,
Greg

