From zsh-workers-request@math.gatech.edu Tue Dec 15 22:34:55 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9034 invoked from network); 15 Dec 1998 22:34:54 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 15 Dec 1998 22:34:54 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.9.1/8.9.1) id RAA22044;
	Tue, 15 Dec 1998 17:33:50 -0500 (EST)
Resent-Date: Tue, 15 Dec 1998 17:33:50 -0500 (EST)
Message-ID: <19981215150450.26424@athenaeum.demon.co.uk>
Date: Tue, 15 Dec 1998 15:04:50 +0000
From: Phil Pennock <phil@athenaeum.demon.co.uk>
To: Zsh Development Workers <zsh-workers@math.gatech.edu>
Subject: Bug in completing named dirs (pws-3)?
Mail-Followup-To: Zsh Development Workers <zsh-workers@math.gatech.edu>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 0.89.1
Organisation: Organisation?  Here?  No, over there ---->
X-Disclaimer: Any views expressed in this message, where not explicitly
	attributed otherwise, are mine and mine alone.  Such views
	do not necessarily coincide with those of any organisation
	or company with which I am or have been affiliated.
X-Phase-of-Moon: The Moon is Waning Crescent (11% of Full)
Resent-Message-ID: <"jxReQ3.0.NO5.EFkTs"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/4810
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Using 3.1.5-pws-3, there seems to be something curious with named dirs
completion.  Tab completion removes the tilde.

This holds for 'zsh -f' defaults, and for any of:
 (1) compctl -D -f
 (2) compctl -g '*(D-/)' cd
 (3) compctl -K cdmatch -S '' + -g '*(D-/)' cd
      (where cdmatch is that distributed in 3.1.5-pws-3)

For these examples, cursor is at end of 'Result' string, state is
'zsh -f' with PS1 changed:

% cd ~<TAB>
Result "% cd "
% cd ~p<TAB>
Result "% cd p"
% cd ~ph<TAB>
Result "% cd phil/"

When there are multiple possible completions, extra tabs will cycle
through the names of the dirs, even though there is no longer a leading
tilde.  The above were in vi-mode, although it seems to be the case in
emacs mode too.

HTH the ZLE-hackers.
-- 
--> Phil Pennock ; GAT d- s+:+ a22 C++(++++) UL++++/I+++/S+++/H+ P++@ L+++
E-@ W(+) N>++ o !K w--- O>+ M V !PS PE Y+ PGP+ t-- 5++ X+ R !tv b++>+++ DI+ D+
G+ e+ h* r y?

