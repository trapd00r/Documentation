From zsh-users-return-11788-mason-zsh=primenet.com.au@sunsite.dk Tue Aug 21 05:22:59 2007
Return-Path: <zsh-users-return-11788-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 14889 invoked from network); 21 Aug 2007 05:22:54 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.1 (2007-05-02) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.1
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 21 Aug 2007 05:22:54 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 19995 invoked from network); 21 Aug 2007 05:22:48 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 21 Aug 2007 05:22:48 -0000
Received: (qmail 24622 invoked by alias); 21 Aug 2007 05:22:37 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 11788
Received: (qmail 24613 invoked from network); 21 Aug 2007 05:22:37 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 21 Aug 2007 05:22:37 -0000
Received: (qmail 18344 invoked from network); 21 Aug 2007 05:22:37 -0000
Received: from vms040pub.verizon.net (206.46.252.40)
  by a.mx.sunsite.dk with SMTP; 21 Aug 2007 05:22:31 -0000
Received: from torch.brasslantern.com ([71.116.91.65])
 by vms040.mailsrvcs.net (Sun Java System Messaging Server 6.2-6.01 (built Apr
 3 2006)) with ESMTPA id <0JN300FQ2YWZEOF2@vms040.mailsrvcs.net> for
 zsh-users@sunsite.dk; Tue, 21 Aug 2007 00:22:12 -0500 (CDT)
Received: from torch.brasslantern.com (localhost.localdomain [127.0.0.1])
	by torch.brasslantern.com (8.13.1/8.13.1) with ESMTP id l7L5MAKn011295; Mon,
 20 Aug 2007 22:22:11 -0700
Received: (from schaefer@localhost)	by torch.brasslantern.com
 (8.13.1/8.13.1/Submit) id l7L5MA1U011294; Mon, 20 Aug 2007 22:22:10 -0700
Date: Mon, 20 Aug 2007 22:22:10 -0700
From: Bart Schaefer <schaefer@brasslantern.com>
Subject: Re: Bug involving subshell exit status in functions fixed?
In-reply-to: <de0943590708202058lb49dd4er5fcccbe675fadbd9@mail.gmail.com>
To: "Nathan Collins" <nathan.collins@gmail.com>, zsh-users@sunsite.dk
Message-id: <070820222210.ZM11293@torch.brasslantern.com>
MIME-version: 1.0
X-Mailer: OpenZMail Classic (0.9.2 24April2005)
Content-type: text/plain; charset=us-ascii
References: <de0943590708202058lb49dd4er5fcccbe675fadbd9@mail.gmail.com>
Comments: In reply to "Nathan Collins" <nathan.collins@gmail.com>
 "Bug involving subshell exit status in functions fixed?" (Aug 20, 10:58pm)

On Aug 20, 10:58pm, Nathan Collins wrote:
}
} So, although I can't find a mention of it because I don't know what to
} search for, I think this is a bug that's fixed in the development
} version of zsh.

2006-03-02  Peter Stephenson  <p.w.stephenson@ntlworld.com>

        * 22317: Src/builtins.c, Src/exec.c: exiting the shell from
        code forked from within a function doesn't maintain the
        exit status.

} Is there a work around for this in 4.2.3 (the version
} installed on the machines where my script will be run is actually
} 4.2.0, but it has the same "problem" as 4.2.3)?

I'm not aware of any workaround.  It appears (from the ChangeLog) that
this patch has been applied on the 4.2 CVS branch but post-dates the
most recent release on that branch (which is now 20 months ago).

