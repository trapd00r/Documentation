From zsh-users-return-15562-mason-zsh=primenet.com.au@zsh.org Mon Nov 22 16:34:59 2010
Return-Path: <zsh-users-return-15562-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24108 invoked by alias); 22 Nov 2010 16:34:59 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 15562
Received: (qmail 27342 invoked from network); 22 Nov 2010 16:34:57 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.0 required=5.0 tests=BAYES_00,DKIM_SIGNED,
	DKIM_VALID,DKIM_VALID_AU,FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,
	T_TO_NO_BRKTS_FREEMAIL autolearn=ham version=3.3.1
Received-SPF: pass (ns1.primenet.com.au: SPF record at _spf.google.com designates 209.85.215.43 as permitted sender)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:date:from:to:subject
         :message-id:mime-version:content-type:content-disposition:user-agent;
        bh=Rb7b2qTxASxVvDhM4k++faZosGFPW51BZT4xJTl6hAU=;
        b=YGHzON3GJTLOe2uQK4LjquggrVXk/JTiGDaUQHa//1Ya4u0C3f4bpBxWObnCC71v7t
         QmGqLXdUETe6Eu05S+CGINev/ef1BwJBC5fjt7XH6Bl6PNtIm4ejpAJxKAF1+QMLt97i
         H6ZQY1GhCTn4afBSkjWmOLwNrAGgBFnAep3hI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=date:from:to:subject:message-id:mime-version:content-type
         :content-disposition:user-agent;
        b=A0fOPQCQfQuU7m4SvSAmBIgpA+2WaqlHe5tFz0sopmRc213km7S83Ou7EE7xm9VygI
         ZuWAR9RU0Jg+FPFcMaVSQCTnnHUFbZU6ekkU69MdgHS8ErcCSn7LBR90QvdqiJnWgGhI
         nnPKGa5Cm0WPD02v2XIL9aRoTZd9MbQx6+LXg=
Date: Mon, 22 Nov 2010 11:34:47 -0500
From: darwin <darwinskernel@gmail.com>
To: zsh-users@zsh.org
Subject: *don't* fail when bck-i-search is over
Message-ID: <20101122163447.GA2658@WALL-E>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.5.18-muttng (2008-05-17)

hello,

i've this in .zshrc

zle-line-init(){
	zle history-incremental-search-backward }
	#zle -K vicmd;}
zle -N zle-line-init
bindkey -M isearch "^I" vi-repeat-search
# bindkey -M isearch "^I" history-incremental-search-forward

1. it _almost_ does what i want it to do which is to start off on bck-i-search. the idea is that with cli as the main interface, user have issued his most commonly used commands already and so it makes more sense to look into .histfile (or whereever) first. as a result the system is now screaming. well, it's all great util user wants to issue a never-issued-before command. one way to do this is to get out of bck-i-search and do it there (viins, vicmd, what have you). but a more elegent solution, i think, is to have shell start digging the $PATH for possible completions once it's done with the .histfile. that way performance wouldn't be comprimised and user is still doing the same thing (keep begging the tab) to get to where he wants to go. is there a way to do that? 

2. the commented lines are what i had before. with all my _elegant_ solutions there are still situations when i would still want to edit a command and that's when i would prefer to go back to vicmd (it's a matter of muscle mm really). but with my current setting:
	bindkey -M isearch '^[' send-break
hitting esc gets me out of bck-i-search and dumps me into emacs! i even tried with
	bindkey -v
but that's half-baked because i esc bck-i-search into viins and not vicmd. i would appreciate any help with this one also and thanks in advance.

