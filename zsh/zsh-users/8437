From zsh-users-return-8437-mason-zsh=primenet.com.au@sunsite.dk Fri Jan 28 16:26:11 2005
Return-Path: <zsh-users-return-8437-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2937 invoked from network); 28 Jan 2005 16:26:10 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 28 Jan 2005 16:26:10 -0000
Received: (qmail 61136 invoked from network); 28 Jan 2005 16:26:03 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 28 Jan 2005 16:26:03 -0000
Received: (qmail 19010 invoked by alias); 28 Jan 2005 16:25:54 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8437
Received: (qmail 18994 invoked from network); 28 Jan 2005 16:25:54 -0000
Received: from unknown (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 28 Jan 2005 16:25:54 -0000
Received: (qmail 59925 invoked from network); 28 Jan 2005 16:25:20 -0000
Received: from wproxy.gmail.com (64.233.184.193)
  by a.mx.sunsite.dk with SMTP; 28 Jan 2005 16:25:15 -0000
Received: by wproxy.gmail.com with SMTP id 69so421204wra
        for <zsh-users@sunsite.dk>; Fri, 28 Jan 2005 08:25:14 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=nkj+PjPPIktGy14zOwleU9513X8OInm/vxn2k2m2SRaQojvdJe5bhjLP3C9agUTcaEfuyJEX1wyNkx/bgag233mjzGZGfxV8+8JCMupNbVoLzYttgqnsO4C1YvzCNMCHuEfgF/GwqLDI8vJ2kkmYzob6U4WGZe8kMgdxN4nqYOA=
Received: by 10.54.30.70 with SMTP id d70mr252727wrd;
        Fri, 28 Jan 2005 08:25:14 -0800 (PST)
Received: by 10.54.36.1 with HTTP; Fri, 28 Jan 2005 08:25:13 -0800 (PST)
Message-ID: <44613de00501280825265c7f4a@mail.gmail.com>
Date: Fri, 28 Jan 2005 11:25:13 -0500
From: Shawn Halpenny <paxunix@gmail.com>
Reply-To: Shawn Halpenny <paxunix@gmail.com>
To: zsh-users@sunsite.dk
Subject: Re: can't complete .. paths with 4.2.3
In-Reply-To: <1050128030646.ZM11582@candle.brasslantern.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <44613de005012718295387a145@mail.gmail.com>
	 <1050128030646.ZM11582@candle.brasslantern.com>
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.0 required=6.0 tests=AWL,BAYES_00,RCVD_BY_IP 
	autolearn=ham version=3.0.2
X-Spam-Hits: -2.0

On Fri, 28 Jan 2005 03:06:46 +0000, Bart Schaefer
<schaefer@brasslantern.com> wrote:
> On Jan 27,  9:29pm, Shawn Halpenny wrote:
> }
> } With zsh 4.2.3, on AIX, HP-UX and Solaris, if I use the completion
> } system I can't complete a path that starts with '..' .
> 
> Is there any particular context in which you're completing these files?
> I can't reproduce this on linux with completion after "ls", but that
> doesn't mean it might not happen with some other command.
> 
> Have you tried deleting your .zcompdump file?
> 

Yes, with no effect.  The context doesn't seem to make any difference
at all.  I tried completing after 'echo' and 'ls' and 'grep' and if
the path starts with .. no completions are listed.  Furthermore, it
seems if .. is anywhere in the path, no completions are returned.

I tried removing the functions.zwc that contains the precompiled
functions for local/share/zsh/4.2.3/functions but nothing changed.

I tried completing 'echo ../' with trace enabled and noticed that tmp1
after the call to compfiles (line 345 of _path_files) was empty,
whereas on Cygwin, it had the list of files in the parent dir.

(I can post the trace to the list but didn't want to force 439 lines
of junk on anyone.)

