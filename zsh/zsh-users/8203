From zsh-users-return-8203-mason-zsh=primenet.com.au@sunsite.dk Thu Nov 11 17:27:16 2004
Return-Path: <zsh-users-return-8203-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13199 invoked from network); 11 Nov 2004 17:27:15 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 11 Nov 2004 17:27:15 -0000
Received: (qmail 84135 invoked from network); 11 Nov 2004 17:27:09 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 11 Nov 2004 17:27:09 -0000
Received: (qmail 28174 invoked by alias); 11 Nov 2004 17:26:57 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8203
Received: (qmail 28164 invoked from network); 11 Nov 2004 17:26:56 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 11 Nov 2004 17:26:56 -0000
Received: (qmail 83126 invoked from network); 11 Nov 2004 17:26:56 -0000
Received: from smtp-out1.blueyonder.co.uk (195.188.213.4)
  by a.mx.sunsite.dk with SMTP; 11 Nov 2004 17:26:54 -0000
Received: from sc ([82.41.214.33]) by smtp-out1.blueyonder.co.uk with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 11 Nov 2004 17:27:21 +0000
Date: Thu, 11 Nov 2004 17:26:33 +0000
From: Stephane Chazelas <Stephane_Chazelas@yahoo.fr>
To: Zsh users list <zsh-users@sunsite.dk>
Subject: Re: [tip] mouse support
Message-ID: <20041111172633.GD4451@sc>
Mail-Followup-To: Zsh users list <zsh-users@sunsite.dk>
References: <20041111122011.GB4451@sc> <20041111160736.GA991@spiegl.de>
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
In-Reply-To: <20041111160736.GA991@spiegl.de>
User-Agent: Mutt/1.5.6i
X-OriginalArrivalTime: 11 Nov 2004 17:27:21.0708 (UTC) FILETIME=[B3A4EAC0:01C4C813]
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: *
X-Spam-Status: No, hits=1.5 required=6.0 tests=RCVD_IN_SORBS autolearn=no 
	version=2.63
X-Spam-Hits: 1.5

On Thu, Nov 11, 2004 at 05:07:36PM +0100, Andy Spiegl wrote:
[...] 
> wow great idea!  Not that I use the mouse a lot while typing in the
> shell but sometimes it would really be useful, especially with very
> long lines or multiline commands.
> 
> With multilines it doesn't work however. :-(

The new one I provided fixes that.

> And it also breaks the usual copy&paste behaviour.  It is necessary
> to hold the SHIFT key to be able to copy&paste.  Hm, maybe it would
> be better to just get the new behaviour holding down some modifier key.
[...]

I don't think it is possible. We'd have to tell xterm to send
the mouse tracking escape sequences on other events than the
default ones, and I don't think it is possible.

We could map any action on <Ctrl-btn<n>> but not the sending of
the cursor position. We may be able to do something with
dired-button(), though.

That would involve install a new translation table, you could
map:

someModifiers <BtnDown1>: string(0x1b) string("[M1") dired-button()\n\
someModifiers <BtnDown2>: string(0x1b) string("[M2") dired-button()\n\
someModifiers <BtnDown3>: string(0x1b) string("[M3") dired-button()\n\

and modify the code of zle-xterm-mouse so that it recognizes
those new sequences.

-- 
Stéphane

