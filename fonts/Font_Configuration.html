<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<title>Font Configuration - ArchWiki</title>
<meta charset="UTF-8" />
<meta name="generator" content="MediaWiki 1.19.2" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd" />
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html" />
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="https://wiki.archlinux.org/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cskins.archlinux&amp;only=styles&amp;skin=archlinux&amp;*" />
<!--[if IE 6]><link rel="stylesheet" href="/skins/archlinux/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/skins/archlinux/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="" />

<script src="https://wiki.archlinux.org/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=archlinux&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Font_Configuration","wgTitle":"Font Configuration","wgCurRevisionId":229345,"wgArticleId":1049,"wgIsArticle":true,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Fonts"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgRelevantPageName":"Font_Configuration","wgRestrictionEdit":[],"wgRestrictionMove":[]});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"highlightbroken":1,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":5,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"archlinux","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion"
:0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"variant":"en","language":"en","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false});;},{},{});mw.loader.implement("user.tokens",function($){mw.user.tokens.set({"editToken":"+\\","watchToken":false});;},{},{});

/* cache key: archwiki:resourceloader:filter:minify-js:7:789e73e7868a9c0b6be7e25913e3565b */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Font_Configuration skin-archlinux action-view">

<div id="archnavbar"><!-- Arch Linux global navigation bar -->
	<div id="archnavbarlogo">
		<p><a id="logo" href="http://www.archlinux.org/"></a></p>
	</div>
	<div id="archnavbarmenu">
		<ul id="archnavbarlist">
			<li id="anb-home"><a href="http://www.archlinux.org/">Home</a></li><li id="anb-packages"><a href="http://www.archlinux.org/packages/">Packages</a></li><li id="anb-forums"><a href="https://bbs.archlinux.org/">Forums</a></li><li id="anb-wiki" class="anb-selected"><a href="https://wiki.archlinux.org/">Wiki</a></li><li id="anb-bugs"><a href="https://bugs.archlinux.org/">Bugs</a></li><li id="anb-aur"><a href="https://aur.archlinux.org/">AUR</a></li><li id="anb-download"><a href="http://www.archlinux.org/download/">Download</a></li>		</ul>
	</div>
</div><!-- #archnavbar -->

<div id="globalWrapper">
<div id="column-content"><div id="content">
	<a id="top"></a>
	
	<h1 id="firstHeading" class="firstHeading"><span dir="auto">Font Configuration</span></h1>
	<div id="bodyContent" class="mw-body">
		<div id="siteSub">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>
		<!-- start content -->
<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><table style="margin-left: 5px; padding: 5px; border-spacing: 0px 4px; float: right; clear: right; width: 25%;" cellpadding="0">

<tr style="text-align: center; border-bottom: 5px #08c solid;">
<th style="background: #333; color: white; padding: 3px;"> <b>Summary</b>
</th></tr>
<tr>
<td style="text-align: left; padding: 3px"> An overview of font configuration options and various techniques for improving the readability of fonts
</td></tr>
<tr style="text-align: center; height: 1.5em; border-bottom: 5px #08c solid;">
<th style="background: #333; color: white; padding: 2px;"> <b>Related</b>
</th></tr>
<tr>
<td style="text-align: left; padding: 3px"> <a href="/index.php/Fonts" title="Fonts">Fonts</a>: Information on adding fonts and font recommendations
</td></tr>
<tr>
<td style="text-align: left; padding: 3px"> <a href="/index.php/Java_Runtime_Environment_Fonts" title="Java Runtime Environment Fonts">Java Runtime Environment Fonts</a>: Fonts specific to Sun's Java machine
</td></tr>
<tr>
<td style="text-align: left; padding: 3px"> <a href="/index.php/MS_Fonts" title="MS Fonts">MS Fonts</a>: Adding Microsoft fonts and mimicking Windows' font settings
</td></tr>
<tr>
<td style="text-align: left; padding: 3px"> <a href="/index.php/Font_Configuration/fontconfig_Examples" title="Font Configuration/fontconfig Examples">Font Configuration/fontconfig Examples</a>
</td></tr></table>
<p>Fontconfig is a library designed to provide a list of available <a href="/index.php/Fonts" title="Fonts">fonts</a> to applications, and also for configuration for how fonts get rendered.  See package <span style="font-family: monospace"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=fontconfig">fontconfig</a></span> and <a href="http://en.wikipedia.org/wiki/Fontconfig" class="extiw" title="wikipedia:Fontconfig">Wikipedia:Fontconfig</a>.  The Free type library (<span style="font-family: monospace"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=freetype2">freetype2</a></span> package) renders the fonts, based on this configuration.
</p><p>Though Fontconfig is the standard in today's Linux, some applications still rely on the original method of font categorization: the Xorg server configuration.
</p><p>The font rendering packages on Arch Linux includes support for <i>freetype2</i> with the bytecode interpreter (BCI) enabled.  Patched packages exist for better font rendering, especially with an LCD monitor.  See <a href="#Patched_packages">#Patched packages</a> below.  The <a href="#Infinality">#Infinality</a> package allows both auto-hinting and subpixel rendering, allows the LCD filter to be tweaked without recompiling, and allows the auto-hinter to work well with bold fonts.
</p>
<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Font_paths"><span class="tocnumber">1</span> <span class="toctext">Font paths</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Fontconfig_configuration"><span class="tocnumber">2</span> <span class="toctext">Fontconfig configuration</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Presets"><span class="tocnumber">2.1</span> <span class="toctext">Presets</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Anti-aliasing"><span class="tocnumber">2.2</span> <span class="toctext">Anti-aliasing</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Hinting"><span class="tocnumber">2.3</span> <span class="toctext">Hinting</span></a>
<ul>
<li class="toclevel-3 tocsection-6"><a href="#Byte-Code_Interpreter_.28BCI.29"><span class="tocnumber">2.3.1</span> <span class="toctext">Byte-Code Interpreter (BCI)</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="#Autohinter"><span class="tocnumber">2.3.2</span> <span class="toctext">Autohinter</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="#Hint_style"><span class="tocnumber">2.3.3</span> <span class="toctext">Hint style</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-9"><a href="#Subpixel_rendering"><span class="tocnumber">2.4</span> <span class="toctext">Subpixel rendering</span></a>
<ul>
<li class="toclevel-3 tocsection-10"><a href="#LCD_filter"><span class="tocnumber">2.4.1</span> <span class="toctext">LCD filter</span></a></li>
<li class="toclevel-3 tocsection-11"><a href="#Advanced_LCD_filter_specification"><span class="tocnumber">2.4.2</span> <span class="toctext">Advanced LCD filter specification</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-12"><a href="#Disable_auto-hinter_for_bold_fonts"><span class="tocnumber">2.5</span> <span class="toctext">Disable auto-hinter for bold fonts</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Enable_anti-aliasing_only_for_bigger_fonts"><span class="tocnumber">2.6</span> <span class="toctext">Enable anti-aliasing only for bigger fonts</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Replace_fonts"><span class="tocnumber">2.7</span> <span class="toctext">Replace fonts</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Disable_bitmap_fonts"><span class="tocnumber">2.8</span> <span class="toctext">Disable bitmap fonts</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Create_bold_and_italic_styles_for_incomplete_fonts"><span class="tocnumber">2.9</span> <span class="toctext">Create bold and italic styles for incomplete fonts</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#Change_rule_overriding"><span class="tocnumber">2.10</span> <span class="toctext">Change rule overriding</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Example_fontconfig_configurations"><span class="tocnumber">2.11</span> <span class="toctext">Example fontconfig configurations</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-19"><a href="#Patched_packages"><span class="tocnumber">3</span> <span class="toctext">Patched packages</span></a>
<ul>
<li class="toclevel-2 tocsection-20"><a href="#Infinality"><span class="tocnumber">3.1</span> <span class="toctext">Infinality</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#Ubuntu"><span class="tocnumber">3.2</span> <span class="toctext">Ubuntu</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#Reverting_to_unpatched_packages"><span class="tocnumber">3.3</span> <span class="toctext">Reverting to unpatched packages</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-23"><a href="#Applications_without_fontconfig_support"><span class="tocnumber">4</span> <span class="toctext">Applications without fontconfig support</span></a></li>
<li class="toclevel-1 tocsection-24"><a href="#Troubleshooting"><span class="tocnumber">5</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-25"><a href="#Distorted_fonts"><span class="tocnumber">5.1</span> <span class="toctext">Distorted fonts</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#Older_GTK_and_QT_applications"><span class="tocnumber">5.2</span> <span class="toctext">Older GTK and QT applications</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-27"><a href="#See_also"><span class="tocnumber">6</span> <span class="toctext">See also</span></a></li>
</ul>
</td></tr></table>
<h2> <span class="mw-headline" id="Font_paths">Font paths</span></h2>
<p>For fonts to be known to applications, they must be cataloged for easy and quick access.
</p><p>The font paths initially known to Fontconfig are: <code style="display:inline-block; padding: 0.1em 0.3em;">/usr/share/fonts/</code> and <code style="display:inline-block; padding: 0.1em 0.3em;">~/.fonts/</code> (of which Fontconfig will scan recursively). For ease of organization and installation, it is recommended to use these font paths when <a href="/index.php/Fonts#Installation" title="Fonts">adding fonts</a>.
</p><p>To see a list of known Fontconfig fonts:
</p>
<pre>$ fc-list&#160;: file
</pre>
<p>See <code style="display:inline-block; padding: 0.1em 0.3em;">man fc-list</code> for more out put format.
</p><p>Check for Xorg's known font paths by reviewing its log:
</p>
<pre>$ grep /fonts /var/log/Xorg.0.log
</pre>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDFFDD; border: thin solid #BBDDBB; overflow: hidden;"><strong> Tip: </strong>You can also check the list of <a href="/index.php/Xorg" title="Xorg">Xorg</a>'s known font paths using the command <code style="display:inline-block; padding: 0.1em 0.3em;">xset q</code>.</div>
<p>Keep in mind that Xorg does not search recursively through the <code style="display:inline-block; padding: 0.1em 0.3em;">/usr/share/fonts/</code> directory like Fontconfig does.  To add a path, the full path must be used:
</p>
<pre>Section "Files"
    FontPath     "/usr/share/fonts/local/"
EndSection
</pre>
<p>If you want font paths to be set on a per-user basis, you can add and remove font paths from the default by adding the following line(s) to <code style="display:inline-block; padding: 0.1em 0.3em;">~/.xinitrc</code>:
</p>
<pre>xset +fp /usr/share/fonts/local/           # Prepend a custom font path to Xorg's list of known font paths
xset -fp /usr/share/fonts/sucky_fonts/     # Remove the specified font path from Xorg's list of known font paths
</pre>
<p>To see a list of known Xorg fonts use <code style="display:inline-block; padding: 0.1em 0.3em;">xlsfonts</code>, from the <span style="font-family: monospace"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=xorg-xlsfonts">xorg-xlsfonts</a></span> package.
</p>
<h2> <span class="mw-headline" id="Fontconfig_configuration">Fontconfig configuration</span></h2>
<p>Fontconfig is documented in the <a rel="nofollow" class="external text" href="http://fontconfig.org/fontconfig-user.html">fonts.conf</a> man page.
</p><p>Configuration can be done per-user through <code style="display:inline-block; padding: 0.1em 0.3em;">$XDG_CONFIG_HOME/fontconfig/fonts.conf</code>, and globally with <code style="display:inline-block; padding: 0.1em 0.3em;">/etc/fonts/local.conf</code>.  The settings in the per-user configuration have precedence over the global configuration.  Both these files use the same syntax.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;"><strong> Note: </strong>Configuration files and directories: <code style="display:inline-block; padding: 0.1em 0.3em;">~/.fonts.conf</code>, <code style="display:inline-block; padding: 0.1em 0.3em;">~/.fonts.conf.d</code> and <code style="display:inline-block; padding: 0.1em 0.3em;">~/.fontconfig/*.cache-*</code> are deprecated since fontconfig 2.10.1 (<a rel="nofollow" class="external text" href="http://cgit.freedesktop.org/fontconfig/commit/?id=8c255fb185d5651b57380b0a9443001e8051b29d">upstream commit</a>) and will not be read by default in the future versions of package. Use instead <code style="display:inline-block; padding: 0.1em 0.3em;">$XDG_CONFIG_HOME/fontconfig/fonts.conf</code>, <code style="display:inline-block; padding: 0.1em 0.3em;">$XDG_CONFIG_HOME/fontconfig/conf.d</code> and <code style="display:inline-block; padding: 0.1em 0.3em;">$XDG_CACHE_HOME/fontconfig/*.cache-*</code> respectively.</div>
<p>Fontconfig gathers all its configurations in a central file (<code style="display:inline-block; padding: 0.1em 0.3em;">/etc/fonts/fonts.conf</code>).  This file is replaced during fontconfig updates and shouldn't be edited.  Fontconfig-aware applications source this file to know available fonts and how they get rendered.  This file is a conglomeration of rules from the global configuration (<code style="display:inline-block; padding: 0.1em 0.3em;">/etc/fonts/local.conf</code>), the configured presets in <code style="display:inline-block; padding: 0.1em 0.3em;">/etc/fonts/conf.d/</code>, and the user configuration file (<code style="display:inline-block; padding: 0.1em 0.3em;">$XDG_CONFIG_HOME/fontconfig/fonts.conf</code>).
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;"><strong> Note: </strong>For some desktop environments (such as <a href="/index.php/GNOME" title="GNOME">GNOME</a> and <a href="/index.php/KDE" title="KDE">KDE</a>) using the <i>Font Control Panel</i> will automatically create or overwrite the user font configuration file.  For these desktop environments, it is best to match your already defined font configurations to get the expected behavior.</div>
<p>Fontconfig configuration files use <a href="http://en.wikipedia.org/wiki/XML" class="extiw" title="wikipedia:XML">XML</a> format and need these headers:
</p>
<pre>
&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;!DOCTYPE fontconfig SYSTEM &quot;fonts.dtd&quot;&gt;
&lt;fontconfig&gt;

  &lt;!-- settings go here --&gt;

&lt;/fontconfig&gt;
</pre>
<p>The configuration examples in this article omit these tags.
</p>
<h3> <span class="mw-headline" id="Presets">Presets</span></h3>
<p>There are presets installed in the directory <code style="display:inline-block; padding: 0.1em 0.3em;">/etc/fonts/conf.avail</code>.  They can be enabled by creating <a href="http://en.wikipedia.org/wiki/Symbolic_link" class="extiw" title="wikipedia:Symbolic link">symbolic links</a> to them, both per-user and globally, as described in <code style="display:inline-block; padding: 0.1em 0.3em;">/etc/fonts/conf.d/README</code>.  These presets will override matching settings in their respective configuration files.
</p><p>For example, to enable sub-pixel RGB rendering globally:
</p>
<pre># cd /etc/fonts/conf.d
# ln -s ../conf.avail/10-sub-pixel-rgb.conf
</pre>
<p>To do the same but instead for a per-user configuration:
</p>
<pre>$ mkdir $XDG_CONFIG_HOME/fontconfig/conf.d
$ ln -s /etc/fonts/conf.avail/10-sub-pixel-rgb.conf $XDG_CONFIG_HOME/fontconfig/conf.d
</pre>
<h3> <span class="mw-headline" id="Anti-aliasing">Anti-aliasing</span></h3>
<p><a href="http://en.wikipedia.org/wiki/Font_rasterization" class="extiw" title="wikipedia:Font rasterization">Font rasterization</a> converts vector font data to bitmap data so that it can be displayed. The result can appear jagged due to <a href="http://en.wikipedia.org/wiki/Aliasing" class="extiw" title="wikipedia:Aliasing">aliasing</a>. <a href="http://en.wikipedia.org/wiki/Anti-aliasing" class="extiw" title="wikipedia:Anti-aliasing">anti-aliasing</a> is enabled by default and increases the apparent resolution of font edges.
</p>
<pre>
  &lt;match target=&quot;font&quot;&gt;
    &lt;edit name=&quot;antialias&quot; mode=&quot;assign&quot;&gt;
      &lt;bool&gt;true&lt;/bool&gt;
    &lt;/edit&gt;
  &lt;/match&gt;
</pre>
<h3> <span class="mw-headline" id="Hinting">Hinting</span></h3>
<p><a href="http://en.wikipedia.org/wiki/Font_hinting" class="extiw" title="wikipedia:Font hinting">Font hinting</a> (also known as instructing) is the use of mathematical instructions to adjust the display of an outline font so that it lines up with a rasterized grid, such as the pixel grid in a display. Fonts will not line up correctly without hinting until displays have 300 <a href="http://en.wikipedia.org/wiki/Dots_per_inch" class="extiw" title="wikipedia:Dots per inch">DPI</a> or greater. Two types of hinting are available.
</p>
<h4> <span class="mw-headline" id="Byte-Code_Interpreter_.28BCI.29">Byte-Code Interpreter (BCI)</span></h4>
<p>Using normal hinting, TrueType hinting instructions in the font are interpreted by freetype's Byte-Code Interpreter. This works best for fonts with good hinting instructions.
</p><p>To enable normal hinting:
</p>
<pre>
  &lt;match target=&quot;font&quot;&gt;
    &lt;edit name=&quot;hinting&quot; mode=&quot;assign&quot;&gt;
      &lt;bool&gt;true&lt;/bool&gt;
    &lt;/edit&gt;
  &lt;/match&gt;
</pre>
<h4> <span class="mw-headline" id="Autohinter">Autohinter</span></h4>
<p>Auto-discovery for hinting. This looks worse than normal hinting for fonts with good instructions, but better for those with poor or no instructions. The autohinter and subpixel rendering are not designed to work together and should not be used in combination.
</p><p>To enable auto-hinting:
</p>
<pre>
  &lt;match target=&quot;font&quot;&gt;
    &lt;edit name=&quot;autohint&quot; mode=&quot;assign&quot;&gt;
      &lt;bool&gt;true&lt;/bool&gt;
    &lt;/edit&gt;
  &lt;/match&gt;
</pre>
<h4> <span class="mw-headline" id="Hint_style">Hint style</span></h4>
<p>Hint style is the amount of influence the hinting mode has.  Hinting can be set to: <code style="display:inline-block; padding: 0.1em 0.3em;">hintfull</code>, <code style="display:inline-block; padding: 0.1em 0.3em;">hintmedium</code>, <code style="display:inline-block; padding: 0.1em 0.3em;">hintslight</code> and <code style="display:inline-block; padding: 0.1em 0.3em;">hintnone</code>. With BCI hinting, hintfull should work best for most fonts. With the autohinter, hintslight is recommended.
</p>
<pre>
  &lt;match target=&quot;font&quot;&gt;
    &lt;edit name=&quot;hintstyle&quot; mode=&quot;assign&quot;&gt;
      &lt;const&gt;hintfull&lt;/const&gt;
    &lt;/edit&gt;
  &lt;/match&gt;
</pre>
<h3> <span class="mw-headline" id="Subpixel_rendering">Subpixel rendering</span></h3>
<p>Subpixel rendering effectively triples the horizontal (or vertical) resolution for fonts by making use of subpixels. The autohinter and subpixel rendering are not designed to work together and should not be used in combination without the <a href="#Infinality">#Infinality</a> patch set.
</p><p>Most monitors manufactured today use the Red, Green, Blue (RGB) specification. Fontconfig will need to know your monitor type to be able to display your fonts correctly.
</p><p><i>RGB (most common), BGR, V-RGB (vertical), or V-BGR</i>
</p><p>To enable subpixel rendering:
</p>
<pre>
  &lt;match target=&quot;font&quot;&gt;
    &lt;edit name=&quot;rgba&quot; mode=&quot;assign&quot;&gt;
      &lt;const&gt;rgb&lt;/const&gt;
    &lt;/edit&gt;
  &lt;/match&gt;
</pre>
<p>If you notice unusual colors around font's borders, the wrong subpixel arrangement might be configured.  The <a rel="nofollow" class="external text" href="http://www.lagom.nl/lcd-test/subpixel.php">Lagom subpixel layout test</a> web page can help identify it.
</p>
<h4> <span class="mw-headline" id="LCD_filter">LCD filter</span></h4>
<p>When using subpixel rendering, you should enable the LCD filter, which is designed to reduce colour fringing.  This is described under <a rel="nofollow" class="external text" href="http://www.freetype.org/freetype2/docs/reference/ft2-lcd_filtering.html">LCD filtering</a> in the FreeType 2 API reference.  Different options are described under <a rel="nofollow" class="external text" href="http://www.freetype.org/freetype2/docs/reference/ft2-lcd_filtering.html#FT_LcdFilter">FT_LcdFilter</a>, and are illustrated by this <a rel="nofollow" class="external text" href="http://www.spasche.net/files/lcdfiltering/">LCD filter test</a> page.
</p><p>The <code style="display:inline-block; padding: 0.1em 0.3em;">lcddefault</code> filter will work for most users. Other filters are available that can be used in special situations: <code style="display:inline-block; padding: 0.1em 0.3em;">lcdlight</code>; a lighter filter ideal for fonts that look too bold or fuzzy, <code style="display:inline-block; padding: 0.1em 0.3em;">lcdlegacy</code>, the original Cairo filter; and <code style="display:inline-block; padding: 0.1em 0.3em;">lcdnone</code> to disable it entirely.
</p>
<pre>
  &lt;match target=&quot;font&quot;&gt;
    &lt;edit mode=&quot;assign&quot; name=&quot;lcdfilter&quot;&gt;
      &lt;const&gt;lcddefault&lt;/const&gt;
    &lt;/edit&gt;
  &lt;/match&gt;
</pre>
<h4> <span class="mw-headline" id="Advanced_LCD_filter_specification">Advanced LCD filter specification</span></h4>
<p>If the available, built-in LCD filters are not satisfactory, it is possible to tweak the font rendering very specifically by building a custom freetype2 package and modifying the hardcoded filters. The <a href="/index.php/Arch_Build_System" title="Arch Build System">Arch Build System</a> can be used to build and install packages from source.
</p><p>First, refresh the freetype2 PKGBUILD as root:
</p>
<pre># abs extra/freetype2
</pre>
<p>This example uses <code style="display:inline-block; padding: 0.1em 0.3em;">/var/abs/build</code> as the build directory, substitute it according to your personal ABS setup. Download and extract the freetype2 package as a regular user:
</p>
<pre>$ cd /var/abs/build
$ cp -r ../extra/freetype2 .
$ cd freetype2
$ makepkg -o
</pre>
<p>Edit the file <code style="display:inline-block; padding: 0.1em 0.3em;">src/freetype-VERSION/src/base/ftlcdfil.c</code> and look up the definition of the constant <code style="display:inline-block; padding: 0.1em 0.3em;">default_filter[5]</code>:
</p>
<pre>static const FT_Byte  default_filter[5] =
    { 0x10, 0x40, 0x70, 0x40, 0x10 };
</pre>
<p>This constant defines a low-pass filter applied to the rendered glyph. Modify it as needed. Save the file, build and install the custom package:
</p>
<pre>$ makepkg -e
$ sudo pacman -Rd freetype2
$ sudo pacman -U freetype2-VERSION-ARCH.pkg.tar.xz
</pre>
<p>Reboot or restart X. The lcddefault filter should now render fonts differently.
</p>
<h3> <span class="mw-headline" id="Disable_auto-hinter_for_bold_fonts">Disable auto-hinter for bold fonts</span></h3>
<p>The auto-hinter uses sophisticated methods for font rendering, but often makes bold fonts too wide. Fortunately, a solution can be turning off the autohinter for bold fonts while leaving it on for the rest:
</p>
<pre>...
&lt;match target="font"&gt;
    &lt;test name="weight" compare="more"&gt;
        &lt;const&gt;medium&lt;/const&gt;
    &lt;/test&gt;
    &lt;edit name="autohint" mode="assign"&gt;
        &lt;bool&gt;false&lt;/bool&gt;
    &lt;/edit&gt;
&lt;/match&gt;
...
</pre>
<h3> <span class="mw-headline" id="Enable_anti-aliasing_only_for_bigger_fonts"> Enable anti-aliasing only for bigger fonts </span></h3>
<p><i>See also <a rel="nofollow" class="external text" href="http://sharpfonts.co.cc/">sharpfonts.co.cc</a> for related information.</i>
</p><p>Some users prefer the sharper rendering that anti-aliasing does not offer:
</p>
<pre>
...
&lt;match target=&quot;font&quot;&gt;
    &lt;edit name=&quot;antialias&quot; mode=&quot;assign&quot;&gt;
        &lt;bool&gt;false&lt;/bool&gt;
    &lt;/edit&gt;
&lt;/match&gt;

&lt;match target=&quot;font&quot; &gt;
    &lt;test name=&quot;size&quot; qual=&quot;any&quot; compare=&quot;more&quot;&gt;
        &lt;double&gt;12&lt;/double&gt;
    &lt;/test&gt;
    &lt;edit name=&quot;antialias&quot; mode=&quot;assign&quot;&gt;
        &lt;bool&gt;true&lt;/bool&gt;
    &lt;/edit&gt;
&lt;/match&gt;

&lt;match target=&quot;font&quot; &gt;
    &lt;test name=&quot;pixelsize&quot; qual=&quot;any&quot; compare=&quot;more&quot;&gt;
        &lt;double&gt;16&lt;/double&gt;
    &lt;/test&gt;
    &lt;edit name=&quot;antialias&quot; mode=&quot;assign&quot;&gt;
        &lt;bool&gt;true&lt;/bool&gt;
    &lt;/edit&gt;
&lt;/match&gt;
...
</pre>
<h3> <span class="mw-headline" id="Replace_fonts">Replace fonts</span></h3>
<p>The most reliable way to do this is to add an XML fragment similar to the one below. This will cause Bitstream Vera Sans to be used in place of Helvetica:
</p>
<pre>...
&lt;match target="pattern" name="family" &gt;
    &lt;test name="family" qual="any" &gt;
        &lt;string&gt;Helvetica&lt;/string&gt;
    &lt;/test&gt;
    &lt;edit name="family" mode="assign"&gt;
        &lt;string&gt;Bitstream Vera Sans&lt;/string&gt;
    &lt;/edit&gt;
&lt;/match&gt;
...
</pre>
<p>An alternate approach is to set the "preferred" font, but <i>this only works if the original font is not on the system</i>, in which case the one specified will be substituted:
</p>
<pre>...
&lt;&#160;!-- Replace Helvetica with Bitstream Vera Sans Mono --&gt;
&lt;&#160;!-- Note, an alias for Helvetica should already exist in default conf files --&gt;
&lt;alias&gt;
    &lt;family&gt;Helvetica&lt;/family&gt;
    &lt;prefer&gt;&lt;family&gt;Bitstream Vera Sans Mono&lt;/family&gt;&lt;/prefer&gt;
    &lt;default&gt;&lt;family&gt;fixed&lt;/family&gt;&lt;/default&gt;
&lt;/alias&gt;
...
</pre>
<h3> <span class="mw-headline" id="Disable_bitmap_fonts">Disable bitmap fonts</span></h3>
<p>To disable bitmap fonts in fontconfig, use <code style="display:inline-block; padding: 0.1em 0.3em;">70-no-bitmaps.conf</code> (which is not placed by fontconfig by default):
</p>
<pre># cd /etc/fonts/conf.d
# rm 70-yes-bitmaps.conf
# ln -s ../conf.avail/70-no-bitmaps.conf
</pre>
<p>You may not need to remove <code style="display:inline-block; padding: 0.1em 0.3em;">70-yes-bitmaps.conf</code> if it does not exist. You can choose which fonts to replace bitmaps fonts with (Helvetica, Courier and Times bitmap mapts to TTF fonts) by:
</p>
<pre># cd /etc/fonts/conf.d
# ln -s ../conf.avail/29-replace-bitmap-fonts.conf
</pre>
<p>To disable embedded bitmap fonts for a specific font:
</p>
<pre>&lt;match target="font"&gt;
  &lt;test qual="any" name="family"&gt;
    &lt;string&gt;Monaco&lt;/string&gt;
  &lt;/test&gt;
  &lt;edit name="embeddedbitmap"&gt;&lt;bool&gt;false&lt;/bool&gt;&lt;/edit&gt;
&lt;/match&gt;
</pre>
<h3> <span class="mw-headline" id="Create_bold_and_italic_styles_for_incomplete_fonts">Create bold and italic styles for incomplete fonts</span></h3>
<p>Freetype has the ability to automatically create <i>italic</i> and <b>bold</b> styles for fonts that do not have them, but only if explicitly required by the application. Given programs rarely send these requests, this section covers manually forcing generation of missing styles.
</p><p>Start by editing <code style="display:inline-block; padding: 0.1em 0.3em;">/usr/share/fonts/fonts.cache-1</code> as explained below. Store a copy of the modifications on another file, because a font update with <code style="display:inline-block; padding: 0.1em 0.3em;">fc-cache</code> will overwrite <code style="display:inline-block; padding: 0.1em 0.3em;">/usr/share/fonts/fonts.cache-1</code>.
</p><p>Assuming the Dupree font is installed:
</p>
<pre>"dupree.ttf" 0 "Dupree:style=Regular:slant=0:weight=80:width=100:foundry=unknown:index=0:outline=True:<i>etc...</i>
</pre>
<p>Duplicate the line, change <code style="display:inline-block; padding: 0.1em 0.3em;">style=Regular</code> to <code style="display:inline-block; padding: 0.1em 0.3em;">style=Bold</code> or any other style. Also change <code style="display:inline-block; padding: 0.1em 0.3em;">slant=0</code> to <code style="display:inline-block; padding: 0.1em 0.3em;">slant=100</code> for italic, <code style="display:inline-block; padding: 0.1em 0.3em;">weight=80</code> to <code style="display:inline-block; padding: 0.1em 0.3em;">weight=200</code> for bold, or combine them for <i><b>bold italic</b></i>:
</p>
<pre>"dupree.ttf" 0 "Dupree:style=Bold Italic:slant=100:weight=200:width=100:foundry=unknown:index=0:outline=True:<i>etc...</i>
</pre>
<p>Now add necessary modifications to <code style="display:inline-block; padding: 0.1em 0.3em;">$XDG_CONFIG_HOME/fontconfig/fonts.conf</code>:
</p>
<pre>
...
&lt;match target=&quot;font&quot;&gt;
    &lt;test name=&quot;family&quot; qual=&quot;any&quot;&gt;
        &lt;string&gt;Dupree&lt;/string&gt;
         &lt;!-- other fonts here .... --&gt;
     &lt;/test&gt;
     &lt;test name=&quot;weight&quot; compare=&quot;more_eq&quot;&gt;&lt;int&gt;140&lt;/int&gt;&lt;/test&gt;
     &lt;edit name=&quot;embolden&quot; mode=&quot;assign&quot;&gt;&lt;bool&gt;true&lt;/bool&gt;&lt;/edit&gt;
&lt;/match&gt;

&lt;match target=&quot;font&quot;&gt;
    &lt;test name=&quot;family&quot; qual=&quot;any&quot;&gt;
        &lt;string&gt;Dupree&lt;/string&gt;
        &lt;!-- other fonts here .... --&gt;
    &lt;/test&gt;
    &lt;test name=&quot;slant&quot; compare=&quot;more_eq&quot;&gt;&lt;int&gt;80&lt;/int&gt;&lt;/test&gt;
    &lt;edit name=&quot;matrix&quot; mode=&quot;assign&quot;&gt;
        &lt;times&gt;
            &lt;name&gt;matrix&lt;/name&gt;
                &lt;matrix&gt;
                    &lt;double&gt;1&lt;/double&gt;&lt;double&gt;0.2&lt;/double&gt;
                    &lt;double&gt;0&lt;/double&gt;&lt;double&gt;1&lt;/double&gt;
                &lt;/matrix&gt;
        &lt;/times&gt;
    &lt;/edit&gt;
&lt;/match&gt;
...
</pre>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDFFDD; border: thin solid #BBDDBB; overflow: hidden;"><strong> Tip: </strong> Use the value 'embolden' for existing bold fonts in order to make them even bolder.</div>
<h3> <span class="mw-headline" id="Change_rule_overriding">Change rule overriding</span></h3>
<p>Fontconfig processes files in <code style="display:inline-block; padding: 0.1em 0.3em;">/etc/fonts/conf.d</code> in reverse numerical order. This enables rules or files to override one another, but often confuses users about what file gets parsed last.
</p><p>To guarantee that personal settings take precedence over any other rules, change their ordering:
</p>
<pre># cd /etc/fonts/conf.d
# mv 50-user.conf 00-user.conf
</pre>
<p>This change seems however to be unnecessary for the most of the cases, because a user is given enough control by default to set up own font preferences, hinting and antialiasing properties, alias new fonts to generic font families, etc.
</p>
<h3> <span class="mw-headline" id="Example_fontconfig_configurations">Example fontconfig configurations</span></h3>
<p>Example fontconfig configurations can be found on this <a href="/index.php/Font_Configuration/fontconfig_Examples" title="Font Configuration/fontconfig Examples">page</a>.
</p><p>A simple starting point:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/fonts/local.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
&lt;?xml version='1.0'?&gt;
&lt;!DOCTYPE fontconfig SYSTEM 'fonts.dtd'&gt;
&lt;fontconfig&gt;
 &lt;match target=&quot;font&quot;&gt;
  
  &lt;edit mode=&quot;assign&quot; name=&quot;rgba&quot;&gt;
   &lt;const&gt;rgb&lt;/const&gt;
  &lt;/edit&gt;

  &lt;edit mode=&quot;assign&quot; name=&quot;hinting&quot;&gt;
   &lt;bool&gt;true&lt;/bool&gt;
  &lt;/edit&gt;

  &lt;edit mode=&quot;assign&quot; name=&quot;hintstyle&quot;&gt;
   &lt;const&gt;hintfull&lt;/const&gt;
  &lt;/edit&gt;

  &lt;edit mode=&quot;assign&quot; name=&quot;antialias&quot;&gt;
   &lt;bool&gt;true&lt;/bool&gt;
  &lt;/edit&gt;

  &lt;edit mode=&quot;assign&quot; name=&quot;lcdfilter&quot;&gt;
    &lt;const&gt;lcddefault&lt;/const&gt;
  &lt;/edit&gt;
 
 &lt;/match&gt;
&lt;/fontconfig&gt;
</pre>
<h2> <span class="mw-headline" id="Patched_packages">Patched packages</span></h2>
<p>These patched packages are available in the <a href="/index.php/Arch_User_Repository" title="Arch User Repository">AUR</a>. A few considerations:
</p>
<ul><li> Configuration is usually necessary.
</li><li> The new font rendering will not kick in until applications restart.
</li><li> Applications which <a href="http://en.wikipedia.org/wiki/Static_library" class="extiw" title="wikipedia:Static library">statically link</a> to a library will not be affected by patches applied to the system library.
</li></ul>
<h3> <span class="mw-headline" id="Infinality">Infinality</span></h3>
<div style="padding: 5px; margin: 0.50em 0; background-color: #FFDDDD; border: thin solid #DDBBBB; overflow: hidden;"><strong> Warning: </strong>Since the <a rel="nofollow" class="external text" href="http://www.archlinux.org/news/fontconfig-2101-update-manual-intervention-required/">Fontconfig 2.10.1 update</a>, Infinality users will receive multiple warnings similar to:
<p><code style="display:inline-block; padding: 0.1em 0.3em;">Fontconfig warning: "/etc/fonts/infinality/conf.d/60-group-non-tt-fonts.conf", line 483: Having multiple values in &lt;test&gt; isn't supported and may not works as expected</code>
</p>
Rule adjustments are currently being worked on. See: <a rel="nofollow" class="external text" href="http://www.infinality.net/forum/viewtopic.php?f=2&amp;t=254">this article</a> for more information.</div>
<p>The infinality patchset aims to greatly improve freetype2 font rendering. It adds multiple new capabilities.
</p>
<ul><li><a rel="nofollow" class="external text" href="http://www.infinality.net/blog/infinality-freetype-patches/">Home page</a>.
</li><li><a rel="nofollow" class="external text" href="http://www.infinality.net/forum/">Forum</a>.
</li></ul>
<p>Infinality's settings are all configurable at runtime via environment variables in <code style="display:inline-block; padding: 0.1em 0.3em;">/etc/profile.d/infinality-settings.sh</code>, and include the following:
</p>
<ul><li><b>Emboldening Enhancement</b>: Disables Y emboldening, producing a much nicer result on fonts without bold versions.  Works on native TT hinter and autohinter.
</li><li><b>Auto-Autohint</b>: Automatically forces autohint on fonts that contain no TT instructions.
</li><li><b>Autohint Enhancement</b>: Makes autohint snap horizontal stems to pixels. Gives a result that appears like a well-hinted truetype font, but is 100% patent-free (as far as I know).
</li><li><b>Customized FIR Filter</b>: Select your own <a rel="nofollow" class="external text" href="http://www.infinality.net/forum/viewtopic.php?f=2&amp;t=19">filter values</a> at run-time.  Works on native TT hinter and autohinter.
</li><li><b>Stem Alignment</b>: Aligns bitmap glyphs to optimized pixel boundaries.  Works on native TT hinter and autohinter.
</li><li><b>Pseudo Gamma Correction</b>: Lighten and darken glyphs at a given value, below a given size.  Works on native TT hinter and autohinter.
</li><li><b>Embolden Thin Fonts</b>: Embolden thin or light fonts so that they are more visible.  Works on autohinter.
</li><li><b>Force Slight Hinting</b>: Force slight hinting even when programs want full hinting. If you use the local.conf I provide (included in infinality-settings fedora package) you will notice nice improvements on @font-face fonts.
</li><li><b>ChromeOS Style Sharpening</b>: ChromeOS uses a patch to sharpen the look of fonts. This is now included in the infinality patchset.
</li></ul>
<p>A number of presets are included and can be used by setting the USE_STYLE variable in <code style="display:inline-block; padding: 0.1em 0.3em;">/etc/profile.d/infinality-settings.sh</code>.
</p><p><span style="font-family: monospace"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages.php?K=freetype2-infinality&amp;SeB=x">freetype2-infinality</a></span> can be installed from the <a href="/index.php/Arch_User_Repository" title="Arch User Repository">AUR</a>. Additionally, if you are using <span style="font-family: monospace"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=lib32-freetype2">lib32-freetype2</a></span> from [multilib], replace it with <span style="font-family: monospace"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages.php?K=lib32-freetype2-infinality&amp;SeB=x">lib32-freetype2-infinality</a></span> from the AUR. The AUR also contains a Git version of freetype2 that builds the latest development snapshot of freetype2 with the Infinality patchset: <span style="font-family: monospace"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages.php?K=freetype2-git-infinality&amp;SeB=x">freetype2-git-infinality</a></span>, <span style="font-family: monospace"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages.php?K=lib32-freetype2-git-infinality&amp;SeB=x">lib32-freetype2-git-infinality</a></span>.
</p><p>It is recommended to also install <span style="font-family: monospace"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages.php?K=fontconfig-infinality&amp;SeB=x">fontconfig-infinality</a></span> to enable selection of predefined font substitution styles and antialiasing settings, apart from the rendering settings of the engine itself. After doing so, you can select the font style (win7, winxp, osx, linux, ...) with:
</p>
<pre># infctl setstyle
</pre>
<p>If you set e.g. win7 or osx you need the corresponding fonts installed.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;"><strong> Note: </strong>Default infinality settings can cause some programs  to display fonts at 72 DPI instead of 96. If you notice a problem open /etc/fonts/infinality/infinality.conf search for the section on DPI and change 72 to 96. This problem can specifically affect conky causing the fonts to appear smaller than they should. Thus not aligning properly with images. </div>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;"><strong> Note: </strong><i>The README for <span style="font-family: monospace"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages.php?K=fontconfig-infinality&amp;SeB=x">fontconfig-infinality</a></span> says that /etc/fonts/local.conf should either not exist, or have no infinality-related configurations in it.  The local.conf is now obsolete and completely replaced by this configuration.</i></div>
<p>for more information see this article: <a rel="nofollow" class="external free" href="http://www.infinality.net/forum/viewtopic.php?f=2&amp;t=77">http://www.infinality.net/forum/viewtopic.php?f=2&amp;t=77</a>
</p>
<h3> <span class="mw-headline" id="Ubuntu">Ubuntu</span></h3>
<p>Ubuntu adds extra configurations, and occasionally patches to the font rendering libraries.
</p><p>Install the patched packages from the <a href="/index.php/Arch_User_Repository" title="Arch User Repository">AUR</a>, the package names are: <span style="font-family: monospace"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages.php?K=freetype2-ubuntu&amp;SeB=x">freetype2-ubuntu</a></span> <span style="font-family: monospace"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages.php?K=fontconfig-ubuntu&amp;SeB=x">fontconfig-ubuntu</a></span> <span style="font-family: monospace"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages.php?K=libxft-ubuntu&amp;SeB=x">libxft-ubuntu</a></span> <span style="font-family: monospace"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages.php?K=cairo-ubuntu&amp;SeB=x">cairo-ubuntu</a></span>.
</p><p>The global configuration will need to be added. See <a href="#Example_fontconfig_configurations">#Example fontconfig configurations</a> for a starting point.
</p>
<h3> <span class="mw-headline" id="Reverting_to_unpatched_packages">Reverting to unpatched packages</span></h3>
<p>To restore the unpatched packages, reinstall the originals:
</p>
<pre># pacman -S --asdeps freetype2 libxft cairo fontconfig
</pre>
<h2> <span class="mw-headline" id="Applications_without_fontconfig_support">Applications without fontconfig support</span></h2>
<p>Some applications like <a href="/index.php/URxvt" title="URxvt" class="mw-redirect">URxvt</a> will ignore fontconfig settings. This is very apparent when using the infinality patches which are heavily reliant on proper configuration. You can work around this by using <code style="display:inline-block; padding: 0.1em 0.3em;">~/.Xresources</code>, but it is not nearly as flexible as fontconfig. Example (see <a href="#Fontconfig_configuration">#Fontconfig configuration</a> for explanations of the options):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.Xresources</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
Xft.autohint: 0
Xft.lcdfilter:  lcddefault
Xft.hintstyle:  hintfull
Xft.hinting: 1
Xft.antialias: 1
Xft.rgba: rgb
</pre>
<p>Make sure the settings are loaded properly when X starts with <code style="display:inline-block; padding: 0.1em 0.3em;">xrdb -q</code> (see <a href="/index.php/Xresources" title="Xresources" class="mw-redirect">Xresources</a> for more information).
</p>
<h2> <span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3> <span class="mw-headline" id="Distorted_fonts">Distorted fonts</span></h3>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;"><strong> Note: </strong>96 DPI is not a standard. You should use your monitor's actual DPI to get proper font rendering, especially when using subpixel rendering.</div>
<p>If fonts are still unexpectedly large or small, poorly proportioned or simply rendering poorly, fontconfig may be using the incorrect DPI.
</p><p>Fontconfig should be able to detect DPI parameters as discovered by the Xorg server. You can check the automatically discovered DPI with <code style="display:inline-block; padding: 0.1em 0.3em;">xdpyinfo</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ xdpyinfo | grep dots</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">  resolution:    102x102 dots per inch</pre>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;"><strong> Note: </strong>To use the <i>xdpyinfo</i> command, you must install the package <span style="font-family: monospace"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=xorg-xdpyinfo">xorg-xdpyinfo</a></span>.</div>
<p>If the DPI is detected incorrectly (usually due to an incorrect monitor EDID), you can specify it manually in the Xorg configuration, see <a href="/index.php/Xorg#Display_Size_and_DPI" title="Xorg">Xorg#Display Size and DPI</a>. This is the recommended solution, but it may not work with buggy drivers.
</p><p>Fontconfig will default to the Xft.dpi variable if it is set. Xft.dpi is usually set by desktop environments (usually to Xorg's DPI setting) or manually in <code style="display:inline-block; padding: 0.1em 0.3em;">~/.Xdefaults</code> or <code style="display:inline-block; padding: 0.1em 0.3em;">~/.Xresources</code>. Use xrdb to query for the value:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ xrdb -query | grep dpi</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Xft.dpi:	102</pre>
<p>Those still having problems can fall back to manually setting the DPI used by fontconfig:
</p>
<pre>...
&lt;match target="pattern"&gt;
   &lt;edit name="dpi" mode="assign"&gt;&lt;double&gt;102&lt;/double&gt;&lt;/edit&gt;
&lt;/match&gt;
...
</pre>
<h3> <span class="mw-headline" id="Older_GTK_and_QT_applications">Older GTK and QT applications</span></h3>
<p>Modern GTK apps enable Xft by default but this was not the case before version 2.2.  If it is not possible to update these applications, force Xft for old <a href="/index.php/GNOME" title="GNOME">GNOME</a> applications by adding to <code style="display:inline-block; padding: 0.1em 0.3em;">~/.bashrc</code>:
</p>
<pre>export GDK_USE_XFT=1
</pre>
<p>For older QT applications:
</p>
<pre>export QT_XFT=true
</pre>
<h2> <span class="mw-headline" id="See_also">See also</span></h2>
<ul><li><a rel="nofollow" class="external text" href="http://www.x.org/X11R6.8.2/doc/fonts.html">Fonts in X11R6.8.2</a> - Official Xorg font information
</li><li><a rel="nofollow" class="external text" href="http://freetype.sourceforge.net/freetype2/">FreeType 2 Overview</a>
</li><li><a rel="nofollow" class="external text" href="https://forums.gentoo.org/viewtopic-t-723341.html">Gentoo font-rendering thread</a>
</li></ul>

<!-- 
NewPP limit report
Preprocessor node count: 1216/1000000
Post-expand include size: 23192/2097152 bytes
Template argument size: 11690/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key archwiki:pcache:idhash:1049-0!*!0!!en!*!* and timestamp 20121018093015 -->
</div><div class="printfooter">
Retrieved from "<a href="https://wiki.archlinux.org/index.php?title=Font_Configuration&amp;oldid=229345">https://wiki.archlinux.org/index.php?title=Font_Configuration&amp;oldid=229345</a>"</div>
		<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="/index.php/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="/index.php/Category:Fonts" title="Category:Fonts">Fonts</a></li></ul></div></div>		<!-- end content -->
				<div class="visualClear"></div>
	</div>
</div></div>
<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<div class="pBody">
			<ul>
				<li id="ca-nstab-main" class="selected"><a href="/index.php/Font_Configuration" primary="1" context="subject" title="View the content page [c]" accesskey="c">Page</a></li>
				<li id="ca-talk"><a href="/index.php/Talk:Font_Configuration" primary="1" context="talk" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-viewsource"><a href="/index.php?title=Font_Configuration&amp;action=edit" primary="1" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li>
				<li id="ca-history"><a href="/index.php?title=Font_Configuration&amp;action=history" rel="archives" title="Past revisions of this page [h]" accesskey="h">History</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="/index.php?title=Special:UserLogin&amp;returnto=Font+Configuration" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in / create account</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
<a href="/index.php/Main_Page" style="background-image: url(/skins/archlinux/archlogo.png);" title="Visit the main page"></a>
	</div>
	<div class="generated-sidebar portlet" id="p-navigation">
		<h5>Navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage-description"><a href="/index.php/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li>
				<li id="n-Table-of-Contents"><a href="/index.php/Table_of_Contents">Table of Contents</a></li>
				<li id="n-portal"><a href="/index.php/Getting_Involved" title="Various ways Archers can contribute to the community">Getting Involved</a></li>
				<li id="n-currentevents"><a href="/index.php/ArchWiki:News" title="The latest lowdown on the wiki">Wiki News</a></li>
				<li id="n-recentchanges"><a href="/index.php/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
				<li id="n-randompage"><a href="/index.php/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
				<li id="n-help"><a href="/index.php/Help:Contents" title="Wiki navigation, reading, and editing help">Help</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/index.php" id="searchform">
				<input type='hidden' name="title" value="Special:Search"/>
				<input type="search" name="search" title="Search ArchWiki [f]" accesskey="f" id="searchInput" />
				<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />&#160;
				<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />
			</form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="/index.php/Special:WhatLinksHere/Font_Configuration" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="/index.php/Special:RecentChangesLinked/Font_Configuration" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
				<li id="t-specialpages"><a href="/index.php/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
				<li><a href="/index.php?title=Font_Configuration&amp;printable=yes" rel="alternate">Printable version</a></li>
				<li id="t-permalink"><a href="/index.php?title=Font_Configuration&amp;oldid=229345" title="Permanent link to this revision of the page">Permanent link</a></li>
			</ul>
		</div>
	</div>
	<div id="p-lang" class="portlet">
		<h5>In other languages</h5>
		<div class="pBody">
			<ul>
				<li class="interwiki-it"><a href="https://wiki.archlinux.org/index.php/Font_Configuration_(Italiano)" title="Font Configuration" lang="it" hreflang="it">Italiano</a></li>
				<li class="interwiki-ru"><a href="https://wiki.archlinux.org/index.php/Font_Configuration_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" title="Font Configuration" lang="ru" hreflang="ru">Русский</a></li>
				<li class="interwiki-sr"><a href="https://wiki.archlinux.org/index.php/Font_Configuration_(%D0%A1%D1%80%D0%BF%D1%81%D0%BA%D0%B8)" title="Font Configuration" lang="sr" hreflang="sr">Српски / Srpski</a></li>
				<li class="interwiki-tr"><a href="http://archtr.org/wiki/index.php?title=Yaz%C4%B1tipi_yap%C4%B1land%C4%B1rmas%C4%B1" title="Yazıtipi yapılandırması" lang="tr" hreflang="tr">Türkçe</a></li>
				<li class="interwiki-zh-cn"><a href="https://wiki.archlinux.org/index.php/Font_Configuration_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" title="Font Configuration" lang="zh-cn" hreflang="zh-cn">‪中文(中国大陆)‬</a></li>
			</ul>
		</div>
	</div>
</div><!-- end of the left (by default at least) column -->
<div class="visualClear"></div>
<div id="footer">
	<ul id="f-list">
		<li id="lastmod"> This page was last modified on 18 October 2012, at 09:30.</li>
		<li id="copyright">Content is available under <a class="external" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a>.</li>
		<li id="privacy"><a href="/index.php/ArchWiki:Privacy_policy" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="about"><a href="/index.php/ArchWiki:About" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="disclaimer"><a href="/index.php/ArchWiki:General_disclaimer" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
</div>
</div>
<script>if(window.mw){
mw.loader.load(["mediawiki.user","mediawiki.page.ready"], null, true);
}</script>
<!-- Served in 0.044 secs. --></body><!-- Cached/compressed 20121018093042 -->
</html>