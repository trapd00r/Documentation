From zsh-workers-request@euclid.skiles.gatech.edu Wed Jan 08 04:25:46 1997
Return-Path: <zsh-workers-request@euclid.skiles.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 13822 invoked from network); 8 Jan 1997 04:25:44 -0000
Received: from euclid.skiles.gatech.edu (list@130.207.146.50)
  by coral.primenet.com.au with SMTP; 8 Jan 1997 04:25:44 -0000
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id XAA10585; Tue, 7 Jan 1997 23:29:06 -0500 (EST)
Resent-Date: Tue, 7 Jan 1997 23:29:06 -0500 (EST)
From: gwing@primenet.com.au
Message-ID: <19970108041829.13748.qmail@primenet.com.au>
Subject: patch for RLIM size in configure.in
To: zsh-workers@math.gatech.edu (zsh-workers)
Date: Wed, 8 Jan 1997 15:18:29 +1100 (EST)
Cc: hzoli@cs.elte.hu (Zoltan Hidvegi)
X-Mailer: ELM [version 2.4 PL25]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"P2VVf2.0.Hb2.IAoqo"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/2742
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Heyla,
my system (NetBSD) needs this patch to correctly determine the size of
RLIM_T . You need to run autoconf after applying to regenerate "configure"


*** configure.in.org	Wed Jan  8 15:11:31 1997
--- configure.in	Wed Jan  8 15:11:31 1997
***************
*** 526,531 ****
--- 526,532 ----
  AC_CACHE_CHECK(if rlim_t is quad_t,
  zsh_cv_rlim_t_is_quad_t,
  [AC_TRY_RUN([
+ #include <sys/time.h>
  #include <sys/resource.h>
  main(){struct rlimit r;exit(sizeof(r.rlim_cur) <= sizeof(long));}],
  zsh_cv_rlim_t_is_quad_t=yes,


-- 
Geoff Wing [gwing@primenet.com.au]   Technical Manager
  Phone    : +61-3-9818 2977	     PrimeNet - Internet Consultancy
  Facsimile: +61-3-9819 3788	     Web : <URL:http://www.primenet.com.au/>
  Mobile   : 0412 162 441

