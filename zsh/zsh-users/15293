From zsh-users-return-15293-mason-zsh=primenet.com.au@zsh.org Thu Aug 19 13:49:07 2010
Return-Path: <zsh-users-return-15293-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24350 invoked by alias); 19 Aug 2010 13:49:07 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 15293
Received: (qmail 7553 invoked from network); 19 Aug 2010 13:49:04 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.6 required=5.0 tests=BAYES_00,MISSING_HEADERS,
	RCVD_IN_DNSWL_LOW,SPF_HELO_PASS autolearn=no version=3.3.1
Received-SPF: none (ns1.primenet.com.au: domain at csr.com does not designate permitted sender hosts)
Date: Thu, 19 Aug 2010 14:07:30 +0100
From: Peter Stephenson <Peter.Stephenson@csr.com>
Cc: zsh-users@zsh.org
Subject: Re: process substitution and Ctrl-C
Message-ID: <20100819140730.70daeb3b@csr.com>
In-Reply-To: <20100819124142.GQ16075@prunille.vinc17.org>
References: <20100819124142.GQ16075@prunille.vinc17.org>
Organization: Cambridge Silicon Radio
X-Mailer: Claws Mail 3.7.6 (GTK+ 2.18.9; i686-redhat-linux-gnu)
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 19 Aug 2010 13:07:30.0336 (UTC) FILETIME=[7AD59A00:01CB3F9F]
X-Scanned-By: MailControl A_09_40_00 (www.mailcontrol.com) on 10.68.0.116

On Thu, 19 Aug 2010 14:41:42 +0200
Vincent Lefevre <vincent@vinc17.net> wrote:
> In the following example:
> 
>   { repeat 10 { date >&2; /bin/sleep 1 } } 2>>(cat -n; loop)
> 
> where "loop" is a program that consumes CPU time, is it normal that
> when one interrupts the command with Ctrl-C, the substituted process
> isn't killed? (I can see "loop" taking CPU time.)

Without looking at the code, I wouldn't be at all surprised: unless we did
something special, SIGINT would go only to foreground processes, which
wouldn't include the process substitution.  Logically, you might have
thought that passing the SIGINT as received by the shell on to associated
processes (which are recorded in a part of the job record) should be
possible, but this sort of thing is fairly well down my personal list of
priorities.

-- 
Peter Stephenson <pws@csr.com>            Software Engineer
Tel: +44 (0)1223 692070                   Cambridge Silicon Radio Limited
Churchill House, Cambridge Business Park, Cowley Road, Cambridge, CB4 0WZ, UK


Member of the CSR plc group of companies. CSR plc registered in England and Wales, registered number 4187346, registered office Churchill House, Cambridge Business Park, Cowley Road, Cambridge, CB4 0WZ, United Kingdom

