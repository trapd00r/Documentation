From hzoli@cs.elte.hu Thu Jun 27 01:05:33 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by melb.werple.net.au (8.7.5/8.7.3/2) with ESMTP id BAA11000 for <mason@werple.mira.net.au>; Thu, 27 Jun 1996 01:05:30 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id KAA09415; Wed, 26 Jun 1996 10:56:31 -0400 (EDT)
Resent-Date: Wed, 26 Jun 1996 10:56:31 -0400 (EDT)
From: Zoltan Hidvegi <hzoli@cs.elte.hu>
Message-Id: <199606261452.QAA11640@turan.elte.hu>
Subject: Re: Use of qualifiers without glob pattern?
To: schaefer@nbn.com
Date: Wed, 26 Jun 1996 16:52:51 +0200 (MET DST)
Cc: zsh-workers@math.gatech.edu
In-Reply-To: <960626065137.ZM2151@candle.brasslantern.com> from Bart Schaefer at "Jun 26, 96 06:51:35 am"
Organization: Dept. of Comp. Sci., Eotvos University, Budapest, Hungary
Phone: (36 1)2669833 ext: 2667, home phone: (36 1) 2752368
X-Mailer: ELM [version 2.4ME+ PL15 (25)]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"hXLxj1.0.1J2.U-Kqn"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/1447
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu
Content-Length: 2745
Status: OR

> On Jun 26,  1:02pm, Zoltan Hidvegi wrote:
> } Subject: Re: Use of qualifiers without glob pattern?
> }
> } > the problem is, $i(:r) gives the same as $i!!!
> } 
> } Yes, it stopped working in beta20.  Here is the fix.
> 
> Gosh, guys, this is pretty basic stuff to have suddenly stop working.
> This is why I get nervous every time a big patch like the metafication
> stuff gets put in.

The (:...) modifiers stopped working only if the argument had no wildcards
so *(:r) always worked.  And foo.bar(:r) works only since about a year.

That particular bug is related to the execcmd reorganization to allow
things like foo=exec ; $foo bar work which is probably more basic than the
modifiers.

> Speaking of big patches and breaking things that have been working for
> a long time, it's now been more than a year since RC said he was going
> to stop accepting major changes and stabilize zsh to get an official
> (not beta) release put out.  No indictment of anyone intended -- I know
> zsh takes a back seat to the real world, which is among the reasons why
> RC handed the archive over to Zoltan; and some of the recent changes
> have fixed some really annoying long-standing bugs -- but do we have
> any idea when a true release can finally happen?

In beta21 there was no really serious problems.  I'm going to release
beta22 within a couple of days.  It will contain a partial solution of the
signal reentrancy problem by saving and resoring some variables which fixes
the most serious problems.  If no problems reported within a few days
of that release I'll announce this beta in some newsgroups as a 3.0
pre-release.  Maybe beta22 is not a good name for that.  It may be better
to call it to zsh-2.99.0 as the next stable release will be zsh-3.0.0.

I know that there were many changes since beta16, more than I wanted.  RC
announced a feature freeze a year ago.  New features were introduced in
beta17 but these new features were already well tested as these were
present in my non-official releases for more than a year.  Sine beta17
there were many conceptual changes to fix long-standing bugs and to improve
sh compatibility.  The biggest change was making zsh 8-bit clean which was
unavoidable.  I think that beta21 is much more stable than beta16.  /bin/sh
can now be safely linked to zsh-2.6-beta21.  If invoked as sh/ksh zsh
almost conforms to POSIX 1003.2.

Also several debug tests were added and these are enabled by default.
These debug messages might give a feeling that recent betas are more buggy
than older ones but most of these bugs were always there.  In the final
stable release debug checks will be disabled by default but in beta
releases I'd like zsh to complain loudly if it thinks that there is a bug.

Zoltan


