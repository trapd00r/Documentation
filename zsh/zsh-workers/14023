From zsh-workers-return-14023-mason-zsh=primenet.com.au@sunsite.dk Thu Apr 19 08:03:02 2001
Return-Path: <zsh-workers-return-14023-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9101 invoked from network); 19 Apr 2001 08:03:01 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 19 Apr 2001 08:03:01 -0000
Received: (qmail 7251 invoked by alias); 19 Apr 2001 08:02:54 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 14023
Received: (qmail 7232 invoked from network); 19 Apr 2001 08:02:54 -0000
From: paul@falstad.com (Paul Falstad)
Message-Id: <10104190102.ZM9386@zoof.cts.com>
Date: Thu, 19 Apr 2001 01:02:50 -0700
X-Anagram: Salad, Flat Up
Reply-To: Paul Falstad <paul@falstad.com>
To: zsh-workers@sunsite.dk
Subject: problem with 8-bit characters
Mime-Version: 1.0
Content-Type: multipart/mixed;
	boundary="PART-BOUNDARY=.110104190102.ZM9386.cts.com"


--PART-BOUNDARY=.110104190102.ZM9386.cts.com
Content-Description: Text
Content-Type: text/plain ; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
X-Zm-Decoding-Hint: mimencode -q -u 

Hi,

I would like to mention a bug that's been there since the beginning
(and has come back to haunt me).  If you have a filename which
includes one of the character tokens (like 0x84) then zsh will
of course have lots of problems dealing with that file.

example:

zsh% ls Albumbl?tter' Op. 124.wav'     =

ls: Albumbl
           tter Op. 124.wavv: No such file or directory
                        ^^^^

bash$ ls -l Albumbl?tter' Op. 124.wav'
-rwxrwxr-x   1 pf       users    11277884 Apr 19 00:30 Albumbl?tter Op. 1=
24.wav
bash$ echo Albumbl?tter' Op. 124.wav' | od -c
0000000   A   l   b   u   m   b   l 204   t   t   e   r       O   p   .
0000020       1   2   4   .   w   a   v  \n
0000031

This particular file is on an smbfs filesystem on linux.  The file is
called "Albumbl=E4tter Op. 124.wav" on the PC side but is showing up
with a \204 (0x84) instead of an "=E4" on the linux side because of a bug=
 in
smbfs.  Fortunately there appears to be a fix for the smbfs problem
so I'm going to try that out.  However zsh isn't handling this very well.=


I expected that characters like 0x84 would never show up anywhere but
apparently that isn't the case.  This is probably a real low priority
bug and it seems very hard to fix, but I just wanted to point out that
it is a real problem in some cases in case anyone comes up with any
clever ideas for how to fix this.

Thanks much.


-- =

Paul Falstad, paul@falstad.com, 805-966-4935, http://www.falstad.com/
work: paul.falstad@openwave.com, 805-957-1790, http://www.openwave.com/


--PART-BOUNDARY=.110104190102.ZM9386.cts.com--

