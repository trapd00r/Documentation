From zsh-users-return-3468-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Oct 23 14:18:54 2000
Return-Path: <zsh-users-return-3468-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1388 invoked from network); 23 Oct 2000 14:18:53 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 23 Oct 2000 14:18:53 -0000
Received: (qmail 8269 invoked by alias); 23 Oct 2000 14:18:41 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 3468
Received: (qmail 8262 invoked from network); 23 Oct 2000 14:18:40 -0000
Message-Id: <200010231418.JAA09830@gonzo.tamu.edu>
From: Philip Kizer <pckizer@tamu.edu>
To: Juhapekka Tolvanen <juhtolv@st.jyu.fi>
cc: zsh-user mailing list <zsh-users@sunsite.auc.dk>
Subject: Re: Whatta fsck is this? 
Reply-To: pckizer@tamu.edu
In-reply-to: Your message of "Mon, 23 Oct 2000 16:45:10 +0300."
             <20001023164510.A2947@verso.st.jyu.fi> 
Date: Mon, 23 Oct 2000 09:18:34 -0500
Sender: pckizer@tamu.edu

Juhapekka Tolvanen <juhtolv@st.jyu.fi> wrote:
>Argh! It was b0rken! That does not fscking work, when I am rewt.

Not to answer the larger question, but why don't you "simplify" the
optional root bits in this from:

># {{{ Am I root?
>
>if (( EUID == 0 ))
>then
>#  export ROOTTEXT='=*[ROOT ZSH]*='
>  export ROOTTEXT='-=*[ROOT ZSH]*=-'
>#  ROOTTEXT=''
>  export ROOTPROMPTADD=' '
>  export ROOTTITLEADD=' | '
>
># ADD THIS TO PROMPT:
># %S$ROOTTEXT%s$ROOTPROMPTADD
># AND THIS TO TITLE:
># $ROOTTEXT$ROOTTITLEADD
>
>#PATH="/usr/local/sbin:/usr/sbin:/sbin:$PATH"
>#export PATH
>
>else
>  ROOTTEXT=''
>  ROOTPROMPTADD=''
>  ROOTTITLEADD=''
>fi

into:

export ROOTTEXT='%(0#.-=*[ROOT ZSH]*=-)'
export ROOTPROMPTADD='%(0#. .)'
export ROOTTITLEADD='%(0#. | .'

etc.?


-philip

-- 
Philip Kizer,
USENIX Liaison to Texas A&M University       <usenix@tamu.edu>
Texas A&M CIS Operating Systems Group, Unix <pckizer@tamu.edu>

