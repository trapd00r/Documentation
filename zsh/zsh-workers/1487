From mason@werple.net.au Sun Jun 30 19:46:10 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by melb.werple.net.au (8.7.5/8.7.3/2) with ESMTP id TAA28254 for <mason@werple.mira.net.au>; Sun, 30 Jun 1996 19:46:08 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id FAA27053; Sun, 30 Jun 1996 05:27:16 -0400 (EDT)
Resent-Date: Sun, 30 Jun 1996 05:27:16 -0400 (EDT)
From: Geoff Wing <mason@werple.net.au>
Message-Id: <199606300926.JAA26906@werple.net.au>
Subject: Re: ulimit should limit the shell?
To: zsh-workers@math.gatech.edu (zsh-list)
Date: Sun, 30 Jun 1996 19:26:32 +1000 (EST)
In-Reply-To: <960630003021.ZM11861@zyrcon.z-code.com> from "Barton E. Schaefer" at Jun 30, 96 00:30:21 am
X-Mailer: ELM [version 2.4 PL25]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"x7j0s.0.dc6.pXarn"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/1487
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu
Content-Length: 1411
Status: OR

:} In other shells (bash, ksh93 and pdksh) ulimit affects the shell itself,
:} not only child processes.  I think zsh ulimit should behave similarily.
:} Even after ulimit is changed limit can still be used to set limits which
:} affect child processes only.
:According to zshbuiltins.1, `ulimit' affects child processes only, but
:`limit' affects both zsh and its children.  Is this description wrong?

It's not really a clear description in the manual.

Running limit/ulimit/unlimit sets limits on all child processes.
Running "limit -s" sets the limits for the shell (using the same limits
the child processes are currently set to).
So to have different limits for child and shell you need to setup the
shell's limits first, limit -s, then set the child's limits.

:I believe the reason for the zsh behavior is that the zsh `limit' is
:derived from csh/tcsh, where `ulimit' does not exist.  Why `ulimit' is
:not simply a synonym for `limit' I do not know; `ulimit' got put in to
:zsh during one of the stretches when I wasn't paying much attention to
:the mailing list.

I don't know where ulimit came from, though bash has it.  However it's
not fully compatible with the bash ulimit.  If it's been put in to
provide some sort of compatibility with bash (or anything else) it
probably should be changed to be more compatible.


-- 
Mason [G.C.W]  mason@werple.mira.net.au    "Hurt...Agony...Pain...LOVE-IT"


