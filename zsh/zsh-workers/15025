From zsh-workers-return-15025-mason-zsh=primenet.com.au@sunsite.dk Thu Jun 21 10:22:44 2001
Return-Path: <zsh-workers-return-15025-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 29249 invoked from network); 21 Jun 2001 10:22:42 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 21 Jun 2001 10:22:42 -0000
Received: (qmail 26347 invoked by alias); 21 Jun 2001 10:22:02 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 15025
Received: (qmail 26330 invoked from network); 21 Jun 2001 10:22:01 -0000
Sender: kiddleo
Message-ID: <3B31CAE9.CBBE1E30@u.genie.co.uk>
Date: Thu, 21 Jun 2001 11:22:33 +0100
From: Oliver Kiddle <okiddle@yahoo.co.uk>
X-Mailer: Mozilla 4.77 [en] (X11; U; Linux 2.2.15 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: zsh-workers@sunsite.dk
Subject: Re: PATCH: Completion for AUTO_CD
References: <1010621091740.ZM1701@candle.brasslantern.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Bart Schaefer wrote:
> 
> This should be pretty self-explanatory, except for the fact that it's
> named _autocd because _command is pre-empted for the `command' builtin.

I'm not too keen on the name. I'd suggest using _command and renaming
the existing _command, perhaps to _command_builtin (we have an
_jobs_builtin).

My initial thought on seeing your patch was that completion for autocd
already works. This is because of the line in _command_names which adds
executable files and directories. This is there for completing commands
by specifying the full path to them. It is unfortunate that we now get
the directories twice but I can't think of a simple fix.

_cd should also possibly be adding usernames and parameters for the
cdablevars option.

> On a semi-related note, why doesn't _command call `_command_names -e'?

Probably because it pre-dates it.

Oliver

