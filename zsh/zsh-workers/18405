From zsh-workers-return-18405-mason-zsh=primenet.com.au@sunsite.dk Sun Mar 30 18:59:39 2003
Return-Path: <zsh-workers-return-18405-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24309 invoked from network); 30 Mar 2003 18:59:38 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 30 Mar 2003 18:59:38 -0000
Received: (qmail 25023 invoked by alias); 30 Mar 2003 18:59:29 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 18405
Received: (qmail 25015 invoked from network); 30 Mar 2003 18:59:28 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 30 Mar 2003 18:59:28 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [4.64.233.231] by sunsite.dk (MessageWall 1.0.8) with SMTP; 30 Mar 2003 18:59:27 -0000
Received: (from schaefer@localhost)
	by candle.brasslantern.com (8.11.6/8.11.6) id h2UIxAb10123
	for zsh-workers@sunsite.dk; Sun, 30 Mar 2003 10:59:10 -0800
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <1030330185910.ZM10122@candle.brasslantern.com>
Date: Sun, 30 Mar 2003 18:59:10 +0000
In-Reply-To: <5451y0rgrxu.fsf@icd.teradyne.com>
Comments: In reply to Vin Shelton <shelton@icd.teradyne.com>
        "Test Failures" (Mar 28,  3:24pm)
References: <5451y0rgrxu.fsf@icd.teradyne.com>
X-Mailer: Z-Mail (5.0.0 30July97)
To: Zsh hackers list <zsh-workers@sunsite.dk>
Subject: Re: Test Failures
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Mar 28,  3:24pm, Vin Shelton wrote:
}
} Recently (starting I think on March 26), this failure appeared

That would make sense, as the test in question was added on March 26.

} ***************
} *** 1,2 ****
} - 1) one     2) two     3) three   
}   input> input> 
} --- 1 ----
} Was testing: `select' loop

It looks like the test is working correctly (in the sense that it reads
the input and chooses the right item from the list) except that the list
of choices is not being printed to stderr where the test code expects to
see it.

This may be happening because loop.c:selectlist() is still using the global
variable `columns' (usually initialized from the terminal size) to decide
how wide a list to print, even when the input to the select loop is not
coming from a terminal and the output is not to a terminal.

That's only a guess, though, because this test passes on machines to which
I have access.

