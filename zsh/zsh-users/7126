From zsh-users-return-7126-mason-zsh=primenet.com.au@sunsite.dk Mon Mar 08 11:48:46 2004
Return-Path: <zsh-users-return-7126-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 792 invoked from network); 8 Mar 2004 11:48:45 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 8 Mar 2004 11:48:45 -0000
Received: (qmail 3201 invoked by alias); 8 Mar 2004 11:48:29 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 7126
Received: (qmail 3164 invoked from network); 8 Mar 2004 11:48:29 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 8 Mar 2004 11:48:29 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [193.109.254.211] by sunsite.dk (MessageWall 1.0.8) with SMTP; 8 Mar 2004 11:48:29 -0000
X-VirusChecked: Checked
X-Env-Sender: okiddle@yahoo.co.uk
X-Msg-Ref: server-2.tower-36.messagelabs.com!1078746508!4469868
X-StarScan-Version: 5.2.5; banners=-,-,-
X-Originating-IP: [158.234.9.163]
Received: (qmail 6952 invoked from network); 8 Mar 2004 11:48:28 -0000
Received: from iris.logica.co.uk (158.234.9.163)
  by server-2.tower-36.messagelabs.com with SMTP; 8 Mar 2004 11:48:28 -0000
Received: from trentino.logica.co.uk ([158.234.142.61])
	by iris.logica.co.uk (8.12.3/8.12.3/Debian -4) with ESMTP id i28BmRCk020311
	for <zsh-users@sunsite.dk>; Mon, 8 Mar 2004 11:48:28 GMT
Received: from trentino.logica.co.uk (localhost [127.0.0.1])
	by trentino.logica.co.uk (Postfix) with ESMTP id CFDC879721B9
	for <zsh-users@sunsite.dk>; Mon,  8 Mar 2004 12:15:28 +0100 (CET)
X-VirusChecked: Checked
X-StarScan-Version: 5.0.7; banners=.,-,-
In-reply-to: <18393.1078742029@csr.com> 
From: Oliver Kiddle <okiddle@yahoo.co.uk>
References: <18393.1078742029@csr.com>
To: zsh-users@sunsite.dk
Subject: Re: PATCH: case-insensitive globbing 
Date: Mon, 08 Mar 2004 12:15:28 +0100
Message-ID: <19603.1078744528@trentino.logica.co.uk>

Peter wrote:
> 
> There's one patch I need to get in to improve efficiency on Cygwin
> (currently the shell will try to search the entire directory for files
> since it doesn't know the OS treats all files case insensitively)
> which I'll try and do later.

It's just a thought but would it be somehow possible to detect the
filesystem type and allow the efficency gain to be of use where, for
example, a windows partition is mounted from linux.

It seems that there is a getmntent library function and we can get the
name of the filesystem. Presumably this is how find's -fstype option
works. I can't see any way of determining a filesystem's
case-sensitive/case-preserving properties but we can always have a
special array so the user just needs casefs=( vfat )

Oliver

