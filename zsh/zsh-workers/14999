From zsh-workers-return-14999-mason-zsh=primenet.com.au@sunsite.dk Wed Jun 20 17:34:49 2001
Return-Path: <zsh-workers-return-14999-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 25563 invoked from network); 20 Jun 2001 17:34:48 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 20 Jun 2001 17:34:48 -0000
Received: (qmail 3708 invoked by alias); 20 Jun 2001 17:34:09 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 14999
Received: (qmail 3689 invoked from network); 20 Jun 2001 17:34:08 -0000
X-Envelope-Sender-Is: Andrej.Borsenkow@mow.siemens.ru (at relayer goliath.siemens.de)
Date: Wed, 20 Jun 2001 21:34:35 +0400 (MSD)
From: Andrej Borsenkow <Andrej.Borsenkow@mow.siemens.ru>
X-X-Sender:  <bor@itsrm2.mow.siemens.ru>
To: Bart Schaefer <schaefer@candle.brasslantern.com>
cc: Clint Adams <schizo@debian.org>, <nobse@debian.org>,
   <101083@bugs.debian.org>, <zsh-workers@sunsite.dk>
Subject: Re: %l prompt expansion change
In-Reply-To: <1010620170108.ZM8579@candle.brasslantern.com>
Message-ID: <Pine.SV4.4.33.0106202129110.26062-100000@itsrm2.mow.siemens.ru>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Wed, 20 Jun 2001, Bart Schaefer wrote:

> }
> } Well, mostly aesthetic considerations. It is `0' om /dev/tty0 and pts/3 or
> } term/4 somewhere else. Also, ps usually shows tty line as base name sans
> } /dev/. And not every Unix is Linux yet to treat /dev/tty* specially.
>
> The treatment of /dev/tty* has nothing to do with Linux, and everything
> to do with old BSD around 4.2, where real TTYs were named /dev/ttyt* and
> PTYs were named /dev/ttyp*, and the intent was to have %l expand to e.g.
> "t9" or "p9".  The idea of logging in on a real system console with a
> /dev/tty<-> name probably never occurred to PF -- unix machines were
> almost exclusively time-sharing when this code was first written.
>
> I can almost guarantee that PF never expected %l to expand to include an
> entire directory name like "pts/" or "term/".  Prompts are intended to be
> extremely concise, to maximize editing space.  That's why RPROMPT came to
> exist: a prompt that could be verbose but would get out of the way when
> your command line got long.
>

It already expands to term/* if tty is /dev/term/*. So, the point of my
patch was to eliminate inconsistency. It is hard to me (sorry) to remember
that {0} is tty0 when most of the time I have {pts/3} or like.


> } I asked if somebody was against this change.
>
> Well, we asked if anybody was against the HIST_NO_STORE change, too, and
> now Vincent is complaining about it.  Probably we should ask these kinds
> of questions on zsh-users (without including the proposed patch).
>

But Clint is on zsh-workers list. No offence intended.

-andrej

