From zsh-users-return-2235-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Mar 25 10:58:06 1999
Return-Path: <zsh-users-return-2235-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5368 invoked from network); 25 Mar 1999 10:58:02 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 25 Mar 1999 10:58:02 -0000
Received: (qmail 15799 invoked by alias); 25 Mar 1999 10:56:24 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 2235
Received: (qmail 15792 invoked from network); 25 Mar 1999 10:56:23 -0000
Date: Thu, 25 Mar 1999 11:55:41 +0100 (MET)
From: Wolfgang Hukriede <whukriede@ifm.uni-kiel.de>
Message-Id: <199903251055.LAA02436@sally.ifm.uni-kiel.de>
To: zsh-users@sunsite.auc.dk
Subject: Re: zsh startup files

Peter Stephenson <pws@ibmth.df.unipi.it> :

> Unfortunately I don't see a way of allowing a user to make a login shell
> work this way, but if it's a question of how the system files are handled
> maybe it's OK to leave it to the sysadmin.
...
> To summarise: Invoking zsh -b, or calling `setopt GLOBAL_RCS_FIRST' in
> /etc/zshenv, would force the order of scripts to be
>   /etc/zshenv /etc/zprofile /etc/zshrc /etc/zlogin
>   ~/.zshenv ~/.zprofile ~/.zshrc ~/.zlogin
> As with the NO_RCS option, setting or unsetting the option at any later
> point would have no effect.  The sysadmin could force all the global
> scripts to be used before the user does anything.

How about allowing the *user* to `setopt GLOBAL_RCS_FIRST' in their 
own ~/.zshenv; such that the order of script evaluation became:

 /etc/zshenv 
 ~/.zshenv (first chunk until `setopt GLOBAL_RCS_FIRST', then continue with ..)
 /etc/zprofile 
 /etc/zshrc 
 /etc/zlogin
 ~/.zshenv (rereading this one)
 ~/.zprofile 
 ~/.zshrc 
 ~/.zlogin

(Or maybe ~/.zshenv should be evaluated twice anyway.)

This way the *user* could "force all the global scripts to be used 
before the user does anything".

I thought, it was Stefans's concern to get liberated from the 
sysadmin's (or the sw distribution's) whims, not to donate them even
more power.

Greetings, Wolfgang.

