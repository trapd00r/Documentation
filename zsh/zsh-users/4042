From zsh-users-return-4042-mason-zsh=primenet.com.au@sunsite.dk Sat Jul 21 14:37:59 2001
Return-Path: <zsh-users-return-4042-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9080 invoked from network); 21 Jul 2001 14:37:58 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 21 Jul 2001 14:37:58 -0000
Received: (qmail 14433 invoked by alias); 21 Jul 2001 14:37:40 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4042
Received: (qmail 14422 invoked from network); 21 Jul 2001 14:37:39 -0000
X-Authentication-Warning: localhost.free.fr: lefevre set sender to vincent@vinc17.org using -f
Date: Sat, 21 Jul 2001 15:44:49 +0200
From: Vincent Lefevre <vincent@vinc17.org>
To: zsh-users@sunsite.dk
Subject: Re: [4.0.2 bug] commands not written to history
Message-ID: <20010721154449.A1971@ay.free.fr>
Mail-Followup-To: zsh-users@sunsite.dk
References: <20010629163348.A9632@greux.loria.fr>
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
In-Reply-To: <20010629163348.A9632@greux.loria.fr>
User-Agent: Mutt/1.3.19i
X-Mailer-Info: http://www.vinc17.org/mutt_eng.html

On Fri, Jun 29, 2001 at 16:33:49 +0200, Vincent Lefevre wrote:
> I sometimes write related commands like
> 
> $ cmd1
> $ cmd2
> 
> And several hours/days later, I can recall cmd1 from the history and
> type ^O to recall cmd2 automatically. I don't want to do that in a
> script or in a function, to have full control on these commands (and
> be able to insert commands between cmd1 and cmd2 if need be).
> 
> But sometimes (difficult to say under which conditions), a copy of cmd1
> had been written to the history (as expected), but there is no copy of
> cmd2. That is, ^O gives me another command (instead of cmd2).
[snip]

This problem occurred again, but this time with a local FS, so the
problem can't be related to NFS:

/dev/hda13 on /home type ext2 (rw)

Moreover, the command I got after cmd1 was "startx", which means that
cmd2 (the command that hadn't been written to the history) was the
last command typed in the shell, like in my previous bug report.

-- 
Vincent Lefèvre <vincent@vinc17.org> - Web: <http://www.vinc17.org/> - 100%
validated HTML - Acorn Risc PC, Yellow Pig 17, Championnat International des
Jeux Mathématiques et Logiques, TETRHEX, etc.
Work: CR INRIA - computer arithmetic / SPACES project at LORIA

