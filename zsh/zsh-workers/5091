Delivered-To: mason-zsh@primenet.com.au
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
Date: Thu, 28 Jan 1999 17:57:28 +0100 (MET)
Message-Id: <199901281657.RAA12081@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: "Bart Schaefer"'s message of Thu, 28 Jan 1999 08:31:06 -0800
Subject: Re: zsh-3.1.5-pws-5: mixing "old" and "new" completions?
X-Mailing-List: <zsh-workers@sunsite.auc.dk> 5091


Bart Schaefer wrote:

> X-Seq: 5087
> 
> On Jan 28, 12:28pm, Peter Stephenson wrote:
> } Subject: Re: zsh-3.1.5-pws-5: mixing "old" and "new" completions?
> }
> } I'm increasingly of the opinion we can do without zle -C.  [...]
> } So I would propose simply removing zle -C, and being ready to document
> } various how-to's in the compctl manual when the new stuff becomes
> } fixed.  It hasn't been in any archived version, so I hope there won't
> } be many cries of woe.
> 
> Sounds fine to me (and would give over to Sven the "-C" option).  As I
> said elsewhere, I don't think anybody running any version of 3.1.x has
> much call for woeful cries; the whole point of a development version is
> to be able to change stuff until it works right.  (3.0.x users are
> another matter, but not at issue here.)

Two more comments:

- complist currently accepts only simple flag lists, nothing of the
  complicated stuff (-x, +, -l '', and a few more), since that would
  require setting up things like the word-array each time complist is
  used. We could do that (the code is there and used for `compcall')
  but it would make things a bit slower (in some simple cases we can
  quickly test if we need to set up things and thus sometimes avoid
  doing so, but sometimes this test would be complicated).
  Whereas `-C' accepts anything `compctl' accepts.
- After looking again at Peter's examples (the ones he converted from
  `zle -C' to `zle -c') I'd like to point out that we could even
  supply a shell function that creates such one-shot completion
  widgets. So, that may be an argument for removing it...

Bye
 Sven


--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

