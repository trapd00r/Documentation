From zsh-workers-return-10381-mason-zsh=primenet.com.au@sunsite.auc.dk Sun Apr 02 03:16:55 2000
Return-Path: <zsh-workers-return-10381-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 15130 invoked from network); 2 Apr 2000 03:16:55 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 2 Apr 2000 03:16:55 -0000
Received: (qmail 25074 invoked by alias); 2 Apr 2000 03:16:46 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 10381
Received: (qmail 25052 invoked from network); 2 Apr 2000 03:16:45 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <1000402031633.ZM17697@candle.brasslantern.com>
Date: Sun, 2 Apr 2000 03:16:33 +0000
In-Reply-To: <E12bUTE-00011s-00.2000-04-01-21-26-12@mail12.svr.pol.co.uk>
Comments: In reply to Peter Stephenson <pws@pwstephenson.fsnet.co.uk>
        "Completion issues" (Apr  1,  9:26pm)
References: <E12bUTE-00011s-00.2000-04-01-21-26-12@mail12.svr.pol.co.uk>
X-Mailer: Z-Mail (5.0.0 30July97)
To: Peter Stephenson <pws@pwstephenson.fsnet.co.uk>,
        zsh-workers@sunsite.auc.dk (Zsh hackers list)
Subject: Re: Completion issues
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Apr 1,  9:26pm, Peter Stephenson wrote:
} Subject: Completion issues
}
} First, I hate the new behaviour of _complete_help.  I use it to find out
} what context I'm in.  Unfortunately I don't get to see that, because a huge
} list of style has scrolled by.

I won't say I *hate* the new behavior, but I was certainly alarmed by the
amount of style output that was generated even for something like "ls" or
"echo" that doesn't have any special handling.  "cvs <^Xh>" is horrifying.
That list-colors, list-packed, list-rows-first, last-prompt, accept-exact,
and menu appear no less than 8 times each seems a tad excessive.


} I don't think a style to turn off styles in ^Xh is good enough,
} there's too much mucking around, and you may want the style information
} anyway.  A workable alternative is that a numeric argument activates the
} style list --- this feature could be configurable by a style.

I like the numeric-argument idea.  If we wanted to get really fancy, a
number from 1-4 could denote increasingly verbose output, so that using
universal-argument would produce the full-blown listing.

I'm not convinced we'd need a style to make that configurable, though.
It's pretty straightforward to create a zle widget that sets NUMERIC and
then calls another widget.

} Second, if I understood correctly, the default behaviour for completion is
} to ignore ignored completions completely.  Thus the behaviour of $fignore
} has changed.

Unless I'm getting the wrong version of a function, it appears that this
is special-cased by _path_files so that $fignore has not changed -- but
if you use the ignored-patterns style instead, then ignored completions
really are ignored, and you need to add the _ignored completer to get
the old behavior back.

For the rest of the stuff you mentioned, I'm even more lost than you.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

