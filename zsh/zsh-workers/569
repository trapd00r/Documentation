From zsh-workers-request@math.gatech.edu  Thu Nov  9 06:12:57 1995
Received: from math.gatech.edu (euclid.skiles.gatech.edu [130.207.146.50]) by werple.net.au (8.7/8.7.1) with SMTP id GAA20990 for <mason@werple.mira.net.au>; Thu, 9 Nov 1995 06:12:53 +1100 (EST)
Received: by math.gatech.edu (5.x/SMI-SVR4)
	id AA23006; Wed, 8 Nov 1995 13:29:52 -0500
Resent-Date: Wed, 8 Nov 1995 19:30:28 +0100 (MET)
Old-Return-Path: <hzoli@cs.elte.hu>
From: Zoltan Hidvegi <hzoli@cs.elte.hu>
Message-Id: <199511081830.TAA22990@bolyai.cs.elte.hu>
Subject: Re: Bugs with read -q
To: pws@ifh.de (Peter William Stephenson)
Date: Wed, 8 Nov 1995 19:30:28 +0100 (MET)
Cc: zsh-workers@math.gatech.edu (zsh-workers)
In-Reply-To: <9511081616.AA09580@sgi.ifh.de> from "Peter William Stephenson" at Nov 8, 95 05:16:48 pm
X-Mailer: ELM [version 2.4 PL24]
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-Id: <"1ckde.0.Od5.VSFem"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/569
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Peter wrote:
> 1) `read -q' and `read -k' non-interactively screw up the terminal:
> potentially any stty setting, by the looks of things.  It looks to me
> like it was trying to restore the tty setting without having the right
> settings to restore.  The patch appears to fix it.  Unfortunately the
> same problem didn't occur for the version of 2.6-beta11-test11 I was
> running, which is very strange as it was in a previous version of
> 2.6-beta11-test10 and even a version of 2.5: maybe it was fixed by a
> patch I applied not yet in the archive.

Really stange.  Beta10 does not have this bug.  I thought it was fixed long
ago.  I think the fix was in art. 6142 from Dave Sainty.  Peter's patch to
delay terminal and termcap setup (art. 479) may be related to this.  That's
included with test12 but not in test11.

Bye,

  Zoltan

