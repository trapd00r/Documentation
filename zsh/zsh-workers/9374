From zsh-workers-return-9374-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Jan 19 16:42:49 2000
Return-Path: <zsh-workers-return-9374-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4831 invoked from network); 19 Jan 2000 16:42:48 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 19 Jan 2000 16:42:48 -0000
Received: (qmail 10304 invoked by alias); 19 Jan 2000 16:42:41 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 9374
Received: (qmail 10297 invoked from network); 19 Jan 2000 16:42:40 -0000
Date: Wed, 19 Jan 2000 17:42:39 +0100 (MET)
Message-Id: <200001191642.RAA19840@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: Alexandre Duret-Lutz's message of 19 Jan 2000 12:17:37 +0100
Subject: Re: completion after //


Alexandre Duret-Lutz wrote:

> >>> "Tanaka" == Tanaka Akira <akr@jaist.ac.jp> writes:
> 
>  Tanaka> Sometimes completion after ../ frustrates me.
> 
> [...]
> 
> Along with the same lines, something I don't like is
> that the path `a///////b' is not understand as 'a/b' by _path_files 
> (when I cut and past path names that contains doubled 
> slashes, it's annoying to not be able to complete after these).
> 
> I wanted to add :
> 
> # Squeeze sequences of slashes
> PREFIX="${PREFIX//(\\/)#//}"
> SUFFIX="${SUFFIX//(\\/)#//}"
> [[ $PREFIX = */ ]] && SUFFIX=${SUFFIX#/}
> 
> at the beginning of _path_files, but then realized that
> people may want to use `//' to do partial path completion.
> 
> Should this be tunable ?

I fear it will mess up completion inside braces (only if both multiple 
slashes and braces are used at the same time), but: try it. Using a
style for it, of course ;-)

When I wrote _path_files I was tempted to disallow in-path completion
inside `//' at least when that appears at the beginning, because, if
I'm not completely mistaken, there is or once was a Unix version where 
this had special meaning.

Bye
 Sven


--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

