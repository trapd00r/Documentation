From zsh-workers-request@math.gatech.edu Mon Oct 20 09:29:48 1997
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 18202 invoked from network); 20 Oct 1997 09:29:46 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 20 Oct 1997 09:29:46 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id FAA17967;
	Mon, 20 Oct 1997 05:19:56 -0400 (EDT)
Resent-Date: Mon, 20 Oct 1997 05:19:28 -0400 (EDT)
Recieved: from tammananny.tiger (quinn@tammananny.tiger [127.0.0.1])
    by tammananny.tiger (8.8.7/petrouchka) with ESMTP id CAA00252
    for <zsh-users@math.gatech.edu>; Mon, 20 Oct 1997 02:19:30 -0700
Message-Id: <199710200919.CAA00252@tammananny.tiger>
To: zsh-users@math.gatech.edu (zsh users mailing list)
Subject: zsh $mailpath + MH
Date: Mon, 20 Oct 1997 02:19:30 -0700
From: Quinn Dunkan <quinn@envy.ugcs.caltech.edu>
Resent-Message-ID: <"oqnVl2.0.6O4.V8oIq"@math>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/1092
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

while we're on the subject of MUAs, some improvements could be made in zsh's
mail checking facility, especially where MH-style mail directories are
concerned.  First of all, a quick glance at utils.c seems to indicate that the
algorithm for deciding if new mail has arrived is hard coded.  Why not just
have a $MAILFUNC or something than contains the name (oops, here comes that
lambda buisness again :) ) of a function that returns, say, 1 for new mail and
0 for no new mail.  Now that I think of it, why not eliminate mail checking
entirely, and replace it with something in precmd()?  Then it's simple to do
stuff like change PS1 based on mail status, play sound files, etc.  Any
particular reason not to do this?  Back to the existing mail checking:  if I
set $mailpath to my incoming MH directories (mail is sorted with procmail, then
delivered MH-style), I get one notification for every message recieved.  Then I
get notified again whenever I look at any messages.  My current fix is to have
procmail deliver to normail unix mail-files and then have MH extract them
automatically, but I may try mucking around with precmd()...

