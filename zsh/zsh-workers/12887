From zsh-workers-return-12887-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Oct 04 15:06:13 2000
Return-Path: <zsh-workers-return-12887-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 22366 invoked from network); 4 Oct 2000 15:06:12 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 4 Oct 2000 15:06:12 -0000
Received: (qmail 10102 invoked by alias); 4 Oct 2000 15:05:57 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 12887
Received: (qmail 10095 invoked from network); 4 Oct 2000 15:05:55 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <1001004150543.ZM22391@candle.brasslantern.com>
Date: Wed, 4 Oct 2000 15:05:43 +0000
In-Reply-To: <200010041247.OAA09608@beta.informatik.hu-berlin.de>
Comments: In reply to Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
        "Re: PATCH: Redo _zle using _arguments" (Oct  4,  2:47pm)
References: <200010041247.OAA09608@beta.informatik.hu-berlin.de>
X-Mailer: Z-Mail (5.0.0 30July97)
To: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>,
        zsh-workers@sunsite.auc.dk
Subject: Re: PATCH: Redo _zle using _arguments
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Oct 4,  2:47pm, Sven Wischnowsky wrote:
} 
} Bart Schaefer wrote:
} 
} > I also suspect there may be a bug in comparguments -- the '(*)-x' form of
} > optspec is supposed to mean that the '*:msg:act' form is not completed
} > when -x is on the command line, but that doesn't seem to happen (or at
} > least, not always).
} 
} Hm, I had a look but couldn't find a bug. Could you give me an example?

Sure.  Completion after "zle -R -c":

zagzig[501] zle -R -c <TAB>
Completing status line
Completing strings to list

The call to _arguments was:

      _arguments -s \
        "-R[redisplay]" \
	"(*)-c[clear listing]" \
	"(-)::status line: " "*:strings to list: "

Since "(*)-c" is there, and -c is on the line, the "*:strings to list: "
clause should never be activated.  Yet there's the description string for
it, in the listing.  If I go on to add something for the status line:

zagzig[501] zle -R -c something <TAB>
Completing no more arguments

What I expected the first time was either just "Completing status line"
or that plus "no more arguments", but not "strings to list".

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

