From zsh-workers-request@euclid.skiles.gatech.edu Fri Dec 27 11:22:13 1996
Return-Path: <zsh-workers-request@euclid.skiles.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 17777 invoked from network); 27 Dec 1996 11:22:12 -0000
Received: from euclid.skiles.gatech.edu (list@130.207.146.50)
  by coral.primenet.com.au with SMTP; 27 Dec 1996 11:22:12 -0000
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id GAA24587; Fri, 27 Dec 1996 06:17:55 -0500 (EST)
Resent-Date: Fri, 27 Dec 1996 06:17:55 -0500 (EST)
From: Zefram <zefram@dcs.warwick.ac.uk>
Message-Id: <6637.199612271118@stone.dcs.warwick.ac.uk>
Subject: Re: zle interface improvement
To: wayne@clari.net (Wayne Davison)
Date: Fri, 27 Dec 1996 11:18:55 +0000 (GMT)
Cc: zsh-workers@math.gatech.edu (Z Shell workers mailing list)
In-Reply-To: <199612241739.JAA07930@bebop.clari.net> from "Wayne Davison" at Dec 24, 96 09:39:06 am
X-Loop: zefram@dcs.warwick.ac.uk
X-Stardate: [-31]8637.35
X-US-Congress: Moronic fuckers
Content-Type: text
Resent-Message-ID: <"BZ06A2.0.306.Y1xmo"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/2644
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Wayne Davison wrote:
>One miniscule optimization would be to allow non-module code to call
>zle directly if zle is known to be a non-module.
...
>This would allow someone to compile a non-module version of zsh with
>no extra overhead, so it might be worth the extra complexity (or it
>might make so little difference as to be worthless).  Just a thought...

That *could* be done without having incompatible module interfaces (but
it's more complicated than the code you suggest).  But this buys very
little (try grepping for trashzle and the others), and it forces a
complete rebuild if the linked-in-ness of ZLE changes.  At the moment
I'm happily swapping modules in and out of my development executable,
only recompiling init.c each time.  (Remember, gdb can't debug
modules.)

-zefram

