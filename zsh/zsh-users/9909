From zsh-users-return-9909-mason-zsh=primenet.com.au@sunsite.dk Fri Feb 10 21:15:26 2006
Return-Path: <zsh-users-return-9909-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17185 invoked from network); 10 Feb 2006 21:15:24 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.0 (2005-09-13) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00,
	FORGED_RCVD_HELO autolearn=ham version=3.1.0
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 10 Feb 2006 21:15:24 -0000
Received: (qmail 76225 invoked from network); 10 Feb 2006 21:15:16 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 10 Feb 2006 21:15:16 -0000
Received: (qmail 5367 invoked by alias); 10 Feb 2006 21:15:07 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 9909
Received: (qmail 5354 invoked from network); 10 Feb 2006 21:15:07 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 10 Feb 2006 21:15:07 -0000
Received: (qmail 75192 invoked from network); 10 Feb 2006 21:15:07 -0000
Received: from vanunu.ucsc.edu (128.114.150.22)
  by a.mx.sunsite.dk with SMTP; 10 Feb 2006 21:15:05 -0000
Received: from localhost (localhost [127.0.0.1])
	by vanunu.ucsc.edu (Postfix) with ESMTP id 546EC1450A99;
	Fri, 10 Feb 2006 13:14:45 -0800 (PST)
Date: Fri, 10 Feb 2006 13:14:45 -0800 (PST)
From: William Scott <wgscott@chemistry.ucsc.edu>
X-X-Sender: wgscott@vanunu.ucsc.edu
To: "James F. Hranicky" <jfh@cise.ufl.edu>
Cc: zsh-users@sunsite.dk
Subject: Re: Terminal hang when bg/fg root shell on OS X
In-Reply-To: <200602101445.58658.jfh@cise.ufl.edu>
Message-ID: <Pine.OSX.4.58.0602101307260.3028@vanunu.ucsc.edu>
References: <200602101445.58658.jfh@cise.ufl.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII


You might want to consider this workaround, which has the additional merit
of not requiring the root account to be activated (the default on OS X and
Ubuntu Linux, for security reasons):

Just type

sudo screen zsh

You then get a root shell, and can detach it with control-d, reattach it
when you need it, and so forth.

HTH.

Bill



On Fri, 10 Feb 2006, James F. Hranicky wrote:

> When I background then foreground a root shell on OS X I get
> a terminal error:
>
> 	% 1005 : su -
> 	Password:
> 	# exec zsh
> 	# suspend
>
> 	zsh: suspended  su -
> 	% fg
> 	[1]  + continued  su -
> 	# zsh: suspended (signal)  su -
> 	% <hit return>
> 	#
> 	zsh: error on TTY read: Input/output error
>
> The terminal is hung after this. This doesn't appear to happen
> when suspending a user shell and going back to a root shell.
>
> Anyone have any ideas?
>
> ----------------------------------------------------------------------
> | Jim Hranicky, Senior SysAdmin                   UF/CISE Department |
> | E314D CSE Building                            Phone (352) 392-1499 |
> | jfh@cise.ufl.edu                      http://www.cise.ufl.edu/~jfh |
> ----------------------------------------------------------------------
>

