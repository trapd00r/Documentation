From zsh-workers-return-12976-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Oct 12 08:53:16 2000
Return-Path: <zsh-workers-return-12976-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 7295 invoked from network); 12 Oct 2000 08:53:15 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 12 Oct 2000 08:53:15 -0000
Received: (qmail 16256 invoked by alias); 12 Oct 2000 08:52:28 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 12976
Received: (qmail 16247 invoked from network); 12 Oct 2000 08:52:25 -0000
Date: Thu, 12 Oct 2000 10:52:23 +0200 (MET DST)
Message-Id: <200010120852.KAA30189@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: "Andrej Borsenkow"'s message of Wed, 11 Oct 2000 20:42:03 +0400
Subject: RE: completion widgets in menu selection


Andrej Borsenkow wrote:

> > In the last several weeks, I raised three issues on this list:
> >
> >  1. a|TAB being broken (which was fixed and I assume committed to
> >     CVS)
> >
> >  2. being able to more flexibly say that the completion rules for one
> >     command should be identical to another (as in _rlogin) without
> >     requiring Draconian restrictions on how completion functions
> >     should be organized
> >
> >  3. (my favorite) being able to insert all completions that match the
> >     current shell globbing expression into the commandline.
> >
> > The first issue is obviously resolved.  The second issue has generated
> > less traffic than the third and I haven't had much trouble following.
> > It seems like a good track is being followed.
> >
> > On the final issue, I'm confused about where things are going.  I've
> > decided that, as Bart suspected all along, I don't really like TAB
> > automatically "expanding" my glob expression even in the case of cvs
> > add.  What I think I really like is the _insert_all_matches option.
> > That way I can hit TAB to see what would complete without actually
> > having the completion be done, and if I'm satisfied, do something like
> > ^Xi to do the expansion.  Has this functionality actually been added,
> > or was it just discussed?
> 
> Hey ho! Now I'm not alone! :-)))
> 
> Yes, all prerequisites are  implemented in current CVS. What is missing, is
> the widget/key binding itself, but if you use example from docs verbatim, it
> works. I've tried it and I confirm it.
> 
> If you have suggestions what this _insert_all_matches should do - you are
> welcome. The difference between example and my version is that in my version
> you could hit ^Xi - and if there was no list, it called normal completion. Is
> this interesting? Example from docs will work only after existing list has
> already been generated.

But of course it's easy to do, just change the example to use:

  zstyle ':completion:all-matches:*' completer _all_matches _complete

(Or _match instead of _complete for the pattern-matching behaviour.)


I'd also like to point out to Jay (although he probably found that out 
already), that all this doesn't really have anything to do with menu
completion, i.e. it works just fine without that. The discussion about 
menu *selection* we had was about making such extra special key
bindings work from withing that (and it's the patch for that which has
been added).

Bye
 Sven


--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

