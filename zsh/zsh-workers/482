From zsh-workers-request@math.gatech.edu  Thu Oct 19 04:59:18 1995
Received: from gatech.edu (gatech.edu [130.207.244.244]) by werple.net.au (8.7/8.7) with SMTP id EAA28937 for <mason@werple.mira.net.au>; Thu, 19 Oct 1995 04:59:14 +1000 (EST)
Received: from euclid (euclid.skiles.gatech.edu) by gatech.edu with SMTP id AA13370
  (5.65c/Gatech-10.0-IDA for <mason@werple.mira.net.au>); Wed, 18 Oct 1995 14:49:17 -0400
Received: by euclid (5.x/SMI-SVR4)
	id AA09419; Wed, 18 Oct 1995 14:46:49 -0400
Resent-Date: Wed, 18 Oct 1995 16:54:08 -0200
Old-Return-Path: <carlos@snfep1.if.usp.br>
Date: Wed, 18 Oct 1995 16:54:08 -0200
From: Carlos Carvalho <carlos@snfep1.if.usp.br>
Message-Id: <199510181854.QAA00335@snfep1.if.usp.br>
To: zsh-workers@math.gatech.edu
Subject: Re: global zlogout and .zlogout
In-Reply-To: <9510180559.AA25070@redwood.skiles.gatech.edu>
References: <199509061637.SAA02444@bolyai.cs.elte.hu>
	<9510180559.AA25070@redwood.skiles.gatech.edu>
Resent-Message-Id: <"5A2Iz2.0.2J2.PkKXm"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/482
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Richard Coleman (coleman@math.gatech.edu) wrote on 18 October 1995 01:59:

 >> > I've just grabed Zoltan's release, after MANY trials :-( Without
 >> > ncftp's nifty appending get I wouldn't have managed...
 >> > 
 >> > I noticed that the global zlogout is not sourced if NORCS is set. I
 >> > think this is wrong, it should always be executed, just like the
 >> > global zshenv.

 >I'm want to know what everyone this is the most usual behavoir.

Is this a local dialect? :-)

 >Currently in the zsh baseline, the global zlogout is only
 >executed for a login shell if NO_RCS is not set and the shell is
 >interactive.  This is definitely wrong.  My first reaction is to have
 >the global zlogout always executed (regardless of NO_RCS) when a login
 >shell is exiting.

This is exactly what I said above.

 >This is the way the global zlogin file is handled.

No, because you can set NO_RCS in your .zshenv. That's why I say above
"just like the global zshenv", which is the only one that's always
executed.

Anyway, we agree on zlogout.

 >Also, I now realize another potential problem.  When the init scripts
 >are sourced when the shell is starting up, there is a hack (setting the
 >sourcelevel to 32768) that prevents an error in these scripts from tripping
 >ERREXIT.  This same should probably apply to the global zlogout and .zlogout.

Only to the global one. The user's one is his problem.

Carlos

