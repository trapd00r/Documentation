From zsh-workers-return-15314-mason-zsh=primenet.com.au@sunsite.dk Sun Jul 08 21:24:22 2001
Return-Path: <zsh-workers-return-15314-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13102 invoked from network); 8 Jul 2001 21:24:21 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 8 Jul 2001 21:24:21 -0000
Received: (qmail 20173 invoked by alias); 8 Jul 2001 21:24:16 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 15314
Received: (qmail 20162 invoked from network); 8 Jul 2001 21:24:15 -0000
To: zsh-workers@sunsite.auc.dk (Zsh hackers list)
Subject: Re: Debugging of dynamocally defined functions 
In-reply-to: ""Bart Schaefer""'s message of "Sat, 07 Jul 2001 23:30:10 -0000."
             <1010707233010.ZM16910@candle.brasslantern.com> 
Date: Sun, 08 Jul 2001 23:26:35 +0100
From: Peter Stephenson <pws@pwstephenson.fsnet.co.uk>
Message-Id: <20010708222640.7382814284@pwstephenson.fsnet.co.uk>

"Bart Schaefer" wrote:
> In another message, PWS said:
> > 
> > By the way, you can use the trick of
> > 
> >   eval "$(which compdef)"
> > 
> > to sync the line numbers with the which output.  At least I hope so ---
> > if this goes screwy there's a bug in text.c.
> 
> No, you can't.  This causes all the lines to be numbered zero.

I've already made a note about this eval behaviour, in fact, in a slightly
different context (see the option tests I just added).  The original idea
was that eval'd code should show the line of the eval, not that of the
place where the eval was, but it has this side effect of suppressing proper
line numbering in functions within the eval.

I'm sure somebody will look at this eventually.  It's a question of the
availabliity of stamina and moral fibre.

-- 
Peter Stephenson <pws@pwstephenson.fsnet.co.uk>
Work: pws@csr.com
Web: http://www.pwstephenson.fsnet.co.uk

