From zsh-users-return-6726-mason-zsh=primenet.com.au@sunsite.dk Tue Oct 21 20:51:18 2003
Return-Path: <zsh-users-return-6726-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9812 invoked from network); 21 Oct 2003 20:51:17 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 21 Oct 2003 20:51:17 -0000
Received: (qmail 19442 invoked by alias); 21 Oct 2003 20:50:33 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 6726
Received: (qmail 19394 invoked from network); 21 Oct 2003 20:50:31 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 21 Oct 2003 20:50:31 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [209.47.172.23] by sunsite.dk (MessageWall 1.0.8) with SMTP; 21 Oct 2003 20:50:28 -0000
Received: from xavier by nest.8d.com with local (Exim 3.35 #1 (Debian))
	id 1AC3ST-0006M9-00
	for <zsh-users@sunsite.dk>; Tue, 21 Oct 2003 16:50:25 -0400
Date: Tue, 21 Oct 2003 16:50:25 -0400
From: xavier <list.zsh-users@natch.dyndns.org>
To: zsh-users@sunsite.dk
Subject: functions borked after a certain time
Message-ID: <20031021205025.GA14954@nest.8d.com>
Mail-Followup-To: zsh-users@sunsite.dk
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
X-Archive: encrypt
User-Agent: Mutt/1.5.4i


Hello,

I use zsh 4.0.7 (i686-pc-linux-gnu)
with functions like this  :

if [ "$TERM" = "xterm" ]; then
setTitleAndIcon () {  print -nP '%{\e]2;'$1'\a\e]1;'$2'\a%}' }
preexec () { setTitleAndIcon $1 ${1%% *} }
precmd () { setTitleAndIcon %n@%m %m }
fi


after some time, the function is all borked :

$ functions setTitleAndIcon        
setTitleAndIcon () {
        itleAndIcon -nP dIcon
}


$ functions precmd
precmd () {
        % *} itleAndIcon %m
}


so each time i call anything, it tries to execute some non-sense code...
all my old shell in my old terms behave the same, they share 
the very same borked functions.

i did not upgrade zsh since thoses zsh started.

any clues ? 

thanks

-- 
xavier

