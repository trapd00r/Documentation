From zsh-users-return-8279-mason-zsh=primenet.com.au@sunsite.dk Thu Dec 09 16:37:31 2004
Return-Path: <zsh-users-return-8279-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 15853 invoked from network); 9 Dec 2004 16:37:30 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 9 Dec 2004 16:37:30 -0000
Received: (qmail 35208 invoked from network); 9 Dec 2004 16:37:24 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 9 Dec 2004 16:37:24 -0000
Received: (qmail 4874 invoked by alias); 9 Dec 2004 16:36:34 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8279
Received: (qmail 4856 invoked from network); 9 Dec 2004 16:36:33 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 9 Dec 2004 16:36:33 -0000
Received: (qmail 33780 invoked from network); 9 Dec 2004 16:36:33 -0000
Received: from rproxy.gmail.com (64.233.170.203)
  by a.mx.sunsite.dk with SMTP; 9 Dec 2004 16:36:31 -0000
Received: by rproxy.gmail.com with SMTP id b11so519469rne
        for <zsh-users@sunsite.dk>; Thu, 09 Dec 2004 08:36:30 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=Z97zPibv5/ESJI70BYQQYzNZ8emCOFr/nHZA0EpxwB7vpTGa5aGk/juDJ3RIb16GhfDnZLr0m8njblKwEvz/KuoyFeXL4uu5PMftUoUPdCx54UD3h8JfxlMKQLcO2wwsdNCUdN3xlanFAM8mK5l4s8XpUWxXVyYKn6UTzDTxgrU=
Received: by 10.38.68.47 with SMTP id q47mr101964rna;
        Thu, 09 Dec 2004 08:36:30 -0800 (PST)
Received: by 10.38.125.21 with HTTP; Thu, 9 Dec 2004 08:36:30 -0800 (PST)
Message-ID: <dc507f4a04120908364a032da6@mail.gmail.com>
Date: Thu, 9 Dec 2004 08:36:30 -0800
From: Felix Rosencrantz <f.rosencrantz@gmail.com>
Reply-To: Felix Rosencrantz <f.rosencrantz@gmail.com>
To: zsh-users@sunsite.dk
Subject: Re: Vim syntax file for zsh
In-Reply-To: <20041209144520.GC9424@puritan.pcp.ath.cx>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <dc507f4a04113023401aeab8b2@mail.gmail.com>
	 <20041201120202.GB9543@puritan.pcp.ath.cx>
	 <dc507f4a04120300022e3894cb@mail.gmail.com>
	 <20041204164217.GA20437@puritan.pcp.ath.cx>
	 <dc507f4a04120800132b01f623@mail.gmail.com>
	 <20041208134714.GB10098@puritan.pcp.ath.cx>
	 <20041208181429.GC10098@puritan.pcp.ath.cx>
	 <902B4263-49EA-11D9-A14D-000A95D2C79E@kalama.no-ip.org>
	 <20041209144520.GC9424@puritan.pcp.ath.cx>
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, hits=0.0 required=6.0 tests=none autolearn=no version=2.63
X-Spam-Hits: 0.0

Still looks good. :)  A couple things:

1. When I first read your message, I  sort of expected that it would
highlight the special variables differently, even if I used the "all"
setting.  It doesn't do that, though that might be nice.
 
2. Strings: These snippets of code all color the same and probably
shouldn't, the embedded variable reference in double quotes should be
colored.
'SUSFU'
'SU$FU'
"SU$FU"

3. Backquotes: While `su$fu` does not highlight the string itself,
except for the variable reference.

4. Keyword Highlighting:  Some unusualness with the local keyword and it's args:
In _files, I notice at the very start some odd coloring on the word
type, since it is a keyword.  Though in this situation it is meant to
be a local variable name:
local type sdef

Also for keywords that seem to be arguments, same file the argument 
"r:" stands out when it shouldn't:
 zparseopts blah blah r: blah blah
This is more a problem with where keywords are found.  Many keywords
should only be marked as keywords when they are in a command position.
  Not sure if this is easy to do...

5. Assignments in Local: The assignment on the local line causes the
left side of the assignment to be colored, which causes "ret=0"  to
standout in a distracting way, since the other variables are not
highlighted...  In this case it seems like the other variables should
either be highlighted like lvalues or the "ret" should not be
highlighted....:
local sus fu foo ret=0 bar



-FR.

