From zsh-users-return-10892-mason-zsh=primenet.com.au@sunsite.dk Sun Oct 22 14:17:04 2006
Return-Path: <zsh-users-return-10892-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1590 invoked from network); 22 Oct 2006 14:17:02 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.7 (2006-10-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.4 required=5.0 tests=AWL,BAYES_00,
	FORGED_RCVD_HELO autolearn=ham version=3.1.7
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 22 Oct 2006 14:17:02 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 97607 invoked from network); 22 Oct 2006 14:16:51 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 22 Oct 2006 14:16:51 -0000
Received: (qmail 19461 invoked by alias); 22 Oct 2006 14:16:37 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 10892
Received: (qmail 19451 invoked from network); 22 Oct 2006 14:16:36 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 22 Oct 2006 14:16:36 -0000
Received: (qmail 95501 invoked from network); 22 Oct 2006 14:16:36 -0000
Received: from p548515de.dip0.t-ipconnect.de (HELO localhost) (84.133.21.222)
  by a.mx.sunsite.dk with SMTP; 22 Oct 2006 14:16:35 -0000
Received: from localhost ([127.0.0.1])
	by localhost with esmtp (Exim 4.62)
	(envelope-from <Meino.Cramer@gmx.de>)
	id 1Gbe7u-0001nE-AK
	for zsh-users@sunsite.dk; Sun, 22 Oct 2006 16:16:35 +0200
Date: Sun, 22 Oct 2006 16:16:34 +0200 (CEST)
Message-Id: <20061022.161634.41652125.Meino.Cramer@gmx.de>
To: zsh-users@sunsite.dk
Subject: Is this possible with MULTIOS 
From: Meino Christian Cramer <Meino.Cramer@gmx.de>
X-Mailer: Mew version 5.1 on Emacs 21.4 / Mule 5.0 (SAKAKI)
Mime-Version: 1.0
Content-Type: Text/Plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi,

 I have several cvs/svn-snapshots on my hd, which I update on a
 regular basis. 

 Sometimes not all snapshots are update.

 Currently my script, which does the cvs/svn updates, pipes the output
 of the according cvs/svn-command through a filter to echo all lines,
 which signals, that files have been uopdated/merged/modifed etc to
 stdout. I have to watch the output to decide whether I want to
 recompile the source.

 What I want is something like:

 upcnt=`<update-cmd> | <filter> | wc -l`
 if [ 0 -ne upcnt ]
 then
  <recompile source
 else
  echo "No file has been changed!"
 fi

 BUT!
 "<filter>" should still print all lines which signal changes to files
 to the terminal....


 Unfortunately the "| wc -l"-part catches stdout and supress echoing
 those lines that way.

 "tee" seems no to work here, since it copies stdout to a _file_ and I
 want to avoid writing temporary files.....it seems I need something
 like two stdouts here...

 Or may be I had thought for too long about this so I don't see the (for
 others) obvious solution ???

 Any light against my blindness ??? ;))))

 Keep hacking and thank you very much for any help in advance !
 Have a nice weekend!
 mcc


 

