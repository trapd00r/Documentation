From zsh-workers-return-22567-mason-zsh=primenet.com.au@sunsite.dk Mon Jul 31 12:50:20 2006
Return-Path: <zsh-workers-return-22567-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 3413 invoked from network); 31 Jul 2006 12:50:17 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.3 (2006-06-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=BAYES_00,FORGED_RCVD_HELO,
	UPPERCASE_25_50 autolearn=ham version=3.1.3
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 31 Jul 2006 12:50:17 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 48505 invoked from network); 31 Jul 2006 12:50:11 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 31 Jul 2006 12:50:11 -0000
Received: (qmail 13217 invoked by alias); 31 Jul 2006 12:50:08 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 22567
Received: (qmail 13207 invoked from network); 31 Jul 2006 12:50:07 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 31 Jul 2006 12:50:07 -0000
Received: (qmail 48222 invoked from network); 31 Jul 2006 12:50:07 -0000
Received: from moutng.kundenserver.de (212.227.126.187)
  by a.mx.sunsite.dk with SMTP; 31 Jul 2006 12:50:05 -0000
Received: from [82.135.65.177] (helo=buddha)
	by mrelayeu.kundenserver.de (node=mrelayeu4) with ESMTP (Nemesis),
	id 0ML21M-1G7XDd47Ym-0005v0; Mon, 31 Jul 2006 14:50:04 +0200
Date: Mon, 31 Jul 2006 14:50:21 +0200
From: "Matthias B." <msbREMOVE-THIS@winterdrache.de>
To: Zsh hackers list <zsh-workers@sunsite.dk>
Subject: WARNING: unknown limits
Message-ID: <20060731145021.73a15ac7@buddha>
X-Mailer: Sylpheed-Claws 1.0.4 (GTK+ 1.2.10; i586-pc-linux-gnu)
Mime-Version: 1.0
Content-Type: multipart/mixed;
 boundary=Multipart_Mon__31_Jul_2006_14_50_21_+0200_sb_9hsmIXLwOq85e
X-Provags-ID: kundenserver.de abuse@kundenserver.de login:95d11223a40b7ac6df081cef1fe1fef2

--Multipart_Mon__31_Jul_2006_14_50_21_+0200_sb_9hsmIXLwOq85e
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi, I've just compiled zsh-4.3.2 and I've got the following message

WARNING: unknown limits: mail rlimits.h to developers

Well, I've attached the rlimits.h in question. Looks like the new glibc
(I'm using 2.4) has 2 limits "NICE" and "RTPRIO" that rlimits.awk doesn't
know yet.

Here are the relevant parts from resource.h

  /* Maximum nice priority allowed to raise to.
     Nice levels 19 .. -20 correspond to 0 .. 39
     values of this resource limit.  */
  __RLIMIT_NICE = 13,
#define RLIMIT_NICE __RLIMIT_NICE

  /* Maximum realtime priority allowed for non-priviledged
     processes.  */
  __RLIMIT_RTPRIO = 14,
#define RLIMIT_RTPRIO __RLIMIT_RTPRIO


MSB

-- 
Ambition is a poor excuse for not having enough sense to be lazy.


--Multipart_Mon__31_Jul_2006_14_50_21_+0200_sb_9hsmIXLwOq85e
Content-Type: text/plain; name=rlimits.h
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment; filename=rlimits.h

/** rlimits.h                              **/
/** architecture-customized limits for zsh **/

#define ZSH_NLIMITS 15

static char const *recs[ZSH_NLIMITS] = {
	"cputime",
	"filesize",
	"datasize",
	"stacksize",
	"coredumpsize",
	"memoryuse",
	"maxproc",
	"descriptors",
	"memorylocked",
	"addressspace",
	"maxfilelocks",
	"sigpending",
	"msgqueue",
	"NICE",
	"RTPRIO",
};

static int limtype[ZSH_NLIMITS] = {
	ZLIMTYPE_TIME,
	ZLIMTYPE_MEMORY,
	ZLIMTYPE_MEMORY,
	ZLIMTYPE_MEMORY,
	ZLIMTYPE_MEMORY,
	ZLIMTYPE_MEMORY,
	ZLIMTYPE_NUMBER,
	ZLIMTYPE_NUMBER,
	ZLIMTYPE_MEMORY,
	ZLIMTYPE_MEMORY,
	ZLIMTYPE_NUMBER,
	ZLIMTYPE_NUMBER,
	ZLIMTYPE_NUMBER,
	ZLIMTYPE_UNKNOWN,
	ZLIMTYPE_UNKNOWN,
};

--Multipart_Mon__31_Jul_2006_14_50_21_+0200_sb_9hsmIXLwOq85e--

