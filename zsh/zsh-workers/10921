From zsh-workers-return-10921-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Apr 25 16:07:29 2000
Return-Path: <zsh-workers-return-10921-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 26148 invoked from network); 25 Apr 2000 16:07:23 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 25 Apr 2000 16:07:23 -0000
Received: (qmail 11693 invoked by alias); 25 Apr 2000 16:07:13 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 10921
Received: (qmail 11675 invoked from network); 25 Apr 2000 16:07:12 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <1000425160654.ZM15860@candle.brasslantern.com>
Date: Tue, 25 Apr 2000 16:06:54 +0000
In-Reply-To: <200004251217.OAA05821@beta.informatik.hu-berlin.de>
Comments: In reply to Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
        "PATCH: Re: 3.1.7-pre-1: Problem with scrolled completion listings" (Apr 25,  2:17pm)
References: <200004251217.OAA05821@beta.informatik.hu-berlin.de>
X-Mailer: Z-Mail (5.0.0 30July97)
To: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>,
        zsh-workers@sunsite.auc.dk
Subject: Re: PATCH: Re: 3.1.7-pre-1: Problem with scrolled completion listings
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Apr 25,  2:17pm, Sven Wischnowsky wrote:
} Subject: PATCH: Re: 3.1.7-pre-1: Problem with scrolled completion listings
}
} Bart Schaefer wrote:
} 
} > that the selection disappears, and you're now stuck repeatedly selecting
} > the file name that would be visible if only the status line weren't there.
} 
} I forgot to re-calculate the number of the line the mark is on for the 
} completion widgets inside menu-selection.

This works now, thanks.

However, I'm confused.  I don't want scrolling.  I have LISTMAX=100, not
LISTMAX=scroll.  Yet still I get scrolling.

Minor nit:  The prompt ending in "... continue?" makes me think I should
hit `n' to stop.  But that inserts an `n'.  The prompt shouldn't ask a
question, it should make a statement about what to do next, which is a
bit difficult in the space that's left after "Current position at top:".
How about something like

LISTPROMPT='%SAt %p: Hit TAB for more, or the character to insert%s'
SELECTPROMPT='%SScrolling: current selection at %p%s'

Finally, I'm a bit worried that SELECTPROMPT is going to be confused with
PROMPT3/PS3.  Not greatly worried, but worried.  Hmm; radical suggestion:
let's rename some variables:

	SELECTMIN	-->	MENUSELECT
	SELECTPROMPT	-->	MENUPROMPT
	SELECTSCROLL	-->	MENUSCROLL

I realize the first breaks symmetry with LISTMAX, but of course even
LISTMAX is now a misnomer since it doesn't have to have a numeric value.
Since LISTMAX is used by compctl, it'd probably be better to not overload
it in that way, and instead add another variable (or a style) for scroll.

} I would like to hear what you think about this going-back in
} completion lists (non-menu-selection) and about the make-listing-look-
} like-menu-selection-probably-even-keeping-the-prompt-on-the-line
} thing. As opposed to the current should-work-on-almost-every-terminal
} version we have now. Or maybe you don't care?

You're going to have to explain a bit more, or point me at article numbers.
There was a lot of stuff from the week I was gone that I just skimmed over.
I suspect I'm going to say that I think it should stay as it is (modulo my
being able to turn it off), but ...

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

