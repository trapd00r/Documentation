From zsh-users-return-8867-mason-zsh=primenet.com.au@sunsite.dk Thu May 19 07:03:02 2005
Return-Path: <zsh-users-return-8867-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17563 invoked from network); 19 May 2005 07:03:01 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 19 May 2005 07:03:01 -0000
Received: (qmail 85671 invoked from network); 19 May 2005 07:02:52 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 19 May 2005 07:02:52 -0000
Received: (qmail 14291 invoked by alias); 19 May 2005 07:02:45 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8867
Received: (qmail 14277 invoked from network); 19 May 2005 07:02:45 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 19 May 2005 07:02:45 -0000
Received: (qmail 84689 invoked from network); 19 May 2005 07:02:45 -0000
Received: from hydrogen.ucsc.edu (128.114.41.29)
  by a.mx.sunsite.dk with SMTP; 19 May 2005 07:02:41 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by hydrogen.ucsc.edu (8.12.11/8.12.11) with ESMTP id j4J6uv2s011982
	for <zsh-users@sunsite.dk>; Wed, 18 May 2005 23:56:58 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v730)
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <294439D0-476D-43F3-8326-8209C1F3FE9C@chemistry.ucsc.edu>
Reply-To: wgscott@chemistry.ucsc.edu
Content-Transfer-Encoding: 7bit
From: William Scott <wgscott@chemistry.ucsc.edu>
Subject: zsh compiling on Apple OSX v. 10.4.x
Date: Thu, 19 May 2005 00:02:36 -0700
To: zsh-users@sunsite.dk
X-Mailer: Apple Mail (2.730)
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.0 required=6.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.0

Hi folks:

When I tried compiling zsh on OSX v. 10.4, I found that the resulting  
zsh, when invoked, did not appear to respond to arrow keys, back- 
spaces and so-forth (I say "appear" because apparently it just  
doesn't update the terminal display).  Following Apple's patch, I  
configured and then edited the file config.h to remove the lines


     391 /* Define to 1 if you have the `poll' function. */
     392 /* #define HAVE_POLL 1 */
     393
     394 /* Define to 1 if you have the <poll.h> header file. */
     395 /* #define HAVE_POLL_H 1 */

Then compiled and installed and the problem went away.

However, I have two questions:

1.  What did I do, and is it harmful?

2.  When root uses zsh (either the one I compiled or the one Apple  
provided) the problem returns.  What's going on with that?

Thanks.

Bill Scott

