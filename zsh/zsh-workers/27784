From zsh-workers-return-27784-mason-zsh=primenet.com.au@zsh.org Thu Mar 11 17:38:03 2010
Return-Path: <zsh-workers-return-27784-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2911 invoked by alias); 11 Mar 2010 17:38:03 -0000
Mailing-List: contact zsh-workers-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Workers List <zsh-workers.zsh.org>
List-Post: <mailto:zsh-workers@zsh.org>
List-Help: <mailto:zsh-workers-help@zsh.org>
Delivered-To: mailing list zsh-workers@zsh.org
X-Seq: 27784
Received: (qmail 22621 invoked from network); 11 Mar 2010 17:38:02 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received-SPF: pass (ns1.primenet.com.au: SPF record at benizi.com designates 64.130.10.15 as permitted sender)
Date: Thu, 11 Mar 2010 12:37:57 -0500 (EST)
From: "Benjamin R. Haskell" <zsh@benizi.com>
To: Zsh Workers <zsh-workers@zsh.org>
Subject: Re: Broken completion on $prefix/*
In-Reply-To: <m3ociu4ycz.fsf@klanderman.net>
Message-ID: <alpine.LNX.2.01.1003111227560.31893@hp.internal>
References: <alpine.LNX.2.01.1003101440260.31893@hp.internal> <m3ociu4ycz.fsf@klanderman.net>
User-Agent: Alpine 2.01 (LNX 1266 2009-07-14)
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Thu, 11 Mar 2010, Greg Klanderman wrote:

> Seems to work for me in 1.4869..
> 

Doesn't for me in 1.4926, even as 'zsh -fd':

hp% autoload -U compinit
hp% compinit
hp% prefix=relative/dir/that/exists
hp% ls $prefix/<Tab>
(completion for '/' directory)

hp% bindkey "^I"
"^I" expand-or-complete


And, a slightly-OT question:

Is there an easy way to build-and-install 'tagged' versions of Zsh from 
the repository?  I just built Zsh from git for the first time (installed 
into /usr/local) [usually I just use the Completion dirs from git].

But, it'd be nice to know it was properly 'sandboxed' (i.e. not reading 
my distribution's version's files [Gentoo - 4.3.10 (1.4705)]).  And it'd 
be even nicer to have it installed as (something like):
zsh-4.3.10.1.4926

-- 
Best,
Ben

