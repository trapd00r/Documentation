From zsh-workers-return-7377-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Aug 05 13:33:35 1999
Return-Path: <zsh-workers-return-7377-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 25313 invoked from network); 5 Aug 1999 13:33:34 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 5 Aug 1999 13:33:34 -0000
Received: (qmail 2463 invoked by alias); 5 Aug 1999 13:33:28 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7377
Received: (qmail 2456 invoked from network); 5 Aug 1999 13:33:28 -0000
To: zsh-workers@sunsite.auc.dk
Subject: configuration question
From: Wim Yedema <yedema@natlab.research.philips.com>
Date: 05 Aug 1999 15:33:22 +0200
Message-Id: <uqvbtcm73od.fsf@hpas11.natlab.research.philips.com>
Lines: 23
X-Mailer: Gnus v5.5/XEmacs 20.4 - "Emerald"

I'd like replace self-insert with a function that automatically
does something like "history-beginning-search-backward" the problem
with this is that it beeps when nothing is found and that the current
history number changes, meaning that every time I type something I
go backwards in the history even if the character that I type suits
the current history event just fine.

I tried something like this

---
insert-and-predict () {
  LBUFFER="$LBUFFER$KEYS"
  RBUFFER=""
  zle history-beginning-search-backward
}

autoload insert-and-predict
zle -N self-insert insert-and-predict
---

can someone stop the beep and give me the right behaviour?

wim yedema

