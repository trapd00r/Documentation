From zsh-workers-return-11480-mason-zsh=primenet.com.au@sunsite.auc.dk Sun May 21 18:42:22 2000
Return-Path: <zsh-workers-return-11480-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 6947 invoked from network); 21 May 2000 18:42:19 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 21 May 2000 18:42:19 -0000
Received: (qmail 799 invoked by alias); 21 May 2000 18:42:10 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 11480
Received: (qmail 791 invoked from network); 21 May 2000 18:42:09 -0000
To: zsh-workers@sunsite.auc.dk (Zsh hackers list)
Subject: 3.1.7-pre-4
Date: Sun, 21 May 2000 19:42:03 +0100
From: Peter Stephenson <pws@pwstephenson.fsnet.co.uk>
Message-Id: <E12tafp-0006nS-00.2000-05-21-19-42-01@cmailg2.svr.pol.co.uk>

I have uploaded
  ftp://ftp.zsh.org/zsh/development/zsh-3.1.7-pre-4.tar.gz
I hope this will be the last pre-release unless something else important
turns up, as it usually does.

One minor thing I noticed is that zmodload is about the only command not to
sort the lists it prints.

2000-05-21  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Config/version.mk: 3.1.7-pre-4.

	* 11478: Doc/Zsh/mod_complist.yo, Doc/Zsh/mod_computil.yo,
	Doc/Zsh/mod_parameter.yo, Doc/Zsh/mod_zle.yo,
	Doc/Zsh/mod_zprof.yo, Doc/Zsh/mod_zpty.yo, Doc/Zsh/mod_zutil.yo,
	Doc/Zsh/zftpsys.yo: Wording changes.

2000-05-20  Bart Schaefer  <schaefer@zsh.org>

	* 11477: Doc/Zsh/compsys.yo: Alphabetize itemized lists.

	* 11473: Src/utils.c: Turn off xtrace while printing PS4.

2000-05-19  Oliver Kiddle  <opk@zsh.org>

	* 11471: Completion/User/_netscape, Completion/User/_urls: do
	a better job of completing suffixes in netscape remote commands

2000-05-19  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* zsh-users/3071: Completion/Core/compdump: avoid HOME=/
	causing zcompdump beginning with //, which confuses cygwin.

	* 11467: Src/match.c, Src/params.c, Src/subst.c, Doc/Zsh/arith.yo:
	[#<base>] in math mode specifies output base for printing and any
	implicit type conversions.

	* zsh-users/3066: Src/system.h: undef HAVE_MMAP for cygwin;
	creates problems running external commands.

2000-05-19  Oliver Kiddle  <opk@zsh.org>

	* 11470: Completion/User/_su: fix to use user's shell after -c

2000-05-19  Bart Schaefer  <schaefer@zsh.org>

	* 11469: Completion/Commands/_complete_debug,
	Completion/Core/_main_complete: Locally unset the errexit option
	and ZERR trap.

	* 11461: Src/builtin.c: Make "read" interruptible even when used
	in the tail of a pipeline.

2000-05-19  Sven Wischnowsky  <wischnow@zsh.org>

	* 11466: Src/Zle/compresult.c: fix for unambiguous string insertion
	
	* 11464: Completion/Base/_arguments, Completion/Core/_approximate,
 	Completion/Core/_files, Completion/Core/_multi_parts,
 	Completion/Core/_sep_parts, Completion/Debian/_apt,
 	Completion/User/_enscript, Completion/User/_finger,
 	Completion/User/_urls, Completion/X/_xutils: don't use $match for
 	something different than (#b)ackrefs
	
2000-05-18  Sven Wischnowsky  <wischnow@zsh.org>

	* 11460: Completion/User/_netscape: fix for completion of
 	`netscape -remote'
	
	* 11459: Completion/Core/_main_complete, Doc/Zsh/compsys.yo: allow
 	_main_complete to call an arbitrary command given as arguments
	
	* 11457: Doc/Zsh/compsys.yo, Src/Zle/compctl.mdd: small doc fix;
 	make compcall autoload compctl module
	
2000-05-18  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* pws: 11455: Completion/Core/_oldlist: old-menu defaults on.

2000-05-18  Sven Wischnowsky  <wischnow@zsh.org>

	* 11453: Completion/Core/_files: make _files remove backslashes in
 	patterns
	
2000-05-17  Bart Schaefer  <schaefer@zsh.org>

	* Felix Rosencrantz: 11450: Test/comptest: Replace `tr` with
	parameter substitution.

2000-05-17  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* pws; 11448: Doc/Zsh/compsys.yo, Doc/Zsh/metafaq.yo: more
	changes of phrasing.

2000-05-17  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* pws: 11444: Completion/Builtins/_zstyle: add old-list and old-menu.

2000-05-17  Tanaka Akira  <akr@zsh.org>

	* 11441: Test/comptest, Test/53completion.ztst,
	Test/54compmatch.ztst: use only one zsh process to test for each
	completion test file.

2000-05-17  Sven Wischnowsky  <wischnow@zsh.org>

	* Felix: 11397 and my 11439: Doc/Zsh/compwid.yo, Src/Zle/comp.h,
	Src/Zle/compcore.c, Src/Zle/compmatch.c, Test/.distfiles,
	Test/54compmatch.ztst, Test/comptest: add Felix' completion
	matching test; some fixes for bugs shown by it

2000-05-17  Bart Schaefer  <schaefer@zsh.org>

	* 11435: Test/53completion.ztst: Update for 11406.

	* 11431: Doc/Zsh/mod_zutil.yo: Chop up the zstyle entry into
	an itemized list for easier reference.

2000-05-17  Sven Wischnowsky  <wischnow@zsh.org>

	* 11429: Completion/Core/_main_complete: fix completion after
 	tilde and equal sign inside quotes
	
2000-05-17  Tanaka Akira  <akr@zsh.org>

	* 11426: Src/Modules/zpty.c: don't use #elif.

2000-05-16  Tanaka Akira  <akr@zsh.org>

	* 11420: Src/Modules/zpty.c: try more pty device files.

2000-05-16  Bart Schaefer  <schaefer@zsh.org>

	* 11419: Test/Makefile.in: Interpolate TESTNUM variable in the
	glob that specifies which tests are run.
	
	* Felix Rosencrantz: 11398: Completion/User/_lzop,
	Completion/Bsd/_bsd_pkg: Fix typos in option descriptions.

	* 11378: Functions/Misc/is-at-least, Misc/make-zsh-urls: Remove
	RCS Id strings.

	* unposted: Doc/Zsh/cond.yo: Yodl off some excess whitespace.
	
2000-05-16  Tanaka Akira  <akr@zsh.org>

	* 11415: Completion/User/_cvs: follow the new matcher-list behaviour.

2000-05-16  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11410: Src/glob.c: tokenize `=' in tokenize(), so that `=cmd'
	will be a candidate for expansion if `~user' is (respecting
	any relevant options).

2000-05-16  Sven Wischnowsky  <wischnow@zsh.org>

	* 11408: Completion/Core/_main_complete, Completion/Core/_normal,
 	Doc/Zsh/compsys.yo: fixed configuration of menu-selection with
 	menu style; pseudo-context `-command-line-', handy for completion
 	in vared

	* 11407: Completion/Base/_tilde, Completion/Core/_path_files:
 	avoid tilde- and parameter-completion in quotes

	* 11406: Completion/Base/_arguments: make _arguments take the
 	attempt to add matches as an indication not to do default
 	option-completion

	* 11403: Completion/Core/_expand, Src/Zle/compcore.c,
	Src/Zle/complist.c: fix scrolling in menu-selection with matches
	spanning multiple lines

2000-05-16  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* pws: one hunk of 11381: Completion/Builtins/_vars_eq:
	bad substitution, now picked up by changes in 11380.

	* pws: 11402: Doc/Zsh/options.yo: correct and expand OCTAL_ZEROES
	entry.
	
2000-05-16  Sven Wischnowsky  <wischnow@zsh.org>

	* 11401: Src/Zle/complist.c: make menu-select accept the match
 	when typing a non-special character
	
2000-05-16  Tanaka Akira  <akr@zsh.org>

	* 11396: Completion/User/_look: display a message when
	an argument is empty.

	* 11394: Completion/User/_cvs: rewrite filename completion
	functions.

2000-05-15  Tanaka Akira  <akr@zsh.org>

	* 11393: Completion/User/_diff_options: use `=-'.

	* 11392: Completion/Core/_description: ignore-line fix.

2000-05-15  Clint Adams  <schizo@debian.org>

	* 11387: Doc/Zsh/options.yo, Src/math.c, Src/options.c,
	Src/zsh.h: new option OCTAL_ZEROES to enable parsing
	in 11385, on by default in 'sh' emulation.

	* 11385: Src/math.c: interpret integer constants beginning
	with '0' as octal to conform to IEEE Std 1003.2-1992
	(ISO 9945-2:1993).

2000-05-15  Sven Wischnowsky  <wischnow@zsh.org>

	* 11380: Src/subst.c: detect additional characters in parameter
 	expansions and signal an error for them
	
	* 11379: Completion/Base/.distfiles, Completion/Base/_in_vared,
 	Completion/Core/_compalso, Completion/Core/_complete,
 	Completion/Core/_main_complete, Doc/Zsh/compsys.yo: add _in_vared
 	for completion inside vared; make insert-tab default to `false'
 	there
	
2000-05-15  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11375: Completion/Core/compinstall: menu select keyword takes
	values long and long-list.

2000-05-15  Oliver Kiddle  <opk@zsh.org>

	* 11376: Makefile.in: install functions before man pages

2000-05-15  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* unposted: Etc/FAQ.yo: updated from website.

2000-05-15  Sven Wischnowsky  <wischnow@zsh.org>

	* 11374: Src/Zle/compcore.c: extra paranoia for empty
 	prefix/suffix in completion matching
	
	* 11368: Src/utils.c: fix for empty (s::) separator and strings
 	with meta-characters
	
	* 11365: Src/Zle/zle_tricky.c: fix for completion of string with
 	single quote
	
	* 11364,11367: Completion/Core/_path_files, Src/Zle/compmatch.c:
	fix for suffix-matching; better in-path completion in _path_files
	
2000-05-15  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11362: Doc/Zsh/manual.yo, Doc/Zsh/metafaq.yo, Doc/Zsh/seealso.yo:
	pointers and menu entries for userguide wrong.

2000-05-15  Sven Wischnowsky  <wischnow@zsh.org>

	* 11360: Src/Modules/zutil.c: zparseopts should detect if it is
 	called without option descriptions
	
2000-05-15  Oliver Kiddle  <opk@zsh.org>

	* 11358: Src/builtin.c, Src/hashtable.c, Completion/Builtins/_hash,
	Doc/Zsh/builtins.yo, Completion/Builtins/_vars_eq: add -L opt to hash

2000-05-14  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 11352: Src/builtin.c: make integer builtin understand `-i base'.

	* 11352: Completion/Base/_jobs: typo in suspended jobs.

	* 11352: Doc/Zsh/*: various changes of phrasing.

2000-05-12  Sven Wischnowsky  <wischnow@zsh.org>

	* 11349: Completion/Base/_arguments, Completion/Core/_message,
 	Src/Zle/computil.c: fix for completing options with `_arguments
 	-s'; fix for _message to use `builtin compadd'
	
2000-05-12  Oliver Kiddle  <opk@zsh.org>

	* 11347: Completion/Builtins/_hash, Completion/Builtins/_vars_eq:
	use _arguments for hash completion and add + options for typeset

2000-05-12  Sven Wischnowsky  <wischnow@zsh.org>

	* 11346: Src/Zle/compmatch.c, Src/Zle/compresult.c: fixes for
 	completion matching
	
	* 11335: Src/Zle/compcore.c: fix for compadd -x when there are no
 	matches
	
2000-05-11  Bart Schaefer  <schaefer@zsh.org>

	* 11332: Completion/Commands/_complete_debug: Test descriptors
	correctly for redirect/restore of stderr; plus aesthetic tweak.

	* 11326: Src/exec.c: Don't reinitialize SHTTY upon "exec < file"
	when ZLE is active.

2000-05-11  Oliver Kiddle  <opk@zsh.org>

	* 11329: Completion/User/_groups: redirect ypcat stderr to /dev/null

2000-05-11  Sven Wischnowsky  <wischnow@zsh.org>

	* 11324: Completion/Base/_argument_sets, Completion/Base/_arguments,
 	Src/Zle/computil.c: make _argument_sets add the options as
 	defaults when there is nothing else to complete

	* 11321: Completion/Core/_files: _files used alternative tag-order
 	values even if not needed

	* 11320: Completion/Base/_argument_sets, Completion/Base/_arguments,
 	Doc/Zsh/compsys.yo, Src/Zle/computil.c: allow internally-mutually
 	exclusive sets in _argument_sets; fixes for _argument_sets and the
 	C-code forit

	* 11319: Completion/Core/_main_complete, Doc/Zsh/compsys.yo,
 	Doc/Zsh/mod_complist.yo, Src/Zle/compcore.c, Src/Zle/complist.c:
 	make ^G in menu-selection restore the old command line; add
 	select=long* values for menu style to start menu-selection if list
 	is too long for screen

2000-05-11  Oliver Kiddle  <opk@zsh.org>

	* 11315: Doc/Zsh/builtins.yo, Doc/Zsh/compsys.yo, Doc/Zsh/compwid.yo,
	Doc/Zsh/expn.yo, Doc/Zsh/grammar.yo, Doc/Zsh/mod_complist.yo,
	Doc/Zsh/mod_computil.yo, Doc/Zsh/mod_deltochar.yo,
	Doc/Zsh/mod_mathfunc.yo, Doc/Zsh/mod_parameter.yo, Doc/Zsh/mod_zle.yo,
	Doc/Zsh/mod_zutil.yo, Doc/Zsh/options.yo, Doc/Zsh/params.yo,
	Doc/Zsh/zftpsys.yo: Fix spelling in docs

	* 11316: Src/params.c: remove return value from uniqarray which
	caused a compiler error on IRIX

2000-05-10  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 11314: Src/builtin.c, Src/params.c: typeset -Uing tied variables
	didn't update the value in the environment.

2000-05-10  Bart Schaefer  <schaefer@zsh.org>

	* 11312: Config/config.mk: defs.mk depends on config.status.

2000-05-10  Tanaka Akira  <akr@zsh.org>

	* 11309, 11310: Doc/Zsh/expn.yo: fix missing section.

2000-05-10  Bart Schaefer  <schaefer@zsh.org>

	* 11302: Functions/Zle/edit-command-line: Cursor placement and
	defensive programming.

2000-05-10  Oliver Kiddle  <opk@zsh.org>

	* 11301: Src/Zle/zle_misc.c: AIX dependency fix

	* 11300: Completion/User/_nedit: fix breakage from 11195

2000-05-10  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11299: Bart/pws: Functions/Zle/edit-command-line: edit command
	line with external editor.

2000-05-10  Sven Wischnowsky  <wischnow@zsh.org>

	* 11298: Doc/Zsh/compsys.yo, Src/Zle/computil.c: more fixes for
 	_arguments and its docs
	
2000-05-10  Bart Schaefer  <schaefer@zsh.org>

	* 11297: Doc/Zsh/compwid.yo, Doc/Zsh/zle.yo: Document that ZLE
	user-defined widget functions are executed with standard input
	closed.
	
2000-05-10  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* Naoki Wakamatsu: 11287: Completion/Core/compinstall: tab had
	incorrectly turned to spaces.

2000-05-10  Sven Wischnowsky  <wischnow@zsh.org>

	* 11295: Doc/Zsh/compsys.yo, Src/Zle/computil.c: misc. _arguments
 	fixes
	
	* 11294: Src/Zle/computil.c: fix for `-+opt' with mutex list
	
	* 11292: Completion/Core/_files: update `%p' replacement in _files
	
2000-05-09  Bart Schaefer  <schaefer@zsh.org>

	* 11288: Completion/Commands/_complete_help,
	Completion/Core/_main_complete: Reopen stdin from /dev/null,
	because ZLE closes it during any widget function, which confuses
	some external programs.

2000-05-09  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* pws: 11285: Src/Modules/zftp.c: move cleanup code to
	zftp_cleanup() to be called from exit hook.

2000-05-09  Oliver Kiddle  <opk@zsh.org>

	* 11284: Completion/Base/_math: use _math to complete the let builtin

	* 11282: Completion/Builtins/_vars_eq: complete using _arguments
	for typeset and its variants

2000-05-09  Tanaka Akira  <akr@zsh.org>

	* 11278: Completion/User/_ssh: disable forwarding to use ssh.

2000-05-09  Sven Wischnowsky  <wischnow@zsh.org>

	* 11277: Functions/Misc/nslookup: make nslookup function more like
 	real nslookup

2000-05-09  Tanaka Akira  <akr@zsh.org>

	* 11276: configure.in, Src/Modules/zftp.c: fix build on OpenBSD.

2000-05-09  Sven Wischnowsky  <wischnow@zsh.org>

	* 11274: Completion/Builtins/_zstyle, Completion/Core/_main_complete,
 	Doc/Zsh/compsys.yo, Doc/Zsh/compwid.yo, Src/Zle/compcore.c,
 	Src/Zle/zle_tricky.c: give control over insertion of tab when no
 	non-blank character before cursor; add insert-tab style
	
	* 11273: Completion/Base/_argument_sets,
 	Completion/Base/_arguments: option name clash in _arguments
	
	* 11272: Completion/Base/_arguments: fix for _arguments without
 	options and no more arguments to complete
	
	* 11270: Doc/Zsh/compsys.yo, Src/Zle/computil.c: new -A and -S
 	options to _arguments; `-opt=-' specs for options whose argument
 	has to come after the `='
	
2000-05-08  Oliver Kiddle  <opk@zsh.org>

	* 11268: Doc/Zsh/compsys.yo, Doc/Zsh/builtins.yo: minor typo fixes

	* unposted: Etc/CONTRIBUTORS fix

2000-05-08  Bart Schaefer  <schaefer@zsh.org>

	* 11264: Doc/Zsh/compat.yo: Missed bit for 10771.

2000-05-08  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11260: Doc/Zsh/options.yo: docs for 11044

	* Hiroki Tamakoshi: 11044: Src/options.c, Src/utils.c, Src/zsh.h: 
	Option to use Dvorak keyboard in spell-checking.

2000-05-08  Geoff Wing  <gcw@zsh.org>

	* gcw: unposted: Etc/CONTRIBUTORS fix

2000-05-08  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11252: Functions/Zftp/zf*: context should be
	e.g. `:zftp:zfopen', no colon at the end.

2000-05-08  Sven Wischnowsky  <wischnow@zsh.org>

	* 11255: Src/Modules/zpty.c: close fd for pty-master in sub-shell
	
	* 11253: Completion/Base/_arguments, Src/Zle/computil.c: more
 	problems with optional arguments in _arguments
	
	* 11248: Src/Zle/compmatch.c: better cursor positioning in words
 	with multiple ambiguous word parts
	
2000-05-08  Tanaka Akira  <akr@zsh.org>

	* Bart, Tanaka Akira: 11247: Src/exec.c: Don't signal to a process
	group which has only zombie processes.

-- 
Peter Stephenson <pws@pwstephenson.fsnet.co.uk>
Work: pws@CambridgeSiliconRadio.com
Web: http://www.pwstephenson.fsnet.co.uk

