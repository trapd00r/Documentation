From zsh-workers-return-9968-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Mar 02 16:44:25 2000
Return-Path: <zsh-workers-return-9968-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 20967 invoked from network); 2 Mar 2000 16:44:23 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 2 Mar 2000 16:44:23 -0000
Received: (qmail 29640 invoked by alias); 2 Mar 2000 16:44:17 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 9968
Received: (qmail 29605 invoked from network); 2 Mar 2000 16:44:13 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <1000302164323.ZM15688@candle.brasslantern.com>
Date: Thu, 2 Mar 2000 16:43:23 +0000
In-Reply-To: <200003021003.LAA12189@beta.informatik.hu-berlin.de>
Comments: In reply to Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
        "Re: PATCH: wordcode files" (Mar  2, 11:03am)
References: <200003021003.LAA12189@beta.informatik.hu-berlin.de>
X-Mailer: Z-Mail (5.0.0 30July97)
To: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>,
        zsh-workers@sunsite.auc.dk
Subject: Re: PATCH: wordcode files
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Mar 2, 11:03am, Sven Wischnowsky wrote:
} Subject: Re: PATCH: wordcode files
}
} I wrote:
} 
} > Bart Schaefer wrote:
} > 
} > > This all sounds fine, although I lean towards requiring that the .zwc
} > > extension appear in the $fpath listing.  What happens, for example, if
} > > I have both a ~/zshfun/ and ~/zshfun.zwc and I list ~/zshfun in $fpath?
} > 
} > You get the functions in ~/zshfun because you named that. But we can
} > change that to be more consistent (I mean: requiring the extension).
} 
} This'll do?

I'm not exactly sure.  It looks like that patch forces zcompile to tack
the .zwc extension on to the end of the name (and to only look for
wordcode in files that have the .zwc extension).  Is that right?

That's fine, but ...

How does that help with the situation where I have a directory named
"foo" and a file named "foo.zwc" both within the same parent directory?

What *I* meant was, fpath=(foo) would look only for directories named
"foo", so I'd have to use fpath=(foo.zwc) if I really wanted the file;
but if there was a file foo/func.zwc then "autoload func" would still
find it.  That's independent of whether a non-.zwc file might contain
wordcode.

However, I don't have a strong opinion.  Anyone else?

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

