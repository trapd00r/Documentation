From zsh-workers-return-22308-mason-zsh=primenet.com.au@sunsite.dk Tue Feb 28 14:44:41 2006
Return-Path: <zsh-workers-return-22308-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 6338 invoked from network); 28 Feb 2006 14:44:38 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.0 (2005-09-13) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.4 required=5.0 tests=AWL,BAYES_00,
	FORGED_RCVD_HELO autolearn=ham version=3.1.0
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 28 Feb 2006 14:44:38 -0000
Received: (qmail 74716 invoked from network); 28 Feb 2006 14:44:32 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 28 Feb 2006 14:44:32 -0000
Received: (qmail 24004 invoked by alias); 28 Feb 2006 14:44:27 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 22308
Received: (qmail 23995 invoked from network); 28 Feb 2006 14:44:26 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 28 Feb 2006 14:44:26 -0000
Received: (qmail 74293 invoked from network); 28 Feb 2006 14:44:26 -0000
Received: from cluster-d.mailcontrol.com (217.69.20.190)
  by a.mx.sunsite.dk with SMTP; 28 Feb 2006 14:44:26 -0000
Received: from exchange03.csr.com (uuk202166.uk.customer.alter.net [62.189.241.194] (may be forged))
	by rly30d.srv.mailcontrol.com (MailControl) with ESMTP id k1SEiKKE030211
	for <zsh-workers@sunsite.dk>; Tue, 28 Feb 2006 14:44:21 GMT
Received: from csr.com ([10.103.143.38]) by exchange03.csr.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Tue, 28 Feb 2006 14:44:20 +0000
To: zsh-workers@sunsite.dk (Zsh hackers list)
Subject: Re: 4.3.1 released 
In-reply-to: <20060228143015.GX25143@prunille.vinc17.org> 
References: <EXCHANGE03lhK9atCT1000118c6@exchange03.csr.com> <20060228140411.GA2150@prunille.vinc17.org> <EXCHANGE03JM1bDGxkH00011975@exchange03.csr.com> <20060228143015.GX25143@prunille.vinc17.org>
Date: Tue, 28 Feb 2006 14:44:03 +0000
From: Peter Stephenson <pws@csr.com>
Message-ID: <EXCHANGE03qudpSqiLB0001197c@exchange03.csr.com>
X-OriginalArrivalTime: 28 Feb 2006 14:44:20.0464 (UTC) FILETIME=[755F0700:01C63C75]
Content-Type: text/plain
MIME-Version: 1.0
X-Scanned-By: MailControl A-06-00-05 (www.mailcontrol.com) on 10.68.0.140

Vincent Lefevre wrote:
> On 2006-02-28 14:19:56 +0000, Peter Stephenson wrote:
> > Vincent Lefevre wrote:
> > > I get a strange configure error:
> > > 
> > > [...]
> > > checking if the system adequately supports multibyte chars... no
> > > ./configure: line 15889: test: =: unary operator expected
> > > checking if your system uses ELF binaries... no
> > > [...]
> > 
> > Annoying, but should be harmless:  the behaviour if test failed is the
> > same as the default one, apart from the error message.
> 
> Is it still harmless for the tests using "!="?
> 
>   perl -pe 's/(test|-o|-a) +(\$\S+ +!?= +)/\1 x\2x/g' configure.ac
> 
> may give a global fix for the configure.ac file.

Although it would certainly be sensible to be safe, the existing tests
have tended to evolve so that any time an unquoted variable appears the
variable has been set (this one is a recent addition which I failed to
spot).  It would be a good idea to fix all these (particularly so that
it encourages people to write safe tests in future, avoiding the current
problem) but I don't think it's necessary for an immediately release.

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR PLC, Churchill House, Cambridge Business Park, Cowley Road
Cambridge, CB4 0WZ, UK                          Tel: +44 (0)1223 692070


To access the latest news from CSR copy this link into a web browser:  http://www.csr.com/email_sig.php

