From zsh-users-return-5819-mason-zsh=primenet.com.au@sunsite.dk Fri Jan 24 11:19:32 2003
Return-Path: <zsh-users-return-5819-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8000 invoked from network); 24 Jan 2003 11:19:32 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 24 Jan 2003 11:19:32 -0000
Received: (qmail 6501 invoked by alias); 24 Jan 2003 11:19:13 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 5819
Received: (qmail 6493 invoked from network); 24 Jan 2003 11:19:13 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 24 Jan 2003 11:19:13 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [192.35.17.2] by sunsite.dk (MessageWall 1.0.8) with SMTP; 24 Jan 2003 11:19:12 -0000
Received: from mail3.siemens.de (mail3.siemens.de [139.25.208.14])
	by thoth.sbs.de (8.11.6/8.11.6) with ESMTP id h0OBJDM22980;
	Fri, 24 Jan 2003 12:19:13 +0100 (MET)
Received: from MOWD019A.mow.siemens.ru ([163.242.196.119])
	by mail3.siemens.de (8.11.6/8.11.6) with ESMTP id h0OBJDq25941;
	Fri, 24 Jan 2003 12:19:13 +0100 (MET)
Received: by mowd019a.mow.siemens.ru with Internet Mail Service (5.5.2653.19)
	id <DRB8GJ5V>; Fri, 24 Jan 2003 14:20:01 +0300
Received: from mw2b210c (163.242.193.12 [163.242.193.12]) by MOWD019A.mow.siemens.ru with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id DRB8GJ5T; Fri, 24 Jan 2003 14:19:58 +0300
From: Borzenkov Andrey <Andrey.Borzenkov@siemens.com>
To: "'Oliver Kiddle'" <okiddle@yahoo.co.uk>,
   "'clemens fischer'"
	 <ino-qc@spotteswoode.de.eu.org>
Cc: zsh-users@sunsite.dk
Subject: RE: bash convert: new completion system skeleton?
Date: Fri, 24 Jan 2003 14:19:04 +0300
Message-ID: <6134254DE87BD411908B00A0C99B044F03A0B5FF@mowd019a.mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
In-Reply-To: <1715.1043406768@finches.logica.co.uk>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal


> 
> I could easily write a function to allow zsh to use completions written
> for bash:
> 
> local COMP_REPLY
> local COMP_CWORD=$CURRENT
> local -a COMP_WORDS
> COMP_WORDS=( $words )
> setopt localoptions
> emulate sh
> "$@"
> compadd - "${COMPREPLY[@]}"
> 

cool. I guess it could be really useful. 

> Would be enough for _qconfirm (I think). Would that be useful? Or do we
> have a perl guru who can write a program to convert the function? 

Or scan bash_profile/bashrc for complete -F and compdef all commands to use
wrapper unless already defined. It would allow almost transparent change
between bash and zsh. It could be added to compinstall then or even to
compinit with style to turn it off/on.

Would it be useful?

Of
> course it is better to rewrite the functions properly to make full use
> of zsh's greater power.
>

Sure.


-andrey

