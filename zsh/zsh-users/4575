From zsh-users-return-4575-mason-zsh=primenet.com.au@sunsite.dk Fri Jan 11 12:42:25 2002
Return-Path: <zsh-users-return-4575-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1474 invoked from network); 11 Jan 2002 12:42:23 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 11 Jan 2002 12:42:23 -0000
Received: (qmail 8729 invoked by alias); 11 Jan 2002 12:42:07 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4575
Received: (qmail 8712 invoked from network); 11 Jan 2002 12:42:06 -0000
X-Authentication-Warning: erdbeere.lifebits.local: luthien set sender to d.vogt@lifebits.de using -f
Date: Fri, 11 Jan 2002 13:41:58 +0100
From: Dominik Vogt <dominik.vogt@gmx.de>
To: zsh-users@sunsite.auc.dk
Subject: problem with named directories over the net
Message-ID: <20020111134158.F852@lifebits.de>
Reply-To: d.vogt@lifebits.de
Mail-Followup-To: zsh-users@sunsite.auc.dk
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.3.12i
X-Virus-Scanned: by AMaViS perl-11
X-Sender: 520008918237-0001@t-dialin.net

I like to shorten my prompt by using '~' instead of the full path
to my home directory.  For example:

  / $ cd ~/bin
  ~/bin $

Now the problem occurs when I fire up mc.  Upon leaving mc, a
script from the mc documentation cds into the current path and I
get something like

  /net/server/share/home/luthien/bin $

as the prompt because this is where my home directory comes from.
/home is a symbolic link to /net/server/share/home.  Any idea how
I can prevent this?

The function I start mc with looks like this:

------------------------ snip --------------------
# midnight commander (change dir after exit)
mc ()
{
  local MC
  MC=/tmp/mc$$-"$RANDOM"
  if [ "$TERM" = xterm -o "$TERM" = rxvt ] ; then
    /usr/bin/mc -a -c -d -u -x -P "$@" > "$MC"
  else
    /usr/bin/mc -a -c -d -u -P "$@" > "$MC"
  fi
  cd `cat "$MC"`
  rm "$MC"
  unset MC;
}
------------------------ snip --------------------

Bye

Dominik ^_^  ^_^

-- 
Dominik Vogt, email: d.vogt@lifebits.de
LifeBits Aktiengesellschaft, Albrechtstr. 9, D-72072 Tuebingen
fon: ++49 (0) 7071/7965-0, fax: ++49 (0) 7071/7965-20

