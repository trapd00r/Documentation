From zsh-users-return-11889-mason-zsh=primenet.com.au@sunsite.dk Sat Sep 29 07:24:06 2007
Return-Path: <zsh-users-return-11889-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 25059 invoked from network); 29 Sep 2007 07:23:57 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.3 (2007-08-08) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.3
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 29 Sep 2007 07:23:57 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 67943 invoked from network); 29 Sep 2007 07:23:50 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 29 Sep 2007 07:23:50 -0000
Received: (qmail 28734 invoked by alias); 29 Sep 2007 07:23:42 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 11889
Received: (qmail 28718 invoked from network); 29 Sep 2007 07:23:42 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 29 Sep 2007 07:23:42 -0000
Received: (qmail 66709 invoked from network); 29 Sep 2007 07:23:42 -0000
Received: from py-out-1112.google.com (64.233.166.180)
  by a.mx.sunsite.dk with SMTP; 29 Sep 2007 07:23:36 -0000
Received: by py-out-1112.google.com with SMTP id y63so5437921pyg
        for <zsh-users@sunsite.dk>; Sat, 29 Sep 2007 00:23:34 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        bh=nuaEjRyOJ5UKFRNGwlIJ3EOteyDsVKY1ssHL1oec8SE=;
        b=TEu/T8Nuk9uio0pd4RgO0U6BYjmIxMhMe3YjDFbbqkr56300pzu4O5d/UD+7A1NGVTbPaCHCQhDGVWnOiKd8/cAHRu5SUl4qjKmwQiALBcPu0ESX3XywChm4sTsGOeLBU4aZiQlKQLKF4A52oZNsk4FiPp+eNz3LuuAaZZ9QiVo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=beta;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=CxjGUPkjR+KVKxbIUASWawelyB2sU39hiMaBpz9/xxzt1yBIpfnCDOduybWs5YLxpg0QY5sT6WdtqH2c86qQBvCV3MTzWEszKPODz29dS+xmWt4Ei3yxbfnahvUpx45Jp6Ntswvg7McOPByaQhVkTgJHp3f166Q+OIwSdMAaQkQ=
Received: by 10.64.196.9 with SMTP id t9mr9526373qbf.1191050614267;
        Sat, 29 Sep 2007 00:23:34 -0700 (PDT)
Received: by 10.65.236.14 with HTTP; Sat, 29 Sep 2007 00:23:34 -0700 (PDT)
Message-ID: <30c383e70709290023x46dc7d13o2ff3904a05413496@mail.gmail.com>
Date: Sat, 29 Sep 2007 09:23:34 +0200
From: "Pau Amaro-Seoane" <vim.unix@googlemail.com>
Reply-To: vim.unix@gmail.com
To: zsh-users@sunsite.dk
Subject: Re: nohup dies
In-Reply-To: <200709282056.l8SKugEA000576@pws-pc.ntlworld.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <vim.unix@googlemail.com>
	 <30c383e70709281338x1f2609dcsdc4dd7283d387c1c@mail.gmail.com>
	 <200709282056.l8SKugEA000576@pws-pc.ntlworld.com>

Hi,

thanks for the answer

> nohup is not a shell builtin; it's simply an executable programme that's

man nohup

(...)
       NOTE:  your  shell may have its own version of nohup, which
usually supersedes the version described
       here.  Please refer to your shell's documentation for details
about the options it supports.
(...)

>zsh creates a pipeline
> zsh forks:
>    In the subshell, "nohup cat ./input" is run
> zsh forks again
>    In the new subshell, ~pau/executables/... is run

>So the "nohup" doesn't cover the second executable.

can you tell me of a more robust/elegant way of doing it?

>
> A lot of other shells, I presume (but I haven't actually checked)
> including ksh, don't send SIGHUP to processes when the shell exits.

But zsh is supposed to emulate ksh, right?

nohup whatever should work regardless of shell. And it _did_ in the
older version of zsh, now not anymore. Can you tell me why?

the "solution" for now is to launch the simulation with ksh... or
resort to screen... but it's a pity, I stick to zsh a lot

Cheers,

Pau

