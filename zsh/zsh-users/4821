From zsh-users-return-4821-mason-zsh=primenet.com.au@sunsite.dk Tue Apr 09 09:57:19 2002
Return-Path: <zsh-users-return-4821-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1041 invoked from network); 9 Apr 2002 09:57:19 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 9 Apr 2002 09:57:19 -0000
Received: (qmail 22360 invoked by alias); 9 Apr 2002 09:57:03 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4821
Received: (qmail 22348 invoked from network); 9 Apr 2002 09:57:02 -0000
From: Sven Wischnowsky <wischnow@berkom.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15538.47797.753615.94046@wischnow.berkom.de>
Date: Tue, 9 Apr 2002 11:56:05 +0200
To: zsh-users@sunsite.dk
Subject: Re: Stuff I don't understand
In-Reply-To: <JMEGJPLJEICAFFFLHGPBKEAODAAA.wsargent@atg.com>
References: <20020405104500.GA8357@forumone.com>
	<JMEGJPLJEICAFFFLHGPBKEAODAAA.wsargent@atg.com>
X-Mailer: VM 6.95 under 21.5 (patch 3) "asparagus" XEmacs Lucid


Will Sargent wrote:

> ...
> 
> I don't quite understand compset.  Or local -- and what
> curcontext="$curcontext" means.  Or typeset.

Can't help you with all of this... ;-)

> Also, I'm using
> 
> modules)
>   cd $DYNAMO_HOME/..
>   match=()
>   compset -P '(#b)(*.)'
>   basedir=${match[1]//.//}
>   _alternative \
>     'modules:module:compadd -qS. $basedir*~$basedir*.*(/:t)'
>   ;;
> 
> to do my module completion but I don't really understand how compadd
> recurses through the directories.

Err... since you wrote this code you should understand, so it is
probably me not understanding your question.

Btw.: you don't need that _alternative there when there's only one
specification (i.e.: no choice anyway). You could use something like:

  local expl

  ...

  _wanted modules expl module compadd -qS. ...


> Also, whenever I use this completion it moves me out of my directory.  Is
> there any way I can do an 'inplace' cd?

Why not put the `$DYNAMO_HOME/../' before the glob pattern? The (:t)
will remove it anyway.


Bye
  Sven

-- 
Sven Wischnowsky                          wischnow@berkom.de

