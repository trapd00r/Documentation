From zsh-workers-return-14061-mason-zsh=primenet.com.au@sunsite.dk Sat Apr 21 19:18:45 2001
Return-Path: <zsh-workers-return-14061-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8215 invoked from network); 21 Apr 2001 19:18:44 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 21 Apr 2001 19:18:44 -0000
Received: (qmail 7553 invoked by alias); 21 Apr 2001 19:18:38 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 14061
Received: (qmail 7541 invoked from network); 21 Apr 2001 19:18:37 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <1010421191747.ZM12049@candle.brasslantern.com>
Date: Sat, 21 Apr 2001 19:17:47 +0000
In-Reply-To: <000601c0ca5f$aadba880$21c9ca95@mow.siemens.ru>
Comments: In reply to "Andrej Borsenkow" <Andrej.Borsenkow@mow.siemens.ru>
        "cygwin build problem - undefined setupterm" (Apr 21,  4:36pm)
References: <000601c0ca5f$aadba880$21c9ca95@mow.siemens.ru>
X-Mailer: Z-Mail (5.0.0 30July97)
To: "Andrej Borsenkow" <Andrej.Borsenkow@mow.siemens.ru>,
        "ZSH Workers Mailing List" <zsh-workers@sunsite.dk>
Subject: Re: cygwin build problem - undefined setupterm
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Apr 21,  4:36pm, Andrej Borsenkow wrote:
} Subject: cygwin build problem - undefined setupterm
}
} AFAIK setupterm belongs to curses interface suite and does not exist in
} termcap (it was not there before, it came with Clint's patches). Clint, you
} most probably have (n)curses in disguise ... and not the real termcap.
 
} Moreover, we already have terminal setup code in zsh main - it should not
} be duplicated (probably).

I believe setupterm() does not do terminal setup -- rather it assigns to
the TERM environment variable and to the TERMCAP or TERMINFO environment
variables as appropriate.

Of course it's going to do this "behind zsh's back" so if someone has done
something like `typeset -T TERMCAP tc' the linkage between those parameters
is going to be broken by setupterm().

There's also some issue of the interaction of setupterm() with LINES and
COLUMNS, and whether use_env() needs to be called before setupterm().

These are definitely (n)curses things rather than old termcap.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

