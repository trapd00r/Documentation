From zsh-workers-return-26411-mason-zsh=primenet.com.au@sunsite.dk Sat Jan 24 13:54:08 2009
Return-Path: <zsh-workers-return-26411-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13119 invoked from network); 24 Jan 2009 13:54:02 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 24 Jan 2009 13:54:02 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 38020 invoked from network); 24 Jan 2009 13:53:51 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 24 Jan 2009 13:53:50 -0000
Received: (qmail 493 invoked by alias); 24 Jan 2009 13:53:46 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 26411
Received: (qmail 480 invoked from network); 24 Jan 2009 13:53:46 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 24 Jan 2009 13:53:46 -0000
Received: from rv-out-0506.google.com (rv-out-0506.google.com [209.85.198.237])
	by bifrost.dotsrc.org (Postfix) with ESMTP id A521A80271F0
	for <zsh-workers@sunsite.dk>; Sat, 24 Jan 2009 14:53:28 +0100 (CET)
Received: by rv-out-0506.google.com with SMTP id g37so5138460rvb.21
        for <zsh-workers@sunsite.dk>; Sat, 24 Jan 2009 05:53:26 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:date:from:to:subject
         :message-id:mime-version:content-type:content-disposition:user-agent;
        bh=bP+vCC6AtB5wEyjYuc6bqfDh2vPkS36uG5PFE9dvG0s=;
        b=czzmXcj6l7BJSc0lwWBNPIoOW2/md5PeUbR9/GbVU0ZLELE0cPB3QX6zToRvRsL0Xs
         uf77JqC9MUzP9LYa47CxNIKyimdsSavMfvxYeafZ+kf/A2j8vrHiyfCIQCuP/qAhefJw
         JnljvzrUWKiCEmmBcBUzrPH8/1zSr4uYShjKw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=date:from:to:subject:message-id:mime-version:content-type
         :content-disposition:user-agent;
        b=KAkvuFuFuU974URQ19mpnHmxT5moqiZpRP0rW4OJCgyHMwuwVUcoONEKYTFGxeMosg
         X5zZZdANmg3vRsQX86ao8pdIxC+Xlj6X1ZQgd9k3VdpgSfgQ5W63Y5b1ROJR2GSUn89P
         UP5qgdDxxjvFtnDjFO18DbXI1Dst9kZ1ZUCUk=
Received: by 10.140.147.5 with SMTP id u5mr3854840rvd.292.1232805206514;
        Sat, 24 Jan 2009 05:53:26 -0800 (PST)
Received: from localhost (195.146.220.203.dial.dynamic.acc01-aubu-gou.comindico.com.au [203.220.146.195])
        by mx.google.com with ESMTPS id k2sm25032616rvb.6.2009.01.24.05.53.10
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Sat, 24 Jan 2009 05:53:25 -0800 (PST)
Date: Sun, 25 Jan 2009 00:53:12 +1100
From: Doug Kearns <dougkearns@gmail.com>
To: zsh-workers@sunsite.dk
Subject: PATCH: update Cygwin completion functions
Message-ID: <20090124135312.GA3724@rosie>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.4.2.2i
X-Virus-Scanned: ClamAV 0.92.1/8899/Sat Jan 24 14:06:33 2009 on bifrost
X-Virus-Status: Clean

This updates the Cygwin related completion functions for the latest
versions of those commands, fixes a few bugs, and adds rudimentary
completion for setfacl and readshortcut.

Felix, I also removed the "Generated by" tags to prevent future
confusion as I didn't use the generator to update them.

Regards,
Doug (nee Rosie)


Index: Completion/Cygwin/Command/.distfiles
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Cygwin/Command/.distfiles,v
retrieving revision 1.1
diff -u -r1.1 .distfiles
--- Completion/Cygwin/Command/.distfiles	22 Apr 2003 12:49:14 -0000	1.1
+++ Completion/Cygwin/Command/.distfiles	24 Jan 2009 13:39:31 -0000
@@ -1,6 +1,7 @@
 DISTFILES_SRC='
 .distfiles
-_cygcheck    _cygpath     _cygrunsrv   _cygserver   _cygstart
-_dumper      _getclip     _getfacl     _mkshortcut  _mkzsh
-_pscp        _putclip     
+_cygcheck       _cygpath        _cygrunsrv      _cygserver
+_cygstart       _dumper         _getclip        _getfacl
+_mkshortcut     _mkzsh          _pscp           _putclip
+_readshortcut   _setfacl
 '
Index: Completion/Cygwin/Command/_cygcheck
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Cygwin/Command/_cygcheck,v
retrieving revision 1.1
diff -u -r1.1 _cygcheck
--- Completion/Cygwin/Command/_cygcheck	7 Apr 2003 11:23:18 -0000	1.1
+++ Completion/Cygwin/Command/_cygcheck	24 Jan 2009 13:39:31 -0000
@@ -1,14 +1,31 @@
 #compdef cygcheck cygcheck.exe
-#Generated by Felix Rosencrantz
 
-local context state line
+# cygwin 1.5.25
+
+local curcontext="$curcontext" state line expl
 typeset -A opt_args
-_arguments  \
-  '(--check-setup --help -c -h)'{-c,--check-setup}'[check packages installed via setup.exe]' \
-  '(--keycheck --sysinfo -k -s)'{-s,--sysinfo}'[system information (not with -k)]' \
-  '(--verbose -v)'{-v,--verbose}'[verbose output (indented) (for -s or programs)]' \
-  '(--registry -r)'{-r,--registry}'[registry search (requires -s)]' \
-  '(--keycheck --sysinfo -k -s)'{-k,--keycheck}'[perform a keyboard check session (not with -s)]' \
-  '(--check-setup --help -c -h)'{-h,--help}'[give help about the info (not with -c)]' \
-  '(--version -V)'{-V,--version}'[output version information and exit]' \
-  '*:program: _command_names -e:*::program arguments: _normal'
+
+local -a exclusive_opts
+exclusive_opts=(-k --keycheck -f --find-package -l --list-package -p --package-query -h --help -V --version)
+
+_arguments -C -s -S \
+  "(* $exclusive_opts -c --check-setup)"{-c,--check-setup}'[show installed version of the specified package and verify integrity (or for all installed packages if none specified)]:*:package:->package' \
+  "(* $exclusive_opts -d --dump-only)"{-d,--dump-only}'[just list packages, do not verify (with -c)]' \
+  "(* $exclusive_opts -s --sysinfo)"{-s,--sysinfo}'[produce diagnostic system information (implies -c -d)]' \
+  "(* $exclusive_opts -r --registry)"{-r,--registry}'[also scan registry for Cygwin settings (with -s)]' \
+  '(* -)'{-k,--keycheck}'[perform a keyboard check session (must be run from a plain console only, not from a pty/rxvt/xterm)]' \
+  '(* -)'{-f,--find-package}'[find the package that specified file belongs to]:*:file:_files' \
+  '(* -)'{-l,--list-package}'[list contents of the specified package (or all packages if none given)]:*:package:->package' \
+  '(* -)'{-p,--package-query}'[search for the specified regexp in the entire cygwin.com package repository (requires internet connectivity)]:regexp:' \
+  '(-V --version -k --keycheck -f --find-package -l --list-package -p --package-query -c --check-setup -d --dump-only -v --verbose)'{-v,--verbose}'[produce more verbose output]' \
+  '(-V --version -k --keycheck -f --find-package -l --list-package -p --package-query -c --check-setup -d --dump-only -h --help)'{-h,--help}'[annotate output with explanatory comments when given with another command, otherwise print this help]' \
+  '(* -)'{-V,--version}'[print the version of cygcheck and exit]' \
+  '(-)*:program: _command_names -e' && return
+
+if [[ "$state" = package ]]; then
+  local -a packages
+  packages=( ${${${(f)"$(_call_program packages $words[1] -c -d)"}[3,-1]}%% *} )
+  _wanted packages expl package compadd -a packages && return
+fi
+
+return 1
Index: Completion/Cygwin/Command/_cygpath
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Cygwin/Command/_cygpath,v
retrieving revision 1.2
diff -u -r1.2 _cygpath
--- Completion/Cygwin/Command/_cygpath	31 Jul 2003 15:26:14 -0000	1.2
+++ Completion/Cygwin/Command/_cygpath	24 Jan 2009 13:39:31 -0000
@@ -1,26 +1,28 @@
 #compdef cygpath cygpath.exe
-#Generated by Felix Rosencrantz
 
-_arguments  \
-  '(--dos --mixed --type --unix --windows -d -m -t -u -w)'{-d,--dos}'[print DOS (short) form of NAME (C:\PROGRA~1\)]' \
-  '(--dos --mixed --type --unix --windows -d -m -t -u -w)'{-m,--mixed}'[like --windows, but with regular slashes (C:/WINNT)]' \
-  '(--dos --mixed --type --unix --windows -d -m -t -u -w)'{-u,--unix}'[(default) print Unix form of NAME (/cygdrive/c/winnt)]' \
-  '(--dos --mixed --type --unix --windows -d -m -t -u -w)'{-w,--windows}'[print Windows form of NAME (C:\WINNT)]' \
-  '(--dos --mixed --type --unix --windows -d -m -t -u -w)'{-t,--type}':print type:(dos mixed unix windows)' \
+# cygwin 1.5.25
+
+_arguments -s -S \
+  '(--dos --mixed --mode --type --unix --windows -d -m -M -t -u -w)'{-d,--dos}'[print DOS (short) form of specified path (C:\PROGRA~1\)]' \
+  '(--dos --mixed --mode --type --unix --windows -d -m -M -t -u -w)'{-m,--mixed}'[like --windows, but with regular slashes (C:/WINNT)]' \
+  '(--dos --mixed --mode --type --unix --windows -d -m -M -t -u -w)'{-M,--mode}'[report on mode of file (binmode or textmode)]' \
+  '(--dos --mixed --mode --type --unix --windows -d -m -M -t -u -w)'{-u,--unix}'[(default) print Unix form of specified path (/cygdrive/c/winnt)]' \
+  '(--dos --mixed --mode --type --unix --windows -d -m -M -t -u -w)'{-w,--windows}'[print Windows form of specified path (C:\WINNT)]' \
+  '(--dos --mixed --mode --type --unix --windows -d -m -M -t -u -w)'{-t,--type}'[print type]:type:(dos mixed unix windows)' \
   '(--absolute --long-name --path --short-name -a -l -p -s)'{-a,--absolute}'[output absolute path]' \
-  '(--absolute --long-name --path --short-name -a -l -p -s)'{-l,--long-name}'[print Windows long form of NAME (with -w, -m only)]' \
-  "(--absolute --long-name --path --short-name -a -l -p -s)"{-p,--path}"[NAME is a PATH list (i.e., '/bin:/usr/bin')]" \
-  '(--absolute --long-name --path --short-name -a -l -p -s)'{-s,--short-name}'[print DOS (short) form of NAME (with -w, -m only)]' \
+  '(--absolute --long-name --path --short-name -a -l -p -s)'{-l,--long-name}'[print Windows long form of specified path (with -w, -m only)]' \
+  "(--absolute --long-name --path --short-name -a -l -p -s)"{-p,--path}"[specified path is a PATH list (i.e., '/bin:/usr/bin')]" \
+  '(--absolute --long-name --path --short-name -a -l -p -s)'{-s,--short-name}'[print DOS (short) form of specified path (with -w, -m only)]' \
   "(--allusers -A)"{-A,--allusers}"[use 'All Users' instead of current user for -D, -P]" \
   "(--desktop --homeroot --smprograms --sysdir --windir -D -H -P -S -W)"{-D,--desktop}"[output 'Desktop' directory and exit]" \
   "(--desktop --homeroot --smprograms --sysdir --windir -D -H -P -S -W)"{-H,--homeroot}"[output 'Profiles' directory (home root) and exit]" \
   "(--desktop --homeroot --smprograms --sysdir --windir -D -H -P -S -W)"{-P,--smprograms}"[output Start Menu 'Programs' directory and exit]" \
   '(--desktop --homeroot --smprograms --sysdir --windir -D -H -P -S -W)'{-S,--sysdir}'[output system directory and exit]' \
   "(--desktop --homeroot --smprograms --sysdir --windir -D -H -P -S -W)"{-W,--windir}"[output 'Windows' directory and exit]" \
-  '(--file -f)'{-f,--file}':read FILE for input; use - to read from STDIN:_files' \
+  '(--file -f)'{-f,--file}'[read FILE for input; use - to read from STDIN]: :_files' \
   '(--option -o)'{-o,--option}'[read options from FILE as well (for use with --file)]' \
   '(--close -c)'{-c,--close}'[close specified handle (for use in captured process)]:handle' \
   '(--ignore -i)'{-i,--ignore}'[ignore missing argument]' \
-  '(- 1)'{-h,--help}'[display usage information]' \
-  '(- 1)'{-v,--version}'[display version information]' \
-  '1: :_files'  && return 0
+  '(- *)'{-h,--help}'[display usage information]' \
+  '(- *)'{-v,--version}'[display version information]' \
+  '*: :_files'
Index: Completion/Cygwin/Command/_cygrunsrv
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Cygwin/Command/_cygrunsrv,v
retrieving revision 1.2
diff -u -r1.2 _cygrunsrv
--- Completion/Cygwin/Command/_cygrunsrv	31 Jul 2003 15:26:14 -0000	1.2
+++ Completion/Cygwin/Command/_cygrunsrv	24 Jan 2009 13:39:31 -0000
@@ -1,11 +1,16 @@
 #compdef cygrunsrv cygrunsrv.exe
 
-_arguments  \
+# cygrunsrv 1.34
+
+_arguments -s -S \
   '(-I --install)'{-I,--install}'[install a new service]:service' \
   '(-R --remove)'{-R,--remove}'[remove specified service]:service' \
   '(-S --start)'{-S,--start}'[start specified service]:service' \
   '(-E --stop)'{-E,--stop}'[stop specified service]:service' \
+  '(-Q --query)'{-Q,--query}'[query specified service]:service' \
+  '(-L --list)'{-L,--list}'[lists services that have been installed with cygrunsrv]:server:' \
   '(-p --path)'{-p,--path}'[specify application path which is run as a service]:application path' \
+  '(-P --crs-path)'{-P,--crs-path}'[path to cygrunsrv]:path:_files' \
   '(-a --args)'{-a,--args}'[specify options to give service on startup]:args' \
   '(-c --chdir)'{-c,--chdir}'[specify working directory for the application]:directory:_directories' \
   '(-e --env)'{-e,--env}'[specify environment strings exported to service]:var=value' \
@@ -15,11 +20,17 @@
   '(-u --user)'{-u,--user}'[specify user to start service under]:user:_users' \
   '(-w --passwd)'{-w,--passwd}'[specify password for user]:password' \
   '(-s --termsig)'{-s,--termsig}'[specify signal to use to stop service]:signal:_signals' \
+  '(-z --shutsig)'{-z,--shutsig}'[specify signal to send to service application when shutdown has been initiated]:signal:_signals' \
   '(-y --dep)'{-y,--dep}'[specify name of service that must be started]:service' \
-  '(-0 --stdin)'{-0,--stdin}'[specify file for stdin redirection]:file:_files' \
-  '(-1 --stdout)'{-1,--stdout}'[specify file for stdout redirection]:file:_files' \
-  '(-2 --stderr)'{-2,--stderr}'[specify file for stderr redirection]:file:_files' \
-  '(-o --shutdown)'{-o,--shutdown}'[stop service application during system shutdown]' \
+  '(-0 --stdin)'{-0,--stdin}'[specify file for stdin redirection]:stdin file:_files' \
+  '(-1 --stdout)'{-1,--stdout}'[specify file for stdout redirection]:stdout file:_files' \
+  '(-2 --stderr)'{-2,--stderr}'[specify file for stderr redirection]:stderr file:_files' \
+  '(-x --pidfile)'{-x,--pidfile}'[optional path for .pid file written by application after fork()]:pid file:_files -g "*.pid(-.)"' \
+  '(-n --neverexits)'{-n,--neverexits}'[service should never exit by itself]' \
+  '(-O --preshutdown -o --shutdown)'{-O,--preshutdown}'[stop service application during system preshutdown]' \
+  '(-O --preshutdown -o --shutdown)'{-o,--shutdown}'[stop service application during system shutdown]' \
+  '(-i --interactive)'{-i,--interactive}'[allow service to interact with the desktop (No effect since Windows Vista/Longhorn)]' \
+  '(-j --nohide )'{-j,--nohide}"[don't hide console window when service interacts with desktop]" \
+  '(-V --verbose)'{-V,--verbose}'[when used with --query or --list, causes extra information to be printed]' \
   '(- *)'{-h,--help}'[print help information]' \
-  '(- *)'{-v,--version}'[print version information]' \
-  '*: :_files'
+  '(- *)'{-v,--version}'[print version information]'
Index: Completion/Cygwin/Command/_cygserver
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Cygwin/Command/_cygserver,v
retrieving revision 1.1
diff -u -r1.1 _cygserver
--- Completion/Cygwin/Command/_cygserver	7 Apr 2003 11:23:18 -0000	1.1
+++ Completion/Cygwin/Command/_cygserver	24 Jan 2009 13:39:31 -0000
@@ -1,13 +1,21 @@
 #compdef cygserver cygserver.exe
-#Generated by Felix Rosencrantz
 
-local context state line
-typeset -A opt_args
-_arguments  \
-  '(--cleanup-threads -c)'{-c,--cleanup-threads}'[number of cleanup threads to use]' \
+# cygwin 1.5.25
+
+_arguments -s -S \
+  '(--config-file -f)'{-f,--config-file}'[use specified file as config file (default /etc/cygserver.conf)]:config file:_files -g "*.conf(-.)"' \
+  '(--cleanup-threads -c)'{-c,--cleanup-threads}'[number of cleanup threads to use (default 2)]:number of threads:' \
+  '(--process-cache -p)'{-p,--process-cache}'[size of process cache]:cache size:' \
+  '(--request-threads -r)'{-r,--request-threads}'[number of request threads to use (default 10)]:number of threads:' \
+  '(--debug -d)'{-d,--debug}'[log debug messages to stderr]' \
+  '(--stderr -e --no-stderr -E)'{-e,--stderr}'[log to stderr (default if stderr is a tty)]' \
+  '(--stderr -e --no-stderr -E)'{-E,--no-stderr}"[don't log to stderr (see -y, -Y options)]" \
+  '(--log-level -l)'{-l,--log-level}'[verbosity of logging (1..7) (default 6)]:verbosity level:({1..7})' \
+  '(--syslog -y --no-syslog -Y)'{-y,--syslog}'[log to syslog (default if stderr is no tty)]' \
+  '(--syslog -y --no-syslog -Y)'{-Y,--no-syslog}"[don't log to syslog (see -e, -E options)]" \
+  '(--no-sharedmem -m)'{-m,--no-sharedmem}"[don't start XSI Shared Memory support]" \
+  '(--no-msgqueues -q)'{-q,--no-msgqueues}"[don't start XSI Message Queue support]" \
+  '(--no-semaphores -s)'{-s,--no-semaphores}"[don't start XSI Semaphore support]" \
+  '(--shutdown -S)'{-S,--shutdown}'[shutdown the daemon]' \
   '(--help -h)'{-h,--help}'[output usage information and exit]' \
-  '(--request-threads -r)'{-r,--request-threads}'[number of request threads to use]' \
-  '(--shutdown -s)'{-s,--shutdown}'[shutdown the daemon]' \
-  '(--version -v)'{-v,--version}'[output version information and exit]' \
-  '*: :_files'
-            
+  '(--version -v)'{-v,--version}'[output version information and exit]'
Index: Completion/Cygwin/Command/_cygstart
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Cygwin/Command/_cygstart,v
retrieving revision 1.2
diff -u -r1.2 _cygstart
--- Completion/Cygwin/Command/_cygstart	1 Jun 2005 10:02:33 -0000	1.2
+++ Completion/Cygwin/Command/_cygstart	24 Jan 2009 13:39:31 -0000
@@ -1,16 +1,15 @@
 #compdef cygstart cygstart.exe
-#Generated by Felix Rosencrantz
 
-local context state line
-typeset -A opt_args
-_arguments  \
-  '(--action -a)'{-a,--action=-}':Use specified action instead of default:(open edit explore print find)' \
+# cygwin 1.5.25
+
+_arguments -s -S \
+  '(--action -a)'{-a,--action=-}'[use specified action instead of default]:action:(open edit explore print find)' \
   '(--open -o)'{-o,--open}'[short for: --action open]' \
   '(--explore -x)'{-x,--explore}'[short for: --action explore]' \
   '(--edit -e)'{-e,--edit}'[short for: --action edit]' \
   '(--find -f)'{-f,--find}'[short for: --action find]' \
   '(--print -p)'{-p,--print}'[short for: --action print]' \
-  '(--directory -d)'{-d,--directory=-}':Set working directory:_directories' \
+  '(--directory -d)'{-d,--directory=-}'[set working directory]:directory:_directories' \
   '--hide[hides the window and activates another window]' \
   '--maximize[maximizes the specified window]' \
   '--minimize[minimizes the specified window and activates the next top-level window in the z-order]' \
@@ -22,9 +21,10 @@
   '--showna[displays the window in its current state. The active window remains active]' \
   '--shownoactivate[displays a window in its most recent size and position. The active window remains active]' \
   '--shownormal[activates and displays a window. If the window is minimized or maximized, Windows restores it to its original size and position. An application should specify this flag when displaying the window for the first time]' \
-  '(--help -?)'{'-?',--help}'[show this help message]' \
+  '(--help -?)'{-\?,--help}'[display help information]' \
   '--usage[display brief usage message]' \
   '--version[display version information]' \
   '--license[display licensing information]' \
   '--reference[open MSDN reference for ShellExecute]' \
-  '*:program: _command_names -e:*::program arguments: _normal'
+  '1:file: _alternative "programs:program: _command_names -e" "files:file:_files" "urls:URL:_urls"' \
+  '*::program arguments: _normal'
Index: Completion/Cygwin/Command/_dumper
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Cygwin/Command/_dumper,v
retrieving revision 1.1
diff -u -r1.1 _dumper
--- Completion/Cygwin/Command/_dumper	7 Apr 2003 11:23:18 -0000	1.1
+++ Completion/Cygwin/Command/_dumper	24 Jan 2009 13:39:31 -0000
@@ -1,13 +1,11 @@
 #compdef dumper dumper.exe
-#Generated by Felix Rosencrantz
 
-local context state line
-typeset -A opt_args
-_arguments   \
-  '(--verbose -d)'{-d,--verbose}'[be verbose while dumping]' \
-  '(--help -h)'{-h,--help}'[output help information and exit]' \
-  '(--quiet -q)'{-q,--quiet}'[be quiet while dumping (default)]' \
-  '(--version -v)'{-v,--version}'[output version information and exit]' \
-  '1: :_file' \
+# cygwin 1.5.25
+
+_arguments -s -S \
+  '(--verbose -d --quiet -q)'{-d,--verbose}'[be verbose while dumping]' \
+  '(--verbose -d --quiet -q)'{-q,--quiet}'[be quiet while dumping (default)]' \
+  '(- 1 *)'{-h,--help}'[output help information and exit]' \
+  '(- 1 *)'{-v,--version}'[output version information and exit]' \
+  '1: :_files' \
   '*: :_pids'
-            
Index: Completion/Cygwin/Command/_getclip
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Cygwin/Command/_getclip,v
retrieving revision 1.2
diff -u -r1.2 _getclip
--- Completion/Cygwin/Command/_getclip	31 Jul 2003 15:26:14 -0000	1.2
+++ Completion/Cygwin/Command/_getclip	24 Jan 2009 13:39:31 -0000
@@ -1,10 +1,12 @@
 #compdef getclip getclip.exe
-#Generated by Felix Rosencrantz
 
-_arguments \
-  '(--dos -d)'{-d,--dos}'[output text will have DOS line endings]' \
-  '(--unix -u)'{-u,--unix}'[output text will have UNIX line endings]' \
-  '(-)'{-\?,--help}'[show this help message]' \
+# cygutils 1.3.2
+
+_arguments -s -S \
+  '(--dos -d --unix -u --no-conv -n)'{-d,--dos}'[output text will have DOS line endings]' \
+  '(--dos -d --unix -u --no-conv -n)'{-u,--unix}'[output text will have UNIX line endings]' \
+  '(--dos -d --unix -u --no-conv -n)'{-n,--no-conv}'[do not translate line endings]' \
+  '(-)'{-\?,--help}'[display help information]' \
   '(-)--usage[display brief usage message]' \
   '(-)--version[display version information]' \
   '(-)--license[display licensing information]'
Index: Completion/Cygwin/Command/_getfacl
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Cygwin/Command/_getfacl,v
retrieving revision 1.2
diff -u -r1.2 _getfacl
--- Completion/Cygwin/Command/_getfacl	31 Jul 2003 15:26:14 -0000	1.2
+++ Completion/Cygwin/Command/_getfacl	24 Jan 2009 13:39:31 -0000
@@ -1,7 +1,8 @@
 #compdef getfacl getfacl.exe
-#Generated by Felix Rosencrantz
 
-_arguments  \
+# cygwin 1.5.25
+
+_arguments -s -S \
   '(--all -a)'{-a,--all}'[display the filename, owner, group, and ACL of the file]' \
   '(--dir -d)'{-d,--dir}'[display the filename, owner, group, and default ACL of the directory]' \
   '(--noname -n)'{-n,--noname}'[display user and group IDs instead of names]' \
Index: Completion/Cygwin/Command/_mkshortcut
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Cygwin/Command/_mkshortcut,v
retrieving revision 1.2
diff -u -r1.2 _mkshortcut
--- Completion/Cygwin/Command/_mkshortcut	31 Jul 2003 15:26:14 -0000	1.2
+++ Completion/Cygwin/Command/_mkshortcut	24 Jan 2009 13:39:31 -0000
@@ -1,15 +1,20 @@
 #compdef mkshortcut mkshortcut.exe
 
-_arguments  \
+# cygutils 1.3.2
+
+_arguments -s -S \
   '(--arguments -a)'{-a,--arguments=-}'[use specified arguments]:arguments' \
+  '(--desc -d)'{-d,--desc=-}'[text for description/tooltip (defaults to POSIX path of TARGET)]:description' \
   '(--icon -i)'{-i,--icon=-}'[specify icon file for link to use]:icon file:_files' \
   '(--iconoffset -j)'{-j,--iconoffset=-}'[specify offset of icon in icon file]:offset' \
   '(--name -n)'{-n,--name=-}'[specify name for link]:file:_files' \
+  '(--show -s)'{-s,--show=-}'[window to show: normal, minimized, maximized]:window state:(norm min max)' \
+  '(--workingdir -w)'{-w,--workingdir=-}'[set working directory (defaults to directory path of TARGET)]:working directory:_files -/' \
   '(--allusers -A)'{-A,--allusers}"[use 'All Users' instead of current user for -D,-P]" \
-  '(--desktop -D)'{-D,--desktop}"[create link relative to 'Desktop' directory]" \
-  '(--smprograms -P)'{-P,--smprograms}"[create link relative to Start Menu 'Programs' directory]" \
-  '(- 1)'{-h,--help}'[show help information]' \
+  '(--desktop -D --smprograms -P)'{-D,--desktop}"[create link relative to 'Desktop' directory]" \
+  '(--desktop -D --smprograms -P)'{-P,--smprograms}"[create link relative to Start Menu 'Programs' directory]" \
+  '(- 1)'{-h,--help}'[display help information]' \
   '(- 1)--usage[display brief usage message]' \
-  '(- 1)'{-v,--version}'[show version information]' \
+  '(- 1)'{-v,--version}'[display version information]' \
   '(- 1)--license[display licensing information]' \
   '1:target:_files'
Index: Completion/Cygwin/Command/_mkzsh
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Cygwin/Command/_mkzsh,v
retrieving revision 1.1
diff -u -r1.1 _mkzsh
--- Completion/Cygwin/Command/_mkzsh	7 Apr 2003 11:23:18 -0000	1.1
+++ Completion/Cygwin/Command/_mkzsh	24 Jan 2009 13:39:31 -0000
@@ -1,10 +1,7 @@
 #compdef mkzsh mkzsh.exe
-#Generated by Felix Rosencrantz
 
-local context state line
-typeset -A opt_args
-_arguments \
+_arguments -s -S \
   '(--allusers -A)'{-A,--allusers}'[creates item for All Users instead of just current user]' \
   '(--desktop -D)'{-D,--desktop}'[creates a Desktop icon for running /zsh.bat]' \
   '(--smprograms -P)'{-P,--smprograms}'[creates a Program menu item for running /zsh.bat]' \
-  '(--help -h)'{-h,--help}'[prints usage]'
+  '(--help -h)'{-h,--help}'[display help information]'
Index: Completion/Cygwin/Command/_putclip
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Cygwin/Command/_putclip,v
retrieving revision 1.2
diff -u -r1.2 _putclip
--- Completion/Cygwin/Command/_putclip	31 Jul 2003 15:26:14 -0000	1.2
+++ Completion/Cygwin/Command/_putclip	24 Jan 2009 13:39:31 -0000
@@ -1,10 +1,12 @@
 #compdef putclip putclip.exe
-#Generated by Felix Rosencrantz
 
-_arguments \
-  '(--dos -d)'{-d,--dos}'[clipboard text will have DOS line endings]' \
-  '(--unix -u)'{-u,--unix}'[clipboard text will have UNIX line endings]' \
-  '(-)'{'-?',--help}'[show this help message]' \
+# cygutils 1.3.2
+
+_arguments -s -S \
+  '(--dos -d --unix -u --no-conv -n)'{-d,--dos}'[clipboard text will have DOS line endings]' \
+  '(--dos -d --unix -u --no-conv -n)'{-u,--unix}'[clipboard text will have UNIX line endings]' \
+  '(--dos -d --unix -u --no-conv -n)'{-n,--no-conv}'[do not translate line endings]' \
+  '(-)'{-\?,--help}'[display help information]' \
   '(-)--usage[display brief usage message]' \
   '(-)--version[display version information]' \
   '(-)--license[display licensing information]'
Index: Completion/Cygwin/Command/_readshortcut
===================================================================
RCS file: Completion/Cygwin/Command/_readshortcut
diff -N Completion/Cygwin/Command/_readshortcut
--- /dev/null	1 Jan 1970 00:00:00 -0000
+++ Completion/Cygwin/Command/_readshortcut	24 Jan 2009 13:39:32 -0000
@@ -0,0 +1,21 @@
+#compdef readshortcut readshortcut.exe
+
+# cygutils 1.3.2
+
+_arguments -s -S \
+  '(--fields -f)'{-f,--fields}'[show field names]' \
+  '(--unix -u --windows -w)'{-u,--unix}'[use Unix path format for display (default)]' \
+  '(--unix -u --windows -w)'{-w,--windows}'[use Windows path format for display ]' \
+  '(--target -t)'{-t,--target}'[display shortcut target]' \
+  '(--working -g)'{-g,--working}'[display shortcut working directory]' \
+  '(--args -r)'{-r,--args}'[display shortcut arguments]' \
+  '(--showcmd -s)'{-s,--showcmd}'[display shortcut "show" command value]' \
+  '(--icon -i)'{-i,--icon}'[display icon library location]' \
+  '(--offset -j)'{-j,--offset}'[display icon library offset]' \
+  '(--desc -d)'{-d,--desc}'[display shortcut description]' \
+  '(--all -a)'{-a,--all}'[display all information]' \
+  '(- 1)'{-h,--help}'[display help information]' \
+  '(- 1)--usage[display brief usage message]' \
+  '(- 1)'{-v,--version}'[display version information]' \
+  '(- 1)--license[display licensing information]' \
+  '1:shortcut:_files -g "*.lnk(-.)"'
Index: Completion/Cygwin/Command/_setfacl
===================================================================
RCS file: Completion/Cygwin/Command/_setfacl
diff -N Completion/Cygwin/Command/_setfacl
--- /dev/null	1 Jan 1970 00:00:00 -0000
+++ Completion/Cygwin/Command/_setfacl	24 Jan 2009 13:39:32 -0000
@@ -0,0 +1,13 @@
+#compdef setfacl setfacl.exe
+
+# cygwin 1.5.25
+
+_arguments -s -S \
+  '(-d, --delete)'{-d,--delete}'[delete one or more specified ACL entries]:ACL entry:' \
+  '(-f, --file)'{-f,--file}'[set ACL entries for FILE to ACL entries read from a ACL_FILE]:ACL file:_files' \
+  '(-m, --modify)'{-m,--modify}'[modify one or more specified ACL entries]:ACL entry:' \
+  '(-r, --replace)'{-r,--replace}'[replace mask entry with maximum permissions needed for the file group class]' \
+  '(-s, --substitute)'{-s,--substitute}'[substitute specified ACL entries for the \[ACL of FILE\]]:ACL entry:' \
+  '(- *)'{-h,--help}'[output usage information and exit]' \
+  '(- *)'{-v,--version}'[output version information and exit]' \
+  '*: :_files'

