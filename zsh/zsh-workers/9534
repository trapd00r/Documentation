From zsh-workers-return-9534-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Feb 02 16:21:49 2000
Return-Path: <zsh-workers-return-9534-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 16831 invoked from network); 2 Feb 2000 16:21:48 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 2 Feb 2000 16:21:48 -0000
Received: (qmail 16437 invoked by alias); 2 Feb 2000 16:21:42 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 9534
Received: (qmail 16428 invoked from network); 2 Feb 2000 16:21:41 -0000
To: zsh-workers@sunsite.auc.dk
Subject: Re: PATCH: prompt escape tests
References: <200002020834.JAA09905@beta.informatik.hu-berlin.de>
MIME-Version: 1.0 (generated by AKEMI 1.13.2 - =?ISO-2022-JP?B?Ig==?=
 =?ISO-2022-JP?B?GyRCQTA0Y0s8GyhCIg==?=)
Content-Type: text/plain; charset=US-ASCII
From: Tanaka Akira <akr@jaist.ac.jp>
Date: 03 Feb 2000 01:21:38 +0900
In-Reply-To: Sven Wischnowsky's message of "Wed, 2 Feb 2000 09:34:16 +0100 (MET)"
Message-ID: <rsq66w7zib1.fsf@crane.jaist.ac.jp>
Lines: 27
User-Agent: Chao-gnus/6.12.5 AKEMI/1.13.2 (=?ISO-2022-JP?B?GyRCQTAbKEI=?=
 =?ISO-2022-JP?B?GyRCNGNLPBsoQg==?=) FLAM-DOODLE/1.12.6
 (=?ISO-2022-JP?B?GyRCM3cbKEI=?= 10R4.0/5.0) Emacs/20.4
 (sparc-sun-solaris2.6) MULE/4.0 (HANANOEN)

In article <200002020834.JAA09905@beta.informatik.hu-berlin.de>,
  Sven Wischnowsky <wischnow@informatik.hu-berlin.de> writes:

> I wanted to mention that again anyway... A collegue noticed this for
> some newer Solaris version, too: nowadays some systems don't update
> the atime inode field anymore when a file is read, which makes the -N
> condition test fail.

Z:akr@thorax% uname
Linux
Z:akr@thorax% df .
Filesystem           1k-blocks      Used Available Use% Mounted on
crane:/ldl3            3939604   1660770   2274895  42% /amd/crane/root/ldl3
Z:akr@thorax% make check
...
Test ./07cond.ztst failed: bad status 1, expected 0 from:
  cat unmodified
  touch newnewnew
  [[ -N newnewnew && ! -N unmodified ]]
Was testing: -N cond
./07cond.ztst: test failed.
...

This problem is not Solaris specific and can be reproduced on Linux.
I think it is caused by NFS.
-- 
Tanaka Akira

