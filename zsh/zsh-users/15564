From zsh-users-return-15564-mason-zsh=primenet.com.au@zsh.org Mon Nov 22 17:32:26 2010
Return-Path: <zsh-users-return-15564-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 26134 invoked by alias); 22 Nov 2010 17:32:25 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 15564
Received: (qmail 24615 invoked from network); 22 Nov 2010 17:32:13 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00,RCVD_IN_DNSWL_LOW,
	SPF_HELO_PASS autolearn=ham version=3.3.1
Received-SPF: none (ns1.primenet.com.au: domain at csr.com does not designate permitted sender hosts)
Date: Mon, 22 Nov 2010 17:32:06 +0000
From: Peter Stephenson <Peter.Stephenson@csr.com>
To: Zsh Users <zsh-users@zsh.org>
Subject: Re: Equivalent of Vim's has("feature")?
Message-ID: <20101122173206.31daca15@pwslap01u.europe.root.pri>
In-Reply-To: <alpine.LNX.2.01.1011221149110.2792@hp>
References: <alpine.LNX.2.01.1011221149110.2792@hp>
Organization: Cambridge Silicon Radio
X-Mailer: Claws Mail 3.7.6 (GTK+ 2.20.1; i386-redhat-linux-gnu)
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 22 Nov 2010 17:32:06.0840 (UTC) FILETIME=[2F361B80:01CB8A6B]
X-Scanned-By: MailControl A_10_80_00 (www.mailcontrol.com) on 10.68.0.128

On Mon, 22 Nov 2010 12:12:51 -0500 (EST)
"Benjamin R. Haskell" <zsh@benizi.com> wrote:
> For commands and widgets I've found the following to work well:
> 
> (( $+commands[screen] )) && # do something with screen
> 
> (( $+widgets[history-incremental-pattern-search-backward] )) \
> && bindkey "^R" history-incremental-pattern-search-backward
> 
> But, 1) I can't seem to rediscover the documentation for those
> arrays, 

Look at the documentation for the zsh/parameter module in zshmodules.

> and 2) Is there such an array for things that are more
> inbuilt?  In particular, I'm looking for a test that the ':A' history
> modifier exists.

If you haven't recorded the version when it first appeared so you can
use the is-at-least function, which is the usual way (as long as you do
it as soon as the feature appears it's painless), you have to attempt to
make use of the feature and record the result.

integer history_A
( : ${PATH:A} ) 2>/dev/null  &&  history_A=1

-- 
Peter Stephenson <pws@csr.com>            Software Engineer
Tel: +44 (0)1223 692070                   Cambridge Silicon Radio Limited
Churchill House, Cambridge Business Park, Cowley Road, Cambridge, CB4 0WZ, UK


Member of the CSR plc group of companies. CSR plc registered in England and Wales, registered number 4187346, registered office Churchill House, Cambridge Business Park, Cowley Road, Cambridge, CB4 0WZ, United Kingdom

