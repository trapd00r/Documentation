From zsh-users-return-2822-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Jan 03 18:11:10 2000
Return-Path: <zsh-users-return-2822-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 26829 invoked from network); 3 Jan 2000 18:11:09 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 3 Jan 2000 18:11:09 -0000
Received: (qmail 12509 invoked by alias); 3 Jan 2000 18:10:56 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 2822
Received: (qmail 12502 invoked from network); 3 Jan 2000 18:10:56 -0000
Date: Mon, 3 Jan 2000 10:10:55 -0800
From: Steve Reid <sreid@sea-to-sky.net>
To: John Galbraith <john@bartok.lanl.gov>
Cc: zsh-users@sunsite.auc.dk
Subject: Re: PS1 corrupted through "su"
Message-ID: <20000103101054.A420@grok.localnet>
References: <14448.55754.322294.62194@bartok.lanl.gov>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 0.95.4i
In-Reply-To: <14448.55754.322294.62194@bartok.lanl.gov>; from John Galbraith on Mon, Jan 03, 2000 at 10:25:56AM -0700

On Mon, Jan 03, 2000 at 10:25:56AM -0700, John Galbraith wrote:
> export PS1="%(?.${yellow}.${red})%~%(!.${red}#.${cyan}%%)${normal} "
> This works great, until I su root.
[snip]
> If I then start a new shell as root (by typing "zsh"), things work as
> expected.

Root's shell being set to something other than zsh would cause the
behavior you're seeing.

You've probably checked that already, but sometimes the obvious things
are the easiest to forget.

