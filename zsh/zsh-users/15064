From zsh-users-return-15064-mason-zsh=primenet.com.au@zsh.org Wed May 19 13:42:41 2010
Return-Path: <zsh-users-return-15064-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 20429 invoked by alias); 19 May 2010 13:42:41 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 15064
Received: (qmail 19592 invoked from network); 19 May 2010 13:42:39 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.9 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.3.1
Received-SPF: none (ns1.primenet.com.au: domain at debian.org does not designate permitted sender hosts)
Date: Wed, 19 May 2010 13:37:04 +0000
From: Clint Adams <schizo@debian.org>
To: "Nikolay A. Panov" <debian-bugreport@niksite.ru>,
	582258@bugs.debian.org
Cc: zsh-users@zsh.org
Subject: Re: Bug#582258: zsh-mime-setup disables usual completions
Message-ID: <20100519133704.GA20421@scru.org>
References: <20100519131859.8033.223.reportbug@laptop.niksite.ru>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20100519131859.8033.223.reportbug@laptop.niksite.ru>
User-Agent: Mutt/1.5.18 (2008-05-17)

On Wed, May 19, 2010 at 05:18:59PM +0400, Nikolay A. Panov wrote:
> Using zsh-mime-setup I have no completions for, say, django:
> 
> $ zsh -f
> laptop% autoload -U compinit;compinit
> laptop% ./manage.py
> tags in context :completion::complete:manage.py::
>     argument-1 options  (_arguments _django (eval)) 
>     subcommands         (_describe _django (eval))
> 
> This time I have pressed <C-x>,h. In case of <TAB>, completions works well:
> 
> laptop% ./manage.py
> cleanup           -- remove old data from the database
> compilemessages   -- compile .po files to .mo for use with gettext
> ....
> 
> If then I load zsh-mime-setup, django completions became disabled:
> 
> laptop% autoload -U zsh-mime-setup; zsh-mime-setup
> laptop% ./manage.py
> tags in context :completion::complete:zsh-mime-handler::
>     all-files  (_files _default (eval))
> 
> And by TAB I have just the following:
> laptop% ./manage.py
> apps/                    extras/                  media/                   settings_local.py*
> ....
> 

You could do `unalias -s py' to get your manage.py completion back.

