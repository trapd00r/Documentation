From eijk@pegasus.esprit.ec.org Thu Jun 20 23:38:08 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by melb.werple.net.au (8.7.5/8.7.3/2) with ESMTP id XAA18292 for <mason@werple.mira.net.au>; Thu, 20 Jun 1996 23:38:04 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id JAA08149; Thu, 20 Jun 1996 09:22:30 -0400 (EDT)
Resent-Date: Thu, 20 Jun 1996 09:22:30 -0400 (EDT)
Message-Id: <199606201322.AA23731@bob.pegasus.esprit.ec.org>
To: zsh-workers@math.gatech.edu
Reply-To: eijk@pegasus.esprit.ec.org
Subject: Strange behaviour in variable substitution
X-Mailer: MH-6.8.3 with MH-E
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Tea: anijs
Date: Thu, 20 Jun 1996 15:21:59 +0200
From: "Erwin J. van Eijk" <eijk@pegasus.esprit.ec.org>
Resent-Message-ID: <"K_kKA3.0.C_1.L2Lon"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/1378
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu
Content-Length: 1359
Status: OR

Hi all,

I have some strange things happening since beta13/17? (something like
that).

I have this .zshenv:
if [ -f /bin/arch ]; then
        ARCH=`/bin/arch`
elif [ -f /bin/hp-pa -a /bin/hp-pa ]; then
        ARCH=snake
elif [ -d /usr/sbin ]; then
        ARCH=netbsd
else
        ARCH=unknown
fi
export ARCH

if [ "X$ARCH" = "Xmips" ] ; then
	export LONGARCH=mips_ultrix_4.3
elif [ "X$ARCH" = "Xalpha" ] ; then
	export LONGARCH=alpha_osf1_3.2
fi

P="$HOME/bin \
$HOME/bin/bin.$ARCH \
$HOME/bin/$ARCH \
$HOME/bin/$ARCH/AF \
$HOME/Nemesis/tools/install/$LONGARCH/bin
/usr/users/eijk/bin
/usr/bin/mh \
/usr/local/bin \
 [.... some dirs deleted ......]
/usr/local/frame/bin \
/usr/users/eijk/bin/AF "

apath=""
for dir in `echo $P`
do
        if [ -d ${dir} ]; then
                apath="$apath:$dir"
        fi
done
PATH=$apath
export PATH

unset arch bin dir apath P
#end of .zshrc


The trouble is that the $HOME/bin dir is added to my path, but the
$HOME/bin/$ARCH is not (and not because they do not exist). It works
when I substitute $HOME with my homepath ofcourse, but that's no real
solution.
--
       +--------------------+
 \     | Erwin J.  van Eijk | Standard Disclaimer applies
  \ /\ | eijk@cs.utwente.nl |
  ( )  | eijk@corner.iaf.nl | A single death is a tragedy,
_( * )_+--------------------+ A million deaths is a statistic - Josef Stalin


