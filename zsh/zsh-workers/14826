From zsh-workers-return-14826-mason-zsh=primenet.com.au@sunsite.dk Sat Jun 09 17:24:15 2001
Return-Path: <zsh-workers-return-14826-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13739 invoked from network); 9 Jun 2001 17:24:14 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 9 Jun 2001 17:24:14 -0000
Received: (qmail 10335 invoked by alias); 9 Jun 2001 17:23:53 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 14826
Received: (qmail 10323 invoked from network); 9 Jun 2001 17:23:52 -0000
X-Authentication-Warning: candle.brasslantern.com: schaefer set sender to lantern@shell10.ba.best.com using -f
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <1010609172144.ZM17151@candle.brasslantern.com>
Date: Sat, 9 Jun 2001 17:21:44 +0000
In-Reply-To: <yeh8zj1r5sb.fsf@transit.cs.brown.edu>
Comments: In reply to Timothy Miller <tsm@transit.cs.brown.edu>
        "Re: zsh 4.0.1 make check failures on irix, freebsd, solaris, aix, linux" (Jun  9, 12:12pm)
References: <yehd78epir3.fsf@water.cs.brown.edu> 
	<1010609045924.ZM6260@candle.brasslantern.com> 
	<yeh8zj1r5sb.fsf@transit.cs.brown.edu>
X-Mailer: Z-Mail (5.0.0 30July97)
To: Timothy Miller <tsm@transit.cs.brown.edu>
Subject: Re: zsh 4.0.1 make check failures on irix, freebsd, solaris, aix, linux
Cc: zsh-workers@sunsite.dk
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Jun 9, 12:12pm, Timothy Miller wrote:
} Subject: Re: zsh 4.0.1 make check failures on irix, freebsd, solaris, aix,
}
} > CVS repository at SourceForge <https://sourceforge.net/cvs/?group_id=4068>.
} > You will probably want to "cvs -d ... co -r zsh-4_0-patches".
} 
} Ok; I'll take a look at this a little later..

I've also uploaded just the fix for this one problem to the SourceForge
patch manager:
  http://sourceforge.net/tracker/?atid=304068&group_id=4068&func=browse
The patch number is 431573.

} The source directory is on a filesystem mounted with grpid so new
} directories get the parent group, but the parent group isn't one I'm in

Aha.  However, it's really only trying to see whether the setgid bit is
set, not which group owns the directory.  Maybe the "chmod g+s" fails when
you aren't in the group?

} It might help to have some code to test for
} that case and try to deliberately "chgrp $GID <whatever>"

The %prep section should simply always do that chgrp.

} Is there a reason not to put your temporary testing files in /tmp if
} NFS is a problem?

There are different problems with Sun's ramdisk /tmp, so there's really
no safe place to put anything.  We're trying to come up with a way to
tell that the build directory is on NFS and selective skip those tests.

} Some more details [about AIX compilation] then:

Thanks again.  I'm going to let Andrej fold this into configure as he's
already been trying some other AIX-related changes.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

