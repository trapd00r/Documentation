From zsh-users-return-3692-mason-zsh=primenet.com.au@sunsite.dk Mon Mar 19 21:30:23 2001
Return-Path: <zsh-users-return-3692-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 14527 invoked from network); 19 Mar 2001 21:30:22 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 19 Mar 2001 21:30:22 -0000
Received: (qmail 14220 invoked by alias); 19 Mar 2001 21:30:07 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 3692
Received: (qmail 14207 invoked from network); 19 Mar 2001 21:30:07 -0000
Date: Mon, 19 Mar 2001 21:30:06 +0000
From: Adam Spiers <adam@spiers.net>
To: zsh-users@sunsite.dk
Subject: Re: completion tricks
Message-ID: <20010319213006.B21595@thelonious.new.ox.ac.uk>
Reply-To: Adam Spiers <adam@spiers.net>
Mail-Followup-To: zsh-users@sunsite.dk
References: <Pine.LNX.4.31.0103191314040.4850-100000@neptune> <20010319141533.D94071@alpha1.net>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.4i
In-Reply-To: <20010319141533.D94071@alpha1.net>; from marius@alpha1.net on Mon, Mar 19, 2001 at 02:15:33PM -0600
X-Home-Page: http://www.new.ox.ac.uk/~adam/
X-OS: RedHat Linux

Marius Strom (marius@alpha1.net) wrote:
> On Mon, Mar 19, 2001 at 01:14:54PM -0700, Jeff Shipman wrote:
> > I was wondering how to set up some completion tricks like
> > these:
> > 
> > 1) Using 'man' will complete different man pages
> > 
> > 2) Using ssh, rlogin, telnet, etc will complete
> >    different hosts on my network.
>
> Jeff,
> I did the second portion as thus in my .zshrc:
> 
> hosts=( host1 host2 host3.fqdn.com )
> compctl -k hosts ssh ftp telnet ping traceroute mtr rlogin rsh

Or if you're using a development version (highly recommended), forget
compctl altogether, and do `autoload compinstall; compinstall' to
install the new completion system, which is much better.

Completion of man pages should then work automatically.  You can
also configure ssh etc. like so:

  # All my accounts:
  my_accounts=(
    {joe,root}@mymachine.com
    jbloggs@myothermachine.com
  )

  # Other people's accounts:
  other_accounts=(
    {fred,root}@hismachine.com
    vera@hermachine.com
  )

  zstyle ':completion:*:my-accounts' users-hosts $my_accounts
  zstyle ':completion:*:other-accounts' users-hosts $other_accounts

  telnet_users_hosts_ports=(
    user1@host1:
    user2@host2:
    @mail-server:{smtp,pop3}
    @news-server:nntp
    @proxy-server:8000
  )

  zstyle ':completion:*:*:telnet:*' users-hosts-ports $telnet_users_hosts_ports

Note to zsh-workers: it looks like completion within the -l option of
telnet is broken.

