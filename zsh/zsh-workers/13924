From zsh-workers-return-13924-mason-zsh=primenet.com.au@sunsite.dk Mon Apr 09 16:05:20 2001
Return-Path: <zsh-workers-return-13924-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 11338 invoked from network); 9 Apr 2001 16:05:19 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 9 Apr 2001 16:05:19 -0000
Received: (qmail 2422 invoked by alias); 9 Apr 2001 16:05:15 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 13924
Received: (qmail 2408 invoked from network); 9 Apr 2001 16:05:15 -0000
Message-ID: <Tc0a88d0152d06ec172@mailsweeper01.cambridgesiliconradio.com>
To: zsh-workers@sunsite.dk (Zsh hackers list)
Subject: zsh-4.0.1-pre-3 is available
Date: Mon, 09 Apr 2001 17:04:45 +0100
From: Peter Stephenson <pws@csr.com>

The most noticeable change is that Sven has restructured the directories
for shell function code, including tests.

I'm not really waiting for anything else, except I said I'd add options to
make it easy to unbind any key string with a given prefix, so I suppose I'd
better.


2001-04-06  Bart Schaefer  <schaefer@zsh.org>

	* 13919: Completion/compinit: Clarify the prompt presented when
	 the completion system detects insecure files/directories.

2001-04-06  Sven Wischnowsky  <wischnow@zsh.org>

	* 13917: Src/params.c: test for unset in pipestatussetfn()

	* 13916: Src/params.c: like 13907, but for backward searches

2001-04-05 Felix Rosencrantz <f_rosencrantz@yahoo.com>

        * workers/13914: Completion/Unix/Command/_java: Added call to
        _normal after class to run is specified for java, and added
        completion for files to extract for "jar -x". 

2001-04-05  Bart Schaefer  <schaefer@zsh.org>

	* unposted: Functions/Prompts/prompt_bart_setup: Better handling
	of long command strings, more efficient padding computation.

	* users/3795: Functions/Misc/getjobs: Insert history entries
	with the original job texts for jobs resumed with fg/bg/etc.

	* users/3401: Functions/Misc/promptnl: Finally added this
	function, with extensive additional comments on usage, etc.

2001-04-05  Clint Adams  <schizo@debian.org>

	* 13909: Completion/Base/.distfiles, Completion/X/.distfiles,
	Test/.distfiles: remove stray files with tildes.

2001-04-05  Sven Wischnowsky  <wischnow@zsh.org>

	* 13908: Completion/Base/Utility/_arguments: complete only
	those single letter options with the right prefix character

	* 13907: Src/params.c: fix for forward subscripting of strings
	as second part of subscript ($a[x,(r)..])

2001-04-04  Sven Wischnowsky  <wischnow@zsh.org>

	* 13902: Completion/Base/Utility/_arguments,
	Completion/X/Utility/_x_arguments,
	Completion/X/Utility/_xt_arguments, Doc/Zsh/compsys.yo: add -W
	option to _arguments, which allows to complete options after
	options that take an argument in the next word

2000-04-03  Clint Adams  <schizo@debian.org>

	* 13899: Completion/Unix/Command/_apm: add $OSTYPE checking.

2001-04-03  Oliver Kiddle  <opk@zsh.org>

	* 13898, Bart: 13827: Completion/Zsh/Command/_ttyctl,
	Completion/Zsh/Command/_ulimit,	Completion/Zsh/Command/_vared:
	new completion functions
	
2001-04-03  Sven Wischnowsky  <wischnow@zsh.org>

	* 13892: Src/Zle/compmatch.c, Test/comptest, Test/ztst.zsh:
	two more places where fpaths to completion functions were used;
	follow-up on 13868, fix the fix

2001-04-02  Clint Adams  <schizo@debian.org>

	* 13889: Completion/Linux/_apm, Completion/Linux/.distfiles,
	Completion/Unix/Command/_apm, Completion/Unix/Command/.distfiles:
	Add OpenBSD 2.7 apm options.  Move to Unix/Command.

2001-04-02  Bart Schaefer  <schaefer@zsh.org>

	* 13887: Config/installfns.sh: Skip CVS subdirectories.

2001-04-02  Clint Adams  <schizo@debian.org>

	* 13884: Completion/Linux/_apm: Add FreeBSD 4.1 apm options.

2001-04-02  Sven Wischnowsky  <wischnow@zsh.org>

	* Config/installfns.sh, Src/zsh.mdd: more cleanup after
	function moving

	* unposted, kind of: moving functions and scripts around, renaming
	them, accidentally deleted them and re-installing them, etc.

	* 13868: Src/Zle/compmatch.c, Src/Zle/computil.c: make
	`_arguments -S' still complete long options after `--<TAB>';
	fix for cursor positioning with partial word match specs

2001-04-02  Clint Adams  <schizo@debian.org>

 	* 13866: Completion/Debian/_apt: complete a release
	name after apt-get install <pkgname>/.

	* 13864: Completion/Debian/_apt: complete a
	"release" name after apt-get -t.

2001-04-01  Oliver Kiddle  <opk@zsh.org>

	* 13863: Completion/Builtins/_bindkey, Completion/Builtins/_compdef,
	Completion/Builtins/_disable, Completion/Builtins/_emulate,
	Completion/Builtins/_enable, Completion/Builtins/_fc,
	Completion/Builtins/_hash, Completion/Builtins/_print,
	Completion/Builtins/_read, Completion/Builtins/_unhash,
	Completion/Builtins/_vars_eq, Completion/Builtins/_which,
	Completion/Builtins/_zcompile, Completion/Builtins/_zle,
	Completion/Builtins/_zpty, Completion/Builtins/_zstyle,
	Completion/User/_bison, Completion/User/_bzip2, Completion/User/_dirs,
	Completion/User/_fetchmail, Completion/User/_gzip,
	Doc/Zsh/builtins.yo, Doc/Zsh/compsys.yo, Doc/Zsh/compwid.yo,
	Doc/Zsh/expn.yo: various doc fixes and minor changes to completion
	functions, including use of -A "-*" and -S options to _arguments.

2001-04-01  Chmouel Boudjnah  <chmouel@mandrakesoft.com>

	* 13861: Completion/Linux/_apm: Completion for apm command (linux only).

2001-03-30  Clint Adams  <schizo@debian.org>

	* 13860: Completion/Debian/_deb_packages: caching layer support.

2001-03-30  Peter Stephenson  <pws@csr.com>

	* 13851: Src/signals.c, Src/exec.c: don't exec final command in
	in list if any traps are set, since we don't know whether we will
	need to handle them when that command exits.

2001-03-30  Bart Schaefer  <schaefer@zsh.org>

	* 13846: Test/ztst.zsh: When "make check" is run with output to a
	tty, print a hash mark approximately once per second during tests
	to provide a "progress bar".

	* 13845: Doc/Zsh/options.yo, Src/options.c: Refuse `setopt noexec'
	in interactive shells, except at startup with `zsh -n'.

2001-03-29  Peter Stephenson  <pws@csr.com>

	* 13838: Src/prompt.c: don't assume we can change the string
	returned by getsparam("HOST").

	* 13837: Src/builtin.c: disallow changing of parameter type
	for autoloadable parameter (bug 219459 on Sourceforge).

2001-03-29  Sven Wischnowsky  <wischnow@zsh.org>

	* 13833: Completion/Core/_expand: fix comparison of expansions
	with expanded prefix (missing quoting)

	* 13830: Completion/Core/_multi_parts: next try to get rid of
	empty strings being added as possible completion by
	_multi_parts

2001-03-28  Bart Schaefer  <schaefer@zsh.org>

	* 12724: Doc/Zsh/builtins.yo: Nobody has come up with a better fix
	for the misformatted manual page than this hack, so I've finally
	committed it.

2001-03-28  Peter Stephenson  <pws@csr.com>

	* 13818: Doc/Zsh/zle.yo, Src/Zle/zle_keymap,c. Src/Zle/zle_main.c
	[zle_main hunk got omitted from posted patch, oops]: Add
	`bindkey -p' to list bindings with a given prefix.

	* unposted: Doc/Zsh/zle.yo, Doc/Zsh/mod_zle.yo: move ZLE builtin
	documentation from mod_zle.yo to zle.yo.

2001-03-28  Sven Wischnowsky  <wischnow@zsh.org>

	* 13815: Completion/Commands/_history_complete_word,
	Doc/Zsh/compsys.yo: more cleanup; simplify the stop
	and liststyles; try to make it obey whatever _main_complete
	says should be done (menu-wise)

	* 13814: Completion/User/_urls, Doc/Zsh/compsys.yo: replace
	`path' with more general `urls' style

	* 13813: Completion/Core/_multi_parts: make sure _multi_parts
	doesn't add the empty string as a possible completion

2001-03-28  Peter Stephenson  <pws@csr.com>

	* unposted: Completion/Commands/_complete_tag: mysterious extra
	blank line somehow crept in at critical point.

2001-03-28  Sven Wischnowsky  <wischnow@zsh.org>

	* 13809: Completion/Base/_arguments: don't add options as
	completions if a `->state' action was used and we are
	directly after the option (in the same word)

2001-03-27  Sven Wischnowsky  <wischnow@zsh.org>

	* 13790: Completion/Base/_arguments, Completion/X/_x_arguments,
	Completion/X/_xt_arguments, Doc/Zsh/compsys.yo: make
	_arguments return 300 only if given the -R option

	* 13789: Completion/Base/_tilde, Completion/Builtins/_popd:
	comment out looking up the prefix-needed style when
	completing directory stack entries; make _tilde use _popd,
	finally

	* 3752: Completion/Commands/_history_complete_word,
	Src/Zle/compresult.c: try to make _h_c_w smarter at the
	beginning and end of the list; avoid list-beeping if the old
	completion list is re-used

2001-03-26  Clint Adams  <schizo@debian.org>

	* 13783 from Michal Politowski: Completion/Builtins/_pids:
	handle pids that don't have a preceding space in ps output.

	* 13779 from Michal Politowski: Completion/Commands/_complete_tag:
	typo fixes?

	* 13777: Src/Builtins/rlimits.awk: add maxfilelocks
	for glibc 2.2.

2001-03-26  Sven Wischnowsky  <wischnow@zsh.org>

	* 13770: Src/Zle/computil.c: handle colons in xor lists

	* 13768: Completion/Core/_main_complete,
	Completion/Core/_setup: unset ZLS_COLORS if list-colors not
	set

	* 13767: Src/Zle/zle_utils.c: avoid adding empty strings to
	the kill ring

	* 13763: Completion/Builtins/_pids, Doc/Zsh/compsys.yo: _pids
	shouldn't start menu completion if the current word starts
	with a hyphen; typo fix in compsys.yo

2001-03-25  Bart Schaefer  <schaefer@zsh.org>

	* 13757: StartupFiles/zlogin, StartupFiles/zshenv,
	StartupFiles/zshrc:  Strongly discourage use of these files as
	/etc/z* drop-ins.

2001-03-25  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 13751: Completion/User/_cpio: added.

	* 13745: Test/ztst.zsh: set LC_COLLATE to C if already set to
	something.

	* 13743: Completion/User/_mailboxes: handle @folder in MH.

2001-03-24  Bart Schaefer  <schaefer@zsh.org>

	* 13746: Test/13parameter.ztst: Add tests for fixes from 13492.

	* 13744: Test/01grammar.ztst, Test/10prompt.ztst,
	Test/13parameter.ztst, Test/ztst.zsh: Delete or correct comments
	that refer to (non-)bugs or other confusion; enable another test;
	print the name of each test as it begins as well as when it ends.

	* 13740: Completion/User/_mailboxes: Fixes for mh (based on PWS's
	patch in 13737): handle sub-folders; handle +folder abbreviations;
	add commented-out lines that might eventually handle @folder, too.

2001-03-23  Bart Schaefer  <schaefer@zsh.org>

	* 13736: Test/01grammar.ztst: Enable more tests as they seem to
	work now; add regression test for the fix from 13706.

2001-03-23  Sven Wischnowsky  <wischnow@zsh.org>

	* 13733: Completion/Builtins/_pids: don't auto-start menu
	* completion after a `%' when completing pids or jobs

	* 13730: Completion/Core/_approximate: probably no reason to
	put the (#a?) flag after an initial tilde in _approximate
	anymore

	* 13727: Completion/User/_init_d, Completion/User/_make,
	Doc/Zsh/compsys.yo: add commands and call-command styles;
	mention some of the more expensive things about completion
	setup in the docs

	* 13725: Completion/Core/_all_labels,
	Completion/Core/_next_label: test if the colon is quoted

	* 13724: Completion/Core/_path_files: fixlet, complicated
	match specs could result in incorrect words being used as
	possible path expansions

2001-03-22  Peter Stephenson  <pws@csr.com>

	* 13676: Completion/User/_mh: some tweaks for nmh.

2001-03-22  Sven Wischnowsky  <wischnow@zsh.org>

	* 13706: Src/exec.c: skip redirections in execpline2() when
	looking for the command code

2001-03-21  Bart Schaefer  <schaefer@zsh.org>

	* unposted: Functions/Prompts/prompt_bart_setup: Use the (S)
	flag on a parameter expansion to improve parsing of the PS1
	string when computing its visible length.

2001-03-20  Sven Wischnowsky  <wischnow@zsh.org>

	* 13674: Completion/User/_telnet: use -l as default for telnet's
 	without -\? option
	
	* 13673: Src/Modules/zprof.c: fix misaligned percent output of
 	zprof
	
2001-03-18  Clint Adams  <schizo@debian.org>

	* 13664: Completion/User/_init_d: handle rcS.d, force-restart,
	force-reload.  Also, remove Completion/SysV.

2001-03-18  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* From Zvi Har'El: unposted: Doc/Zsh/metafaq.yo: shorter
	address for Israeli mirror.

2001-03-18  Clint Adams  <schizo@debian.org>

	* 13662: Completion/Debian/_apt: new build-dep command
	in apt-get.

	* 13661: Completion/SysV/.distfiles,
	Completion/SysV/_sysv_initscripts: complete arguments
	for SysV initscripts.

2001-03-17  Bart Schaefer  <schaefer@zsh.org>

	* unposted (but see 13646 and users/3563): Doc/Zsh/contrib.yo,
	Functions/Misc/.distfiles, Functions/Misc/zkdb: Function to read
	keyboard sequences and save them in an associative array for later
	reference (much improved from posted version, which was broken).

2001-03-15  Peter Stephenson  <pws@csr.com>

	* users/3671: Completion/User/_java: complete in middle of
	-classpath etc., not just at end.
	
2001-03-15  Sven Wischnowsky  <wischnow@zsh.org>

	* user/3674: Src/Zle/complist.c: fix default colour for directories
	
2001-03-14  Peter Stephenson  <pws@csr.com>

	* 13633: Src/Zle/zle_keymap.c: lastest in saga: don't use
	termcap suggestion for keymap if it is a single key already bound
	by default (user bindings will take precedence anyway).

2001-03-13  Bart Schaefer  <schaefer@zsh.org>

	* Zvi Har'El: 13619: Completion/User/_rcs: Add the D qualifier
	when matching file names in the RCS subdirectory.

	* 13613, 13620: Completion/User/_ncftp, Completion/User/_lftp:
	Unify completion for ncftp and lftp in _ncftp (removed _lftp).

2001-03-13  Peter Stephenson  <pws@csr.com>

	* 13611, 13615: Doc/Zsh/zle.yo, Src/init.c, Src/zsh.h, 
	Src/Zle/zle_keymap.c: Use termcap to find cursor sequences to
	bind; default to VT100.  If ^[[? or ^[O? is being bound, bind
	the other one too.  Also bind cursor keys in viins keymap.

2001-03-12  Oliver Kiddle  <opk@zsh.org>

	* 13610: INSTALL, README, Completion/Core/compinit,
	Completion/Core/compinstall, Doc/Zsh/builtins.yo, Doc/Zsh/compsys.yo
	Doc/Zsh/compwid.yo, Doc/Zsh/contrib.yo, Doc/Zsh/expn.yo,
	Doc/Zsh/options.yo, Doc/Zsh/zftpsys.yo, Etc/CONTRIBUTORS: spelling
	corrections and improve to wording

	* unposted: Completion/Commands/_complete_help: fix to declare tmp
	as a local variable

2001-03-12  Chmouel Boudjnah <chmouel@mandrakesoft.com>

	* 13605: Completion/User/_tar, Completion/User/_tar_archive: New tar
	options -j.

2001-03-12  Oliver Kiddle  <opk@zsh.org>

	* unposted: Completion/User/_zip, Completion/User/_hosts: handle
	filenames containing spaces in zip archives and don't complete lftp
	from _hosts

2001-03-12  Chmouel Boudjnah <chmouel@mandrakesoft.com>

	* 13601: Completion/User/_lftp: Add completion for lftp

2001-03-11  Oliver Kiddle  <opk@zsh.org>

	* 13600: Completion/Base/_subscript, Completion/Core/_files,
	Completion/Core/_tags,  Completion/User/.distfiles,
	Completion/User/_dir_list, Completion/User/_fetchmail,
	Completion/User/_hosts, Completion/User/_iconv, Completion/User/_mutt,
	Completion/User/_ncftp, Completion/User/_tar, Completion/User/_urls,
	Completion/User/_webbrowser, Completion/User/_wget,
	Completion/User/_xargs, Completion/User/_zip, Functions/Misc/mere:
	various new, improved, fixed or updated functions

2001-03-11  Bart Schaefer  <schaefer@zsh.org>

	* 13599: Completion/User/_sh: Use _normal completion following
	the name of a shell script.

	* 13598: Completion/Core/_expand: Handle quoted whitespace in
	glob expansions.

	* 13562: Functions/Zle/edit-command-line: Better handling of
	multi-line buffers, at the expense of an extra feep.

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR Ltd., Unit 300, Science Park, Milton Road,
Cambridge, CB4 0XL, UK                          Tel: +44 (0)1223 392070

