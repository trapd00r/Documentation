From zsh-users-return-5321-mason-zsh=primenet.com.au@sunsite.dk Fri Aug 30 20:17:22 2002
Return-Path: <zsh-users-return-5321-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 11243 invoked from network); 30 Aug 2002 20:17:21 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 30 Aug 2002 20:17:21 -0000
Received: (qmail 26187 invoked by alias); 30 Aug 2002 20:17:07 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 5321
Received: (qmail 26167 invoked from network); 30 Aug 2002 20:17:06 -0000
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <020830131638.ZM11370@candle.brasslantern.com>
Date: Fri, 30 Aug 2002 13:16:38 -0700
In-Reply-To: <Pine.LNX.4.44.0208301139560.23762-100000@scuzzy.blorf.net>
Comments: In reply to Wayne Davison <wayned@users.sourceforge.net>
        "Re: vi-history-incremental-search?" (Aug 30, 11:44am)
References: <Pine.LNX.4.44.0208301139560.23762-100000@scuzzy.blorf.net>
X-Mailer: Z-Mail Lite (5.0.0 30July97)
To: Steve Talley <stephen.talley@sun.com>, Zsh Users <zsh-users@sunsite.dk>
Subject: Re: vi-history-incremental-search?
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Aug 30, 11:44am, Wayne Davison wrote:
> 
> Bart Schaefer wrote:
> > Even in emacs mode you can't exit from incremental search and then
> > resume the same search again later.
> 
> I'm not sure what you mean here.  Type Ctrl-R twice and it will start a
> new search with the previous search string.

Hrm, I swear I tried it in 4.0.6 and it didn't work.  But I just tried
again (with 4.0.3, I haven't upgraded the machines at work yet) and it
worked, so I must have flubbed something last night.

In that case, Steve can do:

function vi-repeat-incremental-search-backward {
 bindkey -e
 zle -U $'\C-r'
 zle history-incremental-search-backward
 bindkey -v
}
zle -N vi-repeat-incremental-search-backward
bindkey -a N vi-repeat-incremental-search-backward

(The "bindkey" commands shouldn't be necessary, but the keymap for h-i-s-b
is messed up when you enter it from vicmd.)

