From zsh-workers-return-6666-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Jun 16 14:23:33 1999
Return-Path: <zsh-workers-return-6666-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2898 invoked from network); 16 Jun 1999 14:23:31 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 16 Jun 1999 14:23:31 -0000
Received: (qmail 23745 invoked by alias); 16 Jun 1999 14:23:23 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 6666
Received: (qmail 23737 invoked from network); 16 Jun 1999 14:23:23 -0000
From: "Andrej Borsenkow" <borsenkow.msk@sni.de>
To: "Peter Stephenson" <pws@ibmth.df.unipi.it>,
        "Zsh hackers list" <zsh-workers@sunsite.auc.dk>
Subject: New completion - redefine widgets instead of rebinding keys RE: pws-22
Date: Tue, 15 Jun 1999 19:23:26 +0400
Message-ID: <001001beb743$037e6720$21c9ca95@mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2314.1300
In-Reply-To: <9906150915.AA20427@ibmth.df.unipi.it>

>
> The stuff for argument handling of zle widgets still has to go in;
> installation and startup of new completion still has to be finalised; I
> still have to write fancier handling for checking whether to install
> functions, maybe; we probably have to change $NUMERIC in zle widgets so
> that it's not set if there is no prefix.
>

Since I've never seen any reply to this, I repeat it here.

My suggestion was, that instead of rebinding keys (as is done currently) we
should simply redefine corresponding widgets. IMHO this has some advantage as

 - makes startup files less error prone. I bet, that every now and then some
user will change completion widget binding after intializing new completion and
then wonder, why does not work. Less noice on zsh-users :-)

 - is keymap independent. I remember some discussions of switching keymaps
on-the-fly. If this will ever be implemented, current way of rebinding single
keymap won't do. Even now you may find itself suddenly starting in Vi istead of
Emacs mode - and wondering, why completion behaves strange.

It makes also compinit more simple. Instead of filtering bindkey output you
simply redefine (always the same) widgets.

Original widgets are always available so it is quite safe.

any comments?

/andrej

