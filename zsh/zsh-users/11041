From zsh-users-return-11041-mason-zsh=primenet.com.au@sunsite.dk Mon Nov 27 16:16:09 2006
Return-Path: <zsh-users-return-11041-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2166 invoked from network); 27 Nov 2006 16:16:04 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.7 (2006-10-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.4 required=5.0 tests=AWL,BAYES_00,
	FORGED_RCVD_HELO autolearn=ham version=3.1.7
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 27 Nov 2006 16:16:04 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 68452 invoked from network); 27 Nov 2006 16:14:36 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 27 Nov 2006 16:14:36 -0000
Received: (qmail 7571 invoked by alias); 27 Nov 2006 16:14:27 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 11041
Received: (qmail 7561 invoked from network); 27 Nov 2006 16:14:26 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 27 Nov 2006 16:14:26 -0000
Received: (qmail 67347 invoked from network); 27 Nov 2006 16:14:26 -0000
Received: from wx-out-0506.google.com (66.249.82.237)
  by a.mx.sunsite.dk with SMTP; 27 Nov 2006 16:14:22 -0000
Received: by wx-out-0506.google.com with SMTP id i31so1554428wxd
        for <zsh-users@sunsite.dk>; Mon, 27 Nov 2006 08:14:05 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:sender:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        b=lo6QGJrmR9gY4TNrvwEbbMjsw7rnFWwIqooaXOnziLgJ7sAmdVy0bIFHwzWjEzxoaw2oHvneKawcIwTDwhZbLByIiIirqqIdqYBvHJK+qoZZJVtTE/cy4wRLebq0RDJPKJ+FyhxpO0Tujk1HowXa7Gn7TSt29NEGMQLw2M5LCpg=
Received: by 10.90.104.14 with SMTP id b14mr10151310agc.1164644044770;
        Mon, 27 Nov 2006 08:14:04 -0800 (PST)
Received: by 10.90.65.18 with HTTP; Mon, 27 Nov 2006 08:14:04 -0800 (PST)
Message-ID: <dbfc82860611270814p115da7afu3c8ada7795a03701@mail.gmail.com>
Date: Mon, 27 Nov 2006 17:14:04 +0100
From: "Nikolai Weibull" <now@bitwi.se>
Sender: nikolai.weibull@gmail.com
To: "Wayne Davison" <wayned@users.sourceforge.net>
Subject: Re: What was the reason for history -D not reporting runtimes?
Cc: zsh-users@sunsite.dk
In-Reply-To: <20061127143109.GA26291@blorf.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <dbfc82860611240516w403e14fes7ef5a8d29148512c@mail.gmail.com>
	 <17393e3e0611250841v6a5e3d73ha185b3f3b44509b9@mail.gmail.com>
	 <dbfc82860611250952w68b615ebl250e3d8ede444739@mail.gmail.com>
	 <20061127143109.GA26291@blorf.net>
X-Google-Sender-Auth: 84a4acd7d1551754

On 11/27/06, Wayne Davison <wayned@users.sourceforge.net> wrote:
> On Sat, Nov 25, 2006 at 06:52:50PM +0100, Nikolai Weibull wrote:
> > Yes, but that I already have.  The -D information somehow isn't
> > recorded.  I thought it was incappendhistory that caused this, but I
> > don't have that set.
>
> The SHARE_HISTORY option also causes this.  This is because the current
> algorithm for sharing history writes out the history lines as soon as
> you enter the command.  Perhaps we should revisit the reasons for this
> design choice to see if we still agree that this is the best spot to do
> the shared/inc-append history updating.

I don't have that set either.  dang...

setopt autocd                                 \
       autopushd                              \
       completeinword nolistambiguous         \
       rcexpandparam rcquotes                 \
       correct dvorak                         \
       nonotify                               \
       nobeep

That's what I set.  I do have some zstyles for history completion:

zstyle ':completion:*:history-words' stop yes
zstyle ':completion:*:history-words' remove-all-dups yes
zstyle ':completion:*:history-words' list no
zstyle ':completion:*:history-words' menu yes

but I don't see how that can affect anything.

  nikolai

