From zsh-workers-request@math.gatech.edu Fri Jun 05 08:48:08 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 15947 invoked from network); 5 Jun 1998 08:48:07 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 5 Jun 1998 08:48:07 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id EAA17371;
	Fri, 5 Jun 1998 04:44:05 -0400 (EDT)
Resent-Date: Fri, 5 Jun 1998 04:44:05 -0400 (EDT)
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <980605014430.ZM17329@candle.brasslantern.com>
Date: Fri, 5 Jun 1998 01:44:30 -0700
In-Reply-To: <199806050732.JAA25285@hydra.ifh.de>
Comments: In reply to Peter Stephenson <pws@ifh.de>
        "Re: Use of tt() formatting in yodl doc sources" (Jun  5,  9:32am)
References: <199806050732.JAA25285@hydra.ifh.de>
X-Mailer: Z-Mail (5.0.0 30July97)
To: Peter Stephenson <pws@ifh.de>,
        zsh-workers@math.gatech.edu (Zsh hackers list)
Subject: Re: Use of tt() formatting in yodl doc sources
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Resent-Message-ID: <"shP_4.0.MF4.J_wTr"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/4051
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

On Jun 5,  9:32am, Peter Stephenson wrote:
} Subject: Re: Use of tt() formatting in yodl doc sources
}
} "Bart Schaefer" wrote:
} > When translating yodl to info, the tt() text style comes out like this:
} > 
} > 	`teletype'
} 
} I have to work around this problem in the FAQ.  [...] What I did is
} defined a mytt() macro which expands to `this' for plain text, but
} does tt(this) for other modes.

In this case it's makeinfo that's adding the quotes; e.g.

          yodl         texinfo        info
	--------     -----------     ------
	tt(text) --> @code{text} --> `text'
	em(text) --> @emph{text} --> *text*

(Never mind that tt(x) ought to be @kbd{x}, the end result for info files
is the same.)

The problem, according to Zefram, is that you can't redefine the notion
of @code{} in the makeinfo pass.  He's right, but I was hoping for a fix
upstream of that.  Unfortunately, the only one that's workable seems to
be to generate two .texi files, one for producing printed documentation
and using @code{}, the other for the producing the info files and leaving
off the @code{}.

On the other hand, it does seem silly to -both- quote things -and- set
them in a special typeface.  Why do the .yo files do stuff like `tt(&)'
in the first place?  Removing the `' in the .yo source would clear up a
lot, though not all, of the confusion.  (The remaining sillyness is with
stuff like tt(`) and tt(') which become ``' and `'', but at the moment
they often become ```'' and ``''' which is totally weird.)

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

