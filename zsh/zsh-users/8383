From zsh-users-return-8383-mason-zsh=primenet.com.au@sunsite.dk Mon Jan 17 23:58:39 2005
Return-Path: <zsh-users-return-8383-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 12729 invoked from network); 17 Jan 2005 23:58:39 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 17 Jan 2005 23:58:39 -0000
Received: (qmail 97852 invoked from network); 17 Jan 2005 23:58:33 -0000
Received: from unknown (HELO sunsite.dk) (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 17 Jan 2005 23:58:33 -0000
Received: (qmail 16934 invoked by alias); 17 Jan 2005 15:14:22 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8383
Received: (qmail 16919 invoked from network); 17 Jan 2005 15:14:22 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 17 Jan 2005 15:14:22 -0000
Received: (qmail 65075 invoked from network); 17 Jan 2005 15:14:22 -0000
Received: from hydrogen.ucsc.edu (128.114.41.29)
  by a.mx.sunsite.dk with SMTP; 17 Jan 2005 15:14:15 -0000
Received: from localhost (wgscott@localhost)
	by hydrogen.ucsc.edu (8.12.11/8.12.11) with ESMTP id j0HF9mII001120;
	Mon, 17 Jan 2005 07:09:53 -0800 (PST)
X-Authentication-Warning: hydrogen.ucsc.edu: wgscott owned process doing -bs
Date: Mon, 17 Jan 2005 07:09:48 -0800 (PST)
From: William Scott <wgscott@chemistry.ucsc.edu>
To: Wataru Kagawa <wkagawa@jota.gsc.riken.go.jp>
cc: zsh-users@sunsite.dk
Subject: Re: filename completions with prefixes
In-Reply-To: <46C3F20E-6850-11D9-87FF-000A95A6799C@jota.gsc.riken.go.jp>
Message-ID: <Pine.GSO.4.43.0501170706210.995-100000@hydrogen.ucsc.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=6.0 tests=BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.6


Hi Wataru:

Doubtless there are better ways, but one simple-minded
approach is to define a function pdbset that works with
your current completion:

#!/bin/zsh -f
function pdbset {
    command pdbset XYZIN $1 XYZOUT $2
}

The other alternative is to treat XYZIN as an argument
to be completed obligatorily at postion 1
(same with XYZOUT in position 3).

HTH,

Bill



On Mon, 17 Jan 2005, Wataru Kagawa wrote:

> I am trying to write a completion function for a command called pdbset
> in which *.pdb files are completed with the prefixes 'XYZIN' and
> 'XYZOUT'.  Below is an example:
>
> pdbset XYZIN input.pdb XYZOUT output.pdb
>
> So far I have,
>
> local expl
> _description files expl 'pdb files'
> _path_files "$expl[@]" -g '*.pdb' || _path_files "$expl[@]" -/ -g
> '*.pdb'
>
> I am having trouble inserting the prefixes.
> Help is greatly appreciated.
>
> Wataru Kagawa
>

