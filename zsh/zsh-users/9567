From zsh-users-return-9567-mason-zsh=primenet.com.au@sunsite.dk Thu Oct 27 12:03:19 2005
Return-Path: <zsh-users-return-9567-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24001 invoked from network); 27 Oct 2005 12:03:17 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 27 Oct 2005 12:03:17 -0000
Received: (qmail 78109 invoked from network); 27 Oct 2005 12:03:08 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 27 Oct 2005 12:03:08 -0000
Received: (qmail 2045 invoked by alias); 27 Oct 2005 12:03:00 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 9567
Received: (qmail 2035 invoked from network); 27 Oct 2005 12:03:00 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 27 Oct 2005 12:03:00 -0000
Received: (qmail 77066 invoked from network); 27 Oct 2005 12:03:00 -0000
Received: from her-isrv.ionific.com (195.197.252.67)
  by a.mx.sunsite.dk with SMTP; 27 Oct 2005 12:02:55 -0000
Received: from her-gw.ionific.com ([195.197.252.66] helo=trews52.bothi.fi)
	by her-isrv.ionific.com with esmtp (Exim 3.35 #1 (Debian))
	id 1EV6T8-0000tq-00
	for <zsh-users@sunsite.dk>; Thu, 27 Oct 2005 15:02:54 +0300
Received: from azure by trews52.bothi.fi with local (Exim 3.36 #1 (Debian))
	id 1EV6Sy-0003Ay-00
	for <zsh-users@sunsite.dk>; Thu, 27 Oct 2005 15:02:44 +0300
To: Zsh Users' List <zsh-users@sunsite.dk>
Subject: Re: Improved apt/dpkg completion and completion hacking questions
Mail-copies-to: nobody
From: Hannu Koivisto <azure@iki.fi>
Date: Thu, 27 Oct 2005 15:02:34 +0300
In-Reply-To: <20051026042027.GB10473@scowler.net> (Clint Adams's message of
 "Wed, 26 Oct 2005 00:20:27 -0400")
Message-ID: <87k6fz182t.fsf@trews52.bothi.fi>
User-Agent: Gnus/5.090014 (Oort Gnus v0.14) Emacs/21.4 (i386-pc-linux-gnu)
References: <87u0f51aee.fsf@trews52.bothi.fi>
	<20051026042027.GB10473@scowler.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Sender: Hannu Koivisto <Hannu.Koivisto@ionific.com>
X-Spam-Checker-Version: SpamAssassin 3.0.4 (2005-06-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.4

Clint Adams <clint@zsh.org> writes:

> You could use 'zstyle'.  Another thing you might consider is

I was hoping for slightly more detailed guidelines regarding zstyle
from the completion programmer's point of view...

> filing a wishlist bug on apt to add an option to spew out
> the short description after each package name when doing
> 'apt-cache --generate pkgnames'.

There would also have to be an option for generating only package
names of packages available for installation.

> Have you done any speed tests?

On a 2.8GHz P4 machine with plenty of memory and reasonably
fast/modern IO/disk apt-get install zsh<C-d> (for the first time,
i.e. when it fills the array) took about one second.  On my
memory-starved 466MHz Celeron machine it took about three seconds
if _deb_packages_update_avail had been run in another shell
recently.  If not, it took up to eight seconds (slow IO, probably
needed to swap stuff out as well).

I haven't yet figured out how to enable caching, which
_deb_packages seems to support.

-- 
Hannu

