From zsh-users-return-3872-mason-zsh=primenet.com.au@sunsite.dk Wed May 09 20:01:46 2001
Return-Path: <zsh-users-return-3872-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 20351 invoked from network); 9 May 2001 20:01:44 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 9 May 2001 20:01:44 -0000
Received: (qmail 25012 invoked by alias); 9 May 2001 20:01:32 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 3872
Received: (qmail 25001 invoked from network); 9 May 2001 20:01:32 -0000
X-Envelope-Sender-Is: Andrej.Borsenkow@mow.siemens.ru (at relayer david.siemens.de)
Date: Thu, 10 May 2001 00:01:23 +0400 (MSD)
From: Andrej Borsenkow <Andrej.Borsenkow@mow.siemens.ru>
X-X-Sender:  <bor@itsrm2.mow.siemens.ru>
To: <zsh-users@sunsite.dk>
cc: Paul Ackersviller <paulda@alumni.uwo.ca>
Subject: Re: PATCH: Re: inet_{a,p}ton prototypes in Src/Modules/zftp.pro
In-Reply-To: <Pine.SV4.4.33.0105092346260.28289-100000@itsrm2.mow.siemens.ru>
Message-ID: <Pine.SV4.4.33.0105092359510.28289-200000@itsrm2.mow.siemens.ru>
MIME-Version: 1.0
Content-Type: MULTIPART/MIXED; BOUNDARY="-559023410-1804928587-989438483=:28289"

  This message is in MIME format.  The first part should be readable text,
  while the remaining parts are likely unreadable without MIME-aware tools.
  Send mail to mime@docserver.cac.washington.edu for more info.

---559023410-1804928587-989438483=:28289
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Wed, 9 May 2001, Andrej Borsenkow wrote:

>
> O.K. here is patch for zftp.c.

Really here this time.

---559023410-1804928587-989438483=:28289
Content-Type: TEXT/PLAIN; charset=US-ASCII; name="zsh-zftp.diff"
Content-Transfer-Encoding: BASE64
Content-ID: <Pine.SV4.4.33.0105100001230.28289@itsrm2.mow.siemens.ru>
Content-Description: 
Content-Disposition: attachment; filename="zsh-zftp.diff"

SW5kZXg6IFNyYy9Nb2R1bGVzL3pmdHAuYw0KPT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PQ0KUkNTIGZpbGU6IC9jdnNyb290L3pzaC96c2gvU3JjL01vZHVsZXMv
emZ0cC5jLHYNCnJldHJpZXZpbmcgcmV2aXNpb24gMS4xMQ0KZGlmZiAtdSAt
cjEuMTEgemZ0cC5jDQotLS0gU3JjL01vZHVsZXMvemZ0cC5jCTIwMDEvMDQv
MTMgMTY6NTQ6NTgJMS4xMQ0KKysrIFNyYy9Nb2R1bGVzL3pmdHAuYwkyMDAx
LzA1LzA5IDE5OjQ0OjIzDQpAQCAtMTI2LDEyICsxMjYsMTIgQEANCiAjIGRl
ZmluZSBJTkVUNl9BRERSU1RSTEVOIDQ2DQogI2VuZGlmDQogDQotLyoqLyAg
DQorLyoqLw0KICNpZm5kZWYgSEFWRV9JTkVUX05UT1ANCiANCi0vKiovICAg
IA0KKy8qKi8NCiBzdGF0aWMgY2hhciBjb25zdCAqDQotaW5ldF9udG9wKGlu
dCBhZiwgdm9pZCBjb25zdCAqY3AsIGNoYXIgKmJ1Ziwgc2l6ZV90IGxlbikN
Cit6c2hfaW5ldF9udG9wKGludCBhZiwgdm9pZCBjb25zdCAqY3AsIGNoYXIg
KmJ1Ziwgc2l6ZV90IGxlbikNCiB7ICAgICAgIA0KICAgICAgICAgaWYoYWYg
IT0gQUZfSU5FVCkgew0KICAgICAgICAgICAgICAgICBlcnJubyA9IEVBRk5P
U1VQUE9SVDsNCkBAIC0xNDQsOCArMTQ0LDEyIEBADQogICAgICAgICBzdHJj
cHkoYnVmLCBpbmV0X250b2EoKihzdHJ1Y3QgaW5fYWRkciAqKWNwKSk7DQog
ICAgICAgICByZXR1cm4gYnVmOw0KIH0NCisNCisjZWxzZSAvKiAhSEFWRV9J
TkVUX05UT1AgKi8NCiANCi0vKiovICANCisjIGRlZmluZSB6c2hfaW5ldF9u
dG9wIGluZXRfbnRvcA0KKw0KKy8qKi8NCiAjZW5kaWYgLyogIUhBVkVfSU5F
VF9OVE9QICovDQogDQogLyoqLw0KQEAgLTE1OSwzOCArMTYzLDY4IEBADQog
IyAgZW5kaWYNCiANCiAvKiovDQotc3RhdGljIGludCBpbmV0X2F0b24oY2hh
ciBjb25zdCAqc3JjLCBzdHJ1Y3QgaW5fYWRkciAqZHN0KQ0KK3N0YXRpYyBp
bnQgenNoX2luZXRfYXRvbihjaGFyIGNvbnN0ICpzcmMsIHN0cnVjdCBpbl9h
ZGRyICpkc3QpDQogew0KICAgICByZXR1cm4gKGRzdC0+c19hZGRyID0gaW5l
dF9hZGRyKHNyYykpICE9IElOQUREUl9OT05FOw0KIH0NCiANCisjZWxzZSAv
KiAhSEFWRV9JTkVUX0FUT04gKi8NCisNCisjIGRlZmluZSB6c2hfaW5ldF9h
dG9uIGluZXRfYXRvbg0KKw0KIC8qKi8NCiAjIGVuZGlmIC8qICFIQVZFX0lO
RVRfQVRPTiAqLw0KIA0KIC8qKi8NCiBzdGF0aWMgaW50DQotaW5ldF9wdG9u
KGludCBhZiwgY2hhciBjb25zdCAqc3JjLCB2b2lkICpkc3QpDQorenNoX2lu
ZXRfcHRvbihpbnQgYWYsIGNoYXIgY29uc3QgKnNyYywgdm9pZCAqZHN0KQ0K
IHsNCiAgICAgICAgIGlmKGFmICE9IEFGX0lORVQpIHsNCiAgICAgICAgICAg
ICAgICAgZXJybm8gPSBFQUZOT1NVUFBPUlQ7DQogICAgICAgICAgICAgICAg
IHJldHVybiAtMTsNCiAgICAgICAgIH0NCi0gICAgICAgIHJldHVybiAhIWlu
ZXRfYXRvbihzcmMsIGRzdCk7DQorICAgICAgICByZXR1cm4gISF6c2hfaW5l
dF9hdG9uKHNyYywgZHN0KTsNCiB9DQogDQorI2Vsc2UgLyogIUhBVkVfSU5F
VF9QVE9OICovDQorDQorIyBkZWZpbmUgenNoX2luZXRfcHRvbiBpbmV0X3B0
b24NCisNCiAvKiovDQogI2VuZGlmIC8qICFIQVZFX0lORVRfUFRPTiAqLw0K
IA0KIC8qKi8NCiAjaWZuZGVmIEhBVkVfR0VUSVBOT0RFQllOQU1FDQogDQor
LyoqLw0KKyMgaWZuZGVmIEhBVkVfR0VUSE9TVEJZTkFNRTINCisNCisvKiov
DQorc3RhdGljIHN0cnVjdCBob3N0ZW50ICoNCit6c2hfZ2V0aG9zdGJ5bmFt
ZTIoY2hhciBjb25zdCAqbmFtZSwgaW50IGFmKQ0KK3sNCisJaWYoYWYgIT0g
QUZfSU5FVCkgew0KKwkJaF9lcnJubyA9IE5PX1JFQ09WRVJZOw0KKwkJcmV0
dXJuIE5VTEw7DQorCX0NCisJcmV0dXJuIGdldGhvc3RieW5hbWUobmFtZSk7
DQorfQ0KKw0KKyNlbHNlIC8qICFIQVZFX0dFVEhPU1RCWU5BTUUyICovDQor
DQorIyBkZWZpbmUgenNoX2dldGhvc3RieW5hbWUyIGdldGhvc3RieW5hbWUy
DQorDQorLyoqLw0KKyMgZW5kaWYgLyogIUhBVkVfR0VUSE9TVEJZTkFNRTIg
Ki8NCisNCisNCiAvKiBub3RlOiB0aGlzIGlzIG5vdCBhIGNvbXBsZXRlIGlt
cGxlbWVudGF0aW9uLiAgSWYgaWdub3JlcyB0aGUgZmxhZ3MsDQogICAgYW5k
IGRvZXMgbm90IHByb3ZpZGUgdGhlIG1lbW9yeSBhbGxvY2F0aW9uIG9mIHRo
ZSBzdGFuZGFyZCBpbnRlcmZhY2UuDQogICAgRWFjaCByZXR1cm5lZCBzdHJ1
Y3R1cmUgd2lsbCBvdmVyd3JpdGUgdGhlIHByZXZpb3VzIG9uZS4gKi8NCiAN
CiAvKiovDQogc3RhdGljIHN0cnVjdCBob3N0ZW50ICoNCi1nZXRpcG5vZGVi
eW5hbWUoY2hhciBjb25zdCAqbmFtZSwgaW50IGFmLCBpbnQgZmxhZ3MsIGlu
dCAqZXJyb3JwKQ0KK3pzaF9nZXRpcG5vZGVieW5hbWUoY2hhciBjb25zdCAq
bmFtZSwgaW50IGFmLCBpbnQgZmxhZ3MsIGludCAqZXJyb3JwKQ0KIHsNCiAJ
c3RhdGljIHN0cnVjdCBob3N0ZW50IGFoZTsNCiAJc3RhdGljIGNoYXIgbmJ1
ZlsxNl07DQpAQCAtMjAxLDggKzIzNSw4IEBADQogCXN0YXRpYyBjaGFyIHBi
dWZbSU5FVF9BRERSU1RSTEVOXTsNCiAjIGVuZGlmDQogCXN0cnVjdCBob3N0
ZW50ICpoZTsNCi0JaWYoaW5ldF9wdG9uKGFmLCBuYW1lLCBuYnVmKSA9PSAx
KSB7DQotCQlpbmV0X250b3AoYWYsIG5idWYsIHBidWYsIHNpemVvZihwYnVm
KSk7DQorCWlmKHpzaF9pbmV0X3B0b24oYWYsIG5hbWUsIG5idWYpID09IDEp
IHsNCisJCXpzaF9pbmV0X250b3AoYWYsIG5idWYsIHBidWYsIHNpemVvZihw
YnVmKSk7DQogCQlhaGUuaF9uYW1lID0gcGJ1ZjsNCiAJCWFoZS5oX2FsaWFz
ZXMgPSBhZGRybGlzdCsxOw0KIAkJYWhlLmhfYWRkcnR5cGUgPSBhZjsNCkBA
IC0yMTAsMzUgKzI0NCwyMSBAQA0KIAkJYWhlLmhfYWRkcl9saXN0ID0gYWRk
cmxpc3Q7DQogCQlyZXR1cm4gJmFoZTsNCiAJfQ0KLQloZSA9IGdldGhvc3Ri
eW5hbWUyKG5hbWUsIGFmKTsNCisJaGUgPSB6c2hfZ2V0aG9zdGJ5bmFtZTIo
bmFtZSwgYWYpOw0KIAlpZighaGUpDQogCQkqZXJyb3JwID0gaF9lcnJubzsN
CiAJcmV0dXJuIGhlOw0KIH0NCi0NCiAvKiovDQotIyBpZm5kZWYgSEFWRV9H
RVRIT1NUQllOQU1FMg0KLQ0KLS8qKi8NCi1zdHJ1Y3QgaG9zdGVudCAqDQot
Z2V0aG9zdGJ5bmFtZTIoY2hhciBjb25zdCAqbmFtZSwgaW50IGFmKQ0KLXsN
Ci0JaWYoYWYgIT0gQUZfSU5FVCkgew0KLQkJaF9lcnJubyA9IE5PX1JFQ09W
RVJZOw0KLQkJcmV0dXJuIE5VTEw7DQotCX0NCi0JcmV0dXJuIGdldGhvc3Ri
eW5hbWUobmFtZSk7DQotfQ0KLQ0KLS8qKi8NCi0jIGVuZGlmIC8qICFIQVZF
X0dFVEhPU1RCWU5BTUUyICovDQotDQotLyoqLw0KIHN0YXRpYyB2b2lkDQog
ZnJlZWhvc3RlbnQoc3RydWN0IGhvc3RlbnQgKnB0cikNCiB7DQogfQ0KIA0K
KyNlbHNlIC8qICFIQVZFX0dFVElQTk9ERUJZTkFNRSAqLw0KKw0KKyMgZGVm
aW5lIHpzaF9nZXRpcG5vZGVieW5hbWUgZ2V0aXBub2RlYnluYW1lDQorDQog
LyoqLw0KICNlbmRpZiAvKiAhSEFWRV9HRVRJUE5PREVCWU5BTUUgKi8NCiAN
CkBAIC0xMTcxLDcgKzExOTEsNyBAQA0KIAlpZih6ZHNvY2twLT5hLnNhX2Zh
bWlseSA9PSBBRl9JTkVUNikgew0KIAkgICAgLyogc2VlIFJGQyAyNDI4IGZv
ciBleHBsYW5hdGlvbiAqLw0KIAkgICAgc3RyY3B5KHBvcnRjbWQsICJFUFJU
IHwyfCIpOw0KLQkgICAgaW5ldF9udG9wKEFGX0lORVQ2LCAmemRzb2NrcC0+
aW42LnNpbjZfYWRkciwNCisJICAgIHpzaF9pbmV0X250b3AoQUZfSU5FVDYs
ICZ6ZHNvY2twLT5pbjYuc2luNl9hZGRyLA0KIAkJcG9ydGNtZCs4LCBJTkVU
Nl9BRERSU1RSTEVOKTsNCiAJICAgIHNwcmludGYoc3RyY2hyKHBvcnRjbWQs
IDApLCAifCV1fFxyXG4iLA0KIAkJKHVuc2lnbmVkKW50b2hzKHpkc29ja3At
PmluNi5zaW42X3BvcnQpKTsNCkBAIC0xOTE3LDcgKzE5MzcsNyBAQA0KICMg
ZGVmaW5lIEZBSUxFRCgpIGRvIHsgfSB3aGlsZSgwKQ0KICNlbmRpZg0KICAg
ICB7DQotICAgIAl6aG9zdHAgPSBnZXRpcG5vZGVieW5hbWUoYXJnc1swXSwg
YWYsIDAsICZoZXJybm8pOw0KKyAgICAJemhvc3RwID0genNoX2dldGlwbm9k
ZWJ5bmFtZShhcmdzWzBdLCBhZiwgMCwgJmhlcnJubyk7DQogCWlmICghemhv
c3RwIHx8IGVycmZsYWcpIHsNCiAJICAgIC8qIHNob3VsZCB1c2UgaGVycm9y
KCkgaGVyZSBpZiBhdmFpbGFibGUsIGJ1dCBtYXliZQ0KIAkgICAgICogbmVl
ZHMgY29uZmlndXJlIHRlc3QuIG9uIEFJWCBpdCdzIHByZXNlbnQgYnV0IG5v
dA0KQEAgLTE5OTksNyArMjAxOSw3IEBADQogCWNoYXIgcGJ1ZltJTkVUX0FE
RFJTVFJMRU5dOw0KICNlbmRpZg0KIAlhZGRycC0tOw0KLQlpbmV0X250b3Ao
YWYsICphZGRycCwgcGJ1Ziwgc2l6ZW9mKHBidWYpKTsNCisJenNoX2luZXRf
bnRvcChhZiwgKmFkZHJwLCBwYnVmLCBzaXplb2YocGJ1ZikpOw0KIAl6ZnNl
dHBhcmFtKCJaRlRQX0lQIiwgenRyZHVwKHBidWYpLCBaRlBNX1JFQURPTkxZ
KTsNCiAgICAgfQ0KICAgICBmcmVlaG9zdGVudCh6aG9zdHApOw0K
---559023410-1804928587-989438483=:28289--

