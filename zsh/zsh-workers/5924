From zsh-workers-return-5924-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Mar 24 12:19:01 1999
Return-Path: <zsh-workers-return-5924-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 11378 invoked from network); 24 Mar 1999 12:18:59 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 24 Mar 1999 12:18:59 -0000
Received: (qmail 19091 invoked by alias); 24 Mar 1999 12:18:19 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 5924
Received: (qmail 19083 invoked from network); 24 Mar 1999 12:18:17 -0000
Date: Wed, 24 Mar 1999 13:17:36 +0100 (MET)
Message-Id: <199903241217.NAA20924@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: "Andrej Borsenkow"'s message of Wed, 24 Mar 1999 14:49:34 +0300
Subject: Re: Completion widgets, bindkey and ZLE widgets


Andrej Borsenkow wrote:

> A step further is to unify normal widgets (zle -N) and completion (zle -C).
> Consider:
> 
> widgets are always called using standard interface described in ZLE (with
> all parameters likes BUFFER, NUMERIC etc set).
> 
> if this is a completion widget, additional parameters (and arguments) are
> setup.

It's actually a bit more than this that has to be done to start a
completion widget -- the completion code has to do quite a bit of
initialisation before the shell function can be called.

> We still need to designate widget as completion widget in this case, so
> zle -N won't work - but -C can then be reduced to simple 'zle -C expand-word
> function'. That will redefine complete-word and mark new widget as
> completion widget.

What if you want more than one completion widget behaving like one of
the builtin widgets? (Just think of the special key completion widgets 
we already have.)

> Looks somewhat cleaner ... and, later, if we find the way to make ZLE
> widgets more useful, that will be automatically available to completion
> widgets as well.

What are you thinking about here?

Bye
 Sven


--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

