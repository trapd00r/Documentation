From zsh-workers-return-12397-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Jul 27 08:01:42 2000
Return-Path: <zsh-workers-return-12397-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9919 invoked from network); 27 Jul 2000 08:01:37 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 27 Jul 2000 08:01:37 -0000
Received: (qmail 7954 invoked by alias); 27 Jul 2000 08:00:54 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 12397
Received: (qmail 7947 invoked from network); 27 Jul 2000 08:00:51 -0000
Date: Thu, 27 Jul 2000 10:00:48 +0200 (MET DST)
Message-Id: <200007270800.KAA15656@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: Adam Spiers's message of Wed, 26 Jul 2000 20:53:01 +0100
Subject: Re: PATCH: completion caching layer


Adam Spiers wrote:

> ...
> 
> > Shouldn't there be some way to flush the caches (in _retrieve_cache)?
> > I.e. some style that says when the caches should be rebuilt.
> > 
> > This could be done either by a style with values that describe update
> > policies sensible in enough possible contexts or by using a boolean
> > style and let users use `zstyle -e' to implement their own policy (and 
> > of course users could do that in the first case, too, but there may be 
> > ways to make this more convenient for common cases).
> 
> This sounds very nice, but I'm not sure what sort of policies you have
> in mind, and how they should be implement.  Could you give a few
> examples?

Of course, that's the problem. One that may be useful quite often
would compare the mtime of a file and re-build the cache when it has
changed.

In some cases (when using data that gets updated after regular time
intervals) wall-clock time comparison may be good (with that it would
probably be possible to sensibly cache YP data if we would need that).

However, I don't think there can ever be a complete list. Maybe we
should just give _retrieve_cache an optional argument which is
evaluated or a function name or something that gets called to test if
the cache should be re-build. We probably just need more experience...

Bye
 Sven


--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

