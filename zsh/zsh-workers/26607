From zsh-workers-return-26607-mason-zsh=primenet.com.au@sunsite.dk Thu Feb 26 00:31:17 2009
Return-Path: <zsh-workers-return-26607-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 26012 invoked from network); 26 Feb 2009 00:31:07 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.8 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 26 Feb 2009 00:31:07 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 96250 invoked from network); 26 Feb 2009 00:30:50 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 26 Feb 2009 00:30:50 -0000
Received: (qmail 25732 invoked by alias); 26 Feb 2009 00:30:44 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 26607
Received: (qmail 25722 invoked from network); 26 Feb 2009 00:30:44 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 26 Feb 2009 00:30:44 -0000
Received: from uucp.gnuu.de (uucp.gnuu.de [83.246.114.63])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 072698058F83
	for <zsh-workers@sunsite.dk>; Thu, 26 Feb 2009 01:30:40 +0100 (CET)
Received: by uucp.gnuu.de (Postfix, from userid 10)
	id 3AC5148803A; Thu, 26 Feb 2009 01:30:38 +0100 (CET)
X-DKIM: Sendmail DKIM Filter v2.5.2 uucp.gnuu.de 3AC5148803A
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=gnuu.de; s=banki;
	t=1235608238; i=@alea.gnuu.de; bh=OfnXe+X+YZa4BOCRp0i5+nmGeLVgcaedX
	yvYKyhi6VU=; h=To:From:Subject:Date:Message-ID:References:
	 Mime-Version:Content-Type:Content-Transfer-Encoding:Sender; b=AHsP
	7nWKzIHLkW99Hy9EOToSGsH2c5L9eglbku7/IcKKqknjTcjbDqGknL3MBmgc/u1kjpA
	8AZ6B6B4AXkgmI5Mr62ZFaZHfNXgoGJbJghGZ8M2WOLg1foovHKPBOY3fc0z3FHKSpj
	8oa8RsOsZQHAe0WS6jh1v3t2Lro80MxZE=
Received: from news by alea.gnuu.de with local (Exim 4.69)
	(envelope-from <news@alea.gnuu.de>)
	id 1LcU2m-0000jc-RD
	for zsh-workers@sunsite.dk; Thu, 26 Feb 2009 01:24:04 +0100
To: zsh-workers@sunsite.dk
Path: not-for-mail
From: =?UTF-8?Q?J=C3=B6rg?= Sommer <joerg@alea.gnuu.de>
Newsgroups: local.mailinglist.zsh
Subject: Re: globcomplete desctroys file completion
Date: Thu, 26 Feb 2009 00:24:04 +0000 (UTC)
Lines: 56
Message-ID: <slrngqbo94.u4a.joerg@alea.gnuu.de>
References: <slrngq038s.2hh.joerg@alea.gnuu.de>
 <090221111624.ZM12907@torch.brasslantern.com>
 <090221165745.ZM13030@torch.brasslantern.com>
 <20090225203949.5e203b85@pws-pc> <20090225204844.08a39c17@pws-pc>
Mime-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
X-Trace: alea.gnuu.de 1235607844 2826 192.168.0.5 (26 Feb 2009 00:24:04 GMT)
X-Complaints-To: usenet@alea.gnuu.de
User-Agent: slrn/pre1.0.0-2 (Linux)
Sender: news <news@alea.gnuu.de>
X-Virus-Scanned: ClamAV 0.92.1/9048/Wed Feb 25 22:08:29 2009 on bifrost
X-Virus-Status: Clean

Hallo Peter,

Peter Stephenson <p.w.stephenson@ntlworld.com> wrote:
> On Wed, 25 Feb 2009 20:39:49 +0000
> Peter Stephenson <p.w.stephenson@ntlworld.com> wrote:
>> Indeed, comparing with the code in 4.2 (before the $Uopt stuff was added)
>> suggests it should probably be something like the following anyway,
>> though I don't have the set-up to test whether it helps here.
>
> Scratch that, it's simpler---we never want two -s's, we just want to
> ensure $ISUFFIX is there when needed.  This time I do have some evidence
> this is doing better things with GLOBCOMPLETE set than previously.

Now, there's a completion and looks good:

% print -l g*/d*/s*
git/debian/slrn
git/debian/slrn_1.0.0~pre2.orig.tar.gz
git/deborphan/src

(with globcomplete)

% print -l g/d/s<1st TAB>

% print -l git/deb/s<2nd TAB>
                    ^ cursor is here

% print -l git/deb/s<3rd TAB>
default
debian/     deborphan/

% print -l git/debian/slrn/<4th TAB>
default
debian/     deborphan/

% print -l git/debian/slrn_1.0.0\~pre2.orig.tar.gz<5th TAB>
default
debian/     deborphan/

% print -l git/deborphan/src/<6' TAB>
default
debian/     deborphan/

% print -l git/debian/slrn/
default
debian/     deborphan/

Except from that the menu list doesn't match the possible completions,
the completion offers all options. This fixes my problem. Thanks.

Schöne Grüße, Jörg.
-- 
IRC: Der [Prof. Andreas Pfitzmann, TU Dresden] hat gerade vorgeschlagen, sie
  sollen doch statt Trojanern die elektromagnetische Abstrahlung nutzen. Das
  sei nicht massenfähig, ginge ohne Eingriff ins System, sei zielgerichtet,
  und, der Hammer, das funktioniere ja bei Wahlcomputern schon sehr gut.

