From zsh-users-return-3874-mason-zsh=primenet.com.au@sunsite.dk Thu May 10 19:53:46 2001
Return-Path: <zsh-users-return-3874-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 12989 invoked from network); 10 May 2001 19:53:45 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 10 May 2001 19:53:45 -0000
Received: (qmail 25811 invoked by alias); 10 May 2001 19:53:30 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 3874
Received: (qmail 25799 invoked from network); 10 May 2001 19:53:29 -0000
X-Mailer: exmh version 2.0.2 2/24/98
To: zsh-users@sunsite.auc.dk
Subject: Change in suspend behavior
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Date: Thu, 10 May 2001 15:52:27 -0400
From: "Sullivan N. Beck" <sbeck@cise.ufl.edu>
Message-Id: <20010510195228.018E6DCC4@mail.cise.ufl.edu>


Using zsh-3.1.5, I would often make use of a feature of zsh.  I would do
the following:

  % for i in foo bar ;do
  for> mycmd $i
  for> done

Then, once "mycmd foo" was running, I could suspend that job with
'Ctrl-z', proceed to start up "mycmd bar" and then I would end up with
two backgrounded jobs which I was able to toggle back and forth using
job control commands.  Since zsh offers the wonderful feature of
autoloaded functions, I was able to wrote scripts which work with the
job table and do some pretty neat stuff with this feature (for example,
if mycmd is slogin, I was able to get most of the functionality of the
screens command).

I unpgraded to zsh-3.1.9 (and I also tried zsh-4.0.1-pre4, but the
behavior is the same there), and instead of suspending "mycmd", it
suspends the entire for loop.  The only way to run the "mycmd bar"
command is to foreground the loop and kill/exit the "mycmd foo".

This seems very bizarre to me (is zsh creating a sub-shell now every
time it makes a loop?), and it definitely less useful to me.  Is there
a config variable I can set to get the original behavior back?

Thanks for any information.


--------------------------|  Sullivan Beck  |---------------------------
mailto:sbeck@cise.ufl.edu          |            Senior System Programmer
http://www.cise.ufl.edu/~sbeck     |               University of Florida
PH : (352) 392-1057                |                     CISE Department
Fax: (352) 392-1220                |                            CSE 314E
                                   |         Gainesville, FL  32611-6120
------------------------------------------------------------------------

