From zsh-workers-return-7104-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Jul 12 15:00:15 1999
Return-Path: <zsh-workers-return-7104-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5606 invoked from network); 12 Jul 1999 15:00:13 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 12 Jul 1999 15:00:13 -0000
Received: (qmail 4836 invoked by alias); 12 Jul 1999 15:00:07 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7104
Received: (qmail 4827 invoked from network); 12 Jul 1999 15:00:05 -0000
Message-Id: <9907121429.AA37198@ibmth.df.unipi.it>
To: zsh-workers@sunsite.auc.dk
Subject: Re: PATCH: completions for su and implicit fg/bg 
In-Reply-To: "Sven Wischnowsky"'s message of "Mon, 12 Jul 1999 14:11:29 DFT."
             <199907121211.OAA18745@beta.informatik.hu-berlin.de> 
Date: Mon, 12 Jul 1999 16:29:10 +0200
From: Peter Stephenson <pws@ibmth.df.unipi.it>

Sven Wischnowsky wrote:
> Peter Stephenson wrote:
> > Just trying compset -q to enhance completion for *sh -c:

OK, the next problem seems to be that using ^D removes the quotes, although
other completion functions don't.  I'm using

  #compdef sh ksh bash zsh csh tcsh rc

  local cword=

  if (( CURRENT == ${words[(i)-c]} + 1 )); then
    compset -q
    _normal
  fi

and typing
  
  % sh -c 'e^D

but what follows the open quote doesn't seem to matter.

-- 
Peter Stephenson <pws@ibmth.df.unipi.it>       Tel: +39 050 844536
WWW:  http://www.ifh.de/~pws/
Dipartimento di Fisica, Via Buonarroti 2, 56127 Pisa, Italy

