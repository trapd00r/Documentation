From zsh-users-return-9465-mason-zsh=primenet.com.au@sunsite.dk Sat Oct 01 16:59:01 2005
Return-Path: <zsh-users-return-9465-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24457 invoked from network); 1 Oct 2005 16:58:59 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 1 Oct 2005 16:58:59 -0000
Received: (qmail 45683 invoked from network); 1 Oct 2005 16:58:52 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 1 Oct 2005 16:58:52 -0000
Received: (qmail 9126 invoked by alias); 1 Oct 2005 16:58:44 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 9465
Received: (qmail 12525 invoked from network); 30 Sep 2005 15:58:43 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 30 Sep 2005 15:58:43 -0000
Received: (qmail 20965 invoked from network); 30 Sep 2005 15:58:43 -0000
Received: from wproxy.gmail.com (64.233.184.201)
  by a.mx.sunsite.dk with SMTP; 30 Sep 2005 15:58:41 -0000
Received: by wproxy.gmail.com with SMTP id 68so34714wri
        for <zsh-users@sunsite.dk>; Fri, 30 Sep 2005 08:58:40 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=ncNKe4tiaQfpUcUFSac6bUV9PBDmge5UXUiAzl5gz/CBWZVxCCJEoQl6yWPBGhJw2V4R/vtTqi/pc9ZsqmQGPPrhVxEK/+mVx4g55Z5ShyuJzALz5TFlilAppmb8y9NDG9EOA0j+2DUHS3RkiR4riAyf+xTn9OSdMSr7634/cso=
Received: by 10.54.16.52 with SMTP id 52mr909348wrp;
        Fri, 30 Sep 2005 08:58:40 -0700 (PDT)
Received: by 10.54.83.2 with HTTP; Fri, 30 Sep 2005 08:58:40 -0700 (PDT)
Message-ID: <580cd3b30509300858s21a8e20bue3d6e84e633d171b@mail.gmail.com>
Date: Fri, 30 Sep 2005 11:58:40 -0400
From: Scott Lipcon <slipcon@gmail.com>
Reply-To: Scott Lipcon <slipcon@gmail.com>
To: zsh-users@sunsite.dk
Subject: completions broken for root user
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_3156_5629812.1128095920235"
X-Spam-Checker-Version: SpamAssassin 3.0.4 (2005-06-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=BAYES_00,HTML_30_40,
	HTML_MESSAGE,RCVD_BY_IP autolearn=ham version=3.0.4

------=_Part_3156_5629812.1128095920235
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I recently upgraded zsh on my FreeBSD machine, and now the freebsd specific
completions are broken for the root user only...

As my user, if I do:

$ pkg_info zsh<tab>

it completes.

As root:
# pkg_info zsh<tab>
_arguments:340: _bsd_pkg_pkgs_and_files: function definition file not found

# which _bsd_pkg_pkgs_and_files
_bsd_pkg_pkgs_and_files () {
# undefined
builtin autoload -XUz
}

(if I do the same which command as my user, i get the function
definition...)


my $fpath variables are the same in both shells, and both contain
/usr/local/share/zsh/4.2.5/functions/Completion/BSD/, which has the _bsd_pk=
g
containing that function...

What else should I be looking for?

Thanks,
Scott

------=_Part_3156_5629812.1128095920235
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I recently upgraded zsh on my FreeBSD machine, and now the freebsd specific=
 completions are broken for the root user only...<br>
<br>
As my user, if I do:<br>
<br>
$ pkg_info zsh&lt;tab&gt;&nbsp; <br>
<br>
it completes.<br>
<br>
As root:<br>
# pkg_info zsh&lt;tab&gt;<br>
_arguments:340: _bsd_pkg_pkgs_and_files: function definition file not found=
<br>
<br>
# which _bsd_pkg_pkgs_and_files&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>
_bsd_pkg_pkgs_and_files () {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # undefined<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; builtin autoload -XUz<br>
}<br>
<br>
(if I do the same which command as my user, i get the function definition..=
.)<br>
<br>
<br>
my $fpath variables are the same in both shells, and both contain
/usr/local/share/zsh/4.2.5/functions/Completion/BSD/, which has the
_bsd_pkg containing that function...<br>
<br>
What else should I be looking for?&nbsp; <br>
<br>
Thanks,<br>
Scott<br>

------=_Part_3156_5629812.1128095920235--

