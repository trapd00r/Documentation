From zsh-users-return-9178-mason-zsh=primenet.com.au@sunsite.dk Tue Jul 26 00:32:22 2005
Return-Path: <zsh-users-return-9178-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2340 invoked from network); 26 Jul 2005 00:32:20 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 26 Jul 2005 00:32:20 -0000
Received: (qmail 71605 invoked from network); 26 Jul 2005 00:32:13 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 26 Jul 2005 00:32:13 -0000
Received: (qmail 24806 invoked by alias); 26 Jul 2005 00:32:07 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 9178
Received: (qmail 24796 invoked from network); 26 Jul 2005 00:32:07 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 26 Jul 2005 00:32:07 -0000
Received: (qmail 70671 invoked from network); 26 Jul 2005 00:32:07 -0000
Received: from p54852b6d.dip0.t-ipconnect.de (HELO solfire) (84.133.43.109)
  by a.mx.sunsite.dk with SMTP; 26 Jul 2005 00:32:00 -0000
Received: from localhost ([127.0.0.1])
	by solfire with esmtp (Exim 4.42)
	id 1DxDNn-0005BP-VR; Tue, 26 Jul 2005 02:33:25 +0200
Date: Tue, 26 Jul 2005 02:33:19 +0200 (CEST)
Message-Id: <20050726.023319.41198250.Meino.Cramer@gmx.de>
To: phil@fifi.org
Cc: zsh-users@sunsite.dk
From: Meino Christian Cramer <Meino.Cramer@gmx.de>
In-Reply-To: <87oe8qh5qh.fsf@ceramic.fifi.org>
References: <8764uyitfr.fsf@ceramic.fifi.org>
	<20050725.213536.78705211.Meino.Cramer@gmx.de>
	<87oe8qh5qh.fsf@ceramic.fifi.org>
X-Mailer: Mew version 4.1 on Emacs 21.3 / Mule 5.0 (SAKAKI)
Mime-Version: 1.0
X-SA-Exim-Connect-IP: 127.0.0.1
X-SA-Exim-Rcpt-To: phil@fifi.org, zsh-users@sunsite.dk
X-SA-Exim-Mail-From: Meino.Cramer@gmx.de
Subject: Re: Command != command ???
Content-Type: Text/Plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-SA-Exim-Version: 4.1+cvs (built Sat, 28 Aug 2004 13:10:40 +0200)
X-SA-Exim-Scanned: Yes (on solfire)
X-Spam-Checker-Version: SpamAssassin 3.0.4 (2005-06-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.2 required=5.0 tests=AWL,BAYES_00,PLING_QUERY 
	autolearn=no version=3.0.4

From: Philippe Troin <phil@fifi.org>
Subject: Re: Command != command ???
Date: 25 Jul 2005 15:37:42 -0700

> Meino Christian Cramer <Meino.Cramer@gmx.de> writes:
> 
> > From: Philippe Troin <phil@fifi.org>
> > Subject: Re: Command != command ???
> > Date: 25 Jul 2005 12:20:24 -0700
> > 
> > > Meino Christian Cramer <Meino.Cramer@gmx.de> writes:
> > > 
> > > > From: Philippe Troin <phil@fifi.org>
> > > > Subject: Re: Command != command ???
> > > > Date: 25 Jul 2005 11:24:56 -0700
> > > > 
> > > > Script started on Mon Jul 25 20:43:47 2005
> > > > 
> > > > cat ./globtest
> > > > 
> > > > 
> > > > #!/bin/zsh
> > > > setopt extendedglob
> > > > print -l **/*.jpg
> > > > 
> > > > 
> > > > 
> > > > 
> > > > /bin/zsh -x ./globtest
> > > 
> > > 8< snip >8
> > > 
> > > Nothing suspicious here...
> > > 
> > > Do you have any .jpg files under the cwd? i.e., what does 
> > > 
> > >  find . "*.jpg"
> > > 
> > > say?
> > > 
> > > Phil.
> > > 
> > 
> > Under . there are directories containing jpgs, yes. 
> > 
> > Even
> > 
> > 		print -l **/*.jpg
> > 
> > from the command line prints all of them.
> > 
> > The command
> > 
> > 	   find . "*.jpg"
> > 
> > prints everything under . but
> > 
> > 	   find . -name '*.jpg'
> > 
> > gives the same output as 
> > 
> > 		print -l **/*.jpg
> 
> Mmh...
> 
> What about this script:
> 
> 	#!/bin/zsh
> 	print "### pwd"
>         pwd
>         command pwd
> 	print "### find"
>         find . -name "*.jpg"
>         print "### glob"
>         print -l **/*.jpg
> 
> What's the output?
> 
> Phil.
> 

It prints:

------------------------------------------------------------------
### pwd
/home/mccramer/data/pool10
/home/mccramer/data/pool10
### find
.
.
.
<print of the jpg-files>
.
.
.
### glob
------------------------------------------------------------------


The
"------------------------------------------------------------------"'s
are added by myself. After "### glob" there is following nothing
printed to stdout. To stderr there is the known error message:

		./globtest2:8: no matches found: **/*.jpg

(I called that script "globtest2"....)


Normally, in the root of the dirtree, where the jpgs are, there is no
jpg, but in the tree under the root there are jpgs (root ==
"/home/mccramer/data/pool10").

Now I did a 

	touch "test.jpg"

in the root and run the script again.
Now, this single fake jpg in the root was found by the glob pattern
'**/*.jpg'...but nothing else. 

By the way: What happens, when you run this script on your machine in
a similiar environment/ under similiar conditions, Phil? Does it work
for you ?

Meino

