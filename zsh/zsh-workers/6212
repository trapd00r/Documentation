From zsh-workers-return-6212-mason-zsh=primenet.com.au@sunsite.auc.dk Tue May 04 15:39:41 1999
Return-Path: <zsh-workers-return-6212-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 25917 invoked from network); 4 May 1999 15:39:36 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 4 May 1999 15:39:36 -0000
Received: (qmail 9160 invoked by alias); 4 May 1999 15:39:15 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 6212
Received: (qmail 9153 invoked from network); 4 May 1999 15:39:12 -0000
Date: Tue, 4 May 1999 17:39:07 +0200 (MET DST)
Message-Id: <199905041539.RAA01828@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
Subject: PATCH: clear list (no, for 3.1.5 this time)


When building the other patch I found a function I had overlooked:
kill-whole-line should clear the list, too.

Bye
 Sven

diff -u os/Zle/zle_misc.c Src/Zle/zle_misc.c
--- os/Zle/zle_misc.c	Mon May  3 11:26:16 1999
+++ Src/Zle/zle_misc.c	Tue May  4 17:16:20 1999
@@ -127,6 +127,7 @@
 	for (i = cs; i != ll && line[i] != '\n'; i++);
 	forekill(i - cs + (i != ll), fg);
     }
+    clearlist = 1;
 }
 
 /**/

--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

