From zsh-workers-return-15216-mason-zsh=primenet.com.au@sunsite.dk Tue Jul 03 05:52:57 2001
Return-Path: <zsh-workers-return-15216-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10749 invoked from network); 3 Jul 2001 05:52:53 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 3 Jul 2001 05:52:53 -0000
Received: (qmail 1998 invoked by alias); 3 Jul 2001 05:51:46 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 15216
Received: (qmail 1980 invoked from network); 3 Jul 2001 05:51:45 -0000
X-Envelope-Sender-Is: Andrej.Borsenkow@mow.siemens.ru (at relayer goliath.siemens.de)
From: "Andrej Borsenkow" <Andrej.Borsenkow@mow.siemens.ru>
To: "Seiichi Namba" <sn@asahi-net.email.ne.jp>, <zsh-workers@sunsite.dk>
Subject: RE: zsh-4.0.[12] won't "configure"
Date: Tue, 3 Jul 2001 09:52:29 +0400
Message-ID: <000d01c10384$588b38d0$21c9ca95@mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
In-Reply-To: <200107030329.f633Tsa61798@goro.asahi-net.or.jp>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2479.0006

> See config.modules for installed modules and functions.
>
> creating Config/defs.mk
> sed: Couldn't open file ./Config/funcinst.mk


You must have broken sed. funcinst.mk was removed in 3.1.9-dev-8 when
config.modules was introduced. It still hangs around, but it should not harm
in any way; look:

/@FUNCINST_MK@/r /tools/src/zsh-4.0.x/Config/funcinst.mk

so if @FUNCINST_MK@ exists somewhere it will be replaced; if not the above
never match. But

bor@itsrm2% grep FUNCINST_MK **/Makefile.in
bor@itsrm2%

Anyway, we better remove it from configure.

-andrej

Index: zshconfig.ac
===================================================================
RCS file: /cvsroot/zsh/zsh/zshconfig.ac,v
retrieving revision 1.14
diff -u -r1.14 zshconfig.ac
--- zshconfig.ac        2001/07/02 19:39:34     1.14
+++ zshconfig.ac        2001/07/03 05:52:06
@@ -1913,13 +1913,11 @@
 CONFIG_MK="${srcdir}/Config/config.mk"
 dnl defs.mk is in the build tree, not the source tree
 DEFS_MK="Config/defs.mk"
-FUNCINST_MK="${srcdir}/Config/funcinst.mk"
 VERSION_MK="${srcdir}/Config/version.mk"

 AC_SUBST_FILE(CLEAN_MK)dnl
 AC_SUBST_FILE(CONFIG_MK)dnl
 AC_SUBST_FILE(DEFS_MK)dnl
-AC_SUBST_FILE(FUNCINST_MK)dnl
 AC_SUBST_FILE(VERSION_MK)dnl

 AC_OUTPUT(Config/defs.mk Makefile Doc/Makefile Etc/Makefile Src/Makefile \

