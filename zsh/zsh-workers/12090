From zsh-workers-return-12090-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Jun 27 16:11:51 2000
Return-Path: <zsh-workers-return-12090-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9234 invoked from network); 27 Jun 2000 16:11:50 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 27 Jun 2000 16:11:50 -0000
Received: (qmail 25157 invoked by alias); 27 Jun 2000 16:11:43 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 12090
Received: (qmail 25150 invoked from network); 27 Jun 2000 16:11:43 -0000
X-Envelope-Sender-Is: Andrej.Borsenkow@mow.siemens.ru (at relayer david.siemens.de)
From: "Andrej Borsenkow" <Andrej.Borsenkow@mow.siemens.ru>
To: "Jan Fedak" <J.Fedak@sh.cvut.cz>,
   "Zsh workers" <zsh-workers@sunsite.auc.dk>
Subject: RE: erroneous completion when using {}
Date: Tue, 27 Jun 2000 20:11:39 +0400
Message-ID: <001401bfe052$5ff9a6c0$21c9ca95@mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6700
Importance: Normal
In-Reply-To: <20000627175558.A13719@tornado.sh.cvut.cz>

>
> Hello.
>
> When I use {} in a glob pattern like this:
>
> $ cat some/path/{directory\ 1, directory\ 2,_
>                                            ^
> 					   cursor :)
>
> and hit tab, my precious backslashes get lost:
>
> $ cat some/path/{directory 1,directory 2,directory\
>
> That is wrong and my glob pattern won't succeed later.
>
> Jan
>
> P.S. And my version: 3.1.6-dev-20, I use the new completion system.
>

Something like this happens in current CVS version (3.1.9-dev-1 +
patches).

bor@itsrm2% ls -1
a 1
a 2
a 3
bor@itsrm2% ls $PWD/{a\ 1,<CURSOR>a\ 2
                      (no blank between `,' and `a') after TAB
bor@itsrm2% ls $PWD/{a 1,a\ 2,
                      TAB once more
bor@itsrm2% ls $PWD/{a 1,a\ 2,
Completing `file'

The completion just after braces work:

bor@itsrm2% ls $PWD/{<TAB>
bor@itsrm2% ls $PWD/{a\ 1
Completing file
a\ 1   a\ 2   a\ 3
                     a-a-m-c
bor@itsrm2% ls $PWD/{a\ 1,a\ 2
Completing file
a\ 1   a\ 2   a\ 3

-andrej

P.S. curly braces are not glob pattern ...

