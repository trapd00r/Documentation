From zsh-workers-return-11413-mason-zsh=primenet.com.au@sunsite.auc.dk Tue May 16 15:05:34 2000
Return-Path: <zsh-workers-return-11413-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 19437 invoked from network); 16 May 2000 15:05:33 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 16 May 2000 15:05:33 -0000
Received: (qmail 26326 invoked by alias); 16 May 2000 15:05:24 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 11413
Received: (qmail 26319 invoked from network); 16 May 2000 15:05:22 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <1000516150506.ZM23747@candle.brasslantern.com>
Date: Tue, 16 May 2000 15:05:06 +0000
In-Reply-To: <200005160758.JAA19581@beta.informatik.hu-berlin.de>
Comments: In reply to Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
        "Re: Styles that aren't :completion:* ..." (May 16,  9:58am)
References: <200005160758.JAA19581@beta.informatik.hu-berlin.de>
X-Mailer: Z-Mail (5.0.0 30July97)
To: zsh-workers@sunsite.auc.dk
Subject: Re: Styles that aren't :completion:* ...
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On May 16,  9:58am, Sven Wischnowsky wrote:
} Subject: Re: Styles that aren't :completion:* ...
}
} Bart Schaefer wrote:
} 
} > I notice that the nslookup function uses a context of ':nslookup', whereas
} > assorted zftp components use ":zftp$curcontext".
} 
} Yes, but it's not the completion-$curcontext, it's the zftp-one.

Ah.

} I considered i-complete-w to be a completion thing. And since in
} completion it uses `:completion:incremental:...' I thought it would be 
} easier to understand if it used that for all styles.

Yes, that's what I'm struggling with here.  One question is, is there any
way $curcontext could have a value at the time i-c-w or i-a-p are called?
They'd have to be getting called *inside* the completion or zftp systems,
wouldn't they?  Which they shouldn't ... so it doesn't make sense to e.g.

  zstyle ':completion:predict:*:-math-:*' cursor complete
  zstyle ':completion:predict:*' cursor key

because insert-and-predict doesn't know that it's in math context.  (On
the other hand, it might be nice to be able to do that ...)

But it's still necessary to at least set curcontext=predict::: so that the
right function field will be present when `zle complete-word' is called.

} > What's the context?
} 
} `:predict', I'd say.

Then we'll have to remove the i-c-w and predict documentation from the
completion system sections.  Where should it go instead?

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

