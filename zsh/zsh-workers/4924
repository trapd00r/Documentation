From zsh-workers-request@math.gatech.edu Mon Jan 18 16:47:43 1999
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1884 invoked from network); 18 Jan 1999 16:47:42 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 18 Jan 1999 16:47:42 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.9.1/8.9.1) id LAA02561;
	Mon, 18 Jan 1999 11:45:21 -0500 (EST)
Resent-Date: Mon, 18 Jan 1999 11:45:21 -0500 (EST)
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <990118084347.ZM7823@candle.brasslantern.com>
Date: Mon, 18 Jan 1999 08:43:47 -0800
In-Reply-To: <9901181309.AA49968@ibmth.df.unipi.it>
Comments: In reply to Peter Stephenson <pws@ibmth.df.unipi.it>
        "PATCH: 3.1.5-pws-4: findcmd()" (Jan 18,  2:09pm)
References: <9901181309.AA49968@ibmth.df.unipi.it>
X-Mailer: Z-Mail (4.0b.820 20aug96)
To: Peter Stephenson <pws@ibmth.df.unipi.it>, zsh-workers@math.gatech.edu
Subject: Re: PATCH: 3.1.5-pws-4: findcmd()
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Resent-Message-ID: <"TSISf3.0.vd.WKses"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/4924
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

On Jan 18,  2:09pm, Peter Stephenson wrote:
} Subject: PATCH: 3.1.5-pws-4: findcmd()
}
} I added a second argument
} which lets findcmd() effectively return a truth value.

I think it would be worth "documenting" that findcmd() returns its first
argument when the docopy parameter is zero.  Besides, your comment has a
typo.

Index: Src/exec.c
===================================================================
--- exec.c	1999/01/18 16:39:07	1.16
+++ exec.c	1999/01/18 16:42:40
@@ -461,8 +461,8 @@
 
 /*
  * Get the full pathname of an external command.
- * If the first argument is zero, just return a non-null pointer if found;
- * if non-zero, get the actual name using heap memory.
+ * If the second argument is zero, return the first argument if found;
+ * if non-zero, return the path using heap memory.  (RET_IF_COM(X), above).
  */
 
 /**/


-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

