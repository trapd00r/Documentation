From zsh-workers-return-6262-mason-zsh=primenet.com.au@sunsite.auc.dk Tue May 11 15:15:10 1999
Return-Path: <zsh-workers-return-6262-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 16541 invoked from network); 11 May 1999 15:15:08 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 11 May 1999 15:15:08 -0000
Received: (qmail 13049 invoked by alias); 11 May 1999 15:14:53 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 6262
Received: (qmail 13042 invoked from network); 11 May 1999 15:14:52 -0000
Message-Id: <9905111450.AA42215@ibmth.df.unipi.it>
To: zsh-workers@sunsite.auc.dk (Zsh hackers list)
Subject: pws-18 is go
Date: Tue, 11 May 1999 16:50:31 +0200
From: Peter Stephenson <pws@ibmth.df.unipi.it>

http://www.ifh.de/~pws/computing/
-rw-r--r--  1 pws  quadrics  924653 May 11 17:03 zsh-3.1.5-pws-18.tar.gz
-rw-r--r--  1 pws  quadrics  374488 May 11 17:03 zsh-3.1.5-pws-18.doc.tar.gz
-rw-r--r--  1 pws  quadrics  750783 May 11 16:29 zsh-3.1.5-pws-18.tar.bz2
-rw-r--r--  1 pws  quadrics  252180 May 11 16:29 zsh-3.1.5-pws-18.doc.tar.bz2

This includes the large file support for SunOS, although Andrej's points
are all valid.  Note that setting CPPFLAGS by hand when runing configure
will disable it.  I hope the problems are small enough to allow upgrading
to full internal large file support gradually.  We should probably think
about handling integer shell parameters as 64 bit wherever this is
available by testing for long long or quad_t; the extra size is trivial
compared with the added convenience.

It doesn't include the patch to turn `incrementalappendhistory' into
`incappendhistory' to fit in the canonical size limits because I forgot,
sorry.  It's trivial and I'll do it now.

Changes:

Bart: 6188: compinit speedup

pws: 6193: [un]setopt shouldn't complain when setting an unsettable option
to the value it already has

Sven: 6194: complete assoc array arguments by default where necessary

Sven: 6195: _expand_word and _correct_word change.

Sven: 6197: off by one error parsing assignment in completion

pws: 6202: trivial _correct_filename change, ^Xc -> ^XC

pws: 6205: use FIONREAD wherever defined, read chars immediately into
buffer

Bart: 6213: race condition in $(...), use waitforpid() instead of
unblocking child (which shouldn't happen until later).

Tanaka Akira: 6219: initialize a variable in zle_tricky.c

Wayne: 6220: various compilation warnings

pws: 6224: alter 6205 to read chars only when necessary, but ensure
terminal is set appropriately.

pws: 6227: configuration for large file support (from bash aclocal.m4).

pws: 6235: unset -m shouldn't restore unset parameters; unsetting a global
should remove it from paramtab even inside a function.

Wayne: 6236: history changes to improve management of duplicate lines,
incremental history read/write, and sharing history

pws: 6237: window size code upgraded from 3.0.6-pre2, plus Bart's patch
4447.

pws: 6238: Wayne's share_history option set in ksh emulation

pws: 6239: need space after incrementalappendhistory for kshoptionprint

pws: 6240: a pipeline ending in a builtin didn't attach to the tty pgrp.

Wayne: 6241: history editing can use foreign history commands; history
appended in hend() instead of hbegin()

Sven: 6046: nested parameter expansions can return either arrays or
scalars.

pws: 6246: doc changes for 6046, plus subscripts done properly

Sven: 6249: fix for 6046 (problem showed up with $(...))

Wayne: 6255: more history: zle toggle between local/global history;  `zle
widget' can now take a direct numeric argument; small tweaks

pws: 6257: rewrite 6240 for any old builtin structure after the pipeline

pws: 6258: yet another attempt at the same problem

pws: 6259: second version of compinstall

-- 
Peter Stephenson <pws@ibmth.df.unipi.it>       Tel: +39 050 844536
WWW:  http://www.ifh.de/~pws/
Dipartimento di Fisica, Via Buonarroti 2, 56127 Pisa, Italy

