From zsh-users-return-13709-mason-zsh=primenet.com.au@sunsite.dk Wed Jan 14 16:58:15 2009
Return-Path: <zsh-users-return-13709-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 15824 invoked from network); 14 Jan 2009 16:58:12 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 14 Jan 2009 16:58:12 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 99297 invoked from network); 14 Jan 2009 16:58:01 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 14 Jan 2009 16:58:01 -0000
Received: (qmail 24001 invoked by alias); 14 Jan 2009 16:57:44 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 13709
Received: (qmail 23991 invoked from network); 14 Jan 2009 16:57:44 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 14 Jan 2009 16:57:44 -0000
Received: from vms046pub.verizon.net (vms046pub.verizon.net [206.46.252.46])
	by bifrost.dotsrc.org (Postfix) with ESMTP id EA6C680271F0
	for <zsh-users@sunsite.dk>; Wed, 14 Jan 2009 17:57:40 +0100 (CET)
Received: from torch.brasslantern.com ([96.238.220.215])
 by vms046.mailsrvcs.net
 (Sun Java System Messaging Server 6.2-6.01 (built Apr  3 2006))
 with ESMTPA id <0KDH0079H0G2F2E0@vms046.mailsrvcs.net> for
 zsh-users@sunsite.dk; Wed, 14 Jan 2009 10:57:39 -0600 (CST)
Received: from torch.brasslantern.com (localhost.localdomain [127.0.0.1])
	by torch.brasslantern.com (8.13.1/8.13.1) with ESMTP id n0EGvb6m018664	for
 <zsh-users@sunsite.dk>; Wed, 14 Jan 2009 08:57:38 -0800
Received: (from schaefer@localhost)	by torch.brasslantern.com
 (8.13.1/8.13.1/Submit) id n0EGvbpo018663	for zsh-users@sunsite.dk; Wed,
 14 Jan 2009 08:57:37 -0800
Date: Wed, 14 Jan 2009 08:57:37 -0800
From: Bart Schaefer <schaefer@brasslantern.com>
Subject: Re: Getting the CVS revision of Zsh
In-reply-to: <2d460de70901140533icf13f94yc7f63f974b236f45@mail.gmail.com>
To: Zsh Users <zsh-users@sunsite.dk>
Message-id: <090114085737.ZM18662@torch.brasslantern.com>
MIME-version: 1.0
X-Mailer: OpenZMail Classic (0.9.2 24April2005)
Content-type: text/plain; charset=us-ascii
References: <2d460de70901090301h6b309a7cm19c5ebfec989ff2c@mail.gmail.com>
	<2d460de70901140533icf13f94yc7f63f974b236f45@mail.gmail.com>
Comments: In reply to Richard Hartmann <richih.mailinglist@gmail.com>
 "Re: Getting the CVS revision of Zsh" (Jan 14,  2:33pm)
X-Virus-Scanned: ClamAV 0.92.1/8864/Wed Jan 14 13:50:32 2009 on bifrost
X-Virus-Status: Clean

On Jan 14,  2:33pm, Richard Hartmann wrote:
}
} My suggestion would be to introduce a new variable called
} $ZSH_RELEASE which is only filled if the source zsh was
} compiled from is tagged as a release.
} 
} Thoughts?

My thought is that all of this, including ZSH_PATCHLEVEL, should
never have been bothered with in the first place.

Either you're compiling zsh from source yourself, in which case you
should know what you're compiling; or you're using a package that was
installed by somebody else, in which case it's between you and that
somebody if you're having bleeding-edge non-releases forced on you.

If you're a packager like Debian or RedHat who occasionally ports
individual patches backwards or sideways or makes your own stability
patches, anything in these variables is going to be either wrong and
misleading to the end user or fabricated and meaningless to the zsh
developers upstream.

I was holding my tongue on ZSH_PATCHLEVEL despite my annoyance that
it uses the RCS $Revision: tag -- I mirror the zsh sources into my
own local repository, which means that tag gets rewritten whenever
I do a check-in, so my local build will rarely if ever match the
"real thing", hence it's useless cruft to me -- and I suppose it's
up to PWS if he wants to jump through the hoops to make something
like this appear to work, but I'm completely unconvinced by the
argument that they're in some way beneficial.

