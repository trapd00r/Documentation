From zsh-users-return-4823-mason-zsh=primenet.com.au@sunsite.dk Tue Apr 09 23:38:15 2002
Return-Path: <zsh-users-return-4823-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17663 invoked from network); 9 Apr 2002 23:38:14 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 9 Apr 2002 23:38:14 -0000
Received: (qmail 4881 invoked by alias); 9 Apr 2002 23:37:57 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4823
Received: (qmail 4868 invoked from network); 9 Apr 2002 23:37:56 -0000
Message-ID: <8A6886DD01F4D511A0FC00508BBB3FC101229DC4@phxntx04.mkt.tosco.com>
From: "Ackersviller, Paul:" <packersv@ppco.com>
To: "'zsh-users@sunsite.dk'" <zsh-users@sunsite.dk>
Subject: 4.0.4 configuration on AIX 5.1
Date: Tue, 9 Apr 2002 16:37:50 -0700 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain

I'm running into some trouble building zsh on AIX 5.1 due to the code in
Src/utils.c and Src/Modules/cap.c inside #ifdef HAVE_CAP_GET_PROC.
There are two strange things I notice about this system.  First, there's a
<sys/capabilities.h> that seems to replace <sys/capability.h>, but it won't
work to include this instead because it typedefs cap_t as void *, while not
having a prototype for cap_get_proc().

This system also has no libcap library, although there is a cap_get_proc
directly in the C library (which I assume configure is finding).  However
I'm unable to find documentation on it, nor can I find a prototype for it
anywhere in the system headers.

Anyway, I can compile zsh by taking the HAVE_CAP_GET_PROC
definition out of config.h and building in Src/.  Does anyone think the
configure script should be able to handle this system, or is it too broken?

-- 
Paul Ackersviller

