From zsh-users-return-11647-mason-zsh=primenet.com.au@sunsite.dk Mon Jul 16 07:26:15 2007
Return-Path: <zsh-users-return-11647-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17244 invoked from network); 16 Jul 2007 07:26:13 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.1 (2007-05-02) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.1
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 16 Jul 2007 07:26:13 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 39538 invoked from network); 16 Jul 2007 07:26:07 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 16 Jul 2007 07:26:07 -0000
Received: (qmail 4862 invoked by alias); 16 Jul 2007 07:25:57 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 11647
Received: (qmail 4851 invoked from network); 16 Jul 2007 07:25:57 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 16 Jul 2007 07:25:57 -0000
Received: (qmail 38242 invoked from network); 16 Jul 2007 07:25:57 -0000
Received: from an-out-0708.google.com (209.85.132.249)
  by a.mx.sunsite.dk with SMTP; 16 Jul 2007 07:25:53 -0000
Received: by an-out-0708.google.com with SMTP id c14so249883anc
        for <zsh-users@sunsite.dk>; Mon, 16 Jul 2007 00:25:52 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=W5Eh38/m4P9eE3GwEa8OZ3pWa29L/W+aoeAqqqBhNclwThJ4Opx88ouDGxxZKfqfZE60mO7qG4WOgDTNc39kLD8HgSxx42evsuh+NZKPch6Ddx19SI/eFRHqeyS9ZIBnDGZHePE3cNem6uKDbEwpuNA8pYs0nzjqLePL+6VGBW4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=j/EhAh5snw4hdofWsKZ9HR5ii6t6knr2VIE8Xl4Nl+EkeGTPAZEYn/lkaVDexE8kKWM/v/4h1td6kSHFhcfpWzBirz4VaFzyucCez2m9OlL/QQpdWVXk25dXi9QQQtNnLqtdk7u9KdwduhBB74kKFQQEr7tW2wIAV5mfk4Rqyqg=
Received: by 10.142.103.6 with SMTP id a6mr292726wfc.1184570751536;
        Mon, 16 Jul 2007 00:25:51 -0700 (PDT)
Received: by 10.143.43.10 with HTTP; Mon, 16 Jul 2007 00:25:51 -0700 (PDT)
Message-ID: <17393e3e0707160025l11909d04oc8f89b6ce381fabd@mail.gmail.com>
Date: Mon, 16 Jul 2007 03:25:51 -0400
From: "Matt Wozniski" <godlygeek@gmail.com>
To: zsh-users@sunsite.dk
Subject: Unexpected behavior from _match completer
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I seem to be seeing some weird behavior from the _match completer.
So, on zsh 4.3.4, after running zsh -f:

mastermind% autoload -U compinit; compinit
mastermind% zstyle ':completion:*' completer _match
mastermind% touch ' test ' '[test]' atesta btestb
mastermind% ls ?test<TAB>
# shows only atesta and btestb in menu completion
mastermind% ls ?test*
# lists all 4 files
mastermind% ls *test<TAB>
# shows all 4 files in menu completion
mastermind% ls *test*
# lists all 4 files

Why aren't all 4 of those files matched by "?test<TAB>"?  It seems as
though the match completer is deciding that '\ ' and '\[' are each two
characters rather than one and failing to match properly as a result.
Any thoughts?  Seems like a buglet to me, but it might be some
expected behavior that I missed in the man page.

~Matt Wozniski

