From zsh-users-return-5059-mason-zsh=primenet.com.au@sunsite.dk Sat Jun 15 23:23:33 2002
Return-Path: <zsh-users-return-5059-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8489 invoked from network); 15 Jun 2002 23:23:32 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 15 Jun 2002 23:23:32 -0000
Received: (qmail 3366 invoked by alias); 15 Jun 2002 23:23:03 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 5059
Received: (qmail 3348 invoked from network); 15 Jun 2002 23:22:58 -0000
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <1020615232225.ZM2169@candle.brasslantern.com>
Date: Sat, 15 Jun 2002 23:22:25 +0000
In-Reply-To: <20020614131646.A26271@radiomaranon.org.pe>
Comments: In reply to Andy Spiegl <zsh.Andy@spiegl.de>
        "howto avoid ~irc in %~ ?" (Jun 14,  1:16pm)
References: <20020614131646.A26271@radiomaranon.org.pe>
X-Mailer: Z-Mail (5.0.0 30July97)
To: Andy Spiegl <zsh.Andy@spiegl.de>, zsh-users@sunsite.dk
Subject: Re: howto avoid ~irc in %~ ?
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Jun 14,  1:16pm, Andy Spiegl wrote:
} 
} I use %~ in my prompt [but then] when I change to
}  /var/www
} my prompt is:
}  machine:~irc/www>

Zsh doesn't do this all by itself.  You must at some point have used ~irc
before zsh would add an entry for irc to its hash table of named dirs.

E.g. starting from `zsh -f':

zagzig% cd /home/ftp
zagzig% pwd
/home/ftp
zagzig% print -P %~
/home/ftp

But:

zagzig% cd ~ftp
zagzig% pwd
/home/ftp
zagzig% print -P %~
~ftp

So if you don't want zsh to use the abbreviations, don't use them yourself.

Zsh does have a rule that it won't show the tilde-form if the real name of
the directory is shorter, but in the case of ~irc and /var they happen to
be exactly the same length.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

