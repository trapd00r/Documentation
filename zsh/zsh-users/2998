From zsh-users-return-2998-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Mar 31 07:45:59 2000
Return-Path: <zsh-users-return-2998-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17854 invoked from network); 31 Mar 2000 07:45:58 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 31 Mar 2000 07:45:58 -0000
Received: (qmail 27446 invoked by alias); 31 Mar 2000 07:45:30 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 2998
Received: (qmail 27435 invoked from network); 31 Mar 2000 07:45:30 -0000
X-Envelope-Sender-Is: Andrej.Borsenkow@mow.siemens.ru (at relayer david.siemens.de)
From: "Andrej Borsenkow" <Andrej.Borsenkow@mow.siemens.ru>
To: "Andrew Morton" <morton@nortelnetworks.com>,
   "zsh-users" <zsh-users@sunsite.auc.dk>
Subject: RE: New user questions
Date: Fri, 31 Mar 2000 11:45:27 +0400
Message-ID: <000501bf9ae5$14af6310$21c9ca95@mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
In-Reply-To: <38E44864.A7072DAE@asiapacificm01.nt.com>
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6700
Importance: Normal

>
> Well thanks everyone for all the help.  Just about everything
> is working
> sweetly (better than the old shell, actually).
>

Have you had any doubts? :-)

> A few more observations:
>
> - The zshbuiltins manpage doesn't cover 'bindkey'
>

This is in modules section (Zle module). But, yes, I never liked this.
Users are not supposed to know, if command is implemented in core or
module.

man zshmodules

> - History-search-backward could be improved.  In this example it is
> bound to ESC:
>
> prompt> echo foo
> prompt> echo bar
> prompt> echo f<ESC>
>
> This will then match 'echo bar'.  Would be more sensible to
> match 'echo
> foo'?
>

There is history-beginning-search-(backward|forward) that should do that

history-beginning-search-backward
     Search backward in the history for a line beginning with the
     current line up to the cursor.  This leaves the cursor in its
     original position.

>
> Question: How do I, within .zshrc, simply erase _all_ preexisting
> bindings and start afresh?  I've tried everything.
>
> pwold011:/home/morton> bindkey -l
> .safe
> emacs
> main
> vicmd
> viins
> pwold011:/home/morton> bindkey -D emacs vicmd viins
> pwold011:/home/morton> bindkey -l
> .safe
> main
> pwold011:/home/morton> bindkey -D main
> No such keymap `main'
>


bor@itsrm2% bindkey -N foo .safe
bor@itsrm2% bindkey -A foo main
bor@itsrm2% bindkey -L
bindkey -R "^@"-"^I" self-insert
bindkey "^J" accept-line
bindkey -R "^K"-"^L" self-insert
bindkey "^M" accept-line
bindkey -R "^N"-"\M-^?" self-insert

These are the minimum - you want to be able to at least enter
characters. If you simply create an *empty* map and assign it to main -
no input will be possible at all.

-andrej

