From zsh-workers-return-7692-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Sep 07 13:11:43 1999
Return-Path: <zsh-workers-return-7692-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 16162 invoked from network); 7 Sep 1999 13:11:41 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 7 Sep 1999 13:11:41 -0000
Received: (qmail 17030 invoked by alias); 7 Sep 1999 13:11:24 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7692
Received: (qmail 17023 invoked from network); 7 Sep 1999 13:11:23 -0000
Date: Tue, 7 Sep 1999 15:11:21 +0200 (MET DST)
Message-Id: <199909071311.PAA04355@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: Peter Stephenson's message of Tue, 07 Sep 1999 14:57:20 +0200
Subject: Re: MH completion


Peter Stephenson wrote:

> I was trying to rewrite MH completion to use _arguments; you can run
> `command -help' and make the argument list up from the output as you
> go along.  But it looks like _arguments can't deal with the +folder
> syntax, i.e. that anything beginning with a + needs to be completed
> specially by a separate function/state.  Ideas?

It seems like I have the manuals for `mh' here, but not the binaries,
so I can't help much, I fear.

And I can only think of 1) first testing for `[[ $PREFIX = +* ]]' and
calling `_arguments' in the else branch or 2) let `_arguments' set a
certain state for those places where +folder is valid and handle that
after return from `_arguments', testing if the word starts with a `+', 
complete folders then and otherwise complete the things that are
allowed there, too (if any).

(I don't know `mh', so I can't say if one of these is possible/correct.)

Bye
 Sven


--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

