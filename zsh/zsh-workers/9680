From zsh-workers-return-9680-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Feb 11 12:58:50 2000
Return-Path: <zsh-workers-return-9680-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10906 invoked from network); 11 Feb 2000 12:58:50 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 11 Feb 2000 12:58:50 -0000
Received: (qmail 13116 invoked by alias); 11 Feb 2000 12:58:44 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 9680
Received: (qmail 13109 invoked from network); 11 Feb 2000 12:58:43 -0000
Date: Fri, 11 Feb 2000 13:58:40 +0100 (MET)
Message-Id: <200002111258.NAA30073@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
Subject: PATCH: type in _path_files


The important bit was the missin colon in the description for -M. The
other hunks just allow -M to appear more than once.

Bye
 Sven

diff -ru ../z.old/Completion/Core/_files Completion/Core/_files
--- ../z.old/Completion/Core/_files	Fri Feb 11 11:59:30 2000
+++ Completion/Core/_files	Fri Feb 11 13:56:35 2000
@@ -4,7 +4,7 @@
 local hasign ign
 
 zparseopts -a opts \
-    '/=tmp' 'f=tmp' 'g+:-=tmp' q n 1 2 P: S: r: R: W: X: M: F: \
+    '/=tmp' 'f=tmp' 'g+:-=tmp' q n 1 2 P: S: r: R: W: X: M+: F: \
     'J:=group' 'V:=group'
 
 type="${(@j::M)${(@)tmp#-}#?}"
diff -ru ../z.old/Completion/Core/_multi_parts Completion/Core/_multi_parts
--- ../z.old/Completion/Core/_multi_parts	Fri Feb 11 11:59:30 2000
+++ Completion/Core/_multi_parts	Fri Feb 11 13:56:56 2000
@@ -15,7 +15,7 @@
 
 zparseopts -D -a sopts \
     'J:=group' 'V:=group' 'X:=expl' 'P:=opts' 'F:=opts' \
-    S: r: R: q 1 2 n 'M:=match'
+    S: r: R: q 1 2 n 'M+:=match'
 
 sopts=( "$sopts[@]" "$opts[@]" )
 if (( $#match )); then
diff -ru ../z.old/Completion/Core/_path_files Completion/Core/_path_files
--- ../z.old/Completion/Core/_path_files	Fri Feb 11 11:59:31 2000
+++ Completion/Core/_path_files	Fri Feb 11 13:55:38 2000
@@ -19,7 +19,7 @@
 
 zparseopts -a mopts \
     'P:=pfxsfx' 'S:=pfxsfx' 'q=pfxsfx' 'r:=pfxsfx' 'R:=pfxsfx' \
-    'W:=prepaths' 'F:=ignore' 'M+=matcher' \
+    'W:=prepaths' 'F:=ignore' 'M+:=matcher' \
     J: V: X: 1: 2: n: 'f=tmp1' '/=tmp1' 'g+:-=tmp1'
 
 sopt="-${(@j::M)${(@)tmp1#-}#?}"
diff -ru ../z.old/Completion/Core/_sep_parts Completion/Core/_sep_parts
--- ../z.old/Completion/Core/_sep_parts	Fri Feb 11 11:59:31 2000
+++ Completion/Core/_sep_parts	Fri Feb 11 13:56:43 2000
@@ -23,7 +23,7 @@
 # Get the options.
 
 zparseopts -D -a opts \
-    'J:=group' 'V=:group' P: F: S: r: R: q 1 2 n 'X:=expl' 'M:=match'
+    'J:=group' 'V=:group' P: F: S: r: R: q 1 2 n 'X:=expl' 'M+:=match'
 
 if (( $#match )); then
   match="${match[2]}"

--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

