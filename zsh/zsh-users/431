From zsh-workers-request@euclid.skiles.gatech.edu  Wed Oct  2 01:06:20 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by coral.primenet.com.au (8.7.5/8.7.3) with ESMTP id BAA02398 for <mason@primenet.com.au>; Wed, 2 Oct 1996 01:06:18 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id KAA02775; Tue, 1 Oct 1996 10:54:25 -0400 (EDT)
Resent-Message-Id: <199610011450.KAA15883@Pontryagin.McRCIM.McGill.EDU>
Message-Id: <199610011450.KAA15883@Pontryagin.McRCIM.McGill.EDU>
X-Authentication-Warning: Pontryagin.McRCIM.McGill.EDU: peta owned process doing -bs
X-Authentication-Warning: Pontryagin.McRCIM.McGill.EDU: Host localhost didn't use HELO protocol
To: zsh-workers@sterling.com
Subject: Old 'cd ......' function broken.
Date: Mon, 30 Sep 1996 15:57:34 -0400
From: peta@cim.mcgill.ca
Resent-To: zsh-users@math.gatech.edu
Resent-Date: Tue, 01 Oct 1996 10:50:42 -0400
Resent-From: Peter Whaite <peta@cim.mcgill.ca>
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/431
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

I got this from the zsh mailing list a while ago.  It used to work but no more
(zsh-3.0.0).  It doesnt like ${(r:(${#1}-1)*3-1::../:)b}

cd() {
  if [[ $# -eq 1 && $1 = ...* ]] then
    local b=''
    a=${(r:(${#1}-1)*3-1::../:)b}
    builtin cd $a
  else
    builtin cd $*
  fi
}

% cd ...
zsh: ')' expected

Can someone tell me how to fix it?

