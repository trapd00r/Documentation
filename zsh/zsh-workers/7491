From zsh-workers-return-7491-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Aug 26 08:27:12 1999
Return-Path: <zsh-workers-return-7491-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 25743 invoked from network); 26 Aug 1999 08:27:08 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 26 Aug 1999 08:27:08 -0000
Received: (qmail 22366 invoked by alias); 26 Aug 1999 08:26:51 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7491
Received: (qmail 22359 invoked from network); 26 Aug 1999 08:26:51 -0000
Date: Thu, 26 Aug 1999 09:26:46 +0100 (BST)
From: "Owen M. Astley" <oma1000@cam.ac.uk>
X-Sender: oma1000@alpha2.poco.phy.cam.ac.uk
To: zsh-workers@sunsite.auc.dk
Subject: Re: /bin/zsh -ce 'false; echo bug'
In-Reply-To: <199908260149.SAA46088@scv4.apple.com>
Message-ID: <Pine.OSF.3.96.990826091939.27810A-100000@alpha2.poco.phy.cam.ac.uk>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Wed, 25 Aug 1999, Matt Watson wrote:

> gnumake-3.74 wants to use "/bin/sh -ce <commandstring>" to exec a sub  
> make. Unfortunately if zsh == sh, zsh doesn't grok the -ce as separate  
> options, so it ignores the "e" and does not set ERREXIT.
> 
> Should it? Has anyone else come across this?

I 'think' that POSIX doesn't allow for options of this type, it should be
written as -c -e <commandstring>.  However, I can't remember where I  read
that, and as most shells seem to cope with it, it should be done.

Is there any reason why parseargs() doesn't use getopt?

Owen


