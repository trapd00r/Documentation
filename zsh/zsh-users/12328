From zsh-users-return-12328-mason-zsh=primenet.com.au@sunsite.dk Thu Dec 13 15:10:22 2007
Return-Path: <zsh-users-return-12328-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17965 invoked from network); 13 Dec 2007 15:10:12 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.3 (2007-08-08) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.3
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 13 Dec 2007 15:10:12 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 96103 invoked from network); 13 Dec 2007 15:09:33 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 13 Dec 2007 15:09:33 -0000
Received: (qmail 585 invoked by alias); 13 Dec 2007 15:09:22 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 12328
Received: (qmail 568 invoked from network); 13 Dec 2007 15:09:21 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 13 Dec 2007 15:09:21 -0000
Received: from virusfilter.dotsrc.org (bifrost [127.0.0.1])
	by spamfilter.dotsrc.org (Postfix) with ESMTP id 8AE2B8058F54
	for <zsh-users@sunsite.dk>; Thu, 13 Dec 2007 16:06:37 +0100 (CET)
Received: from puffy.raveland.org (puffy.raveland.org [195.200.166.230])
	by bifrost.dotsrc.org (Postfix) with ESMTP
	for <zsh-users@sunsite.dk>; Thu, 13 Dec 2007 16:06:37 +0100 (CET)
Received: from localhost.pacwan.net (pea-dsktp.pacwan.net [195.200.191.158])
	by puffy.raveland.org (Postfix) with ESMTP id 6359871341F;
	Thu, 13 Dec 2007 16:09:17 +0100 (CET)
Date: Thu, 13 Dec 2007 16:09:15 +0100
From: Pea <zsh@raveland.org>
To: zsh-users@sunsite.dk (Zsh users list)
Cc: Peter Stephenson <pws@csr.com>
Subject: Re: 4.3.4-dev-4 and 4.2.6-dev-2 available
Message-ID: <20071213160915.4bcabae3@raveland.org>
In-Reply-To: <22582.1197372038@csr.com>
References: <22582.1197372038@csr.com>
Organization: Raveland
X-Mailer: Claws Mail 3.1.0 (GTK+ 2.12.1; i386-unknown-openbsd4.2)
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Scanned: ClamAV using ClamSMTP

Le Tue, 11 Dec 2007 11:20:38 +0000,
Peter Stephenson <pws@csr.com> a =E9crit :

> I've uploaded new development versions of 4.3.4 and 4.2.6 to
> ftp://ftp.zsh.org/pub/development .  Unless something major turns up I
> will release 4.3.5 and 4.2.7 some time around the weekend.
>=20
> Here is what I have so far for a release note for 4.3.5.  Let me know
> of anything I've missed.  (That could include major bugfixes you think
> for anything that might have been particularly noticeable in 4.3.4.)
>=20
>=20
> Version 4.3.5 contains both bugfixes and improvements.  Further
> progress has been made in support for multibyte character set and in
> most cases this is thought to be stable although a few glitches
> remain.
>=20
> Visible changes in the shell and its modules since 4.3.4 include the
> following:
>=20
> A new module zsh/curses provides the builtin zcurses for access
> to the curses screen manipulation package; see the entry in the
> zsh/modules manual.  Configuration of terminal libraries is now
> easier with the --with-term-lib option to configure.
>=20
[snip..]

Hi,

The new module zsh/curses fails on OpenBSD (i386 -current).

gcc -c -I.  -DHAVE_CONFIG_H -DMODULE -Wall -Wmissing-prototypes -O2
-fPIC -o curses..o curses.c=20
In file included from /usr/include/curses.h:14,=20
	from curses.c:46:
/usr/include/ncurses.h:251: error: conflicting types for `wchar_t'
/usr/include/stddef.h:54: error: previous declaration of `wchar_t'
/usr/include/ncurses.h:254: error: conflicting types for `wint_t'
/usr/include/stddef.h:59: error: previous declaration of `wint_t'

Try to compil with this:
./configure --enable-zsh-mem --enable-zsh-secure-free
--enable-maildir-support --with-tcsetpgrp --enable-multibyte

Some hits here: http://www.openbsd.org/porting.html#Other

Regards,

Pea

