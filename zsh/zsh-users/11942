From zsh-users-return-11942-mason-zsh=primenet.com.au@sunsite.dk Sun Oct 07 06:34:28 2007
Return-Path: <zsh-users-return-11942-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 15651 invoked from network); 7 Oct 2007 06:34:19 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.3 (2007-08-08) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.3
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 7 Oct 2007 06:34:19 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 42179 invoked from network); 7 Oct 2007 06:34:12 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 7 Oct 2007 06:34:12 -0000
Received: (qmail 20417 invoked by alias); 7 Oct 2007 06:34:05 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 11942
Received: (qmail 20402 invoked from network); 7 Oct 2007 06:34:05 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 7 Oct 2007 06:34:05 -0000
Received: (qmail 41004 invoked from network); 7 Oct 2007 06:34:05 -0000
Received: from atom.smasher.org (69.55.237.145)
  by a.mx.sunsite.dk with SMTP; 7 Oct 2007 06:34:00 -0000
Received: (qmail 30916 invoked by uid 1000); 7 Oct 2007 06:33:59 -0000
Message-ID: <20071007063359.30913.qmail@smasher.org>
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed
Date: Sun, 7 Oct 2007 19:33:52 +1300 (NZDT)
From: Atom Smasher <atom@smasher.org>
In-Reply-To: <20071007061947.GA6554@panix.com>
MIME-Version: 1.0
OpenPGP: id=0xB88D52E4D9F57808; algo=1 (RSA); size=4096; url=http://atom.smasher.org/pgp.txt
References: <20071007045049.GA28877@panix.com> <20071007053638.14299.qmail@smasher.org>
 <20071007061947.GA6554@panix.com>
Subject: Re: sluggish prompt
To: zsh-users@sunsite.dk
X-POM: The Moon is Waning Crescent (15% of Full)
X-Hashcash: 1:20:0710070633:zsh-users@sunsite.dk::1/3ddzqzqGmSHe1b:0000000000000
	00000000000000000000000076EK

On Sun, 7 Oct 2007, Russell Hoover wrote:

>> set -x
>> and see where it hangs.
>
>
> Hmmmmmm.  This caused a scrolling read-out to the terminal of everything 
> but the kitchen sink and went on for about 3 minutes.  I don't know that 
> it hung, but after it finished, every time I pressed <RETURN> I got this 
> (it stopped when I removed "set -x" from my .zshrc) :
====================

another alternative is to set it (set -x) and unset it (set +x) at 
different parts of the rc file... with trial and error you should be able 
to isolate the part that's hanging.

if it's hanging at every prompt (not just when the shell starts) i would 
start with turning on XTRACE within the precmd function. also, is there 
any command substitution in your prompt?

about how big is your ~/.zshrc? did you copy it from somewhere? or did you 
write it yourself? if the latter, you must've either noticed it getting 
getting slower... or you must have done something to make it hang.


-- 
         ...atom

  ________________________
  http://atom.smasher.org/
  762A 3B98 A3C3 96C9 C6B7 582A B88D 52E4 D9F5 7808
  -------------------------------------------------

 	"You do realize that in a year's time I will
 	 have contradicted everything I've said."
 		-- John Lydon


