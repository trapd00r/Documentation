From zsh-workers-return-19672-mason-zsh=primenet.com.au@sunsite.dk Mon Mar 22 20:10:19 2004
Return-Path: <zsh-workers-return-19672-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 22072 invoked from network); 22 Mar 2004 20:10:18 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 22 Mar 2004 20:10:18 -0000
Received: (qmail 28460 invoked by alias); 22 Mar 2004 20:10:12 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 19672
Received: (qmail 28446 invoked from network); 22 Mar 2004 20:10:11 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 22 Mar 2004 20:10:11 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [130.225.247.86] by sunsite.dk (MessageWall 1.0.8) with SMTP; 22 Mar 2004 20:10:11 -0000
Received: (qmail 17503 invoked from network); 22 Mar 2004 20:10:10 -0000
Received: from cmailg2.svr.pol.co.uk (195.92.195.172)
  by a.mx.sunsite.dk with SMTP; 22 Mar 2004 20:10:04 -0000
Received: from modem-217.coral-beauty.dialup.pol.co.uk ([62.136.252.217] helo=pwstephenson.fsnet.co.uk)
	by cmailg2.svr.pol.co.uk with esmtp (Exim 4.14)
	id 1B5VkJ-0003bS-Ft
	for zsh-workers@sunsite.dk; Mon, 22 Mar 2004 20:10:03 +0000
Received: by pwstephenson.fsnet.co.uk (Postfix, from userid 501)
	id AC9D785AF; Mon, 22 Mar 2004 15:12:04 -0500 (EST)
Received: from pwstephenson.fsnet.co.uk (localhost [127.0.0.1])
	by pwstephenson.fsnet.co.uk (Postfix) with ESMTP id 8D93F8543
	for <zsh-workers@sunsite.dk>; Mon, 22 Mar 2004 20:12:04 +0000 (GMT)
To: zsh-workers@sunsite.dk
Subject: Re: compaudit slow with many groups 
In-reply-to: "Danek Duvall"'s message of "Sun, 21 Mar 2004 10:46:56 PST."
             <20040321184656.GD17245@lorien.emufarm.org> 
Date: Mon, 22 Mar 2004 20:12:03 +0000
From: Peter Stephenson <pws@pwstephenson.fsnet.co.uk>
Message-Id: <20040322201204.AC9D785AF@pwstephenson.fsnet.co.uk>
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: *
X-Spam-Status: No, hits=1.0 required=6.0 tests=RCVD_IN_SORBS autolearn=no 
	version=2.63
X-Spam-Hits: 1.0

Danek Duvall wrote:
> Hm.  That's pretty obviously broken.  But I think this is right:
> 
>     if ((UID == EUID )); then
>       getent group $LOGNAME | IFS=: read GROUP _i_pw _i_gid GROUPMEM
>     else
>       getent group $EGID | IFS=: read GROUP _i_pw _i_gid GROUPMEM
>     fi

I've committed this and the fix for the typo Danek spotted.... slug it
out if you think it should be done another way.

-- 
Peter Stephenson <pws@pwstephenson.fsnet.co.uk>
Work: pws@csr.com
Web: http://www.pwstephenson.fsnet.co.uk

