From zsh-workers-request@math.gatech.edu  Sat Jul 15 06:55:55 1995
Received: from gatech.edu (gatech.edu [130.207.244.244]) by werple.mira.net.au (8.6.12/8.6.9) with SMTP id GAA03712 for <mason@werple.mira.net.au>; Sat, 15 Jul 1995 06:55:53 +1000
Received: from math (math.skiles.gatech.edu) by gatech.edu with SMTP id AA04289
  (5.65c/Gatech-10.0-IDA for <mason@werple.mira.net.au>); Fri, 14 Jul 1995 16:54:47 -0400
Received: by math (5.x/SMI-SVR4)
	id AA06790; Fri, 14 Jul 1995 10:50:57 -0400
Resent-Date: Fri, 14 Jul 1995 16:49:52 +0100 (MET DST)
Old-Return-Path: <hzoli@cs.elte.hu>
From: hzoli@cs.elte.hu (Zoltan Hidvegi)
Message-Id: <9507141449.AA07486@turan.elte.hu>
Subject: An important fux to hzoli10
To: zsh-workers@math.gatech.edu (zsh-workers)
Date: Fri, 14 Jul 1995 16:49:52 +0100 (MET DST)
X-Mailer: ELM [version 2.4 PL21]
Content-Type: text
Resent-Message-Id: <"QU7ah.0.0g1.GHe1m"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/203
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

With zsh-2.6-beta10-hzoli10 or zsh-2.6-beta10-hzoli10.1:

% cat =(echo hehe)
zsh: oops.


This is caused by an old bug, which was invisible before Peter's input
patches. The old history code discarded all tokens from a string staffed to
the input buffer by hungets(). This is no longer true with the new input
routines.

Bye,
  Zoltan

*** 1.11	1995/07/07 16:57:45
--- Src/exec.c	1995/07/14 13:09:36
***************
*** 1898,1904 ****
  	return NULL;
      }
      *str = '\0';
!     if (str[1] || !(list = parselstring(cmd))) {
  	zerr("parse error in process substitution", NULL, 0);
  	return NULL;
      }
--- 1898,1904 ----
  	return NULL;
      }
      *str = '\0';
!     if (str[1] || !(list = parselstring(cmd + 2))) {
  	zerr("parse error in process substitution", NULL, 0);
  	return NULL;
      }

