From zsh-users-return-5242-mason-zsh=primenet.com.au@sunsite.dk Wed Aug 14 19:09:07 2002
Return-Path: <zsh-users-return-5242-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 22926 invoked from network); 14 Aug 2002 19:09:06 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 14 Aug 2002 19:09:05 -0000
Received: (qmail 2889 invoked by alias); 14 Aug 2002 19:08:51 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 5242
Received: (qmail 2876 invoked from network); 14 Aug 2002 19:08:50 -0000
Date: Wed, 14 Aug 2002 21:08:47 +0200
From: Phil Pennock <Phil.Pennock@globnix.org>
To: Arthur Alinovi <aalinovi@panix.com>
Cc: zsh-users@sunsite.dk
Subject: Re: zsh 4.0.4 on Solaris 8 termcap problems
Message-ID: <20020814210847.A6002@globnix.org>
Mail-Followup-To: Arthur Alinovi <aalinovi@panix.com>, zsh-users@sunsite.dk
References: <3D5A9577.nailHV81CFD7D@panix.com>
Mime-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-md5;
	protocol="application/pgp-signature"; boundary="W/nzBZO5zC0uMSeA"
Content-Disposition: inline
User-Agent: Mutt/1.2.5i
In-Reply-To: <3D5A9577.nailHV81CFD7D@panix.com>; from aalinovi@panix.com on Wed, Aug 14, 2002 at 01:37:59PM -0400
X-Disclaimer: Any views expressed in this message, where not explicitly
	attributed otherwise, are mine and mine alone.  Such views
	do not necessarily coincide with those of any organisation
	or company with which I am or have been affiliated.


--W/nzBZO5zC0uMSeA
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

On 2002-08-14 at 13:37 -0400, Arthur Alinovi wrote:
> Back around March 22 of 2001, several people were having
> terminfo/termcap problems with zsh 3.08.  I'm referring specifically to
> message 3721 where setting TERM=3Drxvt or TERM=3Dxterm-color results in an
> error message "Can't find termcap info..."
>=20
> I'm having the same problem with zsh 4.0.4 on 2 Ultra Sparc 10's, one
> running Solaris 7 and the other running Solaris 8.
>=20
> Has anyone discovered a fix or work around for this problem as I don't
> see anything further in the archives.

Message 3721:
 <URL:http://www.zsh.org/mla/users/2001/msg00137.html>

In that report, there wasn't an entry for the term type in terminfo.  If
that is the cause of the problem, then it's not really a zsh issue,
beyond the compilation picking up the termcap compatibility stuff for
the interface.  Well, okay, it's a zsh issue, and it's an issue with
every other tool which tries to do terminal handling.

So you need to populate the database of known terminal types with a new
entry.

My approach is generally to take an xterm-color termcap entry from
something like a FreeBSD box, copy it to the Solaris box, convert it
using cap2info(1M) and then run tic(1M) on the result, to install it.

This generally makes the Solaris 2.5.1 boxes issue some warnings about
unsupported attributes and name-lengths.  But it does add in recognition
of the term-type and make the box usable without having to mess around
any further.

I also add the raw entries from FreeBSD into /usr/share/lib/termcap.

Does this fix things for you?
--=20
Some mornings it's just not worth chewing through the leather straps.

--W/nzBZO5zC0uMSeA
Content-Type: application/pgp-signature
Content-Disposition: inline

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.6 (OpenBSD)

iD8DBQE9Wqq+fDS04Uzk9lURAlRxAJ4gsJ+/bgs+OmGhWRFEiuTd1xWmYACggX6V
8axykAFYKN0ZCKg4D6sfA5k=
=gw6t
-----END PGP SIGNATURE-----

--W/nzBZO5zC0uMSeA--

