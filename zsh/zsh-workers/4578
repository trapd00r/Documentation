From zsh-workers-request@math.gatech.edu Fri Nov 06 11:30:20 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 3683 invoked from network); 6 Nov 1998 11:30:19 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 6 Nov 1998 11:30:19 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.9.1/8.9.1) id GAA18835;
	Fri, 6 Nov 1998 06:16:50 -0500 (EST)
Resent-Date: Fri, 6 Nov 1998 06:16:50 -0500 (EST)
Message-Id: <9811061101.AA13181@ibmth.df.unipi.it>
To: zsh-workers@math.gatech.edu (Zsh hackers list)
Subject: PATCH: 3.1.5: doc fix, was re: Case-insensitive globbing
In-Reply-To: ""Bart Schaefer""'s message of "Thu, 05 Nov 1998 10:15:05 NFT."
             <981105101505.ZM28911@candle.brasslantern.com> 
Date: Fri, 06 Nov 1998 12:01:26 +0100
From: Peter Stephenson <pws@ibmth.df.unipi.it>
Resent-Message-ID: <"ZxbsT3.0.Bc4.YgjGs"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/4578
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

"Bart Schaefer" wrote:
> zsh% echo zsh-3.1.5/((#i)src|doc)/make*
> 
> Should the case-insensitivity end at the )/ or not?  (I just got these
> patches compiled, and presently it does stop at close of group, which I
> think is good.)

This is supposed to be explicit in the documentation in the original
patch.

> } everything between the / and the next ) is ignored. [...]
> } Documenting it might be an idea.
> 
> Yes.

The patch below adds a few lines mentioning the limitation.

> Hm.  I don't think grouping needs to work inside the command word, but
> there should not be an implicit word break before the paren:
> 
> zagzig<7> echo(config.|stamp-)h
> config.h stamp-h
> 
> Rather I'd expect to see some sort of parse error, or command-not-found.

I suppose it's for people to be able to do things like `if(test...)'
without typing all those time-consuming spaces.

*** Doc/Zsh/expn.yo.group	Tue Nov  3 13:32:28 1998
--- Doc/Zsh/expn.yo	Fri Nov  6 11:54:52 1998
***************
*** 777,782 ****
--- 777,785 ----
  If the tt(KSH_GLOB) option is set, then a
  `tt(@)', `tt(*)', `tt(+)', `tt(?)' or `tt(!)' immediately preceding
  the `tt(LPAR())' is treated specially, as detailed below.
+ Note that grouping cannot currently extend over multiple directories:
+ a `tt(/)' separating a directory terminates processing of the current
+ group; processing resumes after the end of the group.
  )
  item(var(x)tt(|)var(y))(
  Matches either var(x) or var(y).

-- 
Peter Stephenson <pws@ibmth.df.unipi.it>       Tel: +39 050 844536
WWW:  http://www.ifh.de/~pws/
Dipartimento di Fisica, Via Buonarotti 2, 56100 Pisa, Italy

