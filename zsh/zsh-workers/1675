From pws@ifh.de Wed Jul 17 17:54:14 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by melb.werple.net.au (8.7.5/8.7.3/2) with ESMTP id RAA10993 for <mason@werple.mira.net.au>; Wed, 17 Jul 1996 17:54:08 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id DAA12721; Wed, 17 Jul 1996 03:40:15 -0400 (EDT)
Resent-Date: Wed, 17 Jul 1996 03:40:15 -0400 (EDT)
Message-Id: <199607170739.JAA24973@hydra.ifh.de>
To: zsh-workers@math.gatech.edu (Zsh hackers list)
Subject: compctl manual
Date: Wed, 17 Jul 1996 09:39:13 +0200
From: Peter Stephenson <pws@ifh.de>
Resent-Message-ID: <"LhyP11.0.i63.UZ9xn"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/1675
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu
Content-Length: 8857
Status: O

Here are a few stylistic changes to the zshcompctl manual page.

*** Doc/zshcompctl.man.orig	Mon Jul 15 17:44:43 1996
--- Doc/zshcompctl.man	Mon Jul 15 18:00:53 1996
***************
*** 8,13 ****
--- 8,14 ----
  \fBcompctl\fP [ \-\fBCDT\fP ] \fIoptions\fP
  .br
  [ \-\fBx\fP \fIpattern\fP \fIoptions\fP \- ... \-\- ]
+ .br
  [ \fB+\fP \fIoptions\fP [ \-\fBx\fP ... -- ] ... [+] ]
  .br
  [ \fIcommand\fP ... ]
***************
*** 45,58 ****
  with the \-\fBD\fP, \-\fBC\fP or \-\fBT\fP flags.
  .TP
  \-\fBD\fP
! controls default completion behavior for commands not assigned any
! special behavior.  Without this command, filenames are completed.
  .TP
  \-\fBC\fP
! controls completion when there is no current command, in other words
! when the command word itself is being completed.  Without this command,
! the names of any executable command (whether in the path or specific to
! the shell, such as aliases or functions) are completed.
  .TP
  \-\fBT\fP
  supplies completion flags to be used before any other processing is
--- 46,60 ----
  with the \-\fBD\fP, \-\fBC\fP or \-\fBT\fP flags.
  .TP
  \-\fBD\fP
! controls default completion behavior for the arguments of commands not
! assigned any special behavior.  If no \fBcompctl \-D\fP command has
! been issued, filenames are completed.
  .TP
  \-\fBC\fP
! controls completion when the command word itself is being completed.
! If no \fBcompctl \-C\fP command has been issued,  the names of any
! executable command (whether in the path or specific to the shell, such
! as aliases or functions) are completed.
  .TP
  \-\fBT\fP
  supplies completion flags to be used before any other processing is
***************
*** 86,93 ****
  .PP
  If the + flag is alone and followed immediately by the \fIcommand\fP list,
  the completion behavior for all the commands in the list is reset to
! its default by deleting the command from the list of those handled
! specially.
  .SH "OPTION FLAGS"
  [ \-\fBfcFBdeaRGovNAIOPZEnbjrzu\fP ]
  .br
--- 88,95 ----
  .PP
  If the + flag is alone and followed immediately by the \fIcommand\fP list,
  the completion behavior for all the commands in the list is reset to
! the default.  In other words, completion will subsequently use the
! options specified by the \-\fBD\fP flag.
  .SH "OPTION FLAGS"
  [ \-\fBfcFBdeaRGovNAIOPZEnbjrzu\fP ]
  .br
***************
*** 253,259 ****
  the empty string all words are taken (as with `\fB*\fP').  A typical
  use is
  .nf
!     compctl -D -f + -H 0 '' -X '(No file found; using history)'
  .fi
  which forces completion to look back in the history list for a word if
  no filename matches.  The explanation string is useful as it tells
--- 255,262 ----
  the empty string all words are taken (as with `\fB*\fP').  A typical
  use is
  .nf
!     compctl -D -f + -H 0 '' \e
!     -X '(No file found; using history)'
  .fi
  which forces completion to look back in the history list for a word if
  no filename matches.  The explanation string is useful as it tells
***************
*** 267,279 ****
  .RS
  .TP
  \-\fBQ\fP
! It instructs the shell not to quote any metacharacters in the possible
! completions.  This allows, for example, a completion array (\-\fBk\fP)
! to complete to a backquoted expression without actually executing
! the backquoted command until the entire command is finally executed.
! Normally metacharacters are automatically quoted, so that user-defined
! completions don't need to do the required quoting, which would be
! difficult to get right anyway, especially when completing inside quotes.
  .TP
  \-\fBP\fP \fIprefix\fP
  The \fIprefix\fP is inserted just before the completed string; any
--- 270,283 ----
  .RS
  .TP
  \-\fBQ\fP
! This instructs the shell not to quote any metacharacters in the possible
! completions.  Normally the results of a completion are inserted into
! the command line with any metacharacters quoted so that they are
! interpreted as normal characters.  This is appropriate for filenames
! and ordinary strings.  However, for special effects, such as inserting
! a backquoted expression from a completion array (\-\fBk\fP) so that
! the expression will not be evaluated until the complete line is
! executed, this option must be used.
  .TP
  \-\fBP\fP \fIprefix\fP
  The \fIprefix\fP is inserted just before the completed string; any
***************
*** 291,300 ****
  list of completions by repeatedly hitting the same key.
  .TP
  \-\fBq\fP
! If used with the previous option (the \-\fBS\fP flag) it causes the
! suffix to be removed if the next character typed is a blank or does
! not insert anything; this is the same rule as used for the
! \fBAUTO_REMOVE_SLASH\fP option.  This is most useful for list
  separators (comma, colon, etc.).
  .TP
  \-\fBl\fP \fIcmd\fP
--- 295,304 ----
  list of completions by repeatedly hitting the same key.
  .TP
  \-\fBq\fP
! If used with a suffix as specified by the previous option, this
! causes the suffix to be removed if the next character typed is a blank
! or does not insert anything (the same rule as used for the
! \fBAUTO_REMOVE_SLASH\fP option).  The option is most useful for list
  separators (comma, colon, etc.).
  .TP
  \-\fBl\fP \fIcmd\fP
***************
*** 318,328 ****
  \-\fBU\fP
  Use the whole list of possible completions, whether or not they
  actually match the word on the command line.  The word typed so far
! will be deleted.  This is most useful with a function (the \-\fBK\fP
! option) which can examine the word components passed to it (or via
! the \fBread\fP builtin's \-\fBc\fP and \-\fBl\fP flags) and use its
! own criteria to decide what matches.  If there is no completion, the
! original word is retained.
  .TP
  \-\fBX\fP \fIexplanation\fP
  Print \fIexplanation\fP when trying completion on the current set of
--- 322,332 ----
  \-\fBU\fP
  Use the whole list of possible completions, whether or not they
  actually match the word on the command line.  The word typed so far
! will be deleted.  This is most useful with a function (given by the
! \-\fBK\fP option) which can examine the word components passed to it
! (or via the \fBread\fP builtin's \-\fBc\fP and \-\fBl\fP flags) and
! use its own criteria to decide what matches.  If there is no
! completion, the original word is retained.
  .TP
  \-\fBX\fP \fIexplanation\fP
  Print \fIexplanation\fP when trying completion on the current set of
***************
*** 377,383 ****
  .TP
  .PD 0
  \fBs\fP[\fIstring\fP] ...
! The pattern matches if the current word on the command line starts with
  one of the strings given in brackets.  The \fIstring\fP is not removed
  and is not part of the completion.
  .TP
--- 381,387 ----
  .TP
  .PD 0
  \fBs\fP[\fIstring\fP] ...
! Matches if the current word on the command line starts with
  one of the strings given in brackets.  The \fIstring\fP is not removed
  and is not part of the completion.
  .TP
***************
*** 386,399 ****
  completion.
  .TP
  \fBp\fP[\fIfrom\fP,\fIto\fP] ...
! The pattern matches if the number of the current word is between one of
  the \fIfrom\fP and \fIto\fP pairs inclusive. The comma and \fIto\fP
  are optional;  \fIto\fP defaults to the same value as \fIfrom\fP. The
  numbers may be negative: \fI\-n\fP refers to the \fIn\fP'th last word
  on the line.
  .TP
  \fBc\fP[\fIoffset\fP,\fIstring\fP] ...
! The pattern matches if the \fIstring\fP matches the word offset by
  \fIoffset\fP from the current word position.  Usually \fIoffset\fP
  will be negative.
  .TP
--- 390,403 ----
  completion.
  .TP
  \fBp\fP[\fIfrom\fP,\fIto\fP] ...
! Matches if the number of the current word is between one of
  the \fIfrom\fP and \fIto\fP pairs inclusive. The comma and \fIto\fP
  are optional;  \fIto\fP defaults to the same value as \fIfrom\fP. The
  numbers may be negative: \fI\-n\fP refers to the \fIn\fP'th last word
  on the line.
  .TP
  \fBc\fP[\fIoffset\fP,\fIstring\fP] ...
! Matches if the \fIstring\fP matches the word offset by
  \fIoffset\fP from the current word position.  Usually \fIoffset\fP
  will be negative.
  .TP
***************
*** 401,407 ****
  Like \fBc\fP but using pattern matching instead.
  .TP
  \fBw\fP[\fIindex\fP,\fIstring\fP] ...
! The pattern matches if the word in position \fIindex\fP is equal
  to the corresponding \fIstring\fP.  Note that the word count is made
  after any alias expansion.
  .TP
--- 405,411 ----
  Like \fBc\fP but using pattern matching instead.
  .TP
  \fBw\fP[\fIindex\fP,\fIstring\fP] ...
! Matches if the word in position \fIindex\fP is equal
  to the corresponding \fIstring\fP.  Note that the word count is made
  after any alias expansion.
  .TP

-- 
Peter Stephenson <pws@ifh.de>       Tel: +49 33762 77366
WWW:  http://www.ifh.de/~pws/       Fax: +49 33762 77330
Deutches Electronen-Synchrotron --- Institut fuer Hochenergiephysik Zeuthen
DESY-IfH, 15735 Zeuthen, Germany.


