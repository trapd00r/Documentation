From zsh-workers-return-17647-mason-zsh=primenet.com.au@sunsite.dk Wed Sep 11 13:05:52 2002
Return-Path: <zsh-workers-return-17647-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1626 invoked from network); 11 Sep 2002 13:05:51 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 11 Sep 2002 13:05:51 -0000
Received: (qmail 14307 invoked by alias); 11 Sep 2002 13:05:44 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 17647
Received: (qmail 14295 invoked from network); 11 Sep 2002 13:05:43 -0000
Date: Wed, 11 Sep 2002 15:14:38 +0200
From: DervishD <raul@pleyades.net>
Organization: Pleyades
Reply-To: DervishD <raul@pleyades.net>
To: f_rosencrantz@yahoo.com, zsh-workers@sunsite.dk,
 schaefer@brasslantern.com
Subject: Re: adding mkdir to _store_cache
Message-ID: <3D7F41BE.mail11111MJM9@pleyades.net>
References: <20020911101647.89808.qmail@web10406.mail.yahoo.com>
In-Reply-To: <20020911101647.89808.qmail@web10406.mail.yahoo.com>
User-Agent: nail 9.31 6/18/02
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
Sender: DervishD <raul@pleyades.net>
X-Mailer: DervishD TWiSTiNG Mailer

    Hi Felix :)

>> "mkdir -p" is not universally supported.
>I thought modern versions of *nix had the "-p" flag.

    The Single Unix Specification v3 specify it, and GNU fileutils
(version 4.1, which is what I have) supports it.

>Is there something that is portable?

    Well, you can use parameter expansion and use the '##' and '%%'
expansions for getting each component of the path and make
directories simulating '-p', but IMHO it doesn't worth the effort.

>Basically that code was copied from the existing code, we already
>do a "-p" to create the cache directory if it doesn't exist.  
>So that needs to be fixed also.

    Autoconf uses '-p' too, if I remember well :? Anyway, if you want
to make something portable, you must assume that you cannot do it
*universally* portable. Just make it portable among 'current
practice unixes'. IMHO it doesn't make sense to make a thing work for
a couple of systems in a difficult way just for not using a feature
that the rest 98% systems have O:))
 
    Raúl

