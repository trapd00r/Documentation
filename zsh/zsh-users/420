From zsh-workers-request@euclid.skiles.gatech.edu  Tue Sep 24 06:06:24 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by coral.primenet.com.au (8.7.5/8.7.3) with ESMTP id GAA01581 for <mason@primenet.com.au>; Tue, 24 Sep 1996 06:06:22 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id PAA15154; Mon, 23 Sep 1996 15:51:51 -0400 (EDT)
Resent-Date: Mon, 23 Sep 1996 15:41:59 -0400 (EDT)
From: shr@s3.com (Scott RoLanD)
Message-Id: <9609231937.AA13601@s3>
Subject: script execute problem
To: zsh-users@math.gatech.edu
Date: Mon, 23 Sep 1996 12:37:25 -0700 (PDT)
X-Mailer: ELM [version 2.4 PL24]
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"0vYFi2.0.uc3.7WkHo"@euclid>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/420
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

The following fails on my 'SunOS cleo 4.1.4 1 sun4m' but works on
'SunOS visionz 5.5 Generic sun4u sparc SUNW,Ultra-1'

To access SunSolve you have to be registered from a SunService
account. Could you please pursue the following problem, or enable me
to?

I wrote a simple (but amazingly popular) script called demand:
	#!/nfs/casper/usr1/public/zsh -f
	echo $*
	until ($*)
	do
	done

The above runs fine, but when I change the first line to:
	#!/nfs/casper/usr1/public/foo/zsh -f
it doesn't work, instead I get the following error:
>demand dc_shell
zsh: command not found: demand
zsh: 11667 exit 1     demand dc_shell

But I can start a new shell with:
	/nfs/casper/usr1/public/foo/zsh


So let's take a look at these:

----
>ls -l /nfs/casper/usr1/public/zsh

lrwxrwxrwx   1 shr      unxtools       57 Sep 23 11:48
/nfs/casper/usr1/public/zsh ->
/nfs/casper/usr1/public/external/export/sun-sunos/bin/zsh

----
>ls -l /nfs/casper/usr1/public/foo/zsh

lrwxrwxrwx   1 shr      unxtools       57 Sep 23 11:42
/nfs/casper/usr1/public/foo/zsh ->
/nfs/casper/usr1/public/external/export/sun-sunos/bin/zsh

----
>ls -l /nfs/casper/usr1/public/external/export/sun-sunos/bin/zsh

lrwxrwxrwx   1 shr      staff          48 Sep 20 00:31
/nfs/casper/usr1/public/external/export/sun-sunos/bin/zsh ->
../../../tools/zsh-3.0.0.encap/sun-sunos/bin/zsh

----
>ls -l /nfs/casper/usr1/public/external/export/sun-sunos/bin/../../../tools/zsh-3.0.0.encap/sun-sunos/bin/zsh

-rwxr-xr-x   2 shr      staff      499712 Sep 21 21:28
/nfs/casper/usr1/public/external/export/sun-sunos/bin/../../../tools/zsh-3.0.0.encap/sun-sunos/bin/zsh

----
>ls -ld /nfs/casper/usr1/public

drwxrwsr-t   6 root     unxtools      512 Sep 23 11:48 /nfs/casper/usr1/public/

----
>ls -ld /nfs/casper/usr1/public/foo

drwxr-xr-x   2 shr      unxtools      512 Sep 23 11:42 /nfs/casper/usr1/public/foo/


Okay, so I get a little carried away with the links and long path
names... But what problem am I seeing here. I tried the above running
from zsh 3.0.0-gjb (that's 3.0.0 + gjb's patches for color and
POSTPROMPT) and csh with the same results. The final exec is also zsh
3.0.0-gjb, but even when I changed the last link to point to zsh-3.0.0
it had the same problems.

Thanks,
shr

PS I still can't receive mail from vivan. And where is vivan in the
hosts-table anyways? It's not in /nfs/becky/etc/hosts or
/nfs/casper/etc/hosts...

