From zsh-workers-return-6842-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Jun 25 08:07:39 1999
Return-Path: <zsh-workers-return-6842-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 6853 invoked from network); 25 Jun 1999 08:07:37 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 25 Jun 1999 08:07:37 -0000
Received: (qmail 3226 invoked by alias); 25 Jun 1999 08:07:24 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 6842
Received: (qmail 3219 invoked from network); 25 Jun 1999 08:07:22 -0000
Message-Id: <9906250738.AA29632@ibmth.df.unipi.it>
To: "ZSH workers mailing list" <zsh-workers@sunsite.auc.dk>
Subject: Re: Problem with autoloading completion functions 
In-Reply-To: ""Andrej Borsenkow""'s message of "Thu, 24 Jun 1999 20:57:27 DFT."
             <006401bebe62$a37dddc0$21c9ca95@mow.siemens.ru> 
Date: Fri, 25 Jun 1999 09:38:32 +0200
From: Peter Stephenson <pws@ibmth.df.unipi.it>

"Andrej Borsenkow" wrote:
> I was afraid it happens sometimes ...
> 
> I had this 'autoload $^fpath/*(N:t)' in my .zshrc ... and all worked nice and
> fine ... until I suddenly found that subscript does not work as expected.
> 
> bor@itsrm2:~%> zsh -f
> itsrm2% bindkey -e
> itsrm2% source /tools/share/zsh/functions/compinit
> itsrm2% autoload $^fpath/*(N:t)
> itsrm2% zmodload parameter
> itsrm2% print $parameters[ksh<TAB>
> beeps

You don't mean to use $options?  You really do have a *parameter* beginning
ksh?

I don't see how the extra autoload could have an effect, since Bart has
arranged that `autoload -U foo' followed by `autoload foo' keeps the -U
flag.  That's the only possible change (apart from altering fpath, of
course) that could make a difference.  But if you can find out what's going
on, it's probably a bug.  Try diff'ing `which _subscript' output with and
without the extra autoload.

-- 
Peter Stephenson <pws@ibmth.df.unipi.it>       Tel: +39 050 844536
WWW:  http://www.ifh.de/~pws/
Dipartimento di Fisica, Via Buonarroti 2, 56127 Pisa, Italy

