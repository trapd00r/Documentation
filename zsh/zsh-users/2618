From zsh-users-return-2618-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Sep 27 12:18:04 1999
Return-Path: <zsh-users-return-2618-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 16432 invoked from network); 27 Sep 1999 12:18:03 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 27 Sep 1999 12:18:03 -0000
Received: (qmail 14046 invoked by alias); 27 Sep 1999 12:11:16 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 2618
Received: (qmail 14036 invoked from network); 27 Sep 1999 12:11:15 -0000
Date: Mon, 27 Sep 1999 10:51:03 +0200
From: Hubert Canon <Hubert.Canon@irisa.fr>
To: zsh-users@sunsite.auc.dk
Subject: cd, pwd and symlinks
Message-ID: <19990927105103.A21392@youkaidi.irisa.fr>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 0.95.7us

Hi,

I have strange behaviours with symlinks to directories.

youkaidi ~ % echo $PROMPT
%B%m %~ %#%b 
youkaidi ~ % mkdir foo
youkaidi ~ % mkdir foo/bar
youkaidi ~ % md bar
youkaidi ~ % cd bar
youkaidi ~/bar % ln -s ../foo/bar foo
youkaidi ~/bar % cd foo
youkaidi ~/bar/foo % ls ..
bar
youkaidi ~/bar/foo % pwd
/udd/canon/foo/bar
youkaidi ~/bar/foo % /bin/pwd
/udd/canon/foo/bar
youkaidi ~/bar/foo % cd ..
youkaidi ~/bar % 



when I type `cd ../' followed with TAB, I get the expansion `cd ../bar'
and if I hit ENTER, I get :

youkaidi ~/bar/foo % cd ../bar 
cd: no such file or directory: ../bar

I have no problem with that :

youkaidi ~/bar/foo % cd ..
youkaidi ~/bar % 

But I would like a way to do something like that :

youkaidi ~/bar/foo % cd ./..     
youkaidi ~/foo % 

instead of `youkaidi ~/bar % ', that is going the directory given by
/bin/pwd, i.e. the directory without any symlinks, the same that is
used for the ls command and the completion system.



