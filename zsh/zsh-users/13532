From zsh-users-return-13532-mason-zsh=primenet.com.au@sunsite.dk Thu Dec 04 21:45:04 2008
Return-Path: <zsh-users-return-13532-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 14700 invoked from network); 4 Dec 2008 21:45:01 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 4 Dec 2008 21:45:01 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 9931 invoked from network); 4 Dec 2008 21:44:49 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 4 Dec 2008 21:44:49 -0000
Received: (qmail 26323 invoked by alias); 4 Dec 2008 21:44:34 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 13532
Received: (qmail 26311 invoked from network); 4 Dec 2008 21:44:33 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 4 Dec 2008 21:44:33 -0000
Received: from mail-qy0-f21.google.com (mail-qy0-f21.google.com [209.85.221.21])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 7262780308BE
	for <zsh-users@sunsite.dk>; Thu,  4 Dec 2008 22:44:29 +0100 (CET)
Received: by qyk14 with SMTP id 14so5050336qyk.21
        for <zsh-users@sunsite.dk>; Thu, 04 Dec 2008 13:44:24 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:cc:message-id:from:to
         :in-reply-to:content-type:content-transfer-encoding:mime-version
         :subject:date:references:x-mailer;
        bh=IVhoDG3S+rmuaSheqwm/vobxqGUPLFwHh0W2Qcl23x0=;
        b=fKJOfaQQrZbHWBHsAktlyt563K5CLq2dfGd6r0RIv79rKrPYVfXe5tTTkD7Ze4raWv
         RW269hQw3D8fp6y93/64mL9Kr0FFhZKZ9PiJf2kO3CqhsAweMXUAQ/BN8NMrDbX0gMWM
         bsb9JlSZBZou/kqcBDNl1J7ZZP4aEFqDJ4Nk0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=cc:message-id:from:to:in-reply-to:content-type
         :content-transfer-encoding:mime-version:subject:date:references
         :x-mailer;
        b=U9K8VZkVwNJN29MH3V8QUocbwan0XUtbanJvlBgAWN1ya3Uof87OX3Rn5CvZ8t1sPa
         Am5I58xAA1DKbSfDPWRA/RE94ivAF43d3cpzRF/RYSEosfCVpKsTYidlCPIlTk06aS8C
         VbCHJhnfw3nRYzo9vAZX1hKgQay+pfzuMGAu0=
Received: by 10.214.244.12 with SMTP id r12mr15607078qah.126.1228427064791;
        Thu, 04 Dec 2008 13:44:24 -0800 (PST)
Received: from ?10.1.0.28? ([204.107.76.235])
        by mx.google.com with ESMTPS id 6sm7803634ywn.0.2008.12.04.13.44.22
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Thu, 04 Dec 2008 13:44:24 -0800 (PST)
Cc: zsh-users@sunsite.dk
Message-Id: <E23E8111-24C1-40AF-957C-38FCDEC3FAC8@gmail.com>
From: Michael Hernandez <sequethin@gmail.com>
To: Thorsten Kampe <thorsten@thorstenkampe.de>
In-Reply-To: <gh9i8d$ano$3@ger.gmane.org>
Content-Type: text/plain; charset=US-ASCII; format=flowed; delsp=yes
Content-Transfer-Encoding: 7bit
Mime-Version: 1.0 (Apple Message framework v929.2)
Subject: Re: Suppressing failed glob patterns
Date: Thu, 4 Dec 2008 16:44:21 -0500
References: <gh9g43$rt5$1@ger.gmane.org> <0F9002B9-8319-47A6-9517-4AD88B3A83E5@gmail.com> <gh9i8d$ano$3@ger.gmane.org>
X-Mailer: Apple Mail (2.929.2)
X-Virus-Scanned: ClamAV 0.92.1/8721/Thu Dec  4 14:26:10 2008 on bifrost
X-Virus-Status: Clean


On Dec 4, 2008, at 4:32 PM, Thorsten Kampe wrote:

> * Michael Hernandez (Thu, 4 Dec 2008 16:26:37 -0500)>
>> On Dec 4, 2008, at 3:55 PM, Thorsten Kampe wrote:
>>> I like the default in zsh for failed glob patterns (which errors
>>> when no
>>> file matches the pattern).
>>>
>>> For example:
>>> % rm file1.* file2.*
>>> zsh: no matches found: file1.*
>>>
>>> zsh never executes rm (which is fine). Additionially I would like to
>>> get
>>> rid of the error message in a script. Unfortunately redirecting  
>>> stderr
>>> does not work (because rm is never executed). Is there a way to keep
>>> the
>>> default and to suppress the error?!
>>>
>>> Thorsten
>>>
>>
>>
>> I replied but didn't read carefully enough the first time, I see you
>> want to keep your default value, so maybe you don't want to setopt
>> no_nomatch. If this is the case you could start the function that
>> calls the rm command with:
>>
>> setopt local_options no_nomatch
>
> Yes, that's what I've been using until now. The problem is that I  
> don't
> know what a program that expects an argument will do if it receives no
> argument. It might simply print help or await input from stdin. So the
> default is for me exactly the best. Only the zsh's error is a kind  
> of a
> cosmetic problem in script (while interactively it's of course what I
> want).
>
> Thorsten
>

Actually with no_nomatch set an argument is passed. See below:

setopt no_nomatch
rm fake*
rm: fake*: No such file or directory

See, the argument is passed but the * is passed as a literal * not as  
a pattern.

--Mike H

