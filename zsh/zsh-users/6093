From zsh-users-return-6093-mason-zsh=primenet.com.au@sunsite.dk Fri May 09 08:03:37 2003
Return-Path: <zsh-users-return-6093-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 23137 invoked from network); 9 May 2003 08:03:36 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 9 May 2003 08:03:36 -0000
Received: (qmail 22330 invoked by alias); 9 May 2003 08:03:18 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 6093
Received: (qmail 22322 invoked from network); 9 May 2003 08:03:17 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 9 May 2003 08:03:17 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [138.190.3.49] by sunsite.dk (MessageWall 1.0.8) with SMTP; 9 May 2003 8:3:17 -0000
Received: from sbe2173.corproot.net (138.190.70.55) by sbe3778.swissptt.ch (MX
          V5.3 AnHp) with SMTP for <zsh-users@sunsite.dk>;
          Fri, 9 May 2003 10:03:16 +0200
Received: from sxmbx02.corproot.net ([138.190.70.161]) by sxsmtp01.corproot.net
          with Microsoft SMTPSVC(5.0.2195.5329); Fri, 9 May 2003 10:02:46 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: command-line editing speed
Date: Fri, 9 May 2003 10:02:46 +0200
Message-ID: <CEEB35929492F3448EA03D09959D180301CCB21F@sxmbx02.corproot.net>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: command-line editing speed
Thread-Index: AcMVkih/sm1uXsrOQQKe1woTPgufowAY9LVA
From: <Norman.Azadian@swisscom.com>
To: <zsh-users@sunsite.dk>
X-OriginalArrivalTime: 09 May 2003 08:02:46.0964 (UTC)
                       FILETIME=[60B32F40:01C31601]

I don't think the problem has anything to do with the repeat rate.
Testing with ksh I always get the performance that I expect.  The
problem is that, even on a machine with load average 0.02, when I lean
on the h or l key to move the cursor quickly, nothing happens for a
while and then it jumps 20 or 30 characters.

NHA
---
Norman.Azadian@Swisscom.com	+41 31 342 8129
MC-TO-MIT-SWM-TSW			Swisscom Mobile AG

-----Original Message-----
From: Bart Schaefer [mailto:schaefer@brasslantern.com]=20
Sent: Donnerstag, 8. Mai 2003 20:46
To: zsh-users@sunsite.dk
Subject: Re: command-line editing speed


On May 8, 12:11pm, <Norman.Azadian@swisscom.com> wrote:
}=20
} I'm running version 3.1.5 ($-=3D3567HRXZhiklms)  on a relatively
powerful } HP machine.  Recently we've been noticing that command-line
editing } seems to have become much slower.

For quite some time now I've been noticing that my keyboard "driver"
loses its key-repeat-rate setting.  That is, have to use the console
"kbdrate" command to restore it, it has nothing to do with the X11 key
repeat setting.  This doesn't happen in any regular way that I can track
down, and I sometimes go for weeks without it happening at all.

However, your problem is more likely related to something else I've
noticed:  ioctl()/stty doesn't always report the right simulated "baud
rate" for X terminal emulators.  ZLE adjusts its display behavior based
on the reported baud rate.  I've had to put code into my .zshrc to force
the BAUD variable to have a reasonable setting regardless of what stty
claimed it to be.

