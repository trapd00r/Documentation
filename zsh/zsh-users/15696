From zsh-users-return-15696-mason-zsh=primenet.com.au@zsh.org Sat Jan 08 07:10:57 2011
Return-Path: <zsh-users-return-15696-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 20585 invoked by alias); 8 Jan 2011 07:10:57 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 15696
Received: (qmail 7350 invoked from network); 8 Jan 2011 07:10:55 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.9 required=5.0 tests=BAYES_00,RCVD_IN_DNSWL_NONE
	autolearn=ham version=3.3.1
Received-SPF: none (ns1.primenet.com.au: domain at closedmail.com does not designate permitted sender hosts)
From: Bart Schaefer <schaefer@brasslantern.com>
Message-id: <110107231048.ZM919@torch.brasslantern.com>
Date: Fri, 07 Jan 2011 23:10:48 -0800
In-reply-to: <20110107233459.GA29168@spiegl.de>
Comments: In reply to Andy Spiegl <zsh.Andy@spiegl.de>
 "Re: filename completion with umlauts (again)" (Jan  8, 12:35am)
References: <20110106232712.GA11387@spiegl.de>
	<AANLkTik9unZtuPR-4CM2oKLRT9Soct-XFWmiEajQzbK9@mail.gmail.com>
	<20110107094419.141d8d67@pwslap01u.europe.root.pri>
	<20110107233459.GA29168@spiegl.de>
X-Mailer: OpenZMail Classic (0.9.2 24April2005)
To: zsh-users@zsh.org
Subject: Re: filename completion with umlauts (again)
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii

On Jan 8, 12:35am, Andy Spiegl wrote:
}
} Uhm, too bad.  I am wondering whether case insensitivity in the
} matcher could be achieved with a different trick?

As I understand it, the problem isn't case insensitivity.  The problem
is (a) representing each set of characters in a managable syntax and
(b) efficiently constructing a mapping between the two sets.

This is a tractable problem for single byte characters because there
is a single fixed ordering and no more than 256 values in each set; for
multibyte characters, not only is the number of values much larger,
but also the user-expected collating order is not always the same as
the numeric order of the underlying encoding.

(And now I fully expect someone to point out that I've got that entirely
wrong and the trouble really is something else.)

} But no, I guess case insensitivity is a lot more complex, right?

If all you want is bidirectional case insensitivity, you might be
able to construct a completer based on _approximate that inserts a
(#i) into the value of PREFIX in the way _approximate does for (#a).
Then add that completer to your completers zstyle.

This is considerably less powerful than what matcher-list does.

