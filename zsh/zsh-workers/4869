From zsh-workers-request@math.gatech.edu Wed Dec 30 07:05:41 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8184 invoked from network); 30 Dec 1998 07:05:39 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 30 Dec 1998 07:05:39 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.9.1/8.9.1) id CAA09110;
	Wed, 30 Dec 1998 02:04:16 -0500 (EST)
Resent-Date: Wed, 30 Dec 1998 02:04:16 -0500 (EST)
Message-Id: <B0001133321@bell04.its.wmc.com.au>
From: Bousfield Peter <Peter.Bousfield@wmc.com.au>
To: "'zsh-workers@math.gatech.edu'" <zsh-workers@math.gatech.edu>
Subject: date bug in zsh 3.0.5
Date: Wed, 30 Dec 1998 14:59:14 +0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.0.1460.8)
Content-Type: text/plain
Resent-Message-ID: <"HIoyI.0.HE2.l1TYs"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/4869
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Hello,

The %W prompt variable does not seem to work correctly in zsh 3.0.5

We are running solaris 2.6 and have zsh 3.0.5.
Setting your prompt to %W, and then setting the date to after 1/1/2000 gives
incorrect output. eg:

Sun Microsystems Inc.   SunOS 5.6       Generic August 1997
[1] bousfipd@y2ktest1.y2k-sol:/ % sudo date 123123591999
Password:
Friday December 31 23:59:00 WST 1999
[2] bousfipd@y2ktest1.y2k-sol:/ % date
Friday December 31 23:59:03 WST 1999
[3] bousfipd@y2ktest1.y2k-sol:/ % export prompt=%W
12/31/99date
Friday December 31 23:59:12 WST 1999
12/31/99date
Saturday January  1 00:00:04 WST 2000
01/01/:0


The century is display as :0 not 00!

Thankyou for your time.

peter bousfield

