From zsh-workers-return-18543-mason-zsh=primenet.com.au@sunsite.dk Sat May 17 03:53:34 2003
Return-Path: <zsh-workers-return-18543-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 25321 invoked from network); 17 May 2003 03:53:33 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 17 May 2003 03:53:33 -0000
Received: (qmail 25338 invoked by alias); 17 May 2003 03:53:27 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 18543
Received: (qmail 25331 invoked from network); 17 May 2003 03:53:26 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 17 May 2003 03:53:26 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [216.136.130.98] by sunsite.dk (MessageWall 1.0.8) with SMTP; 17 May 2003 3:53:25 -0000
Message-ID: <20030517035324.8254.qmail@web10406.mail.yahoo.com>
Received: from [209.86.5.242] by web10406.mail.yahoo.com via HTTP; Fri, 16 May 2003 20:53:24 PDT
Date: Fri, 16 May 2003 20:53:24 -0700 (PDT)
From: Felix Rosencrantz <f_rosencrantz@yahoo.com>
Subject: result of latest memory leak run
To: zw <zsh-workers@sunsite.dk>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

I ran the latest cvs version of zsh with valgrind in my environment as my main
shell for a few days.    I was only able to find one memory leak, I believe
based on the recent fix for (l=() ; vared l):  
==21338== 520 bytes in 3 blocks are definitely lost in loss record 9 of 14
==21338==    at 0x401667E0: malloc (vg_clientfuncs.c:103)
==21338==    by 0x8086AF5: zalloc (mem.c:490)
==21338==    by 0x81008E9: zleread (zle_main.c:790)
==21338==    by 0x8101D07: bin_vared (zle_main.c:1149)
==21338==    by 0x804B2F5: execbuiltin (builtin.c:440)
==21338==    by 0x806193A: execcmd (exec.c:2345)
==21338==    by 0x805E24E: execpline2 (exec.c:1228)
==21338==    by 0x805D776: execpline (exec.c:1018)

I suspect folks could find other leaks or memory errors if they valgrind zsh in
their environments.

-FR.




__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

