From zsh-users-return-6714-mason-zsh=primenet.com.au@sunsite.dk Thu Oct 16 23:16:59 2003
Return-Path: <zsh-users-return-6714-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 28314 invoked from network); 16 Oct 2003 23:16:59 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 16 Oct 2003 23:16:59 -0000
Received: (qmail 21341 invoked by alias); 16 Oct 2003 23:16:42 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 6714
Received: (qmail 21299 invoked from network); 16 Oct 2003 23:16:42 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 16 Oct 2003 23:16:42 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [69.15.24.99] by sunsite.dk (MessageWall 1.0.8) with SMTP; 16 Oct 2003 23:16:41 -0000
Received: by DAL-EXCH1 with Internet Mail Service (5.5.2653.19)
	id <SWRD1Z1L>; Thu, 16 Oct 2003 18:10:05 -0500
Message-ID: <E1C964891306D6119CBE0008C79FB51A1C1F8A@DAL-EXCH1>
From: John Patoskie <JPatoskie@recursionsw.com>
To: "'zsh-users@sunsite.dk'" <zsh-users@sunsite.dk>
Subject: anyone got zsh 4.x working on Interix/SFU 3.0?
Date: Thu, 16 Oct 2003 18:10:04 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"

Trying to get zsh 4.0.6 to compile under Windows SFU 3.0/Interix using gcc.
Compile goes fine except it needed an XTABS entry and ./configure
--with-curses-terminfo.

Problem:

Globbing does not seem to work.  

>touch ab
>ls *b
zsh: no matches found: *

>touch \*b
>ls *b
*b

It appears that the "*" is not being treated as a glob character.  

I checked that setopt glob is set.  

>setopt

setopt autocd
setopt autopushd
setopt autoresume
setopt cdablevars
setopt correct
setopt correctall
setopt extendedglob
setopt globdots
setopt histignoredups
setopt longlistjobs
setopt mailwarning
setopt noautoparamslash
setopt nobgnice
setopt noclobber
setopt pushdminus
setopt pushdsilent
setopt pushdtohome
setopt rcquotes
setopt recexact

I don't see "setopt glob".  I do see "setopt extendedglob".  Is this
sufficient?  Running "setopt glob" does not make it show up in the list.

I can provide the complete output of reporter if necessary.

Searching the web/faqs, I found the following:

*** http://www.zsh.org/mla/workers/2001/msg01039.html ***
---------- text from link ------------
This is stupid, but have you tried doing `setopt
glob' before trying a pattern match on files?

Next, does

[[ foo = f* ]] && print "that worked"

work?  If not, it looks like pattern.c wasn't compiled properly.  In that
case, it may be some alignment problem.  You can probe a bit further by
doing

[[ foo = foo ]] && print "it worked that time"

since strings are optimised not to do full pattern matching.

---------- end text from link ------------

I am seeing what is described above at this link. 

[[ foo = f* ]] ...  fails
[[ foo = foo ]] ... works fine

Any suggestions?

- John


