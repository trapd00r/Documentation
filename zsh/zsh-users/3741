From zsh-users-return-3741-mason-zsh=primenet.com.au@sunsite.dk Sat Mar 24 19:33:05 2001
Return-Path: <zsh-users-return-3741-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 23085 invoked from network); 24 Mar 2001 19:33:04 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 24 Mar 2001 19:33:04 -0000
Received: (qmail 14235 invoked by alias); 24 Mar 2001 19:32:51 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 3741
Received: (qmail 14223 invoked from network); 24 Mar 2001 19:32:50 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <1010324193208.ZM29474@candle.brasslantern.com>
Date: Sat, 24 Mar 2001 19:32:08 +0000
In-Reply-To: =?iso-8859-1?Q?=3C20010323155648=2EA8040=40klingonska=2Eorg?=
 =?iso-8859-1?Q?=3E?=
 =?iso-8859-1?Q?Comments=3A_In_reply_to_Bj=F6rn_Lindstr=F6m_=3Cbkhl=40klin?=
 =?iso-8859-1?Q?gonska=2Eorg=3E?=
 =?iso-8859-1?Q?________=22Completion_list_question=22_=28Mar_23=2C__3=3A5?=
 =?iso-8859-1?Q?6pm=29?=
References: <20010323155648.A8040@klingonska.org> 
	<20010323164223.A511@piped.wasters>
In-Reply-To: <20010323164223.A511@piped.wasters>
Comments: In reply to Alisdair McDiarmid <alisdair@wasters.org>
        "Re: Completion list question" (Mar 23,  4:42pm)
X-Mailer: Z-Mail (5.0.0 30July97)
To: zsh-users@sunsite.auc.dk
Subject: Re: Completion list question
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

On Mar 23,  3:56pm, Bj=F6rn Lindstr=F6m wrote:
} Subject: Completion list question
}
} How do I make zsh-3.1.9 show the completion possibilities in the
} style of 'ls -F'? I want this instead of color on my BSD box to
} make it consistent with BSD ls.

This is still accomplished by `setopt list_types' just like it was with
old completion.  With new completion, though, it'll only work in cases
where zsh "knows" that what it's completing are file names, which depends=

on how the completion function called the `compadd' builtin.

(Really, this is true for old completion, too, but there aren't so many
ways using compctl to insert your own set of matching strings into the
list, so it's harder to forget to tell zsh what is a file.)

To turn off colors, make sure that the `list-colors' style is NOT set,
that you are NOT using "menu selection" (the `menu' style with a value
containing `select=3D...', nor the menu-select widget bound to a key, and=

probably several other things besides), and lastly that the zsh/complist
module is NOT loaded.

It's probably a bug (Sven?) that it's not possible to use menu selection
without getting color listings as well.

On Mar 23,  4:42pm, Alisdair McDiarmid wrote:
} Subject: Re: Completion list question
}
} On a similar note, how do I make zsh 3.1.9 show the completion
} possiblities in colour?

To begin with, your terminal type has to be one that supports color.  If
that's not a problem, then the quickest way is

    zmodload -i zsh/complist
    zstyle ':completion:*' list-colors ''

to use zsh's default colors (which are the same as GNU ls's defaults).
If you use the LS_COLORS environment variable to customize GNU ls, then
you probably want

    zstyle ':completion:*:default' list-colors ${(s.:.)LS_COLORS}

which is the example from the manual under the list-colors style.  See
therein for more information.

The caveats above about zsh needing to know what's a file and what is
not also apply to colored listings, but there are zstyles to get zsh to
color matches that aren't known to be files.  See the manual under the
list-colors style and the ZLS_COLORS parameter.

-- =

Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net  =
 =

