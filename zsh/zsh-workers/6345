From zsh-workers-return-6345-mason-zsh=primenet.com.au@sunsite.auc.dk Tue May 25 10:29:15 1999
Return-Path: <zsh-workers-return-6345-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 23212 invoked from network); 25 May 1999 10:29:14 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 25 May 1999 10:29:14 -0000
Received: (qmail 11371 invoked by alias); 25 May 1999 10:28:51 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 6345
Received: (qmail 11322 invoked from network); 25 May 1999 10:28:48 -0000
Message-Id: <9905251001.AA28774@ibmth.df.unipi.it>
To: zsh-workers@sunsite.auc.dk (Zsh hackers list)
Subject: PATCH: pws-19: another configure tweak
Date: Tue, 25 May 1999 12:01:10 +0200
From: Peter Stephenson <pws@ibmth.df.unipi.it>

This is necessary when the source and build trees don't coincide.

By the way, it looks like mapfile using mmap() doesn't write the file
properly on HPUX, probably the file doesn't get extended properly first.
I'll have to look at that.

Also, I'll be away for a few days from tomorrow until Monday.

--- configure.in.df	Tue May 25 11:58:25 1999
+++ configure.in	Tue May 25 11:49:09 1999
@@ -1281,7 +1281,8 @@
 
 CLEAN_MK="${srcdir}/Config/clean.mk"
 CONFIG_MK="${srcdir}/Config/config.mk"
-DEFS_MK="${srcdir}/Config/defs.mk"
+dnl defs.mk is in the build tree, not the source tree
+DEFS_MK="Config/defs.mk"
 VERSION_MK="${srcdir}/Config/version.mk"
 
 AC_SUBST_FILE(CLEAN_MK)dnl

-- 
Peter Stephenson <pws@ibmth.df.unipi.it>       Tel: +39 050 844536
WWW:  http://www.ifh.de/~pws/
Dipartimento di Fisica, Via Buonarroti 2, 56127 Pisa, Italy

