From zsh-workers-request@euclid.skiles.gatech.edu Fri May 09 09:29:57 1997
Return-Path: <zsh-workers-request@euclid.skiles.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 692 invoked from network); 9 May 1997 09:29:56 -0000
Received: from euclid.skiles.gatech.edu (root@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 9 May 1997 09:29:56 -0000
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id DAA29342; Fri, 9 May 1997 03:38:37 -0400 (EDT)
Resent-Date: Fri, 9 May 1997 03:38:37 -0400 (EDT)
From: Zoltan Hidvegi <hzoli@ny.frontiercomm.net>
Message-Id: <199705090742.DAA09847@hzoli.home>
Subject: test patches
To: zsh-workers@math.gatech.edu (Zsh hacking and development)
Date: Fri, 9 May 1997 03:42:03 -0400 (EDT)
X-Mailer: ELM [version 2.4ME+ PL31 (25)]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"r07Gd2.0.MA7.zHjSp"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3098
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

You can find patches for zsh-3.1.2-test1 and zsh-3.0.3-test5 on
ftp://ftp.cs.elte.hu/pub/zsh/testing/, in files

  45860 May  9 09:14 zsh-3.0.3-test5.diff.gz
 145337 May  9 09:09 zsh-3.1.2-test1.diff.sh.gz

zsh-3.1.2-test1.diff.sh.gz is a script which should be run in the zsh-3.1.1
top directory (you can use zsh <(zsh-3.1.2-test1.diff.sh.gz) to run the
script).

An interesting change is that commands like ((echo foo); echo bar) now work
(zsh used to think that this is an arithmetic expansion).

I have made an other change I'm not completely sure about.  I removed the
errflag = 1 assignment on interrupt of the foreground process from
printjob().  This is handled in update_job().  I do not understand why was
it there in printjob() (and from the deleted comments it seems that Peter
did not know it either).

This version of zsh now seems to run debian startup/shutdown scripts
without problems, but I haven't tried any dpkg runs yet.  Unfortunately
some Linux programs assume that /bin/sh has brace expansion so I'm thinking
about making ignorebraces off by default even in sh mode.  bash, ksh93 and
pdksh all do brace expansion by default.  The problem is that in zsh if
ignorebraces is not set, commands like `{foo' or `foo bar}' do not work.

Zoltan

