From zsh-workers-request@euclid.skiles.gatech.edu  Tue Sep 10 20:22:29 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by coral.primenet.com.au (8.7.5/8.7.3) with ESMTP id UAA04460 for <mason@primenet.com.au>; Tue, 10 Sep 1996 20:22:26 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id GAA29935; Tue, 10 Sep 1996 06:00:20 -0400 (EDT)
Resent-Date: Tue, 10 Sep 1996 06:00:20 -0400 (EDT)
Message-Id: <199609100944.LAA27789@hydra.ifh.de>
X-Authentication-Warning: hydra.ifh.de: Host pws@localhost didn't use HELO protocol
To: nik@pdi.com, zsh-workers@math.gatech.edu (Zsh hackers list)
Subject: Re: Config error with irix 5.3 
In-reply-to: "Nik Gervae"'s message of "Mon, 09 Sep 1996 22:10:04 MET."
             <9609100510.AA00271@kushua.sirius.com> 
Date: Tue, 10 Sep 1996 11:44:23 +0200
From: Peter Stephenson <pws@ifh.de>
Resent-Message-ID: <"k5hmI.0.fJ7.pmJDo"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/2117
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Nik Gervae wrote:
> Can anyone shed light on how to get zsh to build on irix 5.3? I haven't
> a clue how to fix the config script....
> 
> tankgirl:~/zsh-> ./configure
> loading cache ./config.cache
> configuring for zsh 3.0.0
> checking host system type... mips-sgi-irix5.3
> checking for gcc... gcc
> checking whether we are using GNU C... no
> checking how to run the C preprocessor... /lib/cpp
> checking for working const... no
> checking whether cross-compiling... yes
> checking for gcc option to accept ANSI C... no
> checking for function prototypes... no
> checking size of long... configure: error: can not run test program while cro
> ss
> compiling

I am using the latest zsh under irix 5.3 right now, so there's no
basic problem.  For starters, it looks like your gcc set up is
defective in some way, since it's found gcc and decided it isn't GNU
C, so you could try removing gcc from your path then reconfiguring.

However, it looks like it's worse than that since then configure tries
the usual tricks for the standard compiler (/lib/cpp) and then decides
it's cross compiling.  If it's any help, here's my corresponding
configure output without gcc in the path. cc is /usr/bin/cc.

creating cache ./config.cache
configuring for zsh 3.0.1-test
checking host system type... mips-sgi-irix5.3
checking for gcc... no
checking for cc... cc
checking whether we are using GNU C... no
checking how to run the C preprocessor... cc -E
checking for working const... yes
checking whether cross-compiling... no
checking for cc option to accept ANSI C... 
checking for function prototypes... yes
checking size of long... 4

-- 
Peter Stephenson <pws@ifh.de>       Tel: +49 33762 77366
WWW:  http://www.ifh.de/~pws/       Fax: +49 33762 77330
Deutches Electronen-Synchrotron --- Institut fuer Hochenergiephysik Zeuthen
DESY-IfH, 15735 Zeuthen, Germany.

