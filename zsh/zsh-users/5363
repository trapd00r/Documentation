From zsh-users-return-5363-mason-zsh=primenet.com.au@sunsite.dk Thu Sep 19 01:26:27 2002
Return-Path: <zsh-users-return-5363-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10613 invoked from network); 19 Sep 2002 01:26:26 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 19 Sep 2002 01:26:26 -0000
Received: (qmail 6335 invoked by alias); 19 Sep 2002 01:26:11 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 5363
Received: (qmail 6323 invoked from network); 19 Sep 2002 01:26:09 -0000
From: Paul Lew <paullew@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15753.10132.902112.47622@paullew-ultra.cisco.com>
Date: Wed, 18 Sep 2002 18:25:40 -0700
To: Clint Adams <clint@zsh.org>
Cc: zsh-users@sunsite.auc.dk
Subject: Re: Reduce forking overhead in precmd()
In-Reply-To: <20020918224754.GC22538@dman.com>
References: <15752.65212.28904.60591@paullew-ultra.cisco.com>
	<20020918224754.GC22538@dman.com>
X-Mailer: VM 7.07 under Emacs 21.2.1

>>>>> "Clint" == Clint Adams <clint@zsh.org> writes:

    Clint> You could do something like:

    Clint> [[ -n ${${(M)${$(cleartool catcs)}:#*time*}} ]] &&
    Clint> 	RPROMPT="%S f %s %$RPROMPT"

That works, however, it turns out that the weakiest link is the
'cleartool catcs' command and optimized out grep did not help much.

Now I have moved this section into periodic function and the result is
much better.  Thanks!!

