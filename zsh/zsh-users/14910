From zsh-users-return-14910-mason-zsh=primenet.com.au@zsh.org Thu Mar 11 09:54:15 2010
Return-Path: <zsh-users-return-14910-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 27157 invoked by alias); 11 Mar 2010 09:54:14 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 14910
Received: (qmail 6626 invoked from network); 11 Mar 2010 09:54:02 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received-SPF: none (ns1.primenet.com.au: domain at math.technion.ac.il does not designate permitted sender hosts)
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: AvsEAB9LmEuERHMG/2dsb2JhbACaWXO7YQKEeAQ
X-IronPort-AV: E=Sophos;i="4.49,619,1262556000"; 
   d="scan'208";a="228322232"
X-Authentication-Warning: fermat.math.technion.ac.il: nyh set sender to nyh@math.technion.ac.il using -f
Date: Thu, 11 Mar 2010 11:48:06 +0200
From: "Nadav Har'El" <nyh@math.technion.ac.il>
To: Radostan Riedel <riedel@chemie.uni-marburg.de>
Cc: zsh-users@zsh.org
Subject: Re: Undo Depth in ZLE
Message-ID: <20100311094806.GA5728@fermat.math.technion.ac.il>
References: <1268047123.5636.6.camel@raybuntu-laptop>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <1268047123.5636.6.camel@raybuntu-laptop>
User-Agent: Mutt/1.4.2.2i
Hebrew-Date: 25 Adar 5770

On Mon, Mar 08, 2010, Radostan Riedel wrote about "Re: Undo Depth in ZLE":
> Just try out :
> 
> > bindkey -M vicmd 'u' undo

Indeed, vi mode's "u" behaves like the the original BSD "vi" (and ksh),
where "u" only undoes one change (and repeating it redoes the change).

Personally, I would have liked the default to emulate not the old vi, but
rather vim, with which more people should be be familiar these days, and
its multi-level undo and redo.

To emulate vim's multi-level undo and redo, here is what I use in my .zshrc:

	bindkey -a u undo
	bindkey -a '^R' redo

By the way this overrides zsh's default mapping of ^R which is "redisplay".
What am I losing by doing this? (I didn't see "redisplay" does anything...)

Moreover, I also like to have undo in insert mode, especially to be able to
undo completions, so I also have:

	bindkey -v '^Z' undo
	bindkey -v '^R' redo


Nadav.

-- 
Nadav Har'El                        |      Thursday, Mar 11 2010, 25 Adar 5770
nyh@math.technion.ac.il             |-----------------------------------------
Phone +972-523-790466, ICQ 13349191 |Martin Luther King said "I have a dream",
http://nadav.harel.org.il           |not "I have a plan".

