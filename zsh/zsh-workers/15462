From zsh-workers-return-15462-mason-zsh=primenet.com.au@sunsite.dk Mon Jul 23 17:24:22 2001
Return-Path: <zsh-workers-return-15462-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 27613 invoked from network); 23 Jul 2001 17:24:21 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 23 Jul 2001 17:24:21 -0000
Received: (qmail 28652 invoked by alias); 23 Jul 2001 17:24:15 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 15462
Received: (qmail 28641 invoked from network); 23 Jul 2001 17:24:14 -0000
To: zsh-workers@sunsite.dk
Subject: A couple of problems with zsh 4.0.2
Message-Id: <E15OOIg-0001b0-00@DervishD>
Date: Sun, 22 Jul 2001 20:49:58 +0200
From: Raúl Núñez de Arenas Coronado <dervishd@jazzfree.com>
Reply-To: Raúl Núñez de Arenas Coronado <dervishd@jazzfree.com>
Sender: Raúl Núñez de Arenas Coronado <dervishd@jazzfree.com>
X-Mailer: DervishD TWiSTiNG Mailer

    Hi Andrej :)

>>     Well, I have a couple of suggestions about zsh since I've had
>> some little problems installing it. First of all, the file
>> Src/zshpaths.h, which is generated by the makefile, doesn't seem to
>> be updated when re-running configure with other directory options.
>Currently it depends on Makemod that is actually rebuilt only when some
>module gets added/removed (it depends on config.modules).

    Well, then that was the problem, since I didn't add/remove a
module. When you talk about 'module', do you refer to the dinamically
loadable parts of zsh or other thing? I don't get the point O:)

>I guess, it should depend on config.status as well. At least, this provides
>obvious workaround.

    I think that's a great idea. So everytime zsh is reconfigured,
those paths change :)

>>     The second problem is that I need to adapt zsh to our filesystem,
>> and I need to put the dinamic-loadable modules in the directory
>> $(prefix)/lib/zsh instead of $(prefix)/lib/zsh/$(VERSION)/zsh,
>                                                            ^^^
>the last zsh is part of module name, so installation directory is
>$prefix/lib/zsh/$VERSION

    Ok, I misunderstood that.

>I am not sure setting it to $prefix/lib would be a good choice,

    IS NOT a good choice at all... I didn't mean that dir, but
$prefix/lib/zsh. A typo, sorry O:)))

>So, it is better to keep them under common directory. Versioning allows
>several versions to coexist.

    Yes, I know, and that's a good strategy, but I would like to be
able to change that. It will be quite useful for me :)

>Why would oyu need to force particular location?

    Because one of my enterprise projects is a-kind-of-embedded-system
which has a very limited filesystem, and we want all apps under a
'short' hierarchy. Moreover, our sysadmin doesn't like deep
directories (he's strange, but we love him ;)))).

    Obviously the first reason is the important one ;))) We are going
with a patched version of zsh, but we would like to do this thru
configure.


>> module and so it can be removed, aren't they?
>Maybe, we could make it conditional on zsh name? (name it azsh for simple
>zsh :-)

    XDDD, nice name :))).

>I do not know if it possible to put zsh on a floppy. On my system (not a
>ix86 and with debugging):

    Don't worry, it fits. It barely fits on the root floppy, but
fits, which is the important here. We have removed 'ash' and keep
going with 'zsh' :)) Dammit, it's good ;)))

    Thanks a lot for being so accesible and so kind with my
suggestions. A good shell with a good workgroups. Who could ask for
more? :)))))))))))

    Raúl

