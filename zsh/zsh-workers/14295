From zsh-workers-return-14295-mason-zsh=primenet.com.au@sunsite.dk Thu May 10 09:16:50 2001
Return-Path: <zsh-workers-return-14295-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 28250 invoked from network); 10 May 2001 09:16:49 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 10 May 2001 09:16:49 -0000
Received: (qmail 15904 invoked by alias); 10 May 2001 09:16:44 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 14295
Received: (qmail 15891 invoked from network); 10 May 2001 09:16:43 -0000
To: zsh-workers@sunsite.dk
Subject: _cvs updates for cvs-1.11.1.
MIME-Version: 1.0 (generated by SEMI 1.14.0 - "Iburihashi")
Content-Type: text/plain; charset=US-ASCII
From: Tanaka Akira <akr@m17n.org>
Date: 10 May 2001 18:16:43 +0900
Message-ID: <hvoeltxlg1w.fsf@flux.etl.go.jp>
Lines: 75
User-Agent: T-gnus/6.14.5 (based on Gnus v5.8.7) (revision 08) SEMI/1.14.0 (Iburihashi) Deisui/1.14.0 (Kikuhime) APEL/10.2 Emacs/21.0.103 (i386-unknown-freebsd4.2) MULE/5.0 (SAKAKI)

This updates _cvs for cvs-1.11.1.

* The argument of `cvs admin -e' is optional since cvs-1.11.
* cvs-1.11.1 has new subcommands rannotate and rlog.

Index: Completion/Unix/Command/_cvs
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_cvs,v
retrieving revision 1.2
diff -u -r1.2 _cvs
--- Completion/Unix/Command/_cvs	2001/05/04 17:16:56	1.2
+++ Completion/Unix/Command/_cvs	2001/05/10 09:14:29
@@ -78,7 +78,7 @@
 
 (( $+functions[_cvs_admin] )) ||
 _cvs_admin () {
-  # "+ib::c:a:A:e:l::u::LUn:N:m:o:s:t::IqxV:k:"
+  # "+ib::c:a:A:e::l::u::LUn:N:m:o:s:t::IqxV:k:"
   _arguments -s \
     -{i,x} \
     '(-U)-L[set lock strict]' \
@@ -89,7 +89,7 @@
     '-c+:comment leader (not used):' \
     '-a+:login names (not work with CVS):' \
     '-A+:access list to append (not work with CVS):' \
-    '-e+:access list to erase (not work with CVS):' \
+    '-e-:access list to erase (not work with CVS):' \
     '-l-[lock]:revision to lock:' \
     '-u-[unlock]:revision to unlock:' \
     '-n+[name revision]:symbolic-name(\:revision):' \
@@ -124,6 +124,18 @@
     '*:file:_cvs_files'
 }
 
+(( $+functions[_cvs_rannotate] )) ||
+_cvs_rannotate () {
+  # "+lr:D:fR"
+  _arguments -s \
+    '(-R)-l[don'\''t recursive]' \
+    '-f[use head revision]' \
+    '(-l)-R[recursive]' \
+    '(-f -D)-r+[specify revision]:tag:_cvs_revisions' \
+    '(-f -r)-D+[specify date]:date:_cvs_D' \
+    '*:file:_cvs_modules'
+}
+
 (( $+functions[_cvs_checkout] )) ||
 _cvs_checkout () {
   # "+ANnk:d:flRpQqcsr:D:j:P"
@@ -387,6 +399,23 @@
     '-s+[specify states]:states:(Exp Stab Rel dead)' \
     '-w-[specify logins]:logins:' \
     '*:file:_cvs_files'
+}
+
+(( $+functions[_cvs_rlog] )) ||
+_cvs_rlog () {
+  # "+bd:hlNRr::s:tw::"
+  _arguments -s \
+    '-b[default branch]' \
+    '(-t)-h[header]' \
+    '(-R)-l[don'\''t recursive]' \
+    '(-l)-R[recursive]' \
+    '-N[don'\''t list tags]' \
+    '(-h)-t[header with descriptive text]' \
+    '-d+[specify dates]:dates:' \
+    '-r-[specify revisions]:revisions:' \
+    '-s+[specify states]:states:(Exp Stab Rel dead)' \
+    '-w-[specify logins]:logins:' \
+    '*:file:_cvs_modules'
 }
 
 (( $+functions[_cvs_login] )) ||
-- 
Tanaka Akira

