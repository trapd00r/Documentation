From zsh-workers-return-8072-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Sep 27 16:31:30 1999
Return-Path: <zsh-workers-return-8072-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 20571 invoked from network); 27 Sep 1999 16:31:28 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 27 Sep 1999 16:31:28 -0000
Received: (qmail 27857 invoked by alias); 27 Sep 1999 16:31:09 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 8072
Received: (qmail 27850 invoked from network); 27 Sep 1999 16:31:08 -0000
Message-Id: <9909271555.AA26657@ibmth.df.unipi.it>
To: zsh-workers@sunsite.auc.dk (Zsh hackers list)
Subject: Re: Allocation bug 
In-Reply-To: "Peter Stephenson"'s message of "Sun, 26 Sep 1999 19:03:20 DFT."
             <9909261703.AA16865@ibmth.df.unipi.it> 
Date: Mon, 27 Sep 1999 17:55:39 +0200
From: Peter Stephenson <pws@ibmth.df.unipi.it>

Peter Stephenson wrote:
> Talking of allocation, although this seems to be totally separate and to do
> with completion: with autoselection,
> 
> % print $MA<TAB>
> MACHTYPE     MAILDROP     MAILSERVER   mailpath     manpath                 
> MAILCHECK    MAILPATH     MANPATH      mailpref     mapfile                 
> 
> where MACHTYPE is highlighted.  Using down arrow gives me the message
> BUG: permanent allocation in prefork 

Well, domenuselect() is an alternative completion entry point to
docompletion(), so presumably HEAPALLOC needs to be set in the same way.
Indeed there are more of those pesky dupstruct()s around which must be
assuming it's already in effect.  So this should fix it.  Sorry about the
size:  all but two lines are simply indentation, but I'll `get wrong' if I
don't submit the whole thing.  Now, why didn't I see that message until
now?

I still can't help feeling we've taken a wrong turning with this allocation
business.  There should be some way of being more explicit about what to
use and yet flexible where necessary.

begin 644 ha.dif.gz
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
:5YGR8[^V5_9O?.,9S0F0VOLO1<Z41V@Z``"?
`
end

-- 
Peter Stephenson <pws@ibmth.df.unipi.it>       Tel: +39 050 844536
WWW:  http://www.ifh.de/~pws/
Dipartimento di Fisica, Via Buonarroti 2, 56127 Pisa, Italy

