From zsh-workers-return-13075-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Oct 24 15:16:10 2000
Return-Path: <zsh-workers-return-13075-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4558 invoked from network); 24 Oct 2000 15:16:09 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 24 Oct 2000 15:16:09 -0000
Received: (qmail 2860 invoked by alias); 24 Oct 2000 15:16:03 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 13075
Received: (qmail 2851 invoked from network); 24 Oct 2000 15:16:02 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <1001024151504.ZM12258@candle.brasslantern.com>
Date: Tue, 24 Oct 2000 15:15:04 +0000
In-Reply-To: <200010241500.LAA05877@soup.ql.org>
Comments: In reply to "E. Jay Berkenbilt" <ejb@ql.org>
        "Re: still confused about completion and matching" (Oct 24, 11:00am)
References: <200010240744.JAA21146@beta.informatik.hu-berlin.de> 
	<200010241500.LAA05877@soup.ql.org>
X-Mailer: Z-Mail (5.0.0 30July97)
To: "E. Jay Berkenbilt" <ejb@ql.org>
Subject: Re: still confused about completion and matching
Cc: zsh-workers@sunsite.auc.dk
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Oct 24, 11:00am, E. Jay Berkenbilt wrote:
}
} The most recent change to _match seems to cause it to revert to menu
} completion in many cases.  If I just completely remove lines 56 and 57
} (dealing with unambiguous_cursor) then all my test cases work just the
} way I want them to.  The only thing I lose is earlier expansion in
} some cases, but the result doesn't change the behavior or the amount
} of typing required.  I don't quite understand what the purpose of
} those two lines are.  I believe I understand what they literally mean,
} but I don't understand why the behavior is desirable.  Do they do
} something important in a case that is excluded by my style settings?
} What is the exact purpose of those lines?

Unless I'm mistaken about which lines you mean -- I don't have all the
patches applied, so I'm inferring line numbers by looking at the diff and
my own source file -- those lines implement the insert-unambiguous style:

insert-unambiguous
     This is used by the _match and _approximate completer functions,
     where the possible completions may not have a common prefix so
     that menu completion is often the most useful may of choosing
     completions.  If the style is set to `true', the completer will
     start menu completion only if no unambiguous string could be
     generated that is at least as long as the original string typed by
     the user.  Note that the _approximate completer uses it after
     setting the completer field in the context name to one of
     correct-NUM or approximate-NUM, where NUM is the number of errors
     that were accepted.

Do you have insert-unambiguous set to true?  If not, perhaps you should.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

