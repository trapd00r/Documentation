From zsh-workers-return-10429-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Apr 03 18:13:45 2000
Return-Path: <zsh-workers-return-10429-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4779 invoked from network); 3 Apr 2000 18:13:43 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 3 Apr 2000 18:13:43 -0000
Received: (qmail 7287 invoked by alias); 3 Apr 2000 18:13:35 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 10429
Received: (qmail 7278 invoked from network); 3 Apr 2000 18:13:34 -0000
Subject: Re: bug in FAQ section 1.7?
In-Reply-To: <20000403142912.D32194@thelonious.new.ox.ac.uk> from Adam Spiers
 at "Apr 3, 2000 02:29:12 pm"
To: Adam Spiers <adam@spiers.net>
Date: Mon, 3 Apr 2000 19:13:25 +0100 (BST)
CC: zsh workers mailing list <zsh-workers@sunsite.auc.dk>
X-Mailer: ELM [version 2.4ME+ PL66 (25)]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Message-Id: <E12cBLp-0008DJ-00@crucigera.fysh.org>
From: Zefram <zefram@fysh.org>

Adam Spiers wrote:
>  If you have zsh in a subdirectory mytt(bin) of your home directory,
>  put this in .profile:
>              ^^^^^^^^
>
>I tried this in order to get my default shell on zsh.sourceforge.net
>to be the one in /home/groups/zsh/bin, but it doesn't work.

Your login shell should be /bin/sh, which will execute .profile.  I use
this technique consistently on all systems, regardless of whether or not
the zsh I want to use is permitted as a login shell.  I find it useful
to have a consistent, same-everywhere environment to run my login stuff.

I'm always wary about making .profile unconditionally exec another shell,
though, especially when it's a shell likely to get updated.  For paranoia,
the first thing in my .profile is

	test ."$TERM" = .un && exec /bin/sh

which provides a way to avoid all the cleverness if stuff goes
wrong.  (For more cleverness that could go wrong, have a look at
/home/users/zefram/.profile on SourceForge.)

-zefram

