From zsh-users-return-12642-mason-zsh=primenet.com.au@sunsite.dk Wed Feb 27 11:58:36 2008
Return-Path: <zsh-users-return-12642-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 6330 invoked from network); 27 Feb 2008 11:58:34 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.4 (2008-01-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.4 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.4
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 27 Feb 2008 11:58:34 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 50110 invoked from network); 27 Feb 2008 11:58:12 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 27 Feb 2008 11:58:12 -0000
Received: (qmail 16274 invoked by alias); 27 Feb 2008 11:58:04 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 12642
Received: (qmail 16256 invoked from network); 27 Feb 2008 11:58:04 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 27 Feb 2008 11:58:04 -0000
Received: from cluster-g.mailcontrol.com (cluster-g.mailcontrol.com [85.115.41.190])
	by bifrost.dotsrc.org (Postfix) with ESMTP id D628A8026E0B
	for <zsh-users@sunsite.dk>; Wed, 27 Feb 2008 12:57:56 +0100 (CET)
Received: from cameurexb01.EUROPE.ROOT.PRI ([62.189.241.200])
	by rly04g.srv.mailcontrol.com (MailControl) with ESMTP id m1RBlYoB001138
	for <zsh-users@sunsite.dk>; Wed, 27 Feb 2008 11:57:52 GMT
Received: from news01.csr.com ([10.103.143.38]) by cameurexb01.EUROPE.ROOT.PRI with Microsoft SMTPSVC(6.0.3790.3959);
	 Wed, 27 Feb 2008 11:57:29 +0000
Received: from news01.csr.com (localhost.localdomain [127.0.0.1])
	by news01.csr.com (8.14.2/8.13.4) with ESMTP id m1RBv5wf008796
	for <zsh-users@sunsite.dk>; Wed, 27 Feb 2008 11:57:05 GMT
Received: from csr.com (pws@localhost)
	by news01.csr.com (8.14.2/8.14.2/Submit) with ESMTP id m1RBv5s1008793
	for <zsh-users@sunsite.dk>; Wed, 27 Feb 2008 11:57:05 GMT
Message-Id: <200802271157.m1RBv5s1008793@news01.csr.com>
X-Authentication-Warning: news01.csr.com: pws owned process doing -bs
To: zsh-users@sunsite.dk
Subject: Re: Help with menu completion
In-reply-to: <20080227120920.45a870f7@ate.itt.uni-stuttgart.de>
References: <20080227120920.45a870f7@ate.itt.uni-stuttgart.de>
Comments: In-reply-to Anonymous bin Ich <ichbinanon@gmail.com>
   message dated "Wed, 27 Feb 2008 12:09:20 +0100."
Date: Wed, 27 Feb 2008 11:57:04 +0000
From: Peter Stephenson <pws@csr.com>
X-OriginalArrivalTime: 27 Feb 2008 11:57:29.0031 (UTC) FILETIME=[ED3B5570:01C87937]
X-Scanned-By: MailControl A-08-00-04 (www.mailcontrol.com) on 10.71.0.114
X-Virus-Scanned: ClamAV 0.91.2/6008/Wed Feb 27 10:53:17 2008 on bifrost
X-Virus-Status: Clean

Anonymous bin Ich wrote:
> I just re-did my zshrc, and used the "first-run" tool to configure
> completion for me. I wanted a menu-completion, but I am not getting
> it. Here is the diff for what was changed. As far as I understand,
> nothing related to menu-selection was changed, but I do not understand
> it much, so please help me...

Your message got wrapped horribly (without even passing through
Outlook!) but I think you now have the settings

zstyle ':completion:*' completer _expand _complete _ignored
zstyle ':completion:*' expand prefix suffix
zstyle ':completion:*' file-sort name
zstyle ':completion:*' ignore-parents parent pwd ..
zstyle ':completion:*' list-colors ${(s.:.)LS_COLORS}
zstyle ':completion:*' list-prompt %SAt %p: Hit TAB for more, or the character to insert%s
zstyle ':completion:*' list-suffixes true
zstyle ':completion:*' matcher-list '' 'm:{a-zA-Z}={A-Za-z}' 'l:|=* r:|=*' 'r:|[._-]=** r:|=**'
zstyle ':completion:*' menu select=long-list select=0
zstyle ':completion:*' preserve-prefix '//[^/]##/'
zstyle ':completion:*' select-prompt %SScrolling active: current selection at %p%s

which should be basically OK in that there's nothing to prevent menu
selection from working.

> Earlier, I used to get a nice menu with LS_COLORS, now I don't get any
> menu, but just a list of possible completions.

You haven't shown, but I take it it's still running "compinit" at some
point.

Is the problem simply that you need two TABs to start menu completion
(and then it goes into selection)?  If you want it always to start menu
completion you either need to "setopt menucomplete" or change the menu
style to

zstyle ':completion:*' menu yes select=long-list select=0

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR PLC, Churchill House, Cambridge Business Park, Cowley Road
Cambridge, CB4 0WZ, UK                          Tel: +44 (0)1223 692070

