From zsh-workers-return-24580-mason-zsh=primenet.com.au@sunsite.dk Fri Feb 22 15:21:32 2008
Return-Path: <zsh-workers-return-24580-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18416 invoked from network); 22 Feb 2008 15:21:29 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.4 (2008-01-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.4
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 22 Feb 2008 15:21:29 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 20368 invoked from network); 22 Feb 2008 15:21:21 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 22 Feb 2008 15:21:21 -0000
Received: (qmail 11402 invoked by alias); 22 Feb 2008 15:21:17 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 24580
Received: (qmail 11382 invoked from network); 22 Feb 2008 15:21:17 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 22 Feb 2008 15:21:17 -0000
Received: from acolyte.scowler.net (acolyte.scowler.net [216.254.112.45])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 8D26F8026E0B
	for <zsh-workers@sunsite.dk>; Fri, 22 Feb 2008 16:21:12 +0100 (CET)
Received: by acolyte.scowler.net (Postfix, from userid 1000)
	id 490575C1A4; Fri, 22 Feb 2008 10:21:09 -0500 (EST)
Date: Fri, 22 Feb 2008 10:21:10 -0500
From: Clint Adams <schizo@debian.org>
To: Jarmo Jaakkola <jarmo.jaakkola@iki.fi>, 466596@bugs.debian.org
Cc: zsh-workers@sunsite.dk
Subject: Re: Bug#466596: zsh: Incorrect paths for initialization scripts in
	manual page
Message-ID: <20080222152110.GA26975@scowler.net>
Mail-Followup-To: Jarmo Jaakkola <jarmo.jaakkola@iki.fi>,
	466596@bugs.debian.org, zsh-workers@sunsite.dk
References: <20080219211922.3632.1219.reportbug@gawaine.ritari.tontut.fi>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20080219211922.3632.1219.reportbug@gawaine.ritari.tontut.fi>
User-Agent: Mutt/1.5.17+20080114 (2008-01-14)
X-Virus-Scanned: ClamAV 0.91.2/5936/Fri Feb 22 15:12:40 2008 on bifrost
X-Virus-Status: Clean

[-workers: just for reference]

On Tue, Feb 19, 2008 at 11:19:22PM +0200, Jarmo Jaakkola wrote:
> The manual page zsh(1) tells that the initialization scripts used by the
> shell are in /etc (e.g. zprofile, zshrc).  Instead, they are in
> /etc/zsh.

diff --git a/Doc/Zsh/filelist.yo b/Doc/Zsh/filelist.yo
index f6e3d9d..08245ab 100644
--- a/Doc/Zsh/filelist.yo
+++ b/Doc/Zsh/filelist.yo
@@ -7,9 +7,9 @@ list(tt($ZDOTDIR/.zshrc))
 list(tt($ZDOTDIR/.zlogin))
 list(tt($ZDOTDIR/.zlogout))
 list(tt(${TMPPREFIX}*)   (default is /tmp/zsh*))
-list(tt(/etc/zshenv))
-list(tt(/etc/zprofile))
-list(tt(/etc/zshrc))
-list(tt(/etc/zlogin))
-list(tt(/etc/zlogout)    (installation-specific - tt(/etc) is the default))
+list(tt(/etc/zsh/zshenv))
+list(tt(/etc/zsh/zprofile))
+list(tt(/etc/zsh/zshrc))
+list(tt(/etc/zsh/zlogin))
+list(tt(/etc/zsh/zlogout)    (installation-specific - tt(/etc/zsh) is the Debian default))
 endlist()
diff --git a/Doc/Zsh/files.yo b/Doc/Zsh/files.yo
index 658d09e..d3f561f 100644
--- a/Doc/Zsh/files.yo
+++ b/Doc/Zsh/files.yo
@@ -11,7 +11,7 @@ pindex(NO_RCS, use of)
 pindex(NO_GLOBAL_RCS, use of)
 vindex(ZDOTDIR, use of)
 cindex(zshenv)
-Commands are first read from tt(/etc/zshenv); this cannot be overridden.
+Commands are first read from tt(/etc/zsh/zshenv); this cannot be overridden.
 Subsequent behaviour is modified by the tt(RCS) and
 tt(GLOBAL_RCS) options; the former affects all startup files, while the
 second only affects those in the tt(/etc) directory.  If one of the options
@@ -25,17 +25,17 @@ Commands are then read from tt($ZDOTDIR/.zshenv).
 pindex(LOGIN, use of)
 cindex(zprofile)
 If the shell is a login shell, commands
-are read from tt(/etc/zprofile) and then tt($ZDOTDIR/.zprofile).
+are read from tt(/etc/zsh/zprofile) and then tt($ZDOTDIR/.zprofile).
 cindex(zshrc)
 Then, if the shell is interactive,
-commands are read from tt(/etc/zshrc) and then tt($ZDOTDIR/.zshrc).
+commands are read from tt(/etc/zsh/zshrc) and then tt($ZDOTDIR/.zshrc).
 cindex(zlogin)
-Finally, if the shell is a login shell, tt(/etc/zlogin) and
+Finally, if the shell is a login shell, tt(/etc/zsh/zlogin) and
 tt($ZDOTDIR/.zlogin) are read.
 
 cindex(zlogout)
 When a login shell exits, the files tt($ZDOTDIR/.zlogout) and then
-tt(/etc/zlogout) are read.  This happens with either an explicit exit
+tt(/etc/zsh/zlogout) are read.  This happens with either an explicit exit
 via the tt(exit) or tt(logout) commands, or an implicit exit by reading
 end-of-file from the terminal.  However, if the shell terminates due
 to tt(exec)'ing another process, the logout files are not read.
@@ -49,7 +49,7 @@ If tt(ZDOTDIR) is unset, tt(HOME) is used instead.
 Those files listed above as being in tt(/etc) may be in another
 directory, depending on the installation.
 
-As tt(/etc/zshenv) is run for all instances of zsh, it is important that
+As tt(/etc/zsh/zshenv) is run for all instances of zsh, it is important that
 it be kept as small as possible.  In particular, it is a good idea to
 put code that does not need to be run for every single shell behind
 a test of the form `tt(if [[ -o rcs ]]; then ...)' so that it will not
diff --git a/Doc/Zsh/mod_newuser.yo b/Doc/Zsh/mod_newuser.yo
index 8c37c70..558a242 100644
--- a/Doc/Zsh/mod_newuser.yo
+++ b/Doc/Zsh/mod_newuser.yo
@@ -5,7 +5,7 @@ The tt(zsh/newuser) module is loaded at boot if it is
 available, the tt(RCS) option is set, and the tt(PRIVILEGED) option is not
 set (all three are true by default).  This takes
 place immediately after commands in the global tt(zshenv) file (typically
-tt(/etc/zshenv)), if any, have been executed.  If the module is not
+tt(/etc/zsh/zshenv)), if any, have been executed.  If the module is not
 available it is silently ignored by the shell; the module may safely be
 removed from tt($MODULE_PATH) by the administrator if it is not required.
 
@@ -34,7 +34,7 @@ files for the user, however any valid shell code will be executed.
 The tt(zsh/newuser) module is then unconditionally unloaded.
 
 Note that it is possible to achieve exactly the same effect as the
-tt(zsh/newuser) module by adding code to tt(/etc/zshenv).  The module
+tt(zsh/newuser) module by adding code to tt(/etc/zsh/zshenv).  The module
 exists simply to allow the shell to make arrangements for new users without
 the need for intervention by package maintainers and system administrators.
 
diff --git a/Doc/Zsh/options.yo b/Doc/Zsh/options.yo
index 32ec48d..a8b2872 100644
--- a/Doc/Zsh/options.yo
+++ b/Doc/Zsh/options.yo
@@ -718,19 +718,19 @@ pindex(GLOBAL_RCS)
 cindex(startup files, global, inhibiting)
 cindex(files, global startup, inhibiting)
 item(tt(GLOBAL_RCS) (tt(-d)) <D>)(
-If this option is unset, the startup files tt(/etc/zprofile),
-tt(/etc/zshrc), tt(/etc/zlogin) and tt(/etc/zlogout) will not be run.  It
+If this option is unset, the startup files tt(/etc/zsh/zprofile),
+tt(/etc/zsh/zshrc), tt(/etc/zsh/zlogin) and tt(/etc/zsh/zlogout) will not be run.  It
 can be disabled and re-enabled at any time, including inside local startup
 files (tt(.zshrc), etc.).
 )
 pindex(RCS)
 cindex(startup files, sourcing)
 item(tt(RCS) (tt(PLUS()f)) <D>)(
-After tt(/etc/zshenv) is sourced on startup, source the
-tt(.zshenv), tt(/etc/zprofile), tt(.zprofile),
-tt(/etc/zshrc), tt(.zshrc), tt(/etc/zlogin), tt(.zlogin), and tt(.zlogout)
+After tt(/etc/zsh/zshenv) is sourced on startup, source the
+tt(.zshenv), tt(/etc/zsh/zprofile), tt(.zprofile),
+tt(/etc/zsh/zshrc), tt(.zshrc), tt(/etc/zsh/zlogin), tt(.zlogin), and tt(.zlogout)
 files, as described in noderef(Files).
-If this option is unset, the tt(/etc/zshenv) file is still sourced, but any
+If this option is unset, the tt(/etc/zsh/zshenv) file is still sourced, but any
 of the others will not be; it can be set at any time to prevent the
 remaining startup files after the currently executing one from
 being sourced.

