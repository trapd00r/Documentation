From zsh-workers-request@euclid.skiles.gatech.edu  Wed Sep 11 14:18:19 1996
Received: from dns.primenet.com.au (dns.primenet.com.au [203.24.36.40]) by coral.primenet.com.au (8.7.5/8.7.3) with ESMTP id OAA00210 for <mason@primenet.com.au>; Wed, 11 Sep 1996 14:18:16 +1000 (EST)
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by dns.primenet.com.au (8.7.5/8.7.3) with ESMTP id LAA00902 for <mason@primenet.com.au>; Wed, 11 Sep 1996 11:15:51 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id UAA17352; Tue, 10 Sep 1996 20:51:54 -0400 (EDT)
Resent-Date: Tue, 10 Sep 1996 20:51:54 -0400 (EDT)
From: Zoltan Hidvegi <hzoli@cs.elte.hu>
Message-Id: <199609102131.XAA00407@hzoli.ppp.cs.elte.hu>
Subject: Re: Is this a bug in globbing
To: yamagata@nwgpc.kek.jp
Date: Tue, 10 Sep 1996 23:30:59 +0200 (MET DST)
Cc: stucki@math.fu-berlin.de, zsh-workers@math.gatech.edu
In-Reply-To: <19960911040205X/yamagata@nwgpc.kek.jp> from "yamagata@nwgpc.kek.jp" at "Sep 11, 96 04:02:05 am"
X-Mailer: ELM [version 2.4ME+ PL17 (25)]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"NVDCe1.0._E4.fqWDo"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/2128
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

> > I used a statement 'ls ...' with the pattern 'rc?.d/*[A-Z]'
> > and got lots of names with 'small' characters at the end !
[...]
> After automatic configure,
> there are one or two lines "#define HAVE_STRCOLL 1" in config.h.
> 
> If you comment out these lines, probably the problem may be solved.
> 
> //
> 
> Some OS use strcasecmp in strcoll,
> in case of absence of locale data used by strcoll().

As it turns out this is not a bug.  It seems that in the de_DE locale and
probably in other locales as well the upper and lowercase letters have the
same weight determined by the LC_COLLATE locale category.  POSIX says that
range expressions must use the collating order determined by LC_COLLATE.
Of course POSIX also tells that range expressions shall not be used in
Strictly Conforming POSIX.2 Applications because their behavior is
dependent on the collating sequence.  POSIX conforming applications should
use character class expressions instead which are not yet supported by zsh
:-(.  Setting LC_COLLATE to C or POSIX should cure these problems but note
that is also affects sorting.

Zoltan

