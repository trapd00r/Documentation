From zsh-users-return-11416-mason-zsh=primenet.com.au@sunsite.dk Tue Apr 17 09:57:42 2007
Return-Path: <zsh-users-return-11416-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 12146 invoked from network); 17 Apr 2007 09:57:40 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.8 (2007-02-13) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=BAYES_00,FORGED_RCVD_HELO
	autolearn=ham version=3.1.8
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 17 Apr 2007 09:57:40 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 28200 invoked from network); 17 Apr 2007 09:57:33 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 17 Apr 2007 09:57:33 -0000
Received: (qmail 14750 invoked by alias); 17 Apr 2007 09:57:22 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 11416
Received: (qmail 14740 invoked from network); 17 Apr 2007 09:57:21 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 17 Apr 2007 09:57:21 -0000
Received: (qmail 26930 invoked from network); 17 Apr 2007 09:57:21 -0000
Received: from kaiserslautern1.lms-gmbh.de (HELO mail-outfwd.lms.be) (213.68.136.230)
  by a.mx.sunsite.dk with SMTP; 17 Apr 2007 09:57:17 -0000
Received: from localhost (unknown [127.0.0.1])
	by mail-outfwd.lms.be (Postfix) with ESMTP id 198C17F41A
	for <zsh-users@sunsite.dk>; Tue, 17 Apr 2007 12:07:29 +0200 (CEST)
Received: from mail-kl.lmsintl.com ([127.0.0.1])
	by localhost (kl-ftp [127.0.0.1]) (amavisd-new, port 20024)
	with ESMTP id 01195-10 for <zsh-users@sunsite.dk>;
	Tue, 17 Apr 2007 12:07:27 +0200 (CEST)
Received: from KL-SRV57.lmsintl.com (unknown [10.2.100.57])
	by mail-kl.lmsintl.com (Postfix) with ESMTP id 78EE4B6EDA
	for <zsh-users@sunsite.dk>; Tue, 17 Apr 2007 12:07:24 +0200 (CEST)
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject:  Re: zsh 4.3.3 released
X-MimeOLE: Produced By Microsoft Exchange V6.5
Date: Tue, 17 Apr 2007 11:56:47 +0200
Message-ID: <BB046CA812535C45BD0029AA9D04BA79BE331E@KL-SRV57.lmsintl.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic:  Re: zsh 4.3.3 released
Thread-Index: AceAftxI59Xdk9LAQ+iEVdVKcburwgAVrhnQ
References:  <200704161647.l3GGl2FE027950@news01.csr.com> <f010p6$u6s$1@sea.gmane.org>
From: "Christoph Bauer" <Christoph.Bauer@lmsintl.com>
To: <zsh-users@sunsite.dk>
X-Virus-Scanned: by IT Services

Hi,


SunOS compiler complains about:

cc -c -I. -I/T/tcl_tk/8.5a5/binaries/suns8/include -DHAVE_CONFIG_H -O  =
-o utils.o ../../Src/utils.c
"../../Src/utils.c", line 3058: cannot dereference non-pointer type
"../../Src/utils.c", line 3058: operands must have integral type: op "&"
"../../Src/utils.c", line 3059: cannot dereference non-pointer type
cc: acomp failed for ../../Src/utils.c
make[2]: *** [utils.o] Error 2
make[2]: Leaving directory =
`/projekte/backup/tools/unix/build/zsh/zsh-4.3.3/suns8/Src'
make[1]: *** [modobjs] Error 2
make[1]: Leaving directory =
`/projekte/backup/tools/unix/build/zsh/zsh-4.3.3/suns8/Src'
make: *** [all] Error 1

Patch:

*** utils.c.orig	Mon Apr 16 15:17:35 2007
--- utils.c	Tue Apr 17 11:52:29 2007
***************
*** 3055,3062 ****
      if (len =3D=3D 0) {
  	/* NULL is special */
  	return zistype(0, itype);
!     } else if (len =3D=3D 1 && isascii(*outstr)) {
! 	return zistype(*outstr, itype);
      } else {
  	switch (itype) {
  	case IIDENT:
--- 3055,3062 ----
      if (len =3D=3D 0) {
  	/* NULL is special */
  	return zistype(0, itype);
!     } else if (len =3D=3D 1 && isascii(outstr[0])) {
! 	return zistype(outstr[0], itype);
      } else {
  	switch (itype) {
  	case IIDENT:

Christoph Bauer
-- =20
LMS Deutschland GmbH - Gesch=E4ftsf=FChrer: Dr. Ing. Urbain Vandeurzen, =
Dr.-Ing. Norbert Reimann - Sitz: Kaiserslautern - Registergericht: HRB =
Kaiserslautern 3706
=20

