From zsh-workers-return-25598-mason-zsh=primenet.com.au@sunsite.dk Tue Sep 02 23:21:01 2008
Return-Path: <zsh-workers-return-25598-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 21632 invoked from network); 2 Sep 2008 23:20:58 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.9 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 2 Sep 2008 23:20:58 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 99669 invoked from network); 2 Sep 2008 23:20:29 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 2 Sep 2008 23:20:29 -0000
Received: (qmail 21728 invoked by alias); 2 Sep 2008 23:20:15 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 25598
Received: (qmail 21708 invoked from network); 2 Sep 2008 23:20:12 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 2 Sep 2008 23:20:12 -0000
Received: from uucp.gnuu.de (banki.eumelnet.de [83.246.114.63])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 7CDDF801E2B4
	for <zsh-workers@sunsite.dk>; Wed,  3 Sep 2008 01:20:07 +0200 (CEST)
Received: by uucp.gnuu.de (Postfix, from userid 10)
	id 0C2CE488037; Wed,  3 Sep 2008 01:20:05 +0200 (CEST)
X-DKIM: Sendmail DKIM Filter v2.5.2 uucp.gnuu.de 0C2CE488037
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=gnuu.de; s=banki;
	t=1220397607; i=@alea.gnuu.de; bh=5kGAeRqxKi8cgDp8QyFEgATigAhfHUy3v
	ML744dI8K0=; h=To:From:Subject:Date:Message-ID:Mime-Version:
	 Content-Type:Content-Transfer-Encoding:Sender; b=c6B7Oq8uH6z4HZeZ4
	jXRTgpyBbF3/7tZBAm2qFY7u5tss2eQ3fO+fQI46NF/LZbKX/NkcFdkJODkUax0hYfl
	bgDxKhbKHV95wYIt5Qtf+n+q3HmjXcB/YsUdWYck++NgGEBwK8aaXasn7IITR5VTagc
	A6T5BIuyCum4UGyG9KKU=
Received: from news by alea.gnuu.de with local (Exim 4.63)
	(envelope-from <news@alea.gnuu.de>)
	id 1Kaf6a-0004nB-Ls
	for zsh-workers@sunsite.dk; Wed, 03 Sep 2008 01:16:12 +0200
To: zsh-workers@sunsite.dk
Path: not-for-mail
From: =?UTF-8?Q?J=C3=B6rg?= Sommer <joerg@alea.gnuu.de>
Newsgroups: local.mailinglist.zsh
Subject: Remove = in alias completion
Date: Tue, 2 Sep 2008 23:16:12 +0000 (UTC)
Lines: 24
Message-ID: <slrngbri9t.1qt.joerg@alea.gnuu.de>
Mime-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
X-Trace: alea.gnuu.de 1220397372 18268 192.168.0.5 (2 Sep 2008 23:16:12 GMT)
X-Complaints-To: usenet@alea.gnuu.de
User-Agent: slrn/0.9.9 (Linux)
Sender: news <news@alea.gnuu.de>
X-Virus-Scanned: ClamAV 0.92.1/8142/Tue Sep  2 23:27:04 2008 on bifrost
X-Virus-Status: Clean

Hi,

I find it anoying to enter ‘alias gd<TAB>’, get ‘alias gdb=’ and if I hit
return to see the definition of the alias, it gets cleared. So I propose
this patch.

diff --git a/Completion/Zsh/Command/_alias b/Completion/Zsh/Command/_alias
index c7b67c4..617627c 100644
--- a/Completion/Zsh/Command/_alias
+++ b/Completion/Zsh/Command/_alias
@@ -19,6 +19,6 @@ if [[ -n "$state" ]]; then
    compset -S '=*' || suf='='
    type=( ${opt_args[(i)[-+][grs]]#?} )
    (( $#type )) && type=( -s $type )
    _wanted -x alias expl 'alias definition' _aliases -S -qS "$suf" "$type[@]"
  fi
fi

Bye, Jörg.
-- 
IRC: Der [Prof. Andreas Pfitzmann, TU Dresden] hat gerade vorgeschlagen, sie
  sollen doch statt Trojanern die elektromagnetische Abstrahlung nutzen. Das
  sei nicht massenfähig, ginge ohne Eingriff ins System, sei zielgerichtet,
  und, der Hammer, das funktioniere ja bei Wahlcomputern schon sehr gut.

