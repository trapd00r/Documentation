From zsh-users-return-6050-mason-zsh=primenet.com.au@sunsite.dk Fri Apr 25 15:29:19 2003
Return-Path: <zsh-users-return-6050-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 7457 invoked from network); 25 Apr 2003 15:29:18 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 25 Apr 2003 15:29:18 -0000
Received: (qmail 6969 invoked by alias); 25 Apr 2003 15:29:00 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 6050
Received: (qmail 6961 invoked from network); 25 Apr 2003 15:29:00 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 25 Apr 2003 15:29:00 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [192.18.42.13] by sunsite.dk (MessageWall 1.0.8) with SMTP; 25 Apr 2003 15:28:59 -0000
Received: from sunfin.Finland.Sun.COM ([129.159.101.10])
	by nwkea-mail-1.sun.com (8.9.3p2+Sun/8.9.3) with ESMTP id IAA23962;
	Fri, 25 Apr 2003 08:28:52 -0700 (PDT)
Received: from ultrahot.Finland.Sun.COM (ultrahot [129.159.101.87])
	by sunfin.Finland.Sun.COM (8.12.9+Sun/8.12.9/ENSMAIL,v2.3beta) with ESMTP id h3PFSpPf004360;
	Fri, 25 Apr 2003 18:28:51 +0300 (EEST)
Received: from ultrahot.Finland.Sun.COM (localhost [127.0.0.1])
	by ultrahot.Finland.Sun.COM (8.12.9+Sun/8.12.9) with ESMTP id h3PFSo0e023061;
	Fri, 25 Apr 2003 18:28:50 +0300 (EEST)
Received: (from tomppa@localhost)
	by ultrahot.Finland.Sun.COM (8.12.9+Sun/8.12.9/Submit) id h3PFSoFP023058;
	Fri, 25 Apr 2003 18:28:50 +0300 (EEST)
From: Tomi Vainio - Sun Finland <Tomi.Vainio@Sun.COM>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16041.21554.175243.827782@ultrahot.finland.sun.com>
Date: Fri, 25 Apr 2003 18:28:50 +0300
To: koen.van_hoo1@skynet.be
Cc: zsh-users@sunsite.dk
Subject: wrong LINES, COLUMNS
In-Reply-To: <200304251454.QAA27621@bt0pls.sh.bel.alcatel.be>
References: <200304251454.QAA27621@bt0pls.sh.bel.alcatel.be>
X-Mailer: VM 7.13 under 21.4 (patch 9) "Informed Management" XEmacs Lucid
Reply-To: Tomi.Vainio@Sun.COM

koen.van_hoo1@skynet.be writes:
 > 
 > Recently it did install some patches on our servers, which caused 
 > ioctl(SHTTY, TIOCGWINSZ, (char *)&shttyinfo.winsize)
 > to return an error.
 > In that case ws_row and ws_col in shttyinfo.winsize are set to 0 in Src/utils.c, 
 > and a lot off tools like vi, more, less, ... don't work properly anymore.
 > 
You didn't say which server you are talking about.  Might it be
Solaris 2.6 and you installed latest kernel jumbo patch which has
identical problem you just described?

4843340 patch 105181-34 /kernel/strmod/ptem returns EINVAL for
	TIOCGWINSZ ioctl

  Tomppa

