From zsh-workers-return-18560-mason-zsh=primenet.com.au@sunsite.dk Wed May 21 12:06:09 2003
Return-Path: <zsh-workers-return-18560-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 27357 invoked from network); 21 May 2003 12:06:08 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 21 May 2003 12:06:08 -0000
Received: (qmail 1940 invoked by alias); 21 May 2003 12:06:00 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 18560
Received: (qmail 1933 invoked from network); 21 May 2003 12:05:59 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 21 May 2003 12:05:59 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [195.167.170.152] by sunsite.dk (MessageWall 1.0.8) with SMTP; 21 May 2003 12:5:59 -0000
Received: from zefram by bowl.fysh.org with local (Exim 3.35 #1 (Debian))
	id 19ISM2-0006to-00; Wed, 21 May 2003 13:05:58 +0100
Date: Wed, 21 May 2003 13:05:58 +0100
To: Peter Stephenson <pws@csr.com>
Cc: Zsh hackers list <zsh-workers@sunsite.dk>
Subject: Re: zle -M and other option arguments
Message-ID: <20030521120558.GB20531@fysh.org>
References: <27450.1053511884@csr.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <27450.1053511884@csr.com>
User-Agent: Mutt/1.3.28i
From: Zefram <zefram@fysh.org>

Peter Stephenson wrote:
>  zle -M my-keymap -R a-z self-insert
>and it doesn't work.  This is actually documented: -M takes the first
>non-option argument, not an argument of its own.  I imagine this is due
>to the historically somewhat poor handling of arguments to options.

Precisely.  At the time the zle builtin was added, the builtin option
handling couldn't handle an argument attached to an option, so I made it
do what is described above.  In the zsh/files module, mkdir's -m option
has the same problem.

I agree that it's better to attach the argument to the option.

-zefram

