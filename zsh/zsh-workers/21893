From zsh-workers-return-21893-mason-zsh=primenet.com.au@sunsite.dk Thu Oct 20 12:00:34 2005
Return-Path: <zsh-workers-return-21893-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 15370 invoked from network); 20 Oct 2005 12:00:30 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 20 Oct 2005 12:00:30 -0000
Received: (qmail 39100 invoked from network); 20 Oct 2005 12:00:24 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 20 Oct 2005 12:00:24 -0000
Received: (qmail 28244 invoked by alias); 20 Oct 2005 10:13:40 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 21893
Received: (qmail 28235 invoked from network); 20 Oct 2005 10:13:40 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 20 Oct 2005 10:13:39 -0000
Received: (qmail 94235 invoked from network); 20 Oct 2005 10:13:39 -0000
Received: from cluster-c.mailcontrol.com (HELO rly13c.srv.mailcontrol.com) (168.143.177.190)
  by a.mx.sunsite.dk with SMTP; 20 Oct 2005 10:13:37 -0000
Received: from exchange03.csr.com (mailhost1.csr.com [81.105.217.43])
	by rly13c.srv.mailcontrol.com (MailControl) with ESMTP id j9K9d444017555
	for <zsh-workers@sunsite.dk>; Thu, 20 Oct 2005 10:39:06 +0100
Received: from csr.com ([10.103.143.38]) by exchange03.csr.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 20 Oct 2005 10:41:17 +0100
To: Zsh hackers list <zsh-workers@sunsite.dk>
Subject: Re: PATCH: displaying wide characters 
In-reply-to: <237967ef0510191739t103352a9vad735334a790d8b5@mail.gmail.com> 
References: <200510192031.j9JKVYk7010115@pwslaptop.csr.com> <200510192041.j9JKfTJZ010450@pwslaptop.csr.com> <237967ef0510191739t103352a9vad735334a790d8b5@mail.gmail.com>
Comments: In-reply-to Mikael Magnusson <mikachu@gmail.com>
   message dated "Thu, 20 Oct 2005 02:39:09 +0200."
Date: Thu, 20 Oct 2005 10:39:04 +0100
From: Peter Stephenson <pws@csr.com>
Message-ID: <EXCHANGE03zfSLZZInL00006f40@exchange03.csr.com>
X-OriginalArrivalTime: 20 Oct 2005 09:41:17.0842 (UTC) FILETIME=[6B91D720:01C5D55A]
Content-Type: text/plain
MIME-Version: 1.0
X-Scanned-By: MailControl A-05-40-01 (www.mailcontrol.com) on 10.67.0.123
X-Spam-Checker-Version: SpamAssassin 3.0.4 (2005-06-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.4

Mikael Magnusson wrote:
> This seems to work fine so far, and the prompt truncation also seems
> to be fixed. 

Phew.  I think I may have messed up --disable-multibyte, I'll check that...

> I just noticed the following while testing when i missed
> the space bar,
>   [error messages are output using the old nicechar method]
> 
> Maybe the error message could show multibyte printable characters too?

Yes, we're approaching the time when we should start to update stuff
in the main shell (and the ZLE_UNICODE_SUPPORT definition is no longer
appropriate, as Oliver predicted; it probably needs to be MULTIBYTE_SUPPORT
now).  I'm not expecting every little bit (such as pattern matching)
to support multibyte characters before the first 4.3 release, but
things like error messages should now be relatively straightforward with
the code that's been added to utils.c

pws


This message has been scanned for viruses by BlackSpider MailControl - www.blackspider.com

