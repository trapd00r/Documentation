From zsh-users-return-2369-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Jun 09 16:29:12 1999
Return-Path: <zsh-users-return-2369-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10658 invoked from network); 9 Jun 1999 16:29:10 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 9 Jun 1999 16:29:10 -0000
Received: (qmail 29439 invoked by alias); 9 Jun 1999 16:28:53 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 2369
Received: (qmail 29432 invoked from network); 9 Jun 1999 16:28:51 -0000
Date: Wed, 9 Jun 1999 18:29:02 -0600
From: Dominik Vogt <dominik_vogt@hp.com>
To: zsh-users@sunsite.auc.dk
Subject: trouble with multiple pipes
Message-ID: <19990609182901.D3376@hp.com>
Reply-To: dominik.vogt@gmx.de
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 0.95.4i

I am using zsh 3.0.5 on a 2.2.5 Linux kernel. I encountered a problem
when trying to use multiple pipes with and a command that does not
finish:

E.g. I have a file foo:

  # cat foo
  1
  2
  3
  4
  5

Now I want to view that file with "tail -f" so that I get all lines
that are written to the file too:

  # tail -f foo
  1
  2
  3
  4
  5
  (pressed ^C to stop tail)

Now I don't want to see all lines with a '5':

  # tail -f foo | grep -v 5
  1
  2
  3
  4
  (pressed ^C to stop tail)

And now I want to remove '4' from the output too:

  # tail -f foo | grep -v 5 | grep -v 4
  (no output generated, pressed ^C)

But when I terminate 'tail'
  # killall tail
  1
  2
  3
  zsh: terminated  tail -f foo | 
  zsh: done        grep -v 5 | grep -v 4

Why doesn't get the output of the first pipe get through to
the second one? Any ideas how to circumvent this problem?
Unfortunately I need to filter the output from a running
daemon in this way, but I'm out of ideas.

The same behaviour occurs on HP-UX 10.20 (not that I think the
OS matters) or with ksh or bash.

Please respond to me personally, I'm not on the list.

Bye

Dominik ^_^

-- 
Dominik Vogt, Hewlett-Packard GmbH, Dept. BVS
Herrenberger Str.130, 71034 Boeblingen, Germany
phone: 07031/14-4596, fax: 07031/14-3883, dominik_vogt@hp.com

