From zsh-users-return-15553-mason-zsh=primenet.com.au@zsh.org Tue Nov 16 21:21:36 2010
Return-Path: <zsh-users-return-15553-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 998 invoked by alias); 16 Nov 2010 21:21:36 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 15553
Received: (qmail 20650 invoked from network); 16 Nov 2010 21:21:35 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.9 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.3.1
Received-SPF: pass (ns1.primenet.com.au: SPF record at benizi.com designates 64.130.10.15 as permitted sender)
Date: Tue, 16 Nov 2010 16:21:06 -0500 (EST)
From: "Benjamin R. Haskell" <zsh@benizi.com>
To: Matt Wozniski <godlygeek@gmail.com>
cc: zsh-users@zsh.org
Subject: Re: Completion style like Vim
In-Reply-To: <alpine.LNX.2.01.1011161606310.2792@hp>
Message-ID: <alpine.LNX.2.01.1011161618480.2792@hp>
References: <AANLkTimRCvWA=0pchndFrkTF8Q0_gc4QA18JGD29Y-ti@mail.gmail.com> <alpine.LNX.2.01.1011161503010.2792@hp> <AANLkTimqY0yVW-uHNi_pKMYRjTZJ7a1CamENMs2CpCQs@mail.gmail.com> <alpine.LNX.2.01.1011161606310.2792@hp>
User-Agent: Alpine 2.01 (LNX 1266 2009-07-14)
MIME-Version: 1.0
Content-Type: MULTIPART/MIXED; BOUNDARY="-1463810530-1387468594-1289942490=:2792"

---1463810530-1387468594-1289942490=:2792
Content-Type: TEXT/PLAIN; charset=UTF-8
Content-Transfer-Encoding: 8BIT

[attempt two -- not sure if the original ever hit the current zsh-users 
address]

On Tue, 16 Nov 2010, Matt Wozniski wrote:

> On Tue, Nov 16, 2010 at 3:09 PM, Benjamin R. Haskell wrote:
> > On Tue, 16 Nov 2010, Michael Treibton wrote:
> > 
> > > Hi all,
> > > 
> > > I'm wondering how i can get vim-like completion with zsh, and even 
> > > if it's possible?
> > > 
> > > For those who don't know, vim allows completion to happen on one 
> > > line, so if I have entered the following commands:
> > > 
> > > foobar hello
> > > bar baz hello
> > > zsh is cool
> > > zsh is really cool
> > > 
> > > ... and I were to type in:
> > > 
> > > zsh is
> > > 
> > > and then press the up or down arrow keys, I would see as 
> > > completion:
> > > 
> > > zsh is cool
> > > zsh is really cool
> > 
> > That's not how my Vim completion works.  (Big fan of the popupmenu 
> > and supertab.)  I guess you like i_CTRL-X_CTRL-L?  I much prefer 
> > i_CTRL-X_CTRL-O for the general case, falling back to 
> > i_CTRL-X_CTRL-I. (Both of which I access via '<Tab>'.)
> 
> Michael was describing how it works in command-line mode, not insert 
> mode.
> 

Ah, yep.  There's the disconnect.  I do too much with Vim's 
insert-completion to think of that as "completion".

In any case, the following seems to work like Vim's command-line 
completion:

bindkey "^[[A" history-beginning-search-backward
bindkey "^[[B" history-beginning-search-forward

^[[A == up arrow, ^[[B == down.  Sounds like you want ^n and ^p, too.

-- 
Best,
Ben
---1463810530-1387468594-1289942490=:2792--

