From zsh-workers-return-16726-mason-zsh=primenet.com.au@sunsite.dk Wed Feb 27 09:17:57 2002
Return-Path: <zsh-workers-return-16726-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 19732 invoked from network); 27 Feb 2002 09:17:56 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 27 Feb 2002 09:17:56 -0000
Received: (qmail 24694 invoked by alias); 27 Feb 2002 09:17:50 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 16726
Received: (qmail 24681 invoked from network); 27 Feb 2002 09:17:48 -0000
Message-ID: <20020227091746.17010.qmail@web9302.mail.yahoo.com>
Date: Wed, 27 Feb 2002 09:17:46 +0000 (GMT)
From: =?iso-8859-1?q?Oliver=20Kiddle?= <okiddle@yahoo.co.uk>
Subject: Re: detecting superuser condition in completion
To: zsh-workers@sunsite.dk
In-Reply-To: <001501c1bf68$4a8cccd0$21c9ca95@mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

 --- Borsenkow Andrej <Andrej.Borsenkow@mow.siemens.ru> wrote:
> Sometimes some options make sense only for superuser. Unfortunately
> testing for EUID is not enough because it does not work for
> completions
> after sudo (at least).

> Brute force method is to make _sudo set some variable and test for it
> later. Any better idea? If not, I guess we should agree on variable
> name
> or provide some helper like
> 
> _is_superuser && _wanted ...

A variable seems best to me. _is_superuser could only differentiate
root as opposed to any user (less useful after su <user> -c ...) and
it'd probably need a variable underneath to work anyway.

Oliver

__________________________________________________
Do You Yahoo!?
Everything you'll ever need on one web page
from News and Sport to Email and Music Charts
http://uk.my.yahoo.com

