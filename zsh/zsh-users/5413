From zsh-users-return-5413-mason-zsh=primenet.com.au@sunsite.dk Wed Oct 02 16:24:22 2002
Return-Path: <zsh-users-return-5413-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2326 invoked from network); 2 Oct 2002 16:24:21 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 2 Oct 2002 16:24:21 -0000
Received: (qmail 27585 invoked by alias); 2 Oct 2002 16:23:48 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 5413
Received: (qmail 27572 invoked from network); 2 Oct 2002 16:23:45 -0000
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <1021002162312.ZM18476@candle.brasslantern.com>
Date: Wed, 2 Oct 2002 16:23:11 +0000
In-Reply-To: =?iso-8859-1?Q?=3CPine=2ELNX=2E4=2E44=2E0210021718100=2E26691?=
 =?iso-8859-1?Q?-100000=40server=3E?=
 =?iso-8859-1?Q?Comments=3A_In_reply_to_Heinrich_G=F6tzger_=3CHeinrich=2EG?=
 =?iso-8859-1?Q?oetzger=40exploding-systems=2Ede=3E?=
 =?iso-8859-1?Q?________=22exclamation_mark_expansion_in_shell_command=22_?=
 =?iso-8859-1?Q?=28Oct__2=2C__5=3A23pm=29?=
References: <Pine.LNX.4.44.0210021718100.26691-100000@server>
X-Mailer: Z-Mail (5.0.0 30July97)
To: =?iso-8859-1?Q?Heinrich_G=F6tzger?= 
 <Heinrich.Goetzger@exploding-systems.de>,
   zsh-users@sunsite.dk
Subject: Re: exclamation mark expansion in shell command
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

On Oct 2,  5:23pm, Heinrich G=F6tzger wrote:
} =

} I'm looking without success yet for a simple way to prevent zsh to expa=
nd
} my cmd arguments (including !) to my history.

There are several ways.

First, history is not expanded for words in single quotes:

zsh% echo '!foo'
!foo

Second, you can disable history expansion for a single command line by
prefixing the line with !" like so:

zsh% !" echo !foo
!foo

Note that in all versions of zsh less than 4.1.0, the "magic-space" key
binding ignores the !" and still causes history to expand as you type.
(In fact, it'll erase the !" as soon as you type the space after it.)

Finally, you can `setopt nobanghist' to turn off all history expansion.

If none of those seems to cover your situation, you'll have to explain in=

more detail.

-- =

Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net  =
 =

