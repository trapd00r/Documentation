From zsh-workers-request@math.gatech.edu Mon Nov 02 02:14:53 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5118 invoked from network); 2 Nov 1998 02:14:51 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 2 Nov 1998 02:14:51 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.9.1/8.9.1) id VAA02867;
	Sun, 1 Nov 1998 21:08:11 -0500 (EST)
Resent-Date: Sun, 1 Nov 1998 21:08:11 -0500 (EST)
Date: Sun, 1 Nov 1998 21:06:34 -0500
Message-Id: <9811020206.AA19702@ezdzit.zko.dec.com>
From: Paul Lew <lew@ezdzit.zko.dec.com>
To: "Bart Schaefer" <schaefer@brasslantern.com>
Cc: Paul Lew <lew@ezdzit.zko.dec.com>, zsh-workers@math.gatech.edu
Subject: Re: zsh-3.1.x cdmatch problem
In-Reply-To: <981101165847.ZM28617@candle.brasslantern.com>
References: <9811012346.AA19571@ezdzit.zko.dec.com>
	<981101165847.ZM28617@candle.brasslantern.com>
X-Mailer: VM 6.37 under Emacs 20.2.1
Mime-Version: 1.0 (generated by tm-edit 7.106)
Content-Type: text/plain; charset=US-ASCII
Resent-Message-ID: <"l1rZy1.0.hi.BGHFs"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/4484
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

>>>>> "Bart" == Bart Schaefer <schaefer@brasslantern.com> writes:

    Bart> On Nov 1,  6:46pm, Paul Lew wrote:
    Bart> } Subject: zsh-3.1.x cdmatch problem
    Bart> }
    Bart> } I am trying switch from 3.0.x to 3.1.x but one problem is
    Bart> } really bugged me: The completion after 'cd' command
    Bart> } generated:
    Bart> } 
    Bart> }     zsh: bad math expression: unbalanced stack
    Bart> } 
    Bart> } This does not happen for 3.0.x, the function cdmatch is
    Bart> } the one from standard distribution:

    Bart> The cdmatch function you quoted is not the one from the
    Bart> standard 3.1.[45] distribution, but in any case I don't see
    Bart> this error for any completion that I attempted (even after I
    Bart> fixed cdmatch2, see my other posting).

This is the result of entering 'functions cdmatch', the comments were
removed.  The date of the file from zsh-3.1.5/Functions is:

(3)ezdzit lew Src>>> ls -l cdmatch
-rwxr-xr-x   1 lew      users        709 May 11  1997 cdmatch

(3)ezdzit lew Src>>> sum cdmatch
58242      1 cdmatch

Seems this file has not changed since May 11 1977.  Could you tell me
what you get when you enter 'functions cdmatch'?

    Bart> It would help if you told us:

    Bart> (1) Exactly what `x' you mean when you say 3.1.x;

Make it simple, 3.1.5 (with no patch applied).

    Bart> (2) A specific example completion that produces this result.

$ tar xf zsh-3.1.5.tar.gz
$ cd zsh-3.1.5/Src
$ cd <TAB>

My cdpath value is: (. .. /usr/users/lew), unsetting it make no
difference.

OS:       Digital UNIX 3.2c
Compiler: gcc -v
Reading specs from /usr/local/lib/gcc-lib/alpha-dec-osf3.2/egcs-2.90.29/specs
gcc version egcs-2.90.29 980515 (egcs-1.0.3 release)

