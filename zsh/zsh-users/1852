From zsh-workers-request@math.gatech.edu Thu Oct 08 21:41:10 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9130 invoked from network); 8 Oct 1998 21:41:09 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 8 Oct 1998 21:41:09 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.9.1/8.9.1) id RAA27446;
	Thu, 8 Oct 1998 17:33:56 -0400 (EDT)
Resent-Date: Thu, 8 Oct 1998 17:33:49 -0400 (EDT)
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <981008143455.ZM21286@candle.brasslantern.com>
Date: Thu, 8 Oct 1998 14:34:55 -0700
In-Reply-To: <19981008224442.A10128@kappa.ro>
Comments: In reply to Mircea Damian <dmircea@secu.kappa.ro>
        "Re: How to trigger the death of zsh(3.0.5)" (Oct  8, 10:44pm)
References: <19981008204953.A9624@kappa.ro> 
	<981008115831.ZM20784@candle.brasslantern.com> 
	<19981008224442.A10128@kappa.ro> 
	<19981008224940.B10300@kappa.ro>
In-Reply-To: <19981008224940.B10300@kappa.ro>
Comments: In reply to Mircea Damian <dmircea@secu.kappa.ro>
        "Re: How to trigger the death of zsh(3.0.5)" (Oct  8, 10:49pm)
X-Mailer: Z-Mail (4.0b.820 20aug96)
To: Mircea Damian <dmircea@secu.kappa.ro>
Subject: Re: How to trigger the death of zsh(3.0.5)
Cc: zsh-users@math.gatech.edu
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Resent-Message-ID: <"8c_n32.0.Ai6.z-I7s"@math>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/1852
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

On Oct 8, 10:44pm, Mircea Damian wrote:
} Subject: Re: How to trigger the death of zsh(3.0.5)
}
} On Thu, Oct 08, 1998 at 11:58:31AM -0700, Bart Schaefer wrote:
} > That function is bound by default to ESC . and ESC _ in zsh.  Rebinding to
} > the bash equivalent is as easy as:
} > 
} > 	bindkey '\C\My' insert-last-word
} 
} Ok but how about the order? 
} ESC 1 ESC . will give the last argument when in bash it means the first
} one.

Ah.  There's really no way to fix that one.  Even in 3.1.4 where you can
make your own new zle functions, support for using the digit-argument
prefixes is not yet up to snuff.

You can do `ESC - ESC 1 ESC .' to negate the digit, in which case zsh
counts from the beginning.  You can even do `ESC - ESC 0 ESC .' to get
the command name.

Or you can do `! : x TAB' where x is the number of the word you want,
e.g. !:2 for the second word.

} Q: Is there a way to set the separator(or a list of separators) when
} doing backward-kill-word?

Yes, change the value of the WORDCHARS variable.  I use

	WORDCHARS='*?_-.[]~\!#$%^(){}<>'

The only drawback is that it also affects transpose-words, which is
sometimes not what you'd like.

On Oct 8, 10:49pm, Mircea Damian wrote:
} Subject: Re: How to trigger the death of zsh(3.0.5)
}
} What I meant is that if I press  \C\My I receive a
} beep instead of the last argument..

There are a couple of reasons why this might happen.  One is that if
you repeat insert-last-word without doing any other typing, it tries
to insert the last word from successively farther back in the history.
E.g.:

zsh[1] echo one two
one two
zsh[2] echo three four
three four
zsh[3] echo <ESC .>
zsh[3] echo four<ESC .>
zsh[3] echo two<ESC .>
(zsh beeps, ran out of history)
zsh[3] echo

More specifically than that, I can't tell.  If you type \Cv \C\My, what
do you see?  If you see ^Y, then your alt or meta key isn't working,
which could explain the beeping.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

