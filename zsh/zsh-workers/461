From zsh-workers-request@math.gatech.edu  Wed Oct 18 00:36:42 1995
Received: from gatech.edu (gatech.edu [130.207.244.244]) by werple.net.au (8.7/8.7) with SMTP id AAA21585 for <mason@werple.mira.net.au>; Wed, 18 Oct 1995 00:36:35 +1000 (EST)
Received: from euclid (euclid.skiles.gatech.edu) by gatech.edu with SMTP id AA21367
  (5.65c/Gatech-10.0-IDA for <mason@werple.mira.net.au>); Tue, 17 Oct 1995 10:32:20 -0400
Received: by euclid (5.x/SMI-SVR4)
	id AA11320; Tue, 17 Oct 1995 09:58:22 -0400
Resent-Date: Tue, 17 Oct 1995 14:58:29 +0100 (MET)
Old-Return-Path: <hzoli@cs.elte.hu>
From: Zoltan Hidvegi  <hzoli@cs.elte.hu>
Message-Id: <199510171358.OAA26673@bolyai.cs.elte.hu>
Subject: Re: Building zsh for multiple platforms
To: schaefer@z-code.com
Date: Tue, 17 Oct 1995 14:58:29 +0100 (MET)
Cc: zsh-workers@math.gatech.edu (zsh-workers)
In-Reply-To: <951016182151.ZM4264@zyrcon.z-code.com> from "Barton E. Schaefer" at Oct 16, 95 06:21:51 pm
X-Mailer: ELM [version 2.4 PL24]
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-Id: <"9ZfGE1.0.om2.zPxWm"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/461
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Bart Schaefer wrote:
> 
> I just tried out the trick of making a fresh directory for a new platform
> target and then running /path/to/zsh-sources/configure from the new dir.
> That seemed to work fine, so I ran "make", which also worked fine except
> that it put the final "zsh" executable in /path/to/zsh-sources/Src/zsh,
> stomping on the build I already had there.
> 
> Seems to me it ought to put the executable in the same place that it puts
> the object files.  Why is GNU make using the VPATH to determine the target
> directory for the executable?

I think GNU make just finds that there is a zsh bin in the target dir, and
puts the binary there.  I usually make all of my binaries in a separate
directory.  This does not pollute the source dir with .o, .pro etc. files, and
this way it is easier to pack a release.  But if you have a bin in the source
dir you can force make to compile into the destination dir by creating an
empty zsh file in the destination dir before doing a make.  Make will find it,
and will put the result there.

Bye,
  Zoltan

