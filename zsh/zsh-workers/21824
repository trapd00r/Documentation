From zsh-workers-return-21824-mason-zsh=primenet.com.au@sunsite.dk Tue Oct 04 09:53:33 2005
Return-Path: <zsh-workers-return-21824-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 370 invoked from network); 4 Oct 2005 09:53:30 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 4 Oct 2005 09:53:30 -0000
Received: (qmail 96192 invoked from network); 4 Oct 2005 09:53:25 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 4 Oct 2005 09:53:24 -0000
Received: (qmail 4625 invoked by alias); 4 Oct 2005 09:53:22 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 21824
Received: (qmail 4615 invoked from network); 4 Oct 2005 09:53:22 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 4 Oct 2005 09:53:21 -0000
Received: (qmail 95912 invoked from network); 4 Oct 2005 09:53:21 -0000
Received: from ns9.hostinglmi.net (213.194.149.146)
  by a.mx.sunsite.dk with SMTP; 4 Oct 2005 09:53:21 -0000
Received: from 212.red-80-35-44.staticip.rima-tde.net ([80.35.44.212] helo=localhost)
	by ns9.hostinglmi.net with esmtpa (Exim 4.52)
	id 1EMjU9-0002YY-71; Tue, 04 Oct 2005 11:53:21 +0200
Date: Tue, 4 Oct 2005 11:53:50 +0200
From: DervishD <zsh@dervishd.net>
To: Bart Schaefer <schaefer@brasslantern.com>
Cc: zsh-workers@sunsite.dk
Subject: Re: Latest 4.3.0-dev infinite-loops in Y0*.ztst
Message-ID: <20051004095350.GA19213@DervishD>
Mail-Followup-To: Bart Schaefer <schaefer@brasslantern.com>,
	zsh-workers@sunsite.dk
References: <1051004025021.ZM23329@candle.brasslantern.com> <1051004033617.ZM24182@candle.brasslantern.com> <1051004041456.ZM29954@candle.brasslantern.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
In-Reply-To: <1051004041456.ZM29954@candle.brasslantern.com>
User-Agent: Mutt/1.4.2.1i
Organization: DervishD
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - ns9.hostinglmi.net
X-AntiAbuse: Original Domain - sunsite.dk
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - dervishd.net
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Spam-Checker-Version: SpamAssassin 3.0.4 (2005-06-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.4

    Hi Bart :)

 * Bart Schaefer <schaefer@brasslantern.com> dixit:
> On Oct 4,  3:36am, Bart Schaefer wrote:
> }
> } old OS simply doesn't have full multibyte support, and what I really
> } need is for completion to work with --disable-multibyte.
> 
> That was a lot less difficult to track down than I expected.
> 
> Index: Src/Zle/complist.c
> 675c675
> <     while ((cc = *s)) {
> ---
> >     while ((cc = *s++)) {

    When applying this patch to a 4.2.5 source, it looks like already
applied, so I applied it with "patch -R" and the crash now happens
immediately, as soon as menu completion is started.

    I know that this problem is only vaguely related with mine (just
in the infinite loop side) but just in case you needed feedback...

    I'm going to build a zsh with debugging support, so if you need
any information just tell me what should I run.

    This bug is annoying because is VERY weird to have a COLUMNS
value less than, let's say, 60, but is not as weird to have more than
100 characters pathnames (or even filenames).

    Thanks again, Bart :)

    Raúl Núñez de Arenas Coronado

-- 
Linux Registered User 88736 | http://www.dervishd.net
http://www.pleyades.net & http://www.gotesdelluna.net
It's my PC and I'll cry if I want to...

