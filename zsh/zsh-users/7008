From zsh-users-return-7008-mason-zsh=primenet.com.au@sunsite.dk Mon Jan 19 09:57:44 2004
Return-Path: <zsh-users-return-7008-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 26729 invoked from network); 19 Jan 2004 09:57:44 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 19 Jan 2004 09:57:44 -0000
Received: (qmail 16275 invoked by alias); 19 Jan 2004 09:57:29 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 7008
Received: (qmail 16265 invoked from network); 19 Jan 2004 09:57:29 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 19 Jan 2004 09:57:29 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [68.1.17.115] by sunsite.dk (MessageWall 1.0.8) with SMTP; 19 Jan 2004 9:57:29 -0000
Received: from quark.localdomain ([68.12.75.33]) by lakemtao06.cox.net
          (InterMail vM.5.01.06.05 201-253-122-130-105-20030824) with ESMTP
          id <20040119095727.QYLH24575.lakemtao06.cox.net@quark.localdomain>
          for <zsh-users@sunsite.dk>; Mon, 19 Jan 2004 04:57:27 -0500
Received: from quark.localdomain (localhost.localdomain [127.0.0.1])
	by quark.localdomain (8.12.9/8.12.9) with ESMTP id i0J9vauO086786
	for <zsh-users@sunsite.dk>; Mon, 19 Jan 2004 03:57:36 -0600 (CST)
	(envelope-from vince@quark.localdomain)
Received: (from vince@localhost)
	by quark.localdomain (8.12.9/8.12.9/Submit) id i0J9vaLU086785
	for zsh-users@sunsite.dk; Mon, 19 Jan 2004 03:57:36 -0600 (CST)
Date: Mon, 19 Jan 2004 03:57:36 -0600
From: Vincent Stemen <zsh@hightek.org>
To: zsh-users@sunsite.dk
Subject: static link zsh/example and zsh/zftp errors on FreeBSD
Message-ID: <20040119095736.GA86747@quark.localdomain>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.4.1i

Hi.  Just providing a little feedback.

I am compiling zsh-4.1.1 as a static shell on FreeBSD-5.1.  It
seems to compile fine with most of the modules enabled except two of
them.

Enable zsh/example in config.modules:

name=zsh/example modfile=Src/Modules/example.mdd link=static auto=no load=yes

I get the following errors:

gcc -static   -o zsh main.o  `cat stamp-modobjs`   -ltermcap -lm  -lc
init.o: In function `init_bltinmods':
init.o(.text+0x236a): undefined reference to `add_automath'
init.o(.text+0x237b): undefined reference to `add_automath'
make[1]: *** [zsh] Error 1
make[1]: Leaving directory `/u1/g2/pkg/src/zsh-4.1.1/Src'
make: *** [all] Error 1


Enable zsh/zftp and I get the following error:

make[3]: Entering directory `/u1/g2/pkg/src/zsh-4.1.1/Src/Modules'
make[3]: *** No rule to make target `tcp.mdh', needed by `zftp.mdh'.
Stop.
make[3]: Leaving directory `/u1/g2/pkg/src/zsh-4.1.1/Src/Modules'
make[2]: *** [headers] Error 1
make[2]: Leaving directory `/u1/g2/pkg/src/zsh-4.1.1/Src'
make[1]: *** [headers] Error 2
make[1]: Leaving directory `/u1/g2/pkg/src/zsh-4.1.1/Src'
make: *** [all] Error 1


-- 
Vincent Stemen
Avoid the VeriSign/Network Solutions domain registration trap!
http://www.InetAddresses.net

