From zsh-workers-return-18406-mason-zsh=primenet.com.au@sunsite.dk Sun Mar 30 20:10:29 2003
Return-Path: <zsh-workers-return-18406-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 27203 invoked from network); 30 Mar 2003 20:10:28 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 30 Mar 2003 20:10:28 -0000
Received: (qmail 35 invoked by alias); 30 Mar 2003 20:10:22 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 18406
Received: (qmail 24 invoked from network); 30 Mar 2003 20:10:21 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 30 Mar 2003 20:10:21 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [207.172.4.61] by sunsite.dk (MessageWall 1.0.8) with SMTP; 30 Mar 2003 20:10:21 -0000
Received: from 209-122-247-161.c3-0.nwt-ubr2.sbo-nwt.ma.cable.rcn.com ([209.122.247.161] helo=zion.rcn.com)
	by smtp02.mrf.mail.rcn.net with esmtp (Exim 3.35 #4)
	id 18zj8G-0007Bi-00; Sun, 30 Mar 2003 15:10:20 -0500
Received: by zion.rcn.com (Postfix, from userid 501)
	id A0B7C1C015; Sun, 30 Mar 2003 15:08:37 -0500 (EST)
To: "Bart Schaefer" <schaefer@brasslantern.com>
Cc: Zsh hackers list <zsh-workers@sunsite.dk>
Subject: Re: Test Failures
From: Vin Shelton <acs@alumni.princeton.edu>
Organization: EtherSoft, Inc
Date: Sun, 30 Mar 2003 15:08:37 -0500
In-Reply-To: <1030330185910.ZM10122@candle.brasslantern.com> ("Bart
 Schaefer"'s message of "Sun, 30 Mar 2003 18:59:10 +0000")
Message-ID: <m2isu0bosa.fsf@zion.rcn.com>
Lines: 39
References: <5451y0rgrxu.fsf@icd.teradyne.com>
	<1030330185910.ZM10122@candle.brasslantern.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

"Bart Schaefer" <schaefer@brasslantern.com> writes:
> On Mar 28,  3:24pm, Vin Shelton wrote:
> }
> } Recently (starting I think on March 26), this failure appeared
>
> That would make sense, as the test in question was added on March 26.

Blush.

>
> } ***************
> } *** 1,2 ****
> } - 1) one     2) two     3) three   
> }   input> input> 
> } --- 1 ----
> } Was testing: `select' loop
>
> It looks like the test is working correctly (in the sense that it reads
> the input and chooses the right item from the list) except that the list
> of choices is not being printed to stderr where the test code expects to
> see it.
>
> This may be happening because loop.c:selectlist() is still using the global
> variable `columns' (usually initialized from the terminal size) to decide
> how wide a list to print, even when the input to the select loop is not
> coming from a terminal and the output is not to a terminal.
>
> That's only a guess, though, because this test passes on machines to which
> I have access.

OK, FWIW, I see the failure on both Solaris 5.5 and 5.8 at work, and
on my linux box:

: ~ Sun 30 14:55; uname -a
Linux zion.rcn.com 2.4.21-0.13mdkcustom #4 SMP Sat Mar 8 23:08:38 EST 2003 i686 unknown unknown GNU/Linux

here at home.

  - Vin

