From zsh-workers-return-12651-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Aug 15 15:59:06 2000
Return-Path: <zsh-workers-return-12651-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10585 invoked from network); 15 Aug 2000 15:59:04 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 15 Aug 2000 15:59:04 -0000
Received: (qmail 339 invoked by alias); 15 Aug 2000 15:58:54 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 12651
Received: (qmail 332 invoked from network); 15 Aug 2000 15:58:51 -0000
Date: Tue, 15 Aug 2000 17:56:02 +0200
From: =?iso-8859-1?Q?Thomas_K=F6hler?= <jean-luc@picard.franken.de>
To: Zsh workers <zsh-workers@sunsite.auc.dk>
Subject: Re: Seg fault with zmodload -u
Message-ID: <20000815175602.A25814@picard.franken.de>
Mail-Followup-To: =?iso-8859-1?Q?Thomas_K=F6hler?= <jean-luc@picard.franken.de>,
	Zsh workers <zsh-workers@sunsite.auc.dk>
References: <200008151518.QAA42116@cm01.ess> <20000815174053.B5810@picard.franken.de> <20000815174856.A20116@picard.franken.de>
Mime-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-sha1;
	protocol="application/pgp-signature"; boundary="0F1p//8PRICkK4MW"
Content-Disposition: inline
User-Agent: Mutt/1.2.5i
In-Reply-To: <20000815174856.A20116@picard.franken.de>; from jean-luc@picard.franken.de on Tue, Aug 15, 2000 at 05:50:28PM +0200
X-Operating-System: Linux picard 2.2.17
X-Editor: VIM - Vi IMproved 6.0f ALPHA http://www.vim.org/
X-IRC: tirc-1.2; Nick: jeanluc
X-URL: http://jeanluc-picard.de/


--0F1p//8PRICkK4MW
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

On Tue, Aug 15, 2000 at 05:50:28PM +0200, I wrote:
>=20
> On Tue, Aug 15, 2000 at 05:42:13PM +0200, I wrote:
> >=20
> > On Tue, Aug 15, 2000 at 05:24:45PM +0200,
> > Oliver Kiddle <opk@u.genie.co.uk> wrote:
> > >=20
> > > zsh -f
> > > zmodload -ud zsh/zleparameter zsh/zle
> > > zsh: 18383 segmentation fault  zsh -f
> > [...]
> > > This is on 3.1.9-dev-4 plus patches up to 12568 on AIX. If it isn't
> > > reproducible elsewhere, I'll upgrade to the latest cvs and try again.
> >=20
> > ~> zsh -f
> > picard% zmodload -ud zsh/zleparameter zsh/zle
> > zsh: segmentation fault (core dumped)  zsh -f
> > ~> echo $ZSH_VERSION
> > 3.1.9-dev-5
>=20
> Oops, forgot to mention, this is on Linux for i386.

And here's the gdb ouput:
~> gdb =3Dzsh core
GNU gdb 5.0
Copyright 2000 Free Software Foundation, Inc.
GDB is free software, covered by the GNU General Public License, and you are
welcome to change it and/or distribute copies of it under certain condition=
s.
Type "show copying" to see the conditions.
There is absolutely no warranty for GDB.  Type "show warranty" for details.
This GDB was configured as "i686-pc-linux-gnu"...(no debugging symbols foun=
d)...
Core was generated by `zsh -f'.
Program terminated with signal 11, Speicherzugriffsfehler.
Reading symbols from /lib/libdl.so.2...(no debugging symbols found)...done.
Loaded symbols for /lib/libdl.so.2
Reading symbols from /lib/libnsl.so.1...(no debugging symbols found)...done.
Loaded symbols for /lib/libnsl.so.1
Reading symbols from /lib/libncurses.so.5...(no debugging symbols found)...=
done.
Loaded symbols for /lib/libncurses.so.5
Reading symbols from /lib/libm.so.6...(no debugging symbols found)...done.
Loaded symbols for /lib/libm.so.6
Reading symbols from /lib/libc.so.6...(no debugging symbols found)...done.
Loaded symbols for /lib/libc.so.6
Reading symbols from /lib/ld-linux.so.2...(no debugging symbols found)...do=
ne.
Loaded symbols for /lib/ld-linux.so.2
Reading symbols from /lib/libnss_compat.so.2...(no debugging symbols found)=
...done.
Loaded symbols for /lib/libnss_compat.so.2
Reading symbols from /usr/lib/zsh/3.1.9-dev-5/zsh/zle.so...(no debugging sy=
mbols found)...done.
Loaded symbols for /usr/lib/zsh/3.1.9-dev-5/zsh/zle.so
Reading symbols from /usr/lib/zsh/3.1.9-dev-5/zsh/complete.so...(no debuggi=
ng symbols found)...done.
Loaded symbols for /usr/lib/zsh/3.1.9-dev-5/zsh/complete.so
Reading symbols from /usr/lib/zsh/3.1.9-dev-5/zsh/compctl.so...(no debuggin=
g symbols found)...done.
Loaded symbols for /usr/lib/zsh/3.1.9-dev-5/zsh/compctl.so
#0  0x80767f1 in deletewrapper ()
(gdb) where
#0  0x80767f1 in deletewrapper ()
#1  0x8077595 in bin_zmodload ()
#2  0x8077071 in bin_zmodload ()
#3  0x8051d7d in execbuiltin ()
#4  0x805e36c in execsubst ()
#5  0x805bda5 in execlist ()
#6  0x805b583 in execlist ()
#7  0x805b101 in execlist ()
#8  0x805aed6 in execode ()
#9  0x806a66e in loop ()
#10 0x806c8d4 in zsh_main ()
#11 0x8051648 in main ()
#12 0x400a6a42 in __libc_start_main () from /lib/libc.so.6
(gdb)=20

Does this help in any way?

CU,
Thomas

--=20
 Thomas K=F6hler Email:   jean-luc@picard.franken.de     | LCARS - Linux
     <><        WWW:     http://jeanluc-picard.de      | for Computers
                IRC:             jeanluc               | on All Real
               PGP public key available from Homepage! | Starships

--0F1p//8PRICkK4MW
Content-Type: application/pgp-signature
Content-Disposition: inline

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.2 (GNU/Linux)
Comment: Weitere Infos: siehe http://www.gnupg.org

iD8DBQE5mWgSTEYXWMJlHuYRAm2SAJ92lqIIcnudoJ7k79W8Zm9ER0JQ5wCfRqgl
6w5phnfYj/9cjAZX46kmX0Y=
=fV8H
-----END PGP SIGNATURE-----

--0F1p//8PRICkK4MW--

