From zsh-workers-return-11769-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Jun 06 08:38:37 2000
Return-Path: <zsh-workers-return-11769-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 804 invoked from network); 6 Jun 2000 08:38:22 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 6 Jun 2000 08:38:22 -0000
Received: (qmail 6068 invoked by alias); 6 Jun 2000 08:37:53 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 11769
Received: (qmail 6059 invoked from network); 6 Jun 2000 08:37:53 -0000
Date: Tue, 6 Jun 2000 10:37:42 +0200 (MET DST)
Message-Id: <200006060837.KAA08259@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: "Bart Schaefer"'s message of Mon, 5 Jun 2000 15:13:39 +0000
Subject: Re: insert-tab (Re: Getting "parse error" from _path_files)


Bart Schaefer wrote:

> On Jun 5,  4:33pm, Sven Wischnowsky wrote:
> } Subject: Re: Getting "parse error" from _path_files
> }
> } Bart Schaefer wrote:
> } 
> } > if [[ "$compstate[insert]" = tab* && "$WIDGET" != *list* ]]; then
> } >   { zstyle -T ":completion:${curcontext}:" insert-tab &&
> } >     { [[ "$curcontext" != :* || -z "$compstate[vared]" ]] ||
> } > 	zstyle -t ":completion:vared${curcontext}:" insert-tab } } && return 0
> } > 
> } > Which reminds me to wonder why insert-tab is tested for *not* being set,
> } > at that point?
> } 
> } Err...? It is tested for being set (to true), with different defaults for
> } not-in-vared and in-vared.
> 
> zagzig[38] zstyle ':completion:*' insert-tab true
> zagzig[39] ls x<TAB>
> Completing `file'
> 
> According to the doc for insert-tab, I should have gotten a tab inserted,
> because there is a non-blank character to the left of the cursor.

No, you get the tab when there is *no* non-blank character to the left:

item(tt(insert-tab))(
If this has one of the `true' values, the completion system will
insert a TAB character (assuming it was used to start completion) instead
of performing completion when there is no non-blank character to the left
of the cursor.  If set to `false', completion will be done even there.

The default value of this style is `true' unless when completing
inside the tt(vared) builtin command, where it defaults to `false'.
)


Bye
 Sven


--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

