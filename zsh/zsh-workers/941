From kazda@VNET.IBM.COM Mon Apr 22 23:41:00 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by melb.werple.net.au (8.7.5/8.7.3) with ESMTP id XAA06759 for <mason@werple.mira.net.au>; Mon, 22 Apr 1996 23:40:57 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id JAA10702; Mon, 22 Apr 1996 09:24:27 -0400 (EDT)
Resent-Date: Mon, 22 Apr 1996 09:24:27 -0400 (EDT)
Date: Mon, 22 Apr 1996 09:24:06 -0400
From: <kazda@VNET.IBM.COM> (Mike Kazda)
Message-Id: <9604221324.AA21352@rumor.fishkill.ibm.com>
To: zsh-workers@math.gatech.edu
Cc: Peter Whaite <peta@cim.mcgill.ca>
Subject: Re: zsh-2.6-beta14 on AIX with login shell problem
In-Reply-To: <199604220408.AAA17070@Kolmogorov.McRCIM.McGill.EDU>
References: <9604220120.AA18880@rumor.fishkill.ibm.com>
        <199604220408.AAA17070@Kolmogorov.McRCIM.McGill.EDU>
Resent-Message-ID: <"BAu7W1.0.8d2.AYuUn"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/941
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu
Content-Length: 1318
Status: OR

>>>>> "Peter" == Peter Whaite <peta@cim.mcgill.ca> writes:

    Peter> This might be because the TERM you are using is not
    Peter> installed in the terminfo data base.

Actually the TERM (xterm in this case) is in the terminfo database in
/usr/lib/terminfo.

    Peter> to specify my own terminfo database.  Unfortunately this
    Peter> does not by itself tell zsh to go and take another look for
    Peter> the terminal type.  You have to follow it with

    Peter>      export TERM=$TERM

    Peter> Maybe someone can tell me of a neater way to get an
    Peter> alternative terminfo data base to take effect.

I just tried a co-worker's terminfo database using TERMINFO in my
..profile BEFORE I exec the zsh beta process.  All I set was the
TERMINFO variable and did not have to export TERM=$TERM as you've
indicated.

Using his database, it works correctly.  I can't really explain it,
all he added was a few keypad and function key entries to the end of
the xterm:

        knp=\E[6~, kpp=\E[5~,
        kf5=\E[15~, kf6=\E[17~, kf7=\E[18~, kf8=\E[19~, kf9=\E[20~,
        kf10=\E[21~, kf11=\E[23~, kf12=\E[24~,

I don't see how this affects the difference I've seen on v2.5.03 and
the v2.6-beta14.  There must be some difference in the code that I'm
seeing, but I'm not well versed in it to locate it.

Mike


