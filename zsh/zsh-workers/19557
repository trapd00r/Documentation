From zsh-workers-return-19557-mason-zsh=primenet.com.au@sunsite.dk Mon Mar 08 13:39:39 2004
Return-Path: <zsh-workers-return-19557-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 19557 invoked from network); 8 Mar 2004 13:39:38 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 8 Mar 2004 13:39:38 -0000
Received: (qmail 2857 invoked by alias); 8 Mar 2004 13:39:28 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 19557
Received: (qmail 2847 invoked from network); 8 Mar 2004 13:39:27 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 8 Mar 2004 13:39:27 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [193.109.254.211] by sunsite.dk (MessageWall 1.0.8) with SMTP; 8 Mar 2004 13:39:27 -0000
X-VirusChecked: Checked
X-Env-Sender: okiddle@yahoo.co.uk
X-Msg-Ref: server-12.tower-36.messagelabs.com!1078753166!4438115
X-StarScan-Version: 5.2.5; banners=-,-,-
X-Originating-IP: [158.234.9.163]
Received: (qmail 2876 invoked from network); 8 Mar 2004 13:39:26 -0000
Received: from iris.logica.co.uk (158.234.9.163)
  by server-12.tower-36.messagelabs.com with SMTP; 8 Mar 2004 13:39:26 -0000
Received: from trentino.logica.co.uk ([158.234.142.61])
	by iris.logica.co.uk (8.12.3/8.12.3/Debian -4) with ESMTP id i28DdQCk006624;
	Mon, 8 Mar 2004 13:39:26 GMT
Received: from trentino.logica.co.uk (localhost [127.0.0.1])
	by trentino.logica.co.uk (Postfix) with ESMTP
	id 1438079721B9; Mon,  8 Mar 2004 14:38:42 +0100 (CET)
X-VirusChecked: Checked
X-StarScan-Version: 5.0.7; banners=.,-,-
In-reply-to: <10956.1078747416@csr.com> 
From: Oliver Kiddle <okiddle@yahoo.co.uk>
References: <10956.1078747416@csr.com>
To: zsh-workers@sunsite.dk (Zsh hackers list)
Cc: James Devenish <j-devenish@users.sourceforge.net>
Subject: Re: PATCH: case-insensitive globbing 
Date: Mon, 08 Mar 2004 14:38:42 +0100
Message-ID: <20450.1078753122@trentino.logica.co.uk>

Peter wrote:
> 
> > It's just a thought but would it be somehow possible to detect the
> > filesystem type and allow the efficency gain to be of use where, for
> > example, a windows partition is mounted from linux.
> 
> Yes, it occurred to me, but it's too complicated for now.  Also, it
> means checking for every single file when the option is on.  I'm not
> sure this can be done efficiently.

Wouldn't each directory be sufficient?

> +	if (!patglobflags
> +#ifdef __CYGWIN__

As pointed out by James Devenish, it is probably also relevant for Mac
OS X. Can anyone confirm what preprocessor defines we should be looking
for? My reading of this:
  http://developer.apple.com/technotes/tn2002/tn2071.html
would indicate both __APPLE__ and __MACH__ but it isn't entirely clear.

Oliver

