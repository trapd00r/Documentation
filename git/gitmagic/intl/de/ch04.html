<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
  <meta name="generator" content=
  "HTML Tidy for Linux/x86 (vers 25 March 2009), see www.w3.org">
  <meta http-equiv="Content-Type" content=
  "text/html; charset=utf-8">

  <title>Git Magic - Kapitel 4. Branch-Magie</title>
  <link rel="stylesheet" href="default.css" type="text/css">
  <meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
  <link rel="home" href="index.html" title=
  "Git Magic = Ben Lynn August 2007">
  <link rel="up" href="index.html" title=
  "Git Magic = Ben Lynn August 2007">
  <link rel="prev" href="ch03.html" title=
  "Kapitel 3. Rund ums Clonen">
  <link rel="next" href="ch05.html" title=
  "Kapitel 5. Geschichtsstunde">
</head>

<body bgcolor="white" text="black" link="#0000FF" vlink="#840084"
alink="#0000FF">
    <div class="toc">
      <ul>
<li><b>Git Magic</b></li>
        <li>
          <span class="preface"><a href=
          "index.html">Vorwort</a></span>

          <ul>
            <li><span class="section"><a href=
            "index.html#_danke">Danke!</a></span></li>

            <li><span class="section"><a href=
            "index.html#_lizenz">Lizenz</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch01.html">1.
          Einleitung</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch01.html#_arbeit_ist_spiel">Arbeit ist
            Spiel</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_versionsverwaltung">Versionsverwaltung</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_verteilte_kontrolle">Verteilte
            Kontrolle</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_ein_dummer_aberglaube">Ein dummer
            Aberglaube</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_emphasis_merge_emphasis_konflikte"><span class="emphasis">
            <em>Merge</em></span> Konflikte</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch02.html">2. Erste
          Schritte</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch02.html#_stand_sichern">Stand
            sichern</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_hinzuf_gen_l_schen_umbenennen">Hinzufügen,
            Löschen, Umbenennen</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_fortgeschrittenes_r_ckg_ngig_machen_wiederherstellen">
            Fortgeschrittenes Rückgängig
            machen/Wiederherstellen</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_r_ckg_ngig_machen">Rückgängig
            machen</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_changelog_erstellen">Changelog
            erstellen</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_dateien_herunterladen">Dateien
            herunterladen</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_das_neueste_vom_neuen">Das Neueste vom
            Neuen</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_einfaches_ver_ffentlichen">Einfaches
            Veröffentlichen</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_was_habe_ich_getan">Was habe ich
            getan?</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_bung">Übung</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch03.html">3. Rund ums
          <span class="emphasis"><em>Clonen</em></span></a></span>

          <ul>
            <li><span class="section"><a href=
            "ch03.html#_computer_synchronisieren">Computer
            synchronisieren</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_klassische_quellcodeverwaltung">Klassische
            Quellcodeverwaltung</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_geheime_quellen">Geheime
            Quellen</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_emphasis_nackte_repositories_emphasis"><span class="emphasis">
            <em>Nackte Repositories</em></span></a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_emphasis_push_emphasis_oder_emphasis_pull_emphasis">
            <span class="emphasis"><em>Push</em></span> oder
            <span class=
            "emphasis"><em>Pull</em></span></a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_emphasis_fork_emphasis_eines_projekts"><span class="emphasis">
            <em>Fork</em></span> eines Projekts</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_ultimative_datensicherung">Ultimative
            Datensicherung</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_multitasking_mit_lichtgeschwindigkeit">Multitasking
            mit Lichtgeschwindigkeit</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_versionsverwaltung_im_untergrund">Versionsverwaltung
            im Untergrund</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_mercurial">Mercurial</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_bazaar">Bazaar</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_warum_ich_git_benutze">Warum ich Git
            benutze</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch04.html">4. <span class=
          "emphasis"><em>Branch</em></span>-Magie</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch04.html#_die_chef_taste">Die
            Chef-Taste</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_schmutzarbeit">Schmutzarbeit</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_schnelle_fehlerbehebung">Schnelle
            Fehlerbehebung</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_emphasis_mergen_emphasis"><span class=
            "emphasis"><em>Mergen</em></span></a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_kontinuierlicher_arbeitsfluss">Kontinuierlicher
            Arbeitsfluss</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_mischmasch_reorganisieren">Mischmasch
            Reorganisieren</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_emphasis_branches_emphasis_verwalten"><span class="emphasis">
            <em>Branches</em></span> verwalten</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_tempor_re_emphasis_branches_emphasis">Temporäre
            <span class=
            "emphasis"><em>Branches</em></span></a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_arbeite_wie_du_willst">Arbeite wie du
            willst</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch05.html">5.
          Geschichtsstunde</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch05.html#_ich_nehme_alles_zur_ck">Ich nehme alles
            zurück</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_8230_und_noch_viel_mehr">… und noch viel
            mehr</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_lokale_nderungen_zum_schlu">Lokale
            Änderungen zum Schluß</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_chronik_umschreiben">Chronik
            umschreiben</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_geschichte_machen">Geschichte
            machen</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_wo_ging_alles_schief">Wo ging alles
            schief?</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_wer_ist_verantwortlich">Wer ist
            verantwortlich?</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_pers_nliche_erfahrungen">Persönliche
            Erfahrungen</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch06.html">6. Multiplayer
          Git</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch06.html#_wer_bin_ich">Wer bin ich?</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_git_ber_ssh_http">Git über SSH,
            HTTP</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_git_ber_alles">Git über
            alles</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_patches_das_globale_zahlungsmittel">Patches:
            Das globale Zahlungsmittel</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_entschuldigung_wir_sind_umgezogen">Entschuldigung,
            wir sind umgezogen.</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_entfernte_emphasis_branches_emphasis">Entfernte
            <span class=
            "emphasis"><em>Branches</em></span></a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_mehrere_emphasis_remotes_emphasis">Mehrere
            <span class=
            "emphasis"><em>Remotes</em></span></a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_meine_einstellungen">Meine
            Einstellungen</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch07.html">7. Git für
          Fortgeschrittene</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch07.html#_quellcode_ver_ffentlichen">Quellcode
            veröffentlichen</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_emphasis_commite_emphasis_nderungen"><span class="emphasis">
            <em>Commite</em></span> Änderungen</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_mein_emphasis_commit_emphasis_ist_zu_gro">Mein
            <span class="emphasis"><em>Commit</em></span> ist zu
            groß!</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_der_index_git_8217_s_bereitstellungsraum">Der
            Index: Git’s Bereitstellungsraum</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_verliere_nicht_deinen_kopf">Verliere nicht
            Deinen KOPF</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_kopf_jagd">KOPF-Jagd</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_auf_git_bauen">Auf Git
            bauen</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_gewagte_kunstst_cke">Gewagte
            Kunststücke</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_verhindere_schlechte_emphasis_commits_emphasis">
            Verhindere schlechte <span class=
            "emphasis"><em>Commits</em></span></a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch08.html">8. Aufgedeckte
          Geheimnisse</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch08.html#_unsichtbarkeit">Unsichtbarkeit</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_integrit_t">Integrität</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_intelligenz">Intelligenz</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_indizierung">Indizierung</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_git_8217_s_wurzeln">Git’s
            Wurzeln</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_die_objektdatenbank">Die
            Objektdatenbank</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_blobs">Blobs</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_emphasis_trees_emphasis"><span class=
            "emphasis"><em>Trees</em></span></a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_emphasis_commits_emphasis"><span class=
            "emphasis"><em>Commits</em></span></a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_von_magie_nicht_zu_unterscheiden">Von Magie
            nicht zu unterscheiden</a></span></li>
          </ul>
        </li>

        <li>
          <span class="appendix"><a href="apa.html">A. Git’s
          Mängel</a></span>

          <ul>
            <li><span class="section"><a href=
            "apa.html#_sha1_schw_che">SHA1 Schwäche</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_microsoft_windows">Microsoft
            Windows</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_dateien_ohne_bezug">Dateien ohne
            Bezug</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_wer_macht_was">Wer macht
            was?</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_dateihistorie">Dateihistorie</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_der_erster_klon">Der erster
            Klon</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_unbest_ndige_projekte">Unbeständige
            Projekte</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_globaler_z_hler">Globaler
            Zähler</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_leere_unterverzeichnisse">Leere
            Unterverzeichnisse</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_initialer_emphasis_commit_emphasis">Initialer
            <span class=
            "emphasis"><em>Commit</em></span></a></span></li>

            <li><span class="section"><a href=
            "apa.html#_eigenarten_der_anwendung">Eigenarten der
            Anwendung</a></span></li>
          </ul>
        </li>

        <li><span class="appendix"><a href="apb.html">B. Diese
        Anleitung übersetzen</a></span></li>
      </ul>
    </div>
<div class="content">
  <div class="chapter" title="Kapitel 4. Branch-Magie">
    <div class="titlepage">
      <div>
        <div>
          <h2 class="title"><a name=
          "_emphasis_branch_emphasis_magie"></a>Kapitel 4.
          <span class="emphasis"><em>Branch</em></span>-Magie</h2>
        </div>
      </div>
    </div>

    <p>Unverzügliches <span class=
    "emphasis"><em>Branchen</em></span> und <span class=
    "emphasis"><em>Mergen</em></span> sind die hervorstechenden
    Eigenschaften von Git.</p>

    <p><span class="strong"><strong>Problem</strong></span>:
    Externe Faktoren zwingen zum Wechsel des Kontext. Ein
    schwerwiegender Fehler in der veröffentlichten Version tritt
    ohne Vorwarnung auf. Die Frist für ein bestimmtes
    Leistungsmerkmal rückt näher. Ein Entwickler, dessen
    Unterstützung für eine Schlüsselstelle im Projekt wichtig ist,
    verlässt das Team. In allen Fällen musst du alles stehen und
    liegen lassen und dich auf eine komplett andere Aufgabe
    konzentrieren.</p>

    <p>Den Gedankengang zu unterbrechen ist schlecht für die
    Produktivität und je komplizierter der Kontextwechsel ist,
    desto größer ist der Verlust. Mit zentraler Versionsverwaltung
    müssen wir eine neue Arbeitskopie vom Server herunterladen. Bei
    verteilen Systemen ist das viel besser, da wir die benötigt
    Version lokal <span class="emphasis"><em>clonen</em></span>
    können.</p>

    <p>Doch das <span class="emphasis"><em>Clonen</em></span>
    bringt das Kopieren des gesamten Arbeitsverzeichnis wie auch
    die ganze Geschichte bis zum angegebenen Punkt mit sich. Auch
    wenn Git die Kosten durch Dateifreigaben und Verknüpfungen
    reduziert, müssen doch die gesamten Projektdateien im neuen
    Arbeitsverzeichnis erstellt werden.</p>

    <p><span class="strong"><strong>Lösung</strong></span>: Git hat
    ein besseres Werkzeug für diese Situationen, die wesentlich
    schneller und platzsparender als <span class=
    "emphasis"><em>clonen</em></span> ist: <span class=
    "strong"><strong>git branch</strong></span>.</p>

    <p>Mit diesem Zauberwort verwandeln sich die Dateien in deinem
    Arbeitsverzeichnis plötzlich von einer Version in eine andere.
    Diese Verwandlung kann mehr als nur in der Geschichte vor und
    zurück gehen. Deine Dateien können sich verwandeln, vom
    aktuellsten Stand, zur experimentellen Version, zum neusten
    Entwicklungsstand, zur Version deines Freundes und so
    weiter.</p>

    <div class="section" title="Die Chef-Taste">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name="_die_chef_taste"></a>Die
            Chef-Taste</h2>
          </div>
        </div>
      </div>

      <p>Hast du schon einmal ein Spiel gespielt, wo beim Drücken
      einer Taste (“der Chef-Taste”), der Monitor sofort ein
      Tabellenblatt oder etwas anderes angezeigt hat? Dass, wenn
      der Chef ins Büro spaziert, während du das Spiel spielst, du
      es schnell verstecken kannst?</p>

      <p>In irgendeinem Verzeichnis:</p>
      <pre class="literallayout">
$ echo "Ich bin klüger als mein Chef" &gt; meinedatei.txt
$ git init
$ git add .
$ git commit -m "Erster Stand"
</pre>

      <p>Wir haben ein Git <span class=
      "emphasis"><em>Repository</em></span> erstellt, das eine
      Textdatei mit einer bestimmten Nachricht enthält. Nun gib
      ein:</p>
      <pre class="literallayout">
$ git checkout -b chef  # scheinbar hat sich danach nichts geändert
$ echo "Mein Chef ist klüger als ich" &gt; meinedatei.txt
$ git commit -a -m "Ein anderer Stand"
</pre>

      <p>Es sieht aus als hätten wir unsere Datei überschrieben und
      <span class="emphasis"><em>commitet</em></span>. Aber es ist
      eine Illusion. Tippe:</p>
      <pre class="literallayout">
$ git checkout master  # wechsle zur Originalversion der Datei
</pre>

      <p>und Simsalabim! Die Textdatei ist wiederhergestellt. Und
      wenn der Chef in diesem Verzeichnis herumschnüffelt,
      tippe:</p>
      <pre class="literallayout">
$ git checkout chef  # wechsle zur Version die der Chef ruhig sehen kann
</pre>

      <p>Du kannst zwischen den beiden Versionen wechseln, so oft
      du willst und du kannst unabhängig voneinander in jeder
      Version Änderungen <span class=
      "emphasis"><em>commiten</em></span></p>
    </div>

    <div class="section" title="Schmutzarbeit">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_schmutzarbeit"></a>Schmutzarbeit</h2>
          </div>
        </div>
      </div>

      <p><a name="branch" id="branch"></a> Sagen wir, du arbeitest
      an einer Funktion und du musst, warum auch immer, drei
      Versionen zurückgehen um ein paar print Anweisungen
      einzufügen, damit du siehst, wie etwas funktioniert.
      Dann:</p>
      <pre class="literallayout">
$ git commit -a
$ git checkout HEAD~3
</pre>

      <p>Nun kannst du überall wild temporären Code hinzufügen. Du
      kannst diese Änderungen sogar <span class=
      "emphasis"><em>commiten</em></span>. Wenn du fertig bist,</p>
      <pre class="literallayout">
$ git checkout master
</pre>

      <p>um zur ursprünglichen Arbeit zurückzukehren. Beachte, dass
      alle Änderungen, die nicht <span class=
      "emphasis"><em>commitet</em></span> sind übernommen
      werden.</p>

      <p>Was, wenn du am Ende die temporären Änderungen sichern
      willst? Einfach:</p>
      <pre class="literallayout">
$ git checkout -b schmutzig
</pre>

      <p>und <span class="emphasis"><em>commite</em></span> bevor
      du auf den <span class="emphasis"><em>Master
      Branch</em></span> zurückschaltest. Wann immer du zu deiner
      Schmutzarbeit zurückkehren willst, tippe einfach:</p>
      <pre class="literallayout">
$ git checkout schnmutzig
</pre>

      <p>Wir sind mit dieser Anweisung schon in einem früheren
      Kapitel in Berührung gekommen, als wir das Laden alter Stände
      besprochen haben. Nun können wir die ganze Geschichte
      erzählen: Die Dateien ändern sich zu dem angeforderten Stand,
      aber wir müssen den <span class="emphasis"><em>Master
      Branch</em></span> verlassen. Jeder <span class=
      "emphasis"><em>Commit</em></span> ab jetzt führt deine
      Dateien auf einen anderen Weg, dem wir später noch einen
      Namen geben können.</p>

      <p>Mit anderen Worten, nach dem Abrufen eines alten Stands
      versetzt dich Git automatisch in einen neuen, unbenannten
      <span class="emphasis"><em>Branch</em></span>, der mit
      <span class="strong"><strong>git checkout -b</strong></span>
      benannt und gesichert werden kann.</p>
    </div>

    <div class="section" title="Schnelle Fehlerbehebung">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_schnelle_fehlerbehebung"></a>Schnelle
            Fehlerbehebung</h2>
          </div>
        </div>
      </div>

      <p>Du steckst mitten in der Arbeit, als es heißt alles fallen
      zu lassen um einen neu entdeckten Fehler in <span class=
      "emphasis"><em>Commit</em></span> <code class=
      "literal">1b6d...</code> zu beheben:</p>
      <pre class="literallayout">
$ git commit -a
$ git checkout -b fixes 1b6d
</pre>

      <p>Dann, wenn du den Fehler behoben hast:</p>
      <pre class="literallayout">
$ git commit -a -m "Fehler behoben"
$ git checkout master
</pre>

      <p>und fahre mit deiner ursprünglichen Arbeit fort. Du kannst
      sogar die frisch gebackene Fehlerkorrektur auf Deinen
      aktuellen Stand übernehmen:</p>
      <pre class="literallayout">
$ git merge fixes
</pre>
    </div>

    <div class="section" title="Mergen">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_emphasis_mergen_emphasis"></a><span class=
            "emphasis"><em>Mergen</em></span></h2>
          </div>
        </div>
      </div>

      <p>Mit einigen Versionsverwaltungssystemen ist das Erstellen
      eines <span class="emphasis"><em>Branch</em></span> einfach,
      aber das Zusammenfügen (<span class=
      "emphasis"><em>Mergen</em></span>) ist schwierig. Mit Git ist
      <span class="emphasis"><em>Mergen</em></span> so einfach,
      dass du gar nicht merkst, wenn es passiert.</p>

      <p>Tatsächlich sind wir dem <span class=
      "emphasis"><em>Mergen</em></span> schon lange begegnet. Die
      <span class="strong"><strong>pull</strong></span> Anweisung
      holt (<span class="emphasis"><em>fetch</em></span>)
      eigentlich die <span class="emphasis"><em>Commits</em></span>
      und verschmilzt (<span class=
      "emphasis"><em>merged</em></span>) diese dann mit dem
      aktuellen <span class="emphasis"><em>Branch</em></span>. Wenn
      du keine lokalen Änderungen hast, dann ist <span class=
      "emphasis"><em>merge</em></span> eine <span class=
      "emphasis"><em>schnelle Weiterleitung</em></span>, ein
      Ausnahmefall, ähnlich dem Abrufen der letzten Version eines
      zentralen Versionsverwaltungssystems. Wenn du aber Änderungen
      hast, wird Git diese automatisch <span class=
      "emphasis"><em>mergen</em></span> und dir Konflikte
      melden.</p>

      <p>Normalerweise hat ein <span class=
      "emphasis"><em>Commit</em></span> genau einen
      Eltern-<span class="emphasis"><em>Commit</em></span>, nämlich
      den vorhergehenden <span class=
      "emphasis"><em>Commit</em></span>. Das <span class=
      "emphasis"><em>Mergen</em></span> mehrerer <span class=
      "emphasis"><em>Branches</em></span> erzeugt einen
      <span class="emphasis"><em>Commit</em></span> mit mindestens
      zwei Eltern. Das wirft die Frage auf: Welchen <span class=
      "emphasis"><em>Commit</em></span> referenziert <code class=
      "literal">HEAD~10</code> tatsächlich? Ein <span class=
      "emphasis"><em>Commit</em></span> kann mehrere Eltern haben,
      welchem folgen wir also?</p>

      <p>Es stellt sich heraus, dass diese Notation immer den
      ersten Elternteil wählt. Dies ist erstrebenswert, denn der
      aktuelle <span class="emphasis"><em>Branch</em></span> wird
      zum ersten Elternteil während eines <span class=
      "emphasis"><em>Merge</em></span>; häufig bist du nur von
      Änderungen betroffen, die du im aktuellen <span class=
      "emphasis"><em>Branch</em></span> gemacht hast, als von den
      Änderungen die von anderen <span class=
      "emphasis"><em>Branches</em></span> eingebracht wurden.</p>

      <p>Du kannst einen bestimmten Elternteil mit einem
      Caret-Zeichen referenzieren. Um zum Beispiel die Logs vom
      zweiten Elternteil anzuzeigen:</p>
      <pre class="literallayout">
$ git log HEAD^2
</pre>

      <p>Du kannst die Nummer für den ersten Elternteil weglassen.
      Um zum Beispiel die Unterschiede zum ersten Elternteil
      anzuzeigen:</p>
      <pre class="literallayout">
$ git diff HEAD^
</pre>

      <p>Du kannst diese Notation mit anderen Typen kombinieren.
      Zum Beispiel:</p>
      <pre class="literallayout">
$ git checkout 1b6d^^2~10 -b uralt
</pre>

      <p>beginnt einen neuen <span class=
      "emphasis"><em>Branch</em></span> “uralt”, welcher den Stand
      10 <span class="emphasis"><em>Commits</em></span> zurück vom
      zweiten Elternteil des ersten Elternteil des <span class=
      "emphasis"><em>Commits</em></span>, dessen Hashwert mit 1b6d
      beginnt.</p>
    </div>

    <div class="section" title="Kontinuierlicher Arbeitsfluss">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_kontinuierlicher_arbeitsfluss"></a>Kontinuierlicher
            Arbeitsfluss</h2>
          </div>
        </div>
      </div>

      <p>In Herstellungsprozessen muss der zweiter Schritt eines
      Plans oft auf die Fertigstellung des ersten Schritt warten.
      Ein Auto, das repariert werden soll, steht unbenutzt in der
      Garage bis ein Ersatzteil geliefert wird. Ein Prototyp muss
      warten, bis ein Baustein fabriziert wurde, bevor die
      Konstruktion fortgesetzt werden kann.</p>

      <p>Bei Softwareprojekten kann das ähnlich sein. Der zweite
      Teil eines Leistungsmerkmals muss warten, bis der erste Teil
      veröffentlicht und getestet wurde. Einige Projekte erfordern,
      dass dein Code überprüft werden muss bevor er akzeptiert
      wird, du musst also warten, bis der erste Teil geprüft wurde,
      bevor du mit dem zweiten Teil anfangen kannst.</p>

      <p>Dank des schmerzlosen <span class=
      "emphasis"><em>Branchen</em></span> und <span class=
      "emphasis"><em>Mergen</em></span> können wir die Regeln
      beugen und am Teil II arbeiten, bevor Teil I offiziell
      freigegeben wurde. Angenommen du hast Teil I <span class=
      "emphasis"><em>commitet</em></span> und zur Prüfung
      eingereicht. Sagen wir du bist im <code class=
      "literal">master</code> <span class=
      "emphasis"><em>Branch</em></span>. Dann <span class=
      "emphasis"><em>branche</em></span> zu Teil II:</p>
      <pre class="literallayout">
$ git checkout -b teil2
</pre>

      <p>Du arbeitest also an Teil II und <span class=
      "emphasis"><em>commitest</em></span> deine Änderungen
      regelmäßig. Irren ist menschlich und so kann es vorkommen,
      dass du zurück zu Teil I willst um einen Fehler zu beheben.
      Wenn du Glück hast oder sehr gut bist, kannst du die nächsten
      Zeilen überspringen.</p>
      <pre class="literallayout">
$ git checkout master  # Gehe zurück zu Teil I.
$ fix_problem
$ git commit -a        # 'Commite' die Lösung.
$ git checkout teil2   # Gehe zurück zu Teil II.
$ git merge master     # 'Merge' die Lösung.
</pre>

      <p>Schließlich, Teil I ist zugelassen:</p>
      <pre class="literallayout">
$ git checkout master  # Gehe zurück zu Teil I.
$ submit files         # Veröffentliche deine Dateien!
$ git merge teil2      # 'Merge' in Teil II.
$ git branch -d teil2  # Lösche den Branch "teil2"
</pre>

      <p>Nun bist du wieder im <code class="literal">master</code>
      <span class="emphasis"><em>Branch</em></span>, mit Teil II im
      Arbeitsverzeichnis.</p>

      <p>Es ist einfach, diesen Trick auf eine beliebige Anzahl von
      Teilen zu erweitern. Es ist genauso einfach rückwirkend zu
      <span class="emphasis"><em>branchen</em></span>: angenommen,
      du merkst zu spät, dass vor sieben <span class=
      "emphasis"><em>Commits</em></span> ein <span class=
      "emphasis"><em>Branch</em></span> erforderlich gewesen wäre.
      Dann tippe:</p>
      <pre class="literallayout">
$ git branch -m master teil2  # Umbenennen des 'Branch' "master" zu "teil2".
$ git branch master HEAD~7    # Erstelle neuen "master", 7 Commits voraus
</pre>

      <p>Der <code class="literal">master</code> Branch enthält nun
      Teil I, und der <code class="literal">teil2</code> Branch
      enthält den Rest. Wir befinden uns in letzterem Branch; wir
      haben <code class="literal">master</code> erzeugt ohne
      dorthin zu wechseln, denn wir wollen im <code class=
      "literal">teil2</code> weiterarbeiten. Das ist unüblich.
      Bisher haben wir unmittelbar nach dem Erstellen in einen
      <span class="emphasis"><em>Branch</em></span> gewechselt, wie
      in:</p>
      <pre class="literallayout">
$ git checkout HEAD~7 -b master  # erzeuge einen Branch, und wechsle zu ihm.
</pre>
    </div>

    <div class="section" title="Mischmasch Reorganisieren">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_mischmasch_reorganisieren"></a>Mischmasch
            Reorganisieren</h2>
          </div>
        </div>
      </div>

      <p>Vielleicht magst du es, alle Aspekte eines Projekts im
      selben <span class="emphasis"><em>Branch</em></span>
      abzuarbeiten. Du willst deine laufenden Arbeiten für dich
      behalten und andere sollen deine <span class=
      "emphasis"><em>Commits</em></span> nur sehen, wenn du sie
      hübsch organisiert hast. Beginne ein paar <span class=
      "emphasis"><em>Branches</em></span>:</p>
      <pre class="literallayout">
$ git branch sauber           # Erzeuge einen Branch für gesäuberte Commits.
$ git checkout -b mischmasch  # Erzeuge und wechsle in den Branch zum Arbeiten.
</pre>

      <p>Fahre fort alles zu bearbeiten: Behebe Fehler, füge
      Funktionen hinzu, erstelle temporären Code und so weiter und
      <span class="emphasis"><em>commite</em></span> deine
      Änderungen oft. Dann:</p>
      <pre class="literallayout">
$ git checkout bereinigt
$ git cherry-pick mischmasch^^
</pre>

      <p>wendet den Urahn des obersten <span class=
      "emphasis"><em>Commit</em></span> des “mischmasch”
      <span class="emphasis"><em>Branch</em></span> auf den
      “bereinigt” <span class="emphasis"><em>Branch</em></span> an.
      Durch das Herauspicken der Rosinen kannst du einen
      <span class="emphasis"><em>Branch</em></span> konstruieren,
      der nur endgültigen Code enthält und zusammengehörige
      <span class="emphasis"><em>Commits</em></span> gruppiert
      hat.</p>
    </div>

    <div class="section" title="Branches verwalten">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_emphasis_branches_emphasis_verwalten"></a><span class="emphasis"><em>Branches</em></span>
            verwalten</h2>
          </div>
        </div>
      </div>

      <p>Ein Liste aller <span class=
      "emphasis"><em>Branches</em></span> bekommst du mit:</p>
      <pre class="literallayout">
$ git branch
</pre>

      <p>Standardmäßig beginnst du in einem <span class=
      "emphasis"><em>Branch</em></span> namens “master”. Einige
      plädieren dafür, den “master” <span class=
      "emphasis"><em>Branch</em></span> unangetastet zu lassen und
      für seine Arbeit einen neuen <span class=
      "emphasis"><em>Branch</em></span> anzulegen.</p>

      <p>Die <span class="strong"><strong>-d</strong></span> und
      <span class="strong"><strong>-m</strong></span> Optionen
      erlauben dir <span class="emphasis"><em>Branches</em></span>
      zu löschen und zu verschieben (umzubenennen). Siehe
      <span class="strong"><strong>git help
      branch</strong></span>.</p>

      <p>Der “master” <span class="emphasis"><em>Branch</em></span>
      ist ein nützlicher Brauch. Andere können davon ausgehen, dass
      dein <span class="emphasis"><em>Repository</em></span> einen
      <span class="emphasis"><em>Branch</em></span> mit diesem
      Namen hat und dass er die offizielle Version enthält. Auch
      wenn du den “master” <span class=
      "emphasis"><em>Branch</em></span> umbenennen oder auslöschen
      könntest, kannst du diese Konvention aber auch
      respektieren.</p>
    </div>

    <div class="section" title="Temporäre Branches">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_tempor_re_emphasis_branches_emphasis"></a>Temporäre
            <span class="emphasis"><em>Branches</em></span></h2>
          </div>
        </div>
      </div>

      <p>Nach einer Weile wirst du feststellen, dass du regelmäßig
      kurzlebige <span class="emphasis"><em>Branches</em></span>
      erzeugst, meist aus dem gleichen Grund: jeder neue
      <span class="emphasis"><em>Branch</em></span> dient lediglich
      dazu, den aktuellen Stand zu sichern, damit du kurz zu einem
      alten Stand zurück kannst um eine vorrangige Fehlerbehebung
      zu machen oder irgendetwas anderes.</p>

      <p>Es ist vergleichbar mit dem kurzzeitigen Umschalten des
      Fernsehkanals um zu sehen was auf dem anderen Kanal los ist.
      Doch anstelle ein paar Knöpfe zu drücken, machst du
      <span class="emphasis"><em>create</em></span>, <span class=
      "emphasis"><em>check out</em></span>, <span class=
      "emphasis"><em>merge</em></span> und <span class=
      "emphasis"><em>delete</em></span> von temporären <span class=
      "emphasis"><em>Branches</em></span>. Glücklicherweise hat Git
      eine Abkürzung dafür, die genauso komfortabel ist wie eine
      Fernbedienung:</p>
      <pre class="literallayout">
$ git stash
</pre>

      <p>Das sichert den aktuellen Stand an einem temporären Ort
      (<span class="emphasis"><em>stash</em></span>=Versteck) und
      stellt den vorherigen Stand wieder her. Dein
      Arbeitsverzeichnis erscheint wieder exakt in dem Zustand wie
      es war, bevor du anfingst zu editieren. Nun kannst du Fehler
      beheben, Änderungen vom zentralen <span class=
      "emphasis"><em>Repository</em></span> holen (<span class=
      "emphasis"><em>pull</em></span>) und so weiter. Wenn du
      wieder zurück zu deinen Änderungen willst, tippe:</p>
      <pre class="literallayout">
$ git stash apply  # Es kann sein, dass du Konflikte auflösen musst.
</pre>

      <p>Du kannst mehrere <span class=
      "emphasis"><em>stashes</em></span> haben und diese
      unterschiedlich handhaben. Siehe <span class=
      "strong"><strong>git help stash</strong></span>. Wie du dir
      vielleicht schon gedacht hast, verwendet Git <span class=
      "emphasis"><em>Branches</em></span> im Hintergrund um diesen
      Zaubertrick durchzuführen.</p>
    </div>

    <div class="section" title="Arbeite wie du willst">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_arbeite_wie_du_willst"></a>Arbeite wie du willst</h2>
          </div>
        </div>
      </div>

      <p>Du magst dich fragen, ob <span class=
      "emphasis"><em>Branches</em></span> diesen Aufwand Wert sind.
      Immerhin sind <span class="emphasis"><em>Clone</em></span>
      fast genauso schnell und du kannst mit <span class=
      "strong"><strong>cd</strong></span> anstelle von esoterischen
      Git Befehlen zwischen ihnen wechseln.</p>

      <p>Betrachten wir Webbrowser. Warum mehrere Tabs unterstützen
      und mehrere Fenster? Weil beides zu erlauben eine Vielzahl an
      Stilen unterstützt. Einige Anwender möchten nur ein
      Browserfenster geöffnet haben und benutzen Tabs für
      unterschiedliche Webseiten. Andere bestehen auf dem anderen
      Extrem: mehrere Fenster, ganz ohne Tabs. Wieder andere
      bevorzugen irgendetwas dazwischen.</p>

      <p><span class="emphasis"><em>Branchen</em></span> ist wie
      Tabs für dein Arbeitsverzeichnis und <span class=
      "emphasis"><em>Clonen</em></span> ist wie das Öffnen eines
      neuen Browserfenster. Diese Operationen sind schnell und
      lokal, also warum nicht damit experimentieren um die beste
      Kombination für sich selbst zu finden? Git lässt dich genauso
      arbeiten, wie du es willst.</p>
    </div>
  </div><script type="text/javascript" src="find_selflink.js">
</script><script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
  document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
  </script><script type="text/javascript">
var pageTracker = _gat._getTracker("UA-1901330-2");
  pageTracker._initData();
  pageTracker._trackPageview();
  </script>
</div>
</div><div class="footer"><a href="/~blynn/">Ben Lynn</a></div>
</body>
</html>
