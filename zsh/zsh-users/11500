From zsh-users-return-11500-mason-zsh=primenet.com.au@sunsite.dk Fri May 18 15:25:37 2007
Return-Path: <zsh-users-return-11500-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2852 invoked from network); 18 May 2007 15:25:35 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.0 (2007-05-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00 autolearn=no
	version=3.2.0
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 18 May 2007 15:25:35 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 23413 invoked from network); 18 May 2007 15:25:29 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 18 May 2007 15:25:29 -0000
Received: (qmail 28309 invoked by alias); 18 May 2007 15:25:00 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 11500
Received: (qmail 28147 invoked from network); 18 May 2007 15:24:58 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 18 May 2007 15:24:58 -0000
Received: (qmail 17768 invoked from network); 18 May 2007 15:24:57 -0000
Received: from cluster-d.mailcontrol.com (217.69.20.190)
  by a.mx.sunsite.dk with SMTP; 18 May 2007 15:24:54 -0000
Received: from cameurexb01.EUROPE.ROOT.PRI ([62.189.241.200])
	by rly27d.srv.mailcontrol.com (MailControl) with ESMTP id l4IFNED9008441
	for <zsh-users@sunsite.dk>; Fri, 18 May 2007 16:24:51 +0100
Received: from news01.csr.com ([10.103.143.38]) by cameurexb01.EUROPE.ROOT.PRI with Microsoft SMTPSVC(6.0.3790.1830);
	 Fri, 18 May 2007 16:24:38 +0100
Received: from news01.csr.com (localhost.localdomain [127.0.0.1])
	by news01.csr.com (8.13.8/8.13.4) with ESMTP id l4IFOcXY007991
	for <zsh-users@sunsite.dk>; Fri, 18 May 2007 16:24:38 +0100
Received: from csr.com (pws@localhost)
	by news01.csr.com (8.13.8/8.13.8/Submit) with ESMTP id l4IFObDS007988
	for <zsh-users@sunsite.dk>; Fri, 18 May 2007 16:24:37 +0100
Message-Id: <200705181524.l4IFObDS007988@news01.csr.com>
X-Authentication-Warning: news01.csr.com: pws owned process doing -bs
To: zsh-users@sunsite.dk
Subject: Re: disable zsh/newuser 
In-reply-to: <20070518150340.GA9952@gandalf.pelennor.net> 
References: <20070517225932.GA581@gandalf.pelennor.net> <200705180920.l4I9KW7w004253@news01.csr.com> <20070518150340.GA9952@gandalf.pelennor.net>
Comments: In-reply-to Matthew Rench <bulk@pelennor.net>
   message dated "Fri, 18 May 2007 10:03:40 -0500."
Date: Fri, 18 May 2007 16:24:37 +0100
From: Peter Stephenson <pws@csr.com>
X-OriginalArrivalTime: 18 May 2007 15:24:38.0394 (UTC) FILETIME=[A5FADDA0:01C79960]
Content-Type: text/plain
MIME-Version: 1.0
X-Scanned-By: MailControl A-07-07-00 (www.mailcontrol.com) on 10.68.0.137

Matthew Rench wrote:
> On Fri, May 18, 2007 at 10:20:32AM +0100, Peter Stephenson wrote:
> > Matthew Rench wrote:
> > > I am trying to find a way to disable the automatic execution of the
> > > zsh/newuser module at startup for users without .z files.
> > This feature can be turned off simply by removing this script.
> 
> I guess I had assumed that there would be some way to disable from
> executing automatically without getting rid of it altogether, based
> on this text from the man page:
> 
>   If no personal intialization files exist for the current user, a
>   function is run to help you change some of the most common
>   settings. It won't appear if your administrator has disabled the
>   zsh/newuser module. The function is designed to be self-explanatory.
>   You can run it by hand with...
> 
> which seems to indicate that it can still be run manually after it's
> disabled.

It sounds like I've misunderstood your problem; I thought the problem
*was* getting rid of it completely, but you want to leave it, just not
run it by default.  Actually, deleting the script will allow just that:
if you look in the script you'll find it simply invokes a function that
you can run from the command line.  Alternatively, you can simply rename
the script and let people source it under some other name.  It's there
exactly to allow customization without affecting the business end of the
process in the function zsh-newuser-install.

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR PLC, Churchill House, Cambridge Business Park, Cowley Road
Cambridge, CB4 0WZ, UK                          Tel: +44 (0)1223 692070


To access the latest news from CSR copy this link into a web browser:  http://www.csr.com/email_sig.php

To get further information regarding CSR, please visit our Investor Relations page at http://ir.csr.com/csr/about/overview

