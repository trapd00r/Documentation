From zsh-workers-return-16749-mason-zsh=primenet.com.au@sunsite.dk Fri Mar 01 05:47:40 2002
Return-Path: <zsh-workers-return-16749-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 26766 invoked from network); 1 Mar 2002 05:47:38 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 1 Mar 2002 05:47:38 -0000
Received: (qmail 27165 invoked by alias); 1 Mar 2002 05:47:32 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 16749
Received: (qmail 27142 invoked from network); 1 Mar 2002 05:47:30 -0000
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <1020301054724.ZM17887@candle.brasslantern.com>
Date: Fri, 1 Mar 2002 05:47:23 +0000
References: <20020225094729.25283.qmail@web9303.mail.yahoo.com> 
	<20020226065605.35661.qmail@web10401.mail.yahoo.com> 
	<15483.19190.263748.990476@wischnow.berkom.de> 
	<15484.43079.6831.412868@wischnow.berkom.de> 
	<20020228063522.62366.qmail@web10403.mail.yahoo.com> 
	<15485.60818.216400.965143@wischnow.berkom.de>
X-Mailer: Z-Mail (5.0.0 30July97)
To: zsh-workers@sunsite.dk
Subject: Re: Per command _redirect completion
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Feb 27, 10:35am, Sven Wischnowsky wrote:
}
} I wrote:
} 
} > I would try to make compdef and parts of _normal (and probably
} > _complete) generic enough to use an assoc given as argument, so that
} > we get the pattern and services stuff.

I like this idea a lot, now that I've had a chance to digest it fully.

} - I wished there were an easier way than to use `${(e):-...}' in so
}   many places. Sigh.

We'd need namerefs; ${(P)...} doesn't cut it for hashes.  You could use
`eval' in a few places, I think, but not all of them.

On Feb 28,  9:42am, Sven Wischnowsky wrote:
}
} - Decide on a name for the concept so that we can give _do_type its
}   final name and update the docs.

What if we called the function `_common'?  It's use is both "commonplace"
and "shared" ...

} - Probably change the order of the strings given to _do_type (these
}   are the strings used for lookup, e.g. command names for normal
}   completion). These should be from most to least specific, I think.

That sounds sensible.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

