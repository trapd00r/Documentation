From hzoli@cs.elte.hu Sun Mar 31 09:59:28 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by melb.werple.net.au (8.7.5/8.7.3) with ESMTP id JAA09186 for <mason@werple.mira.net.au>; Sun, 31 Mar 1996 09:59:25 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id SAA16555; Sat, 30 Mar 1996 18:48:01 -0500 (EST)
Resent-Date: Sat, 30 Mar 1996 18:48:01 -0500 (EST)
From: Zoltan Hidvegi <hzoli@cs.elte.hu>
Message-Id: <199603302245.XAA01401@hzoli.ppp.cs.elte.hu>
Subject: cd .. should not use cdpath
To: zsh-workers@math.gatech.edu (Zsh hacking and development)
Date: Sat, 30 Mar 1996 23:45:36 +0100 (MET)
X-Mailer: ELM [version 2.4ME+ PL11 (25)]
MIME-Version: 1.0
Content-Type: application/pgp; format=text; x-action=sign
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"Qw0jX.0.b24.nWSNn"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/877
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu
Content-Length: 1258
Status: OR

-----BEGIN PGP SIGNED MESSAGE-----

If cdpath is not empty and the first element is not `.', cd .. changed
to the parent of the first directory in cdpath.

This fix is already included in beta13-hzoli13

Bye,

Zoltan

 rcsdiff -qc -kk -r1.21 -r1.22 Src/builtin.c
 *** Src/builtin.c
 --- Src/builtin.c	1996/03/04 01:22:47	1.22
 ***************
 *** 1052,1058 ****
       absolute then cdpath won't be used anyway. */
       int nocdpath = dest[0] == '.' &&
       (dest[1] == '/' || !dest[1] || (dest[1] == '.' &&
 ! 				    (dest[2] == '/' || !dest[1])));
   
       /* if we have an absolute path, use it as-is only */
       if (*dest == '/') {
 --- 1052,1058 ----
       absolute then cdpath won't be used anyway. */
       int nocdpath = dest[0] == '.' &&
       (dest[1] == '/' || !dest[1] || (dest[1] == '.' &&
 ! 				    (dest[2] == '/' || !dest[2])));
   
       /* if we have an absolute path, use it as-is only */
       if (*dest == '/') {

-----BEGIN PGP SIGNATURE-----
Version: 2.6.3i
Charset: noconv

iQCVAwUBMV25jQupSCiLN749AQEgrAQAn9MbB1LhiFnSYV75DAVjW3OhQCIyruKL
e7jTy/4IAFf6u8RnSlyhluh2HkeD6urojmmubuNUZqqkyoB/QOIHaFXHkgkyWxWC
J1EtI3LIXh139Qb9Z9YUkJ99SJHjOfou8GNa/huF0C5oMGEtKzw1Npaumn1VRPoe
yA3xfMd0A9w=
=2gYx
-----END PGP SIGNATURE-----
