From zsh-workers-return-5898-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Mar 23 12:49:48 1999
Return-Path: <zsh-workers-return-5898-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18017 invoked from network); 23 Mar 1999 12:49:46 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 23 Mar 1999 12:49:46 -0000
Received: (qmail 21700 invoked by alias); 23 Mar 1999 12:49:10 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 5898
Received: (qmail 21692 invoked from network); 23 Mar 1999 12:49:06 -0000
Date: Tue, 23 Mar 1999 13:48:51 +0100 (MET)
Message-Id: <199903231248.NAA19177@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: Sven Wischnowsky's message of Tue, 23 Mar 1999 13:35:45 +0100
	(MET)
Subject: Re: Multipart completion problem?


I wrote:

> ...
> 
> The missing slash was caused by a incomplete pattern when weeding out
> the names not matching what's on the line.

The test I just added was too restrictive, sorry folks.

Bye
 Sven

diff -u oc/Core/_path_files Completion/Core/_path_files
--- oc/Core/_path_files	Tue Mar 23 13:36:24 1999
+++ Completion/Core/_path_files	Tue Mar 23 13:47:14 1999
@@ -424,7 +424,7 @@
   suffixes=( $str$^pats )
   suffixes=( "${(@)suffixes:gs.**.*.}" )
   tmp2=( ${~tmp1}${~matchflags}${~suffixes} )
-  tmp2=("${(@M)tmp2:#${tmp1}$~patlast}")
+  tmp2=("${(@M)tmp2:#*$~patlast}")
 
   if [[ $#tmp2 -eq 0 ]]; then
     # No match, insert the expanded path and add the original tail.

--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

