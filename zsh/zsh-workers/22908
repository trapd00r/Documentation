From zsh-workers-return-22908-mason-zsh=primenet.com.au@sunsite.dk Tue Oct 24 22:03:20 2006
Return-Path: <zsh-workers-return-22908-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24676 invoked from network); 24 Oct 2006 22:03:15 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.7 (2006-10-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=BAYES_00,FORGED_RCVD_HELO 
	autolearn=ham version=3.1.7
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 24 Oct 2006 22:03:15 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 61075 invoked from network); 24 Oct 2006 22:03:10 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 24 Oct 2006 22:03:10 -0000
Received: (qmail 17539 invoked by alias); 24 Oct 2006 22:03:05 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 22908
Received: (qmail 17520 invoked from network); 24 Oct 2006 22:03:03 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 24 Oct 2006 22:03:03 -0000
Received: (qmail 60651 invoked from network); 24 Oct 2006 22:03:03 -0000
Received: from mailfe07.tele2.fr (HELO swip.net) (212.247.154.204)
  by a.mx.sunsite.dk with SMTP; 24 Oct 2006 22:02:57 -0000
X-T2-Posting-ID: mBXjJ9CYMpI3HGlT2s4LT8j3JzBVs7ioB0ePn7y7rgg=
X-Cloudmark-Score: 0.000000 []
Received: from [83.179.144.147] (HELO localhost)
  by mailfe07.swip.net (CommuniGate Pro SMTP 5.0.8)
  with ESMTPS id 309866600 for zsh-workers@sunsite.dk; Wed, 25 Oct 2006 00:02:55 +0200
Date: Wed, 25 Oct 2006 00:02:56 +0200
From: "arno." <arno.@no-log.org>
To: zsh-workers@sunsite.dk
Subject: PATCH: _yafc
Message-ID: <20061024220256.GA17949@localhost.localdomain>
MIME-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-sha1;
	protocol="application/pgp-signature"; boundary="lEGEL1/lMxI0MVQ2"
Content-Disposition: inline
User-Agent: Mutt/1.5.13 (2006-08-11)


--lEGEL1/lMxI0MVQ2
Content-Type: multipart/mixed; boundary="vkogqOf2sHV7VnPd"
Content-Disposition: inline


--vkogqOf2sHV7VnPd
Content-Type: text/plain; charset=iso-8859-15
Content-Disposition: inline

Hi,
I made a completion file for yafc, a ftp client.
I send it to the list in case you want to include it in zsh
distribution.

arno

--vkogqOf2sHV7VnPd
Content-Type: text/plain; charset=iso-8859-15
Content-Disposition: attachment; filename="yafc.patch"
Content-Transfer-Encoding: quoted-printable

diff -Nur zsh/Completion/Unix/Command/_yafc zsh~/Completion/Unix/Command/_y=
afc
--- zsh/Completion/Unix/Command/_yafc	1970-01-01 01:00:00.000000000 +0100
+++ zsh~/Completion/Unix/Command/_yafc	2006-10-25 00:02:26.000000000 +0200
@@ -0,0 +1,44 @@
+# compdef yafc
+
+_yafc() {
+    local arguments
+    arguments=3D(
+    '(--anon -a)'{--anon,-a}'[Try an anonymous login]'
+    '(--debug -d)'{--debug,-d}'[Print all messages to/from server]'
+    '(--dump-rc -D)'{--dump-rc,-D}'[Print the default configuration file]'
+    '(--mechanism,-m)'{--mechanism=3D-,-m}'[specify a security mechanism]:=
security mechanism:(krb4, krb5, none)'
+    '(--norc,-n)'{--norc,-n}'[Do not read the users configuration file]'
+    '(--noproxy,-p)'{--noproxy,-p}'[Do not connect via the proxy]'
+    '(--quiet,-q)'{--quiet,-q}'[Do not print the welcome message]'
+    '(--rcfile,-r)'{--rcfile=3D-,-r}'[Specify a configuration file]:config=
uration file:_files'
+    '(--trace,-t)'{--trace=3D-,-t-}'[Specify a trace file]:trace file:_fil=
es'
+    '(--noauto,-u)'{--noauto,-u}'[Do not login automagically]'
+    '(--noalias,-U)'{--noalias,-U}'[As --noauto, but bookmark aliases is d=
isabled]'
+    '(--verbose,-v)'{--verbose,-v}'[print all responses received]'
+    '(--wait,-w)'{--wait,-w=3D}'[Specify a waiting time between connection=
 attempts]:wait time: '
+    '(--workdir,-W)'{--workdir=3D,-W+}'[Use a different working directory]=
:working directory:_directories'
+    '(--version,-V)'{--version,-V}'[Print version information]'
+    '(--help,-h)'{--help,-h}'[Print a short help description]'
+    '*:address:_yafc_address'
+    )
+
+    _arguments -S -s $arguments
+}
+
+ (( $+functions[_yafc_bookmarks] )) ||
+_yafc_bookmarks() {
+    local bkmfile=3D~/.yafc/bookmarks
+   =20
+    if [[ -f $bkmfile ]]; then
+        local -a bkms
+        bkms=3D(${${${(M)"${(f)$(<$bkmfile)}":#machine*alias ##\'*\' #}##m=
achine*alias ##\'}%%\' #}) #" vim syntax goes crazy
+        _wanted bookmarks expl 'bookmarks' compadd "$@" -a - bkms
+    fi
+}
+
+ (( $+functions[_yafc_address] )) ||
+_yafc_address() {
+  _alternative 'bookmarks:bookmark:_yafc_bookmarks' '_hosts'
+}
+
+_yafc "$@"

--vkogqOf2sHV7VnPd--

--lEGEL1/lMxI0MVQ2
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: Digital signature
Content-Disposition: inline

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.5 (GNU/Linux)

iD8DBQFFPo2QiH9aBScBsrMRAjGwAJwK0cq/wR/v3Ah8s0TwSgct2bE1bwCfZhCQ
2op2BrYmT/JkyEH1io05ykI=
=QlJa
-----END PGP SIGNATURE-----

--lEGEL1/lMxI0MVQ2--

