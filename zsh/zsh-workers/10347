From zsh-workers-return-10347-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Mar 31 05:48:03 2000
Return-Path: <zsh-workers-return-10347-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 16807 invoked from network); 31 Mar 2000 05:48:01 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 31 Mar 2000 05:48:01 -0000
Received: (qmail 2957 invoked by alias); 31 Mar 2000 05:47:49 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 10347
Received: (qmail 2944 invoked from network); 31 Mar 2000 05:47:48 -0000
X-Envelope-Sender-Is: Andrej.Borsenkow@mow.siemens.ru (at relayer david.siemens.de)
From: "Andrej Borsenkow" <Andrej.Borsenkow@mow.siemens.ru>
To: "Allen Belk" <allen.belk@usm.edu>, <zsh-workers@sunsite.auc.dk>
Subject: RE: returning a pathname from a function
Date: Fri, 31 Mar 2000 09:47:44 +0400
Message-ID: <000001bf9ad4$a30018a0$21c9ca95@mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
In-Reply-To: <000501bf9a8a$6cd33a90$3e525f83@otr.usm.edu>
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6700
Importance: Normal

> prep_directories()
> {
>    output_directory="/var/adm/backup/${1}_${2}"
>    backup_log="${output_directory}/backup.log"
>    backup_lis="${output_directory}/backup.lis"
>    return $backup_log,$backup_lis
> }
>
> prep_directories 20000330 WEEKLY
>
>
> Executing this script results in the following error.
>
>     prep_directories: bad math expression: unbalanced stack [75]
>


You cannot return string. return expects arithmetic expression as
status. I agree, that message is a bit weird ... what exact vesion do
you have?

What you try to do? Either output result using echo or print builtin:

	print $backup_log,$backup_lis

in this case you can do something like

	DIRS=$(prep_directories 20000330 WEEKLY)

or you can set parameter explicitly in function:

	DIRS=$backup_log,$backup_lis

-andrej

