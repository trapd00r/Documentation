From zsh-users-return-7571-mason-zsh=primenet.com.au@sunsite.dk Sun Jun 20 19:38:44 2004
Return-Path: <zsh-users-return-7571-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24498 invoked from network); 20 Jun 2004 19:38:43 -0000
Received: from thor.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.86)
  by ns1.primenet.com.au with SMTP; 20 Jun 2004 19:38:43 -0000
Received: (qmail 10576 invoked from network); 20 Jun 2004 19:38:16 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 20 Jun 2004 19:38:16 -0000
Received: (qmail 736 invoked by alias); 20 Jun 2004 19:37:50 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 7571
Received: (qmail 727 invoked from network); 20 Jun 2004 19:37:49 -0000
Received: from thor.dotsrc.org (HELO a.mx.sunsite.dk) (qmailr@130.225.247.86)
  by sunsite.dk with SMTP; 20 Jun 2004 19:37:46 -0000
Received: (qmail 9749 invoked from network); 20 Jun 2004 19:37:46 -0000
Received: from acolyte.scowler.net (216.254.112.45)
  by a.mx.sunsite.dk with SMTP; 20 Jun 2004 19:37:44 -0000
Received: from localhost (localhost [127.0.0.1])
	by acolyte.scowler.net (Postfix) with ESMTP id 2CB447004E;
	Sun, 20 Jun 2004 15:37:15 -0400 (EDT)
Received: from acolyte.scowler.net ([127.0.0.1])
	by localhost (acolyte [127.0.0.1]) (amavisd-new, port 10024)
	with LMTP id 15448-03; Sun, 20 Jun 2004 15:37:12 -0400 (EDT)
Received: by acolyte.scowler.net (Postfix, from userid 1000)
	id D30D670039; Sun, 20 Jun 2004 15:37:11 -0400 (EDT)
Date: Sun, 20 Jun 2004 15:37:11 -0400
From: Clint Adams <clint@zsh.org>
To: Vincent Stemen <zsh@hightek.org>
Cc: zsh-users@sunsite.dk
Subject: Re: pcre module help
Message-ID: <20040620193711.GA15629@scowler.net>
Reply-To: zsh-workers@sunsite.dk
References: <D289C58E-C2AF-11D8-8B47-000A95D2C79E@kalama.no-ip.org> <20040620144844.GA24131@scowler.net> <20040620173608.GA38615@quark.hightek.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20040620173608.GA38615@quark.hightek.org>
User-Agent: Mutt/1.5.6+20040523i
X-Virus-Scanned: by amavisd-new-20030616-p7 (Debian) at scowler.net
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, hits=-0.0 required=6.0 tests=BAYES_44 autolearn=no 
	version=2.63
X-Spam-Hits: -0.0

> I tried this under zsh-4.2.0 on FreeBSD with the zsh module statically
> linked in.
["pcre module" is meant]

Is the zsh binary actually linked against libpcre?
Does configure detect the existence of pcre_compile() and pcre_exec()?
You shouldn't get the "not available on this system" message unless it
didn't find one of them.

>    pcre_compile: not available on this system
> 
>    pcre_match: not available on this system

> 
>    # if [[ $PATH -pcre-match '^/.*local' ]]; then echo "matched"; fi
> 
>    zsh: unrecognized condition: `$PATH'
> 
>    # pcre_compile "^/.*local"
> 
>    pcre_compile: not available on this system
> 
>    # if [[ $PATH -pcre-match '^/.*local' ]]; then echo "matched"; fi
> 
>    -- shell crashes leaving a core file --
> 
> The shell crashing is consistent when I try to use -pcre-match after
> attempting to run pcre_compile.  Also, the -pcre-match method is not
> mentioned in the zshmodules manual.

Could you send a gdb backtrace to zsh-workers?

