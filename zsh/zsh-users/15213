From zsh-users-return-15213-mason-zsh=primenet.com.au@zsh.org Fri Jul 30 14:08:34 2010
Return-Path: <zsh-users-return-15213-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9403 invoked by alias); 30 Jul 2010 14:08:34 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 15213
Received: (qmail 10196 invoked from network); 30 Jul 2010 14:08:32 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.9 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.3.1
Received-SPF: none (ns1.primenet.com.au: domain at a-oben.org does not designate permitted sender hosts)
Date: Fri, 30 Jul 2010 16:08:28 +0200
From: Simon Friedberger <simon+zsh@a-oben.org>
To: zsh-users@zsh.org
Subject: Re: zle reset-prompt
Message-ID: <20100730140827.GC4728@a-oben.org>
References: <20100728201536.GA1146@a-oben.org>
 <20100729100452.53f1cc15@csr.com>
 <20100730135510.GB4728@a-oben.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20100730135510.GB4728@a-oben.org>
User-Agent: Mutt/1.5.20 (2009-06-14)

OK, so I tried a couple of possible calls with ESC x and the functions
in my prompt config.
It seems that zle-keymap-select might be the perpetrator.
Does that make any more sense?

On 15:55 Fri 30.07.10, Simon Friedberger wrote:
> No, doesn't happen when I run it manually. I will try some more later
> and get back to you.
> 
> 
> On 10:04 Thu 29.07.10, Peter Stephenson wrote:
> > On Wed, 28 Jul 2010 22:15:36 +0200
> > Simon Friedberger <simon+zsh@a-oben.org> wrote:
> > > I'm using zle reset-prompt as suggested on the wiki for displaying the
> > > status of the vim bindings. It shows whether they are in insert or
> > > normal mode.
> > > 
> > > The problem with this is that zle reset-prompt resets the exit status
> > > of the last command.
> > 
> > That would certainly be a bug but it's not doing it here in 4.3.10-dev-2.
> > Does this happen if you run ESC x reset-prompt RETURN at the command
> > line?  If so, have you got something in your prompt that triggers this?
> > 
> > -- 
> > Peter Stephenson <pws@csr.com>            Software Engineer
> > Tel: +44 (0)1223 692070                   Cambridge Silicon Radio Limited
> > Churchill House, Cambridge Business Park, Cowley Road, Cambridge, CB4 0WZ, UK
> > 
> > 
> > Member of the CSR plc group of companies. CSR plc registered in England and Wales, registered number 4187346, registered office Churchill House, Cambridge Business Park, Cowley Road, Cambridge, CB4 0WZ, United Kingdom

