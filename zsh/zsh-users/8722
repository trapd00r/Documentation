From zsh-users-return-8722-mason-zsh=primenet.com.au@sunsite.dk Thu Apr 21 05:29:01 2005
Return-Path: <zsh-users-return-8722-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5312 invoked from network); 21 Apr 2005 05:29:00 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 21 Apr 2005 05:29:00 -0000
Received: (qmail 88197 invoked from network); 21 Apr 2005 05:28:54 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 21 Apr 2005 05:28:54 -0000
Received: (qmail 17284 invoked by alias); 21 Apr 2005 05:28:46 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8722
Received: (qmail 17269 invoked from network); 21 Apr 2005 05:28:45 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 21 Apr 2005 05:28:45 -0000
Received: (qmail 87067 invoked from network); 21 Apr 2005 05:28:45 -0000
Received: from karnickel.franken.de (193.141.110.11)
  by a.mx.sunsite.dk with SMTP; 21 Apr 2005 05:28:40 -0000
Received: from karnickel.franken.de (localhost [127.0.0.1])
	by karnickel.franken.de (8.12.10/8.12.10) with ESMTP id j3L5ScSY028833
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <zsh-users@sunsite.dk>; Thu, 21 Apr 2005 07:28:38 +0200 (CEST)
Received: (from uucp@localhost)
	by karnickel.franken.de (8.12.10/8.12.2/Submit) with UUCP id j3L5Ps2r028325
	for zsh-users@sunsite.dk; Thu, 21 Apr 2005 07:25:54 +0200 (CEST)
	(envelope-from jean-luc@picard.franken.de)
Received: by picard.franken.de (Postfix, from userid 1001)
	id 08CA14401C; Thu, 21 Apr 2005 07:24:02 +0200 (CEST)
Date: Thu, 21 Apr 2005 07:24:02 +0200
From: Thomas =?iso-8859-1?Q?K=F6hler?= <jean-luc@picard.franken.de>
To: zsh-users@sunsite.dk
Subject: Re: Vi ZLE bindings: status in prompt?
Message-ID: <20050421052401.GA20169@picard.franken.de>
Mail-Followup-To: zsh-users@sunsite.dk
References: <20050420214722.GA9995@pohl.lj.net>
Mime-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-sha1;
	protocol="application/pgp-signature"; boundary="fUYQa+Pmc3FrFX/N"
Content-Disposition: inline
In-Reply-To: <20050420214722.GA9995@pohl.lj.net>
X-Operating-System: Linux
X-Editor: VIM - Vi IMproved 6.2 http://www.vim.org/
X-IRC: tirc; Nick: tkoehler
X-URL: http://jeanluc-picard.de/
User-Agent: Mutt/1.5.4i
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=6.0 tests=BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.6


--fUYQa+Pmc3FrFX/N
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

Hello,

Tom Martin wrote:
> Hello,
>=20
> The Subject pretty much asks the question. I'd be delighted if there was
> some way to add the Vi mode to the prompt. This is the only thing
> preventing me from using bindkey -v. Any ideas?

I have such a thing implemented. You can have a look at my .zshrc
to see how it works:

http://gott-gehabt.de/800_wer_wir_sind/thomas/Homepage/Computer/zsh/zshrc

In short, it uses the show_mode function to display the mode
(normal or insert) and rewrites all vi widgets to also call
show_mode :) It overwrites some area in my (multi-line) prompt,
see also the screenshot on
http://gott-gehabt.de/800_wer_wir_sind/thomas/Homepage/pics/prompt.png
Doesn't work perfectly, though: for overly long lines, the
display may shift to where you don't want it. Of course, you
could also modify the show_mode function to display the mode in
the RPROMPT, then this problem would go away...

Ciao,
Thomas

--=20
 Thomas K=F6hler       Email:       jean-luc@picard.franken.de
     <><             WWW:              http://gott-gehabt.de
                     IRC:                           tkoehler
                     PGP public key available from Homepage!

--fUYQa+Pmc3FrFX/N
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: Digital signature
Content-Disposition: inline

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.3 (GNU/Linux)

iD8DBQFCZzjxTEYXWMJlHuYRAozpAJ4ifl6T8M0gtF6Ml4UknKu2zmA3zQCfU9Em
Yh3wuslXZP2nJdzyleKwjwU=
=+G0y
-----END PGP SIGNATURE-----

--fUYQa+Pmc3FrFX/N--

