From zsh-workers-return-22517-mason-zsh=primenet.com.au@sunsite.dk Mon Jun 26 14:30:01 2006
Return-Path: <zsh-workers-return-22517-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 325 invoked from network); 26 Jun 2006 14:29:58 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.3 (2006-06-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=BAYES_00,FORGED_RCVD_HELO 
	autolearn=ham version=3.1.3
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 26 Jun 2006 14:29:58 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 65161 invoked from network); 26 Jun 2006 14:29:52 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 26 Jun 2006 14:29:52 -0000
Received: (qmail 8843 invoked by alias); 26 Jun 2006 14:29:49 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 22517
Received: (qmail 8834 invoked from network); 26 Jun 2006 14:29:48 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 26 Jun 2006 14:29:48 -0000
Received: (qmail 64897 invoked from network); 26 Jun 2006 14:29:48 -0000
Received: from esacom89-ext.esoc.esa.int (HELO esacom89-int.esoc.esa.int) (131.176.86.4)
  by a.mx.sunsite.dk with SMTP; 26 Jun 2006 14:29:46 -0000
Received: from esacom53.esoc.esa.int (131-176-86-254.esoc.esa.int [131.176.86.254])
	by esacom89-int.esoc.esa.int (8.13.3/8.13.3/ESA-External-v4.0) with ESMTP id k5QETiOb012856
	for <zsh-workers@sunsite.dk>; Mon, 26 Jun 2006 14:29:45 GMT
Received: from dcle12.dev.esoc.esa.int (dcle12.dev.esoc.esa.int [131.176.58.71])
	by esacom53.esoc.esa.int (8.12.10/8.12.10/ESA-Internal-v3.2) with ESMTP id k5QETdTC009970
	for <zsh-workers@sunsite.dk>; Mon, 26 Jun 2006 14:29:39 GMT
Received: from dcle12 (localhost [127.0.0.1])
	by dcle12.dev.esoc.esa.int (8.13.4+Sun/8.13.3) with ESMTP id k5QESguM001356
	for <zsh-workers@sunsite.dk>; Mon, 26 Jun 2006 14:28:42 GMT
In-reply-to: <20060624201447.GA25087@scowler.net>
From: Oliver Kiddle <okiddle@yahoo.co.uk>
References: <20060624192616.GA1430@scowler.net> <060624124948.ZM7244@torch.brasslantern.com> <20060624201447.GA25087@scowler.net>
To: zsh-workers@sunsite.dk
Subject: Re: PATCH: _tar (autodetection of compression by GNU tar >= 1.14.91)
Date: Mon, 26 Jun 2006 16:28:42 +0200
Message-ID: <1355.1151332122@dcle12>

Clint Adams wrote:
> 
> How about this?

> +    is_at_least 1.14.91 "$match[1]" || _cmd_variant[$service]="gnu-old"

You should use the -r option to _pick_variant. The use of the
_cmd_variant associative array for a cache is really an internal
implementation detail of _pick_variant. Also, if we ever have
namespaces, it'd be renamed.

Oliver

