From zsh-workers-return-21671-mason-zsh=primenet.com.au@sunsite.dk Fri Aug 19 14:13:57 2005
Return-Path: <zsh-workers-return-21671-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 16913 invoked from network); 19 Aug 2005 14:13:54 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 19 Aug 2005 14:13:54 -0000
Received: (qmail 99210 invoked from network); 19 Aug 2005 14:13:47 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 19 Aug 2005 14:13:47 -0000
Received: (qmail 1427 invoked by alias); 19 Aug 2005 14:13:44 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 21671
Received: (qmail 1417 invoked from network); 19 Aug 2005 14:13:44 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 19 Aug 2005 14:13:44 -0000
Received: (qmail 98826 invoked from network); 19 Aug 2005 14:13:44 -0000
Received: from mailhost.u-strasbg.fr (130.79.200.153)
  by a.mx.sunsite.dk with SMTP; 19 Aug 2005 14:13:39 -0000
Received: from baal.u-strasbg.fr ([IPv6:2001:660:2402:0:202:a5ff:fe4f:16e6])
          by mailhost.u-strasbg.fr (8.13.3/jtpda-5.5pre1) with ESMTP id j7JEDYtp051562
          for <zsh-workers@sunsite.dk>; Fri, 19 Aug 2005 16:13:34 +0200 (CEST)
Received: from xpeerience.u-strasbg.fr (xpeerience.u-strasbg.fr [130.79.188.35])
          by baal.u-strasbg.fr (8.13.3/jtpda-5.5pre1) with SMTP id j7JEDYjF011597
          for <zsh-workers@sunsite.dk>; Fri, 19 Aug 2005 16:13:34 +0200
Received: by xpeerience.u-strasbg.fr (sSMTP sendmail emulation); Fri, 19 Aug 2005 16:13:38 +0200
Date: Fri, 19 Aug 2005 16:13:38 +0200
From: Marc Chantreux <marc.chantreux@ulpmm.u-strasbg.fr>
To: zsh-workers <zsh-workers@sunsite.dk>
Subject: clone an associative array?
Message-ID: <20050819141338.GA5747@xpeerience.u-strasbg.fr>
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-15
Content-Disposition: inline
User-Agent: Mutt/1.5.9i
X-Virus-Scanned: ClamAV 0.86.2/1034/Thu Aug 18 22:07:58 2005 on mr3.u-strasbg.fr
X-Virus-Scanned: ClamAV 0.86.2/1034/Thu Aug 18 22:07:58 2005 on baal.u-strasbg.fr
X-Virus-Status: Clean
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-1.6 (mailhost.u-strasbg.fr [IPv6:2001:660:2402::153]); Fri, 19 Aug 2005 16:13:35 +0200 (CEST)
X-Spam-Checker-Version: SpamAssassin 3.0.4 (2005-06-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.0.4

hello all,

i don't know what i missed in 'parameters expansions' manual but i'm
unable to clone an associative array :

% typeset -A homemade
% homemade=( tm myself c 2005 )
% echo $homemade[tm]
myself

% typeset -A counterfeit
% counterfeit=${homemade}

% echo $counterfeit[c]
m

% counterfeit="${homemade}"
% echo $counterfeit[c]
m

% counterfeit="${(AA)homemade}"
% echo $counterfeit[c]
m

% counterfeit="${(A)homemade}"
% echo $counterfeit[c]
m

# other tries failed too ...

in a future time, i would like to write something as :

func () {
    local who=$1
    shift
    local -A config
    config=$@

    # implementation here ....

}

i'm sure that it is possible, i just want to know how.

regards
mc

