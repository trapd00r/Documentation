From zsh-workers-request@euclid.skiles.gatech.edu Wed Mar 26 06:18:14 1997
Return-Path: <zsh-workers-request@euclid.skiles.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 16105 invoked from network); 26 Mar 1997 06:18:13 -0000
Received: from euclid.skiles.gatech.edu (list@130.207.146.50)
  by coral.primenet.com.au with SMTP; 26 Mar 1997 06:18:13 -0000
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id BAA06635; Wed, 26 Mar 1997 01:10:52 -0500 (EST)
Resent-Date: Wed, 26 Mar 1997 01:10:30 -0500 (EST)
Date: Tue, 25 Mar 1997 23:10:01 -0700
From: stephen.talley@Central.Sun.COM (Steve Talley)
Message-Id: <199703260610.XAA02758@ipecac.Central.Sun.COM>
To: zsh-users@math.gatech.edu
Subject: Re: Exiting zsh with jobs in background
Cc: stephen.talley@Central.Sun.COM
X-Sun-Charset: US-ASCII
Resent-Message-ID: <"BxrH6.0.cc1.MtBEp"@euclid>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/765
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

> st> Is there any way to turn off the "zsh: you have running jobs."
> st> message that appears when you try to exit zsh with jobs in the
> st> background?  I have the "nohup" option set so that zsh won't kill
> st> those jobs, but I'd like to be able to exit the shell without
> st> being nagged about running jobs.
> 
> Hrv> There is no way to turn it off.  I once posted a patch that made
> Hrv> zsh behave like bash in that respect (i.e. not to warn about
> Hrv> running job when nohup is set), but it was rejected.
> 
> On the small number of occasions I actually i) log out, and ii) have
> jobs running, and hence get the warning, I just disown them.

I don't need to disown them at this point -- since I have nohup set I just hit
Ctrl-D again and the shell exits.  The problem is that I want to avoid the
message if I can.  Having nohup set should allow me to do this...

> 
> If I was really keen, maybe I'd have done something in .zlogout to
> disown all my running jobs.
> 

By the time .zlogout gets sourced it is too late to disown the jobs.  You could
put a function in precmd that disowns jobs immediately, but then you lose job
control.  Clearly a "nowarn" option is needed for zsh.

Steve

~~
stephen.talley@Central.Sun.COM

