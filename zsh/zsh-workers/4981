From zsh-workers-return-4981-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Jan 25 12:40:25 1999
Return-Path: <zsh-workers-return-4981-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 16930 invoked from network); 25 Jan 1999 12:40:24 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 25 Jan 1999 12:40:24 -0000
Received: (qmail 951 invoked by alias); 25 Jan 1999 12:38:46 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 4981
Received: (qmail 940 invoked from network); 25 Jan 1999 12:38:45 -0000
Resent-Date: Mon, 25 Jan 1999 07:39:00 -0500 (EST)
Date: Mon, 25 Jan 1999 13:29:17 +0100 (MET)
Message-Id: <199901251229.NAA13179@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@math.gatech.edu
In-reply-to: Louis-David Mitterrand's message of Mon, 25 Jan 1999 08:37:58
	+0100
Subject: Re:  copy-prev-word and 3.1.5-pws5
Resent-Message-ID: <"RHh5E1.0.Hw3.aN6hs"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/4967
X-Loop: zsh-workers@math.gatech.edu
Resent-Sender: zsh-workers-request@math.gatech.edu


z69@csi.com wrote:

> X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/4963
> 
> % ls
> schumacher_1995_germany_01_hr.jpg
> % mv sch<TAB>
> % mv schumacher_1995_germany_01_hr.jpg 
> (cursor is here------------------------^)
> % mv schumacher_1995_germany_01_hr.jpg <copy-prev-word ESC-^_>
> % mv schumacher_1995_germany_01_hr.jpgschumacher_1995_germany_01_hr.jpg
> 
> The whitespace introduced by completion is lost when doing the
> copy-prev-word.

The simple solution is to just make the inserted suffix be kept by
adding ZLE_KEEPSUFFIX in iwidgets.list.

Bye
 Sven

diff -c os/Zle/iwidgets.list Src/Zle/iwidgets.list
*** os/Zle/iwidgets.list	Mon Jan 25 12:57:46 1999
--- Src/Zle/iwidgets.list	Mon Jan 25 13:25:35 1999
***************
*** 26,32 ****
  "capitalize-word", capitalizeword, 0
  "clear-screen", clearscreen, ZLE_MENUCMP | ZLE_KEEPSUFFIX | ZLE_LASTCOL | ZLE_NOTCOMMAND
  "complete-word", completeword, ZLE_MENUCMP | ZLE_KEEPSUFFIX | ZLE_ISCOMP
! "copy-prev-word", copyprevword, 0
  "copy-region-as-kill", copyregionaskill, ZLE_KEEPSUFFIX
  "delete-char", deletechar, ZLE_KEEPSUFFIX
  "delete-char-or-list", deletecharorlist, ZLE_MENUCMP | ZLE_KEEPSUFFIX | ZLE_ISCOMP
--- 26,32 ----
  "capitalize-word", capitalizeword, 0
  "clear-screen", clearscreen, ZLE_MENUCMP | ZLE_KEEPSUFFIX | ZLE_LASTCOL | ZLE_NOTCOMMAND
  "complete-word", completeword, ZLE_MENUCMP | ZLE_KEEPSUFFIX | ZLE_ISCOMP
! "copy-prev-word", copyprevword, ZLE_KEEPSUFFIX
  "copy-region-as-kill", copyregionaskill, ZLE_KEEPSUFFIX
  "delete-char", deletechar, ZLE_KEEPSUFFIX
  "delete-char-or-list", deletecharorlist, ZLE_MENUCMP | ZLE_KEEPSUFFIX | ZLE_ISCOMP

--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

