From zsh-users-return-4656-mason-zsh=primenet.com.au@sunsite.dk Tue Feb 05 18:27:05 2002
Return-Path: <zsh-users-return-4656-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 3048 invoked from network); 5 Feb 2002 18:27:04 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 5 Feb 2002 18:27:04 -0000
Received: (qmail 28419 invoked by alias); 5 Feb 2002 18:26:44 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4656
Received: (qmail 28408 invoked from network); 5 Feb 2002 18:26:43 -0000
Message-ID: <3C6023DC.5000001@davh.dk>
Date: Tue, 05 Feb 2002 19:26:36 +0100
From: Dennis Haney <davh@davh.dk>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:0.9.8+) Gecko/20020205
X-Accept-Language: da, en-us
MIME-Version: 1.0
CC: zsh-users@sunsite.dk
Subject: Re: cd ..<tab>?
References: <20020129102017.E3A633FC1B@pluto.sonofthor.dk> 	<15446.30464.872842.207355@wischnow.berkom.de> 	<3C572BEB.2030001@davh.dk> 	<020129171248.ZM11938@candle.brasslantern.com> 	<3C60140C.6020006@davh.dk> <1020205174636.ZM29789@candle.brasslantern.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Bart Schaefer wrote:

>On Feb 5,  6:19pm, Dennis Haney wrote:
>}
>} Bart Schaefer wrote:
>} 
>} >>Is there a way to make this work properly with setopt GLOB_DOTS?
>} >
>
>} It want to ignore '..' when it is a stupid choice.
>} eg.
>} mkdir Z
>} cd Z/[tab]
>} should NOT complete to 'cd Z/../'
>} (unless CHASE_DOTS is on and 'cd Z/..' will be different from 'cd .')
>
>This is a case where you need 'zstyle -e'.  You want the special-dirs
>style to be non-empty only in certain circumstances.
>
>This completes `..' only if the prefix is either empty, or has a leading
>`.' and contains no slashes:
>
>    zstyle -e ':completion:*' special-dirs \
>        '[[ $PREFIX = (|.[^/]#) ]] && reply=(..)'
>
heh Thanks. I didnt know I could run a "script" here :)

zstyle -e ':completion:*' special-dirs \
   '[[ $PREFIX = (../)#(|.|..) ]] && reply=(..)'

This will continue to work with cd ../../../..[tab] while working with 
cd .[tab]

Would you please add your (or my) little script to the documentation 
under special-dirs? :)


>
>
>To find out that `Z/..' is not the same directory as `.' requires a bit
>of extra work, which I don't have time to do just now, but you can see
>how you'd just insert that into the conditions under which the reply
>array is set by the style.
>
I dont use CHASE_DOTS luckely :)

>
>http://www.well.com/user/barts              http://www.brasslantern.com
>
>Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   
>


-- 
Dennis
use Inline C => qq{void p(char*g){printf("Just Another %s Hacker\n",g);}};p("Perl");



