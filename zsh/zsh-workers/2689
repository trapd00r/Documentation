From zsh-workers-request@euclid.skiles.gatech.edu Tue Dec 31 12:45:34 1996
Return-Path: <zsh-workers-request@euclid.skiles.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 6624 invoked from network); 31 Dec 1996 12:45:33 -0000
Received: from euclid.skiles.gatech.edu (list@130.207.146.50)
  by coral.primenet.com.au with SMTP; 31 Dec 1996 12:45:33 -0000
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id HAA06358; Tue, 31 Dec 1996 07:50:05 -0500 (EST)
Resent-Date: Tue, 31 Dec 1996 07:50:05 -0500 (EST)
From: Zefram <zefram@dcs.warwick.ac.uk>
Message-Id: <29374.199612311251@stone.dcs.warwick.ac.uk>
Subject: bindkey listing bugfix
To: zsh-workers@math.gatech.edu (Z Shell workers mailing list)
Date: Tue, 31 Dec 1996 12:51:15 +0000 (GMT)
X-Patch: 171
X-Loop: zefram@dcs.warwick.ac.uk
X-Stardate: [-31]8657.67
X-US-Congress: Moronic fuckers
Content-Type: text
Resent-Message-ID: <"7hSEW3.0.GZ1.ylGoo"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/2689
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

-----BEGIN PGP SIGNED MESSAGE-----

My keymap patch, 2648, contains a small bug: it doesn't escape a "^"
being output as part of a key sequence.

 -zefram

      *** Src/Zle/zle_utils.c	1996/12/26 19:13:34	1.3
      --- Src/Zle/zle_utils.c	1996/12/31 02:33:58
      ***************
      *** 354,360 ****
        	    len++;
        	    c ^= 64;
        	}
      ! 	len += c == '\\';
        	len++;
            }
            ptr = buf = zalloc(len);
      --- 354,360 ----
        	    len++;
        	    c ^= 64;
        	}
      ! 	len += c == '\\' || c == '^';
        	len++;
            }
            ptr = buf = zalloc(len);
      ***************
      *** 370,376 ****
        	    *ptr++ = '^';
        	    c ^= 64;
        	}
      ! 	if(c == '\\')
        	    *ptr++ = '\\';
        	*ptr++ = c;
            }
      --- 370,376 ----
        	    *ptr++ = '^';
        	    c ^= 64;
        	}
      ! 	if(c == '\\' || c == '^')
        	    *ptr++ = '\\';
        	*ptr++ = c;
            }

-----BEGIN PGP SIGNATURE-----
Version: 2.6.2

iQCVAwUBMsh9lnD/+HJTpU/hAQHesQP+K8V2mCTcr2+hV34wsJQj9dZl9WZd1Hbk
EucQfzynpQ6n5LTu8zfSY1CPtgTCQPnh++jf5675lLs4tTb2eF09zja9vReTu9wD
E/L5l1oUJFtgGTs9YiAdGNGzNA3TOpeuxd0ziYYGsFUz0chrdxb7WPJwaK/aTKoF
/kfv/WFwC2M=
=KagY
-----END PGP SIGNATURE-----

