From zsh-workers-return-20473-mason-zsh=primenet.com.au@sunsite.dk Tue Oct 12 15:08:44 2004
Return-Path: <zsh-workers-return-20473-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 15634 invoked from network); 12 Oct 2004 15:08:43 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 12 Oct 2004 15:08:43 -0000
Received: (qmail 22964 invoked from network); 12 Oct 2004 15:08:37 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 12 Oct 2004 15:08:37 -0000
Received: (qmail 3280 invoked by alias); 12 Oct 2004 15:08:34 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 20473
Received: (qmail 3265 invoked from network); 12 Oct 2004 15:08:32 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 12 Oct 2004 15:08:32 -0000
Received: (qmail 22622 invoked from network); 12 Oct 2004 15:08:32 -0000
Received: from acolyte.scowler.net (216.254.112.45)
  by a.mx.sunsite.dk with SMTP; 12 Oct 2004 15:08:32 -0000
Received: by acolyte.scowler.net (Postfix, from userid 1000)
	id 16C047004D; Tue, 12 Oct 2004 11:08:40 -0400 (EDT)
Date: Tue, 12 Oct 2004 11:08:40 -0400
From: Clint Adams <schizo@debian.org>
To: zsh-workers@sunsite.dk
Cc: 276187-forwarded@bugs.debian.org,
	276187-submitter@bugs.debian.org
Subject: [rr13@mail.inf.tu-dresden.de: Bug#276187: zsh: Ineractive menu completion with tab doesnt work.]
Message-ID: <20041012150840.GA26681@scowler.net>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.5.6+20040722i
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, hits=0.0 required=6.0 tests=none autolearn=no version=2.63
X-Spam-Hits: 0.0

I can reproduce this.  The garbage characters are predominantly NULs
with a \022 thrown in.

----- Forwarded message from Rene Reusner <rr13@mail.inf.tu-dresden.de> -----

On a sarge box i discovered the following bug with the new zsh.
I use interactive menu completion and normaly i scroll through
the items via tab, but this doesnt work on the new zsh anymore.

Description: 
I type an command, like ls, type a space
and then press tab, to get the filelist.
A menu appears with the files in this directory and the first entry
is selected.
Then normaly, i press tab again and again, to cycle through
these items. But this doesnt work anymore, the shell puts some weird 
chars in the prompt, like ^@^@^@ and i cant use tab anymore.

Example:

ls
<tab> .. to get the list, this works
<tab> .. normaly to scroll through the list, but the new zsh print some
weird characters and i cant use tab anymore.

copy from the terminal
neodym% ^@^@^@
interactive: []
0307.pdf                        < first selected item.
113240-10.jar
115738-03.zip
3com_manage.pdf


A work around is, to press some cursor keys to move around in this menu, but
the resulting completion is wrong.  ^@^ is inserted before the filename
and the resulting filename is wrong.

I also deleted the .zcompdump and started a new shell and also emptied
my .zsenv only for the important settings.
My terminal is a normal xterm.

My .zshenv is:

autoload -U compinit
compinit -C # don't perform security check
compinit -u 
zstyle ':completion:*' menu select interactive


nothing more

On the old shell on woody, Version is 4.07 the menu completion works
fine.
This bug makes the new zsh with interactive menucompletion 
nearby unusually for me.

----- End forwarded message -----

