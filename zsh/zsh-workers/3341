From zsh-workers-request@euclid.skiles.gatech.edu Thu Jul 03 04:24:47 1997
Return-Path: <zsh-workers-request@euclid.skiles.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 8004 invoked from network); 3 Jul 1997 04:24:41 -0000
Received: from euclid.skiles.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 3 Jul 1997 04:24:41 -0000
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id XAA20265; Wed, 2 Jul 1997 23:52:31 -0400 (EDT)
Resent-Date: Wed, 2 Jul 1997 23:52:31 -0400 (EDT)
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <970702210103.ZM12716@candle.brasslantern.com>
Date: Wed, 2 Jul 1997 21:01:03 -0700
In-Reply-To: <9707030152.AA15017@tallowcross.uni-frankfurt.de>
Comments: In reply to Uli Zappe <uli@tallowcross.uni-frankfurt.de>
        "German Umlauts still don't work" (Jul  3,  3:52am)
References: <19742.199706262142@stone.dcs.warwick.ac.uk> 
	<9707030152.AA15017@tallowcross.uni-frankfurt.de>
X-Mailer: Z-Mail (4.0b.820 20aug96)
To: Uli Zappe <uli@tallowcross.uni-frankfurt.de>, zsh-workers@math.gatech.edu
Subject: Re: German Umlauts still don't work
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Resent-Message-ID: <"sI7_c3.0.ay4.-7okp"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3341
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

On Jul 3,  3:52am, Uli Zappe wrote:
} Subject: German Umlauts still don't work
}
} the German Umlaut problem I brought up a few days ago is more  
} difficult to solve than expected.
} 
} Peter Stephenson suggested to patch utils.c which is the only  
} source file in zsh making use of isprint(c) which delivers incorrect  
} results for NEXTSTEP.

I presume you also did `setopt PRINTEIGHTBIT` after applying that patch?
Just checking ...

} I tried that, but it didn't change a thing. Obviously there is  
} another part of the zsh source that's limiting zsh's behaviour; it's  
} definitely *not* the isprint(c) part (which would be easy to  
} replace by the correct NXIsPrint(c) for the NEXTSTEP version, BTW).

Is the symptom that the characters display as \M-a, or simply that they
lose the umlauts?  What's your `stty -a` output?

} Does anyone have an idea where to look?

With some grepping, I can't find any output of file names that doesn't
pass through the right functions, except fprintdir() which seems to always
output the raw string (so it can't be accidentally \M-ifying it).

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

