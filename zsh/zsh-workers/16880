From zsh-workers-return-16880-mason-zsh=primenet.com.au@sunsite.dk Fri Mar 22 11:46:04 2002
Return-Path: <zsh-workers-return-16880-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9807 invoked from network); 22 Mar 2002 11:46:03 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 22 Mar 2002 11:46:03 -0000
Received: (qmail 24895 invoked by alias); 22 Mar 2002 11:45:54 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 16880
Received: (qmail 24884 invoked from network); 22 Mar 2002 11:45:53 -0000
X-VirusChecked: Checked
Date: Fri, 22 Mar 2002 11:45:25 +0000
From: Oliver Kiddle <okiddle@yahoo.co.uk>
To: Borsenkow Andrej <Andrej.Borsenkow@mow.siemens.ru>
Cc: Zsh hackers list <zsh-workers@sunsite.dk>
Subject: Re: PATCH: print -f with -s/-z
Message-ID: <20020322114525.GA18469@logica.com>
References: <20020319142106.GA19527@logica.com> <1016735949.3843.2.camel@localhost.localdomain>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <1016735949.3843.2.camel@localhost.localdomain>
User-Agent: Mutt/1.3.27i
Sender: Oliver Kiddle <kiddleo@logica.com>

On Thu, Mar 21, 2002 at 09:39:03PM +0300, Borsenkow Andrej wrote:
> >  
> > +/* this is defined so we get the prototype for open_memstream */
> > +#define _GNU_SOURCE 1
> > +
> 
> It is a bit weird to define it unconditionally even on a system that has
> nothing to do with GNU. 
> 
> If some extra steps are needed to pull in prototype for open_memstream I
> prefer configure to test for them instead.

I could put #ifdef HAVE_OPEN_MEMSTREAM around it if that would be less
weird? I'd have thought that _GNU_SOURCE was going to be ignored on
any non-GNU system and so would be harmless.

That define is the only step I know of for pulling in the prototype
(other than explicitly writing the prototype) and I can't think how
any configure test could more directly test for it.

Oliver

This e-mail and any attachment is for authorised use by the intended recipient(s) only.  It may contain proprietary material, confidential information and/or be subject to legal privilege.  It should not be copied, disclosed to, retained or used by, any other party.  If you are not an intended recipient then please promptly delete this e-mail and any attachment and all copies and inform the sender.  Thank you.

