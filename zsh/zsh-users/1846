From zsh-workers-request@math.gatech.edu Thu Oct 08 18:06:22 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 7532 invoked from network); 8 Oct 1998 18:06:21 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 8 Oct 1998 18:06:21 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.9.1/8.9.1) id NAA16464;
	Thu, 8 Oct 1998 13:46:51 -0400 (EDT)
Resent-Date: Thu, 8 Oct 1998 13:46:30 -0400 (EDT)
Message-ID: <19981008204953.A9624@kappa.ro>
Date: Thu, 8 Oct 1998 20:49:53 +0300
From: Mircea Damian <dmircea@secu.kappa.ro>
To: zsh-users@math.gatech.edu
Subject: How to trigger the death of zsh(3.0.5)
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 0.93.2i
X-Operating-System: Linux secu 2.0.33
Resent-Message-ID: <"C45Ae2.0.W04.sfF7s"@math>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/1846
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu



Hello,

1)
 I posted a while ago a message about the "disappearing zsh".
 I'm still using zsh-3.0.5(the one which comes with slackware 3.5) and I
found a way to trigger the death of zsh:
 I'm doing a backward-i-search(Ctrl-r) for "ls"(without quotes) and instead of
pressing enter I'm hitting Ctrl-C(which is interrupt key for my terminal) so
the prompt for search is disappearing. Then it's enough to type "ls",
enter and the shell is dead.


My machine is linux-2.0.33 on a ix86 architecture(P200) with slackware 3.5.

The strace output is available on request.

Here is the /etc/zprofile(which is linked to /etc/zshrc):

export PS1='%n@%m:%~%# '
export PATH=/usr/lib/teTeX/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/sbin:/usr/sbin:/sbin:/usr/local/samba/bin:.
export HISTFILE=~/.history
export HISTSIZE=500
export LESSOPEN="|lesspipe.sh %s"
export LESS="-MMQ"
export SAVEHIST=500
export PAGER=less
export MIBS=ALL

setopt histignoredups histignorespace nobeep autocd autolist nonomatch appendhistory nobgnice correctall histnostore listtypes

# Home, End, Del for linux and xterm
bindkey "^[[1~" beginning-of-line
bindkey "^[[3~" delete-char
bindkey "^[[4~" end-of-line

ulimit -c 0

#ls colors
eval `dircolors -z`

#alias part
alias cls=clear
alias l='ls -lsa'
alias cp='cp -i'
alias mv='nocorrect mv -i'
alias s='screen'

#we are done
echo

--- end here ---

I have no personal rcfiles.


2)
Another question: Is there any way to bind the keys the way they are in
bash for "insert-last-word"? I'm trying to convince some other people to
move to zsh but it seems that this is a big impediment for them.
In bash if I type Ctrl-Alt-y it inserts the first argument of the previous
command(this can be done also with ESC Ctrl-y as two hits sequence). Of
course if this is preceded be a Alt-number(or ESC number) it will insert
the argument of the previous command with that number.


3)
Why zsh is not able to run the script which comes with linux kernel
scripts/patch-kernel? It seems that it is not passing the PATH enviroment
variable because it is not finding "gzip" or "bzip2"(I'm runing the script
with a command like:

. scripts/patch-kernel

or 

zsh scripts/patch-kernel
)


I would appreciate any help or hints.
Thank you,

-- 
Mircea Damian
Network Manager
dmircea@roedu.net, dmircea@lbi.ro, dmircea@kappa.ro
MD65-RIPE, MD2225, MD1-6BONE
Phone: +40-1-4115246

