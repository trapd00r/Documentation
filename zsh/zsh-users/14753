From zsh-users-return-14753-mason-zsh=primenet.com.au@zsh.org Fri Jan 29 21:43:09 2010
Return-Path: <zsh-users-return-14753-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 11545 invoked by alias); 29 Jan 2010 21:43:09 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 14753
Received: (qmail 29866 invoked from network); 29 Jan 2010 21:43:07 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00,SPF_HELO_PASS
	autolearn=ham version=3.2.5
Received-SPF: none (ns1.primenet.com.au: domain at bewatermyfriend.org does not designate permitted sender hosts)
From: Frank Terbeck <ft@bewatermyfriend.org>
To: Peter Stephenson <p.w.stephenson@ntlworld.com>
Cc: zsh-users@zsh.org
Subject: Re: Binding Home and End
In-Reply-To: <20100128213354.0dd08dd2@pws-pc> (Peter Stephenson's message of
	"Thu, 28 Jan 2010 21:33:54 +0000")
References: <20100127165843.GA4832@fermat.math.technion.ac.il>
	<20100128213354.0dd08dd2@pws-pc>
User-Agent: Gnus/5.13 (Gnus v5.13) Emacs/23.1 (gnu/linux)
Date: Fri, 29 Jan 2010 22:41:59 +0100
Message-ID: <87mxzwsi54.fsf@ft.bewatermyfriend.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Df-Sender: 430444

Peter Stephenson wrote:
> On Wed, 27 Jan 2010 18:58:43 +0200
> "Nadav Har'El" <nyh@math.technion.ac.il> wrote:
>> I wonder - shouldn't ZLE also switch to application mode and leave this
>> mode when editing is complete (to run a command)?
>
> I can't imagine changing the normal behaviour will lead to anything
> other than chaos, but there is a simple way of making the shell do this
> for you:
>
> zle-line-init() { echoti smkx; }  
> zle-line-finish() { echoti rmkx; }
> zle -N zle-line-init
> zle -N zle-line-finish
>
> which seemed to do what I expected.

Any reason why this would "lead to anything other than chaos"? I think
this is the correct way to do this. Without it, relying on information
from terminfo to bind keys cannot work too well.

Is there any potential part of the shell that could break if what the
above functions did were the default behaviour?

Regards, Frank

-- 
In protocol design, perfection has been reached not when there is
nothing left to add, but when there is nothing left to take away.
                                                  -- RFC 1925

