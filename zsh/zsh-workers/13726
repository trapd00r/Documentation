From zsh-workers-return-13726-mason-zsh=primenet.com.au@sunsite.dk Fri Mar 23 10:48:44 2001
Return-Path: <zsh-workers-return-13726-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 15451 invoked from network); 23 Mar 2001 10:48:40 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 23 Mar 2001 10:48:40 -0000
Received: (qmail 25264 invoked by alias); 23 Mar 2001 10:48:20 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 13726
Received: (qmail 25252 invoked from network); 23 Mar 2001 10:48:18 -0000
Message-ID: <Tc0a88d01527788cf04@mailsweeper01.cambridgesiliconradio.com>
To: zsh-workers@sunsite.dk (Zsh hackers list)
Subject: Re: Correction of files after ~/ 
In-Reply-To: Your message of "Thu, 22 Mar 2001 18:30:32 GMT."
             <1010322183033.ZM20800@candle.brasslantern.com> 
Date: Fri, 23 Mar 2001 10:47:43 +0000
From: Peter Stephenson <pws@csr.com>

> On Mar 22,  5:41pm, Peter Stephenson wrote:
> } Subject: Correction of files after ~/
> }
> } Correction/approximation of filenames which begin with a `~' appears to be
> } broken.  I think this has happened before.  I'm not aware of any styles I
> } have that would affect this (note careful phrasing).
> 
> It's working for me.  What does C-x ? show you?

Here's edited highlights --- I don't have time to look at this at the
moment.  I'm trying to complete ~/src/zsh/Completion/Usr which should turn
the last part into User.  This is the part of the plot from where it
correctly tries the path with one approximation up to where it gives up and
tries it with two approximations.  It works fine if I replace ~ with
/home/pws.

Same behaviour with zsh -f with the single style
  zstyle ':completion:*' completer _oldlist _expand _complete _approximate
which is what I normally use.

+compadd:5> PREFIX=~/(#a1)src/zsh/Completion/Usr 
+compadd:9> compadd -J corrections -X Completing corrections -Qf -p ~/src/zsh/Completion/ -W /home/pws/src/zsh/Completion/ -J all-files -X Completing file -F _comp_ignore -M r:|/=* r:|=* -a tmp1
+_path_files:640> zstyle -t :completion::approximate-1:echo::paths expand prefix
+_path_files:648> [[ nm -ne compstate[nmatches] ]]
+_files:75> _next_label all-files expl file
+_next_label:3> local __gopt=-J __descr __spec
+_next_label:5> [[ all-files == -([12]|)[VJ] ]]
+_next_label:10> comptags -A all-files curtag __spec
+_next_label:25> return 1
+_files:83> ((  ret  ))
+_files:73> _tags
+_tags:3> local prev
+_tags:10> [[  == -- ]]
+_tags:15> ((  0  ))
+_tags:66> comptags -N
+_files:85> [[ * == * ]]
+_files:85> return ret
+_default:21> [[ -o magicequalsubst && ~/src/zsh/Completion/Usr == *=* ]]
+_default:26> return 1
+_normal:126> _compskip= 
+_normal:128> return ret
+_complete:142> _compskip= 
+_complete:144> return ret
+_approximate:100> [[ 24 -le _comp_correct+1 ]]
+_approximate:101> ((  _comp_correct++  ))
+_approximate:69> [[ _comp_correct -le comax ]]
+_approximate:70> curcontext=:approximate-2:: 
+_approximate:72> _description corrections _correct_expl corrections e:2 o:~/src/zsh/Completion/Usr
+_description:3> local name gropt=-J format gname hidden hide match opts
+_description:5> opts=( ) 
+_description:7> [[ corrections == -([12]|)[VJ] ]]
+_description:12> _lastdescr=(  file corrections corrections ) 
+_description:14> zstyle -s :completion::approximate-2:::corrections group-name gname
+_description:15> [[ -z  ]]
+_description:15> gname=corrections 
+_description:17> _setup corrections corrections
+_setup:3> local val nm=0
+_setup:5> [[ 2 -eq 1 ]]
+_setup:7> zstyle -a :completion::approximate-2:::corrections list-colors val
+_setup:8> zmodload -i zsh/complist
+_setup:9> [[ corrections == default ]]
+_setup:12> _comp_colors=( no=00 fi=00 di=01;34 ln=01;36 pi=40;33 so=01;35 bd=40;33;01 cd=40;33;01 or=40;31;01 ex=01;32 *.tar=01;31 *.tgz=01;31 *.arj=01;31 *.taz=01;31 *.lzh=01;31 *.zip=01;31 *.z=01;31 *.Z=01;31 *.gz=01;31 *.deb=01;31 *.jpg=01;35 *.gif=01;35 *.bmp=01;35 *.ppm=01;35 *.tga=01;35 *.xbm=01;35 *.xpm=01;35 *.tif=01;35 *.mpg=01;37 *.avi=01;37 *.gl=01;37 *.dl=01;37 (all-files)no=00 (all-files)fi=00 (all-files)di=01;34 (all-files)ln=01;36 (all-files)pi=40;33 (all-files)so=01;35 (all-files)bd=40;33;01 (all-files)cd=40;33;01 (all-files)or=40;31;01 (all-files)ex=01;32 (all-files)*.tar=01;31 (all-files)*.tgz=01;31 (all-files)*.arj=01;31 (all-files)*.taz=01;31 (all-files)*.lzh=01;31 (all-files)*.zip=01;31 (all-files)*.z=01;31 (all-files)*.Z=01;31 (all-files)*.gz=01;31 (all-files)*.deb=01;31 (all-files)*.jpg=01;35 (all-files)*.gif=01;35 (all-files)*.bmp=01;35 (all-files)*.ppm=01;35 (all-files)*.tga=01;35 (all-files)*.xbm=01;35 (all-files)*.xpm=01;35 (all-files)*.tif=01;35 (all-files)*.mpg=01;37 (all-files)*.avi=01;37 (all-files)*.gl=01;37 (all-files)*.dl=01;37 (corrections)no=00 (corrections)fi=00 (corrections)di=01;34 (corrections)ln=01;36 (corrections)pi=40;33 (corrections)so=01;35 (corrections)bd=40;33;01 (corrections)cd=40;33;01 (corrections)or=40;31;01 (corrections)ex=01;32 (corrections)*.tar=01;31 (corrections)*.tgz=01;31 (corrections)*.arj=01;31 (corrections)*.taz=01;31 (corrections)*.lzh=01;31 (corrections)*.zip=01;31 (corrections)*.z=01;31 (corrections)*.Z=01;31 (corrections)*.gz=01;31 (corrections)*.deb=01;31 (corrections)*.jpg=01;35 (corrections)*.gif=01;35 (corrections)*.bmp=01;35 (corrections)*.ppm=01;35 (corrections)*.tga=01;35 (corrections)*.xbm=01;35 (corrections)*.xpm=01;35 (corrections)*.tif=01;35 (corrections)*.mpg=01;37 (corrections)*.avi=01;37 (corrections)*.gl=01;37 (corrections)*.dl=01;37 (corrections)no=00 (corrections)fi=00 (corrections)di=01;34 (corrections)ln=01;36 (corrections)pi=40;33 (corrections)so=01;35 (corrections)bd=40;33;01 (corrections)cd=40;33;01 (corrections)or=40;31;01 (corrections)ex=01;32 (corrections)*.tar=01;31 (corrections)*.tgz=01;31 (corrections)*.arj=01;31 (corrections)*.taz=01;31 (corrections)*.lzh=01;31 (corrections)*.zip=01;31 (corrections)*.z=01;31 (corrections)*.Z=01;31 (corrections)*.gz=01;31 (corrections)*.deb=01;31 (corrections)*.jpg=01;35 (corrections)*.gif=01;35 (corrections)*.bmp=01;35 (corrections)*.ppm=01;35 (corrections)*.tga=01;35 (corrections)*.xbm=01;35 (corrections)*.xpm=01;35 (corrections)*.tif=01;35 (corrections)*.mpg=01;37 (corrections)*.avi=01;37 (corrections)*.gl=01;37 (corrections)*.dl=01;37 ) 
+_setup:26> zstyle -t :completion::approximate-2:::corrections list-packed
+_setup:28> [[ 2 -eq 1 ]]
+_setup:31> compstate[list]=ambiguous 
+_setup:34> zstyle -t :completion::approximate-2:::corrections list-rows-first
+_setup:36> [[ 2 -eq 1 ]]
+_setup:39> compstate[list]=ambiguous 
+_setup:42> zstyle -t :completion::approximate-2:::corrections last-prompt
+_setup:44> [[ 2 -eq 1 ]]
+_setup:47> compstate[last_prompt]=yes 
+_setup:50> zstyle -t :completion::approximate-2:::corrections accept-exact
+_setup:52> [[ 2 -eq 1 ]]
+_setup:55> compstate[exact]= 
+_setup:58> [[ _last_nmatches -ge 0 && _last_nmatches -ne nm ]]
+_setup:61> zstyle -a :completion::approximate-2:::corrections menu val
+_setup:62> _last_nmatches=0 
+_setup:63> _last_menu_style=( select=long select=5 ) 
+_setup:68> [[  != always ]]
+_setup:69> zstyle -s :completion::approximate-2:::corrections force-list val
+_description:19> name=_correct_expl 
+_description:21> zstyle -s :completion::approximate-2:::corrections format format
+_description:24> zstyle -s :completion::approximate-2:::corrections hidden hidden
+_description:29> zstyle -s :completion::approximate-2:::corrections matcher match
+_description:31> [[ -n  ]]
+_description:33> [[ -z  ]]
+_description:34> zstyle -a :completion::approximate-2:::corrections ignored-patterns _comp_ignore
+_description:35> _comp_ignore=( ) 
+_description:37> zstyle -s :completion::approximate-2:::corrections ignore-line hidden
+_description:48> ((  0  ))
+_description:53> shift 2
+_description:54> [[ -n Completing %d ]]
+_description:54> zformat -f format Completing %d d:corrections e:2 o:~/src/zsh/Completion/Usr
+_description:56> [[ -n corrections ]]
+_description:57> [[ -n Completing corrections ]]
+_description:58> set -A _correct_expl -J corrections -X Completing corrections
+_description:70> return 0
+_approximate:75> _complete
+_complete:7> local comp name oldcontext ret=1 service
+_complete:8> typeset -T curcontext=:approximate-2:: ccarray
+_complete:10> oldcontext=:approximate-2:: 
+_complete:14> [[ -n  ]]
+_complete:96> comp=_first 
+_complete:97> [[ ! -z _first ]]
+_complete:98> service=-first- 
+_complete:99> ccarray[3]=-first- 
+_complete:100> _first
+_complete:100> ret=0 
+_complete:101> [[  == all ]]
+_complete:110> [[ -n  ]]
+_complete:114> ret=1 
+_complete:115> [[ command == command ]]
+_complete:116> curcontext=:approximate-2:: 
+_complete:117> _normal -s
+_normal:3> local comp command cmd1 cmd2 pat val name i ret=1 _compskip=
+_normal:4> local curcontext=:approximate-2:: service
+_normal:11> [[ -s == -s ]]
+_normal:17> command=echo 
+_normal:18> [[ CURRENT -eq 1 ]]
+_normal:26> ((  1 + 0  ))
+_normal:27> cmd1=echo 
+_normal:28> curcontext=:approximate-2:echo: 
+_normal:50> [[  != (all|*patterns*) ]]
+_normal:51> service=echo 
+_normal:61> [[ -n  ]]
+_normal:77> ret=1 
+_normal:78> name=echo 
+_normal:79> comp= 
+_normal:80> service=echo 
+_normal:82> [[ -z  ]]
+_normal:83> name= comp= service= 
+_normal:87> [[ -n  ]]
+_normal:91> [[  != *default* ]]
+_normal:92> name=-default- 
+_normal:93> comp=_default 
+_normal:96> [[  != (all|*patterns*) ]]
+_normal:97> service=echo 
+_normal:108> [[ -n  ]]
+_normal:123> [[ -default- == -default- && -n _default &&  != (all|*default*) ]]
+_normal:124> service=-default- 
+_normal:124> _default
+_default:3> local ctl
+_default:5> zstyle -s :completion::approximate-2:echo:: use-compctl ctl
+_default:6> zmodload -e zsh/compctl
+_default:6> [[  != (no|false|0|off) ]]
+_default:7> local opt
+_default:9> opt=( ) 
+_default:10> [[  == *first* ]]
+_default:11> [[  == *default* ]]
+_default:12> compcall
+_default:15> _files
+_files:3> local opts tmp glob pat pats expl tag i def descr end ign ret=1 match tried
+_files:4> local type sdef
+_files:6> zparseopts -a opts /=tmp f=tmp g+:-=tmp q n 1 2 P: S: r: R: W: X+: M+: F: J+: V+:
+_files:9> type= 
+_files:10> ((  0  ))
+_files:15> ign=0 
+_files:16> ((  ign  ))
+_files:24> ign= 
+_files:27> zstyle -a :completion::approximate-2:echo:: file-patterns tmp
+_files:39> [[  == *g* ]]
+_files:46> [[  == */* ]]
+_files:49> pats=( *:all-files  ) 
+_files:53> tried=( ) 
+_files:54> def=*:all-files 
+_files:55> eval def=( \*:all-files  )
+_files:55> def=( *:all-files ) 
+_files:56> sdef=*:all-files
+_files:58> tag=all-files 
+_files:59> pat=* 
+_files:61> ((  0  ))
+_files:63> tried=( * ) 
+_files:65> [[ *:all-files == *:all-files:* ]]
+_files:68> descr=file 
+_files:69> end=yes 
+_files:72> _tags all-files
+_tags:3> local prev
+_tags:10> [[ all-files == -- ]]
+_tags:15> ((  1  ))
+_tags:19> local curcontext=:approximate-2:echo: order tag nodef tmp
+_tags:21> [[ all-files == -C?* ]]
+_tags:24> [[ all-files == -C ]]
+_tags:29> [[ all-files == -(|-) ]]
+_tags:31> zstyle -a :completion::approximate-2:echo:: group-order order
+_tags:36> comptags -i :approximate-2:echo: all-files
+_tags:40> [[ -n  ]]
+_tags:43> zstyle -a :completion::approximate-2:echo:: tag-order order
+_tags:44> order=( (|*-)argument-* (|*-)option-* values options ) 
+_tags:46> tag=(|*-)argument-* (|*-)option-* values
+_tags:47> case (|*-)argument-* (|*-)option-* values (-)
+_tags:47> case (|*-)argument-* (|*-)option-* values (!*)
+_tags:47> case (|*-)argument-* (|*-)option-* values (?*)
+_tags:50> comptry -m (|*-)argument-* (|*-)option-* values
+_tags:46> tag=options
+_tags:47> case options (-)
+_tags:47> case options (!*)
+_tags:47> case options (?*)
+_tags:50> comptry -m options
+_tags:54> [[ -z  ]]
+_tags:54> comptry all-files
+_tags:59> comptags -T
+_tags:61> return
+_files:73> _tags
+_tags:3> local prev
+_tags:10> [[  == -- ]]
+_tags:15> ((  0  ))
+_tags:66> comptags -N
+_files:74> _comp_ignore=( ) 
+_files:75> _next_label all-files expl file
+_next_label:3> local __gopt=-J __descr __spec
+_next_label:5> [[ all-files == -([12]|)[VJ] ]]
+_next_label:10> comptags -A all-files curtag __spec
+_next_label:11> _comp_tags= all-files  all-files  all-files  all-files  
+_next_label:12> [[ all-files == *:* ]]
+_next_label:18> _description -J all-files expl file
+_description:3> local name gropt=-J format gname hidden hide match opts
+_description:5> opts=( ) 
+_description:7> [[ -J == -([12]|)[VJ] ]]
+_description:8> gropt=-J 
+_description:9> shift
+_description:12> _lastdescr=(  file corrections file ) 
+_description:14> zstyle -s :completion::approximate-2:echo::all-files group-name gname
+_description:15> [[ -z  ]]
+_description:15> gname=all-files 
+_description:17> _setup all-files all-files
+_setup:3> local val nm=0
+_setup:5> [[ 2 -eq 1 ]]
+_setup:7> zstyle -a :completion::approximate-2:echo::all-files list-colors val
+_setup:8> zmodload -i zsh/complist
+_setup:9> [[ all-files == default ]]
+_setup:12> _comp_colors=( no=00 fi=00 di=01;34 ln=01;36 pi=40;33 so=01;35 bd=40;33;01 cd=40;33;01 or=40;31;01 ex=01;32 *.tar=01;31 *.tgz=01;31 *.arj=01;31 *.taz=01;31 *.lzh=01;31 *.zip=01;31 *.z=01;31 *.Z=01;31 *.gz=01;31 *.deb=01;31 *.jpg=01;35 *.gif=01;35 *.bmp=01;35 *.ppm=01;35 *.tga=01;35 *.xbm=01;35 *.xpm=01;35 *.tif=01;35 *.mpg=01;37 *.avi=01;37 *.gl=01;37 *.dl=01;37 (all-files)no=00 (all-files)fi=00 (all-files)di=01;34 (all-files)ln=01;36 (all-files)pi=40;33 (all-files)so=01;35 (all-files)bd=40;33;01 (all-files)cd=40;33;01 (all-files)or=40;31;01 (all-files)ex=01;32 (all-files)*.tar=01;31 (all-files)*.tgz=01;31 (all-files)*.arj=01;31 (all-files)*.taz=01;31 (all-files)*.lzh=01;31 (all-files)*.zip=01;31 (all-files)*.z=01;31 (all-files)*.Z=01;31 (all-files)*.gz=01;31 (all-files)*.deb=01;31 (all-files)*.jpg=01;35 (all-files)*.gif=01;35 (all-files)*.bmp=01;35 (all-files)*.ppm=01;35 (all-files)*.tga=01;35 (all-files)*.xbm=01;35 (all-files)*.xpm=01;35 (all-files)*.tif=01;35 (all-files)*.mpg=01;37 (all-files)*.avi=01;37 (all-files)*.gl=01;37 (all-files)*.dl=01;37 (corrections)no=00 (corrections)fi=00 (corrections)di=01;34 (corrections)ln=01;36 (corrections)pi=40;33 (corrections)so=01;35 (corrections)bd=40;33;01 (corrections)cd=40;33;01 (corrections)or=40;31;01 (corrections)ex=01;32 (corrections)*.tar=01;31 (corrections)*.tgz=01;31 (corrections)*.arj=01;31 (corrections)*.taz=01;31 (corrections)*.lzh=01;31 (corrections)*.zip=01;31 (corrections)*.z=01;31 (corrections)*.Z=01;31 (corrections)*.gz=01;31 (corrections)*.deb=01;31 (corrections)*.jpg=01;35 (corrections)*.gif=01;35 (corrections)*.bmp=01;35 (corrections)*.ppm=01;35 (corrections)*.tga=01;35 (corrections)*.xbm=01;35 (corrections)*.xpm=01;35 (corrections)*.tif=01;35 (corrections)*.mpg=01;37 (corrections)*.avi=01;37 (corrections)*.gl=01;37 (corrections)*.dl=01;37 (all-files)no=00 (all-files)fi=00 (all-files)di=01;34 (all-files)ln=01;36 (all-files)pi=40;33 (all-files)so=01;35 (all-files)bd=40;33;01 (all-files)cd=40;33;01 (all-files)or=40;31;01 (all-files)ex=01;32 (all-files)*.tar=01;31 (all-files)*.tgz=01;31 (all-files)*.arj=01;31 (all-files)*.taz=01;31 (all-files)*.lzh=01;31 (all-files)*.zip=01;31 (all-files)*.z=01;31 (all-files)*.Z=01;31 (all-files)*.gz=01;31 (all-files)*.deb=01;31 (all-files)*.jpg=01;35 (all-files)*.gif=01;35 (all-files)*.bmp=01;35 (all-files)*.ppm=01;35 (all-files)*.tga=01;35 (all-files)*.xbm=01;35 (all-files)*.xpm=01;35 (all-files)*.tif=01;35 (all-files)*.mpg=01;37 (all-files)*.avi=01;37 (all-files)*.gl=01;37 (all-files)*.dl=01;37 ) 
+_setup:26> zstyle -t :completion::approximate-2:echo::all-files list-packed
+_setup:28> [[ 2 -eq 1 ]]
+_setup:31> compstate[list]=ambiguous 
+_setup:34> zstyle -t :completion::approximate-2:echo::all-files list-rows-first
+_setup:36> [[ 2 -eq 1 ]]
+_setup:39> compstate[list]=ambiguous 
+_setup:42> zstyle -t :completion::approximate-2:echo::all-files last-prompt
+_setup:44> [[ 2 -eq 1 ]]
+_setup:47> compstate[last_prompt]=yes 
+_setup:50> zstyle -t :completion::approximate-2:echo::all-files accept-exact
+_setup:52> [[ 2 -eq 1 ]]
+_setup:55> compstate[exact]= 
+_setup:58> [[ _last_nmatches -ge 0 && _last_nmatches -ne nm ]]
+_setup:61> zstyle -a :completion::approximate-2:echo::all-files menu val
+_setup:62> _last_nmatches=0 
+_setup:63> _last_menu_style=( select=long select=5 ) 
+_setup:68> [[  != always ]]
+_setup:69> zstyle -s :completion::approximate-2:echo::all-files force-list val
+_description:19> name=expl 
+_description:21> zstyle -s :completion::approximate-2:echo::all-files format format
+_description:24> zstyle -s :completion::approximate-2:echo::all-files hidden hidden
+_description:29> zstyle -s :completion::approximate-2:echo::all-files matcher match
+_description:31> [[ -n  ]]
+_description:33> [[ -z  ]]
+_description:34> zstyle -a :completion::approximate-2:echo::all-files ignored-patterns _comp_ignore
+_description:35> _comp_ignore=( ) 
+_description:37> zstyle -s :completion::approximate-2:echo::all-files ignore-line hidden
+_description:48> ((  0  ))
+_description:53> shift 2
+_description:54> [[ -n Completing %d ]]
+_description:54> zformat -f format Completing %d d:file
+_description:56> [[ -n all-files ]]
+_description:57> [[ -n Completing file ]]
+_description:58> set -A expl -J all-files -X Completing file
+_description:70> return 0
+_next_label:19> set -A expl -J all-files -X Completing file
+_next_label:22> return 0
+_files:76> _comp_ignore=( ) 
+_files:77> [[ -n yes ]]
+_files:78> _path_files -g * -J all-files -X Completing file
+_path_files:6> local linepath realpath donepath prepath testpath exppath skips skipped
+_path_files:7> local tmp1 tmp2 tmp3 tmp4 i orig eorig pre suf tpre tsuf opre osuf cpre
+_path_files:8> local pats haspats ignore pfxsfx sopt gopt opt sdirs ignpar cfopt listsfx
+_path_files:9> local nm=0 menu matcher mopts sort match mid accex fake
+_path_files:11> typeset -U prepaths exppaths
+_path_files:13> exppaths=( ) 
+_path_files:17> zparseopts -a mopts P:=pfxsfx S:=pfxsfx q=pfxsfx r:=pfxsfx R:=pfxsfx W:=prepaths F:=ignore M+:=matcher J+: V+: X+: 1: 2: n: f=tmp1 /=tmp1 g+:-=tmp1
+_path_files:22> sopt=-g 
+_path_files:23> ((  1  ))
+_path_files:23> haspats=yes 
+_path_files:24> ((  1  ))
+_path_files:24> gopt=yes 
+_path_files:25> ((  0  ))
+_path_files:28> pats=( * ) 
+_path_files:30> pats=( * ) 
+_path_files:32> ((  0  ))
+_path_files:44> prepaths=(  ) 
+_path_files:47> ((  0  ))
+_path_files:58> [[ -g == -(f|) ]]
+_path_files:67> ((  ! 3  ))
+_path_files:88> [[ -z  && 0 -eq 0 && -z yes || * ==  #* # && -n ~:.orig:.o ]]
+_path_files:90> ignore=( ?*~ ?*.orig ?*.o ) 
+_path_files:92> ((  3  ))
+_path_files:93> _comp_ignore=( ?*~ ?*.orig ?*.o ) 
+_path_files:94> ((  0  ))
+_path_files:94> mopts=( -J all-files -X Completing file -F _comp_ignore ) 
+_path_files:97> ((  0  ))
+_path_files:99> zstyle -s :completion::approximate-2:echo:: file-sort tmp1
+_path_files:133> zstyle -t :completion::approximate-2:echo::paths squeeze-slashes
+_path_files:136> skips=((.|..)/)## 
+_path_files:139> zstyle -s :completion::approximate-2:echo::paths special-dirs sdirs
+_path_files:140> zstyle -t :completion::approximate-2:echo::paths list-suffixes
+_path_files:143> [[ * == ((|*[[:blank:]])*(|[[:blank:]]*)|*([^[:blank:]]#/[^[:blank:]]#)*) ]]
+_path_files:144> sopt=-g/ 
+_path_files:146> zstyle -a :completion::approximate-2:echo::paths accept-exact accex
+_path_files:147> zstyle -a :completion::approximate-2:echo:: fake-files fake
+_path_files:149> zstyle -s :completion::approximate-2:echo:: ignore-parents ignpar
+_path_files:151> [[ -n * && -z  && ~/src/zsh/Completion/Usr == (|*[^$])([^|~]##) ||  == (|*[^$])([^|~]##) ]]
+_path_files:179> pre=~/src/zsh/Completion/Usr 
+_path_files:180> suf= 
+_path_files:181> opre=~/src/zsh/Completion/Usr 
+_path_files:182> osuf= 
+_path_files:183> orig=~/src/zsh/Completion/Usr 
+_path_files:184> eorig=~/src/zsh/Completion/Usr 
+_path_files:186> [[ menu == (*menu|[0-9]*) ]]
+_path_files:188> menu=yes 
+_path_files:189> [[ -n 2 ]]
+_path_files:189> cfopt=- 
+_path_files:193> [[ ~ == ~ && -z  ]]
+_path_files:201> linepath= 
+_path_files:202> [[ -z  ]]
+_path_files:203> realpath=/home/pws/ 
+_path_files:238> linepath=~/ 
+_path_files:239> [[ /home/pws/ == ~/ ]]
+_path_files:240> pre=src/zsh/Completion/Usr 
+_path_files:241> orig=src/zsh/Completion/Usr 
+_path_files:242> donepath= 
+_path_files:243> prepaths=(  ) 
+_path_files:288> prepath=
+_path_files:294> skipped= 
+_path_files:295> cpre= 
+_path_files:296> tpre=src/zsh/Completion/Usr 
+_path_files:297> tsuf= 
+_path_files:298> testpath= 
+_path_files:300> tmp2= 
+_path_files:301> tpre=src/zsh/Completion/Usr 
+_path_files:303> tmp1=( /home/pws/ ) 
+_path_files:305> true
+_path_files:309> [[ src/zsh/Completion/Usr == */* ]]
+_path_files:310> PREFIX=src 
+_path_files:311> SUFFIX= 
+_path_files:319> : /home/pws//src/.
+_path_files:323> [[ src/zsh/Completion/Usr == */* ]]
+_path_files:324> compfiles -P- tmp1 accex    fake
+_path_files:330> tmp1=( /home/pws/7layers /home/pws/Acrobat4 /home/pws/Mail /home/pws/News /home/pws/Office51 /home/pws/Solaris /home/pws/TT_DB /home/pws/archive /home/pws/backup /home/pws/bc01 /home/pws/bin /home/pws/cygwin /home/pws/doc /home/pws/drivers /home/pws/elisp /home/pws/etc /home/pws/g /home/pws/include /home/pws/info /home/pws/lib /home/pws/libexec /home/pws/mail /home/pws/man /home/pws/merlin /home/pws/ns_imap /home/pws/nsmail /home/pws/pc /home/pws/perl /home/pws/pws /home/pws/recover /home/pws/share /home/pws/src /home/pws/struct-parse /home/pws/teTeX /home/pws/tests /home/pws/text /home/pws/tmp /home/pws/var /home/pws/web /home/pws/xap2emu1.09 ) 
+_path_files:332> [[ -n src ]]
+_path_files:335> [[ /home/pws/7layers == */* ]]
+_path_files:336> [[ -n 2 ]]
+_path_files:337> tmp2=( /home/pws/7layers /home/pws/Acrobat4 /home/pws/Mail /home/pws/News /home/pws/Office51 /home/pws/Solaris /home/pws/TT_DB /home/pws/archive /home/pws/backup /home/pws/bc01 /home/pws/bin /home/pws/cygwin /home/pws/doc /home/pws/drivers /home/pws/elisp /home/pws/etc /home/pws/g /home/pws/include /home/pws/info /home/pws/lib /home/pws/libexec /home/pws/mail /home/pws/man /home/pws/merlin /home/pws/ns_imap /home/pws/nsmail /home/pws/pc /home/pws/perl /home/pws/pws /home/pws/recover /home/pws/share /home/pws/src /home/pws/struct-parse /home/pws/teTeX /home/pws/tests /home/pws/text /home/pws/tmp /home/pws/var /home/pws/web /home/pws/xap2emu1.09 ) 
+_path_files:338> compadd -D tmp1 -F _comp_ignore - 7layers Acrobat4 Mail News Office51 Solaris TT_DB archive backup bc01 bin cygwin doc drivers elisp etc g include info lib libexec mail man merlin ns_imap nsmail pc perl pws recover share src struct-parse teTeX tests text tmp var web xap2emu1.09
+_path_files:340> [[ 1 -eq 0 ]]
+_path_files:356> ((  ! 1  ))
+_path_files:402> [[ -n  ]]
+_path_files:415> [[ src/zsh/Completion/Usr == */* ]]
+_path_files:416> tpre=zsh/Completion/Usr 
+_path_files:427> tmp1=( /home/pws/src ) 
+_path_files:428> tmp2= 
+_path_files:429> [[ -n  ]]
+_path_files:433> skipped=/ 
+_path_files:305> true
+_path_files:309> [[ zsh/Completion/Usr == */* ]]
+_path_files:310> PREFIX=zsh 
+_path_files:311> SUFFIX= 
+_path_files:319> : /home/pws/src/zsh/.
+_path_files:323> [[ zsh/Completion/Usr == */* ]]
+_path_files:324> compfiles -P- tmp1 accex /   fake
+_path_files:330> tmp1=( /home/pws/src/CVSROOT /home/pws/src/autoconf /home/pws/src/autoconf-2.13 /home/pws/src/cygwin /home/pws/src/fonts /home/pws/src/gs6.50 /home/pws/src/merlin /home/pws/src/zsh ) 
+_path_files:332> [[ -n zsh ]]
+_path_files:335> [[ /home/pws/src/CVSROOT == */* ]]
+_path_files:336> [[ -n 2 ]]
+_path_files:337> tmp2=( /home/pws/src/CVSROOT /home/pws/src/autoconf /home/pws/src/autoconf-2.13 /home/pws/src/cygwin /home/pws/src/fonts /home/pws/src/gs6.50 /home/pws/src/merlin /home/pws/src/zsh ) 
+_path_files:338> compadd -D tmp1 -F _comp_ignore - CVSROOT autoconf autoconf-2.13 cygwin fonts gs6.50 merlin zsh
+_path_files:340> [[ 1 -eq 0 ]]
+_path_files:356> ((  ! 1  ))
+_path_files:402> [[ -n  ]]
+_path_files:415> [[ zsh/Completion/Usr == */* ]]
+_path_files:416> tpre=Completion/Usr 
+_path_files:427> tmp1=( /home/pws/src/zsh ) 
+_path_files:428> tmp2= 
+_path_files:429> [[ -n  ]]
+_path_files:433> skipped=/ 
+_path_files:305> true
+_path_files:309> [[ Completion/Usr == */* ]]
+_path_files:310> PREFIX=Completion 
+_path_files:311> SUFFIX= 
+_path_files:319> : /home/pws/src/zsh/Completion/.
+_path_files:323> [[ Completion/Usr == */* ]]
+_path_files:324> compfiles -P- tmp1 accex /   fake
+_path_files:330> tmp1=( /home/pws/src/zsh/CVS /home/pws/src/zsh/Completion /home/pws/src/zsh/Config /home/pws/src/zsh/Doc /home/pws/src/zsh/Etc /home/pws/src/zsh/Functions /home/pws/src/zsh/Misc /home/pws/src/zsh/Src /home/pws/src/zsh/StartupFiles /home/pws/src/zsh/Test /home/pws/src/zsh/Util /home/pws/src/zsh/cygwin /home/pws/src/zsh/modules /home/pws/src/zsh/solaris ) 
+_path_files:332> [[ -n Completion ]]
+_path_files:335> [[ /home/pws/src/zsh/CVS == */* ]]
+_path_files:336> [[ -n 2 ]]
+_path_files:337> tmp2=( /home/pws/src/zsh/CVS /home/pws/src/zsh/Completion /home/pws/src/zsh/Config /home/pws/src/zsh/Doc /home/pws/src/zsh/Etc /home/pws/src/zsh/Functions /home/pws/src/zsh/Misc /home/pws/src/zsh/Src /home/pws/src/zsh/StartupFiles /home/pws/src/zsh/Test /home/pws/src/zsh/Util /home/pws/src/zsh/cygwin /home/pws/src/zsh/modules /home/pws/src/zsh/solaris ) 
+_path_files:338> compadd -D tmp1 -F _comp_ignore - CVS Completion Config Doc Etc Functions Misc Src StartupFiles Test Util cygwin modules solaris
+_path_files:340> [[ 1 -eq 0 ]]
+_path_files:356> ((  ! 1  ))
+_path_files:402> [[ -n  ]]
+_path_files:415> [[ Completion/Usr == */* ]]
+_path_files:416> tpre=Usr 
+_path_files:427> tmp1=( /home/pws/src/zsh/Completion ) 
+_path_files:428> tmp2= 
+_path_files:429> [[ -n  ]]
+_path_files:433> skipped=/ 
+_path_files:305> true
+_path_files:309> [[ Usr == */* ]]
+_path_files:313> PREFIX=Usr 
+_path_files:314> SUFFIX= 
+_path_files:319> :
+_path_files:323> [[ Usr == */* ]]
+_path_files:325> [[ -g/ == *[/f]* ]]
+_path_files:326> compfiles -p- tmp1 accex /   fake *
+_path_files:330> tmp1=( /home/pws/src/zsh/Completion/AIX /home/pws/src/zsh/Completion/Base /home/pws/src/zsh/Completion/Bsd /home/pws/src/zsh/Completion/Builtins /home/pws/src/zsh/Completion/CVS /home/pws/src/zsh/Completion/Commands /home/pws/src/zsh/Completion/Core /home/pws/src/zsh/Completion/Debian /home/pws/src/zsh/Completion/Linux /home/pws/src/zsh/Completion/README /home/pws/src/zsh/Completion/User /home/pws/src/zsh/Completion/X ) 
+_path_files:332> [[ -n Usr ]]
+_path_files:335> [[ /home/pws/src/zsh/Completion/AIX == */* ]]
+_path_files:336> [[ -n 2 ]]
+_path_files:337> tmp2=( /home/pws/src/zsh/Completion/AIX /home/pws/src/zsh/Completion/Base /home/pws/src/zsh/Completion/Bsd /home/pws/src/zsh/Completion/Builtins /home/pws/src/zsh/Completion/CVS /home/pws/src/zsh/Completion/Commands /home/pws/src/zsh/Completion/Core /home/pws/src/zsh/Completion/Debian /home/pws/src/zsh/Completion/Linux /home/pws/src/zsh/Completion/README /home/pws/src/zsh/Completion/User /home/pws/src/zsh/Completion/X ) 
+_path_files:338> compadd -D tmp1 -F _comp_ignore - AIX Base Bsd Builtins CVS Commands Core Debian Linux README User X
+_path_files:340> [[ 0 -eq 0 ]]
+_path_files:341> tmp1=( /home/pws/src/zsh/Completion/AIX /home/pws/src/zsh/Completion/Base /home/pws/src/zsh/Completion/Bsd /home/pws/src/zsh/Completion/Builtins /home/pws/src/zsh/Completion/CVS /home/pws/src/zsh/Completion/Commands /home/pws/src/zsh/Completion/Core /home/pws/src/zsh/Completion/Debian /home/pws/src/zsh/Completion/Linux /home/pws/src/zsh/Completion/README /home/pws/src/zsh/Completion/User /home/pws/src/zsh/Completion/X ) 
+_path_files:342> compadd -D tmp1 -F _comp_ignore - AIX Base Bsd Builtins CVS Commands Core Debian Linux README User X
+compadd:1> [[ 0 -eq 0 && 3 -le _comp_correct ]]
+compadd:4> [[ Usr == ~*/* ]]
+compadd:7> PREFIX=(#a2)Usr 
+compadd:9> compadd -J corrections -X Completing corrections -D tmp1 -F _comp_ignore - AIX Base Bsd Builtins CVS Commands Core Debian Linux README User X
+_path_files:356> ((  ! 3  ))
+_path_files:402> [[ -n  ]]
+_path_files:415> [[ Usr == */* ]]
+_path_files:417> [[  == */* ]]
+_path_files:421> break
+_path_files:439> tmp3=src/zsh/Completion/Usr 
+_path_files:440> tpre=src/zsh/Completion/Usr 
+_path_files:441> tsuf= 
+_path_files:442> [[ -n /home/pws/ ]]
+_path_files:443> tmp1=( src/zsh/Completion/Bsd src/zsh/Completion/Core src/zsh/Completion/User ) 
+_path_files:445> true
+_path_files:452> compfiles -r tmp1 src/zsh/Completion/Usr
+_path_files:453> tmp4=0 
+_path_files:455> [[ src/zsh/Completion/Usr == */* ]]
+_path_files:456> tmp2=src 
+_path_files:457> PREFIX=~/src 
+_path_files:458> SUFFIX=/zsh/Completion/Usr 
+_path_files:469> ((  tmp4  ))
+_path_files:550> [[ src/zsh/Completion/Usr != */* ]]
+_path_files:558> testpath=src/ 
+_path_files:560> tmp3=zsh/Completion/Usr 
+_path_files:562> [[ src/zsh/Completion/Usr == */* ]]
+_path_files:563> [[ -z 2 ]]
+_path_files:567> cpre=src/ 
+_path_files:569> tpre=zsh/Completion/Usr 
+_path_files:585> tmp1=( zsh/Completion/Bsd zsh/Completion/Core zsh/Completion/User ) 
+_path_files:445> true
+_path_files:452> compfiles -r tmp1 zsh/Completion/Usr
+_path_files:453> tmp4=0 
+_path_files:455> [[ zsh/Completion/Usr == */* ]]
+_path_files:456> tmp2=src/zsh 
+_path_files:457> PREFIX=~/src/zsh 
+_path_files:458> SUFFIX=/Completion/Usr 
+_path_files:469> ((  tmp4  ))
+_path_files:550> [[ zsh/Completion/Usr != */* ]]
+_path_files:558> testpath=src/zsh/ 
+_path_files:560> tmp3=Completion/Usr 
+_path_files:562> [[ zsh/Completion/Usr == */* ]]
+_path_files:563> [[ -z 2 ]]
+_path_files:567> cpre=src/zsh/ 
+_path_files:569> tpre=Completion/Usr 
+_path_files:585> tmp1=( Completion/Bsd Completion/Core Completion/User ) 
+_path_files:445> true
+_path_files:452> compfiles -r tmp1 Completion/Usr
+_path_files:453> tmp4=0 
+_path_files:455> [[ Completion/Usr == */* ]]
+_path_files:456> tmp2=src/zsh/Completion 
+_path_files:457> PREFIX=~/src/zsh/Completion 
+_path_files:458> SUFFIX=/Usr 
+_path_files:469> ((  tmp4  ))
+_path_files:550> [[ Completion/Usr != */* ]]
+_path_files:558> testpath=src/zsh/Completion/ 
+_path_files:560> tmp3=Usr 
+_path_files:562> [[ Completion/Usr == */* ]]
+_path_files:563> [[ -z 2 ]]
+_path_files:567> cpre=src/zsh/Completion/ 
+_path_files:569> tpre=Usr 
+_path_files:585> tmp1=( Bsd Core User ) 
+_path_files:445> true
+_path_files:452> compfiles -r tmp1 Usr
+_path_files:453> tmp4=1 
+_path_files:455> [[ Usr == */* ]]
+_path_files:460> tmp2=src/zsh/Completion/Usr 
+_path_files:461> PREFIX=~/src/zsh/Completion/Usr 
+_path_files:462> SUFFIX= 
+_path_files:469> ((  tmp4  ))
+_path_files:477> tmp2=src/zsh/Completion/ 
+_path_files:478> [[ -n ~/ ]]
+_path_files:479> compquote -p tmp2 tmp1
+_path_files:487> [[ -z 2 ]]
+_path_files:494> [[ -n yes ]]
+_path_files:500> ((  tmp4  ))
+_path_files:500> zstyle -t :completion::approximate-2:echo::paths ambiguous
+_path_files:502> [[ Usr == */* ]]
+_path_files:515> compadd -Qf -J all-files -X Completing file -F _comp_ignore -p ~/src/zsh/Completion/ -W /home/pws/src/zsh/Completion/ -M r:|/=* r:|=* -a tmp1
+compadd:1> [[ 0 -eq 0 && 24 -le _comp_correct ]]
+compadd:4> [[ ~/src/zsh/Completion/Usr == ~*/* ]]
+compadd:5> PREFIX=~/(#a2)src/zsh/Completion/Usr 

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR Ltd., Unit 300, Science Park, Milton Road,
Cambridge, CB4 0XL, UK                          Tel: +44 (0)1223 392070

