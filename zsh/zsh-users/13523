From zsh-users-return-13523-mason-zsh=primenet.com.au@sunsite.dk Thu Dec 04 21:27:19 2008
Return-Path: <zsh-users-return-13523-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13995 invoked from network); 4 Dec 2008 21:27:07 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 4 Dec 2008 21:27:07 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 88217 invoked from network); 4 Dec 2008 21:26:57 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 4 Dec 2008 21:26:57 -0000
Received: (qmail 12889 invoked by alias); 4 Dec 2008 21:26:44 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 13523
Received: (qmail 12876 invoked from network); 4 Dec 2008 21:26:43 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 4 Dec 2008 21:26:43 -0000
Received: from qw-out-2122.google.com (qw-out-2122.google.com [74.125.92.25])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 5D8DB80524C3
	for <zsh-users@sunsite.dk>; Thu,  4 Dec 2008 22:26:40 +0100 (CET)
Received: by qw-out-2122.google.com with SMTP id 9so1046698qwb.3
        for <zsh-users@sunsite.dk>; Thu, 04 Dec 2008 13:26:39 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:cc:message-id:from:to
         :in-reply-to:content-type:content-transfer-encoding:mime-version
         :subject:date:references:x-mailer;
        bh=/grHtB97ilqyq/qGE+DDHQbuAGEf6iMD2wvbLfVHU2E=;
        b=tqgXsy8PPSC2gGgnV+3I0rNPB3ahMnKIb6hhMiKOu2n46gjaBhT3V23ILl1jfOi7mQ
         PPtL6tfyP6E1kj57si9+Cz38JOpGyzavX7wYVZHrH0wbW1OVKOx9y038h/dfLkzrcqBJ
         4bVhNhoYBdwca8DppU1qo9BxW9zyJcbgqnE3w=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=cc:message-id:from:to:in-reply-to:content-type
         :content-transfer-encoding:mime-version:subject:date:references
         :x-mailer;
        b=SNk0TPFIQ6CA8pBQOthBc4AoVGmhORbzlHDv2YWMXx9KuNnGcIMpJKruB/d8sNvs5W
         K6Bkn0uXwnuBNIB/snWbfsbjxA4Xm4i82MheSfXBaTDTaSdPO6LcJlxMUAIilgGr414W
         anWG9GH9mJuy7QuD/R19xCZvstt8+LRaQSAp0=
Received: by 10.214.26.3 with SMTP id 3mr15555237qaz.331.1228425999271;
        Thu, 04 Dec 2008 13:26:39 -0800 (PST)
Received: from scotty.ocsny.com ([204.107.76.235])
        by mx.google.com with ESMTPS id 6sm20189010yxg.6.2008.12.04.13.26.38
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Thu, 04 Dec 2008 13:26:38 -0800 (PST)
Cc: zsh-users@sunsite.dk
Message-Id: <0F9002B9-8319-47A6-9517-4AD88B3A83E5@gmail.com>
From: Michael Hernandez <sequethin@gmail.com>
To: Thorsten Kampe <thorsten@thorstenkampe.de>
In-Reply-To: <gh9g43$rt5$1@ger.gmane.org>
Content-Type: text/plain; charset=US-ASCII; format=flowed; delsp=yes
Content-Transfer-Encoding: 7bit
Mime-Version: 1.0 (Apple Message framework v929.2)
Subject: Re: Suppressing failed glob patterns
Date: Thu, 4 Dec 2008 16:26:37 -0500
References: <gh9g43$rt5$1@ger.gmane.org>
X-Mailer: Apple Mail (2.929.2)
X-Virus-Scanned: ClamAV 0.92.1/8721/Thu Dec  4 14:26:10 2008 on bifrost
X-Virus-Status: Clean


On Dec 4, 2008, at 3:55 PM, Thorsten Kampe wrote:

> Hi,
>
> I like the default in zsh for failed glob patterns (which errors  
> when no
> file matches the pattern).
>
> For example:
> % rm file1.* file2.*
> zsh: no matches found: file1.*
>
> zsh never executes rm (which is fine). Additionially I would like to  
> get
> rid of the error message in a script. Unfortunately redirecting stderr
> does not work (because rm is never executed). Is there a way to keep  
> the
> default and to suppress the error?!
>
> Thorsten
>


I replied but didn't read carefully enough the first time, I see you  
want to keep your default value, so maybe you don't want to setopt  
no_nomatch. If this is the case you could start the function that  
calls the rm command with:

setopt local_options no_nomatch

which will set the option for the duration of the function call but  
return to the default when it's done. This way you have the benefits  
of the option being set for the function without changing your default  
shell behavior.

--Mike H

