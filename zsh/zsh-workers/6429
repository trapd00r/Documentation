From zsh-workers-return-6429-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Jun 02 06:38:18 1999
Return-Path: <zsh-workers-return-6429-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8195 invoked from network); 2 Jun 1999 06:38:17 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 2 Jun 1999 06:38:16 -0000
Received: (qmail 705 invoked by alias); 2 Jun 1999 06:37:58 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 6429
Received: (qmail 698 invoked from network); 2 Jun 1999 06:37:58 -0000
Date: Wed, 2 Jun 1999 08:37:52 +0200 (MET DST)
Message-Id: <199906020637.IAA27444@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: "F. G. Marx"'s message of Wed, 2 Jun 1999 01:02:53 -0400
Subject: Re: segv with :_correct or :_correct:_approximate


fmarx@new-york.crosswinds.net wrote:

> With `completer' set to either `completer=_complete:_correct' or
> 			       `completer=_complete:_correct:_approximate'
> in the new Completion model, I'm seeing a segv.
> `completer=_complete' appears o.k.
> 
> To reproduce it: attempt completion on any non-existent file, with
> correction enabled.

Phew, not really a completion problem. Wayne, this happens when
freehistdata() calls removehashnode() with a histent with
he->text==NULL. I'm not sure if this shows that there is a bug
somewhere else, so I won't build a patch for it.

(All this with HIST_NO_FUNCTIONS, it tries to remove a function
definition from the history at that time.)

Bye
 Sven


--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

