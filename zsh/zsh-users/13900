From zsh-users-return-13900-mason-zsh=primenet.com.au@sunsite.dk Thu Mar 12 15:51:56 2009
Return-Path: <zsh-users-return-13900-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18419 invoked from network); 12 Mar 2009 15:51:49 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.0 required=5.0 tests=AWL,BAYES_00,
	DATE_IN_PAST_06_12 autolearn=no version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 12 Mar 2009 15:51:49 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 71782 invoked from network); 12 Mar 2009 15:49:29 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 12 Mar 2009 15:49:29 -0000
Received: (qmail 7413 invoked by alias); 12 Mar 2009 15:49:09 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 13900
Received: (qmail 7400 invoked from network); 12 Mar 2009 15:49:09 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 12 Mar 2009 15:49:09 -0000
Received: from smtp.benizi.com (unknown [71.240.125.205])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 040E880307F8
	for <zsh-users@sunsite.dk>; Thu, 12 Mar 2009 16:49:05 +0100 (CET)
Received: from localhost (localhost [127.0.0.1])
	by smtp.benizi.com (Postfix) with ESMTPSA id AE61517961;
	Thu, 12 Mar 2009 02:20:35 -0400 (EDT)
Date: Thu, 12 Mar 2009 02:20:35 -0400 (EDT)
From: "Benjamin R. Haskell" <zsh@benizi.com>
To: Zsh Users <zsh-users@sunsite.dk>
Subject: Two 
Message-ID: <alpine.LNX.2.00.0903120156530.4474@averatec.internal>
User-Agent: Alpine 2.00 (LNX 1169 2008-08-27)
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Scanned: ClamAV 0.92.1/9101/Thu Mar 12 16:30:26 2009 on bifrost
X-Virus-Status: Clean

"^R" history-incremental-search-backward  is probably the command I use 
most frequently in Zsh (behind "^J" accept-line).  But, recently there are 
two quirky traps that I've found myself falling into.

The first is that I've been switching between systems more frequently, so 
things that I've recently typed (or frequently type) aren't necessarily in 
my history on a given box.  It'd be nice to be able to go from:

$ (etc etc etc ... some partial match ... etc etc etc)
failing bck-i-search: some commandli_

to:

$ some commandli


(i.e. the failing search becomes the current command line.)  Is there 
something like that in place already?  If not, what would be the best 
place to start tinkering?


The second is simpler and similar.  Sometimes I just want to look back in 
history for some clue as to the syntax of a command.  (Read: every time I 
use mencoder.  Oy.)  What's the best way to:

1. Have some command partially entered
2. Do some reverse search
3. Return to the partial command, with the search "result" still visible

Out of long-ingrained habit, I tend to:

1. ^A Go to start of line
2. ^K Kill the line
3. ^R (some-search) Do some search
4. ^F Move forward a character (to prevent losing the "result" on-screen)
5. ^C Cancel the search
6. ^Y Yank the killed line

I suspect there's a way to combine #1 and #2, and it'd be nice if #4 and 
#5 were unnecessary due to a better way to do #6.

Best,
Ben

