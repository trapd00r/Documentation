From zsh-users-return-7495-mason-zsh=primenet.com.au@sunsite.dk Mon Jun 07 19:46:52 2004
Return-Path: <zsh-users-return-7495-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 688 invoked from network); 7 Jun 2004 19:46:49 -0000
Received: from thor.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.86)
  by ns1.primenet.com.au with SMTP; 7 Jun 2004 19:46:49 -0000
Received: (qmail 28069 invoked from network); 7 Jun 2004 19:45:59 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 7 Jun 2004 19:45:59 -0000
Received: (qmail 4199 invoked by alias); 7 Jun 2004 19:45:47 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 7495
Received: (qmail 4187 invoked from network); 7 Jun 2004 19:45:46 -0000
Received: from thor.dotsrc.org (HELO a.mx.sunsite.dk) (qmailr@130.225.247.86)
  by sunsite.dk with SMTP; 7 Jun 2004 19:45:43 -0000
Received: (qmail 27185 invoked from network); 7 Jun 2004 19:45:43 -0000
Received: from web60303.mail.yahoo.com (216.109.118.114)
  by a.mx.sunsite.dk with SMTP; 7 Jun 2004 19:45:41 -0000
Message-ID: <20040607194513.94823.qmail@web60303.mail.yahoo.com>
Received: from [62.78.149.202] by web60303.mail.yahoo.com via HTTP; Mon, 07 Jun 2004 12:45:13 PDT
Date: Mon, 7 Jun 2004 12:45:13 -0700 (PDT)
From: Jarkko Maja <jarkko1982@yahoo.com>
Subject: Re: man page completion / regexp
To: zsh-users@sunsite.dk
In-Reply-To: <s0c446a5.012@fs-prx1.hansemerkur.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: ***
X-Spam-Status: No, hits=3.5 required=6.0 tests=BAYES_50,FROM_ENDS_IN_NUMS,
	RCVD_IN_SORBS,VIRUS_WARNING_NETSKY2 autolearn=no version=2.63
X-Spam-Hits: 3.5

Hi Bart,

thanks for your help, now everything works perfectly
again! Below for others who might be interested is
another shot of my config, Yahoo! mail seems to wrap
lines at random.

Thanks!



# man page completion
man_glob () {
	local a b manp cat
	read -cA a
	read -lA b
	manp=`manpath 2> /dev/null` || manp=`echo "$MANPATH"`
	[[ "$OSTYPE" = *bsd* ]] && cat=,cat
	if [[ "$a[2]" = [0-9nlpo](p|) ]] # && [[ -n "$a[3]"
|| "${(M)b% }" = " " ]]
	then
		reply=( ${^$(echo $manp | sed -e 's/:/
/g')}/{man,sman$cat}$a[2]/$1*(-N.:t) )
	else
		reply=( ${^$(echo $manp | sed -e 's/:/
/g')}/{man,sman$cat}[0-9nlpo]{,X,m}*/$1*(-N.:t) )
	fi
	reply=( ${reply%.[^0-9Xmnlpo]*} )
	# Uncomment to strip trailing section names from
reply
	#reply=( ${reply%.[0-9Xmnlpo]*} )
}
compctl -K man_glob -x 'C[-1,-P]' -m - \
	'R[-*l*,;]' -g '*.(man|[0-9Xmnlpo](|[a-z]))' -- + -f
-g '..' man

# Uncomment to accept man page names with trailing
section names, e.g., man.1
man () {
	local test=${(M)@#*/} # File name probably contains a
slash
	if [[ -z "$test" ]] && [[ $# -lt 3 ]]
	then
		command man
${(M)${${${(M)@%.[0-9Xmnlpo]*}#.}%pm}##[0-9Xmnlpo](p|)}
${@%.[0-9Xmnlpo]*}
	else
		command man "$@"
	fi
}






	
		
__________________________________
Do you Yahoo!?
Friends.  Fun.  Try the all-new Yahoo! Messenger.
http://messenger.yahoo.com/ 

