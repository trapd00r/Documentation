From zsh-users-return-5302-mason-zsh=primenet.com.au@sunsite.dk Wed Aug 28 11:14:23 2002
Return-Path: <zsh-users-return-5302-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 26922 invoked from network); 28 Aug 2002 11:14:22 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 28 Aug 2002 11:14:22 -0000
Received: (qmail 13406 invoked by alias); 28 Aug 2002 11:14:05 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 5302
Received: (qmail 13389 invoked from network); 28 Aug 2002 11:14:04 -0000
Date: Wed, 28 Aug 2002 13:13:50 +0200
From: Phil Pennock <Phil.Pennock@globnix.org>
To: Eric.D.Friedman@WellsFargo.COM
Cc: zsh-users@sunsite.dk
Subject: Re: completion for dotdirs/symlinks to directories
Message-ID: <20020828131350.A20929@globnix.org>
Mail-Followup-To: Eric.D.Friedman@WellsFargo.COM, zsh-users@sunsite.dk
References: <8F6C90BF40FFD211948B0001FA7E51660F101882@xcem-casfo-13.wellsfargo.com>
Mime-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-md5;
	protocol="application/pgp-signature"; boundary="RnlQjJ0d97Da+TV1"
Content-Disposition: inline
User-Agent: Mutt/1.2.5i
In-Reply-To: <8F6C90BF40FFD211948B0001FA7E51660F101882@xcem-casfo-13.wellsfargo.com>; from Eric.D.Friedman@WellsFargo.COM on Tue, Aug 27, 2002 at 02:34:53PM -0700
X-Disclaimer: Any views expressed in this message, where not explicitly
	attributed otherwise, are mine and mine alone.  Such views
	do not necessarily coincide with those of any organisation
	or company with which I am or have been affiliated.


--RnlQjJ0d97Da+TV1
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

On 2002-08-27 at 14:34 -0700, Eric.D.Friedman@WellsFargo.COM wrote:
> My .zshrc currently uses the following set for completing "cd" and friend=
s:
>=20
> # cd/pushd only directories or symbolic links to directories
> compctl -g '*(-/)' cd chdir dirs pushd
> # skips CVS when changing directories
> # compctl -g '*~(*/)#CVS(/)' cd
> compctl -g '*(-/)' -g '*~(*/)#CVS(/)' cd chdir dirs pushd

Doesn't the second uncommented one replace the first one?

> (1) I can't get completions for directories that start with a "."  ; and

'D' glob modifier, as you noticed.

> (2) symlinks to directories do not work.

'-', as you noticed.

> I'm using zsh-4.0.2 on solaris.

Thanks -- I see too many reports where that basic info isn't included.
It's not needed in this case, but better to have five words too many
than to miss a vital clue.  :^)

> I tried putting "D" in the first completion rule [ as in -g "$(D-/)" ] but
> that didn't work out.

$(...) is command substitution -- the POSIX form of `...`, with
different rules on escaping metacharacters.

> Can anyone set me straight?

How about:
 compctl -g '*~CVS(D-/)' cd chdir dirs pushd

Anything except CVS, and then modifier flags.
Works here (4.0.2/OpenBSD).
--=20
Democracy is three wolves and a sheep voting on what's for dinner.

--RnlQjJ0d97Da+TV1
Content-Type: application/pgp-signature
Content-Disposition: inline

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.6 (OpenBSD)

iD8DBQE9bLBufDS04Uzk9lURAkobAJ9BJjg/8D6TtL54eo/6LDIAypC97QCgixVx
uXpOP8JhGB7mrAWXVFbZ1Bw=
=exrv
-----END PGP SIGNATURE-----

--RnlQjJ0d97Da+TV1--

