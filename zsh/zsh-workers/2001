From zsh-workers-request@euclid.skiles.gatech.edu  Fri Aug 16 06:47:55 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by coral.primenet.com.au (8.7.5/8.7.3) with ESMTP id GAA02234 for <mason@primenet.com.au>; Fri, 16 Aug 1996 06:47:53 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id QAA29748; Thu, 15 Aug 1996 16:45:15 -0400 (EDT)
Resent-Date: Thu, 15 Aug 1996 16:45:15 -0400 (EDT)
Date: Thu, 15 Aug 1996 13:38:36 -0700
From: Mark Hanson <mark@acucobol.com>
Message-Id: <199608152038.NAA29423@acucobol.acucobol.com>
To: zsh-workers@math.gatech.edu
Subject: bindkey induced coredump
Resent-Message-ID: <"ONFp1.0.kG7.Qnu4o"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/2001
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

$ zsh -f
$ echo $ZSH_VERSION
3.0.0
$ bindkey -v
$ bindkey -r '\e[A'
$ bindkey -r '\e[B'
$ bindkey -r '\e[C'
$ bindkey -r '\e[D'
$ <ESC><ESC>
coredump

Here's a stacktrace:

#0  0x7ef80 in getkeycmd () at zle_main.c:528
528             if ((cky = (Key) keybindtab->getnode(keybindtab, keybuf))->func == z_undefinedkey)
(gdb) bt
#0  0x7ef80 in getkeycmd () at zle_main.c:528
#1  0x7e79c in zleread (
    lp=0xc2fc0 "%{\e[33m%}1:%n@%m:%!%#%{\e[36m%} %{\e[32m%}", 
    rp=0xc3f10 "%{\e[35m%}%~%{\e[32m%}") at zle_main.c:431
#2  0x402d0 in inputline () at input.c:264
#3  0x400fc in ingetc () at input.c:220
#4  0x36340 in hgetc () at hist.c:109
#5  0x455f4 in gettok () at lex.c:375
#6  0x44c50 in yylex () at lex.c:185
#7  0x5a024 in parse_event () at parse.c:59
#8  0x3d32c in loop (toplevel=1) at init.c:115
#9  0x3d118 in main (argc=2, argv=0xf7fff48c) at init.c:74

I put the "bindkey -r"'s in there to keep zsh from waiting to see if it
had an escape key or not.  The lag throws me off, but if there aren't
any other keys bound to an escape sequence, the lag goes away.  If you
need more information, let me know.

Thanks,
Mark

