From zsh-workers-return-15727-mason-zsh=primenet.com.au@sunsite.dk Fri Aug 31 17:12:46 2001
Return-Path: <zsh-workers-return-15727-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 25914 invoked from network); 31 Aug 2001 17:12:45 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 31 Aug 2001 17:12:45 -0000
Received: (qmail 13806 invoked by alias); 31 Aug 2001 17:12:32 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 15727
Received: (qmail 13792 invoked from network); 31 Aug 2001 17:12:30 -0000
Message-Id: <200108311712.MAA23833@wo1203.cmg.FCNBD.COM>
Content-Type: text/plain
MIME-Version: 1.0 (NeXT Mail 4.2mach_patches v148.2)
In-Reply-To: <3B5E0BBE.8020100@slacknet.org>
X-Nextstep-Mailer: Mail 4.2mach_patches (Enhance 2.0b5)
From: Brian Boonstra <boonstb@cmg.FCNBD.COM>
Date: Fri, 31 Aug 2001 12:12:24 -0500
To: Wes Morgan <wesm@slacknet.org>
Subject: Re: Compiling zsh-4.0.2 on Mac OS X
cc: zsh-workers@sunsite.dk
References: <3B5E0BBE.8020100@slacknet.org>

You wrote:
> I'm trying to compile zsh-4.0.2 on Mac OS X (10.0.4). I guess the linker
> is pretty weird (it's from Apple, not GNU). Here's where make fails:
>
> cc  -s  -o zsh main.o  `cat stamp-modobjs`   -lm  -lc
> /usr/bin/ld: can't use -s with input files containg indirect symbols
> (output file must contain at least global symbols, for maximum stripping
> use -x)
> make[1]: *** [zsh] Error 1
> make: *** [all] Error 1
>
> Has anyone gotten zsh-4 to link on Darwin/Mac OS X? If not, any ideas
> what I could try to get this to work?


Hi Wes

  I solved this by running

          autoconf

in the top-level source directory.  That gave me a configure script with  
more options, including one for the ldflags, which I then set to be nothing.

  I suppose this is ultimately a problem with autoconf.


		Brian

