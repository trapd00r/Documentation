From zsh-workers-return-9563-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Feb 04 11:18:48 2000
Return-Path: <zsh-workers-return-9563-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 158 invoked from network); 4 Feb 2000 11:18:47 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 4 Feb 2000 11:18:47 -0000
Received: (qmail 11325 invoked by alias); 4 Feb 2000 11:18:41 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 9563
Received: (qmail 11317 invoked from network); 4 Feb 2000 11:18:40 -0000
Message-ID: <389AB589.5B0560AA@u.genie.co.uk>
Date: Fri, 04 Feb 2000 11:18:33 +0000
From: Oliver Kiddle <opk@u.genie.co.uk>
X-Mailer: Mozilla 4.7 [en] (Win95; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Zsh workers <zsh-workers@sunsite.auc.dk>
Subject: Re: A couple of completion problems
References: <200002041055.LAA23286@beta.informatik.hu-berlin.de>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Sven Wischnowsky wrote:

> So, what do you all think: should we make all automatically found
> options take their argument as being optional? Should we leave it to
> the calling functions? Or should we add a style that can be used to
> give a set of patterns and all options with matching names have their
> argument turned into an optional one?

So how would _arguments behave differently if the argument to the long
option is optional? My thinking is that the behaviour should be the same
anyway:

command --foo<tab>   should insert an '=' which is auto-removed by a
further space
command --foo=<tab>  should complete the arguments to the foo option
command --foo <tab>  the space (and lack of '=') surely means that we
have moved on from the foo option and should be completing other
options. If the argument to --foo is mandatory, then that's the user's
problem for not specifying it. By continuing to try to complete
arguments to --foo, zsh is going to achieve nothing.

I've probably missed the point somewhere though.

Thanks

Oliver

