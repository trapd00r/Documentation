From zsh-users-return-8987-mason-zsh=primenet.com.au@sunsite.dk Sun Jun 12 05:18:51 2005
Return-Path: <zsh-users-return-8987-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18299 invoked from network); 12 Jun 2005 05:18:50 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 12 Jun 2005 05:18:50 -0000
Received: (qmail 80015 invoked from network); 12 Jun 2005 05:18:44 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 12 Jun 2005 05:18:44 -0000
Received: (qmail 13591 invoked by alias); 12 Jun 2005 05:18:36 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8987
Received: (qmail 12806 invoked from network); 12 Jun 2005 05:16:56 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 12 Jun 2005 05:16:56 -0000
Received: (qmail 78224 invoked from network); 12 Jun 2005 05:16:56 -0000
Received: from mail-08.iinet.net.au (HELO mail.iinet.net.au) (203.59.3.40)
  by a.mx.sunsite.dk with SMTP; 12 Jun 2005 05:16:49 -0000
Received: (qmail 1251 invoked from network); 12 Jun 2005 05:16:42 -0000
Received: from unknown (HELO mail.endbracket.net) (203.166.235.251)
  by mail.iinet.net.au with SMTP; 12 Jun 2005 05:16:42 -0000
Received: from [192.168.1.7] (unknown [192.168.1.7])
	by mail.endbracket.net (Postfix) with ESMTP id E2E7327981
	for <zsh-users@sunsite.dk>; Sun, 12 Jun 2005 15:16:43 +1000 (EST)
Subject: list all jobs before prompt
From: Michael Wardle <michael@endbracket.net>
To: zsh-users@sunsite.dk
Content-Type: text/plain
Date: Sun, 12 Jun 2005 15:16:43 +1000
Message-Id: <1118553403.8110.18.camel@pepper.endbracket.net>
Mime-Version: 1.0
X-Mailer: Evolution 2.2.1.1 
Content-Transfer-Encoding: 7bit
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=6.0 tests=BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.6

Hi

I would like zsh to list /all/ jobs when I suspend one.

A reasonable method is to add "jobs" to my precmd function, but this
will cause zsh to print a status message for the suspended job and list
the same job again in the output of "jobs".  I don't see the need for
the suspended job to be listed twice.  It also looks a bit silly if the
command I type at the prompt is "jobs". :-)

I could also do a lot of manual filtering in precmd, but I would have to
make some assumptions and it still wouldn't produce the desired,
consistent output format unless I could also prevent the default message
on suspension.

Is there a better way to accomplish this?

The closest behavior to what I desire is tcsh's listjobs option.

-- 
Michael Wardle <michael@endbracket.net>

