From zsh-users-return-2827-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Jan 04 13:46:18 2000
Return-Path: <zsh-users-return-2827-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 11875 invoked from network); 4 Jan 2000 13:46:17 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 4 Jan 2000 13:46:17 -0000
Received: (qmail 8511 invoked by alias); 4 Jan 2000 13:45:54 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 2827
Received: (qmail 8504 invoked from network); 4 Jan 2000 13:45:54 -0000
Date: Tue, 4 Jan 2000 14:44:36 +0100
From: Bernd Eggink <eggink@uni-hamburg.de>
To: Zsh Users <zsh-users@sunsite.auc.dk>
Subject: Problems compiling zsh-3.1.6-pws-13 on AIX4.3
Message-ID: <20000104144435.A3864@eggink1.rrz.uni-hamburg.de>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
User-Agent: Mutt/1.1.1i

I tried to make zsh-3.1.6-pws-13 using IBM's cc in two different
flavours:

1. With dynamic loading enabled. This compiles fine, but the generated zsh
complains about not being able to find libzsh-3.1.6-pws-13.so.  Copying this
library from /usr/local/lib to /usr/lib doesn't help much - zsh now dies
immediately with error 4.

2. With --disable-dynamic. The output of 'make' ends with these lines:

----------------------------------------
    cc -qlanglvl=ansi -c -I.  -DHAVE_CONFIG_H -O  -o hashtable.o hashtable.c
"/usr/include/rpcsvc/ypclnt.h", line 99.31: 1506-310 (I) The type "struct dom_binding" was introduced in a parameter list, and will go out of scope at the end of the function declaration or definition.
    cc -qlanglvl=ansi -c -I.  -DHAVE_CONFIG_H -O  -o hist.o hist.c
    srcdir='.' MODBINS='modules-bltin'  XMODCF='./xmods.conf' /bin/sh ./mkbltnmlst.sh bltinmods.list
ERROR: linked-in module `zsh/zutil' depends on `complete'
make: The error code from the last command is 1.


Stop.
make: The error code from the last command is 2.


Stop.
make: The error code from the last command is 1.


Stop.
----------------------------------------

Hm. Any ideas / patches?

Regards,
Bernd

-- 
Bernd Eggink
Regionales Rechenzentrum der Uni Hamburg
eggink@uni-hamburg.de
http://www.rrz.uni-hamburg.de/eggink/BEggink.html

