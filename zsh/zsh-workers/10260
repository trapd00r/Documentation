From zsh-workers-return-10260-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Mar 27 08:27:12 2000
Return-Path: <zsh-workers-return-10260-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1569 invoked from network); 27 Mar 2000 08:27:10 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 27 Mar 2000 08:27:10 -0000
Received: (qmail 9289 invoked by alias); 27 Mar 2000 08:27:05 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 10260
Received: (qmail 9281 invoked from network); 27 Mar 2000 08:27:04 -0000
Date: Mon, 27 Mar 2000 10:27:03 +0200 (MET DST)
Message-Id: <200003270827.KAA03142@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: "Bart Schaefer"'s message of Sun, 26 Mar 2000 21:54:41 +0000
Subject: Re: PATCH: 3.1.6-dev-20: Misc. doc stuff


Bart Schaefer wrote:

> This is against -dev-20, which means it almost certainly conflicts with
> the big alternate-set patch in 10230, but only in one spot in compwid.yo.
> 
> * Fix yodl endlist() macro to force a blank line after the last list
>   item in texi translations.  Also catch one spot where endlist() was
>   used incorrectly to close a startitem().
> * Clean up a few more occurrences of "wordcode".
> * Fix some typographical errors.
> * Enter the compstate keys into the variables index for quick lookup.

Thanks! Here is the add-on patch to make it work after 10230.


Bye
 Sven

diff -ru ../z.old/Doc/Zsh/compwid.yo Doc/Zsh/compwid.yo
--- ../z.old/Doc/Zsh/compwid.yo	Mon Mar 27 10:25:09 2000
+++ Doc/Zsh/compwid.yo	Mon Mar 27 10:26:47 2000
@@ -202,15 +202,18 @@
 character in the value always corresponds to the innermost quoting
 level.
 )
+vindex(nmatches, compstate)
 item(tt(nmatches))(
 The number of matches generated and accepted by the completion code so
 far.
 )
+vindex(ignored, compstate)
 item(tt(ignored))(
 The number of words that were ignored because they matched one of the
 patterns given with the tt(-F) option to the tt(compadd) builtin
 command.
 )
+vindex(restore, compstate)
 item(tt(restore))(
 This is set to tt(auto) before a function is entered, which forces the
 special parameters mentioned above (tt(words), tt(CURRENT), tt(PREFIX),

--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

