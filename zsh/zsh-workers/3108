From zsh-workers-request@euclid.skiles.gatech.edu Fri May 09 21:17:21 1997
Return-Path: <zsh-workers-request@euclid.skiles.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 4338 invoked from network); 9 May 1997 21:17:20 -0000
Received: from euclid.skiles.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 9 May 1997 21:17:20 -0000
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id RAA22502; Fri, 9 May 1997 17:01:27 -0400 (EDT)
Resent-Date: Fri, 9 May 1997 17:01:27 -0400 (EDT)
From: <hzoli@VNET.IBM.COM> (Zoltan T. Hidvegi)
Message-Id: <9705092104.AA06629@lotto.fishkill.ibm.com>
Subject: Re: test patches
In-Reply-To: <4612.199705092040@stone.dcs.warwick.ac.uk> from Zefram at "May 9, 97 09:40:12 pm"
To: zefram@dcs.warwick.ac.uk (Zefram)
Date: Fri, 9 May 1997 17:04:30 -0400 (EDT)
Cc: zsh-workers@math.gatech.edu (Zsh workers list)
X-Mailer: ELM [version 2.4ME+ PL31 (25)]
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"S8I_6.0.SV5.b2vSp"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3108
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Zefram wrote:
> Having brace expansion on in sh mode potentially breaks some programs that
> depend on POSIX.  We do intend zsh to be a POSIX conformant sh, don't we?

Yes.  Unfortunately I do not have the final POSIX.2, just an early draft.
bash, pdksh and ksh93 also intend to be POSIX conformant, and they all have
brace expansion by default.

> >                         And some Linux developers simply tell you, that if
> >/bin/sh is not bash, then your Linux system is broken anyway.
>
> Anyone that tells you that is mistaken.  Even the Linux kernel Makefiles
> don't assume that /bin/sh is bash.

You do not have to convice me, I was probably the first who started using
zsh as /bin/sh more than two years ago.  There was a long thread about
related issues in the Debian development mailing list (which I do not read,
I just saw this thread on the web mirror of the list), and there I saw
posts expressing such opimions.  The thread was about the bash-2.0 upgrade,
and mostly concerned about the broken ((foo); bar) syntax in bash-2.0
(which will be fixed in the next bash as well as the next zsh release).

Zoltan

