<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>GstSurfaceBuffer</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.76.1">
<link rel="home" href="index.html" title="GStreamer Bad Plugins 0.10 Library Reference Manual">
<link rel="up" href="video.html" title="Base video element classes">
<link rel="prev" href="gst-plugins-bad-libs-GstVideoContextInterface.html" title="GstVideoContextInterface">
<link rel="next" href="gst-plugins-bad-libs-GstSurfaceConverter.html" title="GstSurfaceConverter">
<meta name="generator" content="GTK-Doc V1.18 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="gst-plugins-bad-libs-GstVideoContextInterface.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="video.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">GStreamer Bad Plugins 0.10 Library Reference Manual</th>
<td><a accesskey="n" href="gst-plugins-bad-libs-GstSurfaceConverter.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts">
<a href="#gst-plugins-bad-libs-GstSurfaceBuffer.synopsis" class="shortcut">Top</a>
                   | 
                  <a href="#gst-plugins-bad-libs-GstSurfaceBuffer.description" class="shortcut">Description</a>
</td></tr>
</table>
<div class="refentry">
<a name="gst-plugins-bad-libs-GstSurfaceBuffer"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="gst-plugins-bad-libs-GstSurfaceBuffer.top_of_page"></a>GstSurfaceBuffer</span></h2>
<p>GstSurfaceBuffer — Accelerated surface base class</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<a name="gst-plugins-bad-libs-GstSurfaceBuffer.synopsis"></a><h2>Synopsis</h2>
<pre class="synopsis">#define             <a class="link" href="gst-plugins-bad-libs-GstSurfaceBuffer.html#GST-VIDEO-CAPS-SURFACE:CAPS" title="GST_VIDEO_CAPS_SURFACE">GST_VIDEO_CAPS_SURFACE</a>
                    <a class="link" href="gst-plugins-bad-libs-GstSurfaceBuffer.html#GstSurfaceBuffer" title="GstSurfaceBuffer">GstSurfaceBuffer</a>;
struct              <a class="link" href="gst-plugins-bad-libs-GstSurfaceBuffer.html#GstSurfaceBufferClass" title="struct GstSurfaceBufferClass">GstSurfaceBufferClass</a>;
<a href="http://library.gnome.org/devel/gobject/unstable/gobject-Type-Information.html#GType"><span class="returnvalue">GType</span></a>               <a class="link" href="gst-plugins-bad-libs-GstSurfaceBuffer.html#gst-surface-buffer-get-type" title="gst_surface_buffer_get_type ()">gst_surface_buffer_get_type</a>         (<em class="parameter"><code><span class="type">void</span></code></em>);
<a class="link" href="gst-plugins-bad-libs-GstSurfaceConverter.html#GstSurfaceConverter" title="GstSurfaceConverter"><span class="returnvalue">GstSurfaceConverter</span></a> * <a class="link" href="gst-plugins-bad-libs-GstSurfaceBuffer.html#gst-surface-buffer-create-converter" title="gst_surface_buffer_create_converter ()">gst_surface_buffer_create_converter</a>
                                                        (<em class="parameter"><code><a class="link" href="gst-plugins-bad-libs-GstSurfaceBuffer.html#GstSurfaceBuffer" title="GstSurfaceBuffer"><span class="type">GstSurfaceBuffer</span></a> *buffer</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *type</code></em>,
                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/gobject/unstable/gobject-Generic-values.html#GValue"><span class="type">GValue</span></a> *dest</code></em>);
</pre>
</div>
<div class="refsect1">
<a name="gst-plugins-bad-libs-GstSurfaceBuffer.description"></a><h2>Description</h2>
<p>
This base class is used to abstract hardware accelerated buffers and enable
generic convertion to standard type such as GL textures. The media type for
those buffers is defined by <a class="link" href="gst-plugins-bad-libs-GstSurfaceBuffer.html#GST-VIDEO-CAPS-SURFACE:CAPS" title="GST_VIDEO_CAPS_SURFACE"><span class="type">GST_VIDEO_CAPS_SURFACE</span></a>. An implementation
specific type must be set using the "type" key (e.g. type="vaapi").
Available convertion type are speficied using seperate boolean
arguement (e.g. opengl=true). Having this information in the capabilities
allow easy negotiating of such feature with other elements (e.g. a
ClutterGstVideoSink can claim accpeting caps "video/x-surface,opengl=true").
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Note</h3>
  The GstVideoContext interface is unstable API and may change in future.
  One can define GST_USE_UNSTABLE_API to acknowledge and avoid this warning.
</div>
<p>
</p>
</div>
<div class="refsect1">
<a name="gst-plugins-bad-libs-GstSurfaceBuffer.details"></a><h2>Details</h2>
<div class="refsect2">
<a name="GST-VIDEO-CAPS-SURFACE:CAPS"></a><h3>GST_VIDEO_CAPS_SURFACE</h3>
<pre class="programlisting">#define GST_VIDEO_CAPS_SURFACE "video/x-surface"
</pre>
<p>
Base caps for GstSurfaceBuffer. Implementation specific type must be marked
using the type attribute (e.g. type=vaapi). Available convertion shall be
specified using boolean attributes (e.g. opengl=true).
</p>
</div>
<hr>
<div class="refsect2">
<a name="GstSurfaceBuffer"></a><h3>GstSurfaceBuffer</h3>
<pre class="programlisting">typedef struct {
  GstBuffer parent;
} GstSurfaceBuffer;
</pre>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gstreamer/html/gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> <em class="structfield"><code><a name="GstSurfaceBuffer.parent"></a>parent</code></em>;</span></p></td>
<td>parent object</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="GstSurfaceBufferClass"></a><h3>struct GstSurfaceBufferClass</h3>
<pre class="programlisting">struct GstSurfaceBufferClass {
  GstBufferClass parent_class;

  GstSurfaceConverter * (*create_converter) (GstSurfaceBuffer *buffer,
                                             const gchar *type,
                                             GValue *dest);
};
</pre>
<p>
<a class="link" href="gst-plugins-bad-libs-GstVideoContextInterface.html#GstVideoContextInterface" title="struct GstVideoContextInterface"><span class="type">GstVideoContextInterface</span></a> interface.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><span class="type">GstBufferClass</span> <em class="structfield"><code><a name="GstSurfaceBufferClass.parent-class"></a>parent_class</code></em>;</span></p></td>
<td>parent class type.</td>
</tr>
<tr>
<td><p><span class="term"><em class="structfield"><code><a name="GstSurfaceBufferClass.create-converter"></a>create_converter</code></em> ()</span></p></td>
<td>vmethod to create a converter.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="gst-surface-buffer-get-type"></a><h3>gst_surface_buffer_get_type ()</h3>
<pre class="programlisting"><a href="http://library.gnome.org/devel/gobject/unstable/gobject-Type-Information.html#GType"><span class="returnvalue">GType</span></a>               gst_surface_buffer_get_type         (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
</div>
<hr>
<div class="refsect2">
<a name="gst-surface-buffer-create-converter"></a><h3>gst_surface_buffer_create_converter ()</h3>
<pre class="programlisting"><a class="link" href="gst-plugins-bad-libs-GstSurfaceConverter.html#GstSurfaceConverter" title="GstSurfaceConverter"><span class="returnvalue">GstSurfaceConverter</span></a> * gst_surface_buffer_create_converter
                                                        (<em class="parameter"><code><a class="link" href="gst-plugins-bad-libs-GstSurfaceBuffer.html#GstSurfaceBuffer" title="GstSurfaceBuffer"><span class="type">GstSurfaceBuffer</span></a> *buffer</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *type</code></em>,
                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/gobject/unstable/gobject-Generic-values.html#GValue"><span class="type">GValue</span></a> *dest</code></em>);</pre>
<p>
This method is used to create a type specific converter. The converter will
serve as context to accelerate the data convertion. This converter object
shall be discarded when the pipeline state changes to NULL and renewed when
caps are changed.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>buffer</code></em> :</span></p></td>
<td>a <a class="link" href="gst-plugins-bad-libs-GstSurfaceBuffer.html#GstSurfaceBuffer" title="GstSurfaceBuffer"><span class="type">GstSurfaceBuffer</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>type</code></em> :</span></p></td>
<td>the type to convert to</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>dest</code></em> :</span></p></td>
<td>a <a href="http://library.gnome.org/devel/gobject/unstable/gobject-Generic-values.html#GValue"><span class="type">GValue</span></a> containing the destination to upload</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>newly allocated <a class="link" href="gst-plugins-bad-libs-GstSurfaceConverter.html#GstSurfaceConverter" title="GstSurfaceConverter"><span class="type">GstSurfaceConverter</span></a>
</td>
</tr>
</tbody>
</table></div>
</div>
</div>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.18</div>
</body>
</html>