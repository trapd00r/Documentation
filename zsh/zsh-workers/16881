From zsh-workers-return-16881-mason-zsh=primenet.com.au@sunsite.dk Fri Mar 22 12:25:23 2002
Return-Path: <zsh-workers-return-16881-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9986 invoked from network); 22 Mar 2002 12:25:22 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 22 Mar 2002 12:25:22 -0000
Received: (qmail 4184 invoked by alias); 22 Mar 2002 12:25:13 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 16881
Received: (qmail 4156 invoked from network); 22 Mar 2002 12:25:10 -0000
X-Authentication-Warning: smtp3.cern.ch: Host pcpdp14.cern.ch [137.138.36.204] claimed to be cern.ch
Message-ID: <3C9B2288.5070304@cern.ch>
Date: Fri, 22 Mar 2002 13:24:40 +0100
From: David Hughes <David.W.Hughes@cern.ch>
Organization: Serco SA (CERN IT/FIO contract)
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:0.9.9) Gecko/20020311
X-Accept-Language: fr-FR, en
MIME-Version: 1.0
To: zsh-workers@sunsite.dk
Subject: Two bug reports: alias/function disagreements; incorrect redirection
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

These appear to be long-standing problems (since v2.6 at least), and 
they're still around as of v4.0.4, and they're not in the known-bugs 
FAQ, and they seem to be platform-independent.

Bug I
=====

Bad Things happen if I assign a name to an alias and then to a function.

     $ which echo
     echo: shell built-in command
     $ alias foo='echo bar'
     $ foo () { echo baz }
     $ which echo
     echo () {
             echo baz
     }

Of course Very Bad Things now happen if I try to use `echo' or `foo'.


Bug II
======

     $ /bin/sh -c 'echo out; echo err >&2' 2>&1 >/dev/null
     err
     $ /bin/sh -c 'echo out; echo err >&2' 2>&1 >/dev/null | cat
     err
     out


I have reproduced both of these bugs on these platforms:

     RedHat 7.2 GNU/Linux (heavily CERN-customised), zsh 4.0.4
     RedHat 7.1 GNU/Linux, zsh 3.1.6-dev-22
     SunOS, zsh 2.6-beta4
     HP-UX, zsh 2.6-beta21

// David
-- 
David Hughes
UNIX sysadmin, Serco SA         -+-         Tel.: +41 22 767 4047
Computing Centre, CERN          -+-        David.W.Hughes@cern.ch

                    +++ A good bug report is an expression of love.

This message expresses my own opinions and should not be construed
as the opinions of Serco (who employ me) or of CERN (where I work).

