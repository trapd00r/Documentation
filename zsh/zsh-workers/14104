From zsh-workers-return-14104-mason-zsh=primenet.com.au@sunsite.dk Thu Apr 26 11:00:49 2001
Return-Path: <zsh-workers-return-14104-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 26264 invoked from network); 26 Apr 2001 11:00:48 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 26 Apr 2001 11:00:48 -0000
Received: (qmail 15753 invoked by alias); 26 Apr 2001 11:00:42 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 14104
Received: (qmail 15728 invoked from network); 26 Apr 2001 11:00:41 -0000
Message-ID: <20010426110039.34689.qmail@web9305.mail.yahoo.com>
Date: Thu, 26 Apr 2001 12:00:39 +0100 (BST)
From: =?iso-8859-1?q?Oliver=20Kiddle?= <okiddle@yahoo.co.uk>
Subject: Re: problem with _arguments exclusion lists
To: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>,
  zsh-workers@sunsite.dk
In-Reply-To: <200104241000.MAA02825@beta.informatik.hu-berlin.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

--- Sven Wischnowsky <wischnow@informatik.hu-berlin.de> wrote:
> Ok, here's my suggestion.  The option's name is `-w', dunno if we
> should
> exchange the meaning of -W and -w (-w is the stronger one, so to
> say).

Yes, we probably should swap them.

> Then I suggest to use the following as the pattern-match utility

Looks good. I thought the description might be more complicated than
just using -X.

>   [[ -n "$PREFIX$SUFFIX" ]] 

I'm not sure about this line at the end. It is not a likely option name
but, using the usual example, this would prevent a -c0nf option being
completed from -c0<tab>. In what sort of case did you see it as being
useful?

> It might be called as in:
>   _arguments  -s '(-conf)-c+:numeric value:prop "[0-9]#"' '-conf'
> '-f'

Testing this, I get what I thought was -w behaviour only: -c<tab>
offers:
  numeric value
  option
  -conf   -f
I thought that it was only going to offer -f if _arguments was passed
the -w option.

> That feels quite satisfying.

It's great. Thanks Sven.

> So, if anyway can tell me a good name for that utility function, I'm
> going to commit it.  I really don't have the faintest idea.  Oliver?

I didn't have much in mind. The best I can think of is _guard. I'd
prefer something short because it will be most used in the generally
long _arguments specs so I'm not too keen on something like
_messsage_guarded. Other ideas are _block, _pattern, _failpat.

Oliver

____________________________________________________________
Do You Yahoo!?
Get your free @yahoo.co.uk address at http://mail.yahoo.co.uk
or your free @yahoo.ie address at http://mail.yahoo.ie

