From zsh-users-return-6993-mason-zsh=primenet.com.au@sunsite.dk Sat Jan 17 00:19:02 2004
Return-Path: <zsh-users-return-6993-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 15080 invoked from network); 17 Jan 2004 00:19:01 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 17 Jan 2004 00:19:01 -0000
Received: (qmail 12858 invoked by alias); 17 Jan 2004 00:18:38 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 6993
Received: (qmail 12680 invoked from network); 17 Jan 2004 00:18:36 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 17 Jan 2004 00:18:36 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [66.111.4.25] by sunsite.dk (MessageWall 1.0.8) with SMTP; 17 Jan 2004 0:18:36 -0000
X-Sasl-enc: I4mUoHPwFVTATIxTnPYqyw 1074298713
Received: from fastmail.fm (son-ts8-37.mlode.com [208.31.172.100])
	by www.fastmail.fm (Postfix) with ESMTP id 231884AD1F1
	for <zsh-users@sunsite.dk>; Fri, 16 Jan 2004 19:18:33 -0500 (EST)
Date: Fri, 16 Jan 2004 16:17:14 -0800
Mime-Version: 1.0 (Apple Message framework v553)
Content-Type: text/plain; charset=US-ASCII; format=flowed
Subject: su -m on os x
From: Culley Harrelson <culley@fastmail.fm>
To: zsh-users@sunsite.dk
Content-Transfer-Encoding: 7bit
Message-Id: <8026787E-4882-11D8-80B7-000A9591EB8C@fastmail.fm>
X-Mailer: Apple Mail (2.553)

In bash I was used to using su -m to preserve my environment but I am 
having trouble with this on os x:

su: /usr/local/bin/zsh -l: No such file or directory

reading the su man page:

As a security
precaution, if the target user's shell is a non-standard shell
(as defined by getusershell(3)) and the caller's real uid is non-
zero, su will fail.

I have tried adding /usr/local/bin/zsh to /etc/shells but I guess os x 
is looking elsewhere.  Anyone have this set up properly?

I know I should be using sudo but... bleh, too much typing sometimes!

culley

