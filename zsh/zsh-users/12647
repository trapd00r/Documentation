From zsh-users-return-12647-mason-zsh=primenet.com.au@sunsite.dk Wed Feb 27 14:44:56 2008
Return-Path: <zsh-users-return-12647-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17174 invoked from network); 27 Feb 2008 14:44:54 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.4 (2008-01-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.5 required=5.0 tests=AWL,BAYES_00,LONGWORDS
	autolearn=no version=3.2.4
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 27 Feb 2008 14:44:54 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 33240 invoked from network); 27 Feb 2008 14:44:18 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 27 Feb 2008 14:44:18 -0000
Received: (qmail 12490 invoked by alias); 27 Feb 2008 14:44:09 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 12647
Received: (qmail 12477 invoked from network); 27 Feb 2008 14:44:08 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 27 Feb 2008 14:44:08 -0000
Received: from cluster-g.mailcontrol.com (cluster-g.mailcontrol.com [85.115.41.190])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 4CCED8026E0B
	for <zsh-users@sunsite.dk>; Wed, 27 Feb 2008 15:43:59 +0100 (CET)
Received: from cameurexb01.EUROPE.ROOT.PRI ([62.189.241.200])
	by rly18g.srv.mailcontrol.com (MailControl) with ESMTP id m1REhMG7028214
	for <zsh-users@sunsite.dk>; Wed, 27 Feb 2008 14:43:50 GMT
Received: from news01.csr.com ([10.103.143.38]) by cameurexb01.EUROPE.ROOT.PRI with Microsoft SMTPSVC(6.0.3790.3959);
	 Wed, 27 Feb 2008 14:43:43 +0000
Received: from news01.csr.com (localhost.localdomain [127.0.0.1])
	by news01.csr.com (8.14.2/8.13.4) with ESMTP id m1REhhH0010106
	for <zsh-users@sunsite.dk>; Wed, 27 Feb 2008 14:43:43 GMT
Received: from csr.com (pws@localhost)
	by news01.csr.com (8.14.2/8.14.2/Submit) with ESMTP id m1REhhQb010103
	for <zsh-users@sunsite.dk>; Wed, 27 Feb 2008 14:43:43 GMT
Message-Id: <200802271443.m1REhhQb010103@news01.csr.com>
X-Authentication-Warning: news01.csr.com: pws owned process doing -bs
To: zsh-users@sunsite.dk
Subject: Re: Portable zsh scripts
In-reply-to: <fq3pes$vn1$1@ger.gmane.org>
References: <fq3lhr$fgj$1@ger.gmane.org> <200802271252.m1RCq6wd009231@news01.csr.com> <fq3pes$vn1$1@ger.gmane.org>
Comments: In-reply-to Thorsten Kampe <thorsten@thorstenkampe.de>
   message dated "Wed, 27 Feb 2008 13:43:54 +0000."
Date: Wed, 27 Feb 2008 14:43:43 +0000
From: Peter Stephenson <pws@csr.com>
X-OriginalArrivalTime: 27 Feb 2008 14:43:43.0120 (UTC) FILETIME=[26408900:01C8794F]
X-Scanned-By: MailControl A-08-00-04 (www.mailcontrol.com) on 10.71.0.128
X-Virus-Scanned: ClamAV 0.91.2/6010/Wed Feb 27 13:54:14 2008 on bifrost
X-Virus-Status: Clean

Thorsten Kampe wrote:
> Okay, but is there a gain in specifying "emulate -R zsh" instead of 
> "emulate zsh".

That really depends on the options you need.  If /etc/zshenv sets one of
about 92 options to the non-default state and you need it in the default
state, then yes, there's a gain.  I've appended the list, excluding
aliases: as you'll see most of them really are only useful
interactively, but some might make a difference: pushdsilent, for
example.

You should probably look at it the other way.  There is no loss in
specifying -R, since it reduces any lingering uncertainty, and as
Vincent points out the same goes for -L.  So if you want the maximum
protection, "emulate -LR zsh" is fine.

> > If /etc/zshenv isn't doing anything nasty, however, it shouldn't be
> > needed together with the -f flag.
> 
> Sorry, but as far as I understood "-f" makes the shell skip everything 
> /except/ /etc/zshenv.

I meant the other way round:  if you have "-f", and /etc/zshenv doesn't
change options (which it shouldn't, ideally), then the "emulate" doesn't
get you anything.

alwayslastprompt
alwaystoend
appendhistory
autocontinue
autolist
automenu
autonamedirs
autoparamkeys
autoparamslash
autopushd
autoremoveslash
autoresume
banghist
bashautolist
bashrematch
beep
caseglob
casematch
cbases
completealiases
completeinword
correct
correctall
emacs
exec
extendedhistory
flowcontrol
globalrcs
globcomplete
hashcmds
hashdirs
hashlistall
histallowclobber
histbeep
histexpiredupsfirst
histfindnodups
histignorealldups
histignoredups
histignorespace
histnofunctions
histnostore
histreduceblanks
histsavebycopy
histsavenodups
histverify
ignoreeof
incappendhistory
interactive
interactivecomments
kshzerosubscript
listambiguous
listbeep
listpacked
listrowsfirst
listtypes
login
longlistjobs
mailwarning
markdirs
menucomplete
monitor
multibyte
notify
overstrike
printeightbit
printexitvalue
privileged
promptbang
promptcr
promptpercent
promptsp
promptsubst
pushdsilent
rcs
recexact
rematchpcre
restricted
rmstarsilent
rmstarwait
sharehistory
shinstdin
singlecommand
singlelinezle
sunkeyboardhack
transientrprompt
trapsasync
verbose
vi
warncreateglobal
xtrace
zle
dvorak

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR PLC, Churchill House, Cambridge Business Park, Cowley Road
Cambridge, CB4 0WZ, UK                          Tel: +44 (0)1223 692070

