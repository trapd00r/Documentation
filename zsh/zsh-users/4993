From zsh-users-return-4993-mason-zsh=primenet.com.au@sunsite.dk Sat May 25 21:46:16 2002
Return-Path: <zsh-users-return-4993-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 11413 invoked from network); 25 May 2002 21:46:15 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 25 May 2002 21:46:15 -0000
Received: (qmail 24523 invoked by alias); 25 May 2002 21:45:59 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4993
Received: (qmail 24509 invoked from network); 25 May 2002 21:45:58 -0000
Message-ID: <3CF005E5.9020103@zaz.com.br>
Date: Sat, 25 May 2002 18:45:09 -0300
From: "Thiago F.G. Albuquerque" <tfga@zaz.com.br>
User-Agent: Mozilla/5.0 (Windows; U; Win98; en-US; rv:0.9.4) Gecko/20011019 Netscape6/6.2
X-Accept-Language: en-us
MIME-Version: 1.0
To: zsh-users@sunsite.dk
Subject: Re: [Newbie] 'set|grep' doesn't work as expected
References: <02052420275401.00771@localhost.terra.com.br> <20020525020943.A29770@globnix.org> <20020525015934.C19325@master.guldberg.net.invalid>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit

Preben Peppe Guldberg wrote:

> Således berettede Phil Pennock (Phil.Pennock@globnix.org) den [020525]:
> 
>>On 2002-05-24 at 20:27 -0300, Thiago F. G. Albuquerque wrote:
>>
>>>In bash I can type
>>>
> 
>>>set | grep <something>
>>>
> 
>>>and it's ok.
>>>
> 
>>>In zsh, it gives me the message:
>>>
> 
>>>Binary file (standard input) matches
>>>
> 
>>>Why?
>>>
> 
>>Because you have something in the environment with a non-plaintext
>>representation.
>>
> 
> I think that would be IFS. In bash the default is <space><tab><newline>,
> while zsh add <nul> to these.


You're right. Look:

1 ~> echo $IFS | dump
0000  20  9  A  0  A                                     .....

This is <space>, '\t', '\n' and '\0'. The last "A" is the '\n' printed by echo.

In bash, IFS is set to nothing.

I unset IFS in zsh and "set|grep" worked again.
Using "grep -a" also works.

Is it ok if I remove \0 from IFS?

I would like to thank everybody who replied to my message. Thank you.

Thiago

