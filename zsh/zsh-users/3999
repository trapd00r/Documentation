From zsh-users-return-3999-mason-zsh=primenet.com.au@sunsite.dk Wed Jul 04 14:41:19 2001
Return-Path: <zsh-users-return-3999-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2946 invoked from network); 4 Jul 2001 14:41:17 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 4 Jul 2001 14:41:17 -0000
Received: (qmail 5380 invoked by alias); 4 Jul 2001 14:39:46 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 3999
Received: (qmail 5369 invoked from network); 4 Jul 2001 14:39:44 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <1010704143907.ZM1306@candle.brasslantern.com>
Date: Wed, 4 Jul 2001 14:39:07 +0000
In-Reply-To: <20010704061454.6952.qmail@web10401.mail.yahoo.com>
Comments: In reply to Felix Rosencrantz <f_rosencrantz@yahoo.com>
        "Re: Using buffer for history-incremental-search-backward" (Jul  3, 11:14pm)
References: <20010704061454.6952.qmail@web10401.mail.yahoo.com>
X-Mailer: Z-Mail (5.0.0 30July97)
To: zsh-users <zsh-users@sunsite.auc.dk>
Subject: Re: Using buffer for history-incremental-search-backward
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Jul 3, 11:14pm, Felix Rosencrantz wrote:
}
} I actually thought my h-i-s-b was still in the history
} search, it sort of looked like it from the trace output....

Unfortunately, all it manages to do is abort the search.  Really, even
when you name the widget history-incremental-search-backward, it's not
calling your widget after the first time ... it's calling the internal
one, until you break out of repeating the same search and start again.

} Though it would also be useful if there was a parameter that explicitly
} says you are in the mini-buffer (or whatever the mode is).

Unfortunately there really is no mini-buffer.  Each of the commands that
uses a "mini-buffer" implements it (and key reading for it) separately.

This could get worked on, though, now that we actually do have multiple
keymaps.

} So is there anyway to history-incremental-search-backward (and related
} commands to show a list of matching commands.  Sort of like the w2k "F7"
} key in a cmd.exe window.)

Not without interrupting the search.  But one could write a completion
function that would do it; just search the $history hash:

	compadd - "$history[(R)$BUFFER]"

or something like that.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

