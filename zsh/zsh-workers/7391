From zsh-workers-return-7391-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Aug 06 18:56:12 1999
Return-Path: <zsh-workers-return-7391-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 22699 invoked from network); 6 Aug 1999 18:56:11 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 6 Aug 1999 18:56:11 -0000
Received: (qmail 27880 invoked by alias); 6 Aug 1999 18:55:29 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7391
Received: (qmail 27847 invoked from network); 6 Aug 1999 18:55:28 -0000
To: zsh-workers@sunsite.auc.dk
Subject: Re: Completion problems.
References: <199908040937.LAA15313@beta.informatik.hu-berlin.de>
MIME-Version: 1.0 (generated by AKEMI 1.13.2 - =?ISO-2022-JP?B?Ig==?=
 =?ISO-2022-JP?B?GyRCQTA0Y0s8GyhCIg==?=)
Content-Type: text/plain; charset=US-ASCII
From: Tanaka Akira <akr@jaist.ac.jp>
Date: 07 Aug 1999 03:53:42 +0900
In-Reply-To: Sven Wischnowsky's message of "Wed, 4 Aug 1999 11:37:32 +0200 (MET DST)"
Message-ID: <rsq907orb9l.fsf@crane.jaist.ac.jp>
Lines: 40
User-Agent: Chao-gnus/6.12.5 AKEMI/1.13.2 (=?ISO-2022-JP?B?GyRCQTAbKEI=?=
 =?ISO-2022-JP?B?GyRCNGNLPBsoQg==?=) FLAM-DOODLE/1.12.6
 (=?ISO-2022-JP?B?GyRCM3cbKEI=?= 10R4.0/5.0) Emacs/20.4
 (sparc-sun-solaris2.6) MULE/4.0 (HANANOEN)

In article <199908040937.LAA15313@beta.informatik.hu-berlin.de>,
  Sven Wischnowsky <wischnow@informatik.hu-berlin.de> writes:

> I see two ways to go: 1) completely change the completion code to
> report strings in unquoted form or 2) add a parameter expansion
> modifier which does something like the opposite of `:q'.
> Unfortunately, 1) is extremly hard and error-prone.

I think that (1) is right way though I didn't know it's extremly hard
because I'm not know the code internal well.

(2) is good and it is required for implementation of completers if (1)
is realized. But it is also useful for current completers. Thanks.

> I don't understand you here, sorry. Oh, after reading further: do you
> suggest something like the `opposite-of-:q'-thing or a builtin to work 
> on quoted/unquoted strings?

Yes.
# Sorry for my bad English.

> Also: changing a'#' to a\# is intentional and was discussed -- see
> 6400 and follow-ups (especially 6460 for this example). 

Ok, I understand. I didn't think match specs.  But... is this
intentional?

Z:akr@is27e1u11% zsh-3.1.6-pws-1 -f
is27e1u11% autoload -U compinit; compinit -D; compdef _tst tst
is27e1u11% _tst () { compset -P '*/'; compadd tst }
is27e1u11% var=val
is27e1u11% tst 'a'$var/<TAB>

-> 

is27e1u11% tst 'a$var/tst' 

# My reply may be slow, since I'm bit busy now, 
-- 
Tanaka Akira

