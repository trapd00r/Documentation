From zsh-workers-return-12375-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Jul 26 07:14:29 2000
Return-Path: <zsh-workers-return-12375-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17079 invoked from network); 26 Jul 2000 07:14:28 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 26 Jul 2000 07:14:28 -0000
Received: (qmail 9252 invoked by alias); 26 Jul 2000 07:14:08 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 12375
Received: (qmail 9245 invoked from network); 26 Jul 2000 07:14:07 -0000
Date: Wed, 26 Jul 2000 09:14:06 +0200 (MET DST)
Message-Id: <200007260714.JAA12994@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: Adam Spiers's message of Tue, 25 Jul 2000 20:27:18 +0100
Subject: Re: 'insecure directories' warning


Adam Spiers wrote:

> ...
> 
> > } Also, it would be nice if the user gets told which directories are
> > } insecure, otherwise he doesn't stand much of a chance of fixing them.
> > 
> > Hrm.  Maybe a separate function to check for and report this?  I don't
> > know if we want the compinit output to get any more verbose than it is.
> > On the other hand, it's only a one-line change, so maybe some of you can
> > try this out and see what you think (the output is a couple of screenfuls
> > long for me because of RedHat's special groups trick):
> 
> I'd say it's better than nothing, but yes, it is a bit too verbose if
> the problem affects too many functions.  A separate function would be
> good; then it could output stuff like:
> 
> /usr/local/share/zsh/3.1.9-dev-3/functions/X contains functions not
> owned by you or by root; the first such function is _x_arguments.
> Continue anyway [ny]? 

A separate function would be easy to add, of course. Alternatively we
could give compinit a `verbose' option. Or a `test' option that
doesn't try to load the completion system but performs the checks. Or
both.

> I'd also suggest replacing 'continue' with something which makes it
> more obvious what the two choices are.  At the moment if you're
> invoking compinit from .zshrc, it sounds a bit like you want to exit
> the shell if you hit 'n'.

You can just go ahead and improve that...

Bye
 Sven


--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

