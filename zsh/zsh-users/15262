From zsh-users-return-15262-mason-zsh=primenet.com.au@zsh.org Wed Aug 11 22:29:47 2010
Return-Path: <zsh-users-return-15262-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 25667 invoked by alias); 11 Aug 2010 22:29:47 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 15262
Received: (qmail 28777 invoked from network); 11 Aug 2010 22:29:44 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.9 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.3.1
Received-SPF: pass (ns1.primenet.com.au: SPF record at seiken.de designates 94.23.38.107 as permitted sender)
From: Joke de Buhr <joke@seiken.de>
To: zsh-users@zsh.org
Subject: Re: Completion and double quotes
Date: Thu, 12 Aug 2010 00:29:34 +0200
User-Agent: KMail/1.13.2 (Linux/2.6.32-23-generic; KDE/4.4.2; x86_64; ; )
References: <201008112130.10895.joke@seiken.de> <alpine.LNX.2.01.1008111741040.19568@hp>
In-Reply-To: <alpine.LNX.2.01.1008111741040.19568@hp>
MIME-Version: 1.0
Content-Type: multipart/signed;
  boundary="nextPart5801402.PhU3MuuhOB";
  protocol="application/pgp-signature";
  micalg=pgp-ripemd160
Content-Transfer-Encoding: 7bit
Message-Id: <201008120029.36482.joke@seiken.de>

--nextPart5801402.PhU3MuuhOB
Content-Type: Text/Plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable

On Wednesday 11 August 2010 23:51:24 Benjamin R. Haskell wrote:
> On Wed, 11 Aug 2010, Joke de Buhr wrote:
> > Hi,
> >=20
> > Currently my completion is somehow configured to transform double
> > quoted paths to backslash escaped paths.
> >=20
> > Example:
> >   ls /path/to/"file with"<TAB> -> /path/to/file\ with\ spaces
> >=20
> > I would like the completion not to touch the quotation. But I can't
> > figure out how to get zsh to do this. The completion should work like
> > this.
> >=20
> > Example:
> >   ls /path/to/"file with"<TAB> -> /path/to/"file with spaces"
> >=20
> > I don't remember what completion options caused the current behavior
> > but I remember having zsh configured to not touch the quotes.
>=20
> Are you sure your above example worked before?  It's always bugged me a
> little (but not enough to search for it) that zsh leaves:
>=20
> "/path/to/file with<Tab>
> as a quoted string:
> "/path/to/file with spaces"
>=20
> but:
> /path/to/"file with<Tab>
> becomes toothpicked[1]:
> /path/to/file\ with\ spaces

It's been a while since I reconfigured the completion so maybe I got confus=
ed.=20
Maybe only a fully quoted path stayed quoted before.

But it would be really useful if the completion would stay quoted because t=
he=20
completion doesn't work if the fully quoted path starts with "~/" path. At=
=20
least with my current configuration zsh doesn't offer any possible completi=
on=20
in this cases.

Example:
  "~/any/existing/path<TAB>  <-- no completion offered

> So, I'd also be interested to know what I'm overlooking.
>=20
> A similar thing that bothers me is the way named directories are
> somewhat inconsistently expanded.  (From my perspective, that is.  It's
> probably entirely internally consistent.)  I can't come up with a
> minimal example right now, but I notice it most when trying to do things
> like:
>=20
> for l in ~/bin/{*.pl,<Tab>
>=20
> (That is: combinations of bracket expansion and file completion.)
>=20
> Perhaps the cure(s) are the same or similar?  (Wouldn't be surprised if
> the latter weren't curable.)

--nextPart5801402.PhU3MuuhOB
Content-Type: application/pgp-signature; name=signature.asc 
Content-Description: This is a digitally signed message part.

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)

iQG7BAABAwAlBQJMYyROHhhoa3A6Ly9wb29sLnNrcy1rZXlzZXJ2ZXJzLm5ldAAK
CRCWUloJhwFWxj4RC/9GXlkTVTDS36cqa6GuIv+WZxrUkVNXy55NqXoT94x36vkF
QzmVY/5tB+u489+//AGTQ4lX+1goJsJBmFZYwJmkPoW++PpK3NKobO+8CWaKi8Rg
1ViN7vg8Nwc9Jnx+gCyVNLmQ5sMfS/hkVscYvAlZGSgtOBLtRRlDZrpDmvhjQAyC
FRUDiAEZFTM7jN8pvAied6U8/mAxba4hEQKh+9AZMeJxt3URMI9nlrcnbObeaV7/
o15SUtUd8U9RKTYEm+giHIVURuiMRfImaS05gEj9Z3DB5vFGmh4GrOHPytM4z5u+
NkeRBj1ZVGgd0Qpcc+/0V4c3qYQIJGiCN1UT4B+OsmdNk2hC1lSc/s3Y1zLQWCHJ
5kifd/rVjWHJqyLS1wcX2yQAkvlNB2vTgD9sETuCC6VcCiMIzo5Y+uvTaBIAfrE+
uCElJ3XXI5RXrEuX8WEFUySJMpuP5t9EFySaBAgBN66J7X6NCOuJf48nars/oXyz
bVpRFAfENhFMRpO/jNc=
=CPJn
-----END PGP SIGNATURE-----

--nextPart5801402.PhU3MuuhOB--

