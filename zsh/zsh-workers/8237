From zsh-workers-return-8237-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Oct 13 16:09:15 1999
Return-Path: <zsh-workers-return-8237-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 22516 invoked from network); 13 Oct 1999 16:09:14 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 13 Oct 1999 16:09:14 -0000
Received: (qmail 25133 invoked by alias); 13 Oct 1999 16:09:07 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 8237
Received: (qmail 25123 invoked from network); 13 Oct 1999 16:09:05 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <991013160900.ZM11391@candle.brasslantern.com>
Date: Wed, 13 Oct 1999 16:09:00 +0000
In-Reply-To: <3804A67F.C9F49FDE@u.genie.co.uk>
Comments: In reply to Oliver Kiddle <opk@u.genie.co.uk>
        "Re: PATCH: _urls, _netscape, a seg fault and new completion thoughts" (Oct 13,  4:34pm)
References: <199910131417.QAA10816@beta.informatik.hu-berlin.de> 
	<3804A67F.C9F49FDE@u.genie.co.uk>
X-Mailer: Z-Mail (5.0.0 30July97)
To: Zsh workers <zsh-workers@sunsite.auc.dk>
Subject: Re: PATCH: _urls, _netscape, a seg fault and new completion thoughts
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Oct 13,  4:34pm, Oliver Kiddle wrote:
} Subject: Re: PATCH: _urls, _netscape, a seg fault and new completion thoug
}
} > > Is there a good reason why I don't get a list of matches when
} > > completing inside quotes? This is the general case not anything to do
} > > with completing urls etc. e.g. cd 'm<tab> will complete to 'man/ but
} > > if I added another directory beginning with m, nothing would happen - no
} > > list. 
} > Hm, this works for me -- unless you mean `cd man m<TAB>' which of
} > course shouldn't work.
} 
} I did mean as I said. It still doesn't work (3.1.6-pws-6 on AIX or 3.1.6
} on Linux).

Doesn't work for me either; not even the first bit that works for Oliver.
I get a listing if I ask for one with ^D, but not with TAB, and automenu
does not work if there's a quote on the line.  See:

zagzig[21] compinit
zagzig[22] cd l<TAB>      
lg/            lib/           linux@         linux-2.0.36/  local@
zagzig[23] cd 'l<TAB>
(nothing)

(I get those five completions because /usr/src is in $cdpath.)  Here's a
test that doesn't need cdpath:

zagzig[24] cd z<TAB>
z-code/   zanshin/  zscript/  zshfun/
zagzig[24] cd 'z<TAB>
(nothing)

Doesn't matter if the command is ls, cd, bindkey ... unambiguous prefixes
get inserted, but as soon as there's an ambiguity it all stops.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

