From zsh-workers-return-16447-mason-zsh=primenet.com.au@sunsite.dk Mon Jan 14 13:01:42 2002
Return-Path: <zsh-workers-return-16447-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 21341 invoked from network); 14 Jan 2002 13:01:40 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 14 Jan 2002 13:01:40 -0000
Received: (qmail 940 invoked by alias); 14 Jan 2002 13:01:32 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 16447
Received: (qmail 927 invoked from network); 14 Jan 2002 13:01:31 -0000
Message-ID: <20020114130128.5572.qmail@web9301.mail.yahoo.com>
Date: Mon, 14 Jan 2002 13:01:28 +0000 (GMT)
From: =?iso-8859-1?q?Oliver=20Kiddle?= <okiddle@yahoo.co.uk>
Subject: Re: PATCH: updated _zstyle and cleanup of related stuff
To: Sven Wischnowsky <wischnow@berkom.de>
Cc: zsh-workers@sunsite.dk
In-Reply-To: <15421.28951.280917.888232@wischnow.berkom.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

 --- Sven Wischnowsky <wischnow@berkom.de> wrote: > 
> > -_files -/ "$@"
> > +_path_files -/ "$@"
> 
> Sorry for the late reply, but: what is this part supposed to achieve?
> It means that people can't use the file-patterns style for those
> commands anymore. Bad idea, I'd say.

Oops, that wasn't meant to go into the patch.

I'd been messing about with that because it seemed strange that
_path_files -/ resulted in a description of 'directory' while _files -/
resulted in a description of 'file'. Perhaps _directories should
instead do something like this?
_wanted directories expl directory _files -/ "$@" -

Anyone using it with -g should surely specify a (/) qualifier to the
glob otherwise they should be using _files in the first place.

Also, thinking about it, in places where we do things like
  _files -g '*.png'
we should really do
  _files -g '*.png(.)'
because you wouldn't want to complete a directory named something.png.

I wish multiple glob qualifiers in series (e.g. *(@)(u0)) were allowed
because it would make it much easier for completion functions to add
qualifiers to existing globs. I can't remember details off the top of
my head but I've come across a number of minor problems resulting from
this.

Oliver

__________________________________________________
Do You Yahoo!?
Everything you'll ever need on one web page
from News and Sport to Email and Music Charts
http://uk.my.yahoo.com

