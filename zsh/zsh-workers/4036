From zsh-workers-request@math.gatech.edu Tue Jun 02 16:16:51 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4048 invoked from network); 2 Jun 1998 16:16:49 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 2 Jun 1998 16:16:49 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id MAA08157;
	Tue, 2 Jun 1998 12:12:02 -0400 (EDT)
Resent-Date: Tue, 2 Jun 1998 12:12:02 -0400 (EDT)
Date: Tue, 2 Jun 1998 12:08:47 -0400
From: Chet Ramey <chet@nike.ins.cwru.edu>
To: schaefer@brasslantern.com
Subject: Re: zsh-workers: zsh-3.1.4
Cc: zefram@tao.co.uk, zsh-workers@math.gatech.edu, chet@po.cwru.edu
Reply-To: chet@po.cwru.edu
In-Reply-To: Message from schaefer@brasslantern.com of Mon, 1 Jun 1998 08:56:34 -0700 (id <980601085634.ZM26365@candle.brasslantern.com>)
Message-ID: <980602160847.AA05209.SM@nike.ins.cwru.edu>
Read-Receipt-To: chet@po.CWRU.Edu
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Resent-Message-ID: <"h_NCv3.0.O_1.HH2Tr"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/4036
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

> "make clean" fails when /bin/sh is bash because $(SUBDIRS) is empty in
> Doc and Etc and maybe elsewhere.  Bash gets a syntax error at
> 
> 	for subdir in ; do
> 
> even though that is prefixed with "if test -n '$(SUBDIRS)'" because it
> apparently wants to parse the entire line before executing any of it.

Yes, this is how sh is supposed to work.  A real, honest-to-god Bourne
shell (SunOS 4.1.4) does not accept an empty list after `in' either.

odin(3)$ sh
${HOST}($SHLVL)\$ for x in ; do echo z ; done
syntax error: `;' unexpected
${HOST}($SHLVL)\$ if test -n ''
> then
> for x in ; do echo z ; done
syntax error: `;' unexpected


-- 
``The lyf so short, the craft so long to lerne.'' - Chaucer

Chet Ramey, Case Western Reserve University	Internet: chet@po.CWRU.Edu

