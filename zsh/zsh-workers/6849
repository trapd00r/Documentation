From zsh-workers-return-6849-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Jun 25 10:10:55 1999
Return-Path: <zsh-workers-return-6849-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 7657 invoked from network); 25 Jun 1999 10:10:53 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 25 Jun 1999 10:10:53 -0000
Received: (qmail 12276 invoked by alias); 25 Jun 1999 10:10:26 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 6849
Received: (qmail 12269 invoked from network); 25 Jun 1999 10:10:25 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <990625101001.ZM4200@candle.brasslantern.com>
Date: Fri, 25 Jun 1999 10:10:01 +0000
In-Reply-To: <199906250938.LAA02038@beta.informatik.hu-berlin.de>
Comments: In reply to Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
        "Re: 3.0.6-pre-5 problem" (Jun 25, 11:38am)
References: <199906250938.LAA02038@beta.informatik.hu-berlin.de>
X-Mailer: Z-Mail (5.0.0 30July97)
To: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
Subject: Re: 3.0.6-pre-5 problem
Cc: zsh-workers@sunsite.auc.dk
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Jun 25, 11:38am, Sven Wischnowsky wrote:
} Subject: Re: 3.0.6-pre-5 problem
}
} I hope this fixes it.

No such luck.  Here's "pstree" output:

zsh(28198)-+-pstree(4199)
           |-xterm(4146)---zsh(4147)-+-mutt(4149)
           |                         `-zsh(4153)
           `-xterm(4191)---zsh(4192)---zsh(4194)---mutt(4196)

The first xterm (4146) I ran the "mutt" function directly from the top
shell and then hit ^Z.  4149 and 4153 are both stopped; 4146 is blocked
in wait4() which means that 4147 can't get any keystrokes (the xterm
isn't feeding it) which is the hang that Jos sees.

The second xterm (4191) I ran a new zsh -f (4194) and then the "mutt"
function; there, 4194 and 4196 are stopped.

Note that in the first case zsh created an extra dummy job, but in the
second case it didn't.  This must have something to do with which process
is the group leader.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

