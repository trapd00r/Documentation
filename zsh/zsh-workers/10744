From zsh-workers-return-10744-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Apr 13 17:59:42 2000
Return-Path: <zsh-workers-return-10744-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 12554 invoked from network); 13 Apr 2000 17:59:41 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 13 Apr 2000 17:59:41 -0000
Received: (qmail 5553 invoked by alias); 13 Apr 2000 17:59:35 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 10744
Received: (qmail 5544 invoked from network); 13 Apr 2000 17:59:34 -0000
Date: Thu, 13 Apr 2000 18:59:04 +0100
From: Peter Stephenson <pws@cambridgesiliconradio.com>
Subject: Re: Intercepting commands before they're run
In-reply-to: "Your message of Thu, 13 Apr 2000 16:21:20 -0000."
 <1000413162121.ZM17034@candle.brasslantern.com>
To: zsh-workers@sunsite.auc.dk (Zsh hackers list)
Message-id: <0FSY00HFWVAGPE@la-la.cambridgesiliconradio.com>
Content-transfer-encoding: 7BIT

> } [...] maybe we should let preexec return an exit code to say the command
> } should not be run [...]
> 
> I think I suggested that at one point, but I don't recall whether there
> was any discussion.

My worry about this (and similar schemes with hooks) is that it's a little
bit too easy for the user to get into a state where the shell won't do
anything at all.  Aside from that it's a reasonable idea and wouldn't take
much writing.

-- 
Peter Stephenson <pws@cambridgesiliconradio.com>
Cambridge Silicon Radio, Unit 300, Science Park, Milton Road,
Cambridge, CB4 0XL, UK                          Tel: +44 (0)1223 392070

