From zsh-workers-return-18177-mason-zsh=primenet.com.au@sunsite.dk Mon Feb 03 13:12:23 2003
Return-Path: <zsh-workers-return-18177-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5012 invoked from network); 3 Feb 2003 13:12:22 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 3 Feb 2003 13:12:22 -0000
Received: (qmail 26249 invoked by alias); 3 Feb 2003 13:12:13 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 18177
Received: (qmail 26240 invoked from network); 3 Feb 2003 13:12:13 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 3 Feb 2003 13:12:13 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [80.91.224.249] by sunsite.dk (MessageWall 1.0.8) with SMTP; 3 Feb 2003 13:12:13 -0000
Received: from root by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 18fgMd-0004RZ-00
	for <zsh-workers@sunsite.dk>; Mon, 03 Feb 2003 14:10:19 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: zsh-workers@sunsite.dk
Received: from news by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 18fgHk-00047K-00
	for <gmane-comp-shells-zsh-devel@m.gmane.org>; Mon, 03 Feb 2003 14:05:16 +0100
From: Clemens Fischer <ino-qc@spotteswoode.de.eu.org>
Subject: Re: bash completion functions
Date: Mon, 03 Feb 2003 13:51:18 +0100
Lines: 25
Message-ID: <isw1jznd.fsf@ID-23066.news.dfncis.de>
References: <15299.1043745489@finches.logica.co.uk>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Complaints-To: usenet@main.gmane.org
User-Agent: Gnus/5.090008 (Oort Gnus v0.08) Emacs/21.3.50
 (i386-unknown-freebsd4.6.2)
Cancel-Lock: sha1:NBK+EUib1HcBkTGEFo4ubYb0Upk=
Sender: news <news@main.gmane.org>

Oliver Kiddle <okiddle@yahoo.co.uk>:

> _bash_complete() {
>   local ret=1
>   local -a suf matches
>   local COMP_POINT COMP_CWORD
>   local -a COMP_WORDS COMPREPLY BASH_VERSINFO
>   local COMP_LINE="$words"
>
>   (( COMP_POINT = ${#${(j. .)words}} + $$#QIPREFIX + $#IPREFIX + $#PREFIX ))
>   (( COMP_CWORD = CURRENT - 1))
>   COMP_WORDS=( $words )
>   BASH_VERSINFO=( 2 05b 0 1 release )
>   
>   [[ ${argv[${argv[(I)nospace]:-0}-1]} = -o ]] && suf=( -S '' )
> [...]

this is nice.  i learn much more about zsh mechanics now that i can
compare known functions with their zsh equivalent!

one thing, though:  you provide this patch, a patch to it and another
one on top of the last.  would you please post the complete version,
all goodies included?

  clemens

