From zsh-users-return-3765-mason-zsh=primenet.com.au@sunsite.dk Thu Mar 29 08:28:14 2001
Return-Path: <zsh-users-return-3765-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 20078 invoked from network); 29 Mar 2001 08:28:13 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 29 Mar 2001 08:28:13 -0000
Received: (qmail 6322 invoked by alias); 29 Mar 2001 08:28:00 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 3765
Received: (qmail 6309 invoked from network); 29 Mar 2001 08:28:00 -0000
Date:	Thu, 29 Mar 2001 11:27:55 +0300
Sender:	Ville Herva <vherva@niksula.hut.fi>
From:	Ville Herva <vherva@niksula.hut.fi>
To:	Andrej Borsenkow <Andrej.Borsenkow@mow.siemens.ru>
Cc:	zsh-users@sunsite.auc.dk
Subject: yodl [Re: Compilation problem on Cygwin]
Message-ID: <20010329112755.O3478@niksula.cs.hut.fi>
References: <20010328150338.I3478@niksula.cs.hut.fi> <Pine.SV4.4.33.0103291108240.26074-100000@itsrm2.mow.siemens.ru>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5i
In-Reply-To: <Pine.SV4.4.33.0103291108240.26074-100000@itsrm2.mow.siemens.ru>; from Andrej.Borsenkow@mow.siemens.ru on Thu, Mar 29, 2001 at 11:39:33AM +0400

On Thu, Mar 29, 2001 at 11:39:33AM +0400, you [Andrej Borsenkow] claimed:
> One more possibility (and I'm pretty sure it is it): the temporary files
> are created on text-mounted file system and then simply copied into /home
> and get DOS lineend.

mlmakemod.sh was the build step that failed. So I played a bit with.

Doing
top_srcdir=../zsh /bin/bash ../zsh/Src/mkmakemod.sh Src Makemod

instead of 
top_srcdir=../zsh /bin/sh ../zsh/Src/mkmakemod.sh Src Makemod
which is what the make tries to do, helped. It now created Makemod.in.

So I replaced /bin/sh.exe with /bin/bash.exe and started the build from
scratch (rm -rf build, configure etc).

It now works. I'm still not sure what the problem was.

Now I have the same problem as with Linux, though.

configure says

checking for yodl... no

but the compilation still fails with

case ': yodl' in :*) ;; *) \
    : yodl -I../../zsh/Doc -w zman.yo version.yo ../../zsh/Doc/zsh.yo | sed
-e '1s/\\-/-/g' -e '/^\.'\''/d' > $target \
;; esac; \
test -f $target
make[1]: *** [zsh.1] Error 1
make[1]: Leaving directory /home/vherva/zsh/build/Doc'
make: *** [all] Error 1

presumably just beacause of the lacking yodl. Is yodl necessary for the
build? If so, configure should propably barf?

On linux, 'make -j3' does not work BTW ('make' works), but I think that's
not a biggie ;).

 
-- v --

v@iki.fi

