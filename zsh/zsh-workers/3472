From zsh-workers-request@math.gatech.edu Fri Aug 29 20:49:16 1997
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 4117 invoked from network); 29 Aug 1997 20:49:14 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by coral.primenet.com.au with SMTP; 29 Aug 1997 20:49:14 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id QAA15582;
	Fri, 29 Aug 1997 16:45:39 -0400 (EDT)
Resent-Date: Fri, 29 Aug 1997 16:45:39 -0400 (EDT)
To: zsh-workers@math.gatech.edu
Subject: typeset -U
Mime-Version: 1.0 (generated by tm-edit 7.106)
Content-Type: text/plain; charset=US-ASCII
From: Greg Badros <gjb@cs.washington.edu>
Date: 29 Aug 1997 13:45:34 -0700
Message-ID: <qrrhgc8wwep.fsf@chiwawa.cs.washington.edu>
Lines: 26
X-Mailer: Gnus v5.4.59/Emacs 19.34
Resent-Message-ID: <"GR9yl2.0.Mp3.oJp1q"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3472
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Is typeset -U supposed to act like this:

$ echo $ZSH_VERSION
3.0.4
$ typeset -U array
$ array=(foo bar)
$ echo $array $#array
foo bar 2
$ array=($array foo)    # HERE
$ echo $array $#array
foo bar foo 3           # WHY?
$ typeset -U array
$ echo $array $#array
foo bar 2


I would've thought that the typeset would've not allowed the second copy
of foo when I assigned it at "HERE" above.

It also acts this way w/ 3.0.0 w/ my colorized completion patch (don't
have any other stock builds lying around).

Greg J. Badros
gjb@cs.washington.edu
Seattle, WA  USA
http://www.cs.washington.edu/homes/gjb

