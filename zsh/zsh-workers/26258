From zsh-workers-return-26258-mason-zsh=primenet.com.au@sunsite.dk Thu Jan 08 12:27:09 2009
Return-Path: <zsh-workers-return-26258-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 20838 invoked from network); 8 Jan 2009 12:27:04 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.6 required=5.0 tests=AWL,BAYES_00,LONGWORDS
	autolearn=no version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 8 Jan 2009 12:27:04 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 52376 invoked from network); 8 Jan 2009 12:27:00 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 8 Jan 2009 12:27:00 -0000
Received: (qmail 12922 invoked by alias); 8 Jan 2009 12:26:55 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 26258
Received: (qmail 12912 invoked from network); 8 Jan 2009 12:26:55 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 8 Jan 2009 12:26:55 -0000
Received: from flock1.newmail.ru (flock1.newmail.ru [82.204.219.207])
	by bifrost.dotsrc.org (Postfix) with SMTP id 226AC802720C
	for <zsh-workers@sunsite.dk>; Thu,  8 Jan 2009 13:26:51 +0100 (CET)
Received: (qmail 26394 invoked from network); 8 Jan 2009 12:26:52 -0000
Received: from unknown (HELO cooker.localnet) (arvidjaar@newmail.ru@91.77.194.86)
  by smtpd.newmail.ru with SMTP; 8 Jan 2009 12:26:52 -0000
From: Andrey Borzenkov <arvidjaar@newmail.ru>
To: zsh-workers@sunsite.dk
Subject: 4.3.9: frequent crashes in completion menu selection
Date: Thu, 8 Jan 2009 15:26:47 +0300
User-Agent: KMail/1.10.92 (Linux/2.6.28-1avb; KDE/4.1.85; i686; ; )
MIME-Version: 1.0
Content-Type: multipart/signed;
  boundary="nextPart6070327.DOQZV21aLc";
  protocol="application/pgp-signature";
  micalg=pgp-sha1
Content-Transfer-Encoding: 7bit
Message-Id: <200901081526.48797.arvidjaar@newmail.ru>
X-Virus-Scanned: ClamAV 0.92.1/8843/Thu Jan  8 07:01:58 2009 on bifrost
X-Virus-Status: Clean

--nextPart6070327.DOQZV21aLc
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I hit it quite often on Mandriva cooker; I do not see any obvious=20
post-4.3.9 commits dealing with crashes in this area. This usually=20
happens during menu selection browsing file system.

Stack trace:

Program terminated with signal 11, Segmentation fault.
[New process 4310]
#0  0xb7b8f4d2 in domenuselect (dummy=3D0xb7c24374, dat=3D0xbff4af10)
    at complist.c:2433
2433                        if (*p && !mmarked(*p) && **p && mselect =3D=3D=
=20
(**p)->gnum)
(gdb) bt
#0  0xb7b8f4d2 in domenuselect (dummy=3D0xb7c24374, dat=3D0xbff4af10)
    at complist.c:2433
#1  0x0808f09a in runhookdef (h=3D0xb7c24374, d=3D0xbff4af10) at=20
module.c:990
#2  0xb7c0ef0d in after_complete (dummy=3D0xb7bd397c, dat=3D0xbff4b060)
    at compcore.c:515
#3  0xb7bc03fb in docomplete (lst=3D0) at zle_tricky.c:869
#4  0xb7bbc171 in completecall (args=3D0xb7bd3ca0) at zle_tricky.c:208
#5  0xb7bacd5d in execzlefunc (func=3D0xb7bd0cd8, args=3D0xb7bd3ca0,=20
set_bindk=3D0)
    at zle_main.c:1292
#6  0xb7bacf8a in zlecore () at zle_main.c:1043
#7  0xb7bad5a8 in zleread (lp=3D0x80e97dc, rp=3D0x0, flags=3D7, context=3D0)
    at zle_main.c:1206
#8  0xb7baf427 in zle_main_entry (cmd=3D80, ap=3D0x95c5c00 "=EF=BF=BD\001")
    at zle_main.c:1836
#9  0x0807ca02 in zleentry (cmd=3D1) at init.c:1255
#10 0x080801c3 in ingetc () at input.c:278
#11 0x0807c779 in ihgetc () at hist.c:263
#12 0x08087926 in yylex () at lex.c:677
#13 0x080a3737 in parse_event () at parse.c:451
#14 0x0807e03c in loop (toplevel=3D1, justonce=3D0) at init.c:129
#15 0x0807f726 in zsh_main (argc=3D1, argv=3D0xbff4b4e4) at init.c:1406
#16 0x08052a8f in main (argc=3D50332124, argv=3D0x131) at ./main.c:93

Completion configuration:

{pts/1}% zstyle -L
zstyle ':completion:*:paths' accept-exact true
zstyle ':completion:*' ambiguous true        =20
zstyle ':completion:*' auto-description specify: %d
zstyle ':completion:*' completer _oldlist _complete _match
zstyle ':completion:*:*:insmod:*' file-patterns '*.ko:modules=20
*(-/):directories' '*:all-files'                                           =
                      =20
zstyle ':completion:*:*:modprobe:*' file-patterns '*.ko:modules=20
*(-/):directories' '*:all-files'                                           =
                    =20
zstyle ':completion:*:*:modinfo:*' file-patterns '*.ko:modules=20
*(-/):directories' '*:all-files'                                           =
                     =20
zstyle :compinstall filename /home/bor/.zshrc                              =
    =20
zstyle ':completion:*' format Completing %d                                =
    =20
zstyle ':completion:*' group-name ''                                       =
    =20
zstyle ':completion:*:rsync:*' hosts ftp.uio.no ftp.sunet.se               =
    =20
zstyle ':completion:*' list-colors 'rs=3D0' 'di=3D01;34' 'ln=3D01;36'=20
'pi=3D40;33' 'so=3D01;35' 'do=3D01;35' 'bd=3D40;33;01' 'cd=3D40;33;01'=20
'or=3D01;05;37;41' 'mi=3D01;05;37;41' 'su=3D37;41' 'sg=3D30;43' 'tw=3D30;42=
'=20
'ow=3D34;42' 'st=3D37;44' 'ex=3D01;32' '*.cmd=3D01;32' '*.exe=3D01;32'=20
'*.com=3D01;32' '*.btm=3D01;32' '*.bat=3D01;32' '*.sh=3D01;32' '*.csh=3D01;=
32'=20
'*.tar=3D01;31' '*.tgz=3D01;31' '*.arj=3D01;31' '*.taz=3D01;31' '*.lzh=3D01=
;31'=20
'*.lzma=3D01;31' '*.zip=3D01;31' '*.z=3D01;31' '*.Z=3D01;31' '*.dz=3D01;31'=
=20
'*.gz=3D01;31' '*.bz2=3D01;31' '*.bz=3D01;31' '*.tbz2=3D01;31' '*.tz=3D01;3=
1'=20
'*.lzma=3D01;31' '*.tlz=3D01;31' '*.deb=3D01;31' '*.rpm=3D01;31' '*.cpio=3D=
01;31'=20
'*.jar=3D01;31' '*.rar=3D01;31' '*.ace=3D01;31' '*.zoo=3D01;31' '*.cpio=3D0=
1;31'=20
'*.7z=3D01;31' '*.rz=3D01;31' '*.iso=3D01;31' '*.jpg=3D01;35' '*.jpeg=3D01;=
35'=20
'*.JPG=3D01;35' '*.JPEG=3D01;35' '*.gif=3D01;35' '*.bmp=3D01;35' '*.pbm=3D0=
1;35'=20
'*.pgm=3D01;35' '*.ppm=3D01;35' '*.tga=3D01;35' '*.xbm=3D01;35' '*.xpm=3D01=
;35'=20
'*.tif=3D01;35' '*.tiff=3D01;35' '*.png=3D01;35' '*.svg=3D01;35' '*.svgz=3D=
01;35'=20
'*.mng=3D01;35' '*.pcx=3D01;35' '*.mov=3D01;35' '*.mpg=3D01;35' '*.mpeg=3D0=
1;35'=20
'*.m2v=3D01;35' '*.mkv=3D01;35' '*.ogm=3D01;35' '*.mp4=3D01;35' '*.m4v=3D01=
;35'=20
'*.mp4v=3D01;35' '*.vob=3D01;35' '*.qt=3D01;35' '*.nuv=3D01;35' '*.wmv=3D01=
;35'=20
'*.asf=3D01;35' '*.rm=3D01;35' '*.rmvb=3D01;35' '*.flc=3D01;35' '*.avi=3D01=
;35'=20
'*.fli=3D01;35' '*.flv=3D01;35' '*.gl=3D01;35' '*.dl=3D01;35' '*.xcf=3D01;3=
5'=20
'*.xwd=3D01;35' '*.yuv=3D01;35' '*.divx=3D01;35' '*.xvid=3D01;35' '*.asf=3D=
01;35'=20
'*.wmv=3D01;35' '*.mp4=3D01;35' '*.3gp=3D01;35' '*.flv=3D01;35' '*.ico=3D01=
;35'=20
'*.aac=3D00;36' '*.au=3D00;36' '*.flac=3D00;36' '*.mid=3D00;36' '*.midi=3D0=
0;36'=20
'*.mka=3D00;36' '*.mp3=3D00;36' '*.mpc=3D00;36' '*.ogg=3D00;36' '*.ra=3D00;=
36'=20
'*.wav=3D00;36' '*.mp2=3D00;36' '*.mod=3D00;36' '*.xm=3D00;36' '*.s3m=3D00;=
36'=20
'*.it=3D00;36' '*.wma=3D00;36' '*~=3D47;30' '*.bak=3D47;30' '*.swp=3D47;30'=
=20
'*.bck=3D47;30' '*.bk=3D47;30' '*.old=3D47;30' '*.tmp=3D47;30' '*.save=3D47=
;30'=20
'*.rpmsave=3D47;30' '*.rpmnew=3D47;30'
zstyle ':completion:*' list-prompt '%SAt %p: Hit TAB for more, or the=20
characterto insert%s'
zstyle ':completion:*' list-rows-first true
zstyle ':completion:*' match-original both
zstyle ':completion:*' matcher-list '' 'm:{a-z}=3D{A-Z}' '+r:|[._-]=3D** r:|
=3D**'
zstyle ':completion:*' menu 'select=3D0'
zstyle ':completion:*' verbose true
{pts/1}% setopt
autopushd
nobanghist
cdablevars
extendedglob
histexpiredupsfirst
histignorealldups
histignoredups
histreduceblanks
histsavenodups
ignoreeof
incappendhistory
interactive
nolistambiguous
nolistbeep
menucomplete
monitor
printeightbit
promptsubst
pushdminus
shinstdin
zle

Crash dump is there if more information is required.

--nextPart6070327.DOQZV21aLc
Content-Type: application/pgp-signature; name=signature.asc 
Content-Description: This is a digitally signed message part.

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (GNU/Linux)

iEYEABECAAYFAkll8QgACgkQR6LMutpd94xTmwCeJRlSVDQmrHqOEggB6y/ghd/j
eZcAnAvAuqayPZsOwMp5Oe83y8iPcszv
=yd/Z
-----END PGP SIGNATURE-----

--nextPart6070327.DOQZV21aLc--

