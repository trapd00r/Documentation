From zsh-users-return-2895-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Jan 27 19:30:56 2000
Return-Path: <zsh-users-return-2895-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 29087 invoked from network); 27 Jan 2000 19:30:55 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 27 Jan 2000 19:30:55 -0000
Received: (qmail 25206 invoked by alias); 27 Jan 2000 19:30:28 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 2895
Received: (qmail 25197 invoked from network); 27 Jan 2000 19:30:27 -0000
To: zsh-users@sunsite.auc.dk
Subject: I'm missing something with fpath.
From: Jason Price <jprice@cyberbuzz.gatech.edu>
Date: 27 Jan 2000 14:30:23 -0500
Message-ID: <kgopuun1fe8.fsf@oobleck.gatech.edu>
Lines: 40
X-Mailer: Gnus v5.6.45/XEmacs 21.1 - "Arches"

Or maybe globing.

I'm running dev-16, but this has been a problem for a while.

I set up my $fpath like so:

#fpath=(~/.zfunc)
#fpath=( /usr/local/share/zsh/functions ~/.zfunc )
fpath=( ~/.zfunc /usr/local/share/zsh/3.1.6-dev-16/functions )
fpath=( $fpath /usr/local/share/zsh/functions )
fpath=( $fpath /usr/local/share/zsh/site-functions )

when I do the 

for dirname in $fpath ; do
  autoload $dirname/*(.x:t)
done

the script (.zshrc) stops at this point because site-functions doesn't have 
anything executable in it.  (It has NOTHING in it)

When I say stop's, that means that the rest of the script isn't run.  I
don't see a way to exit gracefully from a failed glob attemp.  Is this the
case?

Also, since the makefile doesn't seem to explicitly make
$FUNCTIONDIR/compinit world executable on install, and the compinstall
function puts $FUNCTINDIR in .zshrc to be autoloaded from as above,
couldn't this lead to a bad new user experience?

Or am I smoking crack/missing something obvious?

Thanks;
Jason

-- 
Faith is not a matter of questions.      Jason Price
Faith is a matter of answers.            jprice@gatech.edu
More to the point, one answer:           Theta Xi, Beta Alpha, 449
"Yes, Lord."

