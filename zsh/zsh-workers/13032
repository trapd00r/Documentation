From zsh-workers-return-13032-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Oct 18 21:23:56 2000
Return-Path: <zsh-workers-return-13032-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 21850 invoked from network); 18 Oct 2000 21:23:52 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 18 Oct 2000 21:23:52 -0000
Received: (qmail 13283 invoked by alias); 18 Oct 2000 21:23:37 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 13032
Received: (qmail 13276 invoked from network); 18 Oct 2000 21:23:36 -0000
Date: Wed, 18 Oct 2000 14:23:32 -0700
From: Clint Olsen <olsenc@ichips.intel.com>
To: zsh-workers@sunsite.auc.dk
Subject: Re: Zsh 3.1.9 on HP-UX 10.20/11.0
Message-ID: <20001018142332.A27453@ichips.intel.com>
References: <20001018093716.A20977@ichips.intel.com> <1001018171648.ZM4506@candle.brasslantern.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2i
In-Reply-To: <1001018171648.ZM4506@candle.brasslantern.com>; from schaefer@candle.brasslantern.com on Wed, Oct 18, 2000 at 05:16:48PM +0000
Organization: Intel Corporation, Hillsboro, OR
X-Disclaimer: Mutt Bites!

On Oct 18, Bart Schaefer wrote:
> 
> It sounds as though the terminal description (terminfo or termcap)
> doesn't have the correct codes for some cursor motions.  Both of the
> symptoms you described could be explained if zsh were emitting the wrong
> code for "move cursor left" and then emitting either spaces (to cover up
> one character) or clear-to-EOL (for ^U).  A simple "typescript" capture
> of a brief session would show what's being emitted by ZLE.

Script started on Wed Oct 18 13:24:39 2000
^[]0;phpw0019 ~^G^Mphpw0019 ~# asdfasdf^M^M
zsh: command not found: asdfasdf^M
^[]0;phpw0019 ~^G^Mphpw0019 ~# ^G^G    ^G^G^G^G^M^M
^[]0;phpw0019 ~^G^Mphpw0019 ~# ^M^M

script done on Wed Oct 18 13:24:48 2000

It appears that ^G is being emitted instead of ^H.

> Are you sure zsh is successfully reading that database on both platforms?
> HP-UX probably has some utilitity equivalent to "strace" ("truss" on Sun)
> that would let you examine the system calls to see which terminfo files
> are actually being opened.

I did a truss on "vim /etc/passwd", and I see:

open("/fs17/a/olsenc/.terminfo/x/xterm", O_RDONLY, 03) = 4

-Clint

