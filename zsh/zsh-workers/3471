From zsh-workers-request@math.gatech.edu Wed Aug 27 17:34:19 1997
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 29516 invoked from network); 27 Aug 1997 17:34:18 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 27 Aug 1997 17:34:18 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id NAA05349;
	Wed, 27 Aug 1997 13:29:17 -0400 (EDT)
Resent-Date: Wed, 27 Aug 1997 13:29:17 -0400 (EDT)
To: zsh-workers@math.gatech.edu
Sender: monnier@TEQUILA.SYSTEMSZ.CS.YALE.EDU
From: Stefan Monnier <monnier+lists/zsh/workers/news/@TEQUILA.SYSTEMSZ.CS.YALE.EDU>
Newsgroups: lists.zsh.workers
Subject: Re: zsh as root login
References: <19970827120222.09334@skiff.solsoft.com> <199708271045.GAA27847@math.gatech.edu>
Date: 27 Aug 1997 13:29:14 -0400
Message-ID: <5lu3gbh6vp.fsf@tequila.systemsz.cs.yale.edu>
Lines: 28
X-Newsreader: Gnus v5.5/Emacs 20.0
Path: tequila.systemsz.cs.yale.edu
NNTP-Posting-Host: tequila.systemsz.cs.yale.edu
Resent-Message-ID: <"yTk2U1.0.WJ1.jF61q"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3471
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Bruce Stephens <B.Stephens@isode.com> writes:
> Yeah, but how many other people want that?  I think you're better off making 
> and installing it once normally, into /usr/local, and then configuring and 
> building a static version for /bin and installing that by hand.

I agree wholeheartedly !

Why do you want /bin/zsh to be statically linked anyway ?
as long as the libraries are kept on the root partition dynamic linking should
work fine in any circumstance and I can't see any special security problems
either.
So just copy /usr/local/bin/zsh to /bin and be careful to also copy every
library referenced (ldd or elfdump or somesuch can give you the list) into /lib
and you should be fine.


        Stefan

PS: also I always thought that "sbin" stands for "system binaries" rather than
    for "static binaries", in the sense that <something>/sbin should contain
    programs that a normal user would normally not use (like mount, lpc, amq
    and the usual daemons).
PPS: furthermore, if you install zsh in /bin, then why do you also want it in
    /usr/local ? Just "configure --prefix=/ --mandir=/usr/man" and then add
    a "ln -s /bin/zsh /usr/local/bin/" for those scripts using the
    "canonic path" (it's always a bad idea to have two copies of the same
    program since it tends to waste memory by having multiple copies of the
    same program in core).

