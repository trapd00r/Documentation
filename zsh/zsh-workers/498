From hzoli@math.gatech.edu  Thu Oct 26 21:36:37 1995
Return-Path: <hzoli@math.gatech.edu>
Received: from konig.elte.hu by math.gatech.edu (5.x/SMI-SVR4)
	id AA28147; Thu, 26 Oct 1995 21:36:37 -0400
Received: (from hzoli@localhost) by bolyai.cs.elte.hu (8.6.12/8.6.12) id CAA10609 for zsh-workers@math.gatech.edu; Fri, 27 Oct 1995 02:37:52 +0100
From: Zoltan Hidvegi  <hzoli@math.gatech.edu>
Message-Id: <199510270137.CAA10609@bolyai.cs.elte.hu>
Subject: Re: ZSH's future [longish] ?
To: zsh-workers@math.gatech.edu (zsh-workers)
Date: Fri, 27 Oct 1995 02:37:52 +0100 (MET)
In-Reply-To: <9510262244.AA21513@charney.cdc.noaa.gov> from "Mark Borges" at Oct 26, 95 04:44:33 pm
X-Mailer: ELM [version 2.4 PL24]
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
content-length: 857

> Z> But it can also be used as a powerful script language.  An example:
> Z> with my releases the expansion of ${${(f)$(</etc/group)}%%:*} gives
> Z> the list of the group names from /etc/groups.
> 
> Uh-oh. If I use the (f) qualifier I only get the first line -- without
> it, I get all the group names in a single line separated by
> whitespace. A bug in my (old) hzoli version -- 2.6-beta11-test7-hzoli11 --
> perhaps? 

No, not a bug.  I forgot to mention that it should be put inside double
quotes.  Without double quotes word splitting is done on $(</etc/group) which
removes line breaks.  Double quotes disable word splitting but the explicit
(f) qualifier forces line splitting which is later handled like an array.
Even rc_expand_param can be used, just try "/${^${(f)$(</etc/group)}%%:*}/".
And this is only a simple example...

Cheers,
  Zoltan

