From zsh-users-return-3004-mason-zsh=primenet.com.au@sunsite.auc.dk Sun Apr 02 05:20:30 2000
Return-Path: <zsh-users-return-3004-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 15925 invoked from network); 2 Apr 2000 05:20:30 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 2 Apr 2000 05:20:30 -0000
Received: (qmail 16217 invoked by alias); 2 Apr 2000 05:20:17 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 3004
Received: (qmail 16198 invoked from network); 2 Apr 2000 05:20:16 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <1000402052007.ZM17815@candle.brasslantern.com>
Date: Sun, 2 Apr 2000 05:20:07 +0000
In-Reply-To: <H0001dfa0d72b85f@MHS>
Comments: In reply to rodriguez_ruggeberg@non.hp.com
        "zsh & HP Term" (Mar 31, 12:16pm)
References: <H0001dfa0d72b85f@MHS>
X-Mailer: Z-Mail (5.0.0 30July97)
To: rodriguez_ruggeberg@non.hp.com, zsh-users@sunsite.auc.dk
Subject: Re: zsh & HP Term
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Mar 31, 12:16pm, rodriguez_ruggeberg@non.hp.com wrote:
} Subject: zsh & HP Term
}
} I've run into some problems when trying to configure zsh for use with 
} an HP Terminal. In essence, I do not seem to be able to map the arrow 
} keys to anything.
} 
} [...] to my amazement, the program could not pick the arrow keys as   
} being pressed! This leads me to believe that either the device for    
} the HP term is "swallowing" the arrow keys, or that the system just   
} uses a different system to comunicate the arrow keys.

HPTerm terminals date from the days when even direct connections to the
mainframe were at 300 baud and it was important to transmit as little as
possible between the terminal and the host.  So the HPTerm has all sorts
of smarts of its own -- all the cursor movement and forms-based data
entry takes place *in the terminal*, and then a whole screenful of it
is sent back at once.

(Next time you're at a login: prompt, start poking the arrow keys.  You'll
note that they move the cursor around the screen, even though there's no
program running to drive the display.)

There is some way to get an HP terminal to really send something on every
key press, but I've forgotten how ... I believe the curses library, for
example, set that up when it initializes, but zsh doesn't use curses.  It
may be enough to use something like this in your .zshrc:

	precmd() { echotc ti }
	preexec() { echotc te }

but I don't promise anything ...

Since you appear to actually work for HP, you can probably find somebody
who knows about this stuff.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

