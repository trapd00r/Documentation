From zsh-workers-return-11045-mason-zsh=primenet.com.au@sunsite.auc.dk Mon May 01 22:15:45 2000
Return-Path: <zsh-workers-return-11045-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2646 invoked from network); 1 May 2000 22:15:43 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 1 May 2000 22:15:43 -0000
Received: (qmail 2212 invoked by alias); 1 May 2000 22:15:33 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 11045
Received: (qmail 2179 invoked from network); 1 May 2000 22:15:31 -0000
Resent-From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Resent-Message-Id: <000501151526.ZM13532@candle.brasslantern.com>
Resent-Date: Mon, 1 May 2000 15:15:26 -0700
X-Mailer: Z-Mail Lite (5.0.0 30July97)
Resent-To: zsh-workers@sunsite.auc.dk
Date: Mon, 1 May 2000 17:37:56 -0400
From: Paul Ackersviller <paulda@home.com>
To: Bart Schaefer <schaefer@candle.brasslantern.com>
Subject: Re: TRAPZERR() in chpwd()
Message-ID: <20000501173756.B11940@tdc134.comm.mot.com>
References: <20000428161546.A8208@tdc134.comm.mot.com> <1000429044220.ZM30544@candle.brasslantern.com> <20000501131328.A11940@tdc134.comm.mot.com> <1000501182216.ZM13391@candle.brasslantern.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.1.11i
In-Reply-To: <1000501182216.ZM13391@candle.brasslantern.com>; from schaefer@candle.brasslantern.com on Mon, May 01, 2000 at 06:22:16PM +0000
X-UIDL: c3467e3390f979747883794689c07bc3

On Mon, May 01, 2000 at 06:22:16PM +0000, Bart Schaefer wrote:
> zagzig% echo $ZSH_VERSION
> 3.0.6-test-1
> zagzig% TRAPZERR () { echo exit code $?; }
> zagzig% chpwd () { [ -h $PWD ] && echo symlink; true; }
> zagzig% cd /tmp
> zagzig% cd /hosts
> symlink
> zagzig% 
> 
> This may be a fix that went in to 3.0.x and was never propagated to 3.1.x,
> or it may be a bug that was introduced in 3.0.x and fixed in 3.1.x.  I'm
> not sure which at this point.

I believe the change must've come after 3.1.6, since it exhibits the same
behaviour as 3.0.7 in my experience.  It's only 3.1.7-pre-1 and (some?)
development versions leading up to it.

-- 
Paul Ackersviller

