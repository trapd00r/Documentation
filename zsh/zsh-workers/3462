From zsh-workers-request@math.gatech.edu Tue Aug 26 01:24:22 1997
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 16959 invoked from network); 26 Aug 1997 01:24:21 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by coral.primenet.com.au with SMTP; 26 Aug 1997 01:24:21 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id VAA01651;
	Mon, 25 Aug 1997 21:19:34 -0400 (EDT)
Resent-Date: Mon, 25 Aug 1997 21:19:34 -0400 (EDT)
Message-ID: <19970825181917.53028@dtthp169.jf.intel.com>
Date: Mon, 25 Aug 1997 18:19:17 -0700
From: Clint Olsen <olsenc@ichips.intel.com>
To: zsh-workers@math.gatech.edu
Subject: Question about getopts in 3.0.2
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 0.83
Organization: Intel Corporation, Hillsboro, OR
X-Disclaimer: Mutt Bites!
Resent-Message-ID: <"pfuGd2.0.gP.byY0q"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3462
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

I tried reading the FAQ.  Didn't see anything pertaining to this.

I'm having trouble using getopts in the case where it requires an argument:

while getopts :G2rd: OPT
do
  case $OPT in
   '2'|'r'|'G') GENARG=($GENARG -$OPT) ;;
    'd') echo printer is $OPTARG ;; #LPARG=-d$OPTARG ;;
    '?') echo $0:t: Unknown option $OPTARG; exit 1 ;; 
    ':') echo $0:t: Option required for $OPTARG; exit 1 ;;
  esac
done

In the case of d, OPTARG is generally unusable/trashed when I don't think
it should be.  For example, lp -dlwfoo produces a null OPTARG and lp -d
lwfoo produces and error "Unknown option l".  What am I doing wrong?

Thanks,

-Clint

