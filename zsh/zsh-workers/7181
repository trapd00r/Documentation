From zsh-workers-return-7181-mason-zsh=primenet.com.au@sunsite.auc.dk Sun Jul 18 00:12:23 1999
Return-Path: <zsh-workers-return-7181-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 22043 invoked from network); 18 Jul 1999 00:12:21 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 18 Jul 1999 00:12:21 -0000
Received: (qmail 15230 invoked by alias); 18 Jul 1999 00:12:16 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7181
Received: (qmail 15223 invoked from network); 18 Jul 1999 00:12:15 -0000
Date: Sat, 17 Jul 1999 17:12:13 -0700 (PDT)
From: Wayne Davison <wayne@clari.net>
To: Zsh Workers <zsh-workers@sunsite.auc.dk>
Subject: PATCH: 3.1.6-pre-1: document HISTSIZE/SAVEHIST caveat
Message-ID: <Pine.GSO.4.10.9907171709530.29652-100000@house.clari.net>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

Here's a couple tweaks to the documentation that mentions the
usefulness of setting HISTSIZE larger than SAVEHIST when you use
HIST_EXPIRE_DUPS_FIRST.

..wayne..
---8<------8<------8<------8<---cut here--->8------>8------>8------>8---
Index: Doc/Zsh/options.yo
@@ -416,9 +416,13 @@
 pindex(HIST_EXPIRE_DUPS_FIRST)
 cindex(history, expiring duplicates)
 item(tt(HIST_EXPIRE_DUPS_FIRST))(
-If the internal history needs to be trimmed to add a new line,
-setting this option will cause the oldest duplicate history line to
-be lost before losing a unique line from the list.
+If the internal history needs to be trimmed to add the current command line,
+setting this option will cause the oldest history event that has a duplicate
+to be lost before losing a unique event from the list.
+You should be sure to set the value of tt(HISTSIZE) to a larger number
+than tt(SAVEHIST) in order to give you some room for the duplicated
+events, otherwise this option will behave just like
+tt(HIST_IGNORE_ALL_DUPS) once the history fills up with unique events.
 )
 pindex(HIST_IGNORE_ALL_DUPS)
 cindex(history, ignoring all duplicates)
Index: Doc/Zsh/params.yo
@@ -507,7 +507,10 @@
 )
 vindex(HISTSIZE)
 item(tt(HISTSIZE) <S>)(
-The maximum size of the history list.
+The maximum number of events stored in the internal history list.
+If you use the tt(HIST_EXPIRE_DUPS_FIRST) option, setting this value
+larger than the tt(SAVEHIST) size will give you the difference as a
+cushion for saving duplicated history events.
 )
 vindex(HOME)
 item(tt(HOME) <S>)(
---8<------8<------8<------8<---cut here--->8------>8------>8------>8---

