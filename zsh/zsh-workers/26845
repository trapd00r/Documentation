From zsh-workers-return-26845-mason-zsh=primenet.com.au@sunsite.dk Fri Apr 17 21:23:08 2009
Return-Path: <zsh-workers-return-26845-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 20103 invoked from network); 17 Apr 2009 21:23:04 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 17 Apr 2009 21:23:04 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 44819 invoked from network); 17 Apr 2009 21:22:57 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 17 Apr 2009 21:22:57 -0000
Received: (qmail 21993 invoked by alias); 17 Apr 2009 21:22:52 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 26845
Received: (qmail 21984 invoked from network); 17 Apr 2009 21:22:51 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 17 Apr 2009 21:22:51 -0000
Received: from vms173005pub.verizon.net (vms173005pub.verizon.net [206.46.173.5])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 8EF4582D4B6A
	for <zsh-workers@sunsite.dk>; Fri, 17 Apr 2009 23:22:26 +0200 (CEST)
Received: from torch.brasslantern.com ([96.249.201.13])
 by vms173005.mailsrvcs.net
 (Sun Java(tm) System Messaging Server 6.3-7.04 (built Sep 26 2008; 32bit))
 with ESMTPA id <0KI900G1TKPFFJKG@vms173005.mailsrvcs.net> for
 zsh-workers@sunsite.dk; Fri, 17 Apr 2009 16:22:28 -0500 (CDT)
Received: from torch.brasslantern.com (localhost.localdomain [127.0.0.1])
	by torch.brasslantern.com (8.13.1/8.13.1) with ESMTP id n3HLMPMw009831	for
 <zsh-workers@sunsite.dk>; Fri, 17 Apr 2009 14:22:26 -0700
Received: (from schaefer@localhost)	by torch.brasslantern.com
 (8.13.1/8.13.1/Submit) id n3HLMP50009830	for zsh-workers@sunsite.dk; Fri,
 17 Apr 2009 14:22:25 -0700
From: Bart Schaefer <schaefer@brasslantern.com>
Message-id: <090417142225.ZM9829@torch.brasslantern.com>
Date: Fri, 17 Apr 2009 14:22:23 -0700
In-reply-to: <26804.1239987872@csr.com>
Comments: In reply to Peter Stephenson <pws@csr.com>        "zsh 4.3.9-dev-2"
 (Apr 17,  6:04pm)
References: <26804.1239987872@csr.com>
X-Mailer: OpenZMail Classic (0.9.2 24April2005)
To: zsh-workers@sunsite.dk
Subject: Re: zsh 4.3.9-dev-2
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii
X-Virus-Scanned: ClamAV 0.92.1/9252/Fri Apr 17 20:21:29 2009 on bifrost
X-Virus-Status: Clean

On Apr 17,  6:04pm, Peter Stephenson wrote:
} Subject: zsh 4.3.9-dev-2
}
} ftp://ftp.zsh.org/pub/development/zsh-4.3.9-dev-2.tar.gz
} ftp://ftp.zsh.org/pub/development/zsh-4.3.9-dev-2-doc.tar.gz
} 
} Please try it and let zsh-workers know if there are problem.

Current CVS checkout builds cleanly and passes all tests starting from
"make distclean" on Mac OSX (Darwin 9.6.0).

Trying the same thing on Linux 2.6.9-78.0.1.plus.c4spm (CentOS 4) I get

echo 'timestamp for *.mdd files' > ../Src/modules.stamp
make[3]: *** No rule to make target `headers'
make[2]: *** [headers] Error 1
make[1]: *** [headers] Error 2

One significant difference is that on Linux I'm using a separate build
tree rather than compiling directly in the source tree.

I tried starting over from scratch and got a different problem:

torch% ../source/configure
(this all goes fine)
torch% make
cd .. && /bin/sh $top_srcdir/Src/mkmakemod.sh Src Makemod
creating Src/Makemod.in
config.status: creating Src/Makemod
creating Src/Builtins/Makefile.in
config.status: creating Src/Builtins/Makefile
creating Src/Modules/Makefile.in
config.status: creating Src/Modules/Makefile
creating Src/Zle/Makefile.in
config.status: creating Src/Zle/Makefile
(etc. until eventually)
gcc -c -I.  -DHAVE_CONFIG_H -Wall -Wmissing-prototypes -O2  -o signames.o signames.c
In file included from signames.c:6:
zsh.mdh:34:25: builtin.epro: No such file or directory
zsh.mdh:35:24: compat.epro: No such file or directory
zsh.mdh:36:22: cond.epro: No such file or directory
zsh.mdh:37:22: exec.epro: No such file or directory
zsh.mdh:38:22: glob.epro: No such file or directory
zsh.mdh:39:27: hashtable.epro: No such file or directory
zsh.mdh:40:22: hist.epro: No such file or directory
zsh.mdh:41:22: init.epro: No such file or directory
zsh.mdh:42:23: input.epro: No such file or directory
zsh.mdh:43:22: jobs.epro: No such file or directory
zsh.mdh:44:21: lex.epro: No such file or directory
zsh.mdh:45:26: linklist.epro: No such file or directory
zsh.mdh:46:22: loop.epro: No such file or directory
zsh.mdh:47:22: math.epro: No such file or directory
zsh.mdh:48:21: mem.epro: No such file or directory
zsh.mdh:49:24: module.epro: No such file or directory
zsh.mdh:50:25: options.epro: No such file or directory
zsh.mdh:51:24: params.epro: No such file or directory
zsh.mdh:52:23: parse.epro: No such file or directory
zsh.mdh:53:25: pattern.epro: No such file or directory
zsh.mdh:54:24: prompt.epro: No such file or directory
zsh.mdh:55:25: signals.epro: No such file or directory
zsh.mdh:57:22: sort.epro: No such file or directory
zsh.mdh:58:24: string.epro: No such file or directory
zsh.mdh:59:23: subst.epro: No such file or directory
zsh.mdh:60:22: text.epro: No such file or directory
zsh.mdh:61:23: utils.epro: No such file or directory
zsh.mdh:62:23: watch.epro: No such file or directory
make[2]: *** [signames.o] Error 1
make[2]: Target `modobjs' not remade because of errors.
make[1]: *** [modobjs] Error 2

and then a bit later (because I'm using "make -k")

gcc -c -I.  -DHAVE_CONFIG_H -DMODULE -Wall -Wmissing-prototypes -O2 -fPIC -o errnames..o errnames.c
In file included from system.mdh:17,
                 from errnames.c:6:
zsh.mdh:34:25: builtin.epro: No such file or directory
zsh.mdh:35:24: compat.epro: No such file or directory
zsh.mdh:36:22: cond.epro: No such file or directory
zsh.mdh:37:22: exec.epro: No such file or directory
zsh.mdh:38:22: glob.epro: No such file or directory
zsh.mdh:39:27: hashtable.epro: No such file or directory
zsh.mdh:40:22: hist.epro: No such file or directory
zsh.mdh:41:22: init.epro: No such file or directory
zsh.mdh:42:23: input.epro: No such file or directory
zsh.mdh:43:22: jobs.epro: No such file or directory
zsh.mdh:44:21: lex.epro: No such file or directory
zsh.mdh:45:26: linklist.epro: No such file or directory
zsh.mdh:46:22: loop.epro: No such file or directory
zsh.mdh:47:22: math.epro: No such file or directory
zsh.mdh:48:21: mem.epro: No such file or directory
zsh.mdh:49:24: module.epro: No such file or directory
zsh.mdh:50:25: options.epro: No such file or directory
zsh.mdh:51:24: params.epro: No such file or directory
zsh.mdh:52:23: parse.epro: No such file or directory
zsh.mdh:53:25: pattern.epro: No such file or directory
zsh.mdh:54:24: prompt.epro: No such file or directory
zsh.mdh:55:25: signals.epro: No such file or directory
zsh.mdh:57:22: sort.epro: No such file or directory
zsh.mdh:58:24: string.epro: No such file or directory
zsh.mdh:59:23: subst.epro: No such file or directory
zsh.mdh:60:22: text.epro: No such file or directory
zsh.mdh:61:23: utils.epro: No such file or directory
zsh.mdh:62:23: watch.epro: No such file or directory
In file included from errnames.c:6:
system.mdh:31:24: system.epro: No such file or directory
make[3]: *** [errnames..o] Error 1
make[3]: Target `modules' not remade because of errors.
make[2]: *** [modules] Error 1
make[1]: *** [modules] Error 2
make[1]: Target `all' not remade because of errors.
make: *** [all] Error 1

-- 

