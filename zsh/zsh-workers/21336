From zsh-workers-return-21336-mason-zsh=primenet.com.au@sunsite.dk Tue Jun 14 18:12:28 2005
Return-Path: <zsh-workers-return-21336-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 21030 invoked from network); 14 Jun 2005 18:12:27 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 14 Jun 2005 18:12:27 -0000
Received: (qmail 73842 invoked from network); 14 Jun 2005 18:12:21 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 14 Jun 2005 18:12:21 -0000
Received: (qmail 17333 invoked by alias); 14 Jun 2005 18:12:19 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 21336
Received: (qmail 17323 invoked from network); 14 Jun 2005 18:12:18 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 14 Jun 2005 18:12:18 -0000
Received: (qmail 73510 invoked from network); 14 Jun 2005 18:12:18 -0000
Received: from flock1.newmail.ru (212.48.140.157)
  by a.mx.sunsite.dk with SMTP; 14 Jun 2005 18:12:14 -0000
Received: (qmail 3285 invoked from network); 14 Jun 2005 18:10:24 -0000
Received: from unknown (HELO ?10.0.0.1?) (arvidjaar@newmail.ru@83.237.61.129)
  by smtpd.newmail.ru with SMTP; 14 Jun 2005 18:10:24 -0000
From: Andrey Borzenkov <arvidjaar@newmail.ru>
To: zsh-workers@sunsite.dk
Subject: Re: subtle `echo' bug
Date: Tue, 14 Jun 2005 22:12:23 +0400
User-Agent: KMail/1.8.1
References: <20050614172738.GL4685@solemn.turbinal.org>
In-Reply-To: <20050614172738.GL4685@solemn.turbinal.org>
MIME-Version: 1.0
Content-Type: multipart/signed;
  boundary="nextPart2144591.DlklfD05mE";
  protocol="application/pgp-signature";
  micalg=pgp-sha1
Content-Transfer-Encoding: 7bit
Message-Id: <200506142212.24133.arvidjaar@newmail.ru>
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=6.0 tests=BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.6

--nextPart2144591.DlklfD05mE
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

On Tuesday 14 June 2005 21:27, Alexey Tourbin wrote:
> Hello,
>
> I believe this is a bug:
>
> $ seq 1 3 |while read n; do { echo |echo } |/bin/echo $n; done
> 1
> 2
> 3
> $ seq 1 3 |while read n; do { echo |echo } |echo $n; done
> 1
> $
>
> (I've got recent 4.3 snapshot, built without unicode support.)
>

This happens randomly:

{pts/3}% seq 1 3 |while read n; do { echo |echo } |echo $n; done
1
2
3
{pts/3}% seq 1 3 |while read n; do { echo |echo } |echo $n; done
1
{pts/3}% seq 1 3 |while read n; do { echo |echo } |echo $n; done
1
{pts/3}% seq 1 3 |while read n; do { echo |echo } |echo $n; done
1
2
3
{pts/3}% echo $ZSH_VERSION
4.2.5

-andrey

--nextPart2144591.DlklfD05mE
Content-Type: application/pgp-signature

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.0 (GNU/Linux)

iD8DBQBCrx4IR6LMutpd94wRAlYpAKC++IzoPYchROyMgVxffb+kgz/XFwCdE+1V
xGY77X2cHQnzrLyeEDLOJ9M=
=H0aX
-----END PGP SIGNATURE-----

--nextPart2144591.DlklfD05mE--

