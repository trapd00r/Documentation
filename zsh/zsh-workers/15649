From zsh-workers-return-15649-mason-zsh=primenet.com.au@sunsite.dk Thu Aug 16 20:53:32 2001
Return-Path: <zsh-workers-return-15649-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18449 invoked from network); 16 Aug 2001 20:53:31 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 16 Aug 2001 20:53:31 -0000
Received: (qmail 5490 invoked by alias); 16 Aug 2001 20:53:22 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 15649
Received: (qmail 5475 invoked from network); 16 Aug 2001 20:53:19 -0000
From: Bart Schaefer <schaefer@brasslantern.com>
Message-Id: <1010816205242.ZM12361@candle.brasslantern.com>
Date: Thu, 16 Aug 2001 20:52:42 +0000
In-Reply-To: <20010816151235.B20958@thelonious.new.ox.ac.uk>
Comments: In reply to Adam Spiers <adam@spiers.net>
        "Re: /usr/local/bin/perl" (Aug 16,  3:12pm)
References: <20010327142836.C32602@thelonious.new.ox.ac.uk> 
	<1010327181943.ZM14188@candle.brasslantern.com> 
	<20010327151711.94655.qmail@web9306.mail.yahoo.com> 
	<20010815155420.A14031@thelonious.new.ox.ac.uk> 
	<1010815165958.ZM10425@candle.brasslantern.com> 
	<20010816151235.B20958@thelonious.new.ox.ac.uk>
X-Mailer: Z-Mail (5.0.0 30July97)
To: Adam Spiers <adam@spiers.net>, zsh-workers@sunsite.dk
Subject: Re: /usr/local/bin/perl
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Aug 16,  3:12pm, Adam Spiers wrote:
} Subject: Re: /usr/local/bin/perl
}
} > } If we use configure, presumably that would mean having (say)
} > } Utils/helpfiles auto-generated from Utils/helpfiles.in?  My vote is
} > } for that option.
} > 
} > Yes, that would be it, but my vote is still to avoid mucking with this
} > in configure.  Maybe something like the following, run through the
} > just-compiled zsh?
} 
} I suppose that's fine, as long as it wouldn't mess things up if you
} ran it twice.  I still slightly prefer going via configure, as that
} way you're not altering CVS files.  You probably have a more
} convincing argument the other way though :-)

Strangely enough, I don't, or at least not directly.

I just think it's a waste of effort.  None of those files actually gets
installed anywhere (except the two in Functions/Misc, and they really
are meant to be shell functions and shouldn't have a #! line at all,
nor should "reporter" for that matter).  If they *were* installed, I'd
recommend fixing the #! as part of the installation process; but they
aren't, so there's no reason to have a separate (and nonfunctional)
"source" file as well as a "compiled" one.

So I'm willing to bend a little and provide a way for you to fix them
up if you want to install them yourself, but I don't want more clutter
in the source tree and the configure script if we aren't going to make
installing them a part of the regular build process.

Even if there were separate source and compiled files, I still wouldn't
want to do it with configure.  A "make"-time transformation with a little
script like the one I supplied would be sufficient.

(Looking back at your original message, I'm curious how Util/helpfiles
manages to appear twice with two different #! lines.)

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

