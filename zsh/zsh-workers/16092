From zsh-workers-return-16092-mason-zsh=primenet.com.au@sunsite.dk Sun Oct 21 18:36:01 2001
Return-Path: <zsh-workers-return-16092-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 15938 invoked from network); 21 Oct 2001 18:36:01 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 21 Oct 2001 18:36:01 -0000
Received: (qmail 21369 invoked by alias); 21 Oct 2001 18:35:54 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 16092
Received: (qmail 21299 invoked from network); 21 Oct 2001 18:35:53 -0000
Date: Sun, 21 Oct 2001 19:35:51 +0100
From: Adam Spiers <adam@spiers.net>
To: zsh workers mailing list <zsh-workers@sunsite.auc.dk>
Subject: PATCH: _mysql_get_identity overwriting .my.cnf settings
Message-ID: <20011021193551.A29016@thelonious.new.ox.ac.uk>
Reply-To: Adam Spiers <adam@spiers.net>
Mail-Followup-To: zsh workers mailing list <zsh-workers@sunsite.auc.dk>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5i
X-Home-Page: http://www.new.ox.ac.uk/~adam/
X-OS: RedHat Linux

This is pretty self-explanatory.  Does that look OK, Sven?

cvs server: Diffing Completion/Unix/Command
Index: Completion/Unix/Command/_mysql_utils
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_mysql_utils,v
retrieving revision 1.1
diff -u -r1.1 _mysql_utils
--- Completion/Unix/Command/_mysql_utils	2001/04/02 11:58:16	1.1
+++ Completion/Unix/Command/_mysql_utils	2001/10/21 18:34:48
@@ -14,9 +14,9 @@
   _mysql_host=${opt_args[-h]-$opt_args[--host]}
 
   _mysql_params=(
-                 ${_mysql_user+"--user=$_mysql_user"}
-                 ${_mysql_host+"--host=$_mysql_host"}
-                 ${_mysql_port+"--port=$_mysql_port"}
+                 ${_mysql_user:+"--user=$_mysql_user"}
+                 ${_mysql_host:+"--host=$_mysql_host"}
+                 ${_mysql_port:+"--port=$_mysql_port"}
                 )
 }
 

