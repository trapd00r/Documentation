From zsh-workers-return-23022-mason-zsh=primenet.com.au@sunsite.dk Tue Nov 28 22:07:05 2006
Return-Path: <zsh-workers-return-23022-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 3462 invoked from network); 28 Nov 2006 22:06:57 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.7 (2006-10-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00,
	FORGED_RCVD_HELO autolearn=ham version=3.1.7
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 28 Nov 2006 22:06:57 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 81736 invoked from network); 28 Nov 2006 22:06:50 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 28 Nov 2006 22:06:50 -0000
Received: (qmail 28856 invoked by alias); 28 Nov 2006 22:06:47 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 23022
Received: (qmail 28846 invoked from network); 28 Nov 2006 22:06:47 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 28 Nov 2006 22:06:47 -0000
Received: (qmail 81435 invoked from network); 28 Nov 2006 22:06:47 -0000
Received: from mtaout02-winn.ispmail.ntl.com (81.103.221.48)
  by a.mx.sunsite.dk with SMTP; 28 Nov 2006 22:06:43 -0000
Received: from aamtaout02-winn.ispmail.ntl.com ([81.103.221.35])
          by mtaout02-winn.ispmail.ntl.com with ESMTP
          id <20061128220708.KWUF27023.mtaout02-winn.ispmail.ntl.com@aamtaout02-winn.ispmail.ntl.com>
          for <zsh-workers@sunsite.dk>; Tue, 28 Nov 2006 22:07:08 +0000
Received: from pwslaptop.csr.com ([81.107.41.17])
          by aamtaout02-winn.ispmail.ntl.com with ESMTP
          id <20061128220658.JZPQ17393.aamtaout02-winn.ispmail.ntl.com@pwslaptop.csr.com>
          for <zsh-workers@sunsite.dk>; Tue, 28 Nov 2006 22:06:58 +0000
Received: from pwslaptop.csr.com (pwslaptop.csr.com [127.0.0.1])
	by pwslaptop.csr.com (8.13.8/8.13.7) with ESMTP id kASM6YRS008072
	for <zsh-workers@sunsite.dk>; Tue, 28 Nov 2006 22:06:34 GMT
Message-Id: <200611282206.kASM6YRS008072@pwslaptop.csr.com>
From: Peter Stephenson <p.w.stephenson@ntlworld.com>
To: zsh-workers@sunsite.dk
Subject: Re: (zsh-4.3.2) Y03 test failure under Slackware Linux 9.0.0 
In-Reply-To: Message from Eric De Mund <ead@ixian.com> 
   of "Tue, 28 Nov 2006 13:01:35 PST." <1164747695.83@bear.he.net> 
Date: Tue, 28 Nov 2006 22:06:34 +0000

Eric De Mund wrote:
> Ok, I believe I've solved this. My build environment for zsh-4.3.2 was a
> zsh-4.2.5 shell with my ~/.{zshenv,zshrc,zlogin} files invoked, which
> includes this variable setting: WORDCHARS="_".

Yes, if I set that and export WORDCHARS I get exactly your result.  Do
you have WORDCHARS exported (it usually isn't)?  This should fix it
if so.

Thanks for looking.

Index: Test/ztst.zsh
===================================================================
RCS file: /cvsroot/zsh/zsh/Test/ztst.zsh,v
retrieving revision 1.25
diff -u -r1.25 ztst.zsh
--- Test/ztst.zsh	23 Sep 2006 06:55:29 -0000	1.25
+++ Test/ztst.zsh	28 Nov 2006 22:06:05 -0000
@@ -30,6 +30,9 @@
 [[ -n $LC_MESSAGES ]] && LC_MESSAGES=C
 [[ -n $LANG ]] && LANG=C
 
+# Don't propagate variables that are set by default in the shell.
+typeset +x WORDCHARS
+
 # Set the module load path to correspond to this build of zsh.
 # This Modules directory should have been created by "make check".
 [[ -d Modules/zsh ]] && module_path=( $PWD/Modules )

-- 
Peter Stephenson <p.w.stephenson@ntlworld.com>
Web page now at http://homepage.ntlworld.com/p.w.stephenson/

