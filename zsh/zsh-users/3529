From zsh-users-return-3529-mason-zsh=primenet.com.au@sunsite.auc.dk Sun Nov 26 02:20:58 2000
Return-Path: <zsh-users-return-3529-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 661 invoked from network); 26 Nov 2000 02:20:56 -0000
Received: from sunsite.dk (HELO sunsite.auc.dk) (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 26 Nov 2000 02:20:56 -0000
Received: (qmail 20054 invoked by alias); 26 Nov 2000 02:20:34 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 3529
Received: (qmail 20046 invoked from network); 26 Nov 2000 02:20:23 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <1001126022006.ZM15650@candle.brasslantern.com>
Date: Sun, 26 Nov 2000 02:20:05 +0000
In-Reply-To: <20001125054306.E5448@sophix.uklinux.net>
Comments: In reply to "Calum Selkirk" <cselkirk@sophix.uklinux.net>
        "_tar -*Cf*?" (Nov 25,  5:43am)
References: <20001125054306.E5448@sophix.uklinux.net>
X-Mailer: Z-Mail (5.0.0 30July97)
To: "Calum Selkirk" <cselkirk@sophix.uklinux.net>, zsh-users@sunsite.auc.dk
Subject: Re: _tar -*Cf*?
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Nov 25,  5:43am, Calum Selkirk wrote:
}
} Looking at _tar i see:
} 
} elif [[ ( CURRENT -gt 2 && "$words[CURRENT-1]" = -*Cf*) ||
}         ( CURRENT -eq 3 && "$words[2]" = *Cf* ) ]]; then
} 
} I'm pretty new to zsh so forgive my ignorance, but shouldn't this be -C
} rather than -Cf to get commpletion on the --directory to change to?  

It should probably be *C*f*.  This came from zsh-workers/9094, in which
Clint wrote:
> This should handle -Cf now, but not -fC, which, of course, requires
> the positions of directory and tarfile to be reversed.

There are several other possible combinations that _tar doesn't handle
(including, say, -bf where a blocksize has to precede the file name).

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

