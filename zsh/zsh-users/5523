From zsh-users-return-5523-mason-zsh=primenet.com.au@sunsite.dk Tue Nov 26 11:26:44 2002
Return-Path: <zsh-users-return-5523-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 29076 invoked from network); 26 Nov 2002 11:26:43 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 26 Nov 2002 11:26:43 -0000
Received: (qmail 25972 invoked by alias); 26 Nov 2002 11:26:27 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 5523
Received: (qmail 25952 invoked from network); 26 Nov 2002 11:26:24 -0000
Date: Tue, 26 Nov 2002 12:24:57 +0100
From: Stephane Chazelas <chazelas@tidhom1g.grenoble.hp.com>
To: zsh-users@sunsite.dk
Cc: Dominik Vogt <dominik.vogt@gmx.de>
Subject: Re: why does "jobs | wc" not work?
Message-ID: <20021126112456.GA22935@tidhom1g.grenoble.hp.com>
References: <20021126104930.GE1937@gmx.de>
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-15
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
In-Reply-To: <20021126104930.GE1937@gmx.de>
User-Agent: Mutt/1.3.27i

On Tue, Nov 26, 2002 at 11:49:30AM +0100, Dominik Vogt wrote:
> There seems to be a strange bug with the jobs command in
> zsh-4.0.4.  It seems that the output of the jobs command refuses
> to go into a pipe.
[...]

It's more a problem of subshell.

( jobs )
doesn't work.

Note that you can get the number of jobs with ${#jobtexts}

Here is my PS1:
PS1='%(?..%B(%?%)%b)%m:%50<..<%~${jobtexts:+"[${#jobtexts}]"}%(#.#.$) '

-- 
Stéphane


