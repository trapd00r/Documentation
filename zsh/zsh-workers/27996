From zsh-workers-return-27996-mason-zsh=primenet.com.au@zsh.org Thu Jun 03 14:23:12 2010
Return-Path: <zsh-workers-return-27996-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 28813 invoked by alias); 3 Jun 2010 14:23:12 -0000
Mailing-List: contact zsh-workers-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Workers List <zsh-workers.zsh.org>
List-Post: <mailto:zsh-workers@zsh.org>
List-Help: <mailto:zsh-workers-help@zsh.org>
Delivered-To: mailing list zsh-workers@zsh.org
X-Seq: 27996
Received: (qmail 975 invoked from network); 3 Jun 2010 14:22:56 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.9 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.3.1
Received-SPF: none (ns1.primenet.com.au: domain at brasslantern.com does not designate permitted sender hosts)
MIME-Version: 1.0
In-Reply-To: <20100603143220.48ccbf3e@csr.com>
References: <martinrb@google.com>
	<AANLkTikiCBKGaJcuE9s-vMZvK465tTR6WSFIsy6wo7xL@mail.gmail.com>
	<201006012145.o51LjhGg005724@pws-pc.ntlworld.com>
	<AANLkTikvkgA0bFLLh7VLVtBbUVMdM64-2iQXjAVbHvaA@mail.gmail.com>
	<20100602121901.6ce71329@csr.com>
	<AANLkTimPDymUsBJICkPlnyeFuFLA5Ek80j_aNQH5rXGo@mail.gmail.com>
	<20100603100109.1b090b4e@csr.com>
	<AANLkTilx2bOk5hHYLVly8XCIu4xz4hhtFHpgTaP4otN3@mail.gmail.com>
	<20100603143220.48ccbf3e@csr.com>
Date: Thu, 3 Jun 2010 07:15:59 -0700
Message-ID: <AANLkTilKAcVt2Dfl_cnZg5dpe6zXOPlPZeC5rdgdLJWs@mail.gmail.com>
Subject: Re: zsh ignores the arguments on its first command.
From: Bart Schaefer <schaefer@brasslantern.com>
To: Peter Stephenson <Peter.Stephenson@csr.com>
Cc: Martin Buchholz <martinrb@google.com>, zsh-workers@zsh.org, Joel Ebel <jbebel@google.com>
Content-Type: text/plain; charset=ISO-8859-1

On Thu, Jun 3, 2010 at 6:32 AM, Peter Stephenson
<Peter.Stephenson@csr.com> wrote:
>
> You're right, it's a specific error for this case, it could be a lot
> clearer.

Martin has something of a point in that when getparamnode() calls
zerr() for this, the shell behaves somewhat as if ${terminfo?} had
been used rather than ${+terminfo}.

Perhaps the correct thing here is to change this to a zwarn() and
allow the setting of the UNSET option to control whether autoload
failure aborts the script.  I'm not convinced that's right, either,
though.

