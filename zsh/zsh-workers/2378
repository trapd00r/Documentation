From zsh-workers-request@euclid.skiles.gatech.edu  Wed Nov 13 07:25:47 1996
Return-Path: zsh-workers-request@euclid.skiles.gatech.edu
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by coral.primenet.com.au (8.7.5/8.7.3) with ESMTP id HAA13136 for <mason@primenet.com.au>; Wed, 13 Nov 1996 07:25:45 +1100 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id PAA13338; Tue, 12 Nov 1996 15:23:36 -0500 (EST)
Resent-Date: Tue, 12 Nov 1996 15:23:36 -0500 (EST)
Message-Id: <9611122023.AA25067@raven.cg.tuwien.ac.at>
Content-Type: text/plain
Mime-Version: 1.0 (NeXT Mail 3.3 v118.2)
X-Image-Url: http://www.cg.tuwien.ac.at/~rft/XImage/1996-01-15.tiff
X-Nextstep-Mailer: Mail 3.3 (Enhance 1.3)
Original-Received: by NeXT.Mailer (1.118.2)
PP-warning: Illegal Received field on preceding line
From: Robert F Tobler <rft@raven.cg.tuwien.ac.at>
Date: Tue, 12 Nov 96 21:23:51 +0100
To: zsh-workers@math.gatech.edu
Subject: zsh 3.0.1 bug with named directories?
Reply-To: rft@cg.tuwien.ac.at
Resent-Message-ID: <"loIhH1.0.HG3.7pDYo"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/2378
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu


I have been using the facility of zsh-3.0.0 to name directories by using a  
variable assignment:

	projects=/usr/local/projects

when I first introduced a number of these names in my .zshrc, they would not  
be considerd for completion with ~name before changing to this directory for  
the first time.  For this reason I set up the following function:

	namedir () { eval '$1=$2 ; if [[ ! -d ~$1 ]]; then unset $1 ; fi' }

and afterwards I could do:

	namedir projects /usr/local/projects
	namedir toolkits /usr/local/toolkits

and these names would then be considered for completion (forced by the d-)  
using ~projects or ~toolkits.

Now if I do the same in zsh 3.0.1, I get the following message:

	ray% namedir projects /usr/local/projects
	zsh: no such file or directory: projects=/usr/local/projects
	zsh: no such user or named directory: projects

Due to this and another problem (which I will post seperately) I have not  
installed zsh 3.0.1 yet.

This is on a i386-next-nextstep3 machine, zsh compiled with gcc 2.7.2.1.

rft

------------------------------------------------------------------------
  Robert F. Tobler                 -  tel:+43(1)58801-4585,fax:5874932
  Institute of Computer Graphics   -  mailto:rft@cg.tuwien.ac.at
  Vienna University of Technology  -  http://www.cg.tuwien.ac.at/~rft/


