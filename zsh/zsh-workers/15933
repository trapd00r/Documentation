From zsh-workers-return-15933-mason-zsh=primenet.com.au@sunsite.dk Thu Oct 04 13:10:22 2001
Return-Path: <zsh-workers-return-15933-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5675 invoked from network); 4 Oct 2001 13:10:21 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 4 Oct 2001 13:10:21 -0000
Received: (qmail 15988 invoked by alias); 4 Oct 2001 13:10:11 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 15933
Received: (qmail 15969 invoked from network); 4 Oct 2001 13:10:08 -0000
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15292.24495.82880.514083@gargle.gargle.HOWL>
Date: Thu, 4 Oct 2001 15:10:07 +0200
To: zsh-workers@sunsite.dk
Subject: Re: expand style `suffix' option
In-Reply-To: <22658.1002022881@csr.com>
References: <22658.1002022881@csr.com>
X-Mailer: VM 6.92 under 21.1 (patch 3) "Acadia" XEmacs Lucid


Peter Stephenson wrote:

> ...
> 
> First off, I assumed I could do
>   zstyle ':completion:*' expand 'prefix suffix'
> but a look at the code reveals this has to be
>   zstyle ':completion:*' expand prefix suffix
> so `contains the string' could be made a little clearer.

Yes.

> When it does seem to be on, I would expect
>   ~/b/b<TAB>
> to list or cycle through all files ~/b*/b* when menu completion is in use,
> but it doesn't. 

Well, it says (or tries to say) that this suff-behaviour is only done
when not using menu-completion. I think we either had a discussion or
I thought that people using menu-completion wouldn't want to be
bothered with looong lists.

But anyway, that style appears to be broken (both prefix and
suffix). I seem to have a fix for the suffix thing now (it was broken
when list-suffixes was added, I think) and I know what's the problem
for the prefix part (compfiles building the pattern, so that
_path_files doesn't have the original anymore and doesn't add it to
$exppaths). I'll look into this tomorrow or next week.


Restoring those things would still not make it work with menu
completion, though (the suffix thing), but that could be added. Should 
we?


Bye
  Sven

-- 
Sven Wischnowsky                    wischnow@informatik.hu-berlin.de

