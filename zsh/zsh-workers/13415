From zsh-workers-return-13415-mason-zsh=primenet.com.au@sunsite.dk Wed Jan 31 11:31:29 2001
Return-Path: <zsh-workers-return-13415-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 11540 invoked from network); 31 Jan 2001 11:31:28 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 31 Jan 2001 11:31:28 -0000
Received: (qmail 7231 invoked by alias); 31 Jan 2001 11:31:21 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 13415
Received: (qmail 7220 invoked from network); 31 Jan 2001 11:31:21 -0000
Message-ID: <Tc0a8890c51710abe9d@mailsweeper01.cambridgesiliconradio.com>
To: zsh-workers@sunsite.dk (Zsh hackers list)
Subject: Re: PATCH: RE: termcap moodule problem on Cygwin 
In-Reply-To: Your message of "Wed, 31 Jan 2001 13:37:34 +0300."
             <002001c08b71$d23e08a0$21c9ca95@mow.siemens.ru> 
Date: Wed, 31 Jan 2001 11:30:52 +0000
From: Peter Stephenson <pws@csr.com>

> This implements the latter. On two systems with static termcap/terminfo both
> are now compiled into main executable.

This turns the linking on SunOS 5.6 from dynamic to static for the two
modules.  It was working OK before with dynamic.  However, the curses
library which is linked in does appear to be static.  On the other hand,
our new server with SunOS 5.8 appears to have a dynamic curses library, but
the test still fails, although:
  % nm /lib/libcurses.so | grep tgetent
  [1176]  |     95876|      52|FUNC |GLOB |0    |9      |tgetent
The libraries used are `-lsocket -ldl -lnsl -lcurses -lm -lc'.

Does anyone have any evidence of termcap still being linked in dynamically
with the patch in place?  I can't promise I'll get a chance to look at
what's happening immediately.

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
Cambridge Silicon Radio, Unit 300, Science Park, Milton Road,
Cambridge, CB4 0XL, UK                          Tel: +44 (0)1223 392070

