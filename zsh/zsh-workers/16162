From zsh-workers-return-16162-mason-zsh=primenet.com.au@sunsite.dk Thu Oct 25 18:13:49 2001
Return-Path: <zsh-workers-return-16162-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 16935 invoked from network); 25 Oct 2001 18:13:48 -0000
Received: from ns2.primenet.com.au (HELO primenet.com.au) (?zfwVCVu1k0DLAg45k9vyPBy6rEBx0ZGa?@203.24.36.3)
  by ns1.primenet.com.au with SMTP; 25 Oct 2001 18:13:48 -0000
Received: (qmail 1252 invoked from network); 25 Oct 2001 18:13:47 -0000
Received: from sunsite.dk (130.225.247.90)
  by proxy.melb.primenet.com.au with SMTP; 25 Oct 2001 18:13:47 -0000
Received: (qmail 7099 invoked by alias); 25 Oct 2001 18:13:39 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 16162
Received: (qmail 7083 invoked from network); 25 Oct 2001 18:13:37 -0000
X-VirusChecked: Checked
Sender: kiddleo@cav.logica.co.uk
Message-ID: <3BD85563.C6A6CFFE@yahoo.co.uk>
Date: Thu, 25 Oct 2001 19:09:39 +0100
From: Oliver Kiddle <okiddle@yahoo.co.uk>
X-Mailer: Mozilla 4.77 [en] (X11; U; Linux 2.2.15 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Jos Backus <josb@cncdsl.com>
CC: zsh-workers@sunsite.dk
Subject: Re: Mac OS X /bin/sh was zsh, to be replaced with bash
References: <20011025101943.A92401@lizzy.bugworks.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Jos Backus wrote:
> 
> Yesterday I attended the local Bay Area Next user group meeting at Apple in
> Cupertino, at which an Apple employee (sorry, can't remember his name right
> now) mentioned that there are plans to replace /bin/sh, currently zsh
> 3.0.something, with bash. The primary reason he stated was zsh's lack of POSIX
> conformance that they kept having problems with. Unfortunately he did/could
> not go into any detail. He also said that as far as he knew no attempt had
> been made to contact the zsh maintainers about this.

This would be a pity. I thought it had never been bash because they were
concerned that the shell was too fundamental a part of the OS and hence
they might be violating the GPL.

I did recently look through the Darwin bug archives for anything zsh
related and found one real issue which as far as I could tell has been
fixed since 3.0. I have a suspicion that there are some misinformed
people who think bash is more compliant than zsh (which it isn't
particularly). David Korn's slashdot article a while back mentioned that
using zsh as /bin/sh would be dangerous. I think this was said to be
because of some of zsh's differences such as the word splitting despite
the fact that zsh would correctly emulate this if installed as /bin/sh.
This was mentioned on the darwin-development mailing list several months
ago - I saw it when looking through the archives.

The only areas where I know zsh not to be POSIX compliant is the lack of
export's -p option and the arguments to the command command and a couple
of minor things like that. These could probably be added very easily and
quickly.

> Now I could ask Jordan Hubbard at Apple if he would be willing to refer me to
> somebody to talk to about this issue, and ask this person what exactly these
> POSIX compatibility issues are they are having problems with. Maybe these
> issues can be addressed; they will never be fixed unless the developers are
> aware of them.

It would definitely be a good idea to try to establish some form of
dialogue with Apple on this. I can think of arguments against bash from
a number of perspectives - technical, licencing and otherwise. No
disrespect to their many positive achievements but the FSF have a
reputation for trying to hold too tight a grip on official GNU software
making it in some respects less open. If we can find out exactly where
they have had issues with zsh we could address those issues directly.

If you manage to make contact with apple, please keep us informed.

Oliver

_____________________________________________________________________
This message has been checked for all known viruses by the 
MessageLabs Virus Scanning Service. For further information visit
http://www.messagelabs.com/stats.asp

