From zsh-workers-return-24144-mason-zsh=primenet.com.au@sunsite.dk Mon Dec 03 16:36:15 2007
Return-Path: <zsh-workers-return-24144-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 574 invoked from network); 3 Dec 2007 16:36:06 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.3 (2007-08-08) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.3
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 3 Dec 2007 16:36:06 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 57335 invoked from network); 3 Dec 2007 16:36:00 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 3 Dec 2007 16:36:00 -0000
Received: (qmail 6700 invoked by alias); 3 Dec 2007 16:35:54 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 24144
Received: (qmail 6684 invoked from network); 3 Dec 2007 16:35:54 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 3 Dec 2007 16:35:54 -0000
Received: (qmail 56892 invoked from network); 3 Dec 2007 16:35:54 -0000
Received: from vms173001pub.verizon.net (206.46.173.1)
  by a.mx.sunsite.dk with SMTP; 3 Dec 2007 16:35:48 -0000
Received: from torch.brasslantern.com ([71.121.18.67])
 by vms173001.mailsrvcs.net
 (Sun Java System Messaging Server 6.2-6.01 (built Apr  3 2006))
 with ESMTPA id <0JSH00JCREW8BHN0@vms173001.mailsrvcs.net> for
 zsh-workers@sunsite.dk; Mon, 03 Dec 2007 10:24:09 -0600 (CST)
Received: from torch.brasslantern.com (localhost.localdomain [127.0.0.1])
	by torch.brasslantern.com (8.13.1/8.13.1) with ESMTP id lB3GX1bW004269	for
 <zsh-workers@sunsite.dk>; Mon, 03 Dec 2007 08:33:02 -0800
Received: (from schaefer@localhost)	by torch.brasslantern.com
 (8.13.1/8.13.1/Submit) id lB3GX1qa004268	for zsh-workers@sunsite.dk; Mon,
 03 Dec 2007 08:33:01 -0800
Date: Mon, 03 Dec 2007 08:33:01 -0800
From: Bart Schaefer <schaefer@brasslantern.com>
Subject: Re: difflog.pl and "security"
In-reply-to: <20071203104256.09dc9684@news01>
To: zsh-workers@sunsite.dk
Message-id: <071203083301.ZM4267@torch.brasslantern.com>
MIME-version: 1.0
X-Mailer: OpenZMail Classic (0.9.2 24April2005)
Content-type: text/plain; charset=us-ascii
References: <20071202214005.GA6517@scowler.net>
	<071202174520.ZM3017@torch.brasslantern.com>	<20071203104256.09dc9684@news01>
Comments: In reply to Peter Stephenson <pws@csr.com>
 "Re: difflog.pl and "security"" (Dec  3, 10:42am)

On Dec 3, 10:42am, Peter Stephenson wrote:
}
} Yes, I'm more worried about the implication that anything distributed
} will be assumed to be robust for any usage. In the usage for which
} difflog.pl is supplied, security is not an issue since you're diffing
} two publicly available logs.

If I understand the issue correctly, the problem is not what's in the
log files, but what's in /tmp.

E.g., if a local attacker can guess when difflog.pl is being run and
what its process ID is, he can create symlinks in /tmp that point
from the files difflog is about to create, to any files owned by the
person running difflog, and cause the target files to be clobbered.

My usual feeling about this is that if your local users are doing this
sort of thing, you already have problems that fixing a few scripts is
not going to solve; but there are people who have no choice but to
hand out logins first and ask questions later.

