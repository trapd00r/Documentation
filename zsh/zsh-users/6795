From zsh-users-return-6795-mason-zsh=primenet.com.au@sunsite.dk Wed Nov 19 17:43:20 2003
Return-Path: <zsh-users-return-6795-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 12648 invoked from network); 19 Nov 2003 17:43:16 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 19 Nov 2003 17:43:16 -0000
Received: (qmail 4655 invoked by alias); 19 Nov 2003 17:42:39 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 6795
Received: (qmail 4594 invoked from network); 19 Nov 2003 17:42:38 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 19 Nov 2003 17:42:38 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [213.201.175.88] by sunsite.dk (MessageWall 1.0.8) with SMTP; 19 Nov 2003 17:42:37 -0000
Received: from localhost (pepper [127.0.0.1])
	by pepper.fruitcom.com (Postfix) with ESMTP
	id 7C6B769FEB; Wed, 19 Nov 2003 18:42:37 +0100 (CET)
Received: from pepper.fruitcom.com ([127.0.0.1])
	by localhost (pepper [127.0.0.1]) (amavisd-new, port 10024) with LMTP
	id 04312-01; Wed, 19 Nov 2003 18:42:34 +0100 (CET)
Received: by pepper.fruitcom.com (Postfix, from userid 1000)
	id 9090269EFA; Wed, 19 Nov 2003 18:42:34 +0100 (CET)
Date: Wed, 19 Nov 2003 18:42:34 +0100
From: Eric Smith <es@fruitcom.com>
To: zsh users <zsh-users@sunsite.dk>
Subject: Re: zsh not accepting commandline args at end of command
Message-ID: <20031119174234.GE31842@fruitcom.com>
References: <20031119171554.GC31842@fruitcom.com> <1031119173112.ZM11485@candle.brasslantern.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <1031119173112.ZM11485@candle.brasslantern.com>
User-Agent: Mutt/1.5.4i
X-Virus-Scanned: by amavisd-new-20030616-p5 (Debian os)

Nope according to this:
[eric@apple ~]  $ which ls
/bin/ls
[eric@apple ~]  $ ls /tmp -f
ls: -f: No such file or directory
/tmp:
ssh-XXUIWy1q  v235390
[eric@apple ~]  $ exit

back to bash:
eric@apple:~$ which ls
/bin/ls
eric@apple:~$ ls /tmp -f
./  ../  .X11-unix/  .font-unix/  ssh-XXUIWy1q/  .X0-lock  v235390/

Some differences in strace FWIW:

zsh:
_sysctl({{CTL_KERN, KERN_VERSION}, 2, 0xbffff8cc, 30, (nil), 0}) = 0
brk(0)                                  = 0x805774c
brk(0x807874c)                          = 0x807874c
brk(0)                                  = 0x807874c
brk(0x8079000)                          = 0x8079000
ioctl(1, SNDCTL_TMR_TIMEBASE, {B38400 opost isig icanon echo ...}) = 0
ioctl(1, 0x5413, {ws_row=48, ws_col=126, ws_xpixel=1022, ws_ypixel=766}) = 0
stat64("/tmp", {st_mode=S_IFDIR|S_ISVTX|0777, st_size=4096, ...}) = 0
stat64("-f", 0x8057898)                 = -1 ENOENT (No such file or directory)
lstat64("-f", 0x8057898)                = -1 ENOENT (No such file or directory)
write(2, "ls: ", 4ls: )                 = 4
write(2, "-f", 2-f)                     = 2

bash:
_sysctl({{CTL_KERN, KERN_VERSION}, 2, 0xbffff9ac, 30, (nil), 0}) = 0
brk(0)                                  = 0x805774c
brk(0x807874c)                          = 0x807874c
brk(0)                                  = 0x807874c
brk(0x8079000)                          = 0x8079000
ioctl(1, SNDCTL_TMR_TIMEBASE, {B38400 opost isig icanon echo ...}) = 0
ioctl(1, 0x5413, {ws_row=48, ws_col=126, ws_xpixel=1022, ws_ypixel=766}) = 0
stat64("/tmp", {st_mode=S_IFDIR|S_ISVTX|0777, st_size=4096, ...}) = 0
open("/dev/null", O_RDONLY|O_NONBLOCK|O_DIRECTORY) = -1 ENOTDIR (Not a directory)
open("/tmp", O_RDONLY|O_NONBLOCK|O_LARGEFILE|O_DIRECTORY) = 3

Bart Schaefer said:
> On Nov 19,  6:15pm, Eric Smith wrote:
> } 
> } What might be causing this error in zsh.
> 
> I suspect you have an alias, or function wrapper, for 'ls'.  Works for me
> with 'zsh -f'.

-- 
Eric Smith

