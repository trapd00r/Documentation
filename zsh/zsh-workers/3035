From zsh-workers-request@euclid.skiles.gatech.edu Wed Mar 26 17:52:11 1997
Return-Path: <zsh-workers-request@euclid.skiles.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 20338 invoked from network); 26 Mar 1997 17:52:10 -0000
Received: from euclid.skiles.gatech.edu (list@130.207.146.50)
  by coral.primenet.com.au with SMTP; 26 Mar 1997 17:52:10 -0000
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id MAA17740; Wed, 26 Mar 1997 12:43:54 -0500 (EST)
Resent-Date: Wed, 26 Mar 1997 12:43:54 -0500 (EST)
Date: Wed, 26 Mar 1997 17:46:31 GMT
From: Zefram <zefram@dcs.warwick.ac.uk>
Message-Id: <11741.199703261746@stone.dcs.warwick.ac.uk>
Subject: local parameters
Resent-Message-ID: <"PAPHv2.0.5L4.P1MEp"@euclid>
To: zsh-workers@math.gatech.edu
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3035
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

function foo {
  integer argv=1
}

drops core.  So do nested calls to user-defined widgets, if you have
the ZLE parameter patch (3014) applied.  This all appears to be related
to some code in createparam() and bin_typeset() that dislikes creating
parameters with the same name as existing special parameters.  I'd like
to rewrite that code to work correctly, but first can someone tell me
why the code currently treats that case specially?  What does POSIX say
about hiding special parameters?

-zefram

