From zsh-users-return-2345-mason-zsh=primenet.com.au@sunsite.auc.dk Wed May 26 21:40:50 1999
Return-Path: <zsh-users-return-2345-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 6878 invoked from network); 26 May 1999 21:40:49 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 26 May 1999 21:40:49 -0000
Received: (qmail 6714 invoked by alias); 26 May 1999 21:40:30 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 2345
Received: (qmail 6706 invoked from network); 26 May 1999 21:40:29 -0000
Date: Wed, 26 May 1999 17:40:44 -0400
From: Sweth Chandramouli <sweth@astaroth.nit.gwu.edu>
To: zsh-users@sunsite.auc.dk
Subject: Re: variable containing the current command
Message-ID: <19990526174044.A7264@astaroth.nit.gwu.edu>
Mail-Followup-To: zsh-users@sunsite.auc.dk
References: <19990526202314Z13566-3056+232@scapa.cs.ualberta.ca>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 0.95i
In-Reply-To: <19990526202314Z13566-3056+232@scapa.cs.ualberta.ca>

On Wed, May 26, 1999 at 02:23:10PM -0600, benjamin@cs.ualberta.ca wrote:
> Is there a zsh environment variable that contains the current command
> so that it can be referenced in preexec() or precmd() (or ideally both)?
> 
> e.g.
> 
> precmd() { echo "Just did:$CURRENT_CMD" }
> preexec() { echo "Ready to do:$CURRENT_CMD" }
> 
> localhost[1]% ls
> Ready to do:ls
> foo		bar		snafu		tarfu
> Just did:ls
> localhost[2]%
	$_ is almost what you are looking for; it is supposed to be set for
any command to the full name of that command.  if you use it as you use 
CURRENT_CMD above, however, you get something like this:

(astaroth/1)~: precmd() { echo "Just did:$_" }
Just did:precmd
(astaroth/2)~: preexec() { echo "Ready to do:$_" }
Just did:preexec
(astaroth/3)~: ls
Ready to do:preexec
appconfig    Mail         News         public_html  working
bin          mail         news         src          www
docs         misc         nohup.out    tmp
Just did:ls
(astaroth/4)~: 

	i could never figure out why it acts that way, though, so i've
never really used it.

	-- sweth.

-- 
Sweth Chandramouli
IS Coordinator, The George Washington University
<sweth@gwu.edu> / (202) 994 - 8521 (V) / (202) 994 - 0458 (F)
<a href="http://astaroth.nit.gwu.edu/~sweth/disc.html">*</a>

