From zsh-workers-return-12986-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Oct 12 12:53:10 2000
Return-Path: <zsh-workers-return-12986-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1479 invoked from network); 12 Oct 2000 12:53:08 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 12 Oct 2000 12:53:08 -0000
Received: (qmail 14649 invoked by alias); 12 Oct 2000 12:52:29 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 12986
Received: (qmail 14640 invoked from network); 12 Oct 2000 12:52:25 -0000
Date: Thu, 12 Oct 2000 14:52:23 +0200 (MET DST)
Message-Id: <200010121252.OAA30514@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: "Bart Schaefer"'s message of Thu, 12 Oct 2000 12:19:33 +0000
Subject: Re: PATCH: Re: tag-order func()


Bart Schaefer wrote:

> On Oct 12, 10:22am, Sven Wischnowsky wrote:
> }
> } Bart Schaefer wrote:
> } 
> } > There's also the issue that I raised in zsh-users/3421 about how very
> } > difficult it is to return a glob pattern via the `reply' array from
> } > a style defined with zstyle -e.
> } 
> } Any option setting that caused your problems?
> 
> Try using 'zstyle -e' to put glob patterns in $reply in a context where
> they will actually later be used as glob patterns, such as in the
> file-patterns style.  The problem isn't that zstyle -e can't return
> them, but that it returns them incorrectly metafied (I think).

I tried:

  zstyle -e ':completion:*:*:foo:*' file-patterns \
      'reply=( "*.h:header:header" )'

and (from that old message, only slightly changed):

  zstyle -e ':completion:*:*:foo:*' file-patterns \
      '[[ $PREFIX == /usr/[^/]# ]] && reply=( "*(@)" )'

And it both works without problems for me.

Bye
 Sven


--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

