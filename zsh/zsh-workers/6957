From zsh-workers-return-6957-mason-zsh=primenet.com.au@sunsite.auc.dk Sat Jul 03 12:32:37 1999
Return-Path: <zsh-workers-return-6957-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 15990 invoked from network); 3 Jul 1999 12:32:35 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 3 Jul 1999 12:32:35 -0000
Received: (qmail 5349 invoked by alias); 3 Jul 1999 12:32:26 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 6957
Received: (qmail 5342 invoked from network); 3 Jul 1999 12:32:25 -0000
Message-Id: <9907031203.AA30794@ibmth.df.unipi.it>
To: zsh-workers@sunsite.auc.dk (Zsh hackers list)
Subject: pws-25
Date: Sat, 03 Jul 1999 14:03:46 +0200
From: Peter Stephenson <pws@ibmth.df.unipi.it>

http://www.ifh.de/~pws/computing/
436877 bytes zsh-3.1.5-pws-25.doc.tar.gz
953697 bytes zsh-3.1.5-pws-25.tar.gz
764585 bytes zsh-3.1.5-pws-25.tar.bz2
306201 bytes zsh-3.1.5-pws-25.doc.tar.bz2
	     zsh-3.1.5-pws-25.tar.bz2.bin -> zsh-3.1.5-pws-25.tar.bz2
	     zsh-3.1.5-pws-25.doc.tar.bz2.bin -> zsh-3.1.5-pws-25.doc.tar.bz2

Please try out the job control and see if you can find anything that
doesn't work that should.  Things that should work (if I've been paying
attention) are:
- Shell should not crash, hang waiting for nonexistent process, produce
  messages about bad pgrps.
- Functions and other shell structures should all be suspendable with ^Z
  and restartable.  (N.B. this forces the shell to fork, so the job
  will not be continued in the current shell.)
- Sometimes ^C may fail to stop a while loop in the shell, but suspending
  and then killing the job should work even here.  The problem is external
  programmes inside the loop which handle their own signals and exit as
  if they hadn't received one.
(Workarounds for this still need documenting.)

I haven't heard from Sunsite Denmark about creating a CVS source archive
there, but I hope the next version to appear will in any case be
3.1.6-pre-1.

I'm wondering whether to restore the bindings of \ep and \en to
history-search-backward and -forward now that it works mostly like it used
to.  They're currently set to history-beginning-search-backward and
-forward.


1999-07-03  Peter Stephenson  <pws@ibmth.difi.unipi.it>

	* pws: 6955, 6956: Completion/Core/compinit,
	  Completion/Core/compinstall, Doc/Zsh/compsys.yo: better handling
	  of subdirectory structure for completion functions; -d is default
	  for compinit, -D turns it off; documentation updated for installed
	  files; bugfix for compinstall re-using compconf arguments.

1999-07-02  Peter Stephenson  <pws@ibmth.difi.unipi.it>

	* Tanaka Akira: 6953: Completion/Builtins/_cd: use pushd code for cd

	* Sven: 6945: Completion/Core/_expand: error expanding :]

	* Sven: 6941: Src/exec.c, Src/jobs.c: neater fix for time builtin.

	* Oliver: 6939: Completion/User/_hosts,
	  Completion/Base/_subscript, Misc/compctl-examples: better way of
	  using /etc/hosts; complete POSIX character classes.
	
	* Sven: 6937: Doc/Zsh/mod_complist.yo, Src/Zle/complist.c: use
	  send-break to exit menu selection and return to normal menu
	  completion.

1999-07-01  Peter Stephenson  <pws@ibmth.difi.unipi.it>

	* Sven: 6936: Src/jobs.c: time builtin was broken.

	* Sven: 6933: Src/exec.c, Src/jobs.c, Src/Signals.c:  More job
	  control fixes:  running external command after loop in function;
	  function on left hand side of pipeline with loop on right.

1999-06-29  Peter Stephenson  <pws@ibmth.difi.unipi.it>

	* Sven: 6908, 6926: Src/exec.c, Src/jobs.c, Src/zsh.h: more job
	  control fixes:  functions with programs that send strange
	  signals to parents should work.

	* Sven: 6904: Src/Makefile.in: bugs with cleaning up modules
	  in Src.

	* Sven: 6903: Src/Zle/zle_tricky.c, Doc/Zsh/compwid.yo:
	  compstate[insert] can have a space at the end to force inserting
	  a space after completion.

	* Sven: 6902: Src/Zle/complist.c, Doc/Zsh/mod_complist.yo:
	  menu-select will use %S/%s if ZLS_COLO[U]RS is not defined.

	* Sven: 6901: Src/exec.c, Src/init.c, Src/jobs.c:  back off
	  some (but not all) recent job handling patches to avoid more
	  serious problems with recalcitrant programs.

1999-06-28  Peter Stephenson  <pws@ibmth.difi.unipi.it>

	* pws: 6899: Doc/Zsh/params.yo, Doc/Zsh/prompt.yo, Src/init.c:
	  default PS4 is now "+%N:%i> ", except in [k]sh emulation.

	* Andrej: 6893: aczsh.m4: use existing environment value when
	  testing for large file support.

	* pws: 6890: Doc/Zsh/params.yo, Doc/Zsh/prompt.yo, Src/prompt.c:
	  %N and %i prompt escapes provide script or function name and
	  line number.

	* Sven: 6887: Src/exec.c, Src/jobs.c: another loop killing problem.

	* Geoff: 6884: Src/Zle/zle_refresh.c: bug when redisplaying line
	  one shorter than terminal width

1999-06-27  Peter Stephenson  <pws@ibmth.difi.unipi.it>

        * pws: 6881: Doc/Zsh/mod_zle.yo: explain keymap linking

	* pws: 6879: Src/exec.c: update command hash pointer if builtin
	  is autoloaded after a prefork().

	* Bart: 6873: Src/Zle/zle_tricky.c: magic-space doesn't feep
	  quite so much.

	* Geoff: 6871: Src/Zle/complist.c: optimi[sz]ations for outputing
	  coloured/colorized output.

	* pws: 6866: Src/exec.c, Src/init.c: signed/unsigned character
	  problems; one was causing SunOS 4.1.3_U1 with gcc 2.7.0 to hang.

1999-06-26  Peter Stephenson  <pws@ibmth.difi.unipi.it>

	* 3.1.5-pws-24 made available

-- 
Peter Stephenson <pws@ibmth.df.unipi.it>       Tel: +39 050 844536
WWW:  http://www.ifh.de/~pws/
Dipartimento di Fisica, Via Buonarroti 2, 56127 Pisa, Italy

