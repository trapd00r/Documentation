From zsh-workers-return-23265-mason-zsh=primenet.com.au@sunsite.dk Fri Apr 06 00:04:14 2007
Return-Path: <zsh-workers-return-23265-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 29217 invoked from network); 6 Apr 2007 00:04:11 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.8 (2007-02-13) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=BAYES_00,FORGED_RCVD_HELO
	autolearn=ham version=3.1.8
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 6 Apr 2007 00:04:11 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 61151 invoked from network); 6 Apr 2007 00:04:05 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 6 Apr 2007 00:04:05 -0000
Received: (qmail 5756 invoked by alias); 6 Apr 2007 00:04:03 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 23265
Received: (qmail 5741 invoked from network); 6 Apr 2007 00:04:01 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 6 Apr 2007 00:04:01 -0000
Received: (qmail 60798 invoked from network); 6 Apr 2007 00:04:01 -0000
Received: from vinc17.pck.nerim.net (HELO prunille.vinc17.org) (213.41.242.187)
  by a.mx.sunsite.dk with SMTP; 6 Apr 2007 00:03:55 -0000
Received: by prunille.vinc17.org (Postfix, from userid 501)
	id EA35D1352E18; Fri,  6 Apr 2007 02:03:54 +0200 (CEST)
Date: Fri, 6 Apr 2007 02:03:54 +0200
From: Vincent Lefevre <vincent@vinc17.org>
To: zsh-workers@sunsite.dk
Subject: Re: Multibyte Input On OS X Again...
Message-ID: <20070406000354.GQ932@prunille.vinc17.org>
Mail-Followup-To: zsh-workers@sunsite.dk
References: <35E8A1D8-D000-4AB0-9421-083E40E25E52@mac.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
In-Reply-To: <35E8A1D8-D000-4AB0-9421-083E40E25E52@mac.com>
X-Mailer-Info: http://www.vinc17.org/mutt/
User-Agent: Mutt/1.5.14-vl-r16803 (2007-04-03)

On 2007-04-05 08:14:25 -0500, Jordan Breeding wrote:
>  I have emailed the list before about the problems I have with multibyte 
>  input using zsh on OS X.  I still can't get it to work, I think that it has 
>  to do with composited versus non-composited characters possibly, when I have 
>  to composite a character (hit one key then another) to get a specific 
>  character but that character is a single character on the command line 
>  things go badly.  In bash with readline everything works fine.  I made a 
>  movie of the problem in zsh and then showing bash doing just fine.  

But note that there are other cases where zsh does fine while bash
doesn't behave correctly, e.g.

  http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=397086

zsh (after an "unsetopt PROMPT_CR") does fine. This case concerns the
output of a combining character, but I think that the input and output
are related. So, please, don't add a bug here when fixing the problem. :)

Another problem specific to bash:

vinc17@prunille:~/blah$ mkdir é
vinc17@prunille:~/blah$ echo [TAB]

gives:

vinc17@prunille:~/blah$ echo é/

If you type the right arrow several times, the cursor moves backward
and forward alternatively.

-- 
Vincent Lefèvre <vincent@vinc17.org> - Web: <http://www.vinc17.org/>
100% accessible validated (X)HTML - Blog: <http://www.vinc17.org/blog/>
Work: CR INRIA - computer arithmetic / Arenaire project (LIP, ENS-Lyon)

