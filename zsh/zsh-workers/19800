From zsh-workers-return-19800-mason-zsh=primenet.com.au@sunsite.dk Tue Apr 20 10:10:08 2004
Return-Path: <zsh-workers-return-19800-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8844 invoked from network); 20 Apr 2004 10:10:07 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 20 Apr 2004 10:10:07 -0000
Received: (qmail 15558 invoked by alias); 20 Apr 2004 10:10:00 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 19800
Received: (qmail 15522 invoked from network); 20 Apr 2004 10:09:59 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 20 Apr 2004 10:09:59 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [130.225.247.86] by sunsite.dk (MessageWall 1.0.8) with SMTP; 20 Apr 2004 10:9:59 -0000
Received: (qmail 12395 invoked from network); 20 Apr 2004 10:09:59 -0000
Received: from mail36.messagelabs.com (193.109.254.211)
  by a.mx.sunsite.dk with SMTP; 20 Apr 2004 10:09:51 -0000
X-VirusChecked: Checked
X-Env-Sender: okiddle@yahoo.co.uk
X-Msg-Ref: server-22.tower-36.messagelabs.com!1082455763!5575947
X-StarScan-Version: 5.2.10; banners=-,-,-
X-Originating-IP: [158.234.9.163]
Received: (qmail 6243 invoked from network); 20 Apr 2004 10:09:23 -0000
Received: from iris.logica.co.uk (158.234.9.163)
  by server-22.tower-36.messagelabs.com with SMTP; 20 Apr 2004 10:09:23 -0000
Received: from trentino.logica.co.uk ([158.234.142.61])
	by iris.logica.co.uk (8.12.3/8.12.3/Debian -4) with ESMTP id i3KA9NMO018029
	for <zsh-workers@sunsite.dk>; Tue, 20 Apr 2004 11:09:23 +0100
Received: from trentino.logica.co.uk (localhost [127.0.0.1])
	by trentino.logica.co.uk (Postfix) with ESMTP id 8E7F7791B8FA
	for <zsh-workers@sunsite.dk>; Tue, 20 Apr 2004 12:08:38 +0200 (CEST)
X-VirusChecked: Checked
X-StarScan-Version: 5.0.7; banners=.,-,-
In-reply-to: <1040420041156.ZM12019@candle.brasslantern.com> 
From: Oliver Kiddle <okiddle@yahoo.co.uk>
References: <1040410174430.ZM10891@candle.brasslantern.com> <1170.1081778412@athlon> <040412085942.ZM19035@candle.brasslantern.com> <3571.1081806187@athlon> <1040413053826.ZM20012@candle.brasslantern.com> <18035.1081870188@trentino.logica.co.uk> <1040413175111.ZM21011@candle.brasslantern.com> <13987.1082134179@trentino.logica.co.uk> <1040416173016.ZM1145@candle.brasslantern.com> <11049.1082231519@athlon> <1040419001434.ZM9151@candle.brasslantern.com> <4175.1082369917@trentino.logica.co.uk> <1040420041156.ZM12019@candle.brasslantern.com>
To: zsh-workers@sunsite.dk
Subject: Re: PATCH: Re: Compsys and KSH_AUTOLOAD 
Date: Tue, 20 Apr 2004 12:08:38 +0200
Message-ID: <12041.1082455718@trentino.logica.co.uk>
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, hits=0.0 required=6.0 tests=none autolearn=no version=2.63
X-Spam-Hits: 0.0

Bart wrote:
> 
> } So I really don't see much harm in adding -m to declare's options.
> } Or do you disagree?
> 
> No, I don't see any harm.  I think that means you should reverse the
> sense of the test rather than remove the test, though.

Okay, this patch reverses the sense of the test.

Index: Test/B02typeset.ztst
===================================================================
RCS file: /cvsroot/zsh/zsh/Test/B02typeset.ztst,v
retrieving revision 1.5
diff -u -r1.5 B02typeset.ztst
--- Test/B02typeset.ztst	25 Sep 2003 09:50:25 -0000	1.5
+++ Test/B02typeset.ztst	20 Apr 2004 09:57:03 -0000
@@ -3,7 +3,7 @@
 # everything that follows is processed by an "eval" within a function.
 
 # Equivalences:
-#  declare	typeset			but declare does not accept -m
+#  declare	typeset
 #  export	typeset -x		and typeset -x implies -g
 #  float	typeset -E
 #  functions	typeset -f
@@ -100,9 +100,9 @@
 >local l o c a l
 >scalar a r r a y
 
- declare +m
-1:Differences of declare and typeset
-?(eval):1: bad option: -m
+ declare +m scalar
+0:declare previously lacked -m/+m options
+>scalar
 
  scope10
  print $outer

