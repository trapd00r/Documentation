From zsh-workers-return-26875-mason-zsh=primenet.com.au@sunsite.dk Thu Apr 23 09:36:18 2009
Return-Path: <zsh-workers-return-26875-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 6074 invoked from network); 23 Apr 2009 09:36:15 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.4 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 23 Apr 2009 09:36:15 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 91595 invoked from network); 23 Apr 2009 09:36:07 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 23 Apr 2009 09:36:07 -0000
Received: (qmail 2358 invoked by alias); 23 Apr 2009 09:36:01 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 26875
Received: (qmail 2341 invoked from network); 23 Apr 2009 09:36:00 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 23 Apr 2009 09:36:00 -0000
Received: from cluster-d.mailcontrol.com (cluster-d.mailcontrol.com [85.115.60.190])
	by bifrost.dotsrc.org (Postfix) with ESMTPS id CD5908028C72
	for <zsh-workers@sunsite.dk>; Thu, 23 Apr 2009 11:34:43 +0200 (CEST)
Received: from cameurexb01.EUROPE.ROOT.PRI ([193.128.72.68])
	by rly51d.srv.mailcontrol.com (MailControl) with ESMTP id n3N9Zm8i010879
	for <zsh-workers@sunsite.dk>; Thu, 23 Apr 2009 10:35:55 +0100
Received: from news01.csr.com ([10.99.50.25]) by cameurexb01.EUROPE.ROOT.PRI with Microsoft SMTPSVC(6.0.3790.3959);
	 Thu, 23 Apr 2009 10:31:51 +0100
Received: from news01.csr.com (localhost.localdomain [127.0.0.1])
	by news01.csr.com (8.14.2/8.13.4) with ESMTP id n3N9Vo61013049
	for <zsh-workers@sunsite.dk>; Thu, 23 Apr 2009 10:31:51 +0100
Received: from csr.com (pws@localhost)
	by news01.csr.com (8.14.2/8.14.2/Submit) with ESMTP id n3N9Vojk013045
	for <zsh-workers@sunsite.dk>; Thu, 23 Apr 2009 10:31:50 +0100
Message-Id: <200904230931.n3N9Vojk013045@news01.csr.com>
X-Authentication-Warning: news01.csr.com: pws owned process doing -bs
To: zsh-workers@sunsite.dk
Subject: Re: Space after completion disappears
In-reply-to: <m3ocuobor5.fsf@klanderman.net>
References: <223408.70138.qm@web37302.mail.mud.yahoo.com> <090421000342.ZM5707@torch.brasslantern.com> <850582.49667.qm@web37305.mail.mud.yahoo.com> <20090422170420.6c5e5d36@news01> <m3ocuobor5.fsf@klanderman.net>
Comments: In-reply-to Greg Klanderman <gak@klanderman.net>
   message dated "Wed, 22 Apr 2009 13:07:58 -0400."
Date: Thu, 23 Apr 2009 10:31:50 +0100
From: Peter Stephenson <pws@csr.com>
X-OriginalArrivalTime: 23 Apr 2009 09:31:51.0511 (UTC) FILETIME=[552C5670:01C9C3F6]
X-Scanned-By: MailControl A_08_51_00 (www.mailcontrol.com) on 10.68.0.161
X-Virus-Scanned: ClamAV 0.92.1/9277/Thu Apr 23 08:58:24 2009 on bifrost
X-Virus-Status: Clean

Greg Klanderman wrote:
> 
> >>>>> Peter Stephenson <pws@csr.com> writes:
> 
> > It's entirely cosmetic, but if you really feel the need to change it it's
> > easy to make it configurable.
> 
> Hmm, your change does what he wants if the suffix is a space, but for
> example if the suffix is a '/' I'm not sure.  I suspect he really
> just wants the suffix to always be removed, but have a space inserted
> first if the character about to be inserted is non-whitespace.

I see what you mean---if you end up with "Modules/" and type "&", then
(with & removed from the remove-suffix list) you get "Modules/&" instead
of "Modules&" but you really want "Modules &".  However, that's a new
feature.  I think it would be doable (and probably not difficult) by
adding an additional variable (which would take precedence so you didn't
have to remove the character from the old mechanism) and a new SUFTYP
and changing makesuffix() and iremovesuffix(), but it's beyond the
capability of simple local tweaks.

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR PLC, Churchill House, Cambridge Business Park, Cowley Road
Cambridge, CB4 0WZ, UK                          Tel: +44 (0)1223 692070

