<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
  <meta name="generator" content=
  "HTML Tidy for Linux (vers 25 March 2009), see www.w3.org">
  <meta http-equiv="Content-Type" content=
  "text/html; charset=utf-8">

  <title>Волшебство Git - Глава 7. Гроссмейстерство Git</title>
  <link rel="stylesheet" href="default.css" type="text/css">
  <meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
  <link rel="home" href="index.html" title="Волшебство Git">
  <link rel="up" href="index.html" title="Волшебство Git">
  <link rel="prev" href="ch06.html" title=
  "Глава 6. Многопользовательский Git">
  <link rel="next" href="ch08.html" title=
  "Глава 8. Раскрываем тайны">
</head>

<body bgcolor="white" text="black" link="#0000FF" vlink="#840084"
alink="#0000FF">
    <div class="toc">
      <ul>
<li><b>Волшебство Git</b></li>
        <li><span class="preface"><a href="index.html">От редактора
        перевода</a></span></li>

        <li>
          <span class="preface"><a href=
          "pr02.html">Предисловие</a></span>

          <ul>
            <li><span class="section"><a href=
            "pr02.html#_%D0%B1%D0%BB%D0%B0%D0%B3%D0%BE%D0%B4%D0%B0%D1%80%D0%BD%D0%BE%D1%81%D1%82%D0%B8">
            Благодарности</a></span></li>

            <li><span class="section"><a href=
            "pr02.html#_%D0%BB%D0%B8%D1%86%D0%B5%D0%BD%D0%B7%D0%B8%D1%8F">
            Лицензия</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch01.html">1.
          Введение</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch01.html#_%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0_%D1%8D%D1%82%D0%BE_%D0%B8%D0%B3%D1%80%D0%B0">
            Работа - это игра</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B2%D0%B5%D1%80%D1%81%D0%B8%D1%8F%D0%BC%D0%B8">
            Управление версиями</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_%D1%80%D0%B0%D1%81%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%BD%D0%BE%D0%B5_%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5">
            Распределенное управление</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_%D0%B3%D0%BB%D1%83%D0%BF%D1%8B%D0%B5_%D0%BF%D1%80%D0%B5%D0%B4%D1%80%D0%B0%D1%81%D1%81%D1%83%D0%B4%D0%BA%D0%B8">
            Глупые предрассудки</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_%D0%BA%D0%BE%D0%BD%D1%84%D0%BB%D0%B8%D0%BA%D1%82%D1%8B_%D0%BF%D1%80%D0%B8_%D1%81%D0%BB%D0%B8%D1%8F%D0%BD%D0%B8%D0%B8">
            Конфликты при слиянии</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch02.html">2. Базовые
          операции</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch02.html#_%D1%81%D0%BE%D1%85%D1%80%D0%B0%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5_%D1%81%D0%BE%D1%81%D1%82%D0%BE%D1%8F%D0%BD%D0%B8%D1%8F">
            Сохранение состояния</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_%D0%B4%D0%BE%D0%B1%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D1%83%D0%B4%D0%B0%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D0%B5%D1%80%D0%B5%D0%B8%D0%BC%D0%B5%D0%BD%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5">
            Добавление, удаление, переименование</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_%D1%80%D0%B0%D1%81%D1%88%D0%B8%D1%80%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5_%D0%BE%D1%82%D0%BC%D0%B5%D0%BD%D0%B0_%D0%B2%D0%BE%D0%B7%D0%B2%D1%80%D0%B0%D1%82">
            Расширенные отмена/возврат</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_%D0%BE%D1%82%D0%BA%D0%B0%D1%82%D1%8B">Откаты</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5_%D1%81%D0%BF%D0%B8%D1%81%D0%BA%D0%B0_%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B9">
            Создание списка изменений</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_%D1%81%D0%BA%D0%B0%D1%87%D0%B8%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2">
            Скачивание файлов</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_%D0%B4%D0%B5%D1%80%D0%B6%D0%B0_%D1%80%D1%83%D0%BA%D1%83_%D0%BD%D0%B0_%D0%BF%D1%83%D0%BB%D1%8C%D1%81%D0%B5">
            Держа руку на пульсе</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_%D0%B1%D0%B5%D0%B7%D0%BE%D1%82%D0%BB%D0%B0%D0%B3%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F_%D0%BF%D1%83%D0%B1%D0%BB%D0%B8%D0%BA%D0%B0%D1%86%D0%B8%D1%8F">
            Безотлагательная публикация</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_%D1%87%D1%82%D0%BE_%D1%8F_%D1%81%D0%B4%D0%B5%D0%BB%D0%B0%D0%BB">
            Что я сделал?</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_%D1%83%D0%BF%D1%80%D0%B0%D0%B6%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5">
            Упражнение</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch03.html">3. Все о
          клонировании</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch03.html#_%D1%81%D0%B8%D0%BD%D1%85%D1%80%D0%BE%D0%BD%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F_%D0%BA%D0%BE%D0%BC%D0%BF%D1%8C%D1%8E%D1%82%D0%B5%D1%80%D0%BE%D0%B2">
            Синхронизация компьютеров</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_%D0%BA%D0%BB%D0%B0%D1%81%D1%81%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5_%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B8%D1%81%D1%85%D0%BE%D0%B4%D0%BD%D1%8B%D0%BC_%D0%BA%D0%BE%D0%B4%D0%BE%D0%BC">
            Классическое управление исходным кодом</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_%D0%B3%D0%BE%D0%BB%D1%8B%D0%B5_bare_%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B0">
            Голые (bare) хранилища</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_push_%D0%B8%D0%BB%D0%B8_pull">Push или
            pull?</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5_%D1%84%D0%BE%D1%80%D0%BA%D0%B0_%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B0">
            Создание форка проекта</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_%D0%BC%D0%B0%D0%BA%D1%81%D0%B8%D0%BC%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5_%D0%B1%D1%8D%D0%BA%D0%B0%D0%BF%D1%8B">
            Максимальные бэкапы</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_%D0%BC%D0%BD%D0%BE%D0%B3%D0%BE%D0%B7%D0%B0%D0%B4%D0%B0%D1%87%D0%BD%D0%BE%D1%81%D1%82%D1%8C_%D1%81%D0%BE_%D1%81%D0%BA%D0%BE%D1%80%D0%BE%D1%81%D1%82%D1%8C%D1%8E_%D1%81%D0%B2%D0%B5%D1%82%D0%B0">
            Многозадачность со скоростью света</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_%D0%BF%D0%B0%D1%80%D1%82%D0%B8%D0%B7%D0%B0%D0%BD%D1%81%D0%BA%D0%BE%D0%B5_%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B2%D0%B5%D1%80%D1%81%D0%B8%D1%8F%D0%BC%D0%B8">
            Партизанское управление версиями</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_mercurial">Mercurial</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_bazaar">Bazaar</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_%D0%BF%D0%BE%D1%87%D0%B5%D0%BC%D1%83_%D1%8F_%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D1%83%D1%8E_git">
            Почему я использую Git</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch04.html">4. Чудеса
          ветвления</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch04.html#_%D0%BA%D0%BD%D0%BE%D0%BF%D0%BA%D0%B0_%D0%B1%D0%BE%D1%81%D1%81%D0%B0">
            Кнопка босса</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_%D0%B3%D1%80%D1%8F%D0%B7%D0%BD%D0%B0%D1%8F_%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0">
            Грязная работа</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_%D0%B1%D1%8B%D1%81%D1%82%D1%80%D1%8B%D0%B5_%D0%B8%D1%81%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F">
            Быстрые исправления</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_%D1%81%D0%BB%D0%B8%D1%8F%D0%BD%D0%B8%D1%8F">
            Слияния</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_%D0%BD%D0%B5%D0%BF%D1%80%D0%B5%D1%80%D1%8B%D0%B2%D0%BD%D1%8B%D0%B9_%D1%80%D0%B0%D0%B1%D0%BE%D1%87%D0%B8%D0%B9_%D0%BF%D1%80%D0%BE%D1%86%D0%B5%D1%81%D1%81">
            Непрерывный рабочий процесс</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D1%8F%D0%B5%D0%BC_%D1%81%D0%BE%D1%81%D1%82%D0%B0%D0%B2_%D1%81%D0%BC%D0%B5%D1%81%D0%B8">
            Изменяем состав смеси</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B2%D0%B5%D1%82%D0%BA%D0%B0%D0%BC%D0%B8">
            Управление Ветками</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_%D0%B2%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5_%D0%B2%D0%B5%D1%82%D0%BA%D0%B8">
            Временные Ветки</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D0%B9%D1%82%D0%B5_%D0%BA%D0%B0%D0%BA_%D0%B2%D0%B0%D0%BC_%D0%BD%D1%80%D0%B0%D0%B2%D0%B8%D1%82%D1%81%D1%8F">
            Работайте как вам нравится</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch05.html">5. Уроки
          истории</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch05.html#_%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D0%B0%D1%8F%D1%81%D1%8C_%D0%BA%D0%BE%D1%80%D1%80%D0%B5%D0%BA%D1%82%D0%BD%D1%8B%D0%BC">
            Оставаясь корректным</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_%D0%B8_%D0%BA%D0%BE%D0%B5_%D1%87%D1%82%D0%BE_%D0%B5%D1%89%D0%B5">
            …И кое-что еще</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5_%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D1%8F_%D1%81%D0%BE%D1%85%D1%80%D0%B0%D0%BD%D1%8F%D1%8E%D1%82%D1%81%D1%8F">
            Локальные изменения сохраняются</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_%D0%BF%D0%B5%D1%80%D0%B5%D0%BF%D0%B8%D1%81%D1%8B%D0%B2%D0%B0%D1%8F_%D0%B8%D1%81%D1%82%D0%BE%D1%80%D0%B8%D1%8E">
            Переписывая историю</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D0%B2%D0%B0%D1%8F_%D0%B8%D1%81%D1%82%D0%BE%D1%80%D0%B8%D1%8E">
            Создавая Историю</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_%D0%BA%D0%BE%D0%B3%D0%B4%D0%B0_%D0%B6%D0%B5_%D0%B2%D1%81%D0%B5_%D0%BF%D0%BE%D1%88%D0%BB%D0%BE_%D0%BD%D0%B5_%D1%82%D0%B0%D0%BA">
            Когда же все пошло не так?</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_%D0%B8%D0%B7_%D0%B7%D0%B0_%D0%BA%D0%BE%D0%B3%D0%BE_%D0%B2%D1%81%D0%B5_%D0%BF%D0%BE%D1%88%D0%BB%D0%BE_%D0%BD%D0%B5_%D1%82%D0%B0%D0%BA">
            Из-за кого все пошло не так?</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_%D0%BB%D0%B8%D1%87%D0%BD%D1%8B%D0%B9_%D0%BE%D0%BF%D1%8B%D1%82">
            Личный опыт</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch06.html">6.
          Многопользовательский Git</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch06.html#_%D0%BA%D1%82%D0%BE_%D1%8F">Кто
            я?</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_git_%D1%87%D0%B5%D1%80%D0%B5%D0%B7_ssh_http">
            Git через SSH, HTTP</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_git_%D1%87%D0%B5%D1%80%D0%B5%D0%B7_%D1%87%D1%82%D0%BE_%D1%83%D0%B3%D0%BE%D0%B4%D0%BD%D0%BE">
            Git через что угодно</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_%D0%BF%D0%B0%D1%82%D1%87%D0%B8_%D0%BE%D0%B1%D1%89%D0%B5%D0%B5_%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5">
            Патчи: общее применение</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_%D0%BF%D1%80%D0%B8%D0%BD%D0%BE%D1%81%D0%B8%D0%BC_%D0%B8%D0%B7%D0%B2%D0%B8%D0%BD%D0%B5%D0%BD%D0%B8%D1%8F_%D0%BC%D1%8B_%D0%BF%D0%B5%D1%80%D0%B5%D0%B5%D1%85%D0%B0%D0%BB%D0%B8">
            Приносим извинения, мы переехали</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_%D1%83%D0%B4%D0%B0%D0%BB%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5_%D0%B2%D0%B5%D1%82%D0%BA%D0%B8">
            Удаленные ветки</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_%D0%BD%D0%B5%D1%81%D0%BA%D0%BE%D0%BB%D1%8C%D0%BA%D0%BE_%D1%83%D0%B4%D0%B0%D0%BB%D0%B5%D0%BD%D0%BD%D1%8B%D1%85_%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89">
            Несколько удаленных хранилищ</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_%D0%BC%D0%BE%D0%B8_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8">
            Мои Настройки</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch07.html">7.
          Гроссмейстерство Git</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch07.html#_%D1%80%D0%B5%D0%BB%D0%B8%D0%B7%D1%8B_%D0%B8%D1%81%D1%85%D0%BE%D0%B4%D0%BD%D0%B8%D0%BA%D0%BE%D0%B2">
            Релизы исходников</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_%D0%BA%D0%BE%D0%BC%D0%BC%D0%B8%D1%82_%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B9">
            Коммит изменений</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_%D0%BC%D0%BE%D0%B9_%D0%BA%D0%BE%D0%BC%D0%BC%D0%B8%D1%82_%D1%81%D0%BB%D0%B8%D1%88%D0%BA%D0%BE%D0%BC_%D0%B2%D0%B5%D0%BB%D0%B8%D0%BA">
            Мой коммит слишком велик</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_%D0%B8%D0%BD%D0%B4%D0%B5%D0%BA%D1%81_%D0%B1%D1%83%D1%84%D0%B5%D1%80%D0%BD%D0%B0%D1%8F_%D0%B7%D0%BE%D0%BD%D0%B0_git">
            Индекс — буферная зона Git</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_%D0%BD%D0%B5_%D1%82%D0%B5%D1%80%D1%8F%D0%B9_%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D1%8B">
            Не теряй «головы»</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_%D0%BE%D1%85%D0%BE%D1%82%D0%B0_%D0%B7%D0%B0_%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%B0%D0%BC%D0%B8">
            Охота за «головами»</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_git_%D0%BA%D0%B0%D0%BA_%D0%BE%D1%81%D0%BD%D0%BE%D0%B2%D0%B0">
            Git как основа</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_%D1%80%D0%B8%D1%81%D0%BA%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D1%8B%D0%B5_%D1%82%D1%80%D1%8E%D0%BA%D0%B8">
            Рискованные трюки</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_%D0%BF%D1%80%D0%B5%D0%B4%D0%BE%D1%82%D0%B2%D1%80%D0%B0%D1%89%D0%B0%D0%B5%D0%BC_%D0%BF%D0%BB%D0%BE%D1%85%D0%B8%D0%B5_%D0%BA%D0%BE%D0%BC%D0%BC%D0%B8%D1%82%D1%8B">
            Предотвращаем плохие коммиты</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch08.html">8. Раскрываем
          тайны</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch08.html#_%D0%BD%D0%B5%D0%B2%D0%B8%D0%B4%D0%B8%D0%BC%D0%BE%D1%81%D1%82%D1%8C">
            Невидимость</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_%D1%86%D0%B5%D0%BB%D0%BE%D1%81%D1%82%D0%BD%D0%BE%D1%81%D1%82%D1%8C">
            Целостность</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_%D0%B8%D0%BD%D1%82%D0%B5%D0%BB%D0%BB%D0%B5%D0%BA%D1%82">
            Интеллект</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_%D0%B8%D0%BD%D0%B4%D0%B5%D0%BA%D1%81%D0%B0%D1%86%D0%B8%D1%8F">
            Индексация</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_%D0%BF%D1%80%D0%BE%D0%B8%D1%81%D1%85%D0%BE%D0%B6%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5_git">
            Происхождение Git</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_%D0%B1%D0%B0%D0%B7%D0%B0_%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85_%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%D0%BE%D0%B2">
            База данных объектов</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_%D0%B1%D0%BB%D0%BE%D0%B1%D1%8B">Блобы</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_%D0%B4%D0%B5%D1%80%D0%B5%D0%B2%D1%8C%D1%8F">
            Деревья</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_%D0%BA%D0%BE%D0%BC%D0%BC%D0%B8%D1%82%D1%8B">
            Коммиты</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_%D0%BD%D0%B5%D0%BE%D1%82%D0%BB%D0%B8%D1%87%D0%B8%D0%BC%D0%BE_%D0%BE%D1%82_%D0%B2%D0%BE%D0%BB%D1%88%D0%B5%D0%B1%D1%81%D1%82%D0%B2%D0%B0">
            Неотличимо от волшебства</a></span></li>
          </ul>
        </li>

        <li>
          <span class="appendix"><a href="apa.html">A. Недостатки
          Git</a></span>

          <ul>
            <li><span class="section"><a href=
            "apa.html#_%D1%81%D0%BB%D0%B0%D0%B1%D0%BE%D1%81%D1%82%D0%B8_sha1">
            Слабости SHA1</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_microsoft_windows">Microsoft
            Windows</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_%D0%BD%D0%B5%D1%81%D0%B2%D1%8F%D0%B7%D0%B0%D0%BD%D0%BD%D1%8B%D0%B5_%D1%84%D0%B0%D0%B9%D0%BB%D1%8B">
            Несвязанные файлы</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_%D0%BA%D1%82%D0%BE_%D0%B8_%D1%87%D1%82%D0%BE_%D1%80%D0%B5%D0%B4%D0%B0%D0%BA%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BB">
            Кто и что редактировал ?</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_%D0%B8%D1%81%D1%82%D0%BE%D1%80%D0%B8%D1%8F_%D1%84%D0%B0%D0%B9%D0%BB%D0%B0">
            История файла</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_%D0%BD%D0%B0%D1%87%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B5_%D0%BA%D0%BB%D0%BE%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5">
            Начальное Клонирование</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D1%87%D0%B8%D0%B2%D1%8B%D0%B5_%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D1%8B">
            Изменчивые Проекты</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_%D0%B3%D0%BB%D0%BE%D0%B1%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9_%D1%81%D1%87%D0%B5%D1%82%D1%87%D0%B8%D0%BA">
            Глобальный счетчик</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_%D0%BF%D1%83%D1%81%D1%82%D1%8B%D0%B5_%D0%BF%D0%BE%D0%B4%D0%BA%D0%B0%D1%82%D0%B0%D0%BB%D0%BE%D0%B3%D0%B8">
            Пустые подкаталоги</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_%D0%BF%D0%B5%D1%80%D0%B2%D0%BE%D0%BD%D0%B0%D1%87%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9_%D0%BA%D0%BE%D0%BC%D0%BC%D0%B8%D1%82">
            Первоначальный коммит</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_%D0%BF%D1%80%D0%B8%D1%87%D1%83%D0%B4%D1%8B_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D0%B0">
            Причуды интерфейса</a></span></li>
          </ul>
        </li>

        <li><span class="appendix"><a href="apb.html">B. Перевод
        этого руководства</a></span></li>
      </ul>
    </div>
<div class="content">
  <div class="chapter" title="Глава 7. Гроссмейстерство Git">
    <div class="titlepage">
      <div>
        <div>
          <h2 class="title"><a name=
          "_%D0%B3%D1%80%D0%BE%D1%81%D1%81%D0%BC%D0%B5%D0%B9%D1%81%D1%82%D0%B5%D1%80%D1%81%D1%82%D0%B2%D0%BE_git">
          </a>Глава 7. Гроссмейстерство Git</h2>
        </div>
      </div>
    </div>

    <p>Теперь вы уже должны уметь ориентироваться в страницах
    <span class="strong"><strong>git help</strong></span> и
    понимать почти всё. Однако точный выбор команды, необходимой
    для решения конкретной проблемы, может быть утомительным.
    Возможно, я сберегу вам немного времени: ниже приведены
    рецепты, пригодившиеся мне в прошлом.</p>

    <div class="section" title="Релизы исходников">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_%D1%80%D0%B5%D0%BB%D0%B8%D0%B7%D1%8B_%D0%B8%D1%81%D1%85%D0%BE%D0%B4%D0%BD%D0%B8%D0%BA%D0%BE%D0%B2">
            </a>Релизы исходников</h2>
          </div>
        </div>
      </div>

      <p>В моих проектах Git управляет в точности теми файлами,
      которые я собираюсь архивировать и пускать в релиз. Чтобы
      создать тарбол с исходниками, я выполняю:</p>
      <pre class="literallayout">
$ git archive --format=tar --prefix=proj-1.2.3/ HEAD
</pre>
    </div>

    <div class="section" title="Коммит изменений">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_%D0%BA%D0%BE%D0%BC%D0%BC%D0%B8%D1%82_%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B9">
            </a>Коммит изменений</h2>
          </div>
        </div>
      </div>

      <p>В некоторых проектах может быть трудоемко оповещать Git о
      каждом добавлении, удалении и переименовании файла. Вместо
      этого вы можете выполнить команды</p>
      <pre class="literallayout">
$ git add .
$ git add -u
</pre>

      <p>Git просмотрит файлы в текущем каталоге и сам позаботится
      о деталях. Вместо второй команды add, выполните <span class=
      "strong"><strong>git commit -a</strong></span>, если вы
      собираетесь сразу сделать коммит. Смотрите <span class=
      "strong"><strong>git help ignore</strong></span>, чтобы
      узнать как указать файлы, которые должны игнорироваться.</p>

      <p>Вы можете выполнить все это одним махом:</p>
      <pre class="literallayout">
$ git ls-files -d -m -o -z | xargs -0 git update-index --add --remove
</pre>

      <p>Опции <span class="strong"><strong>-z</strong></span> и
      <span class="strong"><strong>-0</strong></span> предотвращают
      неверную обработку файловых имен, содержащих специальные
      символы. Поскольку эта команда добавляет игнорируемые файлы,
      вы возможно захотите использовать опции -x или -X.</p>
    </div>

    <div class="section" title="Мой коммит слишком велик">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_%D0%BC%D0%BE%D0%B9_%D0%BA%D0%BE%D0%BC%D0%BC%D0%B8%D1%82_%D1%81%D0%BB%D0%B8%D1%88%D0%BA%D0%BE%D0%BC_%D0%B2%D0%B5%D0%BB%D0%B8%D0%BA">
            </a>Мой коммит слишком велик</h2>
          </div>
        </div>
      </div>

      <p>Вы пренебрегали коммитами слишком долго? Яростно писали
      код и вспомнили об управлении исходниками только сейчас?
      Внесли ряд несвязанных изменений, потому что это ваш
      стиль?</p>

      <p>Нет поводов для беспокойства. Выполните</p>
      <pre class="literallayout">
$ git add -p
</pre>

      <p>Для каждой сделанной вами правки Git покажет измененный
      участок кода и спросит, должно ли это изменение попасть в
      следующий коммит. Отвечайте «y» (да) или «n» (нет). У вас
      есть и другие варианты, например отложить выбор; введите «?»
      чтобы узнать больше.</p>

      <p>Когда закончите, выполните</p>
      <pre class="literallayout">
$ git commit
</pre>

      <p>для внесения именно тех правок, что вы выбрали
      («буферизованных» изменений). Убедитесь, что вы не указали
      опцию <span class="strong"><strong>-a</strong></span>, иначе
      Git закоммитит все правки.</p>

      <p>Что делать, если вы изменили множество файлов во многих
      местах? Проверка каждого отдельного изменения становится
      удручающей рутиной. В этом случае используйте <span class=
      "strong"><strong>git add -i</strong></span>. Ее интерфейс не
      так прост, но более гибок. В несколько нажатий кнопок можно
      добавить или убрать из буфера несколько файлов одновременно,
      либо просмотреть и выбрать изменения лишь в отдельных файлах.
      Как вариант, запустите <span class="strong"><strong>git
      commit --interactive</strong></span>, которая автоматически
      сделает коммит когда вы закончите.</p>
    </div>

    <div class="section" title="Индекс — буферная зона Git">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_%D0%B8%D0%BD%D0%B4%D0%B5%D0%BA%D1%81_%D0%B1%D1%83%D1%84%D0%B5%D1%80%D0%BD%D0%B0%D1%8F_%D0%B7%D0%BE%D0%BD%D0%B0_git">
            </a>Индекс — буферная зона Git</h2>
          </div>
        </div>
      </div>

      <p>До сих пор мы избегали знаменитого «индекса» Git, но
      теперь мы должны рассмотреть его, для пояснения
      вышесказанного. Индекс это временный буфер. Git редко
      перемещает данные непосредственно между вашим проектом и его
      историей. Вместо этого Git сначала записывает данные в
      индекс, а уж затем копирует их из индекса по месту
      назначения.</p>

      <p>Например, <span class="strong"><strong>commit
      -a</strong></span> на самом деле двухэтапный процесс. Сначала
      слепок текущего состояния каждого из отслеживаемых файлов
      помещается в индекс. Затем слепок, находящийся в индексе,
      записывается в историю. Коммит без опции <span class=
      "strong"><strong>-a</strong></span> выполняет только второй
      шаг, и имеет смысл только после выполнения команд, изменяющих
      индекс, таких как <span class="strong"><strong>git
      add</strong></span>.</p>

      <p>Обычно мы можем не обращать внимания на индекс и делать
      вид, что взаимодействуем напрямую с историей. Но в данном
      случае мы хотим более тонкого контроля, поэтому управляем
      индексом. Мы помещаем слепок некоторых (но не всех) наших
      изменений в индекс, после чего окончательно записываем этот
      аккуратно сформированный слепок.</p>
    </div>

    <div class="section" title="Не теряй «головы»">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_%D0%BD%D0%B5_%D1%82%D0%B5%D1%80%D1%8F%D0%B9_%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D1%8B">
            </a>Не теряй «головы»</h2>
          </div>
        </div>
      </div>

      <p>Тег HEAD (англ. «голова», прим. пер.) — как курсор,
      который обычно указывает на последний коммит, продвигаясь с
      каждым новым коммитом. Некоторые команды Git позволяют
      перемещать этот курсор. Например,</p>
      <pre class="literallayout">
$ git reset HEAD~3
</pre>

      <p>переместит HEAD на три коммита назад. Теперь все команды
      Git будут работать так, как будто вы не делали последних трех
      коммитов, хотя файлы останутся в текущем состоянии. В справке
      описано несколько способов использования этого приема.</p>

      <p>Но как вернуться назад в будущее? Ведь предыдущие коммиты
      о нем ничего не знают.</p>

      <p>Если у вас есть SHA1 изначальной «головы», то:</p>
      <pre class="literallayout">
$ git reset 1b6d
</pre>

      <p>Но допустим, вы его не записывали. Не беспокойтесь: для
      комнад такого рода Git сохраняет оригинальную «голову» как
      тег под названием ORIG_HEAD, и вы можете вернуться надежно и
      безопасно:</p>
      <pre class="literallayout">
$ git reset ORIG_HEAD
</pre>
    </div>

    <div class="section" title="Охота за «головами»">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_%D0%BE%D1%85%D0%BE%D1%82%D0%B0_%D0%B7%D0%B0_%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%B0%D0%BC%D0%B8">
            </a>Охота за «головами»</h2>
          </div>
        </div>
      </div>

      <p>Предположим ORIG_HEAD недостаточно. К примеру, вы только
      что осознали, что допустили громадную ошибку, и вам нужно
      вернуться к древнему коммиту в давно забытой ветке.</p>

      <p>По умолчанию Git хранит коммиты не меньше двух недель,
      даже если вы приказали уничтожить содержащую их ветку.
      Проблема в нахождении соответствующего хеша. Вы можете
      просмотреть все значения хешей в .git/objects и методом проб
      и ошибок найти нужный. Но есть путь значительно легче.</p>

      <p>Git записывает каждый подсчитанный им хеш коммита в
      .git/logs. В подкатлоге refs содержится полная история
      активности на всех ветках, а файл HEAD содержит каждое
      значение хеша, которое когда-либо принимал HEAD. Последнее
      можно использовать чтобы найти хеши коммитов на случайно
      обрубленных ветках.</p>

      <p>Команда reflog предоставляет удобный интерфейс работы с
      этими журналами. Используйте</p>
      <pre class="literallayout">
$ git reflog
</pre>

      <p>Вместо копирования хешей из reflog, попробуйте</p>
      <pre class="literallayout">
$ git checkout "@{10 minutes ago}" # 10 минут назад, прим. пер.
</pre>

      <p>Или сделайте чекаут пятого с конца из посещенных коммитов
      с помощью</p>
      <pre class="literallayout">
$ git checkout "@{5}"
</pre>

      <p>Смотрите раздел «Specifying Revisions» в <span class=
      "strong"><strong>git help rev-parse</strong></span> для
      дополнительной информации.</p>

      <p>Вы можете захотеть удлинить отсрочку для коммитов,
      обреченных на удаление. Например,</p>
      <pre class="literallayout">
$ git config gc.pruneexpire "30 days"
</pre>

      <p>означает, что удаляемые коммиты будут окончательно
      исчезать только по прошествии 30 дней и после запуска
      <span class="strong"><strong>git gc</strong></span>.</p>

      <p>Также вы можете захотеть отключить автоматический вызов
      <span class="strong"><strong>git gc</strong></span>:</p>
      <pre class="literallayout">
$ git config gc.auto 0
</pre>

      <p>В этом случае коммиты будут удаляться только когда вы
      будете запускать <span class="strong"><strong>git
      gc</strong></span> вручную.</p>
    </div>

    <div class="section" title="Git как основа">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_git_%D0%BA%D0%B0%D0%BA_%D0%BE%D1%81%D0%BD%D0%BE%D0%B2%D0%B0">
            </a>Git как основа</h2>
          </div>
        </div>
      </div>

      <p>Дизайн Git, в истинном духе UNIX, позволяет легко
      использовать его как низкоуровневый компонент других
      программ: графических и веб-интерфейсов; альтернативных
      интерфейсов командной строки; инструментов управления
      патчами; средств импорта или конвертации, и так далее. Многие
      команды Git на самом деле — скрипты, стоящие на плечах
      гигантов. Небольшой доработкой вы можете переделать Git на
      свой вкус.</p>

      <p>Простейший трюк — использование алиасов Git для сокращения
      часто используемых команд:</p>
      <pre class="literallayout">
$ git config --global alias.co checkout
$ git config --global --get-regexp alias       # отображает текущие алиасы
alias.co checkout
$ git co foo # то-же, что и «git checkout foo»
</pre>

      <p>Другой пример: можно выводить текущую ветку в приглашении
      командной строки или заголовке окна терминала. Запуск</p>
      <pre class="literallayout">
$ git symbolic-ref HEAD
</pre>

      <p>выводит название текущей ветки. На практике вы скорее
      всего захотите убрать «refs/heads/» и сообщения об
      ошибках:</p>
      <pre class="literallayout">
$ git symbolic-ref HEAD 2&gt; /dev/null | cut -b 12-
</pre>

      <p>Подкаталог <code class="literal">contrib</code> это целая
      сокровищница инструментов, построенных на Git. Со временем
      некоторые из них могут становиться официальными командами. В
      Debian и Ubuntu этот каталог находится в <code class=
      "literal">/usr/share/doc/git-core/contrib</code>.</p>

      <p>Один популярный инструмент из этого каталога —
      <code class="literal">workdir/git-new-workdir</code>. Этот
      скрипт создает с помощью символических ссылок новый рабочий
      каталог, имеющий общую историю с оригинальным хранилищем:</p>
      <pre class="literallayout">
$ git-new-workdir существующее/хранилище новый/каталог
</pre>

      <p>Новый каталог и файлы в нем можно воспринимать как клон, с
      той разницей, что два дерева автоматически остаются
      синхронизированными ввиду общей истории. Нет необходимости в
      merge, push и pull.</p>
    </div>

    <div class="section" title="Рискованные трюки">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_%D1%80%D0%B8%D1%81%D0%BA%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D1%8B%D0%B5_%D1%82%D1%80%D1%8E%D0%BA%D0%B8">
            </a>Рискованные трюки</h2>
          </div>
        </div>
      </div>

      <p>Нынешний Git делает случайное уничтожение данных очень
      сложным. Но если вы знаете, что делаете, вы можете обойти
      защиту для распространенных команд.</p>

      <p><span class="strong"><strong>Checkout</strong></span>:
      Наличие незакоммиченных изменений прерывает выполнение
      checkout. Чтобы перейти к нужному коммиту, даже уничтожив
      свои изменения, используйте «принуждающий» (force, прим.
      пер.) флаг <span class=
      "strong"><strong>-f</strong></span>:</p>
      <pre class="literallayout">
$ git checkout -f HEAD^
</pre>

      <p>С другой стороны, если вы укажете checkout конкретные
      пути, проверки на безопасность не будет: указанные файлы
      молча перезапишутся. Будьте осторожны при таком использовании
      checkout.</p>

      <p><span class="strong"><strong>Reset</strong></span>: сброс
      также прерывается при наличии незакоммиченных изменений.
      Чтобы заставить его сработать, запустите</p>
      <pre class="literallayout">
$ git reset --hard 1b6d
</pre>

      <p><span class="strong"><strong>Branch</strong></span>:
      Удаление ветки прервётся, если оно привело бы к потере
      изменений. Для принудительного удаления введите</p>
      <pre class="literallayout">
$ git branch -D мертвая_ветка # вместо -d
</pre>

      <p>Аналогично, попытка перезаписи ветки путем перемещения
      будет прервана, если может привести к потере данных. Для
      принудительного перемещений ветки введите</p>
      <pre class="literallayout">
$ git branch -M источник цель # вместо -m
</pre>

      <p>В отличии от checkout и reset, эти две команды дают
      отсрочку в удалении данных. Изменения остаются в каталоге
      .git и могут быть возвращены восстановлением нужного хеша из
      .git/logs (смотрите выше раздел «Охота за „головами“»). По
      умолчанию они будут храниться по крайней мере две недели.</p>

      <p><span class="strong"><strong>Clean</strong></span>:
      Некоторые команды могут не сработать из опасений повредить
      неотслеживаемые файлы. Если вы уверены, что все
      неотслеживаемые файлы и каталоги не нужны, то безжалостно
      удаляйте их командой</p>
      <pre class="literallayout">
$ git clean -f -d
</pre>

      <p>В следующий раз эта досадная команда сработает!</p>
    </div>

    <div class="section" title="Предотвращаем плохие коммиты">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_%D0%BF%D1%80%D0%B5%D0%B4%D0%BE%D1%82%D0%B2%D1%80%D0%B0%D1%89%D0%B0%D0%B5%D0%BC_%D0%BF%D0%BB%D0%BE%D1%85%D0%B8%D0%B5_%D0%BA%D0%BE%D0%BC%D0%BC%D0%B8%D1%82%D1%8B">
            </a>Предотвращаем плохие коммиты</h2>
          </div>
        </div>
      </div>

      <p>Глупые ошибки загрязняют мои хранилища. Самое ужасное это
      проблема недостающих файлов, вызванная забытым <span class=
      "strong"><strong>git add</strong></span>.</p>

      <p>Примеры менее серьезных проступков: завершающие пробелы и
      неразрешённые конфликты слияния. Несмотря на безвредность, я
      не хотел бы, чтобы это появлялось в публичных записях.</p>

      <p>Если бы я только поставил защиту от дурака, используя
      <span class="emphasis"><em>хук</em></span>, который бы
      предупреждал меня об этих проблемах:</p>
      <pre class="literallayout">
$ cd .git/hooks
$ cp pre-commit.sample pre-commit # В старых версиях Git: chmod +x pre-commit
</pre>

      <p>Теперь Git отменит коммит, если обнаружит лишние пробелы
      или неразрешенные конфликты.</p>

      <p>Для этого руководства я в конце концов добавил следующее в
      начало хука <span class=
      "strong"><strong>pre-commit</strong></span>, чтобы защититься
      от своей рассеянности:</p>

      <p>if git ls-files -o | grep <span class=
      "emphasis"><em>\.txt$</em></span>; then echo ПРЕРВАНО!
      Неотслеживаемые .txt файлы. exit 1 fi</p>

      <p>Хуки поддерживаются несколькими различными операциями Git,
      смотрите <span class="strong"><strong>git help
      hooks</strong></span>. Мы использовали пример хука
      <span class="strong"><strong>post-update</strong></span>
      раньше, при обсуждении использования Git через http. Он
      запускался при каждом перемещении «головы». Пример скрипта
      <span class="strong"><strong>post-update</strong></span>
      обновляет файлы, которые нужны Git для связи через не
      считающиеся с ним средства сообщения, такие как HTTP.</p>
    </div>
  </div><script type="text/javascript" src="find_selflink.js">
</script><script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
  document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
  </script><script type="text/javascript">
var pageTracker = _gat._getTracker("UA-1901330-2");
  pageTracker._initData();
  pageTracker._trackPageview();
  </script>
</div>
</div><div class="footer"><a href="/~blynn/">Ben Lynn</a></div>
</body>
</html>
