From zsh-workers-return-16600-mason-zsh=primenet.com.au@sunsite.dk Mon Feb 11 13:49:10 2002
Return-Path: <zsh-workers-return-16600-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1688 invoked from network); 11 Feb 2002 13:49:09 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 11 Feb 2002 13:49:09 -0000
Received: (qmail 11650 invoked by alias); 11 Feb 2002 13:49:05 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 16600
Received: (qmail 11638 invoked from network); 11 Feb 2002 13:49:04 -0000
To: zsh-workers@sunsite.dk (Zsh hackers list)
Subject: Re: correction hook 
In-reply-to: "Clint Adams"'s message of "Mon, 11 Feb 2002 03:08:23 EST."
             <20020211080823.GA9961@dman.com> 
Date: Mon, 11 Feb 2002 13:48:35 +0000
Message-ID: <11131.1013435315@csr.com>
From: Peter Stephenson <pws@csr.com>

Clint Adams wrote:
> Someone complained to me that when he mistyped "make" as "mak", zsh
> would spell-correct it to "mawk" instead of "make".  I had asked him for
> a proposed algorithm to solve this, but he had none.

When I wrote the approximate pattern matching stuff, I had it vaguely in
mind that you might want to give different types of error different
priorities, although it doesn't currently support that.  In this case,
unfortunately, that won't help, since they are both the same type of
approximation, adding a missing character.

You can add stuff to the hash table with the `hash' command; it's probably
a gap that, as far as I can see, you can delete commands you never want to
use or see completions or corrections for.  It's also always struck me as a
bit unhelpful that a rehash, implicit or explicit, removes all deliberate
changes to the command hash table.

If spelling correction could use the results from completion, there would
be ways around this, but that's always looked like it would need a major
rewrite.

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR Ltd., Science Park, Milton Road,
Cambridge, CB4 0WH, UK                          Tel: +44 (0)1223 392070


**********************************************************************
The information transmitted is intended only for the person or
entity to which it is addressed and may contain confidential 
and/or privileged material. 
Any review, retransmission, dissemination or other use of, or
taking of any action in reliance upon, this information by 
persons or entities other than the intended recipient is 
prohibited.  
If you received this in error, please contact the sender and 
delete the material from any computer.
**********************************************************************

