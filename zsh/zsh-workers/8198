From zsh-workers-return-8198-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Oct 11 08:13:12 1999
Return-Path: <zsh-workers-return-8198-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 20030 invoked from network); 11 Oct 1999 08:13:11 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 11 Oct 1999 08:13:11 -0000
Received: (qmail 7287 invoked by alias); 11 Oct 1999 08:12:54 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 8198
Received: (qmail 7280 invoked from network); 11 Oct 1999 08:12:53 -0000
Subject: Re: PATCH: 3.0.6/3.1.6: Re: All sorts of file-descriptor strangeness
In-Reply-To: <991010211147.ZM2563@candle.brasslantern.com> from Bart Schaefer at "Oct 10, 1999  9:11:47 pm"
To: schaefer@candle.brasslantern.com (Bart Schaefer)
Date: Mon, 11 Oct 1999 09:12:52 +0100 (BST)
Cc: zsh-workers@sunsite.auc.dk
X-Mailer: ELM [version 2.4ME+ PL48 (25)]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Message-Id: <E11aaZg-00010k-00@crucigera.fysh.org>
From: Zefram <zefram@fysh.org>

Bart Schaefer wrote:
>zagzig[21] coproc tr a-z A-Z
>[1] 2510
>zagzig[22] exec 5<&p
>zagzig[23] ls -l /proc/self/fd
...
>Should descriptor 5 have been passed on to "ls" in this manner?

Yes.  You explicitly opened fd 5; it should be passed on to child
processes that you create.

>                                                    In particular, I think
>it would break this:
>
>    coproc foo
>    bar <(baz <&p)

Ah.  It probably would.  The coprocess fds are more of a special case
than I realised.

-zefram

