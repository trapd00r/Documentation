From schaefer@z-code.ncd.com Sun Jun 30 17:41:17 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by melb.werple.net.au (8.7.5/8.7.3/2) with ESMTP id RAA24248 for <mason@werple.mira.net.au>; Sun, 30 Jun 1996 17:41:13 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id DAA26680; Sun, 30 Jun 1996 03:29:40 -0400 (EDT)
Resent-Date: Sun, 30 Jun 1996 03:29:40 -0400 (EDT)
From: schaefer@z-code.ncd.com (Barton E. Schaefer)
Message-Id: <960630003021.ZM11861@zyrcon.z-code.com>
Date: Sun, 30 Jun 1996 00:30:21 -0700
In-Reply-To: Zoltan Hidvegi <hzoli@cs.elte.hu>
        "ulimit should limit the shell?" (Jun 29,  5:53pm)
References: <199606291553.RAA02304@hzoli.ppp.cs.elte.hu>
Reply-To: schaefer@z-code.ncd.com
X-Face: #Fj,SD!uGM$mK+=c."{GSa.kjFfFet4[=3Bwr{5@oO*TuJEP3=}'%qRL$bP#~s|yS9JO1v+
 &XeZy#u7!sml79&(,L$Q:/2(2?b<kN{IEJ!uA3g(oAAc&nD/PgT,E_'Tzl_GzS*XWD&tB4=W4AJ+}R
 Eth{8}^lHA}tmE7]d%<sO#dQ)Om{bQ;6jFkNPf?;l:~+cn'%9h@(=Qrn]h9]zV(8
X-Mailer: Z-Mail (3.3dev.506 06may96)
To: Zoltan Hidvegi <hzoli@cs.elte.hu>,
        zsh-workers@math.gatech.edu (Zsh hacking and development)
Subject: Re: ulimit should limit the shell?
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Resent-Message-ID: <"bd7Sn2.0.oW6.ZpYrn"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/1486
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu
Content-Length: 1495
Status: OR

On Jun 29,  5:53pm, Zoltan Hidvegi wrote:
} Subject: ulimit should limit the shell?
}
} In other shells (bash, ksh93 and pdksh) ulimit affects the shell itself,
} not only child processes.  I think zsh ulimit should behave similarily.
} Even after ulimit is changed limit can still be used to set limits which
} affect child processes only.

According to zshbuiltins.1, `ulimit' affects child processes only, but
`limit' affects both zsh and its children.  Is this description wrong?

I believe the reason for the zsh behavior is that the zsh `limit' is
derived from csh/tcsh, where `ulimit' does not exist.  Why `ulimit' is
not simply a synonym for `limit' I do not know; `ulimit' got put in to
zsh during one of the stretches when I wasn't paying much attention to
the mailing list.

} I enable coredumps by defaults in my .zshrc to catch rare zsh bugs but
} this does not affect login shells so I have no coredumps when zsh crashes
} (fortunately this does not seem to occur recently).

If all you're worried about is having the ability to affect the shell
itself, use `limit' instead of `ulimit'.  If you're worried about the
ksh compatibility issue, I don't know of any shell other than zsh that
allows you to set limits for children differently from the limits of
the parent shell; so for all I care, the difference between `ulimit'
and `limit' can go away, or be made available only throug a switch
given to `ulimit'.

-- 
Bart Schaefer
schaefer@z-code.com
http://www.well.com/www/barts


