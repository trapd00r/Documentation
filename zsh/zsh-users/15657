From zsh-users-return-15657-mason-zsh=primenet.com.au@zsh.org Mon Dec 20 11:34:38 2010
Return-Path: <zsh-users-return-15657-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 26677 invoked by alias); 20 Dec 2010 11:34:38 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 15657
Received: (qmail 23405 invoked from network); 20 Dec 2010 11:34:36 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.9 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.3.1
Received-SPF: none (ns1.primenet.com.au: domain at vinc17.net does not designate permitted sender hosts)
Date: Mon, 20 Dec 2010 12:34:33 +0100
From: Vincent Lefevre <vincent@vinc17.net>
To: zsh-users@zsh.org
Subject: Re: exit status problem
Message-ID: <20101220113433.GA15894@prunille.vinc17.org>
Mail-Followup-To: zsh-users@zsh.org
References: <20101203152438.GL1727@prunille.vinc17.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
In-Reply-To: <20101203152438.GL1727@prunille.vinc17.org>
X-Mailer-Info: http://www.vinc17.net/mutt/
User-Agent: Mutt/1.5.21-6164-vl-r38670 (2010-10-13)

zsh 4.3.10-test-3 still has this problem, which can be summarized
as:

1. Execute "zsh -f".
2. Type RPS1="%*" and [Enter] (to have the time in the prompt).
3. Resize the window.
-> If the width has changed, the right part of the prompt is
   redisplayed at the correct place, but in any case, the time
   displayed in the prompt is not updated, even though zsh has
   updated it internally. This can be seen with:
4. Type [Enter].
-> The time in the current prompt is updated to the time when the
   window has been resized. This shows that the time in the prompt
   was updated internally, but the effect couldn't be seen on the
   terminal.
   A new prompt is also output as expected.

-- 
Vincent Lefèvre <vincent@vinc17.net> - Web: <http://www.vinc17.net/>
100% accessible validated (X)HTML - Blog: <http://www.vinc17.net/blog/>
Work: CR INRIA - computer arithmetic / Arénaire project (LIP, ENS-Lyon)

