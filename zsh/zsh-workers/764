From zsh-workers-request@euclid.skiles.gatech.edu  Sat Feb 17 06:04:02 1996
Received: from euclid.skiles.gatech.edu (euclid.skiles.gatech.edu [130.207.146.50]) by werple.net.au (8.7/8.7.1) with ESMTP id GAA19950 for <mason@werple.mira.net.au>; Sat, 17 Feb 1996 06:03:57 +1100 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id NAA13632; Fri, 16 Feb 1996 13:34:58 -0500 (EST)
Resent-Date: Fri, 16 Feb 1996 13:34:58 -0500 (EST)
Message-Id: <9602161834.AA08343@marathon.cs.ucla.edu>
To: zsh-users@math.gatech.edu, zsh-workers@math.gatech.edu
Subject: Hey, who did this ?!?!
Date: Fri, 16 Feb 1996 10:34:26 -0800
From: Eskandar Ensafi <esky@CS.UCLA.EDU>
Resent-Message-ID: <"nSlH51.0.lK3.GvC9n"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/764
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu


Hello,

A while back, we made certain corrections to zsh so that termcap entries
are correctly intitialized in non-interactive shells, in order to allow
print -P '%B...%b' sequences and similar text attributes/cursor motion
commands to work properly in shell scripts.  Believe it or not, it's not
very useful to type print -P '%Bhello%b' to yourself in an interactive
shell; it's more useful in a script, where you want to make prompts and
messages stand out in certain instances.

I just noticed that in zsh 2.6 beta 12 and 13, this feature has been turned
off again -- pehaps by accident, perhaps due to execessive, unwarranted
concerns for efficiency.  Now *all* scripts that use escape sequences have
to be modified to run as zsh -i, or they have to add a "setopt interactive"
line, in order to get the escape sequences to work again.  This sucks.

Also, when I used prompt truncation in my right prompt, the size of my
prompt would become shorter/longer as I resized my xterm window, thus
fitting as much of the directory name as possible.  This no longer happens.
Did someone alter the places where putprompt() was called?  If the calls
to putprompt() seemed excessive (perhaps inefficient?), I hope you now
realize that there was a good reason for it!!!

Oh well, this is what I get for not being as active as I used to be in
this group.  I might just have to stick around a bit longer...  :-)

- Eskandar

------------------------------------------------------------------------------
Eskandar Ensafi                              Object-Oriented Software Engineer
University of California, Los Angeles                                         
Department of Biomathematics              esky@cs.ucla.edu (ASCII, MIME, NeXT)
School of Medicine                  http://www.cs.ucla.edu/csd-lanai/fweb/esky
------------------------------------------------------------------------------

