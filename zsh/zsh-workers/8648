From zsh-workers-return-8648-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Nov 16 12:57:23 1999
Return-Path: <zsh-workers-return-8648-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 19001 invoked from network); 16 Nov 1999 12:57:22 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 16 Nov 1999 12:57:22 -0000
Received: (qmail 22416 invoked by alias); 16 Nov 1999 12:56:57 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 8648
Received: (qmail 22409 invoked from network); 16 Nov 1999 12:56:56 -0000
Date: Tue, 16 Nov 1999 13:56:50 +0100 (MET)
Message-Id: <199911161256.NAA01345@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
Subject: PATCH: some more cleanup


Dunno how this `_requested -t' survived...

This also avoids some more tag names. But there are still 64 of them
used and for some I don't know enough about the functions where they
are used to be able to decide with which more generic name they could
be replaced.

Bye
 Sven

diff -u -r oldcompletion/Base/_brace_parameter Completion/Base/_brace_parameter
--- oldcompletion/Base/_brace_parameter	Tue Nov 16 10:08:14 1999
+++ Completion/Base/_brace_parameter	Tue Nov 16 13:09:48 1999
@@ -1,6 +1,6 @@
 #compdef -brace-parameter-
 
-_requested -t parameters && _parameters -e
+_tags parameters && _parameters -e
 
 
 # Without the `-e' option, we would use the following (see the file
diff -u -r oldcompletion/Base/_subscript Completion/Base/_subscript
--- oldcompletion/Base/_subscript	Tue Nov 16 10:08:15 1999
+++ Completion/Base/_subscript	Tue Nov 16 13:26:09 1999
@@ -3,7 +3,7 @@
 local expl
 
 if [[ "$PREFIX" = :* ]]; then
-  _wanted char-classes expl 'character class' &&
+  _wanted characters expl 'character class' &&
       compadd "$expl[@]" -p: -S ':]' alnum alpha blank cntrl digit graph \
                                      lower print punct space upper xdigit
 elif [[ ${(Pt)${compstate[parameter]}} = assoc* ]]; then
diff -u -r oldcompletion/Builtins/_sched Completion/Builtins/_sched
--- oldcompletion/Builtins/_sched	Tue Nov 16 10:08:17 1999
+++ Completion/Builtins/_sched	Tue Nov 16 13:33:30 1999
@@ -7,7 +7,7 @@
     _wanted -C - jobs expl 'scheduled jobs' || return 1
 
     lines=(${(f)"$(sched)"})
-    if _style entries description; then
+    if _style jobs description; then
       disp=( -ld lines )
     else
       disp=()
diff -u -r oldcompletion/Builtins/_stat Completion/Builtins/_stat
--- oldcompletion/Builtins/_stat	Tue Nov 16 10:08:17 1999
+++ Completion/Builtins/_stat	Tue Nov 16 13:32:47 1999
@@ -9,7 +9,7 @@
 
   while _tags; do
     _requested options expl 'inode element' &&
-        { ! _style elements prefix-needed || [[ "$PREFIX[1]" = + ]] } &&
+        { ! _style options prefix-needed || [[ "$PREFIX[1]" = + ]] } &&
         compadd "$expl[@]" - +device +inode +mode +nlink +uid +gid +rdev \
                              +size +atime +mtime +ctime +blksize +block +link
     fi
diff -u -r oldcompletion/User/_tar Completion/User/_tar
--- oldcompletion/User/_tar	Tue Nov 16 10:08:29 1999
+++ Completion/User/_tar	Tue Nov 16 13:45:33 1999
@@ -107,7 +107,7 @@
     _tar_cache_name=$tf
   fi
 
-  _wanted archived-files expl 'file from archive' &&
+  _wanted files expl 'file from archive' &&
       _multi_parts "$expl[@]" / _tar_cache_list
 else
   

--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

