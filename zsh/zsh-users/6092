From zsh-users-return-6092-mason-zsh=primenet.com.au@sunsite.dk Thu May 08 18:46:48 2003
Return-Path: <zsh-users-return-6092-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4376 invoked from network); 8 May 2003 18:46:47 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 8 May 2003 18:46:47 -0000
Received: (qmail 6241 invoked by alias); 8 May 2003 18:46:31 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 6092
Received: (qmail 6234 invoked from network); 8 May 2003 18:46:31 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 8 May 2003 18:46:31 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [4.64.233.9] by sunsite.dk (MessageWall 1.0.8) with SMTP; 8 May 2003 18:46:30 -0000
Received: (from schaefer@localhost)
	by candle.brasslantern.com (8.11.6/8.11.6) id h48IkSF27943
	for zsh-users@sunsite.dk; Thu, 8 May 2003 11:46:28 -0700
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <1030508184628.ZM27942@candle.brasslantern.com>
Date: Thu, 8 May 2003 18:46:28 +0000
In-Reply-To: <CEEB35929492F3448EA03D09959D180301CCB21E@sxmbx02.corproot.net>
Comments: In reply to <Norman.Azadian@swisscom.com>
        "command-line editing speed" (May  8, 12:11pm)
References: <CEEB35929492F3448EA03D09959D180301CCB21E@sxmbx02.corproot.net>
X-Mailer: Z-Mail (5.0.0 30July97)
To: <zsh-users@sunsite.dk>
Subject: Re: command-line editing speed
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On May 8, 12:11pm, <Norman.Azadian@swisscom.com> wrote:
} 
} I'm running version 3.1.5 ($-=3567HRXZhiklms)  on a relatively powerful
} HP machine.  Recently we've been noticing that command-line editing
} seems to have become much slower.

For quite some time now I've been noticing that my keyboard "driver"
loses its key-repeat-rate setting.  That is, have to use the console
"kbdrate" command to restore it, it has nothing to do with the X11 key
repeat setting.  This doesn't happen in any regular way that I can track
down, and I sometimes go for weeks without it happening at all.

However, your problem is more likely related to something else I've
noticed:  ioctl()/stty doesn't always report the right simulated "baud
rate" for X terminal emulators.  ZLE adjusts its display behavior based
on the reported baud rate.  I've had to put code into my .zshrc to force
the BAUD variable to have a reasonable setting regardless of what stty
claimed it to be.

