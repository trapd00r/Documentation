From zsh-workers-return-27450-mason-zsh=primenet.com.au@zsh.org Fri Dec 04 16:57:31 2009
Return-Path: <zsh-workers-return-27450-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 23850 invoked by alias); 4 Dec 2009 16:57:31 -0000
Mailing-List: contact zsh-workers-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Workers List <zsh-workers.zsh.org>
List-Post: <mailto:zsh-workers@zsh.org>
List-Help: <mailto:zsh-workers-help@zsh.org>
Delivered-To: mailing list zsh-workers@zsh.org
X-Seq: 27450
Received: (qmail 28811 invoked from network); 4 Dec 2009 16:57:29 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received-SPF: none (ns2.melb.primenet.com.au: domain at bewatermyfriend.org does not designate permitted sender hosts)
From: Frank Terbeck <ft@bewatermyfriend.org>
To: zsh-workers@zsh.org
Subject: PATCH: _tmux: support for the new capture-pane command
Date: Fri,  4 Dec 2009 17:55:25 +0100
Message-Id: <1259945725-31067-1-git-send-email-ft@bewatermyfriend.org>
X-Mailer: git-send-email 1.6.5.rc2
In-Reply-To: <1259703079-26538-1-git-send-email-ft@bewatermyfriend.org>
References: <1259703079-26538-1-git-send-email-ft@bewatermyfriend.org>
X-Df-Sender: 430444

This patch should apply cleanly on top of the one send in
zsh-workers-27446 in the repository yet.
---
 Completion/Unix/Command/_tmux |   11 +++++++++++
 1 files changed, 11 insertions(+), 0 deletions(-)

diff --git a/Completion/Unix/Command/_tmux b/Completion/Unix/Command/_tmux
index 481a34b..7a64400 100644
--- a/Completion/Unix/Command/_tmux
+++ b/Completion/Unix/Command/_tmux
@@ -65,6 +65,7 @@ _tmux_aliasmap=(
 
     # windows and panes
     breakp      break-pane
+    capturep    capture-pane
     displayp    display-panes
     downp       down-pane
     findw       find-window
@@ -191,6 +192,16 @@ function _tmux-break-pane() {
     _arguments ${args}
 }
 
+function _tmux-capture-pane() {
+    [[ -n ${tmux_describe} ]] && print "Capture the contents of a pane to a buffer" && return
+    local -a args
+    args=(
+        '-b[Choose target buffer]:target buffer:__tmux-buffers'
+        '-t[Choose source pane]:source pane:__tmux-panes'
+    )
+    _arguments ${args}
+}
+
 function _tmux-choose-client() {
     [[ -n ${tmux_describe} ]] && print "Put a window into client choice mode" && return
     __tmux-choose-stuff
-- 
1.6.5.rc2

