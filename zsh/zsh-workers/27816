From zsh-workers-return-27816-mason-zsh=primenet.com.au@zsh.org Mon Mar 22 01:24:33 2010
Return-Path: <zsh-workers-return-27816-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 27485 invoked by alias); 22 Mar 2010 01:24:33 -0000
Mailing-List: contact zsh-workers-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Workers List <zsh-workers.zsh.org>
List-Post: <mailto:zsh-workers@zsh.org>
List-Help: <mailto:zsh-workers-help@zsh.org>
Delivered-To: mailing list zsh-workers@zsh.org
X-Seq: 27816
Received: (qmail 20512 invoked from network); 22 Mar 2010 01:24:31 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-3.4 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_DNSWL_LOW autolearn=ham version=3.2.5
Received-SPF: pass (ns1.primenet.com.au: SPF record at ruderich.org designates 78.46.69.5 as permitted sender)
Date: Mon, 22 Mar 2010 02:25:44 +0100
From: Simon Ruderich <simon@ruderich.org>
To: zsh-workers@zsh.org
Subject: Re: [PATCH] _git: Also complete FETCH_HEAD, ORIG_HEAD and MERGE_HEAD.
Message-ID: <20100322012544.GA6014@ruderich.org>
References: <20100321172336.GA4151@ruderich.org>
 <alpine.LNX.2.01.1003211540430.19615@hp.internal>
 <dbfc82861003211317t7617b83ex2be594d2d994f328@mail.gmail.com>
Mime-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-sha256; protocol="application/pgp-signature"; boundary="=_zucker.schokokeks.org-5552-1269221064-0001-2"
Content-Disposition: inline
In-Reply-To: <dbfc82861003211317t7617b83ex2be594d2d994f328@mail.gmail.com>
User-Agent: Mutt/1.5.20-dev (2010-03-09)

--=_zucker.schokokeks.org-5552-1269221064-0001-2
Content-Type: text/plain; charset=utf-8
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

On Sun, Mar 21, 2010 at 09:17:25PM +0100, Nikolai Weibull wrote:
> On Sun, Mar 21, 2010 at 20:48, Benjamin R. Haskell wrote:
>
>> +  symbolic_heads=3D()
>> +  for head in HEAD ORIG_HEAD FETCH_HEAD MERGE_HEAD ; do
>> +    git rev-parse $head &>/dev/null && symbolic_heads+=3D( $head )
>> +  done
>
> That=E2=80=99s a lot of forking to make a simple check.  Is there no bett=
er
> way?  Do we actually have to filter the heads?

I don't know the _git completion code, but couldn't we just check
if .git/{ORIG_HEAD,FETCH_HEAD,MERGE_HEAD} exists? This should
work for most things.

Another possibility would be to just complete them all the time.

Simon
--=20
+ privacy is necessary
+ using gnupg http://gnupg.org
+ public key id: 0x92FEFDB7E44C32F9

--=_zucker.schokokeks.org-5552-1269221064-0001-2
Content-Type: application/pgp-signature
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (GNU/Linux)

iQIcBAEBCAAGBQJLpscYAAoJEJL+/bfkTDL5xNsP/02pg3I2kO106+ZWsPfqKmeB
jeQr42yNivLmex51w3pZLBDUUJm6Hftiv0l/hA4bCQf+K050YvepHV2NM++fPJwf
pUFZAQ4FYDd03G6PK6Ra3vRQwGCn35dp7mJR1wA2z1HDPEFY11M8vcw2MbrzESv4
x7VnsgHBuKuahB3lxwiCx38slaJOLlLg6ZJ00AVUK9dPEXsCJJxUnKR7mBOJirp/
x3TIYPJM/9C0qlUFLDmQsMInCwGd9RbrnPqxAsIx94LRDCuVtz8iquqamCpxUCg/
C1zpXN+ZQtjG5dS0Yk/iUtVWaAFxKMOIhlEu59WwHFnY7iE1xlKmXRQZdV2XdAGe
31C1gYQujfNx27exLzlepW8qU2ALGOK9Jp7bxiTXXpmV9yXbOzBTV44Rl+BX9bUi
KS6Yv0Eo31Fs4YaA/Y+kqg1OGjgVDKSGgQiAGihoNju0aFf4nVMqiBaS1uRFR3S2
vK+bkt1vaTbQpuK6eEp0MqQBRMJSSsVBIes2IwHddzkAHGRJKtlAoLxd9plJrH52
lmlYjq/YbwdwWSw/bXe07bcal3eOE+RZhkaq9fbjQES1hd+0wF7D2yzpJJMIq/w0
aFEZeLqAOcUtCeWmgM1G7P2OH5SeF9bMQVaD0Oj+0Jn7u96ewRozxU6KLl0plm0h
AhIuBKAF8yKKPgEr2Q7j
=rRie
-----END PGP SIGNATURE-----

--=_zucker.schokokeks.org-5552-1269221064-0001-2--

