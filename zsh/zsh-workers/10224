From zsh-workers-return-10224-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Mar 24 11:31:40 2000
Return-Path: <zsh-workers-return-10224-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 27242 invoked from network); 24 Mar 2000 11:31:38 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 24 Mar 2000 11:31:38 -0000
Received: (qmail 24402 invoked by alias); 24 Mar 2000 11:31:32 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 10224
Received: (qmail 24395 invoked from network); 24 Mar 2000 11:31:32 -0000
X-Envelope-Sender-Is: Andrej.Borsenkow@mow.siemens.ru (at relayer david.siemens.de)
From: "Andrej Borsenkow" <Andrej.Borsenkow@mow.siemens.ru>
To: "Sven Wischnowsky" <wischnow@informatik.hu-berlin.de>,
   <zsh-workers@sunsite.auc.dk>
Subject: RE: Wordcode files and compinit
Date: Fri, 24 Mar 2000 14:31:23 +0300
Message-ID: <000001bf9584$7b900140$21c9ca95@mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
In-Reply-To: <200003141040.LAA07354@beta.informatik.hu-berlin.de>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6700

>
> Hm. The wordcode files already store the complete pathnames used when
> calling zcompile. That could be changed to prepend $PWD to names not
> starting with a slash. Then we could change the patch for
> `autoload -w'
> to make `autoload -w foo.zwc a b c' mark only a, b and c for
> autoloading. And then we could make `autoload -mw foo.zwc
> "*/Completion/Debian/*"'
> mark only those functions for autoloading.
>

This won't help in case of completion. We need the information from
comments and comments are lost when compiling zsh code. With current way
completion is initialized, functions must be present in source form. I
am not happy about it. Keeping two form of the same function always
increases the possibility of two getting out of sync.

-andrej

