From zsh-users-return-4527-mason-zsh=primenet.com.au@sunsite.dk Tue Dec 11 12:49:39 2001
Return-Path: <zsh-users-return-4527-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 3155 invoked from network); 11 Dec 2001 12:49:39 -0000
Received: from ns2.primenet.com.au (HELO primenet.com.au) (?hMRDIG3KXOjwTrb2n1e68/4xOYd59JVd?@203.24.36.3)
  by ns1.primenet.com.au with SMTP; 11 Dec 2001 12:49:39 -0000
Received: (qmail 2768 invoked from network); 11 Dec 2001 12:49:37 -0000
Received: from sunsite.dk (130.225.247.90)
  by proxy.melb.primenet.com.au with SMTP; 11 Dec 2001 12:49:37 -0000
Received: (qmail 28114 invoked by alias); 11 Dec 2001 12:49:24 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4527
Received: (qmail 28102 invoked from network); 11 Dec 2001 12:49:23 -0000
From: Borsenkow Andrej <Andrej.Borsenkow@mow.siemens.ru>
To: "'Peter Stephenson'" <pws@csr.com>,
   "'Zsh users list'"
	 <zsh-users@sunsite.dk>,
   "'Michael Wardle'" <michael@endbracket.net>
Subject: RE: generic filename completion like "foo --file=ba<tab>" 
Date: Tue, 11 Dec 2001 15:49:16 +0300
Message-ID: <000001c18242$3e93a380$21c9ca95@mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2627
x-mimeole: Produced By Microsoft MimeOLE V6.00.2600.0000
In-Reply-To: <28713.1008073725@csr.com>
Importance: Normal

> > I'm a former bash user starting to learn zsh.  I'm currently running
> > zsh 4.0.2 on Red Hat Linux, and zsh seems to be missing a feature I
> > like.
> >
> > In bash, I could do:
> > dd if=root.img of=/dev/f<tab>
> >
> > In zsh, pressing the filename completion key (tabulate) does not
> > produce the desired result.
> 
> The new completion system will do this, and has completion of dd
arguments
> as well.

Yes and now. It does have completion for dd but it does not do it for
arbitrary command. I am not sure if it is a bug or feature. After all,
you cannot assume that `=' is always followed by file name.

You can configure default completion to be smarter. In new completion it
would use something like

[[ compset -P *= ]] && return _files
return 1

and then you need to tell to use it as fallback but do not ask me at the
moment how to do it :-) I expected it to be

put the above is some function like _default_completion
use compdef to define it:

compdef _default_completion -default-

but it does not work

-andrej

