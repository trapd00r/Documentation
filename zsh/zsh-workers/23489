From zsh-workers-return-23489-mason-zsh=primenet.com.au@sunsite.dk Tue May 29 21:54:21 2007
Return-Path: <zsh-workers-return-23489-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 6323 invoked from network); 29 May 2007 21:54:17 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.0 (2007-05-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00 autolearn=no
	version=3.2.0
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 29 May 2007 21:54:17 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 17081 invoked from network); 29 May 2007 21:54:11 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 29 May 2007 21:54:11 -0000
Received: (qmail 20380 invoked by alias); 29 May 2007 21:54:09 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 23489
Received: (qmail 20369 invoked from network); 29 May 2007 21:54:08 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 29 May 2007 21:54:08 -0000
Received: (qmail 16747 invoked from network); 29 May 2007 21:54:08 -0000
Received: from mtaout03-winn.ispmail.ntl.com (81.103.221.49)
  by a.mx.sunsite.dk with SMTP; 29 May 2007 21:53:59 -0000
Received: from aamtaout01-winn.ispmail.ntl.com ([81.103.221.35])
          by mtaout03-winn.ispmail.ntl.com with ESMTP
          id <20070529215358.GTXG13.mtaout03-winn.ispmail.ntl.com@aamtaout01-winn.ispmail.ntl.com>
          for <zsh-workers@sunsite.dk>; Tue, 29 May 2007 22:53:58 +0100
Received: from pws-pc.ntlworld.com ([81.107.45.67])
          by aamtaout01-winn.ispmail.ntl.com with ESMTP
          id <20070529215358.RFHH219.aamtaout01-winn.ispmail.ntl.com@pws-pc.ntlworld.com>
          for <zsh-workers@sunsite.dk>; Tue, 29 May 2007 22:53:58 +0100
Received: from pws-pc.ntlworld.com (pws-pc.ntlworld.com [127.0.0.1])
	by pws-pc.ntlworld.com (8.13.8/8.13.8) with ESMTP id l4TLrQXm009641
	for <zsh-workers@sunsite.dk>; Tue, 29 May 2007 22:53:27 +0100
Message-Id: <200705292153.l4TLrQXm009641@pws-pc.ntlworld.com>
From: Peter Stephenson <p.w.stephenson@ntlworld.com>
To: zsh-workers@sunsite.dk (Zsh hackers list)
Subject: Next step: autoloadable features
Date: Tue, 29 May 2007 22:53:26 +0100

I've been thinking a little about how to autoload features and it's
occurred to me it would be quite neat to have them marked with a special
character, so that + means feature enabled, - means feature disabled,
and some other character means feature marked for autoloading.  This
means, for example, zmodload -lF of an unloaded module is meaningful if
there are autoloads marked and it gives you a list of them.

I'm not sure how this fits with my vague and somewhat off the wall
feeling that the autoload should remain even when the module is loaded,
so that we can re-autoload the feature if the module is unloaded.
That would suggest that a feature that's enabled but still marked for
autoload should have yet another character, or possibly a combination of
+ and whatever.

Is this reasonable, at least the first bit?  What character should
indicate autoload?  It had better not be alphanumeric and it's easiest
if it doesn't need quoting.  How about "@"?

-- 
Peter Stephenson <p.w.stephenson@ntlworld.com>
Web page now at http://homepage.ntlworld.com/p.w.stephenson/

