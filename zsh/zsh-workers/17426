From zsh-workers-return-17426-mason-zsh=primenet.com.au@sunsite.dk Fri Jul 05 07:11:15 2002
Return-Path: <zsh-workers-return-17426-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 11565 invoked from network); 5 Jul 2002 07:11:14 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 5 Jul 2002 07:11:14 -0000
Received: (qmail 14428 invoked by alias); 5 Jul 2002 07:11:09 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 17426
Received: (qmail 14414 invoked from network); 5 Jul 2002 07:11:08 -0000
Date: Fri, 5 Jul 2002 17:11:04 +1000
From: Greg Price <Greg.Price@Sun.COM>
To: Tomi Vainio - Sun Finland - <Tomi.Vainio@Sun.COM>
Cc: zsh-workers@sunsite.dk
Subject: Re: 64bit Zsh for Solaris?
Message-ID: <20020705171103.R4809@Aus.Sun.COM>
References: <20020705112635.A19854@Aus.Sun.COM> <15653.16318.328406.362448@gargle.gargle.HOWL>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5.1i
In-Reply-To: <15653.16318.328406.362448@gargle.gargle.HOWL>; from Tomi.Vainio@Sun.COM on Fri, Jul 05, 2002 at 09:42:06AM +0300

On Fri, Jul 05, 2002 at 09:42:06AM +0300, Tomi Vainio - Sun Finland - wrote:
> Greg Price writes:
>  >  
>  > My problem is that I need a 64 bit version (i.e. compiled to produce a 64
>  > bit binary) for Solaris. I've tried both the Sun compiler (which I would
>  > prefer to use) and the GNU C compiler; zsh compiles fine, but it fails a   
>  > number of the tests in the test suite.
>  >  
> As said before you don't really need 64bit binary but you can do it if
> you like.
> 
> file /usr/local/bin/zsh
> /usr/local/bin/zsh:     ELF 64-bit MSB executable SPARCV9 Version 1, dynamically linked, stripped
> 
> Here is what I did with zsh 4.0.4
> CC=cc ./configure --enable-cflags='-xO4 -xarch=v9' --enable-ldflags='-xO4 -xarch=v9'

Yep, tried that - did "make check" pass all the tests? Mine fails tests:
A04, D01, D02, D03, E02.

Cheers,
Greg



