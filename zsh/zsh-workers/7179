From zsh-workers-return-7179-mason-zsh=primenet.com.au@sunsite.auc.dk Sun Jul 18 00:03:41 1999
Return-Path: <zsh-workers-return-7179-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 21969 invoked from network); 18 Jul 1999 00:03:39 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 18 Jul 1999 00:03:39 -0000
Received: (qmail 14588 invoked by alias); 18 Jul 1999 00:03:25 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7179
Received: (qmail 14581 invoked from network); 18 Jul 1999 00:03:24 -0000
Date: Sat, 17 Jul 1999 17:03:09 -0700 (PDT)
From: Wayne Davison <wayne@clari.net>
To: Peter Stephenson <pws@ibmth.df.unipi.it>
cc: Zsh hackers list <zsh-workers@sunsite.auc.dk>
Subject: Re: history curiosities
In-Reply-To: <9907161336.AA14838@ibmth.df.unipi.it>
Message-ID: <Pine.GSO.4.10.9907171537430.29652-100000@house.clari.net>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Fri, 16 Jul 1999, Peter Stephenson wrote:
> I get what I said above; the h is not listed.  Now when I do
> `history', the `h' is listed but the `history' isn't, i.e. the
> last two entries shown are `echo three' and `h'.  Now if I do `h'
> again, the `h' disappears and `history' shows up.

Yeah, that's all behaving like it should -- history doesn't show
the command you typed to show the history, and since you have the
HIST_IGNORE_ALL_DUPS option set, when you re-enter 'h', the older
'h' command vanishes.

> Worse: I now set HISTNOSTORE in addition to the others, type `h',
> then `!!'.  I get the message `no such event'.

I am unable to duplicate this using an almost stock 3.1.6-pre-1
(the only patches I have applied are the ones I'm about to email
to the list).

..wayne..

