From zsh-users-return-11787-mason-zsh=primenet.com.au@sunsite.dk Tue Aug 21 03:59:23 2007
Return-Path: <zsh-users-return-11787-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18367 invoked from network); 21 Aug 2007 03:59:17 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.1 (2007-05-02) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.1
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 21 Aug 2007 03:59:17 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 69280 invoked from network); 21 Aug 2007 03:59:11 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 21 Aug 2007 03:59:11 -0000
Received: (qmail 14454 invoked by alias); 21 Aug 2007 03:59:02 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 11787
Received: (qmail 14436 invoked from network); 21 Aug 2007 03:59:01 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 21 Aug 2007 03:59:01 -0000
Received: (qmail 67979 invoked from network); 21 Aug 2007 03:59:01 -0000
Received: from nz-out-0506.google.com (64.233.162.227)
  by a.mx.sunsite.dk with SMTP; 21 Aug 2007 03:58:55 -0000
Received: by nz-out-0506.google.com with SMTP id r28so535906nza
        for <zsh-users@sunsite.dk>; Mon, 20 Aug 2007 20:58:54 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=LSWXlVlMa+5LC2q8p93LLl5aLn6WP1wfKCRXcEUJAeQ23kjMQoHuJbjDxJzhUXg3NfNGhIkiIITcyOY1NSBZ/bQ+EbTs1sz8rYfRoi87ndHi4jvLaxMdnQOPpi0YLvtaAP8rzfUXqhb0vRifKZgskiZqZBw4YWnH7v99bGVZHnI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=FrOxneRx1H6fkjPg1AtNgu3FFqZwa3IIMNXukmcdoTdu2UuWOzKS2mtbl+9xX7zIglKKghfkFy02+1jsv/2/5XxmZZxiFPUoorV6qVbvBBI9aTGsArvngsz3Fq1fQhvAz+2V5zQSbKsC9tSSQoN/rEfxi05c5qGg6YN+yF/FlR8=
Received: by 10.142.214.5 with SMTP id m5mr678849wfg.1187668733984;
        Mon, 20 Aug 2007 20:58:53 -0700 (PDT)
Received: by 10.142.115.6 with HTTP; Mon, 20 Aug 2007 20:58:53 -0700 (PDT)
Message-ID: <de0943590708202058lb49dd4er5fcccbe675fadbd9@mail.gmail.com>
Date: Mon, 20 Aug 2007 22:58:53 -0500
From: "Nathan Collins" <nathan.collins@gmail.com>
To: zsh-users@sunsite.dk
Subject: Bug involving subshell exit status in functions fixed?
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi zsh-users,

This is a simplified version of something that got me really confused
when I tried to run a bash script in zsh.

In zsh-4.2.3, zsh-4.3.4, and bash

$ (exit 1)
$ echo $?
1

in zsh-4.3.4 and bash

$ function f {
    (exit 1)
    echo $?
}
$ f
1

but in zsh-4.2.3

$ function f {
    (exit 1)
    echo $?
}
$ f
0

So, although I can't find a mention of it because I don't know what to
search for, I think this is a bug that's fixed in the development
version of zsh.  Is there a work around for this in 4.2.3 (the version
installed on the machines where my script will be run is actually
4.2.0, but it has the same "problem" as 4.2.3)?

If this isn't a bug that was fixed, could someone explain what's going on.

Thanks,

-nathan

