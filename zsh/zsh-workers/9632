From zsh-workers-return-9632-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Feb 09 08:45:45 2000
Return-Path: <zsh-workers-return-9632-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4309 invoked from network); 9 Feb 2000 08:45:44 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 9 Feb 2000 08:45:44 -0000
Received: (qmail 23997 invoked by alias); 9 Feb 2000 08:45:38 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 9632
Received: (qmail 23989 invoked from network); 9 Feb 2000 08:45:38 -0000
Date: Wed, 9 Feb 2000 09:45:37 +0100 (MET)
Message-Id: <200002090845.JAA06656@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: Vin Shelton's message of 08 Feb 2000 20:14:26 -0500
Subject: Re: make check failures in latest CVS


Vin Shelton wrote:

> For the last 2 days the CVS snapshots have failed 'make check' with the
> following error:
> 
> *** /tmp/zsh.ztst.out.1405      Tue Feb  8 20:03:54 2000
> --- /tmp/zsh.ztst.tout.1405     Tue Feb  8 20:03:54 2000
> ***************
> *** 1,2 ****
> - Line 1
> - Line 1
> --- 0 ----
> Test /usr/local/src/zsh-2000-02-08/Test/05command.ztst failed: output differs from expected as shown above for:
>   unfunction fn
>   print 'TRAPDEBUG() {
>       print Line $LINENO
>     }
>     :
>     unfunction TRAPDEBUG
>   }' > fn
>   autoload fn
>   fn
>   rm fn
> Error output:
> fn:6: parse error near `}'
> Was testing: TRAPDEBUG
> /usr/local/src/zsh-2000-02-08/Test/05command.ztst: test failed.

That's a result of my patch that made parse errors in autoloaded
functions be shown. And, as you can see above, it was right, the
typo(s) were in 05command.ztst.

Bye
 Sven

--- Test/05command.ztst.old	Wed Feb  9 09:43:40 2000
+++ Test/05command.ztst	Wed Feb  9 09:43:44 2000
@@ -116,7 +116,7 @@
     }
     :
     unfunction TRAPDEBUG
-  }' > fn
+  ' > fn
   autoload fn
   fn
   rm fn
@@ -128,7 +128,7 @@
   print 'trap '\''print Line $LINENO'\'' DEBUG
     :
     trap - DEBUG
-  }' > fn
+  ' > fn
   autoload fn
   fn
   rm fn

--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

