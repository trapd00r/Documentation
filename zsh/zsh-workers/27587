From zsh-workers-return-27587-mason-zsh=primenet.com.au@zsh.org Sun Jan 10 17:18:36 2010
Return-Path: <zsh-workers-return-27587-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 27782 invoked by alias); 10 Jan 2010 17:18:36 -0000
Mailing-List: contact zsh-workers-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Workers List <zsh-workers.zsh.org>
List-Post: <mailto:zsh-workers@zsh.org>
List-Help: <mailto:zsh-workers-help@zsh.org>
Delivered-To: mailing list zsh-workers@zsh.org
X-Seq: 27587
Received: (qmail 19092 invoked from network); 10 Jan 2010 17:18:26 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received-SPF: none (ns1.primenet.com.au: domain at benizi.com does not designate permitted sender hosts)
Date: Sun, 10 Jan 2010 12:10:30 -0500 (EST)
From: "Benjamin R. Haskell" <zsh@benizi.com>
To: Zsh Workers <zsh-workers@zsh.org>
Subject: #compdef lines prevent X11 and init.d completion
Message-ID: <alpine.LNX.2.01.1001101051310.8115@hp.internal>
User-Agent: Alpine 2.01 (LNX 1266 2009-07-14)
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

The first line of Completion/X/Utility/_x_arguments is:

#compdef -P */X11(|R[456])/*

It appears the purpose of that line is to grant '-display' and 
'-geometry' arguments to any command residing in those directories.

I frequently use <filename as a command unto itself, happily 
tab-completing the whole of filename.  But, that line prevents me from 
tab-completing into the /etc/X11 and /usr/share/X11 directories.

Similarly, the first line of Completion/Unix/Command/_init_d is:

#compdef -P */(init|rc[0-9S]#).d/*

which prevents completing things in /etc/init.d.

Seems like a bug to me -- not 100% sure where, so I figured I'd ping the 
list before patching it myself.

Thanks,
Ben

