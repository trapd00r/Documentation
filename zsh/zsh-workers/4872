From zsh-workers-request@math.gatech.edu Thu Dec 31 17:15:45 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9225 invoked from network); 31 Dec 1998 17:15:43 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 31 Dec 1998 17:15:43 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.9.1/8.9.1) id MAA29575;
	Thu, 31 Dec 1998 12:09:51 -0500 (EST)
Resent-Date: Thu, 31 Dec 1998 12:09:51 -0500 (EST)
Message-Id: <199812311709.MAA01264@ocalhost>
Content-Type: text/plain
MIME-Version: 1.0
X-Image-URL: http://www.peak.org/~luomat/luomat@peak.org.tiff
From: Timothy J Luoma <luomat@peak.org>
Date: Thu, 31 Dec 1998 12:09:02 -0500
To: zsh-workers@math.gatech.edu
Subject: %B%~%b bug in $PROMPT in 3.1.5 ?
Resent-Message-ID: <"HEcTd1.0._D7.V_wYs"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/4872
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu


I have this as my PROMPT:

%SUSER: %B(%n)%b HOST: %B(%M)%b TTY: %B(tty%l)%b HIST#: %B(%h)%b
[OLDPWD: %B$OLDPWD%b] [PWD: %B%~%b]%s
$TALK

However, the PWD: part seems to have been broken when I (finally) upgraded to 3.1.5

Note the following, where $PWD = PWD (literally) in some cases

USER: (tjl) HOST: (localhost) TTY: (ttyp1) HIST#: (1758)
[OLDPWD: /Users/tjl] [PWD: ~]
 cd /

USER: (tjl) HOST: (localhost) TTY: (ttyp1) HIST#: (1759)
[OLDPWD: /Users/tjl] [PWD: /]
 cd /private/tmp

USER: (tjl) HOST: (localhost) TTY: (ttyp1) HIST#: (1760)
[OLDPWD: /] [PWD: ~PWD]
 cd ~

USER: (tjl) HOST: (localhost) TTY: (ttyp1) HIST#: (1761)
[OLDPWD: /private/tmp] [PWD: ~]
 cd Library

USER: (tjl) HOST: (localhost) TTY: (ttyp1) HIST#: (1762)
[OLDPWD: /Users/tjl] [PWD: ~PWD]


A 'cc' to me would be appreciated, as I'm not on the zsh-workers list (I am  
on the zsh-users list if a reply there would be appropriate)

Thanks

TjL


