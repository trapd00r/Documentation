From zsh-users-return-14104-mason-zsh=primenet.com.au@sunsite.dk Wed May 06 18:53:38 2009
Return-Path: <zsh-users-return-14104-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 12184 invoked from network); 6 May 2009 18:53:23 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 6 May 2009 18:53:23 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 83675 invoked from network); 6 May 2009 18:53:05 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 6 May 2009 18:53:05 -0000
Received: (qmail 2850 invoked by alias); 6 May 2009 18:52:44 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 14104
Received: (qmail 23008 invoked from network); 6 May 2009 18:46:01 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 6 May 2009 18:46:01 -0000
Received: from mx.spodhuis.org (redoubt.spodhuis.org [94.142.241.89])
	by bifrost.dotsrc.org (Postfix) with ESMTPS id F34D582D4B6B
	for <zsh-users@sunsite.dk>; Wed,  6 May 2009 20:45:42 +0200 (CEST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws; s=d200902; d=spodhuis.org;
	h=Received:Date:From:To:Cc:Subject:Message-ID:Mail-Followup-To:References:MIME-Version:Content-Type:Content-Disposition:In-Reply-To;
	b=vOmFKQH0dt9Or1AOOgB6p5FAT++SmudlowM86CARNbkDbQQg1zzBG1cwyOuuuSBne1QV5zXRLekmh+kfQ2MjeL1qTt7Jx68Mm6rG8igQbrg2xR/YiaXb/o4D8nwxHmgl38l0UByO2/daNPgQDC9z0s71Yi3a71jJ95BOniIj1PI=;
Received: by smtp.spodhuis.org with local 
	id 1M1m7u-000Pvc-TH; Wed, 06 May 2009 18:45:55 +0000
Date: Wed, 6 May 2009 11:45:54 -0700
From: Phil Pennock <zsh-workers+phil.pennock@spodhuis.org>
To: "Benjamin R. Haskell" <zsh@benizi.com>
Cc: Zsh Users <zsh-users@sunsite.dk>
Subject: Re: Set difference between sets of files
Message-ID: <20090506184554.GA84417@redoubt.spodhuis.org>
Mail-Followup-To: "Benjamin R. Haskell" <zsh@benizi.com>,
	Zsh Users <zsh-users@sunsite.dk>
References: <94de1b620905050936g442490e4t3da42ac3946cb29@mail.gmail.com> <20090505235845.GA68298@redoubt.spodhuis.org> <alpine.LNX.2.00.0905060000380.17577@averatec>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <alpine.LNX.2.00.0905060000380.17577@averatec>
X-Virus-Scanned: ClamAV 0.92.1/9333/Wed May  6 05:55:26 2009 on bifrost
X-Virus-Status: Clean

On 2009-05-06 at 00:17 -0400, Benjamin R. Haskell wrote:
> Am I missing something, or isn't this the canonical case for using 
> associative arrays?

Sets can be implemented using associative arrays, sure.  But zsh also
has auto-unique linear arrays and the functions I provided wrap up the
set manipulation safely (I believe) and concisely.

For sets of a few thousand items (or sometimes an order of magnitude
more), where I can have several such sets at once, to find intersections
and differences, my understanding is that the lists use less memory.

In any case, the posted functions work for me and avoid my having to
cut&paste results of shell commands into a python interpreter.

Obviously, this is always dealing with exceptional situations, since
normal situations are covered with more robust scripts with unittests,
etc, but sometimes life just gets interesting and zsh is there to help
me.

