From zsh-workers-request@math.gatech.edu Wed Sep 24 14:17:30 1997
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 14071 invoked from network); 24 Sep 1997 14:17:29 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 24 Sep 1997 14:17:29 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id KAA28480;
	Wed, 24 Sep 1997 10:00:49 -0400 (EDT)
Resent-Date: Wed, 24 Sep 1997 10:00:49 -0400 (EDT)
Message-Id: <199709241401.QAA14300@hydra.ifh.de>
To: zsh-workers@math.gatech.edu (Zsh hackers list)
Subject: Re: closures: #3 
In-reply-to: "Bruce Stephens"'s message of "Wed, 24 Sep 1997 14:45:56 MET."
             <199709241347.JAA28024@math.gatech.edu> 
Date: Wed, 24 Sep 1997 16:01:17 +0200
From: Peter Stephenson <pws@ifh.de>
Resent-Message-ID: <"9sRCz1.0.uy6.GqHAq"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3518
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Bruce Stephens wrote:
> pws@ifh.de said:
> >   	if (*pptr == Star && pptr[1] && ! 	    (unset(EXTENDEDGLOB) || 
> > !(gflag & GF_TOPLEV) || ! 	     pptr[1] != Tilde || !pptr[2] || 
> > pptr[2] == Bar || 
> 
> Where did gflag and GF_TOPLEV come from?  I think the patch is
> missing a file or two

They were in a previous patch from me, which fixed the bug that a ~ in
a top-level pattern prevented the pattern before it from being marked
as the last portion of a match.  I think the patch is in some recent
versions (certainly seems to be in 3.0.4), but I couldn't tell you
since when.  Without that, just omit this hunk: all that will happen
is that the (*~foo)bar bug won't be fixed, since it relies on the
GF_TOPLEV mechanism.

-- 
Peter Stephenson <pws@ifh.de>       Tel: +49 33762 77366
WWW:  http://www.ifh.de/~pws/       Fax: +49 33762 77413
Deutsches Elektronen-Synchrotron --- Institut fuer Hochenergiephysik Zeuthen
DESY-IfH, Platanenallee 6, 15738 Zeuthen, Germany.

