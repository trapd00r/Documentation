From zsh-users-return-15035-mason-zsh=primenet.com.au@zsh.org Fri Apr 30 17:16:28 2010
Return-Path: <zsh-users-return-15035-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 20642 invoked by alias); 30 Apr 2010 17:16:27 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 15035
Received: (qmail 7163 invoked from network); 30 Apr 2010 17:16:26 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.9 required=5.0 tests=BAYES_00,RCVD_IN_DNSWL_NONE
	autolearn=ham version=3.3.1
Received-SPF: none (ns1.primenet.com.au: domain at brasslantern.com does not designate permitted sender hosts)
MIME-Version: 1.0
In-Reply-To: <20100429223850.14143862@pws-pc>
References: <3663DC29-7A8F-4A0C-8262-5FFE701C8E3A@sysctl.co.uk>
	 <20100413174533.5a15043a@news01>
	 <361816B9-75B6-4C88-8BE9-097B33CA2283@sysctl.co.uk>
	 <201004140914.o3E9EPkL009936@news01.csr.com>
	 <201004140947.o3E9llgG010201@news01.csr.com>
	 <C1A23A01-1F48-4C3B-9232-C44EC0AA7C6F@sysctl.co.uk>
	 <20100423224428.7479faa8@pws-pc> <20100429223850.14143862@pws-pc>
Date: Fri, 30 Apr 2010 09:14:47 -0700
Message-ID: <m2v691a5d911004300914m6b7bc86j2620533bec33f0e9@mail.gmail.com>
Subject: Re: Zsh autocompletion with no access to a parent directory
From: Bart Schaefer <schaefer@brasslantern.com>
To: Peter Stephenson <p.w.stephenson@ntlworld.com>
Cc: zsh-users@zsh.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On Thu, Apr 29, 2010 at 2:38 PM, Peter Stephenson
<p.w.stephenson@ntlworld.com> wrote:
> More from the world of "The Hairiest Shell Function in History, No,
> Really, I Mean, Like, Ever".

Yeah, I keep wondering if it's not way hairier than even necessary, as
a side-effect of having been evolved out of predecessors each of which
was slightly hairier than the one before.

> Well, the input is supposed to be unquoted in two stages. =A0Or something=
.
> I ran across this trying to complete [...]
> with accept-exact-dirs set. =A0That has the added interest over setting
> path-completion to false that you then need a completely unquoted string
> to test as a directory, and the added gotcha that if that doesn't work
> it just blithely carries on doing normal completion so it doesn't
> exercise the logic to put the directory onto the path immediately.

This jibes [*] with my recollection of previous forays into this
swamp, although I never made it as far as discovering that a second
differently-(un)quoted variant of the value in tmp1 was necessary to
press on to the next patch of firm ground.

[*] No, it does not "jive."

> Of course, with code this trivial it's hard to make a mistake. =A0Sob.

If it were all trivial we'd never have any fun.

