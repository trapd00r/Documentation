From zsh-workers-return-19198-mason-zsh=primenet.com.au@sunsite.dk Tue Oct 21 07:30:51 2003
Return-Path: <zsh-workers-return-19198-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 11953 invoked from network); 21 Oct 2003 07:30:51 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 21 Oct 2003 07:30:51 -0000
Received: (qmail 5131 invoked by alias); 21 Oct 2003 07:30:43 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 19198
Received: (qmail 5109 invoked from network); 21 Oct 2003 07:30:42 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 21 Oct 2003 07:30:42 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [66.93.131.57] by sunsite.dk (MessageWall 1.0.8) with SMTP; 21 Oct 2003 7:30:42 -0000
Received: from lorien.emufarm.org (localhost [127.0.0.1])
	by lorien.emufarm.org (8.12.7/8.12.7) with ESMTP id h9L7Ueli017315;
	Tue, 21 Oct 2003 00:30:40 -0700
Received: (from duvall@localhost)
	by lorien.emufarm.org (8.12.7/8.12.7/Submit) id h9L7Ueok017314;
	Tue, 21 Oct 2003 00:30:40 -0700
Date: Tue, 21 Oct 2003 00:30:39 -0700
From: Danek Duvall <duvall@emufarm.org>
To: Philippe Troin <phil@fifi.org>
Cc: zsh-workers@sunsite.dk
Subject: Re: Subshell exiting, suspend problem
Message-ID: <20031021073039.GC1167@lorien.emufarm.org>
Mail-Followup-To: Danek Duvall <duvall@emufarm.org>,
	Philippe Troin <phil@fifi.org>, zsh-workers@sunsite.dk
References: <20030926165251.GA14940@clipper.ens.fr> <20031003205809.GE4255@lorien.emufarm.org> <873ceaugby.fsf@ceramic.fifi.org> <20031003222443.GH4255@lorien.emufarm.org> <20031008070418.GD692@lorien.emufarm.org> <87llrwur5j.fsf@ceramic.fifi.org> <87llrjby8w.fsf@ceramic.fifi.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <87llrjby8w.fsf@ceramic.fifi.org>
User-Agent: Mutt/1.5.4i

On Fri, Oct 17, 2003 at 09:54:55AM -0700, Philippe Troin wrote:

> Can you check that you can reproduce the bit about failing to detect
> tcsetpgrp properly?

I can't.  At this point, it's been long enough that I can't remember
what I might have done it to push it one way or the other.

However ... I plucked the test to check if tcsetpgrp() works or not out,
and ran it with stdin redirected from /dev/null, and it promptly fails.
The test is only run, however, if test -t 0 is true.  I must have
somehow hooked stdin up to something that was a terminal, but wasn't the
controlling terminal?

I'm a bit confused, especially since our build script has changed
recently to redirect all stdin from /dev/null, but I'm not using that
version of the build script, etc.  At any rate, I've lost the ability to
reproduce what I did, unless I stumble across the magic incantation
again.

> BTW, I could not reproduce your problem at all. If I run configure in
> the background, it just stops during the "checking if tcsetpgrp()
> actually works..." test. This patch fixes this part.

Yeah, I still see that.

If I have time, and can reproduce the problem, I'll send out another
message. If I don't, I'll just mutter quietly in a dark corner
somewhere.  :)

Thanks,
Danek

