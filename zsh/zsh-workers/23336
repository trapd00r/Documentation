From zsh-workers-return-23336-mason-zsh=primenet.com.au@sunsite.dk Fri Apr 27 14:55:16 2007
Return-Path: <zsh-workers-return-23336-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 21717 invoked from network); 27 Apr 2007 14:55:15 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.8 (2007-02-13) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=BAYES_00,FORGED_RCVD_HELO
	autolearn=ham version=3.1.8
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 27 Apr 2007 14:55:15 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 86087 invoked from network); 27 Apr 2007 14:55:09 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 27 Apr 2007 14:55:09 -0000
Received: (qmail 17853 invoked by alias); 27 Apr 2007 14:55:03 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 23336
Received: (qmail 17826 invoked from network); 27 Apr 2007 14:55:01 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 27 Apr 2007 14:55:01 -0000
Received: (qmail 85495 invoked from network); 27 Apr 2007 14:55:00 -0000
Received: from 62-173-165-248.dcpool.ip.kpnqwest.it (HELO mail.masobit.net) (62.173.165.248)
  by a.mx.sunsite.dk with SMTP; 27 Apr 2007 14:54:57 -0000
Received: from lothlorien.passione (localhost [127.0.0.1])
	by mail.masobit.net (Postfix) with ESMTP id 11B3D33B7F
	for <zsh-workers@sunsite.dk>; Fri, 27 Apr 2007 16:54:56 +0200 (CEST)
Received: by lothlorien.passione (Postfix, from userid 1000)
	id 1654A1628; Fri, 27 Apr 2007 16:49:06 +0200 (CEST)
Date: Fri, 27 Apr 2007 16:49:05 +0200
From: Fernando Vezzosi <fvezzosi@masobit.net>
To: zsh-workers@sunsite.dk
Subject: BUG: "setopt autocd" and auto-cd completion of dirs with funny (Unicode) chars
Message-ID: <20070427144905.GA1379@lothlorien.passione>
Mail-Followup-To: Fernando Vezzosi <fvezzosi@masobit.net>,
	zsh-workers@sunsite.dk
MIME-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-sha1;
	protocol="application/pgp-signature"; boundary="uAKRQypu60I7Lcqm"
Content-Disposition: inline
X-Operating-System: Linux lothlorien 2.6.20.1-lothlorien #31337 Thu Feb 22 11:55:10 CET 2007 i686 GNU/Linux
X-Uptime: 16:34:40 up  1:42, 12 users,  load average: 0.24, 0.20, 0.18
User-Agent: Mutt/1.5.13 (2006-08-11)


--uAKRQypu60I7Lcqm
Content-Type: text/plain; charset=utf-8
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

Hi -workers,
zsh-beta 4.3.2-dev-1+20070413-1 on Debian Sid (i686-pc-linux-gnu) here..

I use zsh-beta because the plain zsh package doesn't complete
Unicode (UTF-8) filenames and dirs.  With zsh-beta it's much better, but
it fails when auto-cd`ing into some Unicode-named directory..  Example
follows:

% ls -F
=E2=99=A0=E2=99=A3=E2=99=A5=E2=99=A6/ some_dir/ another_dir/
% setopt autocd
% cd =E2=99=A0=E2=99=A3=E2=99=A5=E2=99=A6
% pwd
/home/buccia/=E2=99=A0=E2=99=A3=E2=99=A5=E2=99=A6
% cd ../
% ./<TAB>
(Completes all directories without Unicode names)
% ./=E2=99=A0=E2=99=A3<TAB>
(Doesn't complete anything)
% cd ./=E2=99=A0=E2=99=A3<TAB> # I insert "cd" in front of it
% cd ./=E2=99=A0=E2=99=A3=E2=99=A5=E2=99=A6 # correctly completed

Locale is en_US.UTF-8
Menu completion works fine, but I tend not to use it..
autocd completion of directories without funny wchars works normally.

If you need any other details, please let me know!

Bye, and keep up the good work!

--=20
  Fernando Vezzosi
	       3F29 4D20 510E E1AE 991D  3B12 D6BE 7C05 B289 97C9

--uAKRQypu60I7Lcqm
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: Digital signature
Content-Disposition: inline

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)

iD8DBQFGMg1h1r58BbKJl8kRArw4AJ9tRqHk4SV1XFCnEg5rR7teqOPNYQCfaBID
WoEvFCYqCkheyzAg8YIllK0=
=gHxg
-----END PGP SIGNATURE-----

--uAKRQypu60I7Lcqm--

