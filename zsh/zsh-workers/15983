From zsh-workers-return-15983-mason-zsh=primenet.com.au@sunsite.dk Mon Oct 08 15:33:08 2001
Return-Path: <zsh-workers-return-15983-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17431 invoked from network); 8 Oct 2001 15:33:07 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 8 Oct 2001 15:33:06 -0000
Received: (qmail 23130 invoked by alias); 8 Oct 2001 15:33:00 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 15983
Received: (qmail 23116 invoked from network); 8 Oct 2001 15:33:00 -0000
X-VirusChecked: Checked
Sender: kiddleo@cav.logica.co.uk
Message-ID: <3BC1C70D.4597D375@yahoo.co.uk>
Date: Mon, 08 Oct 2001 16:32:29 +0100
From: Oliver Kiddle <okiddle@yahoo.co.uk>
X-Mailer: Mozilla 4.77 [en] (X11; U; Linux 2.2.15 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: zsh-workers@sunsite.dk
Subject: PATCH: small changes to _sysctl, _wget etc
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

This is a few small changes to completion functions: Darwin support in
_sysctl, _wget updates for wget 1.7 and newer galeon takes files as
well as urls as a parameter. This to go on both branches.

Oliver

Index: Completion/Unix/Command/_sysctl
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_sysctl,v
retrieving revision 1.3
diff -u -r1.3 _sysctl
--- Completion/Unix/Command/_sysctl	2001/08/03 16:53:26	1.3
+++ Completion/Unix/Command/_sysctl	2001/10/08 15:15:04
@@ -13,8 +13,8 @@
       '(-o)-x[show opaques as well (entire values)]' \
       '(-a)*:sysctl variable:_multi_parts -i . sysctlvars'
   ;;
-  freebsd[0-4].*)
-    : ${(A)_cache_sysctlvars:=${${$(sysctl -A):#[^a-z]*}%%:*}}
+  freebsd[0-4].*|darwin*)
+    : ${(A)_cache_sysctlvars:=${${$(sysctl -A 2>/dev/null):#[^a-z]*}%%:*}}
     _arguments -s -A "-*" \
       '(-w -X *)-a[list all]' \
       '(-w -X *)-A[show all opaques (values suppressed)]' \
Index: Completion/Unix/Command/_user_admin
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_user_admin,v
retrieving revision 1.2
diff -u -r1.2 _user_admin
--- Completion/Unix/Command/_user_admin	2001/08/09 13:57:30	1.2
+++ Completion/Unix/Command/_user_admin	2001/10/08 15:15:04
@@ -19,7 +19,7 @@
     '(-D)-f+[specify inactive days]:inactive days'
     '(-D)-g+[initial group]:initial group:_groups'
     '(-D)-G+[supplementary groups]:supplementary groups:_groups -S,'
-    "(-D)-s+[shell]:shell:( $shells /dev/null )"
+    "(-D)-s+[shell]:shell:( $shells /bin/false )"
     '(-D -M)-m[create home directory]'
     '(-D)-u[uid]:uid'
     '(-D)-o[allow non unique uid]'
Index: Completion/Unix/Command/_webbrowser
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_webbrowser,v
retrieving revision 1.1
diff -u -r1.1 _webbrowser
--- Completion/Unix/Command/_webbrowser	2001/04/02 12:05:13	1.1
+++ Completion/Unix/Command/_webbrowser	2001/10/08 15:15:04
@@ -1,3 +1,3 @@
-#compdef amaya arena chimera express grail gzilla hotjava mmm mozilla opera www xmosaic Mosaic
+#compdef amaya arena chimera express grail gzilla hotjava mmm mozilla opera www xmosaic Mosaic galeon
 
 _urls -f
Index: Completion/Unix/Command/_wget
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_wget,v
retrieving revision 1.3
diff -u -r1.3 _wget
--- Completion/Unix/Command/_wget	2001/08/06 14:42:04	1.3
+++ Completion/Unix/Command/_wget	2001/10/08 15:15:04
@@ -74,6 +74,12 @@
   '(--cache -C)'{--cache=,-C+}'[(dis)allow server-cached data]:cache:(on off)' \
   '--htmlify=:htmlify:' \
   '--no:no:->noflags' \
+  '--cookies=[turn cookies on or off]:cookies:(on off)' \
+  '--load-cookies=[specify file to load cookies from]:cookie file:_files' \
+  '--save-cookies=[specify file to save cookies to]:cookie file:_files' \
+  '--no-http-keep-alive[disable HTTP keep-alive]' \
+  '--sslcertfile=[specify client certificate]:client certificate file:_files' \
+  '--sslcertkey=[specify keyfile for certificate]:keyfile:_files' \
   '*:url:_urls' && return 0
 
 case "$state" in
Index: Completion/Unix/Type/_urls
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Type/_urls,v
retrieving revision 1.1
diff -u -r1.1 _urls
--- Completion/Unix/Type/_urls	2001/04/02 11:43:10	1.1
+++ Completion/Unix/Type/_urls	2001/10/08 15:15:04
@@ -1,4 +1,4 @@
-#compdef curl galeon
+#compdef curl
 
 # Usage: _urls [-f]
 # Options:

_____________________________________________________________________
This message has been checked for all known viruses by the 
MessageLabs Virus Scanning Service. For further information visit
http://www.messagelabs.com/stats.asp

