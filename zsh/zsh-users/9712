From zsh-users-return-9712-mason-zsh=primenet.com.au@sunsite.dk Sun Nov 27 01:31:16 2005
Return-Path: <zsh-users-return-9712-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 14809 invoked from network); 27 Nov 2005 01:31:12 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.0 (2005-09-13) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00,
	FORGED_RCVD_HELO autolearn=ham version=3.1.0
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 27 Nov 2005 01:31:12 -0000
Received: (qmail 56441 invoked from network); 27 Nov 2005 01:31:05 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 27 Nov 2005 01:31:04 -0000
Received: (qmail 2694 invoked by alias); 27 Nov 2005 01:30:52 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 9712
Received: (qmail 2682 invoked from network); 27 Nov 2005 01:30:50 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 27 Nov 2005 01:30:50 -0000
Received: (qmail 55321 invoked from network); 27 Nov 2005 01:30:50 -0000
Received: from jlefevre.net1.nerim.net (HELO ay.vinc17.org) (80.65.226.245)
  by a.mx.sunsite.dk with SMTP; 27 Nov 2005 01:30:47 -0000
Received: from lefevre by ay.vinc17.org with local (Exim 4.54)
	id 1EgBNL-0000ZQ-Q9; Sun, 27 Nov 2005 02:30:43 +0100
Date: Sun, 27 Nov 2005 02:30:42 +0100
From: Vincent Lefevre <vincent@vinc17.org>
To: zsh-users <zsh-users@sunsite.dk>
Subject: Re: path and += troubles
Message-ID: <20051127013042.GK13460@ay.vinc17.org>
Mail-Followup-To: zsh-users <zsh-users@sunsite.dk>
References: <2FDFACEA-C7A6-4F45-897D-B786CC632463@pointcircle.com> <200511261032.35289.cht@chello.at> <20051126132557.GH13460@ay.vinc17.org> <E350C29B-12FD-4276-8EA3-D13B4E11AE41@pointcircle.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
In-Reply-To: <E350C29B-12FD-4276-8EA3-D13B4E11AE41@pointcircle.com>
X-Mailer-Info: http://www.vinc17.org/mutt/
User-Agent: Mutt/1.5.11-vl-20051124

On 2005-11-26 07:54:35 -0700, Steven Klass wrote:
> Here's some of the cleanup stuff I read about in this list..
> 	path=($^path(N))
> 	setopt EXTENDED_GLOB
> 	path=(${${path//\/##/\/}%/})
> 	unsetopt EXTENDED_GLOB
> 	typeset -U path

This is a bad idea if the user has EXTENDED_GLOB set. Isn't it
possible to turn on EXTENDED_GLOB locally in parameter expansion?

> But can anyone please explain my number 1 item - that is really  
> annoying me..
> 
> 	appendPath() {
> 		# if the path exists delete it..
> 		deletePath $1 $2
> 		# Append the path to the end..
> 		$1+=($2)
> 	}
> 
> 	1.  Why does += not work when adding to the array - It should right?

$1+=($2) doesn't make sense IMHO. You probably need an eval.

-- 
Vincent Lefèvre <vincent@vinc17.org> - Web: <http://www.vinc17.org/>
100% accessible validated (X)HTML - Blog: <http://www.vinc17.org/blog/>
Work: CR INRIA - computer arithmetic / SPACES project at LORIA

