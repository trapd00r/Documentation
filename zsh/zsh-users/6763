From zsh-users-return-6763-mason-zsh=primenet.com.au@sunsite.dk Tue Nov 11 16:24:08 2003
Return-Path: <zsh-users-return-6763-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 19155 invoked from network); 11 Nov 2003 16:24:07 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 11 Nov 2003 16:24:07 -0000
Received: (qmail 23554 invoked by alias); 11 Nov 2003 16:23:51 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 6763
Received: (qmail 23510 invoked from network); 11 Nov 2003 16:23:50 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 11 Nov 2003 16:23:50 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [66.93.131.57] by sunsite.dk (MessageWall 1.0.8) with SMTP; 11 Nov 2003 16:23:50 -0000
Received: from lorien.emufarm.org (localhost [127.0.0.1])
	by lorien.emufarm.org (8.12.7/8.12.7) with ESMTP id hABGNd1C026951;
	Tue, 11 Nov 2003 08:23:39 -0800
Received: (from duvall@localhost)
	by lorien.emufarm.org (8.12.7/8.12.7/Submit) id hABGNc3s026950;
	Tue, 11 Nov 2003 08:23:38 -0800
Date: Tue, 11 Nov 2003 08:23:38 -0800
From: Danek Duvall <duvall@emufarm.org>
To: Oliver Kiddle <okiddle@yahoo.co.uk>
Cc: Jonas Juselius <jonas@iki.fi>, zsh-users@sunsite.dk
Subject: Re: Completion function for bitkeeper?
Message-ID: <20031111162338.GD23138@lorien.emufarm.org>
Mail-Followup-To: Danek Duvall <duvall@emufarm.org>,
	Oliver Kiddle <okiddle@yahoo.co.uk>, Jonas Juselius <jonas@iki.fi>,
	zsh-users@sunsite.dk
References: <20030523160020.GA9026@borho.org> <20030523160155.GA14388@lorien.emufarm.org> <20031106153225.GA491@lorien.emufarm.org> <1281.1068232665@athlon> <20031110182013.GA20547@lorien.emufarm.org> <9219.1068538977@gmcs3.local>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <9219.1068538977@gmcs3.local>
User-Agent: Mutt/1.5.4i

On Tue, Nov 11, 2003 at 09:22:57AM +0100, Oliver Kiddle wrote:

> Searching for expl in zshcompsys, it is only used in examples. The one
> exception is in the context of _arguments actions where it isn't just a
> convention (_arguments can't use positional parameters for actions).

And as an action in _arguments is exactly how I'm using the _sccsfiles
function.  See my posting from May 23 that includes the _bk script.

I'm not sure what you mean by your parenthetical statement.  My action
certainly does have positional parameters passed to it, some of which
are the ones I specify as its arguments in my call to _arguments, some
of which are passed in without my telling them to be.

> I certainly can't see anywhere where it suggests that you can expect
> it to be set by a calling function.

Except by _arguments.

> The two entirely different sets of information system isn't ideal but
> the positional parameters are the most convenient place for passing
> information around.

Then why in $expl in the single case of _arguments?

> For now completion functions should avoid certain compadd options for
> passing other information. zparseopts tends to make it easy enough to
> follow this. If you really want lots of options, follow _arguments and
> have a `-O array' option for passing compadd options.

Hm.  I just saw that.  So in addition to the documented methods of using
$expl in an action of _arguments to get compadd args and using some of
the positional parameters, there's also the suggested method of passing
them in through -O?  What a wealth!

> compadd arguments aren't passed in $expl.

Except from _arguments (not to belabor the point or anything ;-).

Thanks,
Danek

