From zsh-workers-return-16874-mason-zsh=primenet.com.au@sunsite.dk Thu Mar 21 18:39:35 2002
Return-Path: <zsh-workers-return-16874-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 26378 invoked from network); 21 Mar 2002 18:39:34 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 21 Mar 2002 18:39:34 -0000
Received: (qmail 14232 invoked by alias); 21 Mar 2002 18:39:22 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 16874
Received: (qmail 14212 invoked from network); 21 Mar 2002 18:39:20 -0000
From: Borsenkow Andrej <Andrej.Borsenkow@mow.siemens.ru>
To: Oliver Kiddle <okiddle@yahoo.co.uk>
Cc: Zsh hackers list <zsh-workers@sunsite.dk>
Subject: Re: PATCH: print -f with -s/-z
In-Reply-To: <20020319142106.GA19527@logica.com>
References: <20020319142106.GA19527@logica.com>
Content-Type: text/plain; charset=KOI8-R
Content-Transfer-Encoding: quoted-printable
X-Mailer: Evolution/1.0.2-4mdk 
Date: 21 Mar 2002 21:39:03 +0300
Message-Id: <1016735949.3843.2.camel@localhost.localdomain>
Mime-Version: 1.0

=F7 =F7=D4=D2, 19.03.2002, =D7 17:21, Oliver Kiddle =
=CE=C1=D0=C9=D3=C1=CC:
> This patch is basically the same as 16259 except that I've sorted
> out those things which held me back from committing it before
> (open_memstream prototype and use of gettempname()).
>=20
...
> Index: Src/builtin.c
> =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
> RCS file: /cvsroot/zsh/zsh/Src/builtin.c,v
> retrieving revision 1.71
> diff -u -r1.71 builtin.c
> --- Src/builtin.c	4 Mar 2002 15:52:00 -0000	1.71
> +++ Src/builtin.c	19 Mar 2002 14:12:35 -0000
> @@ -27,6 +27,9 @@
>   *
>   */
> =20
> +/* this is defined so we get the prototype for open_memstream */
> +#define _GNU_SOURCE 1
> +


It is a bit weird to define it unconditionally even on a system that =
has
nothing to do with GNU.=20

If some extra steps are needed to pull in prototype for open_memstream =
I
prefer configure to test for them instead.

-andrej

