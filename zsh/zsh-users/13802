From zsh-users-return-13802-mason-zsh=primenet.com.au@sunsite.dk Tue Feb 03 11:27:17 2009
Return-Path: <zsh-users-return-13802-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1876 invoked from network); 3 Feb 2009 11:27:04 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 3 Feb 2009 11:27:04 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 79279 invoked from network); 3 Feb 2009 11:26:50 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 3 Feb 2009 11:26:50 -0000
Received: (qmail 17188 invoked by alias); 3 Feb 2009 11:26:33 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 13802
Received: (qmail 17176 invoked from network); 3 Feb 2009 11:26:32 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 3 Feb 2009 11:26:32 -0000
Received: from mail-fx0-f23.google.com (mail-fx0-f23.google.com [209.85.220.23])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 1E01B80271F0
	for <zsh-users@sunsite.dk>; Tue,  3 Feb 2009 12:26:28 +0100 (CET)
Received: by fxm4 with SMTP id 4so153698fxm.21
        for <zsh-users@sunsite.dk>; Tue, 03 Feb 2009 03:26:28 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:cc:content-type
         :content-transfer-encoding;
        bh=B0kouzwANLlcNBRFWSl7RU0aVK8dnepaflMxmLioc/c=;
        b=GBNAFKUtPUfDDZZiCx4Suj+vHIWjJPpf3fAjRK7w0PtN5r8aSEeeT1SHA681EFqDXl
         0UVlcwrl+zKZM5d/hYClojXDVVfRzcPy+2a9ciwTZhHeo11BoOFLUSMkkSrM+p3DNF4T
         8DmYYq0JgYd1aRsOFqR+SpxZBOUpHbDm534Qg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type:content-transfer-encoding;
        b=rd2DTMSmqsdIpT9EBotqfNSHy3vRCLO53Mn6li6LFScqcG0F3MgVmVCD9b8+vGieyB
         6t72JE1ysiCmk+zxWT41+lyLcUGC96D++Qsx5/4U1gwdjITHzQx70L5rlHCzTlAomwMC
         cKRA2W8nZc12R5KVRJQKXCJRwI+Ri6UwIsP2Y=
MIME-Version: 1.0
Received: by 10.181.207.9 with SMTP id j9mr1387160bkq.149.1233660388591; Tue, 
	03 Feb 2009 03:26:28 -0800 (PST)
In-Reply-To: <200902030925.n139PTcp029804@news01.csr.com>
References: <e72508710902021846o3e53b2dcrde38a25641ee1367@mail.gmail.com>
	 <200902030925.n139PTcp029804@news01.csr.com>
Date: Tue, 3 Feb 2009 09:26:28 -0200
Message-ID: <e72508710902030326wdc8b719qec20951224bf733e@mail.gmail.com>
Subject: Odp: Midnight Commander and zsh - "Warning: cannot change 
	directory..."
From: "Zbigniew B." <zbigniew014@gmail.com>
To: Peter Stephenson <pws@csr.com>
Cc: zsh-users@sunsite.dk
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: ClamAV 0.92.1/8945/Tue Feb  3 08:03:14 2009 on bifrost
X-Virus-Status: Clean

For example, if I'm going to enter "News" sub-dir, it just says:
"Warning: cannot change to /home/zb/News".

There are two things worthy to mention:

1. That mentioned earlier side-effect of moving the panels up is more
likely to see, when the sub-directory name (the one I'm going to
enter) contains some non-alphanumerical character (f.e.
"#sharedobject"). But it's not limited to only such case.

2. In fact, I couldn't see that effect, when I changed my locale to
"en_US" - in such case there was just the "warning..." (but I didn't
try that long, so I'm not sure, is the english locale "effect-free").
Perhaps mc has issues with i18n? Or it's zsh subshell-related rather?

If you change your LANG and LC_ALL to f.e. "pl_PL" - you can see that
annoying effect faster.

Zbigniew

2009/2/3, Peter Stephenson <pws@csr.com>:
> "Zbigniew B." wrote:
>> I noticed strange problems when running mc from within zsh: when
>> trying to change directory (using <Enter>, or <F3>) very often - no
>> idea, what it's depending on - there's a message: "Warning: cannot
>> change directory..." (or something like that), although in fact it
>> changed to new directory. Even worse: sometimes after printing out the
>> warning both mc's panels are moved higher, making the screen unusable
>> (the topmost line, of course, goes away).
>>
>> I noticed, it's somehow related to subshell, because no such problems
>> at all, when mc has been run with "mc -u".
>>
>> Surely someone noticed the problem earlier, and perhaps even found the
>> cure? zsh 4.3.9, mc 4.6.2-pre1, Linux, Glibc 2.8
>
> No, but if you can track down the exact error message we might be able
> to suggest possibilities.
>
> --
> Peter Stephenson <pws@csr.com>                  Software Engineer
> CSR PLC, Churchill House, Cambridge Business Park, Cowley Road
> Cambridge, CB4 0WZ, UK                          Tel: +44 (0)1223 692070
>

