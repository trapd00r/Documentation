From zsh-users-return-4657-mason-zsh=primenet.com.au@sunsite.dk Wed Feb 06 12:18:57 2002
Return-Path: <zsh-users-return-4657-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 15442 invoked from network); 6 Feb 2002 12:18:56 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 6 Feb 2002 12:18:56 -0000
Received: (qmail 22567 invoked by alias); 6 Feb 2002 12:18:32 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4657
Received: (qmail 22555 invoked from network); 6 Feb 2002 12:18:31 -0000
Date: Wed, 6 Feb 2002 12:18:24 +0000
From: Rik <rik@spoon.pkl.net>
To: zsh-users@sunsite.dk
Subject: Re: ssh completion problem
Message-ID: <20020206121824.GA1335@spoon.pkl.net>
References: <1020205170847.ZM29675@candle.brasslantern.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <1020205170847.ZM29675@candle.brasslantern.com>
User-Agent: Mutt/1.3.25i

On Tue, Feb 05, 2002 at 05:08:47PM +0000, Bart Schaefer wrote:
> The symptom is that, even though I have a `users-hosts' style (real account
> names munged below to avoid email address harvesters) such as:
> 
>     zstyle ':completion:*:(ssh|scp):*:my-accounts' users-hosts \
>        lll@bbb.com zzz@iii.com sss@zzz.com
> 
> when I complete after `lll@' I get offered all possible hosts from the
> `hosts' style.  I want to be offered only `bbb.com' in that case.
> 
> (When I complete after just `l', it completes to `lll', then waits for
> another tab.)

That's exactly one of the things that was bothering me. I just complete
from an arbitrary list as so (using your example accounts):

_ssh_acounts () {
    compadd lll@bbb.com zzz@iii.com sss@zzz.com
}
compdef _ssh_accounts ssh:

It then seems to work the way I expect it to (which says nothing of the
correctness :))

-- 
PGP Key: D2729A3F - Keyserver: wwwkeys.uk.pgp.net - rich at rdrose dot org
Key fingerprint = 5EB1 4C63 9FAD D87B 854C  3DED 1408 ED77 D272 9A3F
Public key also encoded with outguess on http://rikrose.net

