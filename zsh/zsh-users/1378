From zsh-workers-request@math.gatech.edu Mon Mar 09 17:55:22 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 26480 invoked from network); 9 Mar 1998 17:55:21 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 9 Mar 1998 17:55:21 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id MAA00690;
	Mon, 9 Mar 1998 12:42:13 -0500 (EST)
Resent-Date: Mon, 9 Mar 1998 12:41:19 -0500 (EST)
Message-ID: <19980309194208.A6635@fax-hk.kappa.ro>
Date: Mon, 9 Mar 1998 19:42:08 +0200
From: Mircea Damian <dmircea@mail.kappa.ro>
To: Bart Schaefer <schaefer@brasslantern.com>,
        Mircea Damian <dmircea@mail.kappa.ro>, zsh-users@math.gatech.edu
Subject: Re: question
References: <19980309132719.A8586@fax-hk.kappa.ro> <199803091148.LAA08838@taos.demon.co.uk> <slrn6g7vhp.o10.mason@coral.primenet.com.au> <19980309180141.A4396@fax-hk.kappa.ro> <980309093033.ZM9449@candle.brasslantern.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 0.90.5i
In-Reply-To: <980309093033.ZM9449@candle.brasslantern.com>; from Bart Schaefer on Mon, Mar 09, 1998 at 09:30:33AM -0800
X-Operating-System: Linux mail 2.0.33
Resent-Message-ID: <"R1qk82.0.y7._c21r"@math>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/1378
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

On Mon, Mar 09, 1998 at 09:30:33AM -0800, Bart Schaefer wrote:
> On Mar 9,  6:01pm, Mircea Damian wrote:
> } Subject: Re: question
> }
> } Another issue:
> }  There is a problem in zsh-3.0.5 which I can't reproduce it. Sometimes, not
> } very often, it happens to exit unexpectedly from my session.
> 
> Have you by any chance applied a patch for the HIST_REDUCE_BLANKS option?
> The most recently posted version of that patch -- which was quite a while
> ago, admittedly -- applies (IIRC) without rejections to zsh-3.0.x, but
> introduces a bug that causes the shell to exit as soon as the length of
> the history exactly equals HISTSIZE.  
> 
> However, I doubt that's the problem ... the only place in the code that
> I can find that would print the string "logout" on the same line as the
> prompt, like you showed here:
> 
> } dmircea@mail:/home/dmircea% logout
> 
> Is this bit of init.c:
> 
> 	if (!(isset(IGNOREEOF) && interact)) {
> #if 0
> 	    if (interact)
> 		fputs(islogin ? "logout\n" : "exit\n", stderr);
> #endif
> 	    zexit(lastval, 0);
> 	    continue;
> 	}
> 
> That would mean that (1) you've changed the `#if 0' to get that code to
> compile and (2) zsh is seeing end-of-file on the terminal.  You might want
> to try "setopt ignoreeof" and just to see what happens.
AFAIK the archive that I used was a clean one. I don't remember exactly
were I download it.

I'm sure that "setopt ignoreeof" will solve this problem but I do like to
exit from my session with ^D.

If it will happen again may be I'm gonna make some investigation(I'm very
busy... I'm student too).


-- 
Mircea Damian
Kappa Administrator
dmircea@roedu.net, dmircea@lbi.ro, dmircea@kappa.ro
MD65-RIPE, MD2225, MD1-6BONE
Phone: +40-1-7719245

