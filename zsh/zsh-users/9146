From zsh-users-return-9146-mason-zsh=primenet.com.au@sunsite.dk Sun Jul 24 22:12:55 2005
Return-Path: <zsh-users-return-9146-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 14141 invoked from network); 24 Jul 2005 22:12:53 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 24 Jul 2005 22:12:53 -0000
Received: (qmail 17877 invoked from network); 24 Jul 2005 22:12:46 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 24 Jul 2005 22:12:45 -0000
Received: (qmail 16533 invoked by alias); 24 Jul 2005 22:12:38 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 9146
Received: (qmail 16523 invoked from network); 24 Jul 2005 22:12:38 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 24 Jul 2005 22:12:38 -0000
Received: (qmail 16914 invoked from network); 24 Jul 2005 22:12:38 -0000
Received: from tantale.fifi.org (64.81.251.130)
  by a.mx.sunsite.dk with SMTP; 24 Jul 2005 22:12:32 -0000
Received: from ceramic.fifi.org (Debian-exim@ceramic.fifi.org [64.81.251.131])
	by tantale.fifi.org (8.9.3p2/8.9.3/Debian 8.9.3-21) with ESMTP id PAA04621;
	Sun, 24 Jul 2005 15:12:28 -0700
Received: from phil by ceramic.fifi.org with local (Exim 4.34)
	id 1Dwohw-00025H-2E; Sun, 24 Jul 2005 15:12:28 -0700
To: Meino Christian Cramer <Meino.Cramer@gmx.de>
Cc: zsh-users@sunsite.dk
Subject: Re: Command != command ???
References: <20050724.074251.74755659.Meino.Cramer@gmx.de>
Mail-Copies-To: nobody
From: Philippe Troin <phil@fifi.org>
Date: 24 Jul 2005 15:12:28 -0700
In-Reply-To: <20050724.074251.74755659.Meino.Cramer@gmx.de>
Message-ID: <87r7dnsvjn.fsf@ceramic.fifi.org>
Lines: 50
User-Agent: Gnus/5.09 (Gnus v5.9.0) Emacs/21.2
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Checker-Version: SpamAssassin 3.0.4 (2005-06-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.2 required=5.0 tests=BAYES_00,PLING_QUERY 
	autolearn=no version=3.0.4

Meino Christian Cramer <Meino.Cramer@gmx.de> writes:

> Hi,
> 
>  In the root of the directory tree, which is filled which snapshots
>  from my digicam I submitted the command:
> 
> 	  print **/*.jpg
> 
>  which printf out all filenames of my snaphots. FINE ! :)
> 
>  Then I wrote this script:
> 
>      #!/bin/zsh
> 	 # gather EXIF-data
> 	  
>      if [ ! -d ./EXIF ]
>      then
>          mkdir ./EXIF ]
>      fi    
>      
>      for i in **/*.jpg                       <<<---- line 7
>      do
>          echo "examine $i..."
>          idx=0;
>          fn=$(basename $i .jpg)
>          fnex=${fn}.exif-${idx}.txt	
>          while [ -f ./EXIF/${fnex} ]
>          do
>              idx=$(( idx + 1 ))
>              fnex=${fn}.exif-${idx}.txt
>          done
>          jhead -v $i > ./EXIF/${fnex}
>      done
> 
> 
>   which I started from the same point, where I did my
> 
> 	  print **/*.jpg
> 
>   but now, zsh said to me:
> 
>       ./mkexif.sh:7: no matches found: **/*.jpg

You setopt extendglob in your zshrc, which is not sourced for your script.

Either move the setopt to zshenv, or add setopt extendedglob to your
script.

Phil.

