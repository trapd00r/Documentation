From zsh-workers-return-7913-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Sep 17 12:44:33 1999
Return-Path: <zsh-workers-return-7913-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17650 invoked from network); 17 Sep 1999 12:44:31 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 17 Sep 1999 12:44:31 -0000
Received: (qmail 26325 invoked by alias); 17 Sep 1999 12:44:21 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7913
Received: (qmail 26314 invoked from network); 17 Sep 1999 12:44:19 -0000
Message-ID: <37E2377A.D65566BC@u.genie.co.uk>
Date: Fri, 17 Sep 1999 13:43:38 +0100
From: Oliver Kiddle <opk@u.genie.co.uk>
X-Mailer: Mozilla 4.61 [en] (Win95; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Adam Spiers <adam@spiers.net>
CC: zsh-workers@sunsite.auc.dk
Subject: Re: _man only uses $manpath
References: <199909170945.LAA02310@beta.informatik.hu-berlin.de> <19990917122225.B27658@thelonious.new.ox.ac.uk>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Adam Spiers wrote:
> 
> No, the GNU man displays all the man paths it will use if invoked as
> `man -w':

It seems that GNU man itself varies. The GNU man on the debian linux
system I have access to at work prints:
What manual page do you want?
in response to -w with no argument and has no -W option. Note that it
does return an exit code of 1 though so we can still use man -w if we
check the exit code. 

> In the GNU case, you can just grep /etc/man.config for `^MANPATH '.

That must be specific to your linux distribution as opposed to GNU man.

> I'd rather keep guessing as a last resort.  Maybe try man -w and check
> the exit code, then
>   if [[ -r /etc/man.config ]]; then

That's probably the best approach as long as we don't find a system that
breaks it.

Oliver Kiddle

