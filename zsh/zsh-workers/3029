From zsh-workers-request@euclid.skiles.gatech.edu Tue Mar 25 23:06:49 1997
Return-Path: <zsh-workers-request@euclid.skiles.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 14536 invoked from network); 25 Mar 1997 23:06:46 -0000
Received: from euclid.skiles.gatech.edu (list@130.207.146.50)
  by coral.primenet.com.au with SMTP; 25 Mar 1997 23:06:46 -0000
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id RAA03234; Tue, 25 Mar 1997 17:55:42 -0500 (EST)
Resent-Date: Tue, 25 Mar 1997 17:55:42 -0500 (EST)
Date: Mon, 24 Mar 1997 18:51:55 GMT
From: Zefram <zefram@dcs.warwick.ac.uk>
Message-Id: <28110.199703241851@stone.dcs.warwick.ac.uk>
Subject: comp1 module
X-Patch: 228
Resent-Message-ID: <"pCjmx3.0.Oo.gV5Ep"@euclid>
To: zsh-workers@math.gatech.edu
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3029
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

-----BEGIN PGP SIGNED MESSAGE-----

This patch moves some completion-related things from the main zsh
executable into the comp1 module (where they belong).  The clwords
word array and related variables, the incompctlfunc flag, and the code
implementing read's -l and -c options are all moved.  Furthermore, the
remaining type definitions for the completion table are moved into comp.h.
There are no changes to functionality, except for the order of processing
of some meaningless combinations of read options.

 -zefram

begin 644 comp1_patch.gz
M'XL("'2+-3,"`V-O;7`Q7W!A=&-H`.4<:V_;1O*S\RLV#JX6M90M4F^I.<!U
MU'-0QPYLYZY)&@@4M;(84Z1*4GZE_N\WLP^^)3_JU(>>$4CD<G=VWCLS'*5:
MK9*3P-X9+QTW<KQM>\/H]3H[]<:.:1*CV6^8?</<,+;;[1>U6FW5U`8Q>OUZ
MI]\P7E2S?WA/S';/U.&C0_@0`A)#G;I!X*[V@I"-@$7+P"/&`&[P[Q:^7U!^
MN5,E,\N;N(S8_GQA1RZQK9"1ZHY\[DPK_B+\O.5N?2%__$'XM;WU18/'"JQ<
M&#!K4O&L.=.)%9R%.L[52<`6[K4V@.ER;V=**@+D.8#\X0?RDM\LTS<+V"#>
M[7>\^89DX-*3_=/3C^3U:U(SY*BDPF-L0B(?UC"/[$S8Q4X479-PP6S'<MUK
MI*B4?YUN5S>[O:;@'\!C;L@4W)MIP%AEO)SJ9+R(`E(C<*T-4CR]L%SRXVM2
M'[RH2=;6B+P$I/Q%Y/@>J;G$"<DR!`R=F%]DNO1L?!PB;K68.8K=2%Z-;"`4
M#_`'(OQ+0>(8A`6W<#/U`P[.97P?#H>SZ:7CR6UP%PF*4W1I!1Y(24@*1_GP
MIL04R'$F8D/`-,&P=+_-9/WAAX,#G=2U@=HG43D8N)6$U%R/G#D7+"31C,$&
M$W9%_"F_N?2#";^PET$(NP"_X"I@7@2H^)Y.+F>./8-A!&5=6(YKC5W&V1D2
MD%`$.\[9?,P"@&)%Y%,X`TR77A22:>#/`03HI>='Y(8%_DLMQ2K.;R_F-R)O
MSZR`>"#JST;SRT!(=",C'Y8RAR&:`S)B$3A>-*UL_F/R&_`&$:/$2%C"Y:)6
MR]TV0KG(XTH&2W,+-T(6A0LK`(EQ4]+)311,E@N^0$N`W^887\\P_M*)9C[P
MJ`:,E$Q&UA+7\1BRV@I#Y\P3VH7/44@>X=NR"%AJP10$%8(>`&MRS,LS(Z5M
MBV445BJ<GU6-;Z>3,)H`+@GJ,`<G5+9^\[:T!.TLN]3D5>S(["'YDF;%:MNT
M'VJ;=DPB2(XX2C_^5H9JIPU5:8LTS84?.AP'U"K8/#T%S5C:*J<0]"9CJ^XE
MK'Z(O2*4O]!D!7Z/--O<XN]CNLCA4'G-C!U;`2LW9(04VW(()H0W$1.'8IJE
MN^E#F&7X"Y@@O-JNLILYL[Q0R,[GFP?6-5H2/W&G#@,U<+PP@J``D%50YI9W
M35*HB/UC^56K"QT^QN0UD?9<U6Y0HWT;#-R]])9SSEY2):%SP_RILGHM+7'4
M_8H#,.HZ6<#7>$`<\B,1ZP=D02F@1JE0@"K.D'*!&<C<S\Z7##P0HY41X[A@
M/?6LV[K#*R8(9C%#I*1^"<>9()3UFAM%EYGR;P6U%Y064,7O<E10":H8Q`U$
M_`;/^6V:<^N<<8J1,2<1H62'%#?0B7[5B<N\@A"_PL8.?R0P_)IB%@[2U\"6
M`*[B';]2^B5E6CQH>XU!&TI9*!)?"*!JQ$DF@L<"#U5$<`/@+^W%=>4'!,5M
M7%"&^PA95/$)I;#!%MDJ&C4^_5PSON#SW^IBPBWA0:::(;`3K-O<%&`+K!6!
MIV!0(LI4/$_R!]OOTD;/F#!1U!C+!KN#`-W#TPXN%P"*.!$_X,E'`DP_Y$:)
M:42'IQ&06?`THBJSF3/7'UMNN#U+IRCU1M]LBVRFT8VSF=*ID,T89K_5*8W&
M6Z:IMQIM%8LC4<-?3X?'AUQ+X)">,6O!J08V`*G_$<Y0GD'^?(Z$B2@#%0@6
MJ$,]??#BXA18D"EZ$UU*7CGR03)+^B(I?"D%V/XE:"5:&NQAD7#&W"1PB`]B
M/,P2!,".EQ#&<K>)"1.I?;;=+X14$2UT]@`"-CD'5=QFV\+CJR`-?*8E'"M2
MB4^LL7\A0V?N?T-^!AS]HFT+0E-$9L(,3@%)4Q#OPR9.),)O4!4X/!!01@@W
M+A-/4`Q<U%QH9J(F1:FV6WJK4T\RU%:KK;?:'96?"E2FKG7&I78Y8X`.Q`4L
MF#L>Y%<SU,YEY,_!!P&K*Y<!^F,(%B8:L'EAC1W7B:X+F,(R:\XS3XKP56@'
MYV4`AY"/4_BG/(CXO.AZP29LRM=7JGMBR3$(ZF=/(R,59>I*(]2%^M8TN1^[
M`K`>R0!()\K@%`8QY9\.ABNQ@CG*\AS/B;*5`6EV+3"[9C,VN^(\L+E&I]^H
METJG6>_I3:,5VQP>QLM@YH01=[IR"._!2F#HS?#GW0\'IZ/]MR>G)V\_#=4,
MW!9G5305;TM[29_F)'V<H]7!0Z-=>J#'+LV>3\+(LL\1SM*3\8T*]Z53-UMM
M;9":OQ"X(TL$?<W5ZMEM=/1NHY>H9[?1UKNMGE)/Z5U?,6\"EH)&<_#V\)?A
MF]&O[X[>C,`>8NVY0\NV"3EQY@YF4#(\0\F#:PZW8Q"OG"GJ7WH'!&F(I^OU
M20#`HZ6`)8<1;[(.##!N"CP=`\-'J2>Q'7$80`]\ELV3`A1U("EU40X2-[PH
M)"Y%:0C@?).UIFS*<^]4)^MA(=>A))?J"/!)ID-!II)9I3*-N:5,[R:<Y0Z\
M5K_>ZYM=L+Q6/;:\PC0LW757'79-<()&HG5XVU(Z]XJ`%J`_#M@T8.&LH@G=
M5O<@J(J65<JWAR-4)^$SN")YJ$DPO'?T[CV.*)AI<1WJN_J1?JSEM"`>SS))
M`I.*1'`3"712`<9].!AJ&#NJH3<?#W??O=T;P>=PM'>P>[(_@L,I3=Y/1T>G
ME5\Y<6/?CT;I9WL'P]W##^_QL0V'CK=<C%:40'FY4SDPY<)YY`:G`$0,@G75
M?1D\E,P0#H;/X)=ET\"W8:Z%@,0E^KG<),E%V%$='HO5LT@R:]4D'TYZ.0DN
M2[""`Q/\'2?O9WXI'6=NFA6>S3GRU5UQ-9"EXC:PSECC&X&WW4X<D+V2HGG_
M;O3FZ/#T[;OW1\>G&Q7CQQ\-4\-L=>+S(ILS7_A!1/`\`/,-')[_Y_ZXHJ8`
M'@]/3H_?[IT.WPB`#8W[4\M#@&,>OGIGHDH#%A`%#H2R$S+W)VP%P`^')T.)
M7),CAW&$MX0("SS*LH!/'CD5Y'FX@ZJGH-0`#$1PG*2*'(,[+5Z35X5O\CC<
MAW6'",R#Z&"PL<&+UE<8F@F00"!<EN"1Y,?@&&'AACAG>+"+KG(U!2J_PM@J
ME"OW/AP?#P]/#SZ2#X<?3H9O5J_<4V\$;+E4'F3J]%(,F;#0WDZ6WB:13<P[
M1'-")D[`;`@OKS,\Y,_@D6*B#"N[[8;>;7>SV<<GE^W@MK&;-7;,'H^#6OTF
MIA]F[(P+4V./#([;7!$*Z<U.K.NQ'P*/)\-*$=;%?E?0F;?7;R]><F;DQZL@
M+QU.P&"P(:LI7/Q^L,4F._!L"\,:F.B(XTUIM)(A6K24`Z[%6U+9VSL=5;45
M\D_6>JF%HE(#6?!9-%N[<.GAZ?LM7@EAA2`I)#/?%1G(Q(HL43P%G9")(W"Q
M;18.LO5<I/=RI/0^CI3>RY&J>.TAULW7%*V;_AGKIH^V;OIHZZ:/MVZ*UIV/
M=6M7B=[&H<$JJU`B(-P:T!C^OM90>J+6P:LI'Y/C$_#R6PI/B/64;."2!<RS
MF2B2KSNWBLX'P%:%5BJEC%]S@.*#].X@7*9<KN^=D;D5G@N1X96H0SO>68@4
MRR"<"R*10PQ(*/DYNX:(0(#@VY^3B@H1M-54I4%@74GRA4,X(Q4<&@,>:R"@
M:^JU="-Y+_[]N*]L*^<+_A_97F8#/4/O]3(%![Y!N!QC`)OLX'(7G'A"(!:L
M2UN#XVQA16D<]TD%XW8,.>`)'CO:6M<PP]IR=CV,X%LJ8#F[8/A^"K`(F178
M,VV]R2F+D]*N3)T@C.(W-V)62*PI^MS:E58.B`<._,A*@TK<+8[P,%L"O`.G
M*QE]X#(*M'&7*S"ZXJXW1DQ+F),*Z/SQ5V9'6;63MF74V[JAZBQ_([$J6XY-
M^<'RC(\\(<='"5)A<>6GC/@))5AFID8#W&4S5;<U6G7=:,=%"I%2J6@I]XK;
M\::^&D-1RVHF8I$*!3%J.N7+DU@K"3`>4]ZG/)I,;;&VQ)^9F2_S*S2>LLQ/
MG[S,3TOHS57[E>P7@1_Y&"KE2\LJ5S)R]65>Y6HT\;5.(:\R"C7FEMDWNZ6:
MU*CKC5:B1WC;CAV%0"5)W9&6?QT<_;1[<(+5)SFJZEA8=/)L=PF1]J9([S;5
M46Y%CDTN?`=,`)@>L42E0+]&E0H^PLIRJ:XW0==;<?)WJWC&#1!9RBM5<,W+
M5)Q^K?+.GRP!]!Q+6BJ^=::9M`&'-^+"YKSV3_C2!>9HSN%U&+$YL7C=#>)0
MWYHP["5(:I<KVO>X;RQ064F*X#9'T@^W><#PFD!L`/Q[]W[W=#\U!YAK+=UH
M&X,=+,77X4^4AHQF6S=;1JX(GC`$/O]4V3?AF!CFC13\7>H`QN6C!_;4O(P;
M=8IM-6DQ/*R^G&^E`4@;=\B'DKA],MO01Y^N#XX^51\<+3;5T-*F&D[5'4TU
M=$T?'%W14$/OZH.C]VBFH>J].\UW9E!L=Z!/UP='TWUP='W'![U/'QPM[8-3
M:.?ZX.@#^^"$'HJ.`X&0[%H3TGRJ9B_Z),U>--WL]=WU,MVO]6#=S"W^/OKY
MF&8ONJ;9B][1[$6?I-F+KFSVHD_4[)5(_-[-7G1=LU<"K[39:Z7([F'Z=S1[
MT?7-7K38[)52I#*U%Y064,7O1S9[T8<T>XF=BLU>M-CLE1/BXYN]Z'V;O>B:
M9B]Z9[,7+39[Y8VZT.Q%XV8ONJK9BZYL]J)Q-)'7OMO\VW@9GM(5X6GRCKWP
MLC_WCO\I^C:^:VQ:&KRWN[K1B7_"H=X6ET;I`OR$8>*+V:O`+16R#U18&@_!
MYACO*=32W7>WZFT5?PG=CGM&G@8%\?,3*0Y=9;%E3']9+MSR3HX59.2309B_
M,AWL%=+!PFQL]*OW&^4)H=G3&\W43Y9ZF!_&"6&2%=XW_\N.(2Z0ZV[FJ0*6
M1SXRK90N;*-J9^A:,5]0UNS\^517]&S<0>6-R_)$)HB5D<D7I']L5N_TZT:_
MCH(SFQD*<U,Y;<U6OUG>*M8P]48W?C\J&TR0@M%^BJAX`+0R107VQLA4738Y
MP3R5YR>K89#7,03W^(;J5>+#-LP4!^ZU8XZ'HS%D9EAD3TG?Z!*ST6^U^TUL
M_3',/#/+UL0:TS*?3V,0MTMG<L8BR9,\L5A/S?Y$$52FU0*DD=!6@=#\?$$D
M:%G]KR92E27R%)VSZ[FU2`NO1PS0;3"&'M)4+]!46)%0U7@6J@HTS:W\KT-3
MSJMA%"@JSI?TM,OI,735?<WI@=MTEV[*8HIF]&#R9,$.HQ<XS-";Z7@1\NZD
M`N%.:)?:(1=E">'9^3'AQO.H)Z9'+(B(%9=W,9@%1Z'SG(\(TPQ)B1K/_0NV
MDO).D?#L](1P\QD(5S599VX%YW;XV>Q`<B/N,(O%^Z*H>20<YGXNW>C#/^YT
M&P62BPMBHEO/(VV(E*W<CPCS5,I&SK1D.Z2.`5/?Q(.Z6R"SN"*AL_L,=,HS
M=7_WW\/1R?!@N'=:()*_I+XN_/(=,&[U"M%6^0)%HEG_W_#`V'AXGL>PVV\8
MHAO8+*&I;(6@J?%\`4$J/,J3N(P<-RQ5S#8ZVZ(!YA<D!#Z3_<VM<T;"9<!$
MS2I^O09Y]90%X@<E$8$<+8Q(>,/K4:5&>N&4>=Z64<B`"I,3%O2>S^_*M_]S
H?X)%NH"X0"_<%%TN)I@K*2UD#/GI,:TK_H^*OR#V^R^A`#Z$;$,`````
`
end

-----BEGIN PGP SIGNATURE-----
Version: 2.6.3ia
Charset: ascii

iQCVAwUBMzWO0nD/+HJTpU/hAQGAAAQAtHnqty9RybESC5G0j1wy2osVpV8W+uma
ESLdebuJDZW9bOLiYK9Agk2RKOD0/r2viB8gzwNkoV/L4YFp1fK/msQd8p4f/ZQ/
vEeWy+YK04dHo98gLLcWuE76q/ry9O2Y0VLDs/qij3Mwp5Phnc6rUDM++tDF0kBt
qrDhCT6csxE=
=+bgN
-----END PGP SIGNATURE-----

