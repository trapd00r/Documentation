From zsh-workers-return-5927-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Mar 24 12:53:49 1999
Return-Path: <zsh-workers-return-5927-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 11638 invoked from network); 24 Mar 1999 12:53:48 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 24 Mar 1999 12:53:48 -0000
Received: (qmail 22996 invoked by alias); 24 Mar 1999 12:53:14 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 5927
Received: (qmail 22987 invoked from network); 24 Mar 1999 12:53:11 -0000
From: "Andrej Borsenkow" <borsenkow.msk@sni.de>
To: <zsh-workers@sunsite.auc.dk>
Subject: RE: Completion widgets, bindkey and ZLE widgets
Date: Wed, 24 Mar 1999 15:52:19 +0300
Message-ID: <002701be75f5$2748c3b0$21c9ca95@mowp.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2014.211
In-Reply-To: <199903241217.NAA20924@beta.informatik.hu-berlin.de>
Importance: Normal


Well, I tried to redefine widgets instead of bindkey - and it works. And the
completion is available after switching keymaps as well.

>
> What if you want more than one completion widget behaving like one of
> the builtin widgets? (Just think of the special key completion widgets
> we already have.)
>

It was just an idea ... But, really, let's see, what builtin widgets
describe:

1. Should we first try to glob
2. should we complete prefix or whole word
3. should we list or insert matches
4. should we start menu completion or not

Most (if not all) of this can already be emulated by setting compstate
before calling main completion function. The case of delete-char-or-list is
somewhat hard ... but if it would be possible to call ZLE widget, that could
test, if we are not at the end and then call completion ...

>> Looks somewhat cleaner ... and, later, if we find the way to make ZLE
>> widgets more useful, that will be automatically available to completion
>> widgets as well.
> What are you thinking about here?

Calling one widget from other (like above), getting user input from inside
of widget ... mostly this all were discussed already.

cheers

/andrej

