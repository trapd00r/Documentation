From zsh-users-return-11213-mason-zsh=primenet.com.au@sunsite.dk Tue Feb 20 21:36:32 2007
Return-Path: <zsh-users-return-11213-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10413 invoked from network); 20 Feb 2007 21:36:27 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.8 (2007-02-13) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=BAYES_00,FORGED_RCVD_HELO
	autolearn=ham version=3.1.8
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 20 Feb 2007 21:36:27 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 66428 invoked from network); 20 Feb 2007 21:36:20 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 20 Feb 2007 21:36:20 -0000
Received: (qmail 6861 invoked by alias); 20 Feb 2007 21:36:12 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 11213
Received: (qmail 6851 invoked from network); 20 Feb 2007 21:36:12 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 20 Feb 2007 21:36:12 -0000
Received: (qmail 65184 invoked from network); 20 Feb 2007 21:36:12 -0000
Received: from smtpout0159.sc1.he.tucows.com (HELO n066.sc1.he.tucows.com) (64.97.136.159)
  by a.mx.sunsite.dk with SMTP; 20 Feb 2007 21:36:06 -0000
Received: from sc.homeunix.net (82.26.173.204) by n066.sc1.he.tucows.com (7.2.069.1)
        id 45CB412C000C6C27; Tue, 20 Feb 2007 21:35:58 +0000
Received: from chazelas by sc.homeunix.net with local (Exim 3.36 #1 (Debian))
	id 1HJceS-0001z6-00; Tue, 20 Feb 2007 21:35:56 +0000
Date: Tue, 20 Feb 2007 21:35:56 +0000
From: Stephane Chazelas <Stephane_Chazelas@yahoo.fr>
To: Lydgate <zsh@lydgate.e4ward.com>, zsh-users@sunsite.dk
Subject: Re: test if a parameter is numeric
Message-ID: <20070220213556.GB6319@sc.homeunix.net>
Mail-Followup-To: Lydgate <zsh@lydgate.e4ward.com>, zsh-users@sunsite.dk
References: <Xns98D2ADD16C100zzappergmailcom@80.91.229.5> <070209182939.ZM18654@torch.brasslantern.com> <003d01c74d3f$3bbd7960$6600000a@venti> <E1HG3Bl-0007Ge-DM@e4ward.com> <E1HJIfJ-0002Ok-Ql@e4ward.com> <20070220075226.GA11608@DervishD> <20070220202001.GA6319@sc.homeunix.net>
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-15
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
In-Reply-To: <20070220202001.GA6319@sc.homeunix.net>
User-Agent: Mutt/1.5.6i
Sender: Stephane Chazelas <stephane_chazelas@yahoo.fr>

On Tue, Feb 20, 2007 at 08:20:01PM +0000, Stephane Chazelas wrote:
> On Tue, Feb 20, 2007 at 08:52:26AM +0100, DervishD wrote:
> [...]
> >     [[ "$1" == ]]
> > 
> >     And the "[[" is NOT portable, either, it's a zsh thing (and probably
> > bash has too, I don't know, but AFAIK is not POSIX/SuS).
> [...]
> 
> rather from ksh.
> 
> POSIXly, you'd write
> 
> case $1 in
>   ("" | *[!0-9]) echo not a number;;

   ("" | *[!0-9]*) echo not a number;;

sorry.

[...]
> Note that zsh extended globbing patterns, though with a
> different syntax are functionnaly equivalent to regexps and has
> may additions over it.
> 
> ERE -> zsh
> .      ?
> *      #
> +      ##
> ?      (|...)
> (...)  (...)
> (..|..)(..|..)
[...]

It can also be said of ksh's globs (same as bash with extglob or
zsh with kshglob)

ERE -> ksh
.      ?
a*     *(a)
a+     +(a)
a?     ?(a)
(a|b)  @(a|b)

recent versions of ksh have more features. There are features in
ksh globs that are not available in zsh's ones like {3}(...),
and likewise in the other direction like <1-10>.

ksh's @(a*b&*c*) can be written in zsh: a*b~^*c* (and not not),
I don't think bash has an equivalent

-- 
Stéphane

