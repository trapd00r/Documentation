From zsh-workers-return-23078-mason-zsh=primenet.com.au@sunsite.dk Thu Dec 28 05:26:12 2006
Return-Path: <zsh-workers-return-23078-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 278 invoked from network); 28 Dec 2006 05:26:08 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.7 (2006-10-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=BAYES_00,FORGED_RCVD_HELO 
	autolearn=ham version=3.1.7
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 28 Dec 2006 05:26:08 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 4312 invoked from network); 28 Dec 2006 05:26:01 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 28 Dec 2006 05:26:01 -0000
Received: (qmail 14362 invoked by alias); 28 Dec 2006 05:25:59 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 23078
Received: (qmail 13958 invoked from network); 28 Dec 2006 05:18:37 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 28 Dec 2006 05:18:37 -0000
Received: (qmail 98884 invoked from network); 28 Dec 2006 05:18:37 -0000
Received: from extranet.squiz.net (203.222.154.144)
  by a.mx.sunsite.dk with SMTP; 28 Dec 2006 05:18:34 -0000
Received: from localhost (localhost [127.0.0.1])
	by extranet.squiz.net (Postfix) with ESMTP id 7E3CB7A8A3;
	Thu, 28 Dec 2006 16:18:30 +1100 (EST)
Received: from extranet.squiz.net ([127.0.0.1])
	by localhost (intranet [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 06556-10; Thu, 28 Dec 2006 16:18:30 +1100 (EST)
Received: from squiz.net (paris.squiz.net [192.168.0.11])
	by extranet.squiz.net (Postfix) with ESMTP id 62E407A894
	for <zsh-workers@sunsite.dk>; Thu, 28 Dec 2006 16:18:30 +1100 (EST)
Received: by squiz.net (Postfix, from userid 1000)
	id 5FBD03415F; Thu, 28 Dec 2006 16:20:09 +1100 (EST)
From: Chmouel Boudjnah <cboudjnah@squiz.net>
To: zsh-workers@sunsite.dk
Subject: PATCH: add autoremove to apt completion
Date: Thu, 28 Dec 2006 16:20:09 +1100
Message-ID: <87y7osbnqu.fsf@paris.squiz.net>
User-Agent: Gnus/5.110006 (No Gnus v0.6) Emacs/22.0.50 (gnu/linux)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Scanned: by amavisd-new-20030616-p10 (Debian) at squiz.net


--- ./Completion/Debian/_apt.chmou      2006-12-28 16:17:59.957016000 +1100
+++ ./Completion/Debian/_apt    2006-12-28 16:18:02.585180250 +1100
@@ -427,6 +427,7 @@
     /$'install\0'/ /$'[^\0]#\0'/ ':packages::_deb_packages "$expl_packages[@]" avail' \# \
     /$'[^\0/]#/'/ /$'[^\0/]#\0'/ ':release name::_apt_releases' \) \| \
     /$'remove\0'/ /$'[^\0]#\0'/ ':packages::_deb_packages "$expl_packages[@]" installed' \# \| \
+    /$'autoremove\0'/ /$'[^\0]#\0'/ ':packages::_deb_packages "$expl_packages[@]" installed' \# \| \
     /$'dist-upgrade\0'/ \| \
     /$'dselect-upgrade\0'/ \| \
     /$'clean\0'/ \| \
@@ -435,7 +436,7 @@
     /$'source\0'/ /$'[^\0]#\0'/ ':packages::_deb_packages "$expl_packages[@]" avail' \# \| \
     /$'build-dep\0'/ /$'[^\0]#\0'/ ':packages::_deb_packages "$expl_packages[@]" avail' \# \| \
     /$'help\0/' \| \
-    /"[]"/     ':argument-1::compadd "$expl_action[@]" update upgrade install remove dist-upgrade dselect-upgrade clean autoclean check source build-dep help'
+    /"[]"/     ':argument-1::compadd "$expl_action[@]" update upgrade install autoremove remove dist-upgrade dselect-upgrade clean autoclean check source build-dep help'
 
   _apt-get () {
     local expl_action expl_packages


-- 
Chmouel Boudjnah - Head Sysadmin - Squiz.net

