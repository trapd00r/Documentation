From zsh-workers-return-12304-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Jul 18 19:57:20 2000
Return-Path: <zsh-workers-return-12304-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 12496 invoked from network); 18 Jul 2000 19:57:19 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 18 Jul 2000 19:57:19 -0000
Received: (qmail 24962 invoked by alias); 18 Jul 2000 19:57:02 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 12304
Received: (qmail 24954 invoked from network); 18 Jul 2000 19:57:02 -0000
Subject: Re: PATCH: Re: adding a toplevel zsh.spec.in file
In-Reply-To: <xuyu2dnl2n1.fsf@hoser.devel.redhat.com> from =?us-ascii?Q?Trond_Eivind=3D=3Fiso=2D8859=2D1=3Fq=3F=5FGlomsr?=
 =?us-ascii?Q?=3DF8d=3F=3D?= at "Jul 18, 2000 02:22:26 pm"
To: =?us-ascii?Q?Trond_Eivind=3D=3Fiso=2D8859=2D1=3Fq=3F=5FGlomsr?= =?us-ascii?Q?=3DF8d=3F=3D?=
 <teg@redhat.com>
Date: Tue, 18 Jul 2000 20:57:13 +0100 (BST)
CC: Zefram <zefram@fysh.org>, Adam Spiers <adam@spiers.net>, 
 zsh workers mailing list <zsh-workers@sunsite.auc.dk>
X-Mailer: ELM [version 2.4ME+ PL66 (25)]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Message-Id: <E13EdUP-0005J0-00@crucigera.fysh.org>
From: Zefram <zefram@fysh.org>

Trond Eivind=?iso-8859-1?q?_Glomsr=F8d?= wrote:
>Of course, and you're free to change it in your own files - but that
>doesn't mean systems should be set up with sensible values (like
>specifying NNTPSERVER, MAIL, QTDIR etc. etc). 

Setting those by default when the user logs in is fine.  These do
belong in /etc/profile.  It's unfortunate that zsh processes .zshenv
before /etc/zprofile, as it would be nice to be able to set those things
similarly for zsh while allowing the user to override them in .zshenv.

>If it makes sense, do it - it's just another default, a user can
>override it. The default BASH prompt is "bash-2.04#", and changing
>this to something more sensible is good (IMHO, of course - and if you
>don't like it, pick your own).

I've already described the problem with setting PS1 by default -- PS1
gets inherited by other shells.

>It's not broken, it's just not designed to handle zsh - it's designed
>to handle bash only. Fixing this (setting another default prompt for
>zsh) should be simple if required.

Ah, I actually can't find the really nasty bits of default setup (such
as enabling colour output from ls) in the recent versions, so this
seems to have been fixed (assuming that I'm remembering correctly in
that being Red Hat).  There are a couple of things where I think it's
still overstepping its territory, particularly setting HISTSIZE and
INPUTRC, which are matters of interactive shell configuration and so
should be left firmly up to the user.  (The prompt setting seems to be
in /etc/bashrc now, but I don't see when bash executes that.)

-zefram

