From zsh-users-return-14877-mason-zsh=primenet.com.au@zsh.org Wed Feb 24 08:05:09 2010
Return-Path: <zsh-users-return-14877-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 29152 invoked by alias); 24 Feb 2010 08:05:09 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 14877
Received: (qmail 28545 invoked from network); 24 Feb 2010 08:04:57 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received-SPF: none (ns1.primenet.com.au: domain at math.technion.ac.il does not designate permitted sender hosts)
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: AvsEAG9phEuERHMG/2dsb2JhbACbBnO+NQKEbQQ
X-IronPort-AV: E=Sophos;i="4.49,531,1262556000"; 
   d="scan'208";a="225880159"
X-Authentication-Warning: fermat.math.technion.ac.il: nyh set sender to nyh@math.technion.ac.il using -f
Date: Wed, 24 Feb 2010 09:53:52 +0200
From: "Nadav Har'El" <nyh@math.technion.ac.il>
To: Andrey Borzenkov <arvidjaar@gmail.com>
Cc: dipakgaigole <dipakgaigole@rediffmail.com>, zsh-users@zsh.org
Subject: Re: possible bug in zsh glob
Message-ID: <20100224075352.GA8456@fermat.math.technion.ac.il>
References: <20100223161302.61181.qmail@f4mail200.rediffmail.com> <201002232020.49298.arvidjaar@gmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <201002232020.49298.arvidjaar@gmail.com>
User-Agent: Mutt/1.4.2.2i
Hebrew-Date: 10 Adar 5770

On Tue, Feb 23, 2010, Andrey Borzenkov wrote about "Re: possible bug in zsh glob":
> On Tuesday 23 of February 2010 19:13:02 dipakgaigole wrote:
> > *************** bash **************
> > bash-2.05b$ ls -l *.txt *.jp
> > ls: *.jp: No such file or directory
> [...]
> > #ls -l *.txt *.jp
> > zsh: no matches found: *.jp
> 
> setopt no_nomatch
> 
> to get the same behaviour as in bash.

Amazing! This really surprised me. I was about to answer that, "no, zsh
behaves exactly like bash in this respect, and the way it should", when I
suddenly realized that many years ago I added "set +o nomatch" (equivalent
to setopt no_nomatch you recommended) in my .zshrc, and since forgot about
it :-)

Is there any logical reason why zsh's default is the way it is? I.e., when
it sees

	ls -l *.txt *.jp

And there are no *.jp, it has to stop the entire command, rather than let
the command give you a message, like was always the case in the Bourne shell,
ksh, and bash (without the failglob option)?

I always consider what is now apparently the default zsh behavior to be
annoying especially when you do a command like

	scp remote:*.c .

and then the shell doesn't do it, and you need to go back and quote out the
star. Why? What does this extra "beaurocracy" gain us? If the shell can
just do "the right thing" by passing along the star, why shouldn't it?

Nadav.

-- 
Nadav Har'El                        |     Wednesday, Feb 24 2010, 10 Adar 5770
nyh@math.technion.ac.il             |-----------------------------------------
Phone +972-523-790466, ICQ 13349191 |A fanatic is one who can't change his
http://nadav.harel.org.il           |mind and won't change the subject.

