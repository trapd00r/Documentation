Delivered-To: mason-zsh@primenet.com.au
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
Date: Wed, 3 Feb 1999 12:12:38 +0100 (MET)
Message-Id: <199902031112.MAA11884@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: Sven Wischnowsky's message of Mon, 1 Feb 1999 10:10:55 +0100
	(MET)
Subject: Re:  PATCH: compadd
X-Mailing-List: <zsh-workers@sunsite.auc.dk> 5204



The patch from message 5145 added one of these `char used as array subscript'
gcc-warnings. To fix this...

Bye
 Sven

--- os/Zle/zle_misc.c	Wed Feb  3 12:07:21 1999
+++ Src/Zle/zle_misc.c	Wed Feb  3 12:10:02 1999
@@ -832,7 +832,7 @@
 		    suffixlen[b++] = v;
 		s += 2;
 	    } else
-		suffixlen[*s] = v;
+		suffixlen[STOUC(*s)] = v;
 	    s++;
 	}
     } else

--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

