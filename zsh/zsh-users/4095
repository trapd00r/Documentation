From zsh-users-return-4095-mason-zsh=primenet.com.au@sunsite.dk Wed Aug 08 08:23:28 2001
Return-Path: <zsh-users-return-4095-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10933 invoked from network); 8 Aug 2001 08:23:27 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 8 Aug 2001 08:23:27 -0000
Received: (qmail 20152 invoked by alias); 8 Aug 2001 08:23:10 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4095
Received: (qmail 20140 invoked from network); 8 Aug 2001 08:23:09 -0000
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
Date: Wed, 8 Aug 2001 10:22:51 +0200 (MET DST)
Message-Id: <200108080822.KAA04398@beta.informatik.hu-berlin.de>
To: zsh-users@sunsite.dk
Subject: Re: compctl whitespace changes
In-Reply-To: <20010808015728.A4911@globnix.org>

Phil Pennock wrote:

> I just moved my private box from zsh-3.0.8 to zsh-4.0.2.
> 
> I have a function which takes the name of a mailbox as a parameter and
> starts mutt appropriately, and starts mutt in turn if more than one
> parameter is passed.
> 
> This:
>  compctl -g '~/Mail/Lists/*(D.:t)' lmutt
> is what I've been using.
> 
> Because I used to use 3.1.x I remembered -W, so this:
>  compctl -f -W ~/Mail/Lists lmutt
> works just fine.

Hrm.  That's because it can't recognise them as filenames (because of
that `:t').  I don't remember the reason for that change, though, having
not used compctl for quite some time.

> However, I was pushed into making the change because whereas before a
> space would be appended to successful solutions, with zsh 4 this is no
> longer the case.  The cursor is left immediately at the end of the
> completed word.
> 
> Is this deliberate?  How do I override it if there are other instances
> where it bites me and there's not a quick fix like this?


One could always add `-S " "' to get the space.

> Or should I just be moving to the compsys stuff?

Probably a good idea anyway.  Something like:

  compdef _lmutt lmutt
  _lmutt () { _files -W ~/bin -g '*(.)' }

could get you started.


Bye
  Sven


-- 
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

