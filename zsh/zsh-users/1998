From zsh-workers-request@math.gatech.edu Fri Dec 18 09:25:42 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 16696 invoked from network); 18 Dec 1998 09:25:40 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 18 Dec 1998 09:25:40 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.9.1/8.9.1) id EAA24721;
	Fri, 18 Dec 1998 04:20:58 -0500 (EST)
Resent-Date: Fri, 18 Dec 1998 04:20:54 -0500 (EST)
Date: Fri, 18 Dec 1998 01:19:06 -0800
From: Danek Duvall <duvall@emufarm.ml.org>
To: Zsh List <zsh-users@math.gatech.edu>
Subject: Re: [1997] [Q] A mystery (at least for me ...)
Message-ID: <19981218011906.A6181@lorien.emufarm.ml.org>
Mail-Followup-To: Zsh List <zsh-users@math.gatech.edu>
References: <qyjhfutdek9.fsf@metheny.enst.fr>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 0.94.18i
In-Reply-To: <qyjhfutdek9.fsf@metheny.enst.fr>; from Didier Verna on Fri, Dec 18, 1998 at 09:44:54AM +0100
Resent-Message-ID: <"fvuJv3.0.d_5.svXUs"@math>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/1998
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

On Fri, Dec 18, 1998 at 09:44:54AM +0100, Didier Verna wrote:

> verna(pts/6) 145 % if echo toto | grep `hostname` ; then echo SUCCESS ; fi  
> SUCCESS
> 
> 	Is it a known bug in this version,or am I missing something ? 

The following commands might explain ...

if echo toto | grep x`false`; then echo SUCCESS; fi

if echo toto | grep x`true`; then echo SUCCESS; fi


The return value of expression "echo toto | grep `cmd`" is the return value
of cmd, not of grep.

I'm not sure how clearly this is documented in the manpage.  At this point,
I've gotten used to the fact that processes act weirdly around pipes, and
I've learned to work around it.

However, documentation on exactly what is expected might be nice.  I
couldn't find it in the section on process substitution or in the section
on pipelines.  Is it somewhere else?

Danek

