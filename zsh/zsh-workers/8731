From zsh-workers-return-8731-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Nov 22 18:23:32 1999
Return-Path: <zsh-workers-return-8731-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 26805 invoked from network); 22 Nov 1999 18:23:32 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 22 Nov 1999 18:23:32 -0000
Received: (qmail 21766 invoked by alias); 22 Nov 1999 18:23:26 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 8731
Received: (qmail 21757 invoked from network); 22 Nov 1999 18:23:24 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <991122182320.ZM22621@candle.brasslantern.com>
Date: Mon, 22 Nov 1999 18:23:20 +0000
In-Reply-To: <19991122094238.A5609@dman.com>
Comments: In reply to Clint Adams <schizo@debian.org>
        "Re: PATCH: math and locale" (Nov 22,  9:42am)
References: <19991120151807.A22546@dman.com> 
	<991120205331.ZM15647@candle.brasslantern.com> 
	<19991121131432.C31314@dman.com> 
	<991122081713.ZM18376@candle.brasslantern.com> 
	<19991122094238.A5609@dman.com>
X-Mailer: Z-Mail (5.0.0 30July97)
To: zsh-workers@sunsite.auc.dk
Subject: Re: PATCH: math and locale
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Nov 22,  9:42am, Clint Adams wrote:
} Subject: Re: PATCH: math and locale
}
} > I am mostly concerned about things like re-opening (or worse, reading) of
} > external locale-definition files.
} 
} So if the locale is "C" or "POSIX" don't make the second setlocale
} call.  Or is there a better solution?

I'm hoping someone more familiar with it will tell us.  Maybe there isn't 
anyone more familiar with it on the mailing list ...  In the meantime,
it's OK as is.

} > (1) That it's more likely to be supported correctly, and (2) that it is
} > after all C-like expression parsing that math.c is attempting to peform.
} 
} Fair enough.

Glancing through /usr/X11R6/lib/X11/locale/locale.alias I see that the
"POSIX" locale is an alias for the "C" locale, so it probably doesn't
really matter either way.  Anyone else have an opinion?  Zefram, perhaps?

} > Where *exactly* would LC_NUMERIC make any difference in pws-9 ?
} 
} Anywhere LC_ALL would, except for zzlex now.  What are you asking?

I'm trying to come up with a circumstance in which zsh would "print" or
otherwise output a number in a format that zzlex would then fail to read.
I tried setting LC_ALL to a few different things and then doing "echo $x"
where x is a floating-point parameter, but it never changed anything.
Where else might it matter?  Output of process times or cpu percentages?
Can we make an exhaustive list?  Or am I worrying about it too much?

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

