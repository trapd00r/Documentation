From zsh-users-return-2215-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Mar 11 16:01:00 1999
Return-Path: <zsh-users-return-2215-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 22568 invoked from network); 11 Mar 1999 16:00:56 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 11 Mar 1999 16:00:56 -0000
Received: (qmail 23150 invoked by alias); 11 Mar 1999 15:58:51 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 2215
Received: (qmail 23143 invoked from network); 11 Mar 1999 15:58:49 -0000
Date: Thu, 11 Mar 1999 16:58:47 +0100 (MET)
Message-Id: <199903111558.QAA01714@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-users@sunsite.auc.dk
In-reply-to: Bart Schaefer's message of Thu, 11 Mar 1999 07:49:22 -0800 (PST)
Subject: Re: how does setopt -m work?


Bart Schaefer wrote:

> Is this really the whole patch?  After applying this, I get
> 
> ../../zsh-3.1.5/Src/options.c: In function `bin_setopt':
> ../../zsh-3.1.5/Src/options.c:527: `p' undeclared (first use this function)
> ../../zsh-3.1.5/Src/options.c:527: (Each undeclared identifier is reported only once
> ../../zsh-3.1.5/Src/options.c:527: for each function it appears in.)
> ../../zsh-3.1.5/Src/options.c:525: warning: `s' might be used uninitialized in this function
> ../../zsh-3.1.5/Src/options.c:525: warning: `t' might be used uninitialized in this function

Seems I sent the patch I made while waiting for the compiler... and
not the one I made after I fixed the above.

Pardon.

Bye
 Sven

--- os/options.c	Thu Mar 11 16:56:36 1999
+++ Src/options.c	Thu Mar 11 16:56:26 1999
@@ -524,7 +524,7 @@
 	    Comp com;
 	    char *s, *t;
 
-	    t = p = dupstring(*args);
+	    t = s = dupstring(*args);
 	    while (*t)
 		if (*t == '_')
 		    chuck(t);

--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

