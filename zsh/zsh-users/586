From zsh-workers-request@euclid.skiles.gatech.edu Mon Jan 06 22:41:37 1997
Return-Path: <zsh-workers-request@euclid.skiles.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 27274 invoked from network); 6 Jan 1997 22:41:36 -0000
Received: from euclid.skiles.gatech.edu (list@130.207.146.50)
  by coral.primenet.com.au with SMTP; 6 Jan 1997 22:41:36 -0000
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id RAA08385; Mon, 6 Jan 1997 17:29:25 -0500 (EST)
Resent-Date: Mon, 6 Jan 1997 17:16:42 -0500 (EST)
Message-ID: <Mutt.19970106171834.rusty@panix2.panix.com>
Date: Mon, 6 Jan 1997 17:18:34 -0500
From: rusty@panix.com (Rusty Hoover)
To: zsh-users@math.gatech.edu (Z-Shell mailing list)
Subject: Procmail: can't get mail-notification to work w/it
X-Mailer: Mutt 0.56
Mime-Version: 1.0
Resent-Message-ID: <"iM3Eo3.0.Q-1.AdNqo"@euclid>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/586
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu


I'm in the process of switching from the Elm filter program to Procmail
(since I'm using the Mutt mail client now instead of Elm, and since procmail
is better anyway).

Until now, mail-notification has been working beautifully. I always get 'You
have new mail." above my zsh prompt when I have new mail. And I'm always
notified of new mail from mailing-lists I'm on because I have the following
line in my .zshenv file:

	export MAILPATH=~/.mailspool/rusty:~/Mail/z'?New Zsh mail.'\
	:~/Mail/m'?New Mutt mail.':~/Mail/i'?New ISDN mail.'\
	:~/Mail/r'?New Rosemary mail.':~/Mail/d'?New Digicash mail.'


Until now I've been using an .elm/filter-rules file, and the following
.forward file:

	"| /usr/local/bin/filter -vo /users/rusty/tmp/rusty.filter-errors"

Now, with procmail, I'm using the following .forward file:

	"|IFS=' ' && exec /usr/local/bin/procmail -f- || exit 75 #rusty"

My problem is that the minute I switch .forward files to start using
procmail (at least I -think- it's the switching of the .forward files that's
causing the problem), I no longer get mail-notification of any sort.

Would anyone know why this happens and how I can maintain the
mail-notification I've had all along? I'm using zsh3.0.1 and Procmail
v3.11pre3. Thanks.

-- 
                              // rusty@panix.com //

 	  Wind overcomes water, water, granite. The grindstone has its
	       way with steel. In the end feeling shapes thought.
                     -- Malcolm de Chazal   Sens-Plastique

