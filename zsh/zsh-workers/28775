From zsh-workers-return-28775-mason-zsh=primenet.com.au@zsh.org Sat Feb 19 04:25:44 2011
Return-Path: <zsh-workers-return-28775-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24239 invoked by alias); 19 Feb 2011 04:25:44 -0000
Mailing-List: contact zsh-workers-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Workers List <zsh-workers.zsh.org>
List-Post: <mailto:zsh-workers@zsh.org>
List-Help: <mailto:zsh-workers-help@zsh.org>
Delivered-To: mailing list zsh-workers@zsh.org
X-Seq: 28775
Received: (qmail 14801 invoked from network); 19 Feb 2011 04:25:34 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.9 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.3.1
Received-SPF: none (ns1.primenet.com.au: domain at hightek.org does not designate permitted sender hosts)
Date: Fri, 18 Feb 2011 22:25:29 -0600
From: Vincent Stemen <vince.lists@hightek.org>
To: zsh-workers@zsh.org
Subject: make test hangs on the Y tests
Message-ID: <20110219042528.GA73105@quark.hightek.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.5.18 (2008-05-17)
Sender: Vincent Stemen <vince@hightek.org>

Hi.  On the master branch from git as of yesterday, running "make test"
hangs when it gets to the Y01completion test.  It seems to hang on any
of the 'Y' tests.

    # ZTST_verbose=2 make TESTNUM=Y test
    cd Test ; make check
    if test -n "gcc"; then  cd .. && DESTDIR=  make MODDIR=`pwd`/Test/Modules install.modules > /dev/null;  fi
    if ZTST_testlist="`for f in ./Y*.ztst;  do echo $f; done`"  ZTST_srcdir="."  ZTST_exe=../Src/zsh  ../Src/zsh +Z -f ./runtests.zsh; then  stat=0;  else  stat=1;  fi;  sleep 1;  rm -rf Modules .zcompdump;  exit $stat
    ./Y01completion.ztst: starting.
    ZTST_getsect: read section name: prep
    ZTST_getchunk: read code chunk:
      if ( zmodload -i zsh/zpty ) >/dev/null 2>&1; then
        . $ZTST_srcdir/comptest
        mkdir comp.tmp
        cd comp.tmp
        comptestinit -z $ZTST_testdir/../Src/zsh &&
        {
          mkdir dir1 &&
          mkdir dir2 &&
          touch file1 &&
          touch file2
        }
      else
        ZTST_unimplemented="the zsh/zpty module is not available"
      fi
    ^C

As you can see at the bottom, I eventually hit ^C to break out.


