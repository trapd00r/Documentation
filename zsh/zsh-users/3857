From zsh-users-return-3857-mason-zsh=primenet.com.au@sunsite.dk Mon May 07 01:27:57 2001
Return-Path: <zsh-users-return-3857-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 21115 invoked from network); 7 May 2001 01:27:56 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 7 May 2001 01:27:56 -0000
Received: (qmail 1955 invoked by alias); 7 May 2001 01:27:45 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 3857
Received: (qmail 1944 invoked from network); 7 May 2001 01:27:45 -0000
Date: Sun, 06 May 2001 18:27:41 -0700
From: nce@SLAC.Stanford.EDU
Subject: Re: inet_{a,p}ton prototypes in Src/Modules/zftp.pro
In-reply-to: <1010507000351.ZM26959@candle.brasslantern.com>; from
 schaefer@candle.brasslantern.com on Mon, May 07, 2001 at 12:03:50AM +0000
To: Bart Schaefer <schaefer@candle.brasslantern.com>
Cc: zsh-users@sunsite.dk
Message-id: <20010506182741.A11025@flora01.SLAC.Stanford.EDU>
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii
Content-disposition: inline
Content-transfer-encoding: 7BIT
User-Agent: Mutt/1.2.5i
References: <20010506104546.A13094@flora01.SLAC.Stanford.EDU>
 <1010507000351.ZM26959@candle.brasslantern.com>

On Mon, May 07, 2001 at 12:03:50AM +0000, Bart Schaefer wrote:
> On May 6, 10:45am, Paul Ackersviller wrote:
> }
> } I just tried building zsh on Solaris 7 from the latest source off
> } of CVS.  Sun's compiler doesn't like inet_aton and inet_pton being
> } declared as static.
> 
> Those declarations should be used only if HAVE_INET_PTON and HAVE_INET_ATON
> are not defined.  Obviously you do have them, or at least you have a header
> that declares them, or you couldn't have the conflict in the first place.
> 
> So the real question is, why are HAVE_INET_{A,P}TON not defined?  Was an
> old config.cache used, or is there a library missing from the link that
> is needed in order for configure to find them?

I just tried making a completely clean start so there was nothing old
left over, but had the same problem.  The command-line in config.log
looks good to me, but you're right that the confidence test for those
routines fails.  I tried hacking around with the configure script to
get some more information, but didn't get anywhere.  Any hints?

-- 
Paul Ackersviller

