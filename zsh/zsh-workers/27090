From zsh-workers-return-27090-mason-zsh=primenet.com.au@sunsite.dk Sun Jul 05 19:57:23 2009
Return-Path: <zsh-workers-return-27090-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18239 invoked from network); 5 Jul 2009 19:57:20 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from new-brage.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.254.104)
  by ns1.primenet.com.au with SMTP; 5 Jul 2009 19:57:20 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 67212 invoked from network); 5 Jul 2009 19:57:16 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 5 Jul 2009 19:57:16 -0000
Received: (qmail 4416 invoked by alias); 5 Jul 2009 19:57:11 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 27090
Received: (qmail 4402 invoked from network); 5 Jul 2009 19:57:10 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 5 Jul 2009 19:57:10 -0000
Received: from vms173011pub.verizon.net (vms173011pub.verizon.net [206.46.173.11])
	by bifrost.dotsrc.org (Postfix) with ESMTP id A46918027106
	for <zsh-workers@sunsite.dk>; Sun,  5 Jul 2009 21:57:07 +0200 (CEST)
Received: from torch.brasslantern.com ([96.238.223.42])
 by vms173011.mailsrvcs.net
 (Sun Java(tm) System Messaging Server 6.3-7.04 (built Sep 26 2008; 32bit))
 with ESMTPA id <0KMB000Y0REHRMWO@vms173011.mailsrvcs.net> for
 zsh-workers@sunsite.dk; Sun, 05 Jul 2009 14:56:42 -0500 (CDT)
Received: from torch.brasslantern.com (localhost.localdomain [127.0.0.1])
	by torch.brasslantern.com (8.13.1/8.13.1) with ESMTP id n65JufuT007709	for
 <zsh-workers@sunsite.dk>; Sun, 05 Jul 2009 12:56:41 -0700
Received: (from schaefer@localhost)	by torch.brasslantern.com
 (8.13.1/8.13.1/Submit) id n65JueT3007708	for zsh-workers@sunsite.dk; Sun,
 05 Jul 2009 12:56:40 -0700
From: Bart Schaefer <schaefer@brasslantern.com>
Message-id: <090705125640.ZM7707@torch.brasslantern.com>
Date: Sun, 05 Jul 2009 12:56:40 -0700
In-reply-to: <200906300843.n5U8hecG011236@news01.csr.com>
Comments: In reply to Peter Stephenson <pws@csr.com>
 "Re: use 'P' parameter expansion flag with array?" (Jun 30,  9:43am)
References: <19017.33909.493608.356003@gargle.gargle.HOWL>
	<200906300843.n5U8hecG011236@news01.csr.com>
X-Mailer: OpenZMail Classic (0.9.2 24April2005)
To: Zsh list <zsh-workers@sunsite.dk>
Subject: Re: use 'P' parameter expansion flag with array?
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii
X-Virus-Scanned: ClamAV 0.94.2/9538/Fri Jul  3 16:27:11 2009 on bifrost
X-Virus-Status: Clean

On Jun 30,  9:43am, Peter Stephenson wrote:
}
} Greg Klanderman wrote:
} > If the 'P' parameter expansion flag is applied to an array parameter,
} > should it be applied to each of the elements?
} 
} It does seem logical, but the code is obscure and it's not clear whether
} this was intended or not---it probably fell through the cracks.

The (P) flag was supposed to create an approximate equivalent of ksh
"nameref" parameters.  Because of the way array expansion operates in
ksh and similar shells, extending (P) to an automatic "map" over an
array wasn't considered.

