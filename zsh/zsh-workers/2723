From zsh-workers-request@euclid.skiles.gatech.edu Sat Jan 04 19:54:02 1997
Return-Path: <zsh-workers-request@euclid.skiles.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 16890 invoked from network); 4 Jan 1997 19:54:01 -0000
Received: from euclid.skiles.gatech.edu (list@130.207.146.50)
  by coral.primenet.com.au with SMTP; 4 Jan 1997 19:54:01 -0000
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id PAA07393; Sat, 4 Jan 1997 15:00:23 -0500 (EST)
Resent-Date: Sat, 4 Jan 1997 15:00:23 -0500 (EST)
From: Zefram <zefram@dcs.warwick.ac.uk>
Message-Id: <3834.199701041951@stone.dcs.warwick.ac.uk>
Subject: Re: Problem with alias in 'if' blocks
To: morgan@usf.teradyne.com (Brady Morgan)
Date: Sat, 4 Jan 1997 19:51:14 +0000 (GMT)
Cc: zsh-workers@math.gatech.edu
In-Reply-To: <9701040144.AA16789@tachyon.usf.teradyne.com> from "Brady Morgan" at Jan 3, 97 05:44:11 pm
X-Loop: zefram@dcs.warwick.ac.uk
X-Stardate: [-31]8679.13
X-US-Congress: Moronic fuckers
Content-Type: text
Resent-Message-ID: <"jab8s2.0.Sp1.NRhpo"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/2723
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Brady Morgan wrote:
>Can someone explain why the alias isn't "known" until I'm out of the
>"if" loop?  Also, if I've goofed with this, could someone demonstrate
>the proper way to achieve the desired result.

Aliases are expanded when commands are first scanned, not when they are
executed.  The entire if construct has to be read in and parsed before
it can be executed at all, so the aliases expanded in it are those in
effect at the start of the construct.

The solution is to use a shell function, rather than an alias.  The
behaviour of functions is better defined, and more like normal
commands.  Aliases are really only useful interactively.

-zefram

