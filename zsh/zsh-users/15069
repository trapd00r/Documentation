From zsh-users-return-15069-mason-zsh=primenet.com.au@zsh.org Thu May 20 14:45:56 2010
Return-Path: <zsh-users-return-15069-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24692 invoked by alias); 20 May 2010 14:45:55 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 15069
Received: (qmail 5166 invoked from network); 20 May 2010 14:45:53 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.9 required=5.0 tests=BAYES_00,RCVD_IN_DNSWL_NONE
	autolearn=ham version=3.3.1
Received-SPF: none (ns1.primenet.com.au: domain at brasslantern.com does not designate permitted sender hosts)
MIME-Version: 1.0
In-Reply-To: <20100519173756.GA1456@spiegl.de>
References: <20100519125713.GA17396@spiegl.de>
	 <AANLkTilf4VJehRx3kf_XNUc4B8YO1EexzsZIaaclnFJ2@mail.gmail.com>
	 <20100519173756.GA1456@spiegl.de>
Date: Thu, 20 May 2010 07:45:40 -0700
Message-ID: <AANLkTika1EUAfmPwiTnKLv5IXofGH07sgFoRwZGQNXnL@mail.gmail.com>
Subject: Re: Bug in _gnu_generic for "cp -a"?
From: Bart Schaefer <schaefer@brasslantern.com>
To: zsh-users@zsh.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On Wed, May 19, 2010 at 10:37 AM, Andy Spiegl <zsh.Andy@spiegl.de> wrote:
> On 2010-05-19, 08:30, Bart Schaefer wrote:
>>
>> What do you see with
>>
>> % cp -<TAB>
>>
> condor:~/tmp> compdef _gnu_generic cp
> condor:~/tmp> cp -<TAB>
> - option -
> --archive =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 -a =A0 =A0 =A0-- same as -dR --=
preserve=3Dall
> -d =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0-- same=
 as --no-dereference --preserve=3Dlinks

So, I have a suspicion that the "=3D" in the description is fooling
"_arguments ... --" into thinking that the -a option wants an argument
of its own.  (I haven't really worked out what's going on in the help
text parsing in there, so I may be way off.)  You said before that you
have this completion problem only with the -a option, but do you by
chance also have it with the -d option, which also has an "=3D" in the
description?

