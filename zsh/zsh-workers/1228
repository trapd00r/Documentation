From schaefer@z-code.ncd.com Fri May 31 02:27:42 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by melb.werple.net.au (8.7.5/8.7.3) with ESMTP id CAA02862 for <mason@werple.mira.net.au>; Fri, 31 May 1996 02:27:30 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id MAA24834; Thu, 30 May 1996 12:10:39 -0400 (EDT)
Resent-Date: Thu, 30 May 1996 12:10:39 -0400 (EDT)
From: schaefer@z-code.ncd.com (Barton E. Schaefer)
Message-Id: <960530091129.ZM5700@zyrcon.z-code.com>
Date: Thu, 30 May 1996 09:11:29 -0700
In-Reply-To: Zefram <A.Main@dcs.warwick.ac.uk>
        "Re: History !# substitutions" (May 30,  4:11pm)
References: <18410.199605301511@stone.dcs.warwick.ac.uk>
Reply-To: schaefer@z-code.ncd.com
X-Face: czU|*h"p8AX?4.I.yU.^s%TIMx|"-s,*'|#H^|e,QjE&!jL%<]:-.U/;khS%3a2BC5_d#)(
 mz=$$G0u9P&*N8cA~b[URf;lgKRif@#qEf[ltie#Gg0%6$b`e`k.Cgw:\qJx\\a7c(K7^3;gXW:e1@
 J<dlE"_MR!jLyY^_Ig[6-B#D2;B2V
X-Mailer: Z-Mail (3.3dev.506 06may96)
To: Zefram <A.Main@dcs.warwick.ac.uk>, pws@ifh.de (Peter Stephenson),
        zsh-workers@math.gatech.edu
Subject: Re: History !# substitutions
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Resent-Message-ID: <"x7e8i2.0.v36.-XShn"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/1228
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu
Content-Length: 1055
Status: OR

On May 30,  4:11pm, Zefram wrote:
} Subject: Re: History !# substitutions
}
} >I changed the code, then found there was a bug in menu completion:
} >hitting tab repeatedly added an extra space each time.  Then I tried
} >it with the old version and discovered it was there anyway.  Has this
} >been reported and fixed while I was asleep?
} 
} Yes.  It's a result of the line no longer being NUL terminated when
} editing normally -- when the completion code (which *does* have a NUL
} at the end of the line) calls a normal editing function, the NUL
} doesn't get moved appropriately.  I sent a patch for it a few days
} ago.

Sorry, Zefram, but I have that patch applied and I'm still seeing the
behavior I reported (duplication of the last character on the line
ever time TAB is pressed somewhere in the middle of the line).

-- 
Bart Schaefer                     Vice President, Technology, Z-Code Software
schaefer@z-code.com                  Division of NCD Software Corporation
http://www.well.com/www/barts           http://www.ncdsoft.com/ZMail/


