From zsh-users-return-12727-mason-zsh=primenet.com.au@sunsite.dk Tue Mar 25 17:14:05 2008
Return-Path: <zsh-users-return-12727-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 6667 invoked from network); 25 Mar 2008 17:14:04 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.4 (2008-01-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.4
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 25 Mar 2008 17:14:04 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 9700 invoked from network); 25 Mar 2008 17:13:54 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 25 Mar 2008 17:13:54 -0000
Received: (qmail 4354 invoked by alias); 25 Mar 2008 17:13:45 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 12727
Received: (qmail 4336 invoked from network); 25 Mar 2008 17:13:44 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 25 Mar 2008 17:13:44 -0000
Received: from vms173001pub.verizon.net (vms173001pub.verizon.net [206.46.173.1])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 612838097826
	for <zsh-users@sunsite.dk>; Tue, 25 Mar 2008 18:13:41 +0100 (CET)
Received: from torch.brasslantern.com ([71.121.1.164])
 by vms173001.mailsrvcs.net
 (Sun Java System Messaging Server 6.2-6.01 (built Apr  3 2006))
 with ESMTPA id <0JYA001ZKPKDWA30@vms173001.mailsrvcs.net> for
 zsh-users@sunsite.dk; Tue, 25 Mar 2008 11:53:02 -0500 (CDT)
Received: from torch.brasslantern.com (localhost.localdomain [127.0.0.1])
	by torch.brasslantern.com (8.13.1/8.13.1) with ESMTP id m2PGr0p8009357; Tue,
 25 Mar 2008 09:53:00 -0700
Received: (from schaefer@localhost)	by torch.brasslantern.com
 (8.13.1/8.13.1/Submit) id m2PGqxTd009356; Tue, 25 Mar 2008 09:52:59 -0700
Date: Tue, 25 Mar 2008 09:52:59 -0700
From: Bart Schaefer <schaefer@brasslantern.com>
Subject: Re: how to get verbatim output in command substitution
In-reply-to: <5fb1c7f40803250743u24479110v42bc00de2c2b22c9@mail.gmail.com>
To: "Sharad Pratap" <sh4r4d@gmail.com>, zsh-users@sunsite.dk
Cc: sharad.pratap@sasken.com
Message-id: <080325095259.ZM9355@torch.brasslantern.com>
MIME-version: 1.0
X-Mailer: OpenZMail Classic (0.9.2 24April2005)
Content-type: text/plain; charset=us-ascii
References: <5fb1c7f40803250743u24479110v42bc00de2c2b22c9@mail.gmail.com>
Comments: In reply to "Sharad Pratap" <sh4r4d@gmail.com>
 "how to get verbatim output in command substitution" (Mar 25,  8:13pm)
X-Virus-Scanned: ClamAV 0.91.2/6392/Tue Mar 25 13:44:02 2008 on bifrost
X-Virus-Status: Clean

On Mar 25,  8:13pm, Sharad Pratap wrote:
} Subject: how to get verbatim output in command substitution

In most cases, when you want "verbatim" anything, the answer is going
to be "put double quotes around it."

However, as Stephane points out, here you don't really want "verbatim"
you want "split on newlines, not on spaces" or something to that effect.

However (part 2), your sed script appears to be inserting additional
quoting, so what you really need is to pass it through "eval" in some
manner, perhaps like this:

eval $( echo "mailpath=("; sed -n ... .mutt/muttrc; echo ")" )

You might be better off rewriting your sed to *not* insert quotes so
that you can assign it with

mailpath=( ${(f)"$(sed -n ... .mutt/muttrc)"} )

(where (f) means "split on newlines") but I think the eval above will
do it with the script as-is.

