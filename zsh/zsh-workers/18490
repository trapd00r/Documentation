From zsh-workers-return-18490-mason-zsh=primenet.com.au@sunsite.dk Wed Apr 30 14:32:08 2003
Return-Path: <zsh-workers-return-18490-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 7885 invoked from network); 30 Apr 2003 14:32:08 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 30 Apr 2003 14:32:08 -0000
Received: (qmail 20692 invoked by alias); 30 Apr 2003 14:32:01 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 18490
Received: (qmail 20683 invoked from network); 30 Apr 2003 14:32:01 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 30 Apr 2003 14:32:01 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [212.125.75.4] by sunsite.dk (MessageWall 1.0.8) with SMTP; 30 Apr 2003 14:32:1 -0000
Received: (qmail 16212 invoked from network); 30 Apr 2003 14:30:47 -0000
Received: from iris.logica.co.uk (158.234.9.163)
  by server-19.tower-1.messagelabs.com with SMTP; 30 Apr 2003 14:30:47 -0000
Received: from gmcs3.logica.co.uk ([158.234.142.61])
	by iris.logica.co.uk (8.9.3/8.9.3/Debian 8.9.3-21) with ESMTP id PAA03931
	for <zsh-workers@sunsite.dk>; Wed, 30 Apr 2003 15:30:46 +0100
X-Authentication-Warning: iris.logica.co.uk: Host [158.234.142.61] claimed to be gmcs3.logica.co.uk
Received: from gmcs3.logica.co.uk (localhost [127.0.0.1])
	by gmcs3.logica.co.uk (8.11.6/8.11.6/SuSE Linux 0.5) with ESMTP id h3UEUlK08046
	for <zsh-workers@sunsite.dk>; Wed, 30 Apr 2003 16:30:47 +0200
X-VirusChecked: Checked
In-reply-to: <23086.1051710727@csr.com> 
From: Oliver Kiddle <okiddle@yahoo.co.uk>
References: <23086.1051710727@csr.com>
To: zsh-workers@sunsite.dk
Subject: Re: current CVS test failure 
Date: Wed, 30 Apr 2003 16:30:46 +0200
Message-ID: <8044.1051713046@gmcs3.logica.co.uk>

Peter wrote:
> Oliver Kiddle wrote:
> > The test is doing _arguments '-+o'. Because there are no other
> > (non-option) things being completed, it adds the -o and +o regardless
> > of the prefix. In _describe, I can't know if _arguments is completing
> > other things so I can't think of any easy solution other than checking
> > prefix-needed manually in any other function using _describe -o.
> 
> how about adding another option to _describe e.g. -O which works the
> same but doesn't test prefix-needed and only gets called from
> _arguments?

Possibly.

I was hoping to experiment with a few things because I've got a couple
of other vague ideas. Functions other than _arguments might also be
completing things besides options so would also need the -O behaviour.

Anyway, I've got a train to catch so I can't do anything till next week.

Oliver

