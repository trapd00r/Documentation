From zsh-users-return-14813-mason-zsh=primenet.com.au@zsh.org Sun Feb 07 20:22:10 2010
Return-Path: <zsh-users-return-14813-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 14351 invoked by alias); 7 Feb 2010 20:22:10 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 14813
Received: (qmail 29829 invoked from network); 7 Feb 2010 20:22:08 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received-SPF: pass (ns1.primenet.com.au: SPF record at benizi.com designates 64.130.10.15 as permitted sender)
Date: Sun, 7 Feb 2010 15:22:04 -0500 (EST)
From: "Benjamin R. Haskell" <zsh@benizi.com>
To: Peter Stephenson <p.w.stephenson@ntlworld.com>
cc: Zsh Users <zsh-users@zsh.org>
Subject: Re: Shell options during completion?
In-Reply-To: <201002072005.o17K5LgH004755@pws-pc.ntlworld.com>
Message-ID: <alpine.LNX.2.01.1002071510350.2729@hp.internal>
References: <201002072005.o17K5LgH004755@pws-pc.ntlworld.com>
User-Agent: Alpine 2.01 (LNX 1266 2009-07-14)
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Sun, 7 Feb 2010, Peter Stephenson wrote:

> "Benjamin R. Haskell" wrote:
> > Then I guess my question is more PCRE-specific than I'd thought...  
> > Is PCRE "usually" available?  (For some "most distros"/"most 
> > OS'es"/"most users" value of "usually")  Or should I just code up 
> > the 'fallback' path in my other example (since I'd have to code it 
> > anyway for the the doesn't-have-PCRE case)?
> 
> It's probably safest to assume PCRE isn't available:  pcre is often 
> not a package installed by default, may well not be present at all on 
> systems that aren't Linux or BSD distributions, and enabling it is a 
> special configure option.

Nuts.  That's what I feared, but I was heartened by finding it in the 
stock OpenSolaris10 install.


> You probably *can* assume POSIX regular expressions are available, i.e 
> [[ ... =~ ... ]] with REMATCH_PCRE turned off.  That's tested for in 
> configure, but I would expect most systems to provide it.

Given that, I'll probably just avoid =~ altogether, unless there are 
nice ways to deal with greediness and multiline matching.  (i.e. I think 
it'll be simpler to switch to zsh-internal parameter substitutions.)

-- 
Thanks,
Ben

