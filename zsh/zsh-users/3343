From zsh-users-return-3343-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Jul 28 11:32:48 2000
Return-Path: <zsh-users-return-3343-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 7201 invoked from network); 28 Jul 2000 11:32:47 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 28 Jul 2000 11:32:47 -0000
Received: (qmail 27869 invoked by alias); 28 Jul 2000 11:32:00 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 3343
Received: (qmail 27861 invoked from network); 28 Jul 2000 11:32:00 -0000
Date: Fri, 28 Jul 2000 14:31:56 +0300 (EEST)
From: Juhapekka Tolvanen <juhtolv@st.jyu.fi>
To: zsh-user mailing list <zsh-users@sunsite.auc.dk>
Subject: Bug or feature?
Message-ID: <Pine.LNX.4.10.10007281351110.20078-100000@verso.st.jyu.fi>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=ISO-8859-1
Content-Transfer-Encoding: 8BIT


My ~/.zshrc sources my ~/.kshrc via "." (dot) and my ~./kshrc sources my
~/.shinit via ".". My ~/shinit has also these lines:  

# {{{ Logout

trap '. $HOME/.sh_logout; exit' 0

# }}}

Bash, ash and pdksh really sources my  ~/.sh_logout during logout because of
that trap but my zsh does not. So I had to create ~/.zlogout that has just
these lines:

# ~/.zlogout

# echo ~/.zlogout

. ~/.sh_logout

Is this bug or feature? If it is bug, warn me, when that bug is fixed, so I
can delete that ~/.zlogout. 

You may ask, where I heard about such hack. Right this way:

http://www.oreilly.com/

http://unix.oreilly.com/

http://www.oreilly.com/catalog/upt2/

http://www.oreilly.com/catalog/upt2/examples/

http://www.oreilly.com/catalog/upt2/examples/#sh_logout

ftp://ftp.oreilly.com/pub/examples/power_tools/unix/split/sh_logout

# IF YOU USE bash, COPY THIS FILE INTO $HOME/.bash_logout .
# FOR OTHER SHELLS WITHOUT A LOGOUT FILE, PUT THIS INTO $HOME/.sh_logout
# AND ADD THE FOLLOWING LINE TO YOUR .profile:
#     trap '. $HOME/.sh_logout; exit' 0

BTW that "Drill-book" really rules, although it does not have something
about Zsh. 

-- 
Juhapekka "naula" Tolvanen * U of Jyväskylä * juhtolv@st.jyu.fi
http://www.cc.jyu.fi/~juhtolv/ * * "STRAIGHT BUT NOT NARROW !!" 
---------------------------------------------------------------
"if i was twice the man i could be, i'd still be half of what
you need"                                       Nine Inch Nails

