From zsh-workers-request@euclid.skiles.gatech.edu  Tue Feb 13 00:24:17 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by werple.net.au (8.7/8.7.1) with ESMTP id AAA04125 for <mason@werple.mira.net.au>; Tue, 13 Feb 1996 00:24:15 +1100 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id HAA23294; Mon, 12 Feb 1996 07:50:58 -0500 (EST)
Resent-Date: Mon, 12 Feb 1996 07:50:58 -0500 (EST)
From: Zoltan Hidvegi <hzoli@cs.elte.hu>
Message-Id: <199602121249.NAA01279@bolyai.cs.elte.hu>
Subject: Re: zsh arg list too long
To: hniksic@srce.hr
Date: Mon, 12 Feb 1996 13:49:53 +0100 (MET)
Cc: jarausch@igpm.rwth-aachen.de, zsh-workers@math.gatech.edu
In-Reply-To: <199602121217.NAA09795@jagor.srce.hr> from "Hrvoje Niksic" at Feb 12, 96 01:17:20 pm
Organization: Dept. of Comp. Sci., Eotvos University, Budapest, Hungary
Phone: (36 1)2669833 ext: 2667, home phone: (36 1) 2752368
X-Mailer: ELM [version 2.4 PL24 PGP3 *ALPHA*]
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"qmcbu3.0.uh5.nUp7n"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/760
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Hrvoje Niksic <hniksic@srce.hr> wrote:
> In your mail, you said:
> > Last time I only tried   rm  ~/.netscape-cache/*
> > and it failed because there were (only) 576 files (filename length 24)
> 
> I noticed it too. It should not be OS restriction, since it works in other
> shells. I am afraid it is a zsh bug.

What other shells does it work?  The `arg list too long' message comes from
the OS.  If the arg list is long execve fails and sets errno to E2BIG.
Builtin zsh commands can have arbitrary long argument lists.  If you do not
believe me, grep the zsh source for the arg list too long message.  You won't
find it.  The maximum allowed length of the argument list is very OS
dependent.  E.g. on Linux I can do:

bolyai /l/src % /bin/echo ([nzk]|t[^au])*/**/*|wc
      1    4346  127155

But here 128k is the maximum.  On Ultrix and probably on other OS'es as well
the limit is much lower.

Note that you must use /bin/echo above since the echo builtin can have any
number of arguments.

Cheers,

Zoltan

