From zsh-workers-return-24429-mason-zsh=primenet.com.au@sunsite.dk Tue Jan 22 01:35:44 2008
Return-Path: <zsh-workers-return-24429-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 12120 invoked from network); 22 Jan 2008 01:35:29 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.4 (2008-01-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.4
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 22 Jan 2008 01:35:29 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 19334 invoked from network); 22 Jan 2008 01:35:25 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 22 Jan 2008 01:35:25 -0000
Received: (qmail 14358 invoked by alias); 22 Jan 2008 01:35:22 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 24429
Received: (qmail 14346 invoked from network); 22 Jan 2008 01:35:22 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 22 Jan 2008 01:35:22 -0000
Received: from virusfilter.dotsrc.org (bifrost [127.0.0.1])
	by spamfilter.dotsrc.org (Postfix) with ESMTP id 9E65B8058F58
	for <zsh-workers@sunsite.dk>; Tue, 22 Jan 2008 02:35:13 +0100 (CET)
Received: from acolyte.scowler.net (acolyte.scowler.net [216.254.112.45])
	by bifrost.dotsrc.org (Postfix) with ESMTP
	for <zsh-workers@sunsite.dk>; Tue, 22 Jan 2008 02:35:13 +0100 (CET)
Received: by acolyte.scowler.net (Postfix, from userid 1000)
	id AF4675C06B; Mon, 21 Jan 2008 20:35:17 -0500 (EST)
Date: Mon, 21 Jan 2008 20:35:17 -0500
From: Clint Adams <clint@zsh.org>
To: Geoff Wing <gcw@zsh.org>
Cc: zsh-workers@sunsite.dk
Subject: Re: ZSH_EXTRAVERSION [was Re: Segfault with newer .zwc]
Message-ID: <20080122013517.GD16813@scowler.net>
Mail-Followup-To: Geoff Wing <gcw@zsh.org>, zsh-workers@sunsite.dk
References: <slrnfo4ov7.cgh.joerg@alea.gnuu.de> <20080108095306.5475d009@news01> <20080109191236.GB32394@scowler.net> <200801100950.m0A9oN9T015070@news01.csr.com> <20080115020642.GA5306@scowler.net> <200801150910.m0F9AP0f026468@news01.csr.com> <20080118170223.GA32039@scowler.net> <20080121014801.GA1242@primenet.com.au>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20080121014801.GA1242@primenet.com.au>
User-Agent: Mutt/1.5.17 (2007-11-01)
X-Virus-Scanned: ClamAV using ClamSMTP

On Mon, Jan 21, 2008 at 12:48:01PM +1100, Geoff Wing wrote:
> Wouldn't it be nicer to call this ZSH_VERSIONSUFFIX?  IMO, it's a name
> which is clearer about its function.

Fine by me.

Index: configure.ac
===================================================================
RCS file: /cvsroot/zsh/zsh/configure.ac,v
retrieving revision 1.88
diff -u -r1.88 configure.ac
--- configure.ac	18 Jan 2008 17:14:38 -0000	1.88
+++ configure.ac	22 Jan 2008 01:34:51 -0000
@@ -31,7 +31,7 @@
 
 dnl What version of zsh are we building ?
 . ${srcdir}/Config/version.mk
-VERSION="$VERSION$ZSH_EXTRAVERSION"
+VERSION="$VERSION$ZSH_VERSIONSUFFIX"
 echo "configuring for zsh $VERSION"
 
 dnl ----------------------------------------------
Index: Etc/zsh-development-guide
===================================================================
RCS file: /cvsroot/zsh/zsh/Etc/zsh-development-guide,v
retrieving revision 1.16
diff -u -r1.16 zsh-development-guide
--- Etc/zsh-development-guide	18 Jan 2008 17:14:44 -0000	1.16
+++ Etc/zsh-development-guide	22 Jan 2008 01:34:51 -0000
@@ -860,9 +860,9 @@
 Version Suffixes
 ----------------
 The configure script reads the version number from Config/version.mk.
-If the environment variable ZSH_EXTRAVERSION is set, the string
+If the environment variable ZSH_VERSIONSUFFIX is set, the string
 contained therein will be appended to the version string.  For example,
 if Config/version.mk contains "VERSION=4.3.4-dev-7" and
-ZSH_EXTRAVERSION is set to "-ca", $ZSH_VERSION in the shell built from
+ZSH_VERSIONSUFFIX is set to "-ca", $ZSH_VERSION in the shell built from
 that run will equal "4.3.4-dev-7-ca".  Caution is recommended when
 using this feature, as is-at-least may misunderstand your conventions.

From zsh-workers-return-24429-mason-zsh=primenet.com.au@sunsite.dk Tue Jan 22 03:27:35 2008
Return-Path: <zsh-workers-return-24429-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17450 invoked from network); 22 Jan 2008 03:27:33 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.4 (2008-01-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00
	autolearn=unavailable version=3.2.4
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 22 Jan 2008 03:27:33 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 19334 invoked from network); 22 Jan 2008 01:35:25 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 22 Jan 2008 01:35:25 -0000
Received: (qmail 14358 invoked by alias); 22 Jan 2008 01:35:22 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 24429
Received: (qmail 14346 invoked from network); 22 Jan 2008 01:35:22 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 22 Jan 2008 01:35:22 -0000
Received: from virusfilter.dotsrc.org (bifrost [127.0.0.1])
	by spamfilter.dotsrc.org (Postfix) with ESMTP id 9E65B8058F58
	for <zsh-workers@sunsite.dk>; Tue, 22 Jan 2008 02:35:13 +0100 (CET)
Received: from acolyte.scowler.net (acolyte.scowler.net [216.254.112.45])
	by bifrost.dotsrc.org (Postfix) with ESMTP
	for <zsh-workers@sunsite.dk>; Tue, 22 Jan 2008 02:35:13 +0100 (CET)
Received: by acolyte.scowler.net (Postfix, from userid 1000)
	id AF4675C06B; Mon, 21 Jan 2008 20:35:17 -0500 (EST)
Date: Mon, 21 Jan 2008 20:35:17 -0500
From: Clint Adams <clint@zsh.org>
To: Geoff Wing <gcw@zsh.org>
Cc: zsh-workers@sunsite.dk
Subject: Re: ZSH_EXTRAVERSION [was Re: Segfault with newer .zwc]
Message-ID: <20080122013517.GD16813@scowler.net>
Mail-Followup-To: Geoff Wing <gcw@zsh.org>, zsh-workers@sunsite.dk
References: <slrnfo4ov7.cgh.joerg@alea.gnuu.de> <20080108095306.5475d009@news01> <20080109191236.GB32394@scowler.net> <200801100950.m0A9oN9T015070@news01.csr.com> <20080115020642.GA5306@scowler.net> <200801150910.m0F9AP0f026468@news01.csr.com> <20080118170223.GA32039@scowler.net> <20080121014801.GA1242@primenet.com.au>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20080121014801.GA1242@primenet.com.au>
User-Agent: Mutt/1.5.17 (2007-11-01)
X-Virus-Scanned: ClamAV using ClamSMTP

On Mon, Jan 21, 2008 at 12:48:01PM +1100, Geoff Wing wrote:
> Wouldn't it be nicer to call this ZSH_VERSIONSUFFIX?  IMO, it's a name
> which is clearer about its function.

Fine by me.

Index: configure.ac
===================================================================
RCS file: /cvsroot/zsh/zsh/configure.ac,v
retrieving revision 1.88
diff -u -r1.88 configure.ac
--- configure.ac	18 Jan 2008 17:14:38 -0000	1.88
+++ configure.ac	22 Jan 2008 01:34:51 -0000
@@ -31,7 +31,7 @@
 
 dnl What version of zsh are we building ?
 . ${srcdir}/Config/version.mk
-VERSION="$VERSION$ZSH_EXTRAVERSION"
+VERSION="$VERSION$ZSH_VERSIONSUFFIX"
 echo "configuring for zsh $VERSION"
 
 dnl ----------------------------------------------
Index: Etc/zsh-development-guide
===================================================================
RCS file: /cvsroot/zsh/zsh/Etc/zsh-development-guide,v
retrieving revision 1.16
diff -u -r1.16 zsh-development-guide
--- Etc/zsh-development-guide	18 Jan 2008 17:14:44 -0000	1.16
+++ Etc/zsh-development-guide	22 Jan 2008 01:34:51 -0000
@@ -860,9 +860,9 @@
 Version Suffixes
 ----------------
 The configure script reads the version number from Config/version.mk.
-If the environment variable ZSH_EXTRAVERSION is set, the string
+If the environment variable ZSH_VERSIONSUFFIX is set, the string
 contained therein will be appended to the version string.  For example,
 if Config/version.mk contains "VERSION=4.3.4-dev-7" and
-ZSH_EXTRAVERSION is set to "-ca", $ZSH_VERSION in the shell built from
+ZSH_VERSIONSUFFIX is set to "-ca", $ZSH_VERSION in the shell built from
 that run will equal "4.3.4-dev-7-ca".  Caution is recommended when
 using this feature, as is-at-least may misunderstand your conventions.

