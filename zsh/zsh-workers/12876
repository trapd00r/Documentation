From zsh-workers-return-12876-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Oct 04 09:48:27 2000
Return-Path: <zsh-workers-return-12876-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 19290 invoked from network); 4 Oct 2000 09:48:26 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 4 Oct 2000 09:48:26 -0000
Received: (qmail 14721 invoked by alias); 4 Oct 2000 09:47:48 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 12876
Received: (qmail 14712 invoked from network); 4 Oct 2000 09:47:46 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <1001004094734.ZM21898@candle.brasslantern.com>
Date: Wed, 4 Oct 2000 09:47:34 +0000
In-Reply-To: <200010040930.LAA09399@beta.informatik.hu-berlin.de>
Comments: In reply to Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
        "Re: Use of zerr() vs. zwarn()" (Oct  4, 11:30am)
References: <200010040930.LAA09399@beta.informatik.hu-berlin.de>
X-Mailer: Z-Mail (5.0.0 30July97)
To: zsh-workers@sunsite.auc.dk
Subject: Re: Use of zerr() vs. zwarn()
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Welcome back, Sven!  Hope you had a good holiday.

On Oct 4, 11:30am, Sven Wischnowsky wrote:
}
} Bart Schaefer wrote:
} 
} > On Sep 29,  4:58pm, Bart Schaefer wrote:
} > }
} > } init.c:1122:    zwarnnam(name, "option valid only in functions called from completion",
} > }   Should these use zerrnam(), as do completion-only conditions within
} > }   [[ ... ]] ?
} > 
} > Judging from the indentation on the line following the call to zwarnnam(),
} > I suspect that this originally *was* a call to zerrnam() and was changed
} 
} Yes, please. I changed that in 10131.

...??  Not Src/init.c, you didn't.

} The discussion leading up to it is in 10120, 10122 and before. We had
} problems with builtins stopping loops (or not) because of errflag.

Yes, exactly; that's the same sort of thing I was trying to address with
the other zerr --> zwarn changes.

However, "... only in functions called from completion ..." is not an
error that can possibly occur in any case where a loop *ought* to
continue, is it?

I certainly would *not* advocate changing back anything *else* in 10131.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

