From zsh-users-return-12814-mason-zsh=primenet.com.au@sunsite.dk Fri May 02 17:40:29 2008
Return-Path: <zsh-users-return-12814-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 21000 invoked from network); 2 May 2008 17:40:26 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.4 (2008-01-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.4
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 2 May 2008 17:40:26 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 75281 invoked from network); 2 May 2008 17:40:02 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 2 May 2008 17:40:02 -0000
Received: (qmail 8845 invoked by alias); 2 May 2008 17:39:51 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 12814
Received: (qmail 8830 invoked from network); 2 May 2008 17:39:51 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 2 May 2008 17:39:51 -0000
Received: from smtp2.poczta.onet.pl (smtp2.poczta.onet.pl [213.180.130.30])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 1A4B180ED172
	for <zsh-users@sunsite.dk>; Fri,  2 May 2008 19:39:44 +0200 (CEST)
Received: from kjonca.aster.net.pl ([82.210.185.235]:35095 "EHLO localhost"
	rhost-flags-OK-OK-OK-FAIL) by ps2.test.onet.pl with ESMTPA
	id S184555771AbYEBRjoONN3g (ORCPT <rfc822;zsh-users@sunsite.dk>);
	Fri, 2 May 2008 19:39:44 +0200
Date:	Fri, 2 May 2008 19:39:43 +0200
From:	Kamil =?iso-8859-2?Q?Jo=F1ca?= <kjonca@poczta.onet.pl>
To:	zsh-users@sunsite.dk
Subject: Zsh hangs sometimes?
Message-ID: <20080502173943.GA8824@alfa.kjonca>
References: <1209745744.25440.ezmlm@sunsite.dk>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <1209745744.25440.ezmlm@sunsite.dk>
X-Operating-System: 'Linux alfa.kjonca 2.6.25+1 #2 PREEMPT Tue Apr 29
	12:44:38 CEST 2008 i686 GNU/Linux'
X-Geek:	GIT d s+:- a-- C++ UL P+ L++ E W N+ w- PS+ PE++ PGP t-- X-- R- tv-
	b+ D+ G e h-- r- z?
User-Agent: Mutt/1.5.17+20080114 (2008-01-14)
X-Virus-Scanned: ClamAV 0.91.2/7012/Fri May  2 16:53:34 2008 on bifrost
X-Virus-Status: Clean

I have some maildirs and some mails (files with mails are) duplicated.
(But I don't want to pass them through formail -D)
I wrote script to find duplicates:

==============================
export IFS="
" ;find -type d -not -name cur -not -name tmp -not -name new -not -name "." -not -name ".." | while read q ; do echo $q ; find "$q" -maxdepth 2 -type f |while read w ; do  find "$q" -maxdepth 2 -type f |while read e ; do if [[ "$w" < "$e" ]] ; then ; if cmp -s "$w" "$e" ; then echo "$w" "$e" identical ; fi ; fi ; done;done;done

==============================
And sometimes this hangs :( 
there's not child processes.

Moreover if I put loops in the subshells (ie. |( while read q ; ....|(while read w ... ) ...) )
then everthings luks good.
Am I missing something?
zsh 4.3.6 (i686-pc-linux-gnu)
Debian GNU/Linux lenny/sid
Linux alfa.kjonca 2.6.25+1 #2 PREEMPT Tue Apr 29 12:44:38 CEST 2008 i686 GNU/Linux

KJ


PS. I know about O(n^2) comparisions between files.

