From zsh-workers-return-17082-mason-zsh=primenet.com.au@sunsite.dk Tue May 07 14:47:27 2002
Return-Path: <zsh-workers-return-17082-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 29586 invoked from network); 7 May 2002 14:47:26 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 7 May 2002 14:47:26 -0000
Received: (qmail 1660 invoked by alias); 7 May 2002 14:46:52 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 17082
Received: (qmail 1583 invoked from network); 7 May 2002 14:46:48 -0000
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <1020507144625.ZM7033@candle.brasslantern.com>
Date: Tue, 7 May 2002 14:46:24 +0000
In-Reply-To: <17029.1020770715@csr.com>
Comments: In reply to Peter Stephenson <pws@csr.com>
        "PATCH: zselect builtin." (May  7, 12:25pm)
References: <17029.1020770715@csr.com>
X-Mailer: Z-Mail (5.0.0 30July97)
To: Peter Stephenson <pws@csr.com>, zsh-workers@sunsite.dk (Zsh hackers list)
Subject: Re: PATCH: zselect builtin.
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On May 7, 12:25pm, Peter Stephenson wrote:
} Subject: PATCH: zselect builtin.
}
} Here's a builtin to act as a front end to a `select' system call.  The
} name clash with the `select' builtin is unfortunate but seems inevitable

Call it "selectfd" perhaps ... or "sys_select" the way perl does it.

} Any comments before I commit this?

How about a -A (or -H, following `stat') option to store into an assoc?
It might be nice if the keys returned were the FDs and the values were
strings like "rwx" for the state of each descriptor, but if the keys were
"-r", "-w" etc. with strings of space-separated FD numbers as values you
could use `select ${(kv)=replyhash}', so I'm undecided.

(I presume `select $reply' is the reason for the format you chose for the
reply array.)

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

