From zsh-workers-return-12440-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Jul 31 09:48:23 2000
Return-Path: <zsh-workers-return-12440-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5529 invoked from network); 31 Jul 2000 09:48:18 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 31 Jul 2000 09:48:18 -0000
Received: (qmail 23947 invoked by alias); 31 Jul 2000 09:47:54 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 12440
Received: (qmail 23940 invoked from network); 31 Jul 2000 09:47:42 -0000
Date: Mon, 31 Jul 2000 10:47:14 +0100
From: Peter Stephenson <pws@csr.com>
Subject: 3.1.9-dev-4
To: zsh-workers@sunsite.auc.dk (Zsh hackers list)
Message-id: <0FYK001DC36PKJ@la-la.cambridgesiliconradio.com>
Content-transfer-encoding: 7BIT

I have uploaded
  ftp://ftp.zsh.org/pub/development/zsh-3.1.9-dev-4.tar.gz

I hope every two weeks is OK. There doesn't seem to be a particular need to
do it faster at the moment.

The changes included are

2000-07-31  Peter Stephenson  <pws@csr.com>

	* Config/version.mk: 3.1.9-dev-4.

	* unposted: Completion/Core/.distfiles: add compaudit

2000-07-31  Sven Wischnowsky  <wischnow@zsh.org>

	* 12439: Src/hist.c: isalpha() -> ialpha(); avoid a compiler
 	warning
	
	* 12438: Doc/Zsh/compsys.yo: clarify manual for menu style;
 	select= and yes= may be given both a number and one of the long*
 	values at the same time
	
2000-07-30  Andrew Main <zefram@zsh.org>

	* 12436: Doc/Zsh/invoke.yo, Src/init.c: Make -b behave like
	the csh -b, permitting more options to be stacked after it and
	take effect.  Make -b take effect depending on SH_OPTION_LETTERS,
	consistent with all the other single-letter options, rather than
	having a clashing check of emulation type.

2000-07-30  Andrew Main <zefram@zsh.org>

	* 12434: Doc/Zsh/invoke.yo, Src/init.c, Src/options.c, Src/zsh.h,
	Src/zsh.mdd: Allow options to be specified on the zsh command line
	in the form of GNU-style long options.	Also handle --version
	and --help.  Do not permit extra option letters to be stacked
	after `-whatever-' (they used to be ignored).  Exit if the
	command line specifies an option name that doesn't exist.

2000-07-28  Bart Schaefer  <schaefer@zsh.org>

	* 12393: Src/jobs.c: The `wait' builtin searches the job table for
	any process ID it's asked to wait for, and rejects those it
	doesn't find.

2000-07-28  Peter Stephenson  <pws@csr.com>

	* 12421: Src/Makemod.in.in: extra tab

	* Andrej: 12419: Src/builtin.c, Src/params.c: use putenv() and
	getenv() if available and try to make minimal assumptions about
	environment handling.

	* Andrej: 12411: check for brk() and sbrk() and use sbrk() if no
	brk().

2000-07-27  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 12415: Src/utils.c: fix bug in 12414 when quoting metafied field
	separator.

2000-07-27  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 12414: Doc/Zsh/mod_zle.yo, Src/exec.c, Src/utils.c,
	Src/Zle/zle_main.c: vared quotes separators when editing arrays.

2000-07-27  Sven Wischnowsky  <wischnow@zsh.org>

	* 12408: Test/55arguments.ztst: fix completion test (55*) because
 	of 12394
	
	* 12405: Completion/Core/_main_complete, Doc/Zsh/compsys.yo: fix a
 	bug that started menu selection too often; fix bug for `yes=long'
 	and documentit
	
2000-07-27  Bart Schaefer  <schaefer@zsh.org>

	* 12396: Functions/Misc/zed: The value of `$(functions $1)' for
	autoloadable functions has changed.

2000-07-27  Sven Wischnowsky  <wischnow@zsh.org>

	* 12400: Src/Zle/computil.c: compdescribe shouldn't use the sets
 	after failed initialisation
	
	* 12394: Completion/Core/_main_complete: don't hide possible
 	completions if there is only one and at the same time messages are
 	shown
	
2000-07-26  Adam Spiers  <adam@spiers.net>

	* unposted: Completion/User/_perl: -e, -I, -m and -M parameters
	can be specified multiple times

2000-07-26  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* Andrej/pws: 12381: configure.in: cygwin on Windows 2000 is
	mysteriously returning status 0 even though the test fails, so
	create a file we can test to see if the test got that far.

2000-07-26  Bart Schaefer  <schaefer@zsh.org>

	* 12377: Completion/Core/compaudit, Completion/Core/compinit,
	Doc/Zsh/compsys.yo: Separate compinit security checks into their
	own callable function.

	* 12370: Functions/Misc/zed: Add a context for controlling
	completion within zed, and a style to enable tab insertion at the
	beginnings of lines in zed by default.
	
	* 12162: Completion/Core/_expand, Completion/Core/_path_files,
	Src/utils.c: Use `eval' instead of `$(print ...)' to suppress
	some syntax error failures; this requires that zwarn() does not
	trashzle() when the output is not going to the terminal.
	
2000-07-26  Sven Wischnowsky  <wischnow@zsh.org>

	* 12378: Completion/Base/_arguments: make `_arguments --' use
 	specs after the `--' even for options not described in the help
 	output to get arguments
	
	* users/3337: Completion/Base/_value: allow _value:<assoc> functions to
 	override completion for all keys of an assoc
	
2000-07-24  Oliver Kiddle  <opk@zsh.org>

	* 12356: Completion/User/_mh: use mhpath and mhparam instead of
	guessing the directory

2000-07-24  Sven Wischnowsky  <wischnow@zsh.org>

	* 12354: Completion/Core/_multi_parts: optimisations for
 	_multi_parts
	
2000-07-22  Clint Adams  <schizo@debian.org>

	* 12347: Completion/User/_mutt: options -a, -b, and -c are
	repeatable.

2000-07-21  Sven Wischnowsky  <wischnow@zsh.org>

	* 12337: Src/parse.c: fix parsing of `time' without a command
	
2000-07-20  Wayne Davison  <wayned@users.sourceforge.net>

	* unposted: tweaked a function name in hist.c for Sven.

2000-07-20  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 12239: Fr. Br. George (George V Kouryachy), adapted:
	configure.in: prefer curses to termcap on solaris.

2000-07-20  Bart Schaefer  <schaefer@zsh.org>

	* 12326: Completion/User/_cvs: Discard stderr of a command subst.

2000-07-20  Wayne Davison  <wayned@users.sourceforge.net>

	* 12323: Src/hist.c: support "builtin" in HIST_NO_STORE check.

2000-07-19  Chmouel Boudjnah  <chmouel@mandrakesoft.com>

	* 12319: Completion/User/_perl_builtin_funcs: Get also /usr/share/man.

2000-07-19  Wayne Davison  <wayned@users.sourceforge.net>

	* 12318: Doc/Zsh/options.yo, Src/builtin.c, Src/exec.c, Src/hist.c,
	Src/init.c, Src/lex.c, Src/parse.c, Src/Zle/zle_main.c: Removed
	remhist() and the HA_JUNKED flag.  Now hend() is called with an
	Eprog pointer so that it can access the lexer's data for the
	current command.  Added shouldIgnoreLine() so that hend() can
	determine in advance if a command should be saved in the history.
	Added the aliasspaceflag variable to note when we expand an alias
	that starts with a space.

2000-07-19  Sven Wischnowsky  <wischnow@zsh.org>

	* 12314: Src/Zle/compmatch.c: a bit of security for a VARARR()
	
2000-07-19  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 12313: Doc/Zsh/metafaq.yo: bad phrasing corrected.

	* 12308: Completion/User/_man: Andrej and pws: cope with systems
	where manual pages just have bare .Z and no number; don't be
	too clever about suffix until we try to strip it.

2000-07-18  Sven Wischnowsky  <wischnow@zsh.org>

	* 12297: Src/Zle/compcore.c: don't let duplicate matches keep us
 	from recognising exact matches if they produce the same string on
 	the line
	
2000-07-18  Wayne Davison  <wayned@users.sourceforge.net>

	* 12295: Src/builtin.c, Src/hist.c, Src/input.c, Src/lex.c: Fixed
	the history command to output correctly when the current command was
	already removed from the history.  Fixed remhist() to not remove
	the wrong line in the above scenario.  Got rid of "spaceflag".

2000-07-17  Tanaka Akira  <akr@zsh.org>

	* 12274: Test/53completion.ztst, Test/55arguments.ztst,
	Test/.distfiles: separates _arguments tests.

-- 
Peter Stephenson <pws@csr.com>
Cambridge Silicon Radio, Unit 300, Science Park, Milton Road,
Cambridge, CB4 0XL, UK                          Tel: +44 (0)1223 392070

