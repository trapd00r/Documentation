From zsh-workers-return-13206-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Nov 29 23:05:43 2000
Return-Path: <zsh-workers-return-13206-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10305 invoked from network); 29 Nov 2000 23:05:42 -0000
Received: from sunsite.dk (HELO sunsite.auc.dk) (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 29 Nov 2000 23:05:42 -0000
Received: (qmail 11542 invoked by alias); 29 Nov 2000 23:05:35 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 13206
Received: (qmail 11535 invoked from network); 29 Nov 2000 23:05:34 -0000
Message-ID: <3A258B9B.839BC9A6@adobe.com>
Date: Wed, 29 Nov 2000 15:04:59 -0800
From: Steve Amerige <amerige@Adobe.COM>
Organization: Adobe Systems Incorporated
X-Mailer: Mozilla 4.76 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: zsh-workers@sunsite.auc.dk
Subject: RS6000AIX Zsh Executable Fails
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

After building either the zsh-3.1.2 or the zsh-3.1.9 releases
for the rs6000aix platform, I try running zsh and get the
following message:

% zsh
exec(): 0509-036 Cannot load program ./zsh because of the following errors:
        0509-118   The alignment of the .text section does not
                   satisfy its required alignment.
        0509-194 Examine file headers with the 'dump -ohv' command.
%

I did as requested, but I don't know what the output means.  I've
placed the results of this below.  I built zsh as:

% ./configure
% make

I've tried running the zsh in the Src directory as well as
installing zsh via "make install" and running that.  The error
message is the same.  The platform is AIX 4.3 (rs6000aix).
The compiler used is gcc2.95 (I did try the native cc compiler
as well but that compiler didn't even compile the code cleanly).

Can you suggest what I should do to make zsh work?

Thanks,
Steve Amerige
Adobe Systems Incorporated


% dump -ohv zsh
zsh:

                        ***Object Module Header***
# Sections      Symbol Ptr      # Symbols       Opt Hdr Len     Flags
         5      0x00000000              0                72     0x120f
Flags=( RELFLG EXEC LNNO LSYMS AR32W DYNLOAD )
Timestamp = "Dec 31 16:00:00 1969"
Magic = 0x1df  (32-bit XCOFF)

                        ***Optional Header***
Tsize        Dsize       Bsize       Tstart      Dstart
0x000789e0  0x0000b308  0x00007d14  0x10000150  0x20000b13

SNloader     SNentry     SNtext      SNtoc       SNdata
0x0004      0x0002      0x0001      0x0002      0x0002

TXTalign     DATAalign   TOC         vstamp      entry
0x0005      0x0003      0x200076f8  0x0001      0x200064f0

maxSTACK     maxDATA     SNbss       magic       modtype
0x00000000  0x00000000  0x0003      0x0107        1L

                        ***Section Header Information***
                         Section Header for .text
PHYaddr      VTRaddr     SCTsiz      RAWptr      RELptr
0x10000150  0x10000150  0x000789e0  0x00000140  0x00000000

LN#ptr       #RELent     #LINent     Flags
0x00000000  0x0000      0x0000      0x00000020

                         Section Header for .data
PHYaddr      VTRaddr     SCTsiz      RAWptr      RELptr
0x20000b13  0x20000b13  0x0000b308  0x00078b20  0x00000000

LN#ptr       #RELent     #LINent     Flags
0x00000000  0x0000      0x0000      0x00000040

                         Section Header for .bss
PHYaddr      VTRaddr     SCTsiz      RAWptr      RELptr
0x2000be18  0x2000be18  0x00007d14  0x00000000  0x00000000

LN#ptr       #RELent     #LINent     Flags
0x00000000  0x0000      0x0000      0x00000080

                         Section Header for .loader
PHYaddr      VTRaddr     SCTsiz      RAWptr      RELptr
0x00000000  0x00000000  0x000176e0  0x00083e28  0x00000000

LN#ptr       #RELent     #LINent     Flags
0x00000000  0x0000      0x0000      0x00001000

                         Section Header for .debug
PHYaddr      VTRaddr     SCTsiz      RAWptr      RELptr
0x00000000  0x00000000  0x00005880  0x0009b508  0x00000000

LN#ptr       #RELent     #LINent     Flags
0x00000000  0x0000      0x0000      0x00002000

