From zsh-workers-return-9549-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Feb 03 18:27:28 2000
Return-Path: <zsh-workers-return-9549-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 20646 invoked from network); 3 Feb 2000 18:27:27 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 3 Feb 2000 18:27:27 -0000
Received: (qmail 2699 invoked by alias); 3 Feb 2000 18:27:21 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 9549
Received: (qmail 2690 invoked from network); 3 Feb 2000 18:27:20 -0000
To: zsh-workers@sunsite.auc.dk (Zsh hackers list)
Subject: Funny bug when autoloading with syntax error
Date: Thu, 03 Feb 2000 18:30:20 +0000
From: Peter Stephenson <pws@pwstephenson.fsnet.co.uk>
Message-Id: <E12GQyL-0000Pv-00.2000-02-03-18-27-17@cmailg7.svr.pol.co.uk>

Autoload the following function:

if (( 1 )): then   # note colon instead of semicolon
  true
fi

This loads silently, unlike trying it at the command line which gives a
parse error near `fi', which is not unexpected.  `which fn' gives

fn () {
        if (( 1 ))
        then
                : then
        fi
        true
}

This is, not to put too fine a point on it, wrong.

-- 
Peter Stephenson <pws@pwstephenson.fsnet.co.uk>

