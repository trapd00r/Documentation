From zsh-workers-request@math.gatech.edu Thu Nov 13 23:00:27 1997
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 4970 invoked from network); 13 Nov 1997 23:00:23 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 13 Nov 1997 23:00:23 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id RAA13379;
	Thu, 13 Nov 1997 17:51:26 -0500 (EST)
Resent-Date: Thu, 13 Nov 1997 17:51:26 -0500 (EST)
Message-ID: <19971114115101.59660@xtra.co.nz>
Date: Fri, 14 Nov 1997 11:51:01 +1300
From: Radu Duta <rduta@xtra.co.nz>
To: zsh-workers@math.gatech.edu
Subject: possible bug with command line when doing echo -n
Mime-Version: 1.0
Content-Type: multipart/mixed; boundary=AqsLC8rIMeq19msA
X-Mailer: Mutt 0.85
Resent-Message-ID: <"CVLDx1.0.-G3.jHuQq"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3611
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu


--AqsLC8rIMeq19msA
Content-Type: text/plain; charset=us-ascii

I'm running 304 (tried 305 as well).  The problem I'm encountering is when
I do things like "echo -n hello", I get nothing.  When the string is longer
I can see it pop up and the is erased by the prompt.  I tried changing
my prompt to nothing, but no luck.

in sh it prints "hello% " baisicaly right before the prompt.  I don't know
if this is a problem with curses or zsh?   On my debian system and on a 
Sun it fails as well.  I tried setting the term=dumb and still no luck.

Anybody have a fix for this?  It could be my configuration, but not sure
at this stage.  I'm attaching the reporter output.

Thanks.  (I'm not on the mailing list so please CC me as well.)

Radu

--AqsLC8rIMeq19msA
Content-Type: text/plain; charset=us-ascii
Content-Disposition: attachment; filename="reporter.output"

# START zsh saveset
# uname:  Linux gunsmith 2.0.31 #1 Sat Oct 25 17:40:36 NZDT 1997 i586 unknown

# Aliases.

alias run-help=man
alias which-command=whence

# Key bindings.

bindkey -r "^@"
bindkey -r "^A"
bindkey -r "^B"
bindkey -r "^C"
bindkey -r "^D"
bindkey -r "^E"
bindkey -r "^F"
bindkey -r "^G"
bindkey -r "^H"
bindkey -r "^I"
bindkey -r "^J"
bindkey -r "^K"
bindkey -r "^L"
bindkey -r "^M"
bindkey -r "^N"
bindkey -r "^O"
bindkey -r "^P"
bindkey -r "^Q"
bindkey -r "^R"
bindkey -r "^S"
bindkey -r "^T"
bindkey -r "^U"
bindkey -r "^V"
bindkey -r "^W"
bindkey -r "^X"
bindkey -r "^Y"
bindkey -r "^Z"
bindkey -r "\e"
bindkey -r "^_"
bindkey -r "^?"
bindkey -r "^X^B"
bindkey -r "^X^F"
bindkey -r "^X^J"
bindkey -r "^X^K"
bindkey -r "^X^N"
bindkey -r "^X^O"
bindkey -r "^X^U"
bindkey -r "^X^V"
bindkey -r "^X^X"
bindkey -r "^X*"
bindkey -r "^XG"
bindkey -r "^Xg"
bindkey -r "^Xr"
bindkey -r "^Xs"
bindkey -r "^Xu"
bindkey -r "\e^D"
bindkey -r "\e^G"
bindkey -r "\e^H"
bindkey -r "\e^I"
bindkey -r "\e^J"
bindkey -r "\e^L"
bindkey -r "\e^M"
bindkey -r "\e^_"
bindkey -r "\e "
bindkey -r "\e!"
bindkey -r "\e\\""
bindkey -r "\e$"
bindkey -r "\e'"
bindkey -r "\e-"
bindkey -r "\e."
bindkey -r "\e0"
bindkey -r "\e1"
bindkey -r "\e2"
bindkey -r "\e3"
bindkey -r "\e4"
bindkey -r "\e5"
bindkey -r "\e6"
bindkey -r "\e7"
bindkey -r "\e8"
bindkey -r "\e9"
bindkey -r "\e<"
bindkey -r "\e>"
bindkey -r "\e?"
bindkey -r "\eA"
bindkey -r "\eB"
bindkey -r "\eC"
bindkey -r "\eD"
bindkey -r "\eF"
bindkey -r "\eG"
bindkey -r "\eH"
bindkey -r "\eL"
bindkey -r "\eN"
bindkey -r "\eP"
bindkey -r "\eQ"
bindkey -r "\eS"
bindkey -r "\eT"
bindkey -r "\eU"
bindkey -r "\eW"
bindkey -r "\e[A"
bindkey -r "\e[B"
bindkey -r "\e[C"
bindkey -r "\e[D"
bindkey -r "\e_"
bindkey -r "\ea"
bindkey -r "\eb"
bindkey -r "\ec"
bindkey -r "\ed"
bindkey -r "\ef"
bindkey -r "\eg"
bindkey -r "\eh"
bindkey -r "\el"
bindkey -r "\en"
bindkey -r "\ep"
bindkey -r "\eq"
bindkey -r "\es"
bindkey -r "\et"
bindkey -r "\eu"
bindkey -r "\ew"
bindkey -r "\ex"
bindkey -r "\ey"
bindkey -r "\ez"
bindkey -r "\e|"
bindkey -r "\e^?"

bindkey "^@"	set-mark-command
bindkey "^A"	beginning-of-line
bindkey "^B"	backward-char
bindkey "^C"	undefined-key
bindkey "^D"	delete-char-or-list
bindkey "^E"	end-of-line
bindkey "^F"	forward-char
bindkey "^G"	send-break
bindkey "^H"	backward-delete-char
bindkey "^I"	expand-or-complete
bindkey "^J"	accept-line
bindkey "^K"	kill-line
bindkey "^L"	clear-screen
bindkey "^M"	accept-line
bindkey "^N"	down-line-or-history
bindkey "^O"	accept-line-and-down-history
bindkey "^P"	up-line-or-history
bindkey "^Q"	push-line
bindkey "^R"	history-incremental-search-backward
bindkey "^S"	history-incremental-search-forward
bindkey "^T"	transpose-chars
bindkey "^U"	kill-whole-line
bindkey "^V"	quoted-insert
bindkey "^W"	backward-kill-word
bindkey "^X"	prefix
bindkey "^Y"	yank
bindkey "^Z"	undefined-key
bindkey "\e"	prefix
bindkey "^_"	undo
bindkey "^?"	backward-delete-char
bindkey "^X^B"	vi-match-bracket
bindkey "^X^F"	vi-find-next-char
bindkey "^X^J"	vi-join
bindkey "^X^K"	kill-buffer
bindkey "^X^N"	infer-next-history
bindkey "^X^O"	overwrite-mode
bindkey "^X^U"	undo
bindkey "^X^V"	vi-cmd-mode
bindkey "^X^X"	exchange-point-and-mark
bindkey "^X*"	expand-word
bindkey "^XG"	list-expand
bindkey "^Xg"	list-expand
bindkey "^Xr"	history-incremental-search-backward
bindkey "^Xs"	history-incremental-search-forward
bindkey "^Xu"	undo
bindkey "\e^D"	list-choices
bindkey "\e^G"	send-break
bindkey "\e^H"	backward-kill-word
bindkey "\e^I"	self-insert-unmeta
bindkey "\e^J"	self-insert-unmeta
bindkey "\e^L"	clear-screen
bindkey "\e^M"	self-insert-unmeta
bindkey "\e^_"	copy-prev-word
bindkey "\e "	expand-history
bindkey "\e!"	expand-history
bindkey "\e\\""	quote-region
bindkey "\e$"	spell-word
bindkey "\e'"	quote-line
bindkey "\e-"	neg-argument
bindkey "\e."	insert-last-word
bindkey "\e0"	digit-argument
bindkey "\e1"	digit-argument
bindkey "\e2"	digit-argument
bindkey "\e3"	digit-argument
bindkey "\e4"	digit-argument
bindkey "\e5"	digit-argument
bindkey "\e6"	digit-argument
bindkey "\e7"	digit-argument
bindkey "\e8"	digit-argument
bindkey "\e9"	digit-argument
bindkey "\e<"	beginning-of-buffer-or-history
bindkey "\e>"	end-of-buffer-or-history
bindkey "\e?"	which-command
bindkey "\eA"	accept-and-hold
bindkey "\eB"	backward-word
bindkey "\eC"	capitalize-word
bindkey "\eD"	kill-word
bindkey "\eF"	forward-word
bindkey "\eG"	get-line
bindkey "\eH"	run-help
bindkey "\eL"	down-case-word
bindkey "\eN"	history-search-forward
bindkey "\eP"	history-search-backward
bindkey "\eQ"	push-line
bindkey "\eS"	spell-word
bindkey "\eT"	transpose-words
bindkey "\eU"	up-case-word
bindkey "\eW"	copy-region-as-kill
bindkey "\e[A"	up-line-or-history
bindkey "\e[B"	down-line-or-history
bindkey "\e[C"	forward-char
bindkey "\e[D"	backward-char
bindkey "\e_"	insert-last-word
bindkey "\ea"	accept-and-hold
bindkey "\eb"	backward-word
bindkey "\ec"	capitalize-word
bindkey "\ed"	kill-word
bindkey "\ef"	forward-word
bindkey "\eg"	get-line
bindkey "\eh"	run-help
bindkey "\el"	down-case-word
bindkey "\en"	history-search-forward
bindkey "\ep"	history-search-backward
bindkey "\eq"	push-line
bindkey "\es"	spell-word
bindkey "\et"	transpose-words
bindkey "\eu"	up-case-word
bindkey "\ew"	copy-region-as-kill
bindkey "\ex"	execute-named-cmd
bindkey "\ey"	yank-pop
bindkey "\ez"	execute-last-named-cmd
bindkey "\e|"	vi-goto-column
bindkey "\e^?"	backward-kill-word

# Completions.

compctl -b bindkey
compctl -c builtin
compctl -v export
compctl -o setopt
compctl -v typeset
compctl -v unset
compctl -o unsetopt
compctl -v vared
compctl -c which
compctl -C -c
compctl -D -f
compctl -T

# Undefined functions.


# Defined functions.


# Limits.

limit stacksize       8MB
limit coredumpsize    0kB
limit maxproc         256
limit descriptors     256

# Non-array variables.

TERMCAP=''
TERM='xterm-color'
\'#\'="1"
\'$\'="11750"
\'?\'="1"
ARGC="1"
AWK="awk"
BAUD="0"
CDPATH="\'\'"
COLUMNS="113"
CPP="/lib/cpp"
DISPLAY=":0.0"
EGID="1000"
ERRNO="0"
EUID="1000"
FCEDIT="vi"
FIGNORE="\'\'"
FPATH="\'\'"
GID="1000"
HELPDIR="/usr/local/lib/zsh/help"
HISTCHARS="\'!^#\'"
HISTSIZE="30"
HOME="/home/rduta"
HOST="gunsmith"
HOSTNAME="gunsmith"
HOSTTYPE="i586"
KEYTIMEOUT="40"
LD_LIBRARY_PATH="/usr/local/lib"
LD_PRELOAD="/usr/local/lib/uncompress.o"
LESS="-cex3M"
LINENO="329"
LINES="39"
LISTMAX="100"
LOGCHECK="60"
LOGNAME="rduta"
MACHTYPE="i586"
MAILCHECK="60"
MAILPATH="\'\'"
MAILRECORD="/home/rduta/Mail/News.outgoing"
MANPATH="\'\'"
MOZILLA_NO_ASYNC_DNS="1"
NULLCMD="cat"
OLDPWD="/k1/peter"
OPTARG="\'\'"
OPTIND="1"
OSTYPE="linux"
PATH="/usr/local/bin:/usr/bin:/bin:/usr/bin/X11:/usr/games:/usr/sbin:/usr/bin/mh:/sbin:/usr/sbin:/usr/bin/mh:/sbin"
PGPPATH="/home/rduta/.pgp/"
POSTEDIT="\'\'"
PPID="6563"
PRINTER="smb"
PROMPT="\'\'"
PROMPT2="\'\'"
PROMPT3="\'?# \'"
PROMPT4="\'+ \'"
PS1="\'\'"
PS2="\'\'"
PS3="\'?# \'"
PS4="\'+ \'"
PSVAR="\'\'"
PS_COLORS="\'2,0,01;33;40%2,1000,01;35;40%4,10,33;40%5,20,34;40%3,Z,32;40\'"
PWD="/k1/peter"
RANDOM="9661"
READNULLCMD="more"
RPROMPT="\'\'"
RPS1="\'\'"
SECONDS="3"
SHELL="/usr/bin/zsh"
SHLVL="4"
SPROMPT="\'zsh: correct \'\\'\'%R\'\\'\' to \'\\'\'%r\'\\'\' [nyae]? \'"
SYBASE="/opt/sybase"
TIMEFMT="\'%J  %U user %S system %P cpu %*E total\'"
TMPPREFIX="/tmp/zsh"
TOP_COLORS="\'2,0,01;33;40%2,1000,01;35;40%4,10,33;40%5,20,34;40%3,Z,32;40\'"
TTY="/dev/ttyp8"
TTYIDLE="-1"
UID="1000"
USER="rduta"
USERNAME="rduta"
VENDOR="pc"
WATCH="\'\'"
WATCHFMT="\'%n has %a %l from %m.\'"
WINDOWID="25165841"
WORDCHARS="\'*?_-.[]~=/&;!#$%^(){}<>\'"
X11_INCLUDES="/include"
X11_LIBRARIES="/lib"
Xm_INCLUDES="/usr/dt/include"
Xm_LIBRARIES="/usr/dt/lib"
ZSH_NAME="zsh"
ZSH_VERSION="3.0.4"
each="/bin"
histchars="\'!^#\'"
host_uname="Linux"
hostname="gunsmith"
reporter_OSVersion="Linux_2.0.31"
reporter_junkiequotes="no"
status="1"
str="\'Linux gunsmith 2.0.31 #1 Sat Oct 25 17:40:36 NZDT 1997 i586 unknown\'"
prompt='test%'

# Array variables.

argv=()
'*'=(all)
cdpath=()
fignore=()
fpath=()
mailpath=()
manpath=()
path=(/usr/local/bin /usr/bin /bin /usr/bin/X11 /usr/games /usr/sbin /usr/bin/mh /sbin /usr/sbin /usr/bin/mh /sbin)
psvar=()
signals=(EXIT HUP INT QUIT ILL TRAP ABRT BUS FPE KILL USR1 SEGV USR2 PIPE ALRM TERM STKFLT CHLD CONT STOP TSTP TTIN TTOU URG XCPU XFSZ VTALRM PROF WINCH IO PWR UNUSED ZERR DEBUG)
watch=()

# Exported variables.

export TERMCAP
export TERM
export DISPLAY=:0.0
export DSQUERY=bonclyde
export ENSCRIPT=' -T 2 -v -fCourier5.4 -2 '
export HELPDIR=/usr/local/lib/zsh/help
export HOME=/home/rduta
export HOSTNAME=gunsmith
export HOSTTYPE=i586
export LD_LIBRARY_PATH=/usr/local/lib
export LD_PRELOAD=/usr/local/lib/uncompress.o
export LESS=-cex3M
export LOGNAME=rduta
export MACHTYPE=i586
export MAILRECORD=/home/rduta/Mail/News.outgoing
export MOZILLA_NO_ASYNC_DNS=1
export OSTYPE=linux
export PATH=/usr/local/bin:/usr/bin:/bin:/usr/bin/X11:/usr/games:/usr/sbin:/usr/bin/mh:/sbin:/usr/sbin:/usr/bin/mh:/sbin
export PGPPATH=/home/rduta/.pgp/
export PRINTER=smb
export PS_COLORS='2,0,01;33;40%2,1000,01;35;40%4,10,33;40%5,20,34;40%3,Z,32;40'
export PWD=/k1/peter
export SHELL=/usr/bin/zsh
export SHLVL=4
export SYBASE=/opt/sybase
export TERM=xterm-color
export TOP_COLORS='2,0,01;33;40%2,1000,01;35;40%4,10,33;40%5,20,34;40%3,Z,32;40'
export USER=rduta
export WINDOWID=25165841
export X11_INCLUDES=/include
export X11_LIBRARIES=/lib
export Xm_INCLUDES=/usr/dt/include
export Xm_LIBRARIES=/usr/dt/lib

# Setopt.


# END zsh saveset

--AqsLC8rIMeq19msA--

