From zsh-workers-return-11107-mason-zsh=primenet.com.au@sunsite.auc.dk Wed May 03 11:25:11 2000
Return-Path: <zsh-workers-return-11107-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 19399 invoked from network); 3 May 2000 11:25:10 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 3 May 2000 11:25:10 -0000
Received: (qmail 21791 invoked by alias); 3 May 2000 11:25:04 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 11107
Received: (qmail 21745 invoked from network); 3 May 2000 11:25:03 -0000
To: zsh-workers@sunsite.auc.dk
Path: mason
From: mason@primenet.com.au (Geoff Wing)
X-Newsgroups: lists.zsh.workers
Subject: Re: Completion system directories
Date: 3 May 2000 11:24:52 GMT
Organization: PrimeNet Computer Consultants
Lines: 33
Distribution: local
Message-ID: <slrn8h0344.ipd.mason@coral.primenet.com.au>
References: "Your message of Wed, 03 May 2000 10:30:25 -0000." <0FTZ007IUDPOKU@la-la.cambridgesiliconradio.com>
Reply-To: mason@primenet.com.au
NNTP-Posting-Host: coral.primenet.com.au
X-Trace: coral.primenet.com.au 957353092 19246 203.43.15.2 (3 May 2000 11:24:52 GMT)
X-Complaints-To: usenet@coral.primenet.com.au
NNTP-Posting-Date: 3 May 2000 11:24:52 GMT
User-Agent: slrn/0.9.6.2 (NetBSD)

Peter Stephenson <pws@cambridgesiliconradio.com> typed:
:Bart wrote:
:> There's no way using :pserver:, but since we have shell access to the
:> repository ...

?  We've shell access to shell1 (orbital).  We don't have shell access
to the repository machine (slayer).  Do we?
 
:> If we can impose a moritorium on commits for a while, we can simply copy
:> the ,v files to new directories in the repository, and then "cvs remove"
:> the originals.  (We could use mv rather than cp, but that messes up the
:> "cvs update" of people's existing checked-out sandboxes.  The only way
:> to make checked-out copies go away cleanly is to "cvs remove"/commit.)

:I don't like mucking around in the archive in this way because it means we
:can no longer checkout old versions of the shell.  As far as I'm concerned
:using cvs add/remove would be perfectly OK.

Pretty much the only useful way to do it is:
1) cvs remove/cvs commit the file
2) copy the file (now in the Attic directory) to the new directory
3) edit the new file to change the state of all revisions except the
   newest to Dead and change the newest to Exp

And do all this via a script because it would be too easy for people to
make mistakes.  However, all this requires direct access on the
repository.

Regards,
-- 
Geoff Wing : <gcw@pobox.com>     Work URL: http://www.primenet.com.au/
Rxvt Stuff : <gcw@rxvt.org>      Ego URL : http://pobox.com/~gcw/
Zsh Stuff  : <gcw@zsh.org>       Phone   : (Australia) 0413 431 874

