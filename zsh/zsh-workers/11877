From zsh-workers-return-11877-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Jun 13 17:46:57 2000
Return-Path: <zsh-workers-return-11877-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 20139 invoked from network); 13 Jun 2000 17:46:56 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 13 Jun 2000 17:46:56 -0000
Received: (qmail 29699 invoked by alias); 13 Jun 2000 17:46:45 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 11877
Received: (qmail 29691 invoked from network); 13 Jun 2000 17:46:44 -0000
Date: Tue, 13 Jun 2000 18:42:57 +0100
From: Peter Stephenson <pws@cambridgesiliconradio.com>
Subject: Re: `typeset -H' is a bit too thorough
In-reply-to: "Your message of Mon, 12 Jun 2000 11:59:25 -0000."
 <1000612115925.ZM8973@candle.brasslantern.com>
To: zsh-workers@sunsite.auc.dk (Zsh hackers list)
Message-id: <0FW300IM5T7KE9@la-la.cambridgesiliconradio.com>
Content-transfer-encoding: 7BIT

[The original version of this is probably sitting in a retry queue and
could appear at any moment.  Our mail server is very temperamental.  Be
alert.  I've already committed this change.]

Bart wrote:
> On Jun 12, 10:20am, Peter Stephenson wrote:
> } Subject: Re: `typeset -H' is a bit too thorough
> }
> } (Still not getting incoming mail here, unfortunately
> 
> Which of your addresses is "here"?

CSR, but part of the problem was fetchmail hung after the mail server went
down, so I've actually got most of the missing messages (the ones before
sunsite.auc.dk disappeared off the scopes).

> } +#define PRINT_INCLUDEVALUE	(1<<4)
> }  
> }  /* flags for printing for the whence builtin */
> }  #define PRINT_WHENCE_CSH	(1<<4)
> 
> Is it really OK for those two to overlap?  They haven't before ...

I suspect it's OK here, since this flag only gets passed directly to the
print routine for a param node, but it would have been better to keep up
appearances.

Index: Src/zsh.h
===================================================================
RCS file: /cvsroot/zsh/zsh/Src/zsh.h,v
retrieving revision 1.14
diff -u -r1.14 zsh.h
--- Src/zsh.h	2000/06/12 09:27:09	1.14
+++ Src/zsh.h	2000/06/13 08:54:43
@@ -1216,11 +1216,11 @@
 #define PRINT_INCLUDEVALUE	(1<<4)
 
 /* flags for printing for the whence builtin */
-#define PRINT_WHENCE_CSH	(1<<4)
-#define PRINT_WHENCE_VERBOSE	(1<<5)
-#define PRINT_WHENCE_SIMPLE	(1<<6)
-#define PRINT_WHENCE_FUNCDEF	(1<<7)
-#define PRINT_WHENCE_WORD	(1<<8)
+#define PRINT_WHENCE_CSH	(1<<5)
+#define PRINT_WHENCE_VERBOSE	(1<<6)
+#define PRINT_WHENCE_SIMPLE	(1<<7)
+#define PRINT_WHENCE_FUNCDEF	(1<<9)
+#define PRINT_WHENCE_WORD	(1<<10)
 
 /***********************************/
 /* Definitions for history control */

-- 
Peter Stephenson <pws@cambridgesiliconradio.com>
Cambridge Silicon Radio, Unit 300, Science Park, Milton Road,
Cambridge, CB4 0XL, UK                          Tel: +44 (0)1223 392070

