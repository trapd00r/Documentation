From zsh-workers-return-16793-mason-zsh=primenet.com.au@sunsite.dk Mon Mar 11 00:14:31 2002
Return-Path: <zsh-workers-return-16793-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 22667 invoked from network); 11 Mar 2002 00:14:30 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 11 Mar 2002 00:14:30 -0000
Received: (qmail 12335 invoked by alias); 11 Mar 2002 00:14:24 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 16793
Received: (qmail 12320 invoked from network); 11 Mar 2002 00:14:22 -0000
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <1020310222552.ZM26165@candle.brasslantern.com>
Date: Sun, 10 Mar 2002 22:25:51 +0000
X-Mailer: Z-Mail (5.0.0 30July97)
To: zsh-workers@sunsite.dk
Subject: Re: PATCH: _netcat
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

} nc conflicts with _nedit.  On Debian this isn't an issue
} (nedit's nc is distributed as nedit-nc), so the compdef
} line in _nedit can be changed accordingly.
} 
} Elsewhere, I can't think of a good solution.

The one thing we *can't* do is leave `#compdef nc' in *both* of them, as
has been the case since you checked in _netcat.  If it's in both of them,
the one that is chosen for `nc' will vary depending on whether zsh was
configured with --enable-function-subdirs.

What if we were to create a new Completion/X/Command/_nc that contains:

#compdef -p *X*/nc
_nedit "$@"

This would mean that if the `nc' found first in the user's path were under
a directory with `X' in its name, it would complete as if for _nedit, else
it will use the `nc' compdef from _netcat.

Then we'd change the #compdef in _nedit to read

#compdef nedit nedit-nc

or whatever is appropriate.

Anybody foresee problems with this?

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

