From zsh-users-return-9431-mason-zsh=primenet.com.au@sunsite.dk Tue Sep 20 20:24:14 2005
Return-Path: <zsh-users-return-9431-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 7284 invoked from network); 20 Sep 2005 20:24:08 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 20 Sep 2005 20:24:08 -0000
Received: (qmail 81250 invoked from network); 20 Sep 2005 20:24:03 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 20 Sep 2005 20:24:03 -0000
Received: (qmail 10360 invoked by alias); 20 Sep 2005 20:23:56 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 9431
Received: (qmail 10346 invoked from network); 20 Sep 2005 20:23:55 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 20 Sep 2005 20:23:55 -0000
Received: (qmail 80134 invoked from network); 20 Sep 2005 20:23:55 -0000
Received: from s1tank.virtdom.com (216.240.101.50)
  by a.mx.sunsite.dk with SMTP; 20 Sep 2005 20:23:53 -0000
Received: (qmail 3426 invoked by uid 89); 20 Sep 2005 20:46:41 -0000
Received: from ool-43552092.dyn.optonline.net (HELO venti) (brian@aljex.com@67.85.32.146)
  by s1tank.virtdom.com with SMTP; 20 Sep 2005 20:46:41 -0000
Message-ID: <013301c5be21$34d57610$6600000a@venti>
From: "Brian K. White" <brian@aljex.com>
To: <zsh-users@sunsite.dk>
Subject: TTY
Date: Tue, 20 Sep 2005 16:23:21 -0400
Organization: Aljex Software
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Spam-Checker-Version: SpamAssassin 3.0.4 (2005-06-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.0.4

How can I stop zsh, while in ksh emulation mode, from overwriting $TTY ?

I am setting TTY to the tty without the /dev/ in /etc/profile,
and then I am using that in many places throughout my software in temp file 
names

The stock ksh88 has a bug that my software hits, and I've established that 
neither bash or sh has the same problem, but I have a lot of scripts that 
really need ksh and that I don't want to rewrite.
The ksh93 build system is like a like a Dali painting except without the 
beauty, so, I'm left with pdksh or zsh in ksh emulation. I havn't tried 
pdksh yet and probably don't want it in the long run anyways.
But zsh built without a hitch and doesn't have the bug either.

So, I tried replacing /bin/ksh from my vendors stock ksh88 to zsh for for a 
while and this is pretty much the only thing that broke.
The top level login shell will show the value of TTY that I set, but even 
with export and/or readonly TTY, the sub shells all show the full 
/dev/ttynnn, which breaks all my temp file code.

Thanks

Brian K. White  --  brian@aljex.com  --  http://www.aljex.com/bkw/
+++++[>+++[>+++++>+++++++<<-]<-]>>+.>.+++++.+++++++.-.[>+<---]>++.
filePro  BBx    Linux  SCO  FreeBSD    #callahans  Satriani  Filk!

