From zsh-workers-return-13646-mason-zsh=primenet.com.au@sunsite.dk Thu Mar 15 19:28:02 2001
Return-Path: <zsh-workers-return-13646-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 28814 invoked from network); 15 Mar 2001 19:28:01 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 15 Mar 2001 19:28:01 -0000
Received: (qmail 27055 invoked by alias); 15 Mar 2001 19:27:55 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 13646
Received: (qmail 27044 invoked from network); 15 Mar 2001 19:27:55 -0000
Subject: Re: History Up key
In-Reply-To: <010313135746.ZM638@candle.brasslantern.com> from Bart Schaefer
 at "Mar 13, 2001 01:57:46 pm"
To: Bart Schaefer <schaefer@candle.brasslantern.com>
Date: Thu, 15 Mar 2001 19:27:44 +0000 (GMT)
CC: zsh-workers@sunsite.dk
X-Mailer: ELM [version 2.4ME+ PL66 (25)]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Message-Id: <E14ddPV-0002Jq-00@crucigera.fysh.org>
From: Zefram <zefram@fysh.org>

Bart Schaefer wrote:
>Obviously, though, users want it, or all those vi clones wouldn't have put
>in hacks to make it work.

Yes, we should make it easy to get the arrow key bindings.
It should be easy to have either behaviour, whatever the default is.
We should be aiming for a situation where the interested user only
needs to add a single command, either "create_arrow_key_bindings" or
"remove_arrow_key_bindings", in their .zshrc -- the command should be
a zsh function in the distribution.

>>     With that heuristic in
>>     place, the only problem with adaption is the issue of programmatically
>>     knowing where those bindings are.
>
>Which should be easier with the termcap and terminfo modules ...

Easier, but putting in heuristics such that arrow key sequences from
terminfo may or may not be bound makes it more difficult.  If arrow keys
are bound by default, then the shell code to turn them off is going to
have to exactly duplicate the logic of the C code that turns them on.
Btw, what happens to these bindings if $TERM gets changed?

This difficulty with turning off the bindings is why I suggest that the
bindings should be off by default -- it's easier to have only one copy
of the logic, in some shell code that creates the bindings.

>Should I commit my zkbd script?  If so, where -- under Misc/ ?

It looks useful.  Misc makes some kind of sense, but I'd put it under
Functions.

-zefram

