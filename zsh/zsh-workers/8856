From zsh-workers-return-8856-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Dec 02 17:28:46 1999
Return-Path: <zsh-workers-return-8856-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10111 invoked from network); 2 Dec 1999 17:28:45 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 2 Dec 1999 17:28:45 -0000
Received: (qmail 5515 invoked by alias); 2 Dec 1999 17:28:38 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 8856
Received: (qmail 5508 invoked from network); 2 Dec 1999 17:28:38 -0000
Subject: Re: PATCH: mod_export keyword
In-Reply-To: <991202171156.ZM8320@candle.brasslantern.com> from Bart Schaefer at "Dec 2, 1999  5:11:56 pm"
To: schaefer@candle.brasslantern.com (Bart Schaefer)
Date: Thu, 2 Dec 1999 17:28:33 +0000 (GMT)
Cc: zsh-workers@sunsite.auc.dk
X-Mailer: ELM [version 2.4ME+ PL48 (25)]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Message-Id: <E11ta1x-0003MD-00@crucigera.fysh.org>
From: Zefram <zefram@fysh.org>

Bart Schaefer wrote:
>I can't say that I like this very much from a coding style perspective.
>Wouldn't it have been equally effective to, for example, change the
>leading comment marker from /**/ to /*export*/ for these symbols?

Funnily enough, I remember originally using /*L*/ to mark local symbols.
Now they have the same comment marker, and makepro.awk picks up on the
"static", which avoids having to indicate the same thing twice.  I used
a pseudo-keyword here to make it all consistent -- each declaration
starts with a keyword (or lack thereof) to indicate its scope, and /**/
is there strictly to draw makepro.awk's attention to relevant lines.
I see your point -- mod_export is effectively modifying the language --
but I'd rather keep it consistent.  And we are in fact extending the
language with this extra scope; I'd rather that was invoked through a
keyword than through magic comments.

-zefram

