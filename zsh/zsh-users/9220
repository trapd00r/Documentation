From zsh-users-return-9220-mason-zsh=primenet.com.au@sunsite.dk Wed Aug 03 18:55:08 2005
Return-Path: <zsh-users-return-9220-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 11806 invoked from network); 3 Aug 2005 18:55:06 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 3 Aug 2005 18:55:06 -0000
Received: (qmail 61906 invoked from network); 3 Aug 2005 18:54:59 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 3 Aug 2005 18:54:59 -0000
Received: (qmail 18421 invoked by alias); 3 Aug 2005 18:54:49 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 9220
Received: (qmail 18372 invoked from network); 3 Aug 2005 18:54:48 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 3 Aug 2005 18:54:48 -0000
Received: (qmail 60772 invoked from network); 3 Aug 2005 18:54:48 -0000
Received: from mailhost1.csr.com (HELO MAILSWEEPER01.csr.com) (81.105.217.43)
  by a.mx.sunsite.dk with SMTP; 3 Aug 2005 18:54:42 -0000
Received: from exchange03.csr.com (unverified [10.100.137.60]) by MAILSWEEPER01.csr.com
 (Content Technologies SMTPRS 4.3.12) with ESMTP id <T728a4fc2ec0a6c8d012e8@MAILSWEEPER01.csr.com> for <zsh-users@sunsite.dk>;
 Wed, 3 Aug 2005 19:52:34 +0100
Received: from news01.csr.com ([10.103.143.38]) by exchange03.csr.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Wed, 3 Aug 2005 19:54:11 +0100
Received: from news01.csr.com (localhost.localdomain [127.0.0.1])
	by news01.csr.com (8.13.1/8.12.11) with ESMTP id j73IselK006240
	for <zsh-users@sunsite.dk>; Wed, 3 Aug 2005 19:54:40 +0100
Received: from csr.com (pws@localhost)
	by news01.csr.com (8.13.1/8.13.1/Submit) with ESMTP id j73IsdnN006237
	for <zsh-users@sunsite.dk>; Wed, 3 Aug 2005 19:54:40 +0100
Message-Id: <200508031854.j73IsdnN006237@news01.csr.com>
X-Authentication-Warning: news01.csr.com: pws owned process doing -bs
To: zsh-users@sunsite.dk
Subject: Re: complete paths after non-space 
In-reply-to: <7c737f3005080216113bd158da@mail.gmail.com> 
References: <7c737f3005080216113bd158da@mail.gmail.com>
Date: Wed, 03 Aug 2005 19:54:39 +0100
From: Peter Stephenson <pws@csr.com>
X-OriginalArrivalTime: 03 Aug 2005 18:54:11.0718 (UTC) FILETIME=[BC851A60:01C5985C]
X-Spam-Checker-Version: SpamAssassin 3.0.4 (2005-06-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.3 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.4

Deliverable Mail wrote:
> I'm migrating to zsh and find it differs subtly from bash.  Three
> immediate look-'n-feel diffs I'd really need to reset to
> bash-compatible behavior...
> 
> 1.  completing path names with leading non-space
> 
> I often want to complete filenames in options where you have things
> like --file=/wrong/path/name, whereby you go back and fix it, or enter
> new things after the non-space-starting pathname sequence
> 
> Bash happily completed it while in my current zsh setup I have to
> insert/delete a space prior to the pathname.  An easy way to make it
> the same?

If you're using the new completion system (compinit), turn on the option
magicequalsubst.

  setopt magicequalsubst

(It's just possible it works with the old completion system, too.)

> 2.  in-place ^r search
> 
> -- zsh offers an underline, and I don't want it

You just have to ignore it.   It's unusual enough not to want to see
what your searching for that there's no option.

> 3.  completion offers must go away faster
> 
> -- zsh lists them in the underline(s) and they seem to linger there
> longer than in bash, can I banish them faster?

It's possible you can do something with zle -R in one of the completion
functions, which redisplays the stuff below the line using the string
you specify (which might be empty), but I've never played around with this.

You can force the shell to reprint the line below all completion
displays by

  unsetopt alwayslastprompt

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR PLC, Churchill House, Cambridge Business Park, Cowley Road
Cambridge, CB4 0WZ, UK                          Tel: +44 (0)1223 692070


**********************************************************************
This email and any files transmitted with it are confidential and
intended solely for the use of the individual or entity to whom they
are addressed. If you have received this email in error please notify
the system manager.

**********************************************************************

