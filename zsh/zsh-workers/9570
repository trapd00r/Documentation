From zsh-workers-return-9570-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Feb 04 15:07:22 2000
Return-Path: <zsh-workers-return-9570-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 3961 invoked from network); 4 Feb 2000 15:07:21 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 4 Feb 2000 15:07:21 -0000
Received: (qmail 13135 invoked by alias); 4 Feb 2000 15:07:15 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 9570
Received: (qmail 13128 invoked from network); 4 Feb 2000 15:07:15 -0000
Date: Fri, 4 Feb 2000 16:07:13 +0100 (MET)
Message-Id: <200002041507.QAA29235@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: Tanaka Akira's message of 04 Feb 2000 22:52:53 +0900
Subject: Re: core dump by completion.


Tanaka Akira wrote:

> I got core by testing.  Although I coudn't find a way to reproduce
> this, it is caused by following command line.
> 
> is27e1u11% find -ctime s -exec find -<TAB>
> zsh: bus error (core dumped)  Src/zsh -f
> 
> Z(2):akr@is27e1u11% gdb Src/zsh core
> ...
> 189         for (node = list->first; node; node = next) {
> (gdb) where
> #0  0x60e44 in freelinklist (list=0x31, freefunc=0x9e298 <freestr>) at linklist.c:189
> #1  0xfef856b0 in ca_parse_line (d=0x160dd0) at computil.c:1038

I can't reproduce it and I can't find an error in the
allocation/freeing scheme for oargs[]. So I guess, someone has
overwritten parts of that array. Do you still have the core dump? If
so, could you tell me the values of the surrounding fields (in
ca_parse_line(): p[-2], p[0], etc.)? Maybe that gives a hint where it
is overwritten.

Bye
 Sven


--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

