From zsh-workers-return-28118-mason-zsh=primenet.com.au@zsh.org Tue Aug 03 09:24:12 2010
Return-Path: <zsh-workers-return-28118-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 28684 invoked by alias); 3 Aug 2010 09:24:12 -0000
Mailing-List: contact zsh-workers-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Workers List <zsh-workers.zsh.org>
List-Post: <mailto:zsh-workers@zsh.org>
List-Help: <mailto:zsh-workers-help@zsh.org>
Delivered-To: mailing list zsh-workers@zsh.org
X-Seq: 28118
Received: (qmail 3143 invoked from network); 3 Aug 2010 09:24:02 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00,RCVD_IN_DNSWL_LOW,
	SPF_HELO_PASS autolearn=ham version=3.3.1
Received-SPF: none (ns1.primenet.com.au: domain at csr.com does not designate permitted sender hosts)
Date: Tue, 3 Aug 2010 09:52:19 +0100
From: Peter Stephenson <Peter.Stephenson@csr.com>
To: zsh-workers@zsh.org
Subject: Re: PATCH: Add $OVERSTRIKE in zle widgets
Message-ID: <20100803095219.24142dd6@csr.com>
In-Reply-To: <1280797053-22520-1-git-send-email-ft@bewatermyfriend.org>
References: <1280797053-22520-1-git-send-email-ft@bewatermyfriend.org>
Organization: Cambridge Silicon Radio
X-Mailer: Claws Mail 3.7.6 (GTK+ 2.18.9; i686-redhat-linux-gnu)
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 03 Aug 2010 08:52:20.0362 (UTC) FILETIME=[2EC4F6A0:01CB32E9]
X-Scanned-By: MailControl A_09_40_00 (www.mailcontrol.com) on 10.71.0.138

On Tue,  3 Aug 2010 02:57:33 +0200
Frank Terbeck <ft@bewatermyfriend.org> wrote:
> This adds a read-only integer parameter `$OVERSTRIKE' to the set of
> special parameters available in zle-widgets. Since `zle-keymap-select'
> is a widget, it has access to the parameter. That makes it trivial to
> set $psvar[1] to "r" if zle is in overstrike mode.
> 
> 
> Do others think that's useful enough to have in zsh?

One think I'd suggest is using OVERWRITE instead of OVERSTRIKE, since
that's what the corresponding zle widget is called; there's no use of
"overstrike" in the documentation at present, and it vaguely suggests to me
a visual effect such as two characters on top of one another or a line
through.  You might also want to refer to the overwrite-mode widget.

Apart from that, this looks useful; the only thing that might make a
difference is if there was some other information that could be combined
with this and the result presented in a more compact way, such as a set of
flags in a single variable.  However, I can't think of anything that would
fit that bill, and the code is minimal anyway.

-- 
Peter Stephenson <pws@csr.com>            Software Engineer
Tel: +44 (0)1223 692070                   Cambridge Silicon Radio Limited
Churchill House, Cambridge Business Park, Cowley Road, Cambridge, CB4 0WZ, UK


Member of the CSR plc group of companies. CSR plc registered in England and Wales, registered number 4187346, registered office Churchill House, Cambridge Business Park, Cowley Road, Cambridge, CB4 0WZ, United Kingdom

