From zsh-workers-return-13686-mason-zsh=primenet.com.au@sunsite.dk Wed Mar 21 10:56:14 2001
Return-Path: <zsh-workers-return-13686-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 11168 invoked from network); 21 Mar 2001 10:56:14 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 21 Mar 2001 10:56:14 -0000
Received: (qmail 9493 invoked by alias); 21 Mar 2001 10:56:05 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 13686
Received: (qmail 9476 invoked from network); 21 Mar 2001 10:56:05 -0000
Message-ID: <Tc0a88d01526d435d5e@mailsweeper01.cambridgesiliconradio.com>
To: zsh-workers@sunsite.dk (Zsh hackers list)
Subject: Re: Zshell for win32 
In-Reply-To: Your message of "Wed, 21 Mar 2001 11:29:55 +0300."
             <Pine.SV4.4.33.0103211123030.24335-100000@itsrm2.mow.siemens.ru> 
Date: Wed, 21 Mar 2001 10:55:38 +0000
From: Peter Stephenson <pws@csr.com>

Andrej write
> On Tue, 20 Mar 2001, Bart Schaefer wrote:
> > On Mar 20,  2:31pm, vipin aravind wrote:
> > }   Certain factors like NO  forking in win32 puts a severe limit on the
> > }   port.
> >
> > I thought Amol's code had a pretty good fork emulation built into it; in
> > fact unless I'm very much mistaken I've had some success using that fork
> > emulation in porting other (smaller) unix programs to win32.
> >
> 
> I wonder, what are the benefits of Win32 version against Cygwin
>  one? Zsh relies heavily on Unix semantic; to implement something that can
> be called Zsh(-clone) on Win32 you need an emulation layer - and that is
> exactly what Cygwin does. Creating Yet Another Unix Emulation on Win32
> does not look very promising. And you need just a single DLL to run Cygwin
> program (you do not need to install the whole Cygwin).

There's a lot in this.  It might be worth considering having COMMAND.COM
builtin support (which I presume is going to be essential in this case)
via a module.

However, that still leaves some basic syntactic incompatilibilty if the
intention is a drop-in replacement for the DOS shell (which it still pretty
much what that object is, unfortunately).  That's a tough nut to crack in
any case.  The problems are how to interpret backslashes on the command
line, and so on.  The more like the original you need to be, the less this
is going to be like the real zsh under Cygwin, and the more necessary it is
to rewrite the internals.  That doesn't have to stop it running under
Cygwin, however, though as Bart says calling it anything like zshell is a
bit confusing.  (How about zcommand, or zcom or zwin if that's too long?)

> What do you mean under "multilanguage support"? We do not have any as of
> now.

I interpret that as locale support.

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR Ltd., Unit 300, Science Park, Milton Road,
Cambridge, CB4 0XL, UK                          Tel: +44 (0)1223 392070

