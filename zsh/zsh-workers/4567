From zsh-workers-request@math.gatech.edu Thu Nov 05 18:22:14 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1756 invoked from network); 5 Nov 1998 18:22:12 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 5 Nov 1998 18:22:12 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.9.1/8.9.1) id NAA02520;
	Thu, 5 Nov 1998 13:16:50 -0500 (EST)
Resent-Date: Thu, 5 Nov 1998 13:16:50 -0500 (EST)
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <981105101505.ZM28911@candle.brasslantern.com>
Date: Thu, 5 Nov 1998 10:15:05 -0800
In-Reply-To: <9811050926.AA34182@ibmth.df.unipi.it>
Comments: In reply to Peter Stephenson <pws@ibmth.df.unipi.it>
        "PATCH: 3.1.5: Case-insensitive globbing (2)" (Nov  5, 10:26am)
References: <9811050926.AA34182@ibmth.df.unipi.it>
X-Mailer: Z-Mail (4.0b.820 20aug96)
To: zsh-workers@math.gatech.edu (Zsh hackers list)
Subject: Re: PATCH: 3.1.5: Case-insensitive globbing (2)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Resent-Message-ID: <"pgg6l.0.Jd.HkUGs"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/4567
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

On Nov 5, 10:26am, Peter Stephenson wrote:
} Subject: PATCH: 3.1.5: Case-insensitive globbing (2)
}
} "Bart Schaefer" wrote:
} > However, I'm curious how (#i) interacts with parenthesis for grouping.
} > For example:
} > 
} > zsh% echo zsh-3.1.5/((#i)src/zle|doc/zsh)/make*
} > 
} > Where does the case-insensitivity stop in that expression?  It would be
} > logical for it to stop at either the vertical bar or the close paren.
} 
} To the best of my knowedge, zsh has never allowed grouping to cross
} directories, i.e. not even (Src/Zle) is supported.

Well, ok, then ... drop the / from the example:

zsh% echo zsh-3.1.5/((#i)src|doc)/make*

Should the case-insensitivity end at the )/ or not?  (I just got these
patches compiled, and presently it does stop at close of group, which I
think is good.)

} everything between the / and the next ) is ignored. [...]
} Documenting it might be an idea.

Yes.

} % /(bin|var)/false
} zsh: permission denied: /
} 
} It seems zsh treats (and has always treated) left parentheses inside the
} command word differently.

Hm.  I don't think grouping needs to work inside the command word, but
there should not be an implicit word break before the paren:

zagzig<7> echo(config.|stamp-)h
config.h stamp-h

Rather I'd expect to see some sort of parse error, or command-not-found.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

