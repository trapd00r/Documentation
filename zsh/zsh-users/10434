From zsh-users-return-10434-mason-zsh=primenet.com.au@sunsite.dk Sun Jun 25 05:13:09 2006
Return-Path: <zsh-users-return-10434-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24949 invoked from network); 25 Jun 2006 05:13:08 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.3 (2006-06-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00,
	FORGED_RCVD_HELO autolearn=ham version=3.1.3
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 25 Jun 2006 05:13:08 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 4867 invoked from network); 25 Jun 2006 05:12:57 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 25 Jun 2006 05:12:57 -0000
Received: (qmail 27324 invoked by alias); 25 Jun 2006 05:12:51 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 10434
Received: (qmail 27313 invoked from network); 25 Jun 2006 05:12:50 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 25 Jun 2006 05:12:50 -0000
Received: (qmail 3702 invoked from network); 25 Jun 2006 05:12:50 -0000
Received: from p54853bd1.dip0.t-ipconnect.de (HELO localhost) (84.133.59.209)
  by a.mx.sunsite.dk with SMTP; 25 Jun 2006 05:12:49 -0000
Received: from localhost ([127.0.0.1])
	by localhost with esmtp (Exim 4.60)
	(envelope-from <Meino.Cramer@gmx.de>)
	id 1FuMvP-0000WN-DF
	for zsh-users@sunsite.dk; Sun, 25 Jun 2006 07:12:47 +0200
Date: Sun, 25 Jun 2006 07:12:47 +0200 (CEST)
Message-Id: <20060625.071247.41640232.Meino.Cramer@gmx.de>
To: zsh-users@sunsite.dk
Subject: Re: renameing numbered files
From: Meino Christian Cramer <Meino.Cramer@gmx.de>
In-Reply-To: <060624215422.ZM7997@torch.brasslantern.com>
References: <20060625.052545.74742529.Meino.Cramer@gmx.de>
	<060624215422.ZM7997@torch.brasslantern.com>
X-Mailer: Mew version 4.2.53 on Emacs 21.4 / Mule 5.0 (SAKAKI)
Mime-Version: 1.0
Content-Type: Text/Plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

From: Bart Schaefer <schaefer@brasslantern.com>
Subject: Re: renameing numbered files
Date: Sat, 24 Jun 2006 21:54:22 -0700

> On Jun 25,  5:25am, Meino Christian Cramer wrote:
> } 
> }  How can I do this in a most zshy way?
> 
> autoload -U zmv
> zmv -Qf 'Example(<->).txt(On)' 'Example${(l:4::0:)$(($1+10))}.txt'
> 
> That probably deserves some explanation:

  Yes, of course! Magic always deserves some explanations ! 
  :o) :o) :o):o):o) :o) :o) :o) :o):o) :o) :o) :o) :o) :o)
 
> Either the -Q option or (#qOn) is required because zmv turns off "bare"
> glob qualifiers by default.
> 
> The -f option is required because the set of source names overlaps with
> the set of destination names (0102 is in both).
> 
> Sorting (On) forces the higher-numbered files to be renamed first,
> otherwise 0092 --> 0102 --> 0112 will result (the original 0102 would
> be lost).  If the leading zeroes weren't there, you'd need (nOn) for
> numeric sorting.
> 
> Using $(($1+10)) discards leading zeroes, so (l:4::0:) puts them back.
> 
> I suggest playing around with "zmv -n" a bit to be sure it's going to
> do what you intended.
> 

Thanks a lot Bart!
I will experiment with that...

Have a nice weekend!
mcc

