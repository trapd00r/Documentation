From zsh-workers-request@math.gatech.edu Wed Jun 10 20:51:41 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1933 invoked from network); 10 Jun 1998 20:51:40 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 10 Jun 1998 20:51:40 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id QAA19259;
	Wed, 10 Jun 1998 16:34:22 -0400 (EDT)
Resent-Date: Wed, 10 Jun 1998 16:34:22 -0400 (EDT)
Date: Wed, 10 Jun 1998 22:35:15 +0200 (MET DST)
From: "C. v. Stuckrad" <stucki@math.fu-berlin.de>
X-Sender: stucki@petzval
Reply-To: "C. v. Stuckrad" <stucki@math.fu-berlin.de>
To: Zsh workers list <zsh-workers@math.gatech.edu>
Subject: Strange coredump in precmd-function if setopt -u
Message-ID: <Pine.GSO.3.95q.980610210808.6079A-100000@petzval>
X-TestHeaderA: Written by C. v. Stuckrad; FB. Mathematik; EDV
X-TestHeaderB: FU-Berlin; Arnimallee 2-6; 14195 Berlin; GERMANY
Priority: normal
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
Resent-Message-ID: <"6MGfo3.0.ki4.DtkVr"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/4094
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu


Hi!

I was surprized to find zsh-3.0.{4,5} segfaulting/coredumping when
I use an undefined Variable in an prompt-expand and do 'setopt -u'.

By using zsh-3.{0.3,1.4} I got the correct message and got an
correctly 'broken' promptstring and the shell 'lived on'.

Any ideas ? More info necessary ?


Your's,  Stucki


Christoph von Stuckrad       * *  | talk to  | <stucki@math.fu-berlin.de> \
Freie Universitaet Berlin    |/_* | nickname | ...!unido!fub!leibniz!stucki|
Fachbereich Mathematik, EDV  |\ * | 'stucki' | Tel:+49 30 838-75459        |
Arnimallee 2-6/14195 Berlin  * *  |  on IRC  | Fax:+49 30 838-75454       /


