From zsh-users-return-9621-mason-zsh=primenet.com.au@sunsite.dk Fri Nov 04 11:30:57 2005
Return-Path: <zsh-users-return-9621-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1948 invoked from network); 4 Nov 2005 11:30:55 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 4 Nov 2005 11:30:55 -0000
Received: (qmail 22711 invoked from network); 4 Nov 2005 11:30:49 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 4 Nov 2005 11:30:49 -0000
Received: (qmail 17404 invoked by alias); 4 Nov 2005 11:30:43 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 9621
Received: (qmail 17393 invoked from network); 4 Nov 2005 11:30:43 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 4 Nov 2005 11:30:43 -0000
Received: (qmail 21623 invoked from network); 4 Nov 2005 11:30:42 -0000
Received: from cluster-d.mailcontrol.com (HELO rly32d.srv.mailcontrol.com) (217.69.20.190)
  by a.mx.sunsite.dk with SMTP; 4 Nov 2005 11:30:41 -0000
Received: from exchange03.csr.com (mailhost1.csr.com [81.105.217.43])
	by rly32d.srv.mailcontrol.com (MailControl) with ESMTP id jA4BUesf027981
	for <zsh-users@sunsite.dk>; Fri, 4 Nov 2005 11:30:40 GMT
Received: from news01 ([10.103.143.38]) by exchange03.csr.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Fri, 4 Nov 2005 11:33:06 +0000
Date: Fri, 4 Nov 2005 11:30:38 +0000
From: Peter Stephenson <pws@csr.com>
To: zsh-users@sunsite.dk
Subject: Re: Global History Substitution
Message-Id: <20051104113038.7f3c8dcd.pws@csr.com>
In-Reply-To: <20051104110932.612805c7.pws@csr.com>
References: <20051103190747.GA16897@namib.cs.utk.edu>
	<20051104110932.612805c7.pws@csr.com>
Organization: Cambridge Silicon Radio
X-Mailer: Sylpheed version 0.9.12 (GTK+ 1.2.10; i386-redhat-linux-gnu)
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 04 Nov 2005 11:33:06.0419 (UTC) FILETIME=[8663B430:01C5E133]
X-Scanned-By: MailControl A-05-40-01 (www.mailcontrol.com) on 10.68.0.142
X-Spam-Checker-Version: SpamAssassin 3.0.4 (2005-06-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.4

Peter Stephenson <pws@csr.com> wrote:
> It turns out that fixing the code to use :g like a qualifier isn't that
> difficult, however...  that's ^b^beta^:g, since if the colon is missing the
> g is treated like ordinary text.

One subtlety is that we should ensure that

  !!:gs/foo/bar/:gs/this/that/

works as it always did, i.e. the g goes with the following s in both
cases.  I can fix that.

It does mean

  !!:s/foo/bar/:gs/this/that/

will change meaning, associating the g with the preceeding substitution
and then not treating the rest as text.  This might make the proposal
less than usable.

Using an uncoloned g isn't really a good idea since history always
treats trailing text as command line argument and I wouldn't want to change
that.

Hmm, how about

  !!:s/foo/bar/:G

or

  ^foo^bar^:G

instead?

pws


This message has been scanned for viruses by BlackSpider MailControl - www.blackspider.com

