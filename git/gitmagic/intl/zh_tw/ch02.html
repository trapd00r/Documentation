<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
  <meta name="generator" content=
  "HTML Tidy for Linux (vers 25 March 2009), see www.w3.org">
  <meta http-equiv="Content-Type" content=
  "text/html; charset=utf-8">

  <title>Git Magic - 章 2. 基本技巧</title>
  <link rel="stylesheet" href="default.css" type="text/css">
  <meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
  <link rel="home" href="index.html" title="Git 魔法">
  <link rel="up" href="index.html" title="Git 魔法">
  <link rel="prev" href="ch01.html" title="章 1. 入門">
  <link rel="next" href="ch03.html" title="章 3. 克隆周邊">
</head>

<body bgcolor="white" text="black" link="#0000FF" vlink="#840084"
alink="#0000FF">
    <div class="toc">
      <ul>
<li><b>Git Magic</b></li>
        <li>
          <span class="preface"><a href="index.html">前言</a></span>

          <ul>
            <li><span class="section"><a href=
            "index.html#_%E8%87%B4%E8%AC%9D">致謝！</a></span></li>

            <li><span class="section"><a href=
            "index.html#_%E8%A8%B1%E5%8F%AF">許可</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch01.html">1.
          入門</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch01.html#_%E5%B7%A5%E4%BD%9C%E6%98%AF%E7%8E%A9">工作是玩</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6">版本控制</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_%E5%88%86%E4%BD%88%E6%8E%A7%E5%88%B6">分佈控制</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_%E4%B8%80%E5%80%8B%E8%AA%A4%E5%8D%80">一個誤區</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_%E5%90%88%E4%BD%B5%E8%A1%9D%E7%AA%81">合併衝突</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch02.html">2.
          基本技巧</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch02.html#_%E4%BF%9D%E5%AD%98%E7%8B%80%E6%85%8B">保存狀態</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_%E6%B7%BB%E5%8A%A0_%E5%88%AA%E9%99%A4_%E9%87%8D%E5%91%BD%E5%90%8D">
            添加、刪除、重命名</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_%E9%80%B2%E9%9A%8E%E6%92%A4%E9%8A%B7_%E9%87%8D%E5%81%9A">
            進階撤銷/重做</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_%E6%92%A4%E9%8A%B7">撤銷</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_%E8%AE%8A%E6%9B%B4%E6%97%A5%E8%AA%8C%E7%94%9F%E6%88%90">
            變更日誌生成</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88">下載檔案</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_%E5%88%B0%E6%9C%80%E6%96%B0">到最新</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_%E5%BF%AB%E9%80%9F%E7%99%BC%E4%BD%88">快速發佈</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_%E6%88%91%E5%80%91%E5%B7%B2%E7%B6%93%E5%81%9A%E4%BA%86%E4%BB%80%E9%BA%BC">
            我們已經做了什麼？</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_%E7%B7%B4%E7%BF%92">練習</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch03.html">3.
          克隆周邊</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch03.html#_%E8%A8%88%E7%AE%97%E6%A9%9F%E9%96%93%E5%90%8C%E6%AD%A5">
            計算機間同步</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_%E5%85%B8%E5%9E%8B%E6%BA%90%E7%A2%BC%E6%8E%A7%E5%88%B6">
            典型源碼控制</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_%E5%B0%81%E9%96%89%E6%BA%90%E7%A2%BC">封閉源碼</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_%E8%A3%B8%E5%80%89%E5%BA%AB">裸倉庫</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_%E6%8E%A8%E9%82%84%E6%98%AF%E6%8B%BD">推還是拽</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_%E9%A0%85%E7%9B%AE%E5%88%86%E5%8F%89">項目分叉</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_%E7%B5%82%E6%A5%B5%E5%82%99%E4%BB%BD">終極備份</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_%E8%BC%95%E5%BF%AB%E5%A4%9A%E4%BB%BB%E5%8B%99">
            輕快多任務</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_%E6%B8%B8%E6%93%8A%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6">
            游擊版本控制</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_mercurial">Mercurial</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_bazaar">Bazaar</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_%E6%88%91%E5%81%8F%E6%84%9Bgit%E7%9A%84%E5%8E%9F%E5%9B%A0">
            我偏愛Git的原因</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch04.html">4.
          分支巫術</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch04.html#_%E8%80%81%E9%97%86%E9%8D%B5">老闆鍵</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_%E9%AA%AF%E9%AB%92%E7%9A%84%E5%B7%A5%E4%BD%9C">
            骯髒的工作</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_%E5%BF%AB%E9%80%9F%E4%BF%AE%E8%A8%82">快速修訂</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_%E5%90%88%E4%BD%B5">合併</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_%E4%B8%8D%E9%96%93%E6%96%B7%E5%B7%A5%E4%BD%9C%E6%B5%81">
            不間斷工作流</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_%E9%87%8D%E7%B5%84%E9%9B%9C%E4%BA%82">重組雜亂</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_%E7%AE%A1%E7%90%86%E5%88%86%E6%94%AF">管理分支</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_%E8%87%A8%E6%99%82%E5%88%86%E6%94%AF">臨時分支</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_%E6%8C%89%E4%BD%A0%E5%B8%8C%E6%9C%9B%E7%9A%84%E6%96%B9%E5%BC%8F%E5%B7%A5%E4%BD%9C">
            按你希望的方式工作</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch05.html">5.
          關於歷史</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch05.html#_%E6%88%91%E8%AA%8D%E9%8C%AF">我認錯</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_%E6%9B%B4%E8%A4%87%E9%9B%9C%E6%83%85%E6%B3%81">
            更複雜情況</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_%E6%9C%AC%E5%9C%B0%E8%AE%8A%E6%9B%B4%E4%B9%8B%E5%BE%8C">
            本地變更之後</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_%E9%87%8D%E5%AF%AB%E6%AD%B7%E5%8F%B2">重寫歷史</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_%E8%A3%BD%E9%80%A0%E6%AD%B7%E5%8F%B2">製造歷史</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_%E5%93%AA%E5%85%92%E9%8C%AF%E4%BA%86">哪兒錯了？</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_%E8%AA%B0%E8%AE%93%E4%BA%8B%E6%83%85%E8%AE%8A%E7%B3%9F%E4%BA%86">
            誰讓事情變糟了？</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_%E5%80%8B%E4%BA%BA%E7%B6%93%E9%A9%97">個人經驗</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch06.html">6.
          多人Git</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch06.html#_%E6%88%91%E6%98%AF%E8%AA%B0">我是誰？</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_git%E5%9C%A8ssh_http%E4%B8%8A">Git在SSH,
            HTTP上</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_git%E5%9C%A8%E9%9A%A8%E4%BE%BF%E4%BB%80%E9%BA%BC%E4%B8%8A">
            Git在隨便什麼上</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_%E8%A3%9C%E4%B8%81_%E5%85%A8%E7%90%83%E8%B2%A8%E5%B9%A3">
            補丁：全球貨幣</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_%E5%B0%8D%E4%B8%8D%E8%B5%B7_%E7%A7%BB%E8%B5%B0%E4%BA%86">
            對不起，移走了</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_%E9%81%A0%E7%AB%AF%E5%88%86%E6%94%AF">遠端分支</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_%E5%A4%9A%E9%81%A0%E7%AB%AF">多遠端</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_%E6%88%91%E7%9A%84%E5%96%9C%E5%A5%BD">我的喜好</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch07.html">7.
          Git大師技</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch07.html#_%E6%BA%90%E7%A2%BC%E7%99%BC%E4%BD%88">源碼發佈</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_%E6%8F%90%E4%BA%A4%E8%AE%8A%E6%9B%B4">提交變更</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_%E6%88%91%E7%9A%84%E6%8F%90%E4%BA%A4%E5%A4%AA%E5%A4%A7%E4%BA%86">
            我的提交太大了！</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_%E7%B4%A2%E5%BC%95_git%E7%9A%84%E4%B8%AD%E8%BD%89%E5%8D%80%E5%9F%9F">
            索引：Git的中轉區域</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_%E5%88%A5%E4%B8%9F%E4%BA%86%E4%BD%A0%E7%9A%84head">
            別丟了你的HEAD</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_head%E6%8D%95%E7%8D%B5">HEAD捕獵</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_%E5%9F%BA%E4%BA%8Egit%E6%A7%8B%E5%BB%BA">基于Git構建</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_%E5%A4%A7%E8%86%BD%E7%9A%84%E7%89%B9%E6%8A%80">
            大膽的特技</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_%E9%98%BB%E6%AD%A2%E5%A3%9E%E6%8F%90%E4%BA%A4">
            阻止壞提交</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch08.html">8.
          揭開面紗</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch08.html#_%E5%A4%A7%E8%B1%A1%E7%84%A1%E5%BD%A2">大象無形</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_%E6%95%B8%E6%93%9A%E5%AE%8C%E6%95%B4%E6%80%A7">
            數據完整性</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_%E6%99%BA%E8%83%BD">智能</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_%E7%B4%A2%E5%BC%95">索引</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_git%E7%9A%84%E6%BA%90%E8%B5%B7">Git的源起</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_%E5%B0%8D%E8%B1%A1%E8%B3%87%E6%96%99%E5%BA%AB">
            對象資料庫</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_blob%E5%B0%8D%E8%B1%A1">Blob對象</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_tree%E5%B0%8D%E8%B1%A1">Tree對象</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_commit%E5%B0%8D%E8%B1%A1">Commit對象</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_%E6%B2%92%E9%82%A3%E9%BA%BC%E7%A5%9E">沒那麼神</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch09.html">9. 附錄 A:
          Git的缺點</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch09.html#_sha1_%E7%9A%84%E5%BC%B1%E9%BB%9E">SHA1
            的弱點</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_%E5%BE%AE%E8%BB%9F_windows">微軟
            Windows</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_%E4%B8%8D%E7%9B%B8%E9%97%9C%E7%9A%84%E6%AA%94%E6%A1%88">
            不相關的檔案</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_%E8%AA%B0%E5%9C%A8%E7%B7%A8%E8%BC%AF%E4%BB%80%E9%BA%BC">
            誰在編輯什麼？</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_%E6%AA%94%E6%A1%88%E6%AD%B7%E5%8F%B2">檔案歷史</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_%E5%88%9D%E5%A7%8B%E5%85%8B%E9%9A%86">初始克隆</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_%E4%B8%8D%E7%A9%A9%E5%AE%9A%E7%9A%84%E9%A0%85%E7%9B%AE">
            不穩定的項目</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_%E5%85%A8%E5%B1%80%E8%A8%88%E6%95%B8%E5%99%A8">
            全局計數器</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_%E7%A9%BA%E5%AD%90%E7%9B%AE%E9%8C%84">空子目錄</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_%E5%88%9D%E5%A7%8B%E6%8F%90%E4%BA%A4">初始提交</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_%E4%BB%8B%E9%9D%A2%E6%80%AA%E7%99%96">介面怪癖</a></span></li>
          </ul>
        </li>

        <li><span class="chapter"><a href="ch10.html">10. 附錄 B:
        本指南的翻譯</a></span></li>
      </ul>
    </div>
<div class="content">
  <div class="chapter" title="章 2. 基本技巧">
    <div class="titlepage">
      <div>
        <div>
          <h2 class="title"><a name=
          "_%E5%9F%BA%E6%9C%AC%E6%8A%80%E5%B7%A7"></a>章 2.
          基本技巧</h2>
        </div>
      </div>
    </div>

    <p>與其一頭紮進Git命令的海洋中，不如來點基本的例子試試手。它們簡單而且實用。實際
    上，在開始使用Git的頭幾個月，我所用的從來沒超出本章介紹的內容。</p>

    <div class="section" title="保存狀態">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_%E4%BF%9D%E5%AD%98%E7%8B%80%E6%85%8B"></a>保存狀態</h2>
          </div>
        </div>
      </div>

      <p>要不來點猛的？在做之前，先為當前目錄所有檔案做個快照，使用：</p>
      <pre class="literallayout">
$ git init
$ git add .
$ git commit -m "My first backup"
</pre>

      <p>現在如果你的編輯亂了套，恢復之前的版本：</p>
      <pre class="literallayout">
$ git reset --hard
</pre>

      <p>再次保存狀態：</p>
      <pre class="literallayout">
$ git commit -a -m "Another backup"
</pre>
    </div>

    <div class="section" title="添加、刪除、重命名">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_%E6%B7%BB%E5%8A%A0_%E5%88%AA%E9%99%A4_%E9%87%8D%E5%91%BD%E5%90%8D">
            </a>添加、刪除、重命名</h2>
          </div>
        </div>
      </div>

      <p>以上命令將只跟蹤你第一次運行 <span class="strong"><strong>git
      add</strong></span> 命令時就已經存在的檔案。如果要添加新文 件或子目錄，你需要告訴Git：</p>
      <pre class="literallayout">
$ git add readme.txt Documentation
</pre>

      <p>類似，如果你想讓Git忘記某些檔案：</p>
      <pre class="literallayout">
$ git rm kludge.h obsolete.c
$ git rm -r incriminating/evidence/
</pre>

      <p>這些檔案如果還沒刪除，Git刪除它們。</p>

      <p>重命名檔案和先刪除舊檔案，再添加新檔案的一樣。也有一個快捷方式 <span class=
      "strong"><strong>git mv</strong></span> ，和 <span class=
      "strong"><strong>mv</strong></span> 命令的用法一樣。例如：</p>
      <pre class="literallayout">
$ git mv bug.c feature.c
</pre>
    </div>

    <div class="section" title="進階撤銷/重做">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_%E9%80%B2%E9%9A%8E%E6%92%A4%E9%8A%B7_%E9%87%8D%E5%81%9A">
            </a>進階撤銷/重做</h2>
          </div>
        </div>
      </div>

      <p>有時候你只想把某個時間點之後的所有改動都回滾掉，因為這些的改動是不正確的。那 麼：</p>
      <pre class="literallayout">
$ git log
</pre>

      <p>來顯示最近提交列表，以及他們的SHA1哈希值:</p>
      <pre class="screen">
commit 766f9881690d240ba334153047649b8b8f11c664
Author: Bob &lt;bob@example.com&gt;
Date:   Tue Mar 14 01:59:26 2000 -0800

    Replace printf() with write().

commit 82f5ea346a2e651544956a8653c0f58dc151275c
Author: Alice &lt;alice@example.com&gt;
Date:   Thu Jan 1 00:00:00 1970 +0000

    Initial commit.
</pre>

      <p>哈希值的前幾個字元足夠確定一個提交；也可以拷貝粘貼完整的哈希值，鍵入：</p>
      <pre class="literallayout">
$ git reset --hard 766f
</pre>

      <p>來恢復到一個指定的提交狀態，並從記錄裡永久抹掉所有比該記錄新一些的提交。</p>

      <p>另一些時候你想簡單地跳到一個舊狀態。這種情況，鍵入：</p>
      <pre class="literallayout">
$ git checkout 82f5
</pre>

      <p>這個操作將把你帶回過去，同時也保留較新提交。然而，像科幻電影裡時光旅行一樣，
      如果你這時編輯並提交的話，你將身處另一個現實裡，因為你的動作與開始時相比是不 同的。</p>

      <p>這另一個現實叫作“分支”（branch），之後 <a class="link" href=
      "ch04.html#branch">我們會對這點多討論一些</a>。 至于現在，只要記住：</p>
      <pre class="literallayout">
$ git checkout master
</pre>

      <p>會把你帶到當下來就可以了。另外，為避免Git的抱怨，應該在每次運行checkout之前提
      交（commit）或重置（reset）你的改動。</p>

      <p>還以電腦遊戲作為類比：</p>

      <div class="itemizedlist">
        <ul class="itemizedlist">
          <li class="listitem"><span class=
          "strong"><strong><code class="literal">git reset
          --hard</code></strong></span>: 加載一個舊記錄並刪除所有比之新的記錄。</li>

          <li class="listitem"><span class=
          "strong"><strong><code class="literal">git
          checkout</code></strong></span>:
          加載一個舊記錄，但如果你在這個記錄上玩，遊戲狀態將偏離第
          一輪的較新狀態。你現在打的所有遊戲記錄會在你剛進入的、代表另一個真實的分支 裡。<a class="link"
          href="ch04.html#branch">我們稍後論述</a>。</li>
        </ul>
      </div>

      <p>你可以選擇只恢復特定檔案和目錄，通過將其加在命令之後：</p>
      <pre class="literallayout">
$ git checkout 82f5 some.file another.file
</pre>

      <p>小心，這種形式的 <span class=
      "strong"><strong>checkout</strong></span>
      會不聲不響地覆蓋檔案。為阻止意外發生，在運行任何
      checkout命令之前做提交，尤其在初學Git的時候。通常，任何時候你覺得對運行某個命
      令不放心，無論Git命令還是不是Git命令，就先運行一下 <span class="strong"><strong>git
      commit -a</strong></span> 。</p>

      <p>不喜歡拷貝站題哈希值？那就用：</p>
      <pre class="literallayout">
$ git checkout :/"My first b"
</pre>

      <p>來跳到以特定字元串開頭的提交。你也可以回到倒數第五個保存狀態：</p>
      <pre class="literallayout">
$ git checkout master~5
</pre>
    </div>

    <div class="section" title="撤銷">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_%E6%92%A4%E9%8A%B7"></a>撤銷</h2>
          </div>
        </div>
      </div>

      <p>在法庭上，事件可以從法庭記錄裡敲出來。同樣，你可以檢出特定提交以撤銷。</p>
      <pre class="literallayout">
$ git commit -a
$ git revert 1b6d
</pre>

      <p>講撤銷給定哈希值的提交。本撤銷被記錄為一個新的提交，你可以通過運行 <span class=
      "strong"><strong>git log</strong></span> 來確認這一點。</p>
    </div>

    <div class="section" title="變更日誌生成">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_%E8%AE%8A%E6%9B%B4%E6%97%A5%E8%AA%8C%E7%94%9F%E6%88%90">
            </a>變更日誌生成</h2>
          </div>
        </div>
      </div>

      <p>一些項目要求生成變更日誌<a class="ulink" href=
      "http://en.wikipedia.org/wiki/Changelog" target=
      "_top">changelog</a>. 生 成一個，通過鍵入：</p>
      <pre class="literallayout">
$ git log &gt; ChangeLog
</pre>
    </div>

    <div class="section" title="下載檔案">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88"></a>下載檔案</h2>
          </div>
        </div>
      </div>

      <p>得到一個由Git管理的項目的拷貝，通過鍵入：</p>
      <pre class="literallayout">
$ git clone git://server/path/to/files
</pre>

      <p>例如，得到我用來創建該站的所有檔案：</p>
      <pre class="literallayout">
$ git clone git://git.or.cz/gitmagic.git
</pre>

      <p>我們很快會對 <span class="strong"><strong>clone</strong></span>
      命令談的很多。</p>
    </div>

    <div class="section" title="到最新">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_%E5%88%B0%E6%9C%80%E6%96%B0"></a>到最新</h2>
          </div>
        </div>
      </div>

      <p>如果你已經使用 <span class="strong"><strong>git
      clone</strong></span> 命令得到了一個項目的一份拷貝，你可以更新到最新版， 通過：</p>
      <pre class="literallayout">
$ git pull
</pre>
    </div>

    <div class="section" title="快速發佈">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_%E5%BF%AB%E9%80%9F%E7%99%BC%E4%BD%88"></a>快速發佈</h2>
          </div>
        </div>
      </div>

      <p>假設你寫了一個腳本，想和他人分享。你可以只告訴他們從你的計算機下載，但如果此
      時你正在改進你的腳本，或加入試驗性質的改動，他們下載了你的腳本，他們可能由此
      陷入困境。當然，這就是發佈周期存在的原因。開發人員可能頻繁進行項目修改，但他
      們只在他們覺得代碼可以見人的時候才擇時發佈。</p>

      <p>用Git來完成這項，需要進入你的腳本所在目錄：</p>
      <pre class="literallayout">
$ git init
$ git add .
$ git commit -m "First release"
</pre>

      <p>然後告訴你的用戶去運行：</p>
      <pre class="literallayout">
$ git clone your.computer:/path/to/script
</pre>

      <p>來下載你的腳本。這要假定他們有ssh訪問權限。如果沒有，需要運行 <span class=
      "strong"><strong>git daemon</strong></span> 並 告訴你的用戶去運行：</p>
      <pre class="literallayout">
$ git clone git://your.computer/path/to/script
</pre>

      <p>從現在開始，每次你的腳本準備好發佈時，就運行：</p>
      <pre class="literallayout">
$ git commit -a -m "Next release"
</pre>

      <p>並且你的用戶可以通過進入包含你腳本的目錄，並鍵入下列命令，來更新他們的版本：</p>
      <pre class="literallayout">
$ git pull
</pre>

      <p>你的用戶永遠也不會取到你不想讓他們看到的腳本版本。顯然這個技巧對所有的東西都 是可以，不僅是對腳本。</p>
    </div>

    <div class="section" title="我們已經做了什麼？">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_%E6%88%91%E5%80%91%E5%B7%B2%E7%B6%93%E5%81%9A%E4%BA%86%E4%BB%80%E9%BA%BC">
            </a>我們已經做了什麼？</h2>
          </div>
        </div>
      </div>

      <p>找出自從上次提交之後你已經做了什麼改變：</p>
      <pre class="literallayout">
$ git diff
</pre>

      <p>或者自昨天的改變：</p>
      <pre class="literallayout">
$ git diff "@{yesterday}"
</pre>

      <p>或者一個特定版本與倒數第二個變更之間：</p>
      <pre class="literallayout">
$ git diff 1b6d "master~2"
</pre>

      <p>輸出結果都是補丁格式，可以用 <span class="strong"><strong>git
      apply</strong></span> 來把補丁打上。也可以試一下：</p>
      <pre class="literallayout">
$ git whatchanged --since="2 weeks ago"
</pre>

      <p>我也經常用<a class="ulink" href=
      "http://sourceforge.net/projects/qgit" target="_top">qgit</a>
      瀏覽歷史, 因為他的圖形界 面很養眼，或者 <a class="ulink" href=
      "http://jonas.nitro.dk/tig/" target="_top">tig</a>
      ，一個文本界面的東西，很慢的網 絡狀況下也工作的很好。也可以安裝web 伺服器，運行 <span class=
      "strong"><strong>git instaweb</strong></span> ，就可以用任
      何瀏覽器瀏覽了。</p>
    </div>

    <div class="section" title="練習">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_%E7%B7%B4%E7%BF%92"></a>練習</h2>
          </div>
        </div>
      </div>

      <p>比方A，B，C，D是四個連續的提交，其中B與A一樣，除了一些檔案刪除了。我們想把這
      些刪除的檔案加回D。我們如何做到這個呢？</p>

      <p>至少有三個解決方案。假設我們在D：</p>

      <div class="orderedlist">
        <ol class="orderedlist" type="1">
          <li class="listitem">
            <p class="simpara">
            A與B的差別是那些刪除的檔案。我們可以創建一個補丁代表這些差別，然後吧補丁 打上：</p>
            <pre class="literallayout">
$ git diff B A | git apply
</pre>
          </li>

          <li class="listitem">
            <p class="simpara">既然這些檔案存在A，我們可以把它們拿出來：</p>
            <pre class="literallayout">
$ git checkout A foo.c bar.h
</pre>
          </li>

          <li class="listitem">
            <p class="simpara">我們可以把從A到B的變化視為可撤銷的變更：</p>
            <pre class="literallayout">
$ git revert B
</pre>
          </li>
        </ol>
      </div>

      <p>哪個選擇最好？這取決於你的喜好。利用Git滿足自己需求是容易，經常還有多個方法。</p>
    </div>
  </div><script type="text/javascript" src="find_selflink.js">
</script><script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
  document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
  </script><script type="text/javascript">
var pageTracker = _gat._getTracker("UA-1901330-2");
  pageTracker._initData();
  pageTracker._trackPageview();
  </script>
</div>
</div><div class="footer"><a href="/~blynn/">Ben Lynn</a></div>
</body>
</html>
