From zsh-workers-return-9531-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Feb 02 15:27:37 2000
Return-Path: <zsh-workers-return-9531-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 16312 invoked from network); 2 Feb 2000 15:27:36 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 2 Feb 2000 15:27:36 -0000
Received: (qmail 5894 invoked by alias); 2 Feb 2000 15:27:22 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 9531
Received: (qmail 5882 invoked from network); 2 Feb 2000 15:27:21 -0000
Date: Wed, 02 Feb 2000 08:14:39 -0700 (MST)
From: James Kirkpatrick <jimkirk@uwyo.edu>
Subject: Re: Problems with trap handling?
In-reply-to: <200002020832.JAA09945@beta.informatik.hu-berlin.de>
To: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
Cc: zsh-workers@sunsite.auc.dk
Message-id: <Pine.GSO.4.10.10002020809580.18912-100000@asuwlink.uwyo.edu>
MIME-version: 1.0
Content-type: TEXT/PLAIN; charset=US-ASCII
X-Authentication-warning: asuwlink.uwyo.edu: jimkirk owned process doing -bs

On Wed, 2 Feb 2000, Sven Wischnowsky wrote:

> ... Anybody know of any other
> almost-endless loops in the code?

I've slowly (too slowly!) been working with Bart Schaefer since around
November to determine the nature of a loop that occurs if you turn on
history files.  It appears that (for example) a disconnect (hangup) causes
zsh to loop in a manner where it consumes all available memory, severely
impacting other users, until it presumably finally aborts.  Putting a
  TRAPHUP () { exit 1 }
works around the problem but I need to try a patch Bart sent me as well.

Is this the sort of almost-endless loop you wanted to know about?

Jim

