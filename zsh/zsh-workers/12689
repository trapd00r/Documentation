From zsh-workers-return-12689-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Aug 22 18:08:13 2000
Return-Path: <zsh-workers-return-12689-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 7366 invoked from network); 22 Aug 2000 18:08:11 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 22 Aug 2000 18:08:11 -0000
Received: (qmail 10945 invoked by alias); 22 Aug 2000 18:08:04 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 12689
Received: (qmail 10936 invoked from network); 22 Aug 2000 18:08:03 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <1000822180741.ZM7800@candle.brasslantern.com>
Date: Tue, 22 Aug 2000 18:07:41 +0000
In-Reply-To: <001201c00c2e$d1063dd0$21c9ca95@mow.siemens.ru>
Comments: In reply to "Andrej Borsenkow" <Andrej.Borsenkow@mow.siemens.ru>
        "Check for NIS" (Aug 22,  3:47pm)
References: <001201c00c2e$d1063dd0$21c9ca95@mow.siemens.ru>
X-Mailer: Z-Mail (5.0.0 30July97)
To: "Andrej Borsenkow" <Andrej.Borsenkow@mow.siemens.ru>,
        "ZSH workers mailing list" <zsh-workers@sunsite.auc.dk>
Subject: Re: Check for NIS
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Aug 22,  3:47pm, Andrej Borsenkow wrote:
} Subject: Check for NIS
}
} We check for NIS by testing return value of ypcat. I am not sure it
} is correct way to do it (actually, I am pretty sure, it is the wrong
} way). ypcat may fail if system currently is not configured for NIS;
} or no server temporary is available. It has nothing to do with having
} needed functions and headers that we actually intend to check for.

The reason the test is done this way is that if the functions are present
but the system is not configured, then it becomes very slow for zsh to
attempt YP and then fall back on other methods.

The intent is to make a best guess at whether YP is configured, and skip
it entirely if not, even if the libraries to enable it might be present.
Yes, the test may be wrong if the server is temporarily unavailable, but
this was the best compromise we could come up with at the time.

There should be some discussion of this in the zsh-workers archive from
about three years ago (maybe longer).

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

