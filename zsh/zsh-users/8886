From zsh-users-return-8886-mason-zsh=primenet.com.au@sunsite.dk Sun May 22 06:21:12 2005
Return-Path: <zsh-users-return-8886-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 3760 invoked from network); 22 May 2005 06:21:11 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 22 May 2005 06:21:11 -0000
Received: (qmail 21721 invoked from network); 22 May 2005 06:21:05 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 22 May 2005 06:21:05 -0000
Received: (qmail 9429 invoked by alias); 22 May 2005 06:20:59 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8886
Received: (qmail 9418 invoked from network); 22 May 2005 06:20:59 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 22 May 2005 06:20:59 -0000
Received: (qmail 20643 invoked from network); 22 May 2005 06:20:59 -0000
Received: from gong.birdhouse.org (66.98.244.59)
  by a.mx.sunsite.dk with SMTP; 22 May 2005 06:20:53 -0000
Received: from mneptok.com ([209.20.244.4] helo=[192.168.1.3])
	by gong.birdhouse.org with esmtpa (Exim 4.50)
	id 1DZjpL-0004FU-NH; Sat, 21 May 2005 23:20:48 -0700
Subject: Re: zsh login coredump
From: mneptok <mneptok@mneptok.com>
To: Bart Schaefer <schaefer@brasslantern.com>
Cc: zsh-users@sunsite.dk
In-Reply-To: <1050522060434.ZM9847@candle.brasslantern.com>
References: <1116717823.6855.8.camel@localhost.localdomain>
	 <050521171740.ZM9619@candle.brasslantern.com>
	 <1116731745.6855.13.camel@localhost.localdomain>
	 <1050522060434.ZM9847@candle.brasslantern.com>
Content-Type: text/plain
Date: Sat, 21 May 2005 23:20:43 -0700
Message-Id: <1116742843.6855.17.camel@localhost.localdomain>
Mime-Version: 1.0
X-Mailer: Evolution 2.2.1.1 
Content-Transfer-Encoding: 7bit
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - gong.birdhouse.org
X-AntiAbuse: Original Domain - sunsite.dk
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - mneptok.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.4 required=6.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.4

On Sun, 2005-05-22 at 06:04 +0000, Bart Schaefer wrote:

> OK, so ...
> 
> If you're getting a parse error on that line, the problem must be that
> `id -u` is returning *nothing* (it might very well be dumping core as
> well).  Since `id -u` only prints an integer, it must be the case that
> it's unable even to obtain that integer, which means that one of
> 
>       euid = geteuid ();
>       ruid = getuid ();
>       egid = getegid ();
>       rgid = getgid ();
> 
> is failing catastrophically.
> 
> As zsh also calls these library routines, that's probably the cause of
> the crash.

"id -u" works form within bash and zsh.

-bash-2.05b$ id -u
32033

-bash-2.05b$ zsh

[mnep@gong]~% id -u
32033

Odd.

./k

kurt von finck
-- 
http://www.mneptok.com
mneptok@mneptok.com
--
public key at: subkeys.pgp.net
server key id: 5229D26A
fingerprint: 127A A484 ADBF A5AD E7FB 8CD2 8913 18F4 5229 D26A
--
Success is more a function of consistent common sense than it is of
genius. - An Wang
--

