Delivered-To: mason-zsh@primenet.com.au
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
Date: Wed, 27 Jan 1999 08:51:13 +0100 (MET)
Message-Id: <199901270751.IAA29022@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: "Bart Schaefer"'s message of Tue, 26 Jan 1999 10:23:04 -0800
Subject: Re: PATCH: suggestion for new condition
X-Mailing-List: <zsh-workers@sunsite.auc.dk> 5045


Bart Schaefer wrote:

> 
> On Jan 26,  4:47pm, Sven Wischnowsky wrote:
> } Subject: Re: PATCH: suggestion for new condition
> }
> } The patch below implements the `(t)' flag. `${(t)param}' will expand
> } to a string describing the type of parameter. When param is unset, it
> } will expand to `-'
> 
> Why?  Why not have it expand to nothing?  In any case "-" is a bad choice,
> because in certain contexts it could be misinterpreted as an option.

Blink. Yes, you are right, I was just thinking about Peter's mail and
didn't like to use a space. Of course, an empty string is the better
solution.


Bye
 Sven

--- os/subst.c	Tue Jan 26 16:48:43 1999
+++ Src/subst.c	Wed Jan 27 08:39:55 1999
@@ -1018,7 +1018,7 @@
 		if (f & PM_UNIQUE)
 		    val = dyncat(val, "-unique");
 	    } else
-		val = dupstring("-");
+		val = dupstring("");
 
 	    v = NULL;
 	    vunset = 0;

--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

