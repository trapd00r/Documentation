From zsh-workers-request@math.gatech.edu Wed Oct 07 15:59:49 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 14684 invoked from network); 7 Oct 1998 15:59:48 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 7 Oct 1998 15:59:48 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.9.1/8.9.1) id LAA16286;
	Wed, 7 Oct 1998 11:38:03 -0400 (EDT)
Resent-Date: Wed, 7 Oct 1998 11:37:57 -0400 (EDT)
To: "Bart Schaefer" <schaefer@brasslantern.com>
Cc: zsh-users@math.gatech.edu
Subject: Re: Null tilde expansions?
References: <qrrr9wly2rn.fsf@fielder.cs.washington.edu>  	<981006205428.ZM10148@candle.brasslantern.com>  	<qrr67dwwh6p.fsf@fielder.cs.washington.edu> <981007082641.ZM12497@candle.brasslantern.com>
From: Greg Badros <gjb@cs.washington.edu>
Date: 07 Oct 1998 08:41:25 -0700
In-Reply-To: "Bart Schaefer"'s message of "Wed, 7 Oct 1998 08:26:41 -0700"
Message-ID: <qrrvhlwv0pm.fsf@fielder.cs.washington.edu>
Lines: 48
X-Mailer: Gnus v5.4.65/XEmacs 20.4 - "Emerald"
Resent-Message-ID: <"2T0wZ1.0.sz3.Khu6s"@math>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/1841
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

"Bart Schaefer" <schaefer@brasslantern.com> writes:

> On Oct 7,  8:00am, Greg Badros wrote:
> } Subject: Re: Null tilde expansions?
> }
> } "Bart Schaefer" <schaefer@brasslantern.com> writes:
> } 
> } > On Oct 6, 11:16am, Greg Badros wrote:
> } > } Subject: Null tilde expansions?
> } > }
> } > } Is there any way to make ~notauser not cause an error (similar to the
> } > } null globbing option)?
> } > 
> } > unsetopt badpattern
> } 
> } This doesn't work for me with Zsh 3.1.4 (few if any patches) or Zsh 3.0.5:
> 
> In the words of Geoff Wing: I hate it when I stuff up a post.
> 
> unsetopt badpattern nomatch

Thanks.  There were also some problems with the removing of ~notauser
words that you suggested:

 > dirs=(${(M)dirs:#~)

Besides the obvious typo of a closing paren for a closing brace, there
are three problems:

1) I want the (R)est, not the match, right?

2) The ~ needs to be escaped, otherwise it'll get expanded.  So what
actually works for me in Zsh-3.1.4 and Zsh-3.0.x is:

3) The pattern after the # needs to match the whole word, so it needs a
trailing *.

echo ${(R)dirs:#\~*}   # words that do not start with ~

#or

echo ${(M)dirs:#/*}    # words that start with /


Thanks again for your pointers and suggestions.  (And thanks to Peter
Stephenson as well!)

Greg

