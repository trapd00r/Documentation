From zsh-users-return-8173-mason-zsh=primenet.com.au@sunsite.dk Thu Nov 04 18:14:02 2004
Return-Path: <zsh-users-return-8173-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 28504 invoked from network); 4 Nov 2004 18:14:01 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 4 Nov 2004 18:14:01 -0000
Received: (qmail 56422 invoked from network); 4 Nov 2004 18:13:54 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 4 Nov 2004 18:13:54 -0000
Received: (qmail 16549 invoked by alias); 4 Nov 2004 18:13:46 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8173
Received: (qmail 16534 invoked from network); 4 Nov 2004 18:13:46 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 4 Nov 2004 18:13:46 -0000
Received: (qmail 55449 invoked from network); 4 Nov 2004 18:13:46 -0000
Received: from ns9.hostinglmi.net (213.194.149.146)
  by a.mx.sunsite.dk with SMTP; 4 Nov 2004 18:13:44 -0000
Received: from 212.red-80-35-44.pooles.rima-tde.net ([80.35.44.212]:57639 helo=dervishd.net)
	by ns9.hostinglmi.net with esmtpa (Exim 4.43)
	id 1CPm7B-0006vf-9o
	for zsh-users@sunsite.dk; Thu, 04 Nov 2004 19:13:44 +0100
Date: Thu, 4 Nov 2004 19:16:08 +0100
From: DervishD <zsh@dervishd.net>
To: zsh-users@sunsite.dk
Subject: Re: Tilde expansion and completion again
Message-ID: <20041104181608.GA24522@DervishD>
Mail-Followup-To: zsh-users@sunsite.dk
References: <20041104105225.GA23709@DervishD> <Pine.LNX.4.61.0411040816450.5131@toltec.zanshin.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
In-Reply-To: <Pine.LNX.4.61.0411040816450.5131@toltec.zanshin.com>
User-Agent: Mutt/1.4.2.1i
Organization: DervishD
X-MailScanner-Information: Please contact the ISP for more information
X-MailScanner: Found to be clean
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - ns9.hostinglmi.net
X-AntiAbuse: Original Domain - sunsite.dk
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - dervishd.net
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, hits=0.0 required=6.0 tests=none autolearn=no version=2.63
X-Spam-Hits: 0.0

    Hi Bart :)

 * Bart Schaefer <schaefer@brasslantern.com> dixit:
> >     This is short: why aren't PWD and OLDPWD stored in $nameddirs
> > until a 'cd' command is issued?
> Peter told you the workaround, but he didn't answer "why".
[...]
> In the cases of PWD, OLDPWD, and nearly all other variables "known to the 
> shell" their values have already been assigned long before autonamedirs 
> can become set in your rc files.  Therefore they don't become nameddirs 
> until the _next_ time they are assigned (which for PWD and OLDPWD is upon 
> the next "cd"), or when nameddirs are forcibly rebuilt with "hash -d".

    Ok, now I have it clear :) Thanks a lot, Bart.
 
> > Why aren't the rest of parameters whose value starts with a slash stored 
> > directly in $nameddirs withouth the need to call 'hash -d'?
> Because it's not the job of the "setopt" command to track down and tickle 
> all possible side effects of the options that you've told it to change.
> And if you think about it, you wouldn't want it to even if it could.

    I don't want setopt to do the job, but zsh itself as soon as the
values are stored. The problem is the autonamedirs option, because
this cannot be done unless it is on.

    Well, the 'hash -d' method is more flexible.
 
    Thanks again Bart :)

    Raúl Núñez de Arenas Coronado

-- 
Linux Registered User 88736
http://www.dervishd.net & http://www.pleyades.net/

