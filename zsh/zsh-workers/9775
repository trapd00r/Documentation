From zsh-workers-return-9775-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Feb 17 13:45:15 2000
Return-Path: <zsh-workers-return-9775-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18542 invoked from network); 17 Feb 2000 13:45:14 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 17 Feb 2000 13:45:14 -0000
Received: (qmail 16928 invoked by alias); 17 Feb 2000 13:45:06 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 9775
Received: (qmail 16920 invoked from network); 17 Feb 2000 13:45:05 -0000
Date: Thu, 17 Feb 2000 14:44:59 +0100 (MET)
Message-Id: <200002171344.OAA25998@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
Subject: PATCH: _path_files


Sigh, one more array-copy needed.

Bye
 Sven

diff -ru ../z.old/Completion/Core/_path_files Completion/Core/_path_files
--- ../z.old/Completion/Core/_path_files	Thu Feb 17 13:37:19 2000
+++ Completion/Core/_path_files	Thu Feb 17 14:37:05 2000
@@ -288,6 +288,7 @@
       # See which of them match what's on the line.
 
       if [[ -n "$_comp_correct" ]]; then
+        tmp2=( "$tmp1[@]" )
         builtin compadd -D tmp1 -F _comp_ignore "$matcher[@]" - "${(@)tmp1:t}"
 
         if [[ $#tmp1 -eq 0 ]]; then

--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

