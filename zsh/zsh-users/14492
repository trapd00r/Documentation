From zsh-users-return-14492-mason-zsh=primenet.com.au@sunsite.dk Tue Oct 13 12:14:05 2009
Return-Path: <zsh-users-return-14492-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 25742 invoked from network); 13 Oct 2009 12:14:02 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.8 required=5.0 tests=AWL,BAYES_00,MISSING_HEADERS
	autolearn=no version=3.2.5
Received: from new-brage.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.254.104)
  by ns1.primenet.com.au with SMTP; 13 Oct 2009 12:14:02 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 30612 invoked from network); 13 Oct 2009 12:13:53 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 13 Oct 2009 12:13:53 -0000
Received: (qmail 17885 invoked by alias); 13 Oct 2009 12:13:43 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 14492
Received: (qmail 17867 invoked from network); 13 Oct 2009 12:13:43 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 13 Oct 2009 12:13:43 -0000
Received: from cluster-g.mailcontrol.com (cluster-g.mailcontrol.com [208.87.233.190])
	by bifrost.dotsrc.org (Postfix) with ESMTPS id 2B8D3805D09E
	for <zsh-users@sunsite.dk>; Tue, 13 Oct 2009 14:13:36 +0200 (CEST)
Received: from cameurexb01.EUROPE.ROOT.PRI ([193.128.72.68])
	by rly22g.srv.mailcontrol.com (MailControl) with ESMTP id n9DCCWLE024939
	for <zsh-users@sunsite.dk>; Tue, 13 Oct 2009 13:13:33 +0100
Received: from news01.csr.com ([10.99.50.25]) by cameurexb01.EUROPE.ROOT.PRI with Microsoft SMTPSVC(6.0.3790.3959);
	 Tue, 13 Oct 2009 13:08:39 +0100
Received: from news01.csr.com (localhost.localdomain [127.0.0.1])
	by news01.csr.com (8.14.2/8.13.4) with ESMTP id n9DC8dZV014577
	for <zsh-users@sunsite.dk>; Tue, 13 Oct 2009 13:08:39 +0100
Received: from csr.com (pws@localhost)
	by news01.csr.com (8.14.2/8.14.2/Submit) with ESMTP id n9DC8dMg014573
	for <zsh-users@sunsite.dk>; Tue, 13 Oct 2009 13:08:39 +0100
Message-Id: <200910131208.n9DC8dMg014573@news01.csr.com>
X-Authentication-Warning: news01.csr.com: pws owned process doing -bs
cc: zsh-users ml <zsh-users@sunsite.dk>
Subject: Re: expansion in conditional expression patterns
In-reply-to: <200910131159.n9DBxtV2014429@news01.csr.com>
References: <F851A022-A342-41EE-9BC8-692B7E7D3025@biskalar.de> <20091013100710.27e3c2fb@news01> <D59FAFB2-6CC0-4BA6-92F9-698E08293E2C@biskalar.de> <200910131159.n9DBxtV2014429@news01.csr.com>
Comments: In-reply-to Peter Stephenson <pws@csr.com>
   message dated "Tue, 13 Oct 2009 12:59:55 +0100."
Date: Tue, 13 Oct 2009 13:08:39 +0100
From: Peter Stephenson <pws@csr.com>
X-OriginalArrivalTime: 13 Oct 2009 12:08:39.0346 (UTC) FILETIME=[E624C920:01CA4BFD]
Content-Type: text/plain
MIME-Version: 1.0
X-Scanned-By: MailControl A-09-22-01 (www.mailcontrol.com) on 10.71.0.132
X-Virus-Scanned: ClamAV 0.94.2/9883/Tue Oct 13 12:43:35 2009 on bifrost
X-Virus-Status: Clean

Peter Stephenson wrote:
> Sebastian Stark wrote:
> > I just did this:
> > 
> >    if [[ ! ( ($cmdnum -ge 1) && ($cmdnum -le $limit) ) ]]
> > 
> > Maybe I should have asked differently because there might be a better  
> > solution for what I'm trying to do. I have an array of commands,  
> > $cmds, and a user supplied $cmdnum. Now I want to check wether the  
> > user entered a valid number. ($limit would be $#cmds in this example).
> > 
> > Is there a better way to check wether the user entered a) a number and  
> > b) in the range 1..$#cmds?
> 
> I don't think there's anything magic that you're missing.  I'd do
> something like:
> 
>   if [[ $cmdnum != <-> || $cmdnum -gt $#cmds ]]; then
>     # error
>   fi

... except it could be zero, so

if [[ $cmdnum != <1-> || $cmdnum -gt $#cmds ]]; then
    # error
fi

-- 
Peter Stephenson <pws@csr.com>            Software Engineer
Tel: +44 (0)1223 692070                   Cambridge Silicon Radio Limited
Churchill House, Cambridge Business Park, Cowley Road, Cambridge, CB4 0WZ, UK


Member of the CSR plc group of companies. CSR plc registered in England and Wales, registered number 4187346, registered office Churchill House, Cambridge Business Park, Cowley Road, Cambridge, CB4 0WZ, United Kingdom

