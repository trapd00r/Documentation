From zsh-workers-return-11168-mason-zsh=primenet.com.au@sunsite.auc.dk Fri May 05 05:17:03 2000
Return-Path: <zsh-workers-return-11168-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1837 invoked from network); 5 May 2000 05:17:02 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 5 May 2000 05:17:02 -0000
Received: (qmail 7996 invoked by alias); 5 May 2000 05:16:54 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 11168
Received: (qmail 7986 invoked from network); 5 May 2000 05:16:53 -0000
Message-ID: <20000505051645.6731.qmail@web1303.mail.yahoo.com>
Date: Thu, 4 May 2000 22:16:45 -0700 (PDT)
From: Felix Rosencrantz <f_rosencrantz@yahoo.com>
Subject: BUG: jobs -d causes core dump
To: zsh-workers <zsh-workers@sunsite.auc.dk>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

When I attempt to run "jobs -l -d" I get a core dump, with the following
stack trace.

I think the problem occurs when there is a job in the background that was
started in the current directory.  It seems like the pathname in the Job
structure is a NULL pointer at that time.  

-FR

#0  0xb63d8 in unmeta (file_name=0x0) at utils.c:2498
2498        for (t = file_name, p = fn; *t && p < fn + 4 * PATH_MAX - 1; p++)
(gdb) where
#0  0xb63d8 in unmeta (file_name=0x0) at utils.c:2498
#1  0xae568 in fprintdir (s=0x0, f=0x1709b0) at utils.c:404
#2  0x61838 in printjob (jn=0x16eb60, lng=5, synch=2) at jobs.c:737
#3  0x63864 in bin_fg (name=0x17f168 "jobs", argv=0xefffe6f0, 
    ops=0xefffe7a0 "", func=3) at jobs.c:1273
#4  0x24bb4 in execbuiltin (args=0x17f138, bn=0x15ec70) at builtin.c:368
#5  0x3f020 in execcmd (state=0xefffebd8, input=0, output=0, how=18, last1=2)
    at exec.c:2257
#6  0x3a394 in execpline2 (state=0xefffebd8, pcode=1027, how=18, input=0, 
    output=0, last1=0) at exec.c:1183
#7  0x39194 in execpline (state=0xefffebd8, slcode=5122, how=18, last1=0)
    at exec.c:976
#8  0x387cc in execlist (state=0xefffebd8, dont_change_job=0, exiting=0)
    at exec.c:821
#9  0x3832c in execode (p=0x17f0e0, dont_change_job=0, exiting=0) at exec.c:727
#10 0x59ea8 in loop (toplevel=1, justonce=0) at init.c:150
#11 0x23c68 in main (argc=1, argv=0xefffed64) at ./main.c:86


__________________________________________________
Do You Yahoo!?
Send instant messages & get email alerts with Yahoo! Messenger.
http://im.yahoo.com/

