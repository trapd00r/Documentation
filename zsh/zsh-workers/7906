From zsh-workers-return-7906-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Sep 17 09:46:13 1999
Return-Path: <zsh-workers-return-7906-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 16610 invoked from network); 17 Sep 1999 09:46:12 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 17 Sep 1999 09:46:12 -0000
Received: (qmail 13499 invoked by alias); 17 Sep 1999 09:45:57 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7906
Received: (qmail 13492 invoked from network); 17 Sep 1999 09:45:54 -0000
Date: Fri, 17 Sep 1999 11:45:52 +0200 (MET DST)
Message-Id: <199909170945.LAA02310@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: Oliver Kiddle's message of Fri, 17 Sep 1999 10:35:42 +0100
Subject: Re: _man only uses $manpath


Oliver Kiddle wrote:

> Sven Wischnowsky wrote:
> > Andrej Borsenkow wrote:
> > > On Thu, 16 Sep 1999, Adam Spiers wrote:
> > > > Sounds like we need some way of intelligently figuring out a solution
> > > > for both scenarios.  Does `man -w' return an error of some sort on
> > > > your system which we could test for?
> > > Well, exit code != 0. I have no idea, how reliable it is (different
> > > versions etc)
> > 
> > Same here for Digital Unix. Maybe we should test $OSTYPE?
> 
> The only man I can find which does support -w or --path is the GNU one.
> The exit code of != 0 seems fine on the systems I've looked at provided
> stderr is redirected.
> 
> What are you trying to achieve with man -w - find a default manpath to
> use if $manpath is unset? As far as I can tell man -w only gives you the
> location of a specific man page which isn't entirely useful for finding
> a default manpath as the default can (and often will) contain more than
> one directory. The only way I know of finding the default manpath is by
> running the man binary through strings. Maybe we could use a for loop to
> guess possible man directories and check them.

Yes, a la `_x_color'.

Bye
 Sven


--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

