From zsh-workers-request@math.gatech.edu Wed Nov 04 11:48:45 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18973 invoked from network); 4 Nov 1998 11:48:44 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 4 Nov 1998 11:48:44 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.9.1/8.9.1) id GAA15032;
	Wed, 4 Nov 1998 06:46:06 -0500 (EST)
Resent-Date: Wed, 4 Nov 1998 06:46:06 -0500 (EST)
Message-ID: <19981104124433.A9660@petzval.math.fu-berlin.de>
Date: Wed, 4 Nov 1998 12:44:33 +0100
From: Stucki <stucki@petzval.math.fu-berlin.de>
To: zsh-workers@math.gatech.edu
Subject: Strange prompting in new 3.1.5
Reply-To: real-stucki@petzval.math.fu-berlin.de
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 0.93.2i
Resent-Message-ID: <"eWD-52.0.pg3.zv3Gs"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/4530
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Hi!

I installed the new Version 3.1.5 and since then my
(unchanged) 'prompt' always showed '~PWD' where '%~'
is expanded. (I have PROMPTSUBST on because of a variable
'$SML' in the prompt, and the prompt is:

	%U(%BSt%b%U${SML})@%M:[%h](%u%B^:%~%b%U)>%u

I found out I can 'fix' this Problem by
putting 'unhash -d -m PWD' into 'precmd-function,
(I use '-m' to get no error if PWD is not yet set).

Is the new behaviour 'correct', or did somebody
reorganize something 'too correct to work with'
(like the search for Named-Dirs now including PWD)
Maybe it's a feature? (or my misconception :-)

Stucki

-- 
Christoph von Stuckrad       * *  | talk to  | <stucki@math.fu-berlin.de> \
Freie Universitaet Berlin    |/_* | nickname | Tel(days):+49 30 838-75 459 |
Fachbereich Mathematik, EDV  |\ * | 'stucki' | Tel(else):+49 30 77 39 6600 |
Arnimallee 2-6/14195 Berlin  * *  |  on IRC  | Fax(allw):+49 30 838-75454 /

