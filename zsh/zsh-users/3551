From zsh-users-return-3551-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Dec 04 16:06:26 2000
Return-Path: <zsh-users-return-3551-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4213 invoked from network); 4 Dec 2000 16:06:25 -0000
Received: from sunsite.dk (HELO sunsite.auc.dk) (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 4 Dec 2000 16:06:25 -0000
Received: (qmail 27141 invoked by alias); 4 Dec 2000 16:06:06 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 3551
Received: (qmail 27134 invoked from network); 4 Dec 2000 16:06:05 -0000
Date: Mon, 04 Dec 2000 16:05:38 +0000
From: Peter Stephenson <pws@csr.com>
Subject: Re: PATCH: function install
In-reply-to: "Your message of Mon, 04 Dec 2000 10:47:36 GMT."
 <0G510002YHZB9B@la-la.cambridgesiliconradio.com>
To: zsh-users@sunsite.auc.dk (Zsh users list)
Message-id: <0G51005P5WPEPL@la-la.cambridgesiliconradio.com>
Content-transfer-encoding: 7BIT

> Zowie!  I have seen the SUBDIRS!
  ^^^^^^
  Sorry, that should be `Yow!'  I think it was Captain Caveman where they
said `Zowie!'.  (`Yow!  Is this the SPORTS SHOP where CAVIE buys his
CLUBS????')  But I digress.

A question occurred to me.

Update for zsh-users:  Configuration of modules in zsh 4.0 will only
require changes in a single file, config.modules.  I am just fixing up
installation of functions with the --enable-function-subdirs option, which
installs the functions into separate subdirectories and creates a default
$fpath which includes all of them.

In 3.1.9, the subdirectories are one level deep:  functions installed from
Functions/Misc/* go into Misc/*, from Completion/Core/* into Core/*.  It is
possible (indeed, it would now be simpler and more flexible) to use the
actual subdirectory path, i.e. functions would go into
  /usr/local/share/zsh/<version>/functions/Functions/Misc
  /usr/local/share/zsh/<version>/functions/Completion/Core
etc.  In this case the extra `Functions' isn't much use, but in the case of
Completion it is a bit cleaner.

What does anybody want?  I could make it so that Functions/ always gets
removed, but the Completion/ prefix stays.  Then you would get

	              .../functions
                 /             |        \
      Completion              Zftp       Misc
  /   |    |      \
Core Base Builtins ...

which is fairly neat (unlike my drawing).

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
Cambridge Silicon Radio, Unit 300, Science Park, Milton Road,
Cambridge, CB4 0XL, UK                          Tel: +44 (0)1223 392070

