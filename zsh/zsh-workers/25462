From zsh-workers-return-25462-mason-zsh=primenet.com.au@sunsite.dk Sat Aug 16 13:56:36 2008
Return-Path: <zsh-workers-return-25462-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 15163 invoked from network); 16 Aug 2008 13:56:34 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00,WEIRD_PORT
	autolearn=no version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 16 Aug 2008 13:56:34 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 4966 invoked from network); 16 Aug 2008 13:56:20 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 16 Aug 2008 13:56:20 -0000
Received: (qmail 15515 invoked by alias); 16 Aug 2008 13:56:10 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 25462
Received: (qmail 15494 invoked from network); 16 Aug 2008 13:56:07 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 16 Aug 2008 13:56:07 -0000
Received: from cork.scru.org (cork.scru.org [209.20.67.2])
	by bifrost.dotsrc.org (Postfix) with ESMTPS id 3F11880EA0B3
	for <zsh-workers@sunsite.dk>; Sat, 16 Aug 2008 15:55:53 +0200 (CEST)
Received: by cork.scru.org (Postfix, from userid 1000)
	id 9D32C104087; Sat, 16 Aug 2008 13:55:38 +0000 (UTC)
Date: Sat, 16 Aug 2008 13:55:38 +0000
From: Clint Adams <clint@zsh.org>
To: Mikael Magnusson <mikachu@gmail.com>
Cc: zsh-workers <zsh-workers@sunsite.dk>
Subject: Re: Fix a typo in _git.
Message-ID: <20080816135538.GA32230@scru.org>
Mail-Followup-To: Mikael Magnusson <mikachu@gmail.com>,
	zsh-workers <zsh-workers@sunsite.dk>
References: <237967ef0808151656j7787f169g4b3456910e05bfc2@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <237967ef0808151656j7787f169g4b3456910e05bfc2@mail.gmail.com>
User-Agent: Mutt/1.5.18 (2008-05-17)
X-Virus-Scanned: ClamAV 0.92.1/8051/Sat Aug 16 05:44:59 2008 on bifrost
X-Virus-Status: Clean

On Sat, Aug 16, 2008 at 01:56:36AM +0200, Mikael Magnusson wrote:
> http://git.mika.l3ib.org/?p=zsh-cvs.git;a=history;f=Completion/Unix/Command/_git;h=mika


From: Mikael Magnusson <mikachu@comhem.se>
Date: Tue, 22 Apr 2008 13:12:22 +0000 (+0200)
Subject: _git: Add some -s -w to _arguments and new options for revert.
X-Git-Url: http://git.mika.l3ib.org:1234/?p=zsh-cvs.git;a=commitdiff_plain;h=82d690c2c0436354c1a07205c0431c4606bc2140

_git: Add some -s -w to _arguments and new options for revert.
---

diff --git a/Completion/Unix/Command/_git b/Completion/Unix/Command/_git
index d0f5980..c7f8074 100644
--- a/Completion/Unix/Command/_git
+++ b/Completion/Unix/Command/_git
@@ -1821,7 +1821,7 @@ _git-rebase () {
 
 (( $+functions[_git-repack] )) ||
 _git-repack () {
-  _arguments \
+  _arguments -s -w \
     '-a[pack all objects into a single pack]' \
     '-d[remove redundant packs after packing]' \
     '-f[pass "--no-reuse-delta" option to "git pack-objects"]' \
@@ -1866,9 +1866,10 @@ _git-reset () {
 
 (( $+functions[_git-revert] )) ||
 _git-revert () {
-  _arguments \
-    '(-e --edit --no-edit)'{-e,--edit}'[edit the commit before committing the revert]' \
-    '(-e --edit --no-edit)--no-edit[do not start the commit message editor]' \
+  _arguments -s -w \
+    '(-e --edit)'{-e,--edit}'[edit the commit before committing the revert]' \
+    '-x[append commit name when cherry-picking]' \
+    '(-m --mainline)'{-m+,--mainline=}'[pick which parent is mainline]:parent number' \
     '(-n --no-commit)'{-n,--no-commit}'[do not commit the reversion]' \
     ':commit:__git_commits' && ret=0
 }

