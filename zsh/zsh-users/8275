From zsh-users-return-8275-mason-zsh=primenet.com.au@sunsite.dk Wed Dec 08 20:11:48 2004
Return-Path: <zsh-users-return-8275-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 28437 invoked from network); 8 Dec 2004 20:11:47 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 8 Dec 2004 20:11:47 -0000
Received: (qmail 55202 invoked from network); 8 Dec 2004 20:11:41 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 8 Dec 2004 20:11:41 -0000
Received: (qmail 24007 invoked by alias); 8 Dec 2004 20:10:14 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8275
Received: (qmail 19882 invoked from network); 8 Dec 2004 20:03:33 -0000
Received: from unknown (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 8 Dec 2004 20:03:33 -0000
Received: (qmail 46047 invoked from network); 8 Dec 2004 20:03:06 -0000
Received: from polymorph.dseven.org (192.18.37.30)
  by a.mx.sunsite.dk with SMTP; 8 Dec 2004 20:03:03 -0000
Received: from [10.6.4.60] (mpk-edge.cto.sunit.net [192.18.216.194])
	(authenticated bits=0)
	by polymorph.dseven.org (8.12.11/8.12.11/D7+Cyrus+Auth+SSL) with ESMTP id iB8K2mIw025710
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Wed, 8 Dec 2004 12:02:49 -0800 (PST)
Message-ID: <41B75DC7.4020502@Dseven.ORG>
Date: Wed, 08 Dec 2004 12:02:15 -0800
From: Iain MacDonnell <Dseven@Dseven.ORG>
User-Agent: Mozilla Thunderbird 1.0 (X11/20041207)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: zsh-users@sunsite.dk
Subject: How to turn off NIS hosts completion?
Content-Type: multipart/signed; protocol="application/x-pkcs7-signature"; micalg=sha1; boundary="------------ms020300010408070004080903"
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, hits=0.0 required=6.0 tests=none autolearn=no version=2.63
X-Spam-Hits: 0.0

This is a cryptographically signed message in MIME format.

--------------ms020300010408070004080903
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit


I've been a zsh user since the mid 90's, but I haven't been able to keep
up with some of the newer developments. zstyle frightens me with its
apparent complexity. I've now hit a problem that's so frustrating that
I'm about ready to ditch zsh and go to bash... unless someone can help?

Completion for ssh and friends (notably scp) attempt to look up NIS
nowadays (I'm using zsh 4.2.0), but when you have 40,000 entries in your
NIS passwd map, this is not a fun experience. Hitting "scp blah<TAB>"
causes the shell to hang for a couple of minutes - there doesn't appear
to be any way to interrupt it.

Is there a way to turn off this NIS lookup for users and hosts? I've
tried defining my own, with a snippet plagiarized from someone else's
config, courtesy of google:

local _myhosts _myusers

_myhosts=($(<~/.zsh/hosts) 
${${${${(f)"$(<$HOME/.ssh/known_hosts)"}:#[0-9]*}%%\ *}%%,*})
_myusers=($(<~/.zsh/users))

zstyle ':completion:*' users $_myusers
zstyle ':completion:*' hosts $_myhosts

and that works so long as I have typed the first few letters of one of
those users or hosts, but if I've typed something that doesn't match,
the NIS lookup, and resulting hang, still occur,

Please help .. before I jump ship to bash .. I really don't want to ...

TIA,

     ~Iain



--------------ms020300010408070004080903
Content-Type: application/x-pkcs7-signature; name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename="smime.p7s"
Content-Description: S/MIME Cryptographic Signature

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIIjzCC
AqIwggILoAMCAQICAwzTKTANBgkqhkiG9w0BAQQFADBiMQswCQYDVQQGEwJaQTElMCMGA1UE
ChMcVGhhd3RlIENvbnN1bHRpbmcgKFB0eSkgTHRkLjEsMCoGA1UEAxMjVGhhd3RlIFBlcnNv
bmFsIEZyZWVtYWlsIElzc3VpbmcgQ0EwHhcNMDQwODA4MDMzMjUwWhcNMDUwODA4MDMzMjUw
WjCBhDETMBEGA1UEBBMKTWFjRG9ubmVsbDENMAsGA1UEKhMESWFpbjEYMBYGA1UEAxMPSWFp
biBNYWNEb25uZWxsMSAwHgYJKoZIhvcNAQkBFhFEc2V2ZW5ARHNldmVuLk9SRzEiMCAGCSqG
SIb3DQEJARYTSWFpbkBNYWNEb25uZWxsLk5FVDCBnzANBgkqhkiG9w0BAQEFAAOBjQAwgYkC
gYEAw9xiHblNP1RFDvfgtUFKvNavoG8EzMvggTg4aato6+pfAqoCfhGn/4v1tnOgByimRMQt
V0JVwZpMeY64+mpmKERDk8Ndj3p/jDbPM0oDelIebJ0TJcseutMvpKlPisv5NtOz5xJZOX7x
M8PQNZ+pL97ocZv+sWs13FCl67rGm2cCAwEAAaNDMEEwMQYDVR0RBCowKIERRHNldmVuQERz
ZXZlbi5PUkeBE0lhaW5ATWFjRG9ubmVsbC5ORVQwDAYDVR0TAQH/BAIwADANBgkqhkiG9w0B
AQQFAAOBgQBx0hmH282xxZcKZE6EFNecnR2rC15G1NQnUtGG9BAYePbNCkWqv1NAF6qY4Zao
j99csgQhctRY9pEcHXR4BWsoS1GBmJIxJpQCcl/puhfeKVoclpujj/0U9O+IkanxmHCsC5yG
wpvOp2iR6Ca3fG5tXh1ewppWA7xUzmYoQVQ+aTCCAqIwggILoAMCAQICAwzTKTANBgkqhkiG
9w0BAQQFADBiMQswCQYDVQQGEwJaQTElMCMGA1UEChMcVGhhd3RlIENvbnN1bHRpbmcgKFB0
eSkgTHRkLjEsMCoGA1UEAxMjVGhhd3RlIFBlcnNvbmFsIEZyZWVtYWlsIElzc3VpbmcgQ0Ew
HhcNMDQwODA4MDMzMjUwWhcNMDUwODA4MDMzMjUwWjCBhDETMBEGA1UEBBMKTWFjRG9ubmVs
bDENMAsGA1UEKhMESWFpbjEYMBYGA1UEAxMPSWFpbiBNYWNEb25uZWxsMSAwHgYJKoZIhvcN
AQkBFhFEc2V2ZW5ARHNldmVuLk9SRzEiMCAGCSqGSIb3DQEJARYTSWFpbkBNYWNEb25uZWxs
Lk5FVDCBnzANBgkqhkiG9w0BAQEFAAOBjQAwgYkCgYEAw9xiHblNP1RFDvfgtUFKvNavoG8E
zMvggTg4aato6+pfAqoCfhGn/4v1tnOgByimRMQtV0JVwZpMeY64+mpmKERDk8Ndj3p/jDbP
M0oDelIebJ0TJcseutMvpKlPisv5NtOz5xJZOX7xM8PQNZ+pL97ocZv+sWs13FCl67rGm2cC
AwEAAaNDMEEwMQYDVR0RBCowKIERRHNldmVuQERzZXZlbi5PUkeBE0lhaW5ATWFjRG9ubmVs
bC5ORVQwDAYDVR0TAQH/BAIwADANBgkqhkiG9w0BAQQFAAOBgQBx0hmH282xxZcKZE6EFNec
nR2rC15G1NQnUtGG9BAYePbNCkWqv1NAF6qY4Zaoj99csgQhctRY9pEcHXR4BWsoS1GBmJIx
JpQCcl/puhfeKVoclpujj/0U9O+IkanxmHCsC5yGwpvOp2iR6Ca3fG5tXh1ewppWA7xUzmYo
QVQ+aTCCAz8wggKooAMCAQICAQ0wDQYJKoZIhvcNAQEFBQAwgdExCzAJBgNVBAYTAlpBMRUw
EwYDVQQIEwxXZXN0ZXJuIENhcGUxEjAQBgNVBAcTCUNhcGUgVG93bjEaMBgGA1UEChMRVGhh
d3RlIENvbnN1bHRpbmcxKDAmBgNVBAsTH0NlcnRpZmljYXRpb24gU2VydmljZXMgRGl2aXNp
b24xJDAiBgNVBAMTG1RoYXd0ZSBQZXJzb25hbCBGcmVlbWFpbCBDQTErMCkGCSqGSIb3DQEJ
ARYccGVyc29uYWwtZnJlZW1haWxAdGhhd3RlLmNvbTAeFw0wMzA3MTcwMDAwMDBaFw0xMzA3
MTYyMzU5NTlaMGIxCzAJBgNVBAYTAlpBMSUwIwYDVQQKExxUaGF3dGUgQ29uc3VsdGluZyAo
UHR5KSBMdGQuMSwwKgYDVQQDEyNUaGF3dGUgUGVyc29uYWwgRnJlZW1haWwgSXNzdWluZyBD
QTCBnzANBgkqhkiG9w0BAQEFAAOBjQAwgYkCgYEAxKY8VXNV+065yplaHmjAdQRwnd/p/6Me
7L3N9VvyGna9fww6YfK/Uc4B1OVQCjDXAmNaLIkVcI7dyfArhVqqP3FWy688Cwfn8R+RNiQq
E88r1fOCdz0Dviv+uxg+B79AgAJk16emu59l0cUqVIUPSAR/p7bRPGEEQB5kGXJgt/sCAwEA
AaOBlDCBkTASBgNVHRMBAf8ECDAGAQH/AgEAMEMGA1UdHwQ8MDowOKA2oDSGMmh0dHA6Ly9j
cmwudGhhd3RlLmNvbS9UaGF3dGVQZXJzb25hbEZyZWVtYWlsQ0EuY3JsMAsGA1UdDwQEAwIB
BjApBgNVHREEIjAgpB4wHDEaMBgGA1UEAxMRUHJpdmF0ZUxhYmVsMi0xMzgwDQYJKoZIhvcN
AQEFBQADgYEASIzRUIPqCy7MDaNmrGcPf6+svsIXoUOWlJ1/TCG4+DYfqi2fNi/A9BxQIJNw
PP2t4WFiw9k6GX6EsZkbAMUaC4J0niVQlGLH2ydxVyWN3amcOY6MIE9lX5Xa9/eH1sYITq72
6jTlEBpbNU1341YheILcIRk13iSx0x1G/11fZU8xggK6MIICtgIBATBpMGIxCzAJBgNVBAYT
AlpBMSUwIwYDVQQKExxUaGF3dGUgQ29uc3VsdGluZyAoUHR5KSBMdGQuMSwwKgYDVQQDEyNU
aGF3dGUgUGVyc29uYWwgRnJlZW1haWwgSXNzdWluZyBDQQIDDNMpMAkGBSsOAwIaBQCgggGn
MBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTA0MTIwODIwMDIx
NVowIwYJKoZIhvcNAQkEMRYEFJfUBxqxSJtqCg3I3B9u5g3QVzEEMFIGCSqGSIb3DQEJDzFF
MEMwCgYIKoZIhvcNAwcwDgYIKoZIhvcNAwICAgCAMA0GCCqGSIb3DQMCAgFAMAcGBSsOAwIH
MA0GCCqGSIb3DQMCAgEoMHgGCSsGAQQBgjcQBDFrMGkwYjELMAkGA1UEBhMCWkExJTAjBgNV
BAoTHFRoYXd0ZSBDb25zdWx0aW5nIChQdHkpIEx0ZC4xLDAqBgNVBAMTI1RoYXd0ZSBQZXJz
b25hbCBGcmVlbWFpbCBJc3N1aW5nIENBAgMM0ykwegYLKoZIhvcNAQkQAgsxa6BpMGIxCzAJ
BgNVBAYTAlpBMSUwIwYDVQQKExxUaGF3dGUgQ29uc3VsdGluZyAoUHR5KSBMdGQuMSwwKgYD
VQQDEyNUaGF3dGUgUGVyc29uYWwgRnJlZW1haWwgSXNzdWluZyBDQQIDDNMpMA0GCSqGSIb3
DQEBAQUABIGAZWpuEaNJJaw9v1gCfiak0gsl5bJUZL3Clmxn04nWqgz7drMBnOmJtNrY3sMs
1Hqh4z2u12yG2kNB9HOJXY3x7NiHI8GOzliMO/PQ8Ra4WIbb/wZsiEwiw8+lf62cYOiI7NnR
TPmCzm6GR//GoNHR3y4u4a/9If+DSFsA7RWtpB0AAAAAAAA=
--------------ms020300010408070004080903--

