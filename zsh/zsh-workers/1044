From Martin.Birgmeier@nt.tuwien.ac.at Fri May 10 19:00:31 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by melb.werple.net.au (8.7.5/8.7.3) with ESMTP id TAA12706 for <mason@werple.mira.net.au>; Fri, 10 May 1996 19:00:27 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id EAA06343; Fri, 10 May 1996 04:31:41 -0400 (EDT)
Resent-Date: Fri, 10 May 1996 04:31:41 -0400 (EDT)
Message-Id: <199605100828.AA25498@ns1.sterling.com>
Date: Fri, 10 May 1996 10:30:02 +0200
From: Martin Birgmeier <Martin.Birgmeier@nt.tuwien.ac.at>
To: zsh-list@sterling.com
Subject: Bug report
Resent-Message-ID: <"_z9Jl1.0.-Y1.ixlan"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/1044
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu
Content-Length: 679
Status: O

Dear zsh-maintainer & hackers,

I think I've found a problem with 2.6-beta16:

If I have in my startup files

    periodic () {
	fc -AI && echo "(history saved.)" || echo "(could not save history.)"
    }
    PERIOD=1800

then this works fine, *except* that the command - just entered before
the new prompt which triggers periodic() - is *lost* from the history
(and not even reachable with the cursor keys, like `k' in vi-mode).

Is this a feature or a bug? In the latter case, I'd be happy if you could
fix it.

Yours,

Martin

---
Martin Birgmeier

Vienna University of Technology
Department of Communication and Radio Frequency Engineering

Martin.Birgmeier@nt.tuwien.ac.at


