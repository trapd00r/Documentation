From schaefer@z-code.ncd.com Fri May 24 06:56:59 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by melb.werple.net.au (8.7.5/8.7.3) with ESMTP id GAA13912 for <mason@werple.mira.net.au>; Fri, 24 May 1996 06:56:56 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id QAA06980; Thu, 23 May 1996 16:40:05 -0400 (EDT)
Resent-Date: Thu, 23 May 1996 16:40:05 -0400 (EDT)
From: "Barton E. Schaefer" <schaefer@z-code.ncd.com>
Message-Id: <960523134032.ZM16250@zyrcon.z-code.com>
Date: Thu, 23 May 1996 13:40:31 -0700
In-Reply-To: Zoltan Hidvegi <hzoli@cs.elte.hu>
        "Re: HISTCHARS" (May 23,  8:32pm)
References: <199605231832.UAA04182@bolyai.cs.elte.hu>
Reply-To: schaefer@z-code.ncd.com
X-Face: czU|*h"p8AX?4.I.yU.^s%TIMx|"-s,*'|#H^|e,QjE&!jL%<]:-.U/;khS%3a2BC5_d#)(
 mz=$$G0u9P&*N8cA~b[URf;lgKRif@#qEf[ltie#Gg0%6$b`e`k.Cgw:\qJx\\a7c(K7^3;gXW:e1@
 J<dlE"_MR!jLyY^_Ig[6-B#D2;B2V
X-Mailer: Z-Mail (3.3dev.506 06may96)
To: Zoltan Hidvegi <hzoli@cs.elte.hu>
Subject: Re: HISTCHARS
Cc: zsh-workers@math.gatech.edu
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Resent-Message-ID: <"kmkgO2.0.-i1.VqCfn"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/1161
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu
Content-Length: 3332
Status: OR

On May 23,  8:32pm, Zoltan Hidvegi wrote:
} Subject: Re: HISTCHARS
}
} A complete list of changes would be useful indeed.

The ones that I know of that make a difference to my zsh init files are
listed below.  The version number at left is the earliest I know of
where the change showed up.  I haven't tracked betas regularly since
sometime during 2.4 development, so I don't know the patch levels where
a lot of these showed up.  Changes in features I don't use, aren't here.

2.1:		Format of VERSION numbers changed from "X.0Y" to "X.Y".
		Beta versions became "X.Ybeta Z".

2.4:		Format of VERSION numbers changed from "X.Ybeta Z" to
		"X.Y.Z beta".  Broke all my carefully constructed tests,
		created in .zshrc as I upgraded through 2.2 and dozens
		of 2.3betas, for how a given zsh would behave.

2.5:		Format of VERSION numbers changed from "X.Y" to "X.Y.ZZ".
		At least this was relatively benign.

2.6:		First, VERSION numbers changed from "X.Y.Z beta" to
		"X.Y-betaZ".  Next, VERSION variable became ZSH_NAME
		and ZSH_VERSION.  Broke all my tests *twice*.  Make
		up your minds, willya?

2.5:		${1}${2:+="$argv[2,$#]"} broke; something about the `='.
		Intent is with argv=(foo bar baz), expand to foo="bar baz".

2.6:		HOSTTYPE iris4d became irix?? where ?? is OS version.
		Did other HOSTTYPEs change, too?  I haven't compiled 2.6
		on any other platforms yet, except Linux, for which I
		have no earlier examples.

2.2:		HISTCHARS="\!=#" broke; had to change to HISTCHARS="!=#".

2.6:		HISTCHARS became histchars.

2.1:		A whole bunch of new setopts:
		    KSH_OPTION_PRINT SUN_KEYBOARD_HACK PATHDIRS NOHUP
		    AUTO_MENU AUTO_REMOVE_SLASH
		Previously (2.00) I'd just used MENU_COMPLETE.

2.5:		CSH_JUNKIE_PAREN showed up, CSH_JUNKIE_TILDE went away.
		This wouldn't have been a problem if CSH_JUNKIE_PAREN
		had been *set* by default, rather than *un*set, but as
		it was it broke every .zshrc in our entire organization.
		We now setopt CSH_JUNKIE_PAREN in /etc/zshenv.

2.4:		New options COMPLETE_IN_WORD ALWAYS_TO_END AUTO_PARAM_KEYS.
		Zle gained push-line-or-edit.

2.6:		Backslash handling in prompts and in `print -P` changed.

2.4:		Namedirs got really stupid, and stayed stupid up to 2.5.
		Second-most annoying change ever.

2.5:		Option AUTO_NAME_DIRS fixed 2.4.  Huge sigh of relief.

2.1:		Prompt format %c started displaying too much of the path.

2.2:		Prompt format %c got a number suffix to limit the number
		of path components displayed.

2.3beta 90:	Prompt format sequence %c2 changed to %2c (number suffix
		became infix).

A couple of other changes that I recall are that SHLVL doesn't act the way
it used to (but I don't remember when that changed), and that "exec" causes
history files to be written (which I *really* can't stand).  I believe the
SHLVL thing is "exec"-related too, come to think of it.

Something else changed between 2.3 and 2.5 that confused a bunch of scripts
we use here, forcing me to leave 2.3 installed on several machines just to
be able to run those scripts ... but I don't remember what it was.  If I
figure it out I'll say something.

-- 
Bart Schaefer                     Vice President, Technology, Z-Code Software
schaefer@z-code.com                  Division of NCD Software Corporation
http://www.well.com/www/barts           http://www.ncdsoft.com/ZMail/


