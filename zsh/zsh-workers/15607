From zsh-workers-return-15607-mason-zsh=primenet.com.au@sunsite.dk Thu Aug 09 09:41:29 2001
Return-Path: <zsh-workers-return-15607-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24207 invoked from network); 9 Aug 2001 09:41:27 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 9 Aug 2001 09:41:27 -0000
Received: (qmail 9638 invoked by alias); 9 Aug 2001 09:40:59 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 15607
Received: (qmail 9617 invoked from network); 9 Aug 2001 09:40:52 -0000
From: martin.ebourne@arcordia.com
Expiry-Date: Wed, 7 Nov 2001 -1:-1:-1 +0000
Subject: Possible bug with cd completion
To: zsh-workers@sunsite.dk
Date: Thu, 9 Aug 2001 10:38:58 +0100
Message-ID: <OF0FB43A3C.07298D98-ON80256AA3.00348BBA@uk.jpmorgan.com>
X-MIMETrack: Serialize by Router on LON-ARCMTA-01/ARCORDIA(Release 5.0.3 (Intl)|21 March
 2000) at 08/09/2001 10:39:00 AM
MIME-Version: 1.0
Content-type: text/plain; charset=us-ascii


Hi,

There seems to be a bug with completing directories to cd which are
numbers.
ie.

% zsh -f
% echo $ZSH_VERSION
4.0.2
% autoload -U compinit
% compinit
% setopt cdablevars
% pushd
~ ~/test
% mkdir 100
% cd 1

Pressing <tab> immediately after the 1 offers no completions. Add a 0 and
it works.

This seems to be a problem with the handling of cdablevars in _cd. It seems
to be trying to complete with a '~' prefixed, which hits the directory
stack. However, cdable vars doesn't actually do that when you execute the
cd itself.

Cheers,

Martin.




This e-mail message is CONFIDENTIAL and may contain legally privileged
information.  If you are not the intended recipient you should not  read,
copy, distribute, disclose or otherwise use the information in this e-mail.
Please also telephone or fax us immediately and delete the message from
your system.  E-mail may be susceptible to data corruption, interception
and unauthorised amendment, and we do not accept liability for any such
corruption, interception or amendment or the consequences thereof.

