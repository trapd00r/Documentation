From zsh-workers-request@math.gatech.edu  Tue Aug 22 03:29:31 1995
Received: from gatech.edu (gatech.edu [130.207.244.244]) by werple.mira.net.au (8.6.12/8.6.9) with SMTP id DAA00899 for <mason@werple.mira.net.au>; Tue, 22 Aug 1995 03:29:10 +1000
Received: from math (math.skiles.gatech.edu) by gatech.edu with SMTP id AA12686
  (5.65c/Gatech-10.0-IDA for <mason@werple.mira.net.au>); Mon, 21 Aug 1995 13:13:03 -0400
Received: by math (5.x/SMI-SVR4)
	id AA02591; Mon, 21 Aug 1995 12:42:47 -0400
Resent-Date: Mon, 21 Aug 1995 12:42:01 -0400
Old-Return-Path: <coleman@math.gatech.edu>
Message-Id: <9508211642.AA02152@redwood.skiles.gatech.edu>
X-Mailer: exmh version 1.5.3 12/28/94
To: zsh-workers@math.gatech.edu
Subject: Re: unfunction fix 
In-Reply-To: Your message of "Sun, 20 Aug 1995 01:48:38 +0200."
             <199508192348.BAA29860@bolyai.cs.elte.hu> 
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Date: Mon, 21 Aug 1995 12:42:01 -0400
From: Richard Coleman <coleman@math.gatech.edu>
Resent-Message-Id: <"7Bqes.0.Pe.6UBEm"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/335
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

> unfunction was the same as unhash so far.  This means that for example
> unfunction -m '*' removed everything from the command hash table not
> only the functions.  The simple patch below fixes it.  It adds a new -f
> optino to unhash, and unfunction is the same as unhash -f.
> 
> When a function is removed unhash will check if there is a command in the
> path with the same name and if it finds one, it puts it into the hash table
> if the HASH_CMDS option is set.

In beta11, shell functions, buitlins, and external commands are in
separate hash tables, so this will no longer be a problem.  I made
good progress on beta11 last week, so I will probably start making
test releases later in the week, with a real beta11 in about two weeks.

Richard Coleman
coleman@math.gatech.edu

