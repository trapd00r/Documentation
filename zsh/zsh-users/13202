From zsh-users-return-13202-mason-zsh=primenet.com.au@sunsite.dk Tue Sep 09 15:36:38 2008
Return-Path: <zsh-users-return-13202-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17671 invoked from network); 9 Sep 2008 15:36:36 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 9 Sep 2008 15:36:36 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 7788 invoked from network); 9 Sep 2008 15:35:51 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 9 Sep 2008 15:35:51 -0000
Received: (qmail 29972 invoked by alias); 9 Sep 2008 15:35:04 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 13202
Received: (qmail 29947 invoked from network); 9 Sep 2008 15:35:02 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 9 Sep 2008 15:35:02 -0000
Received: from py-out-1112.google.com (py-out-1112.google.com [64.233.166.178])
	by bifrost.dotsrc.org (Postfix) with ESMTP id C8AA1802710A
	for <zsh-users@sunsite.dk>; Tue,  9 Sep 2008 17:34:45 +0200 (CEST)
Received: by py-out-1112.google.com with SMTP id u77so1267223pyb.23
        for <zsh-users@sunsite.dk>; Tue, 09 Sep 2008 08:34:38 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:cc:message-id:from:to
         :in-reply-to:content-type:content-transfer-encoding:mime-version
         :subject:date:references:x-mailer:sender;
        bh=I+qmd6Qi0u3ibs+eS9oKOUB+qOZAVX1jiFYeVR9kANc=;
        b=btGaV0oNKyIfAvYneKEqAjMdKlHAHFleIRdbmPaqujZlNx8xDXr1AhEV2p8HXF9r1f
         jDehGt+OJME31L5dUO/CSAVtFc3GjiWVNA6Tbf6hTef8ZVvEF2B5Bu7Kb3SX9UwWhGb7
         Kd0uKnSdnzORVX9w2PC782OSjcMauix3wgFhw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=cc:message-id:from:to:in-reply-to:content-type
         :content-transfer-encoding:mime-version:subject:date:references
         :x-mailer:sender;
        b=hPrM6X/SUMTxeA9R5TJJkNtL9iXGnmHC5tJOS5deLjQFgfztOSxTiYE9bgDtQJ5mTe
         r64v6TAGCZAESQKInkLo0vnNZp+mktAPX1td9U48zQzHPTDjmqt5TKxAYATC/LnOEaAA
         jdjqCntFBMTEFFvP6W1K0zHSFeyVcgMzej1Kk=
Received: by 10.114.180.18 with SMTP id c18mr13847670waf.128.1220974478218;
        Tue, 09 Sep 2008 08:34:38 -0700 (PDT)
Received: from ?10.0.1.3? ( [99.170.151.60])
        by mx.google.com with ESMTPS id m6sm6911559wag.11.2008.09.09.08.34.35
        (version=SSLv3 cipher=RC4-MD5);
        Tue, 09 Sep 2008 08:34:36 -0700 (PDT)
Cc: zsh-users@sunsite.dk
Message-Id: <23D191E2-173B-4967-B328-7E56EC7964F5@chemistry.ucsc.edu>
From: "William G. Scott" <wgscott@chemistry.ucsc.edu>
To: Bart Schaefer <schaefer@brasslantern.com>
In-Reply-To: <080908231114.ZM16672@torch.brasslantern.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed; delsp=yes
Content-Transfer-Encoding: 7bit
Mime-Version: 1.0 (Apple Message framework v928.1)
Subject: Re: configure NIS test hangs on one of my OS X machines
Date: Tue, 9 Sep 2008 08:34:32 -0700
References: <64EBA058-6335-4AFB-BE06-72FC3E476F29@chemistry.ucsc.edu> <080908213933.ZM16288@torch.brasslantern.com> <114E89DE-AC95-4C16-83E7-100CD5E1AA87@chemistry.ucsc.edu> <080908231114.ZM16672@torch.brasslantern.com>
X-Mailer: Apple Mail (2.928.1)
Sender: "W. G. Scott" <wgscott1@gmail.com>
X-Virus-Scanned: ClamAV 0.92.1/8201/Tue Sep  9 15:44:30 2008 on bifrost
X-Virus-Status: Clean


On Sep 8, 2008, at 11:11 PM, Bart Schaefer wrote:
>
> } (indefinite hang).
>
> So it just stops printing those error messages?

No, it keeps printing them ad infinitum.

>  That's a bit odd.
> Anyway, it'd probably time out after 15 minutes or so.

After an hour and a half (getting the kids to school) it was still  
hanging.
>
> This has absolutely nothing to do with files or the web or bluetooth.

My point was only that I turned off all the remaining optional network  
services that were on.  The only thing that is consistent is that all  
the computers that suffer this problem are behind a wireless router.


> } Is there a way to avoid the test entirely?
>
> Unfortunately not without changing the configure script.  The easiest
> thing might be to temporarily rename /usr/bin/ypcat, and then rename  
> it
> back after configuration has finished.

For purposes of maintaining the Fink package, I can't touch anything  
outside of its realm.

       perl -pi -e "s|ypcat|false|g" configure

in the packaging script masks the problem, and since this is only for  
OS X machines, is probably the easiest fix for this purpose unless you  
or someone sees a problem with this. I am assuming it is harmless.

The main thing is the user should be able to type

     fink install zsh

and get it to download and compile without manual intervention.


>
> This is more along the lines of what I'd have expected (and what the
> writer of that part of zsh's configure script expected) ypcat to do:
> fail immediately if no server could be reached, not keep trying for
> some unknown length of time.

Hopefully this is a peculiarity of my home network setup.

Thanks.

Bill



