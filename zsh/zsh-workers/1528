From wayne@clari.net Fri Jul  5 16:31:22 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by melb.werple.net.au (8.7.5/8.7.3/2) with ESMTP id QAA14376 for <mason@werple.mira.net.au>; Fri, 5 Jul 1996 16:31:10 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id CAA00769; Fri, 5 Jul 1996 02:26:07 -0400 (EDT)
Resent-Date: Fri, 5 Jul 1996 02:26:07 -0400 (EDT)
Message-Id: <199607050623.XAA05584@bebop.clari.net>
To: Zoltan Hidvegi <hzoli@cs.elte.hu>
Cc: zsh-workers@math.gatech.edu
Subject: Re: zsh-3.0-pre2 released 
In-reply-to: hzoli's message of Fri, 05 Jul 1996 00:30:20 +0200.
	     <199607042230.AAA24166@bolyai.cs.elte.hu> 
Date: Thu, 04 Jul 1996 23:23:57 -0700
From: Wayne Davison <wayne@clari.net>
Resent-Message-ID: <"AZFY91.0.uB.-LBtn"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/1528
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu
Content-Length: 970
Status: OR

There's a couple simple problems with the pre2 release that cause a lot
of warnings when compiling.  One is the DPUTS macro uses 'X' where it
should have 'Y'.  The other is the use of an "int *" where it should be a
"pid_t *".  Here's the diff.

..wayne..
---8<------8<------8<------8<---cut here--->8------>8------>8------>8---
Index: Src/signals.c
@@ -464,7 +464,7 @@
 	    Job jn;
 	    Process pn;
             pid_t pid;
-	    int *procsubpid = &cmdoutpid;
+	    pid_t *procsubpid = &cmdoutpid;
 	    int *procsubval = &cmdoutval;
 	    struct execstack *es = exstack;
 
Index: Src/zsh.h
@@ -1307,7 +1307,7 @@
 
 #ifdef DEBUG
 # define DPUTS(X,Y) if (!(X)) {;} else \
-			fprintf(stderr, "%s\n", X), fflush(stderr)
+			fprintf(stderr, "%s\n", Y), fflush(stderr)
 # define MUSTUSEHEAP(X) if (useheap) {;} else \
 		fprintf(stderr, "BUG: permanent allocation in %s\n", X), \
 		fflush(stderr)
---8<------8<------8<------8<---cut here--->8------>8------>8------>8---


