From zsh-workers-return-27215-mason-zsh=primenet.com.au@sunsite.dk Fri Aug 14 13:54:56 2009
Return-Path: <zsh-workers-return-27215-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 22448 invoked from network); 14 Aug 2009 13:54:53 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from new-brage.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.254.104)
  by ns1.primenet.com.au with SMTP; 14 Aug 2009 13:54:53 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 81882 invoked from network); 14 Aug 2009 13:54:47 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 14 Aug 2009 13:54:47 -0000
Received: (qmail 11154 invoked by alias); 14 Aug 2009 13:54:42 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 27215
Received: (qmail 11133 invoked from network); 14 Aug 2009 13:54:42 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 14 Aug 2009 13:54:42 -0000
Received: from mail-bw0-f215.google.com (mail-bw0-f215.google.com [209.85.218.215])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 120A1810A3C1
	for <zsh-workers@sunsite.dk>; Fri, 14 Aug 2009 15:54:38 +0200 (CEST)
Received: by bwz11 with SMTP id 11so1159197bwz.39
        for <zsh-workers@sunsite.dk>; Fri, 14 Aug 2009 06:54:37 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:cc:content-type
         :content-transfer-encoding;
        bh=PKuN2Q3LdVsiXzUFR2yT9znDh9rwudCsuveoWQgfs5U=;
        b=aQaRRW0vT08gLjpexlLOwwsEP12E4i0b/mrFNYSmY20deM7ZknWQSHCprUUES78LO/
         wLKReG5dHYGz9t0BT+BA/WFpu9whjx9QeRKa70RH4BzayvSKShIqpHpmpDIPB4PfYy0K
         X497t3i4IFVs9D31uTTrxPwSYeAGcFU1xmoeQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type:content-transfer-encoding;
        b=g1IRbn+8N8MPV0PPN+MIOhr1wfTLD7wJoIs3C2wuoXQinCAyye2vq+tmp1y7etKgRq
         hzYtK1+zkypV4LoNP76vv2is5/0V1HhZuA0pyZGWkJuLLPg90oPcmecgQwUN9J86jz4B
         jvhoB2ORix9sYVXLIc66G+cGAu6nch4wAZrcM=
MIME-Version: 1.0
Received: by 10.204.66.205 with SMTP id o13mr274887bki.183.1250258076539; Fri, 
	14 Aug 2009 06:54:36 -0700 (PDT)
In-Reply-To: <20a807210908140642q49893fe3w5737044dca63bb88@mail.gmail.com>
References: <20a807210908140642q49893fe3w5737044dca63bb88@mail.gmail.com>
Date: Fri, 14 Aug 2009 15:54:36 +0200
Message-ID: <237967ef0908140654w8f52e42p293ef75c1d2bebad@mail.gmail.com>
Subject: Re: Recent parser changes
From: Mikael Magnusson <mikachu@gmail.com>
To: Vin Shelton <acs@alumni.princeton.edu>
Cc: Zsh hackers list <zsh-workers@sunsite.dk>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: ClamAV 0.94.2/9695/Thu Aug 13 23:08:01 2009 on bifrost
X-Virus-Status: Clean

2009/8/14 Vin Shelton <acs@alumni.princeton.edu>:
> Greetings -
>
> On my Windows XP/cygwin 1.7 box, one of my scripts recently stopped
> working with the following message:
>
> MakeNativeXEmacs:136: parse error near '\n'
>
> The line number identified is the last line in the file, so the parser
> is running off the end of the file.
>
> Apparently, the offending line in the script is:
>
> if [[ -n $package_dir ]] &&  perl -pi -e
> "s@^#XXX=.*@XXX=$package_dir@" config.inc
>
> Commenting out that line solved my problem.  After staring at that
> line for awhile, I realized that the "if ... &&" construct was at
> least non-standard, if not an outright syntax error; removing the "if"
> solved the parse error.
>
> Peter - if memory serves, you made some parser changes recently and I
> just wanted to document this behavioral change.

The subject line was "zsh bug in . builtin" and the commit message was
Author: Peter Stephenson <pws@users.sourceforge.net>
Date:   Mon Jul 6 20:44:28 2009 +0000

    27092: missing then-clause for if wasn't an error


-- 
Mikael Magnusson

