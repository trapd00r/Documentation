From zsh-workers-return-18496-mason-zsh=primenet.com.au@sunsite.dk Fri May 02 09:33:47 2003
Return-Path: <zsh-workers-return-18496-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 19933 invoked from network); 2 May 2003 09:33:46 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 2 May 2003 09:33:46 -0000
Received: (qmail 25233 invoked by alias); 2 May 2003 09:33:38 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 18496
Received: (qmail 25223 invoked from network); 2 May 2003 09:33:38 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 2 May 2003 09:33:38 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [62.189.183.235] by sunsite.dk (MessageWall 1.0.8) with SMTP; 2 May 2003 9:33:37 -0000
Received: from exchange01.csr.com (unverified) by 
 (Content Technologies SMTPRS 4.2.1) with ESMTP id <T61f4e086a9c0a88d0151c@> for <zsh-workers@sunsite.dk>;
 Fri, 2 May 2003 10:43:02 +0100
Received: from csr.com (tinky-winky.csr.com [192.168.144.127]) by exchange01.csr.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2650.21)
	id JWCPX5Q5; Fri, 2 May 2003 10:31:49 +0100
To: zsh-workers@sunsite.dk
Subject: Re: zsh-4.1.1-test-1 on HP-UX 11 
In-reply-to: "Paul Ackersviller"'s message of "Thu, 01 May 2003 17:47:51 EDT."
             <20030501214751.GA19528@msi.ld> 
Date: Fri, 02 May 2003 10:33:35 +0100
Message-ID: <12254.1051868015@csr.com>
From: Peter Stephenson <pws@csr.com>

Paul Ackersviller wrote:
> The test release has been working well for me on HP-UX, but I'm
> getting a few failures on the tests because I have no zsh/zpty.
> However I never saw any configuration or compilation errors due to
> this -- is zpty supposed to get left out on HP-UX?

> Regarding the configuration, it seems --disable-dynamic is necessary
> on this system, at least with Softbench (I haven't tried gcc yet).

I'll put this in the MACHINES file.  I think Bart's point is that these
two issues are tied --- if you --disable-dynamic you need to change
`link=dynamic' to `link=static' on the zpty line in config.modules for
that to work.  However, zpty is particularly configuration dependent so
it's not impossible it needs tweaking.

Index: Etc/MACHINES
===================================================================
RCS file: /cvsroot/zsh/zsh/Etc/MACHINES,v
retrieving revision 1.17
diff -u -r1.17 MACHINES
--- Etc/MACHINES	14 Feb 2003 15:57:03 -0000	1.17
+++ Etc/MACHINES	2 May 2003 09:33:02 -0000
@@ -79,11 +79,15 @@
 	  is reported to fix.  An attempt to fix this in configure
 	  is apparently ineffective; more information would be appreciated
 	  as the maintainers do not have access to an HP-UX system.
+	  Recent reports indicated this is not necessary on recent versions
+	  of HP-UX 11.
 
-	  Problems with dynamic loading have been reported, but
-	  this should compile using the standard dlopen() function set
-	  (rather than the 10.20 shl_load() function set).  More details of
-	  any difficulties would be appreciated.
+	  The configure option `--disable-dynamic' may be necessary when
+	  compiling on HP-UX 11 using Softbench.  Various problems with
+	  dynamic loading have been reported; this should compile using the
+	  standard dlopen() function set (rather than the 10.20 shl_load()
+	  function set).  More details of any difficulties would be
+	  appreciated.
 
 	  Compiling with gcc 2.7.1 is known to fail with header file
 	  conflicts.  Use the HP ANSI C compiler.

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR Ltd., Science Park, Milton Road,
Cambridge, CB4 0WH, UK                          Tel: +44 (0)1223 692070


**********************************************************************
The information transmitted is intended only for the person or
entity to which it is addressed and may contain confidential 
and/or privileged material. 
Any review, retransmission, dissemination or other use of, or
taking of any action in reliance upon, this information by 
persons or entities other than the intended recipient is 
prohibited.  
If you received this in error, please contact the sender and 
delete the material from any computer.
**********************************************************************

