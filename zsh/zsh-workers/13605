From zsh-workers-return-13605-mason-zsh=primenet.com.au@sunsite.dk Mon Mar 12 12:22:39 2001
Return-Path: <zsh-workers-return-13605-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 6186 invoked from network); 12 Mar 2001 12:22:37 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 12 Mar 2001 12:22:37 -0000
Received: (qmail 24413 invoked by alias); 12 Mar 2001 12:22:29 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 13605
Received: (qmail 24402 invoked from network); 12 Mar 2001 12:22:29 -0000
To: zsh-workers@sunsite.auc.dk
Subject: New tar options -j
From: Chmouel Boudjnah <chmouel@mandrakesoft.com>
Date: 12 Mar 2001 14:22:06 +0100
Message-ID: <m3g0gjunpd.fsf@giants.mandrakesoft.com>
Lines: 41
User-Agent: Gnus/5.09 (Gnus v5.9.0) Emacs/21.0.95
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii


      -j, --bzip
              filter the archive through bzip2

Index: Completion/User/_tar
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/User/_tar,v
retrieving revision 1.2
diff -u -r1.2 _tar
--- Completion/User/_tar	2001/03/11 22:53:41	1.2
+++ Completion/User/_tar	2001/03/12 12:20:22
@@ -125,6 +125,8 @@
 
   if [[ $_tar_cmd = *z* ]]; then
     largs=-tzf
+  elif [[ $_tar_cmd = *j* ]]; then
+    largs=-tjf
   elif [[ $_tar_cmd = *y* ]]; then
     largs=-tyf
   elif [[ $_tar_cmd = *Z* ]]; then
Index: Completion/User/_tar_archive
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/User/_tar_archive,v
retrieving revision 1.1.1.6
diff -u -r1.1.1.6 _tar_archive
--- Completion/User/_tar_archive	2000/02/17 20:23:11	1.1.1.6
+++ Completion/User/_tar_archive	2001/03/12 12:20:22
@@ -16,7 +16,7 @@
 if [[ "$1" = *[tx]* ]]; then
   if [[ "$1" = *[zZ]* ]]; then
     _files "$expl[@]" -g '*.((tar|TAR).(gz|GZ|Z)|tgz)'
-  elif [[ "$1" = *[Iy]* ]]; then
+  elif [[ "$1" = *[Ijy]* ]]; then
     _files "$expl[@]" -g '*.(tar|TAR).bz2'
   else
     _files "$expl[@]" -g '*.(tar|TAR)'


-- 
MandrakeSoft Inc                     http://www.chmouel.org
                      --Chmouel

