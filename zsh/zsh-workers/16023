From zsh-workers-return-16023-mason-zsh=primenet.com.au@sunsite.dk Fri Oct 12 14:21:51 2001
Return-Path: <zsh-workers-return-16023-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8894 invoked from network); 12 Oct 2001 14:21:48 -0000
Received: from unknown (HELO sunsite.dk) (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 12 Oct 2001 14:21:48 -0000
Received: (qmail 25150 invoked by alias); 12 Oct 2001 14:21:32 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 16023
Received: (qmail 25115 invoked from network); 12 Oct 2001 14:21:28 -0000
From: Bart Schaefer <schaefer@brasslantern.com>
Message-Id: <1011012141943.ZM20480@candle.brasslantern.com>
Date: Fri, 12 Oct 2001 14:19:43 +0000
In-Reply-To: <3BC6F841.8AB53A42@yahoo.co.uk>
Comments: In reply to Oliver Kiddle <okiddle@yahoo.co.uk>
        "questions - calling matheval() for printf" (Oct 12,  3:03pm)
References: <3BC6F841.8AB53A42@yahoo.co.uk>
X-Mailer: Z-Mail (5.0.0 30July97)
To: Oliver Kiddle <okiddle@yahoo.co.uk>, zsh-workers@sunsite.dk
Subject: Re: questions - calling matheval() for printf
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Oct 12,  3:03pm, Oliver Kiddle wrote:
}
} What is going on with this errval and zerr/zwarn stuff? I don't
} entirely understand which I should be calling on errors and whether I
} am right to zero errval after calling matheval() and reading it?

(What's "errval"?  I grepped the source but didn't find it.)

In the long ago and far away, there was only zerr().  Calling zerr() would
cause zsh to print a message to stderr and abort whatever it was doing.

Aborting wasn't always what was wanted, though, so sometimes the code
called zerr() and then zeroed the global error flag.

Later zwarn() was introduced, so one could call zerr() when zsh should
abort and zwarn() when all it needed to do was print the error message.
A sweep was done to change zerr() calls to zwarn() as appropriate, but
some of them either weren't caught or it was unclear what should happen.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

