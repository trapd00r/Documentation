From zsh-users-return-11175-mason-zsh=primenet.com.au@sunsite.dk Fri Feb 02 15:45:21 2007
Return-Path: <zsh-users-return-11175-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17358 invoked from network); 2 Feb 2007 15:45:15 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.7 (2006-10-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=BAYES_00,FORGED_RCVD_HELO 
	autolearn=ham version=3.1.7
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 2 Feb 2007 15:45:15 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 52342 invoked from network); 2 Feb 2007 15:45:09 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 2 Feb 2007 15:45:09 -0000
Received: (qmail 19632 invoked by alias); 2 Feb 2007 15:44:55 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 11175
Received: (qmail 19623 invoked from network); 2 Feb 2007 15:44:55 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 2 Feb 2007 15:44:55 -0000
Received: (qmail 50258 invoked from network); 2 Feb 2007 15:44:55 -0000
Received: from vms044pub.verizon.net (206.46.252.44)
  by a.mx.sunsite.dk with SMTP; 2 Feb 2007 15:44:48 -0000
Received: from torch.brasslantern.com ([71.116.79.148])
 by vms044.mailsrvcs.net (Sun Java System Messaging Server 6.2-6.01 (built Apr
 3 2006)) with ESMTPA id <0JCU00H3XE7KT9C0@vms044.mailsrvcs.net> for
 zsh-users@sunsite.dk; Fri, 02 Feb 2007 09:40:33 -0600 (CST)
Received: from torch.brasslantern.com (localhost.localdomain [127.0.0.1])
	by torch.brasslantern.com (8.13.1/8.13.1) with ESMTP id l12FeWZY006741	for
 <zsh-users@sunsite.dk>; Fri, 02 Feb 2007 07:40:32 -0800
Received: (from schaefer@localhost)	by torch.brasslantern.com
 (8.13.1/8.13.1/Submit) id l12FeWkk006740	for zsh-users@sunsite.dk; Fri,
 02 Feb 2007 07:40:32 -0800
Date: Fri, 02 Feb 2007 07:40:32 -0800
From: Bart Schaefer <schaefer@brasslantern.com>
Subject: Re: [subshell or not subshell?] Re: echo ${pwd::="$( pwd/Next)"} failed
In-reply-to: <45C2F715.5050802@ulpmm.u-strasbg.fr>
To: zsh-users@sunsite.dk
Message-id: <070202074032.ZM6739@torch.brasslantern.com>
MIME-version: 1.0
X-Mailer: OpenZMail Classic (0.9.2 24April2005)
Content-type: text/plain; charset=us-ascii
References: <45C23EFE.5050002@ulpmm.u-strasbg.fr>
	<20070201195024.GA80015@dan.emsphone.com>
	<45C2D636.4020508@ulpmm.u-strasbg.fr>
	<20070202065230.GA44511@dan.emsphone.com>	<45C2F715.5050802@ulpmm.u-strasbg.fr>
Comments: In reply to Marc Chantreux <marc.chantreux@ulpmm.u-strasbg.fr>
 "[subshell or not subshell?] Re: echo ${pwd::="$( pwd/Next)"} failed" (Feb  2,
  9:32am)

On Feb 2,  9:32am, Marc Chantreux wrote:
}
} I found no way to execute it in the current shell (something like 
} ${a::=${( pwd/Next)}} ).

You're correct:  It's impossible to capture the standard output of a
command that is executing in the current shell, because the way unix
pipes work prevents the same process from talking to itself.

(It can be done with some effort, but it's hard to prevent it from
deadlocking because the same process can't simultaneously read and
write [unless it's multi-threaded, which shells aren't].)

The solution is to change pwd/Next to accept an argument which is the
name of a variable to which to assign the new password.

