From zsh-workers-return-27068-mason-zsh=primenet.com.au@sunsite.dk Sun Jun 28 19:04:21 2009
Return-Path: <zsh-workers-return-27068-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 19127 invoked from network); 28 Jun 2009 19:04:08 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.5
Received: from new-brage.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.254.104)
  by ns1.primenet.com.au with SMTP; 28 Jun 2009 19:04:08 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 90545 invoked from network); 28 Jun 2009 19:03:59 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 28 Jun 2009 19:03:59 -0000
Received: (qmail 24437 invoked by alias); 28 Jun 2009 19:03:51 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 27068
Received: (qmail 17812 invoked from network); 28 Jun 2009 18:57:09 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 28 Jun 2009 18:57:09 -0000
Received: from mail-fx0-f217.google.com (mail-fx0-f217.google.com [209.85.220.217])
	by bifrost.dotsrc.org (Postfix) with ESMTP id E09CF8027106
	for <zsh-workers@sunsite.dk>; Sun, 28 Jun 2009 20:57:04 +0200 (CEST)
Received: by fxm17 with SMTP id 17so1461979fxm.45
        for <zsh-workers@sunsite.dk>; Sun, 28 Jun 2009 11:57:03 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:from:to:subject:date
         :user-agent:mime-version:content-type:content-transfer-encoding
         :content-disposition:message-id;
        bh=TEppmHbsKlnC/i412wZFzvlhzSuaQGE8/WuAeQ8/kmk=;
        b=CpEsSN3duf6PcxceD8S6ksNwN4BY5XcTth//riJECqAbX0UmWunqdktfsQTSOjEI7q
         a9jfM5LpjQQKW6jPHkY4XhnnMFlqPoWD95nTBvVonTbVcB8gWcO7FpDyMLA+dS4cj5gT
         s15IFvZclfLDp8GllZ05RFGVIKSiK9iryuesM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=from:to:subject:date:user-agent:mime-version:content-type
         :content-transfer-encoding:content-disposition:message-id;
        b=ILbFScMvPdZPvI6KjTWYKbFeMOOX+Isd6uz7jZULwKjukhimElo7Iix8gKy1Dcz939
         yHqH6F94m1Nk5DQXiwaCyGZB3krFtnU4PExtTyqsjaeV+sYBfv+g6t0DK0l4nHgs0o1c
         CPn9+girD4R94Hp1pTRt+ORbGE5MDmJRyiQTw=
Received: by 10.86.94.13 with SMTP id r13mr250851fgb.19.1246215423843;
        Sun, 28 Jun 2009 11:57:03 -0700 (PDT)
Received: from localhost.localnet (hve-0778.koleje.cuni.cz [78.128.187.16])
        by mx.google.com with ESMTPS id 4sm4864362fgg.22.2009.06.28.11.57.03
        (version=SSLv3 cipher=RC4-MD5);
        Sun, 28 Jun 2009 11:57:03 -0700 (PDT)
From: =?utf-8?q?Tom=C3=A1=C5=A1_Nechutn=C3=BD?= <nechtom@gmail.com>
To: zsh-workers@sunsite.dk
Subject: Multi-line prompt and terminal window resize
Date: Sun, 28 Jun 2009 20:55:34 +0200
User-Agent: KMail/1.11.4 (Linux/2.6.30-cust; KDE/4.2.4; i686; ; )
MIME-Version: 1.0
Content-Type: Text/Plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200906282055.34430.nechtom@gmail.com>
X-Virus-Scanned: ClamAV 0.94.2/9516/Sun Jun 28 20:08:45 2009 on bifrost
X-Virus-Status: Clean

Hello,

I have multiline prompt:

PROMPT="%n:%~
$ "

I noticed that after resizing terminal window (konsole and urxvt), zsh adds 
extra first line of prompt. But only after startup or when you type something 
before resizing (eg. when you resize n-times and don't type anything it 
happens just once).

