From zsh-workers-return-16084-mason-zsh=primenet.com.au@sunsite.dk Fri Oct 19 09:29:35 2001
Return-Path: <zsh-workers-return-16084-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 21823 invoked from network); 19 Oct 2001 09:29:35 -0000
Received: from unknown (HELO sunsite.dk) (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 19 Oct 2001 09:29:35 -0000
Received: (qmail 19526 invoked by alias); 19 Oct 2001 09:29:30 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 16084
Received: (qmail 19513 invoked from network); 19 Oct 2001 09:29:29 -0000
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15311.62071.434241.26495@gargle.gargle.HOWL>
Date: Fri, 19 Oct 2001 11:29:27 +0200
To: zsh-workers@sunsite.dk
Subject: Re: ignore-line style
In-Reply-To: <3BCF0416.D4BA1B79@yahoo.co.uk>
References: <3BC31D30.11F61508@yahoo.co.uk>
	<15306.60590.817177.439249@gargle.gargle.HOWL>
	<15309.34622.18416.249769@gargle.gargle.HOWL>
	<3BCF0416.D4BA1B79@yahoo.co.uk>
X-Mailer: VM 6.92 under 21.1 (patch 3) "Acadia" XEmacs Lucid


Oliver Kiddle wrote:

> ...
> 
> As far as I can tell, this works very well. I've included testing of
> this mixed with the ignored-patterns style and all seems well. The
> explanation makes sense so hopefully there are no "other effects".
> Thanks.

I was fearing problems with the ignore-parents style, but all the
things I tried worked as before.

> If this constitutes having got it working better as you said in you
> first reply then I'd like to look at adding some of the suggestions I
> made.

Yep, I think. We should probably make that depend on another style
anyway (one that default to true -- ignore-same or something better).

> For the styles, that was quoting to avoid globs, file like globs,
> skipping command words and skipping options. To achieve file like
> globs, one way would be to eval the words (something similar to
> _expand) which would have the advantage of expanding braces and
> variables too but process substitutions would be a problem. Have you
> got any other ideas or suggestions?

Only what I think you are thinking about anyway: making some of the
new values modifiers, e.g.:

  zstyle '...' ignore-line other quote

where `quote' is a modifier `working on' `other'.

> The other suggestion was modifying _diff etc to set up the ignoring
> without the need for a style. Can that be done better at the _files or
> _arguments level at all? For what situations do you use the style and
> can anyone think of any other commands where this ignoring could be
> useful?

Damn, I hoped you had an idea, ready to be implemented ;-)

I'm not sure, either. Probably the cleanest solution would be to give
_description an option to tell it which ignore-line value should be
used as the default. But that would need changes in every utility
function calling _description to pass down that option, which isn't 
nice.

And using a completion-system-global parameter to pass this
information to _description isn't clean either.

Hm.


Bye
  Sven

-- 
Sven Wischnowsky                    wischnow@informatik.hu-berlin.de

