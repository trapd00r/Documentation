<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
  <meta name="generator" content=
  "HTML Tidy for Linux (vers 25 March 2009), see www.w3.org">
  <meta http-equiv="Content-Type" content=
  "text/html; charset=utf-8">

  <title>Git Magic - Chapitre&nbsp;3.&nbsp;Clonons gaiement</title>
  <link rel="stylesheet" href="default.css" type="text/css">
  <meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
  <link rel="home" href="index.html" title="Git Magique">
  <link rel="up" href="index.html" title="Git Magique">
  <link rel="prev" href="ch02.html" title=
  "Chapitre&nbsp;2.&nbsp;Astuces de base">
  <link rel="next" href="ch04.html" title=
  "Chapitre&nbsp;4.&nbsp;La sorcellerie des branches">
</head>

<body bgcolor="white" text="black" link="#0000FF" vlink="#840084"
alink="#0000FF">
    <div class="toc">
      <ul>
<li><b>Git Magic</b></li>
        <li>
          <span class="preface"><a href=
          "index.html">Préface</a></span>

          <ul>
            <li><span class="section"><a href=
            "index.html#_merci">Merci&nbsp;!</a></span></li>

            <li><span class="section"><a href=
            "index.html#_licence">Licence</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch01.html">1.
          Introduction</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch01.html#_le_travail_comme_un_jeu">Le travail comme
            un jeu</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_gestion_de_versions">Gestion de
            versions</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_gestion_distribu%C3%A9e">Gestion
            distribuée</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_une_superstition_idiote">Une superstition
            idiote</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_conflits_fusionnels">Conflits
            fusionnels</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch02.html">2. Astuces de
          base</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch02.html#_enregistrer_l_%C3%A9tat_courant">Enregistrer
            l'état courant</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_ajouter_supprimer_renommer">Ajouter,
            supprimer, renommer</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_annuler_reprendre_avanc%C3%A9">Annuler/Reprendre
            avancé</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_reprise_revert">Reprise
            (revert)</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_g%C3%A9n%C3%A9ration_du_journal_des_modifications_changelog">
            Génération du journal des modifications
            (changelog)</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_t%C3%A9l%C3%A9charger_des_fichiers">Télécharger
            des fichiers</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_le_dernier_cri">Le dernier
            cri</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_publication_instantan%C3%A9e">Publication
            instantanée</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_qu_8217_ai_je_fait">Qu’ai-je
            fait&nbsp;?</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_exercice">Exercice</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch03.html">3. Clonons
          gaiement</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch03.html#_synchronisation_entre_machines">Synchronisation
            entre machines</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_gestion_classique_des_sources">Gestion
            classique des sources</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_d%C3%A9p%C3%B4ts_nus">Dépôts
            nus</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_envoi_vs_rapatriement_push_vs_pull">Envoi
            vs rapatriement (push vs pull)</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_forker_un_projet">Forker un
            projet</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_syst%C3%A8me_ultime_de_sauvegarde">Système
            ultime de sauvegarde</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_le_multi_t%C3%A2che_%C3%A0_la_vitesse_de_la_lumi%C3%A8re">
            Le multi-tâche à la vitesse de la
            lumière</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_gu%C3%A9rilla_de_la_gestion_de_versions">Guérilla
            de la gestion de versions</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_mercurial">Mercurial</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_bazaar">Bazaar</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_pourquoi_j_8217_utilise_git">Pourquoi
            j’utilise Git</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch04.html">4. La
          sorcellerie des branches</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch04.html#_la_touche_du_chef">La touche du
            chef</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_travail_temporaire">Travail
            temporaire</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_corrections_rapides">Corrections
            rapides</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_fusionner">Fusionner</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_workflow_sans_interruption">Workflow sans
            interruption</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_r%C3%A9organiser_le_foutoir">Réorganiser le
            foutoir</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_gestion_des_branches">Gestion des
            branches</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_les_branches_temporaires">Les branches
            temporaires</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_travailler_comme_il_vous_chante">Travailler
            comme il vous chante</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch05.html">5. Les leçons
          de l’histoire</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch05.html#_je_me_corrige_8230">Je me
            corrige…</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_8230_et_bien_plus">… et bien
            plus</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_les_changements_locaux_en_dernier">Les
            changements locaux en dernier</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_r%C3%A9%C3%A9criture_de_l_8217_histoire">Réécriture
            de l’histoire</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_faire_l_8217_histoire">Faire
            l’histoire</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_qu_8217_est_ce_qui_a_tout_cass%C3%A9">Qu’est-ce
            qui a tout cassé&nbsp;?</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_qui_a_tout_cass%C3%A9">Qui a tout
            cassé&nbsp;?</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_exp%C3%A9rience_personnelle">Expérience
            personnelle</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch06.html">6. Git
          multijoueur</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch06.html#_qui_suis_je">Qui
            suis-je&nbsp;?</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_git_via_ssh_et_http">Git via SSH et
            HTTP</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_git_via_n_8217_importe_quoi">Git via
            n’importe quoi</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_les_patches_la_monnaie_d_%C3%A9change_globale">
            Les patches&nbsp;: la monnaie d'échange
            globale</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_le_num%C3%A9ro_de_votre_correspondant_a_chang%C3%A9">
            Le numéro de votre correspondant a
            changé</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_les_branches_distantes">Les branches
            distantes</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_d%C3%A9p%C3%B4ts_distants_multiples">Dépôts
            distants multiples</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_mes_pr%C3%A9f%C3%A9rences">Mes
            préférences</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch07.html">7. La maîtrise
          de Git</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch07.html#_publication_de_sources">Publication de
            sources</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_g%C3%A9rer_le_changement">Gérer le
            changement</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_mon_commit_est_trop_gros">Mon commit est
            trop gros&nbsp;!</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_l_8217_index_l_8217_aire_d_8217_assemblage">
            L’index&nbsp;: l’aire d’assemblage</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_ne_perdez_pas_la_t%C3%AAte">Ne perdez pas
            la tête</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_chasseur_de_t%C3%AAte">Chasseur de
            tête</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_construire_au_dessus_de_git">Construire
            au-dessus de Git</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_audacieuses_acrobaties">Audacieuses
            acrobaties</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_se_pr%C3%A9munir_des_commits_erron%C3%A9s">Se
            prémunir des commits erronés</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch08.html">8. Les secrets
          révélés</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch08.html#_l_8217_invisibilit%C3%A9">L’invisibilité</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_l_8217_int%C3%A9grit%C3%A9">L’intégrité</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_l_8217_intelligence">L’intelligence</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_l_8217_indexation">L’indexation</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_les_origines_de_git">Les origines de
            Git</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_la_base_d_8217_objets">La base
            d’objets</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_les_blobs">Les blobs</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_les_arbres_literal_trees_literal">Les
            arbres (<code class=
            "literal">trees</code>)</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_les_commits">Les commits</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_indiscernable_de_la_magie">Indiscernable de
            la magie</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch09.html">9. Appendix A:
          Les lacunes de Git</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch09.html#_les_faiblesses_de_sha1">Les faiblesses de
            SHA1</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_microsoft_windows">Microsoft
            Windows</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_des_fichiers_sans_relation">Des fichiers
            sans relation</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_qui_modifie_quoi">Qui modifie
            quoi&nbsp;?</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_l_8217_historique_d_8217_un_fichier">L’historique
            d’un fichier</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_le_clone_initial">Le clone
            initial</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_les_projets_versatiles">Les projets
            versatiles</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_compteur_global">Compteur
            global</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_les_dossiers_vides">Les dossiers
            vides</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_le_premier_commit">Le premier
            commit</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_bizarreries_de_l_8217_interface">Bizarreries
            de l’interface</a></span></li>
          </ul>
        </li>

        <li><span class="chapter"><a href="ch10.html">10. Appendix
        B: Traduire ce guide</a></span></li>
      </ul>
    </div>
<div class="content">
  <div class="chapter" title=
  "Chapitre&nbsp;3.&nbsp;Clonons gaiement">
    <div class="titlepage">
      <div>
        <div>
          <h2 class="title"><a name=
          "_clonons_gaiement"></a>Chapitre&nbsp;3.&nbsp;Clonons
          gaiement</h2>
        </div>
      </div>
    </div>

    <p>Avec les anciens systèmes de gestion de versions,
    l’opération standard pour obtenir des fichiers est le checkout.
    Vous obtenez un ensemble de fichiers correspondant à un état
    particulier précédemment enregistré.</p>

    <p>Avec Git et d’autres systèmes distribués de gestion de
    versions, le clonage est l’opération standard. Pour obtenir des
    fichiers, on crée un <span class=
    "emphasis"><em>clone</em></span> du dépôt entier. En d’autres
    termes, il s’agit de faire un <a class="ulink" href=
    "http://fr.wikipedia.org/wiki/Site_miroir" target=
    "_top">miroir</a> du serveur central. Tout ce qui peut se faire
    sur le dépôt central peut être fait sur le vôtre.</p>

    <div class="section" title="Synchronisation entre machines">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_synchronisation_entre_machines"></a>Synchronisation
            entre machines</h2>
          </div>
        </div>
      </div>

      <p>Je peux imaginer faire des archives <span class=
      "strong"><strong>tar</strong></span> ou utiliser <span class=
      "strong"><strong>rsync</strong></span> pour des sauvegardes
      ou une synchronisation simple. Mais parfois j'édite sur mon
      portable, d’autres fois sur mon fixe, et les deux peuvent ne
      pas avoir communiqué entre temps.</p>

      <p>Initialisez un dépôt Git et faites un <span class=
      "strong"><strong>commit</strong></span> de vos fichiers
      depuis une machine. Ensuite sur l’autre&nbsp;:</p>
      <pre class="literallayout">
$ git clone autre.ordinateur:/chemin/vers/les/fichiers
</pre>

      <p>pour créer une deuxième copie de ces fichiers et du dépôt
      Git.</p>

      <p>À partir de ce moment,</p>
      <pre class="literallayout">
$ git commit -a
$ git pull autre.ordinateur:/chemin/vers/les/fichiers HEAD
</pre>

      <p>ira chercher l'état des fichiers sur l’autre ordinateur
      pour mettre à jour celui sur lequel vous travaillez. Si
      récemment vous avez fait des modifications d’un même fichier
      en conflit entre elles, Git vous le signalera et vous devrez
      répéter à nouveau le commit après avoir résolu ces
      conflits.</p>
    </div>

    <div class="section" title="Gestion classique des sources">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_gestion_classique_des_sources"></a>Gestion classique
            des sources</h2>
          </div>
        </div>
      </div>

      <p>Initialisez le dépôt Git de vos fichiers&nbsp;:</p>
      <pre class="literallayout">
$ git init
$ git add .
$ git commit -m "Commit initial"
</pre>

      <p>Sur le serveur central, initialisez un <span class=
      "emphasis"><em>dépôt nu</em></span> (<span class=
      "strong"><strong>bare</strong></span> dans la terminologie
      Git) dans un dossier quelconque&nbsp;:</p>
      <pre class="literallayout">
$ mkdir proj.git
$ cd proj.git
$ git init --bare
$  # variante en une ligne : GIT_DIR=proj.git git init
</pre>

      <p>Si besoin, démarrez le démon (service)&nbsp;:</p>
      <pre class="literallayout">
$ git daemon --detach  # peut être tourne-t-il déjà
</pre>

      <p>Pour les services d’hébergement en ligne, suivez les
      instructions fournies pour mettre en place le dépôt Git
      initialement vide. En général il s’agit de remplir un
      formulaire sur une page web.</p>

      <p><span class="emphasis"><em>Poussez</em></span> votre
      projet vers le serveur central en utilisant&nbsp;:</p>
      <pre class="literallayout">
$ git push git://serveur.central/chemin/du/proj.git HEAD
</pre>

      <p>Pour obtenir les sources, un développeur saisit&nbsp;:</p>
      <pre class="literallayout">
$ git clone git://serveur.central/chemin/du/proj.git
</pre>

      <p>Après avoir fait des modifications, le développeur les
      enregistre en local&nbsp;:</p>
      <pre class="literallayout">
$ git commit -a
</pre>

      <p>Pour se mettre à jour par rapport à la dernière
      version&nbsp;:</p>
      <pre class="literallayout">
$ git pull
</pre>

      <p>Tout conflit lors de la fusion doit être résolu puis
      validé&nbsp;:</p>
      <pre class="literallayout">
$ git commit -a
</pre>

      <p>Pour envoyer les modifications locales vers le dépôt
      central&nbsp;:</p>
      <pre class="literallayout">
$ git push
</pre>

      <p>Si le serveur principal a de nouvelles modifications dues
      à d’autres développeurs, l’envoi échoue et le développeur
      doit se mettre à jour de la dernière version, résoudre les
      éventuels conflits de fusion, puis essayer à nouveau.</p>
    </div>

    <div class="section" title="Dépôts nus">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_d%C3%A9p%C3%B4ts_nus"></a>Dépôts nus</h2>
          </div>
        </div>
      </div>

      <p>Un dépôt nu (<span class="strong"><strong>bare
      repository</strong></span>) est nommé ainsi car il n’a pas de
      dossier de travail : il ne contient que des fichiers qui sont
      normalement cachés dans le sous dossier <code class=
      "literal">.git</code>. En d’autres termes, il ne conserve que
      l’historique d’un projet et ne contient jamais le rendu d’une
      version donnée.</p>

      <p>Un dépôt nu joue un rôle similaire à celui du serveur
      principal dans un système de gestion de versions centralisé :
      le réceptacle de vos projets. Les développeurs clonent vos
      projets à partir de celui-ci et y poussent les dernières
      modifications officielles. En général il est placé sur un
      serveur qui ne fait quasiment que ce travail de distribution
      de l’information. Le développement s’opère sur les clones de
      sorte que le dépôt principal peut se passer d’un dossier de
      travail.</p>

      <p>Beaucoup des commandes de Git échouent sur un dépôt nu
      tant que la variable d’environnement <code class=
      "literal">GIT_DIR</code> n’est pas renseignée avec le chemin
      vers le dépôt ou que l’option <code class=
      "literal">--bare</code> n’est pas utilisée.</p>
    </div>

    <div class="section" title=
    "Envoi vs rapatriement (push vs pull)">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_envoi_vs_rapatriement_push_vs_pull"></a>Envoi vs
            rapatriement (push vs pull)</h2>
          </div>
        </div>
      </div>

      <p>Pourquoi a-t-on introduit la commande <code class=
      "literal">push</code> (<span class=
      "emphasis"><em>pousser</em></span> ou <span class=
      "emphasis"><em>envoyer</em></span>) au lieu de se contenter
      de la commande <code class="literal">pull</code>
      (<span class="emphasis"><em>tirer</em></span> ou <span class=
      "emphasis"><em>rapatrier</em></span>) plus familière&nbsp;?
      Premièrement, la commande <code class="literal">pull</code>
      échoue sur un dépôt nu&nbsp;: il faut y utiliser la commande
      <code class="literal">fetch</code> dont nous parlerons plus
      tard. Mais même si nous conservions un dépôt standard sur le
      serveur central, y rapatrier les modifications serait peu
      pratique. Nous devrions d’abord nous connecter au serveur et
      donner en argument à la commande <code class=
      "literal">pull</code> l’adresse de la machine depuis laquelle
      nous souhaitons rapatrier des modifications. Des pare-feux
      peuvent éventuellement nous embêter, et comment faire si nous
      n’avons pas d’accès <code class="literal">shell</code> au
      serveur&nbsp;?</p>

      <p>Quoi qu’il en soit, ce cas mis à part, nous décourageons
      l’envoi (&nbsp;en comparaison du rapatriement&nbsp;) parce
      que cela peut entraîner des confusions lorsque la destination
      possède un dossier de travail.</p>

      <p>En résumé, pendant votre phase d’apprentissage de Git,
      n’utilisez l’envoi (&nbsp;push&nbsp;) que lorsque la
      destination est un dépôt nu&nbsp;; sinon rapatriez
      (&nbsp;pull&nbsp;).</p>
    </div>

    <div class="section" title="Forker un projet">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_forker_un_projet"></a>Forker un projet</h2>
          </div>
        </div>
      </div>

      <p>Vous en avez marre de la manière dont est géré un
      projet&nbsp;? Vous pensez pouvoir faire mieux&nbsp;? Dans ce
      cas, sur votre serveur&nbsp;:</p>
      <pre class="literallayout">
$ git clone git://serveur.principal/chemin/vers/les/fichiers
</pre>

      <p>Ensuite, informez tout le monde du fork de ce projet sur
      votre serveur.</p>

      <p>Par la suite, vous pouvez fusionner les modifications
      venant du projet originel grâce à&nbsp;:</p>
      <pre class="literallayout">
$ git pull
</pre>
    </div>

    <div class="section" title="Système ultime de sauvegarde">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_syst%C3%A8me_ultime_de_sauvegarde"></a>Système ultime
            de sauvegarde</h2>
          </div>
        </div>
      </div>

      <p>Vous voulez des archives redondantes et géographiquement
      distribuées, permettant de faire face à un désastre&nbsp;? Si
      votre projet a beaucoup de développeurs, ne faites
      rien&nbsp;! Chaque clone de votre code est de fait une
      sauvegarde. Non seulement de l'état actuel, mais de
      l’historique complet. Grâce aux empreintes cryptographiques,
      si le clone de quelqu’un est corrompu, il sera repéré dès
      qu’il tentera de communiquer avec d’autres.</p>

      <p>Si votre projet n’est pas si populaire, trouvez autant de
      serveurs que possible afin d’héberger vos clones.</p>

      <p>Le vrai paranoïaque devrait toujours noter la dernière
      empreinte SHA1 de 20 octets du HEAD dans un endroit sûr. Ce
      doit être sûr, pas privé. Par exemple, la publier dans un
      quotidien marcherait bien, parce qu’il est difficile de
      réaliser une attaque modifiant l’ensemble des exemplaires
      d’un journal.</p>
    </div>

    <div class="section" title=
    "Le multi-tâche à la vitesse de la lumière">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_le_multi_t%C3%A2che_%C3%A0_la_vitesse_de_la_lumi%C3%A8re">
            </a>Le multi-tâche à la vitesse de la lumière</h2>
          </div>
        </div>
      </div>

      <p>Imaginons que vous souhaitiez travailler sur plusieurs
      fonctionnalités en parallèle. Dans ce cas validez
      (<code class="literal">commit</code>) votre projet et
      lancez&nbsp;:</p>
      <pre class="literallayout">
$ git clone . /un/nouveau/dossier
</pre>

      <p>Grâce aux <a class="ulink" href=
      "http://fr.wikipedia.org/wiki/Lien_mat%C3%A9riel" target=
      "_top">liens matériels</a>, les clones locaux sont créés plus
      rapidement et occupent moins de place que de simples
      copies.</p>

      <p>Vous pouvez maintenant travailler simultanément sur deux
      fonctionnalités indépendantes. Par exemple vous pouvez
      modifier l’un des clones pendant que l’autre est en cours de
      compilation. À tout moment vous pouvez valider (<code class=
      "literal">commit</code>) vos modifications puis rapatrier
      (<code class="literal">pull</code>) les modifications depuis
      l’autre clone.</p>
      <pre class="literallayout">
$ git pull /mon/autre/clone HEAD
</pre>
    </div>

    <div class="section" title=
    "Guérilla de la gestion de versions">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_gu%C3%A9rilla_de_la_gestion_de_versions"></a>Guérilla
            de la gestion de versions</h2>
          </div>
        </div>
      </div>

      <p>Alors que vous travaillez sur un projet qui utilise un
      autre système de gestion de versions, Git vous manque&nbsp;?
      Dans ce cas, initialisez un dépôt Git dans votre dossier de
      travail.</p>
      <pre class="literallayout">
$ git init
$ git add .
$ git commit -m "Commit initial"
</pre>

      <p>puis clonez-le&nbsp;:</p>
      <pre class="literallayout">
$ git clone . /un/nouveau/dossier
</pre>

      <p>Allez ensuite dans le nouveau dossier et travaillez plutôt
      là, utilisant Git comme vous le voulez. De temps à autre,
      quand vous voulez vous synchroniser avec les autres,
      rendez-vous dans le dossier de départ, synchronisez-le en
      utilisant l’autre système de gestion de version, puis
      saisissez&nbsp;:</p>
      <pre class="literallayout">
$ git add .
$ git commit -m "Synchro avec les autres"
</pre>

      <p>Ensuite allez dans le nouveau dossier et lancez&nbsp;:</p>
      <pre class="literallayout">
$ git commit -a -m "Description de mes modifications"
$ git pull
</pre>

      <p>La procédure pour partager vos modifications avec les
      autres dépend de l’autre système de gestion de versions. Le
      nouveau dossier contient les fichiers avec vos modifications.
      Lancez toute commande de l’autre système de gestion de
      versions nécessaire pour les envoyer au dépôt central.</p>

      <p>Subversion, qui est peut être le meilleur système de
      gestion de versions centralisé est utilisé par d’innombrables
      projets. La commande <span class="strong"><strong>git
      svn</strong></span> automatise la procédure ci-dessus pour
      les dépôts Subversion, et peut aussi être utilisée pour
      exporter un projet Git vers un dépôt Subversion.</p>
    </div>

    <div class="section" title="Mercurial">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_mercurial"></a>Mercurial</h2>
          </div>
        </div>
      </div>

      <p>Mercurial est un système de gestion de versions similaire
      qui peut travailler quasiment sans heurt avec Git. Avec le
      plugin <code class="literal">hg-git</code> un utilisateur de
      Mercurial peut, sans rien perdre, envoyer (push) vers ou
      rapatrier (pull) depuis un dossier Git.</p>

      <p>Téléchargez le plugin <code class="literal">hg-git</code>
      avec Git&nbsp;:</p>
      <pre class="literallayout">
$ git clone git://github.com/schacon/hg-git.git
</pre>

      <p>ou Mercurial:</p>
      <pre class="literallayout">
$ hg clone http://bitbucket.org/durin42/hg-git/
</pre>

      <p>Malheureusement, il ne semble pas y avoir de plugin
      analogue pour Git. Pour cette raison, il semble préférable
      d’utiliser Git plutôt que Mercurial pour le dépôt principal.
      Avec un dépôt Mercurial, il faut généralement un volontaire
      qui maintienne un dépôt Git en parallèle alors que, grâce au
      plugin <code class="literal">hg-git</code>, un dépôt Git fait
      l’affaire même pour les utilisateurs de Mercurial.</p>

      <p>Bien que ce plugin puisse convertir un dépôt Mercurial en
      un dépôt Git en le poussant dans un dépôt vide, cette tâche
      est plus simple avec le script <code class=
      "literal">hg-fast-export-git</code>, disponible
      via&nbsp;:</p>
      <pre class="literallayout">
$ git clone git://repo.or.cz/fast-export.git
</pre>

      <p>Pour faire une conversion, dans un nouveau
      dossier&nbsp;:</p>
      <pre class="literallayout">
$ git init
$ hg-fast-export.sh -r /depot/hg
</pre>

      <p>ceci après avoir ajouté le script à votre <code class=
      "literal">$PATH</code>.</p>
    </div>

    <div class="section" title="Bazaar">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name="_bazaar"></a>Bazaar</h2>
          </div>
        </div>
      </div>

      <p>Nous allons rapidement évoquer Bazaar parce que c’est le
      système de gestion de versions distribué libre le plus
      populaire après Git et Mercurial.</p>

      <p>Bazaar à l’avantage d’avoir plus de recul, étant donné
      qu’il est relativement jeune&nbsp;; ses concepteurs ont pu
      tirer les leçons du passé et éviter des petits écueils
      historiques. De plus ses développeurs ont le souci de la
      portabilité et de l’interopérabilité avec les autres systèmes
      de gestion de versions.</p>

      <p>Un plugin <code class="literal">bzr-git</code> permet aux
      utilisateurs de Bazaar de travailler avec les dépôts Git dans
      une certaine mesure, et permet de le faire de manière
      incrémentale, tandis que <code class=
      "literal">bzr-fast-export</code> est fait pour les
      conversions uniques.</p>
    </div>

    <div class="section" title="Pourquoi j’utilise Git">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_pourquoi_j_8217_utilise_git"></a>Pourquoi j’utilise
            Git</h2>
          </div>
        </div>
      </div>

      <p>Au départ j’ai choisi Git parce que j’ai entendu qu’il
      gérait l’inimaginablement ingérable source du noyaux Linux.
      Je n’ai jamais ressenti le besoin d’en changer. Git m’a rendu
      de fiers services et je ne me suis toujours pas heurté à ses
      limites. Comme j’utilise surtout Linux, les éventuels
      problèmes sur d’autres plateformes n’entrent pas en ligne de
      compte.</p>

      <p>De plus je préfère les programmes C et les scripts bash
      aux exécutables comme les scripts Pythons&nbsp;: il y a moins
      de dépendances et je suis accro aux temps d’exécution
      rapides.</p>

      <p>J’ai réfléchi à la manière d’améliorer Git, allant jusqu'à
      écrire mes propres outils de type Git, mais uniquement à des
      fins de recherche. Même si j’avais terminé ce projet j’aurais
      tout de même continué avec Git vu que les avantages sont trop
      peu significatifs pour justifier l’utilisation d’un système
      farfelu.</p>

      <p>Bien sur, vos besoins et envies diffèrent sûrement et vous
      pouvez très bien vous trouver mieux avec un autre système.
      Néanmoins vous ne pouvez pas faire une grosse erreur en
      choisissant Git.</p>
    </div>
  </div><script type="text/javascript" src="find_selflink.js">
</script><script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
  document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
  </script><script type="text/javascript">
var pageTracker = _gat._getTracker("UA-1901330-2");
  pageTracker._initData();
  pageTracker._trackPageview();
  </script>
</div>
</div><div class="footer"><a href="/~blynn/">Ben Lynn</a></div>
</body>
</html>
