From zsh-workers-return-10597-mason-zsh=primenet.com.au@sunsite.auc.dk Sun Apr 09 18:55:52 2000
Return-Path: <zsh-workers-return-10597-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 14101 invoked from network); 9 Apr 2000 18:55:51 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 9 Apr 2000 18:55:51 -0000
Received: (qmail 29341 invoked by alias); 9 Apr 2000 18:55:36 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 10597
Received: (qmail 29269 invoked from network); 9 Apr 2000 18:55:29 -0000
To: zsh-workers@sunsite.auc.dk (Zsh hackers list)
Subject: 3.1.6-dev-22
Date: Sun, 09 Apr 2000 19:54:40 +0100
From: Peter Stephenson <pws@pwstephenson.fsnet.co.uk>
Message-Id: <E12eMqy-0005cC-00.2000-04-09-19-54-36@cmailg7.svr.pol.co.uk>

I have uploaded
  ftp://ftp.zsh.org/zsh/development/zsh-3.1.6-dev-22.tar.gz
which is also tagged in the CVS archive as zsh-3_1_6-dev-22 .
(At least, the message says it worked, although I can't see it there yet.)

The changes are as below.  There should be no files missing this time.

One change I haven't posted is for Completion/Core/compinstall, since
essentially the entire file has changed since the last posted version, and
it's quite long.  Most of the change was actually in dev-21.  This time, it
is now usable and consists of all I expect to do with styles before the
next release.  It should now be a painless way of getting your styles set
the way you want.  I would welcome any comments --- even quite picky ones,
since it's supposed to be reasonably idiot-resistant to a depth of about
5m, though sample patches for any suggested changes would be appreciated.

It's now time for anybody to suggest things which need doing (and which are
likely actually to get done) before 3.1.7, else I shall start producing
pre-releases.  The documentation will need reading through again, which can
be concurrent with the pre-release sequence.  The variable setting code
could do with a biggish overhaul after the release, so I don't plan to poke
around too much there.  I would appreciate any opinions on whether fixing
`export' to work locally in functions is a good idea.  We can now do export
-g to refer to the global variable --- but it's been the way it is for so
long that maybe a change would cause trouble.  It's not suitable to have an
option for this.

2000-04-09  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Config/version.mk: 3.1.6-dev-22.

	* Completion/Core/compinstall, Doc/Zsh/compsys.yo:  rewrite
	of compinstall to set styles.  Most of this was already in
	3.1.6-dev-21.

2000-04-08  Bart Schaefer  <schaefer@zsh.org>

	* 10594: Functions/Prompts/prompt_bart_setup: Fix index into
	$history in prompt_bart_precmd.

	* 10591: Chmouel Boudjnah: Completion/User/_fakeroot: Completion
	for the fakeroot program.

	* 10590: Chmouel Boudjnah: Completion/Linux/_rpm: Signature
	checking completes only local package files.

2000-04-07  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 10584: Doc/Zsh/mod_stat.yo, Src/Modules/stat.c: -o shows
	numeric file modes in octal.

2000-04-07  Bart Schaefer <schaefer@zsh.org>

	* 10582: Src/exec.c: Apply STTY only to process group leaders.

	* 10581: Etc/BUGS, Src/Modules/zpty.c: Note a fixed bug; typo.

	* Chmouel Boudjnah: 10562: Completion/Linux/_rpm: Complete
	only .src.rpm files for "rpm --rebuild".

2000-04-07  Sven Wischnowsky <wischnow@informatik.hu-berlin.de>

	* 10579: Completion/Base/_arguments, Completion/Base/_values,
 	Completion/Core/_alternative: make sure caller-supplied
 	explanation takes precedence
	
	* 10575: Completion/User/_make: complete make targets of the form
 	`foo bar:'
	
	* 10573: Src/Zle/compmatch.c: cursor placed on wrong word part
 	with ** match spec
	
	* 10571: Completion/Core/_main_complete,
 	Completion/Core/_path_files: missing initialisations, -W with
 	multiple directories didn't work

2000-04-06  Clint Adams  <schizo@debian.org>

	* Felix Rosencrantz: 10564: Completion/X/_x_display:
	typo in _wanted.

	* 10565: acconfig.h, configure.in, Src/exec.c:
	add configure option for function depth limit.

	* 10566: Src/glob.c: change invocation of patgetglobflags
	to use two arguments.

2000-04-06  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 10547: Doc/Zsh/expn.yo, Misc/globtests, Src/pattern.c,
	Src/subst.c, Test/11glob.ztst, Test/ztst.zsh: add
	(#s) and (#e) to match at start and end of string.

2000-04-06  Andrew Main  <zefram@zsh.org>

	* zefram2: Src/lex.c: Support "3&> foo" etc.

2000-04-06  Andrew Main  <zefram@zsh.org>

	* zefram1: configure.in, Etc/zsh-development-guide: List of tools
	required for development work, and a little more conspicuous
	explanation of the config.status hack.

2000-04-06  Sven Wischnowsky <wischnow@informatik.hu-berlin.de>

	* 10543: Makefile.in: avoid distcleaning Test twice

	* 10542: Completion/Core/_files, Doc/Zsh/compsys.yo: tag in
	file-patterns optional, use `files' as default

	* 10531: Src/init.c: use `zsh' as command name in error messages
	even with -c

2000-04-05  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 10524: Util/mkdisttree.sh: always copy files to tarred tree;
	chmod g-s.

	* Oliver: 10519: Src/utils.c, Doc/Zsh/compsys.yo: AIX dependencies
	and minor typo in docs.

	* Alexandre: 10516: Completion/User/_prcs: diff options behaviour.
	
	* 10513: Src/glob.c, Doc/Zsh/expn.yo: glob order qualifier (od)
	implements depth-first ordering.

2000-04-05  Bart Schaefer  <schaefer@zsh.org>

	* 10499: Makefile.in: Dependencies relative to $(sdir).

2000-04-05  Sven Wischnowsky <wischnow@informatik.hu-berlin.de>

	* 10514: Completion/Base/_arguments, Doc/Zsh/compsys.yo:
	support automatically inserted dummy in $words

	* 10511: Completion/Debian/_apt, Completion/Debian/_bug,
	Completion/Debian/_dpkg, Completion/User/_chown,
	Completion/User/_dvi, Completion/User/_imagemagick,
	Completion/User/_ispell, Completion/User/_lp,
	Completion/User/_mount, Completion/User/_mysql_utils,
	Completion/User/_pbm, Completion/User/_psutils,
	Completion/User/_rcs, Completion/User/_rlogin,
	Completion/User/_ssh, Completion/User/_tiff, Completion/User/_yp,:
	Completion/X/_xutils: use basename of commands instead of $words[1]

	* 10508: Completion/Builtins/_zstyle, Completion/Core/_path_files,
	Doc/Zsh/compsys.yo, Functions/Zle/incremental-complete-word: 
	renaming some styles

	* 10507: Completion/Core/_files, Completion/Core/_main_complete:
	two small fixes (-g in _files and menu style)

	* 10502: Src/parse.c: use magic number in zwc files as zwc-version,
	report zsh-version in error message.

	* 10500: Doc/Zsh/zle.yo, Functions/Zle/incremental-complete-word,
	Src/utils.c, Src/Zle/zle_params.c: add zle special parameter
	$PENDING, giving the number of un-read bytes.

	* 10498: Completion/Commands/_next_tags: fix for handling
	file-patterns.

2000-04-04  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Clint: 10477: Functions/Zftp/zfcd_match: some awks don't like
	index zero.

	* Clint: 10448: Completion/Debian/_dpkg: complete after -S.

	* Chmouel: 10440: Completion/Linux/_rpm: rpm tags should have %
	in front.

2000-04-04  Sven Wischnowsky <wischnow@informatik.hu-berlin.de>

	* 10471: Completion/User/_imagemagick: new completion function

	* 10467: Src/builtin.c, Src/parse.c: better error handling for
	zwc files

	* 10465: Src/Zle/computil.c: fix for completion of options
	after option with rest-arguments

	* 10463: Src/builtin.c, Src/params.c, Src/zsh.h: PM_HASHELEM
	flag to keep association elements from being exported with
	ALL_EXPORT set

	* 10459: Completion/Commands/_next_tags, Doc/Zsh/compwid.yo,
	Src/Zle/compcore.c: _next_tags should be usable with menu-
	completion

	* 10456: Src/Zle/compcore.c: Copy QIPREFIX/QISUFFIX.

2000-04-04  Andrew Main  <zefram@zsh.org>

	* 10444: Src/lex.c, Src/pattern.c: Insist on proper syntax
	for numeric globbing (with the "-").  Also fix the bug whereby
	"echo 1<2-3>" would lose the "1".

2000-04-03  Sven Wischnowsky <wischnow@informatik.hu-berlin.de>

	* 10408: Completion/Core/_path_files: better quoting

	* 10409: Completion/Core/_path_files: completion after ~+<num>

	* 10412: Src/Zle/compmatch.c: better partial word completion for
 	new parts

	* 10413: Completion/Commands/_complete_help, Doc/Zsh/compsys.yo:
	style list optional in _complete_help

	* 10416: Completion/Core/_main_complete, Doc/Zsh/compsys.yo:
 	default completer style contains _ignored

	* 10425: Completion/Core/_files, Completion/User/_gdb,
	Completion/User/_getconf, Completion/User/_mh,
	Completion/User/_netscape, Completion/User/_tiff,
	Completion/User/_urls, Completion/X/_xmodmap,
	Doc/Zsh/compsys.yo, Src/Zle/computil.c: Various completion fixes.

2000-04-03  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* Clint: 10424: Completion/Debian/_dpkg: reported -i=irs failure.

-- 
Peter Stephenson <pws@pwstephenson.fsnet.co.uk>
Work: pws@CambridgeSiliconRadio.com
Web: http://www.pwstephenson.fsnet.co.uk

