From zsh-workers-return-21291-mason-zsh=primenet.com.au@sunsite.dk Mon May 30 14:06:33 2005
Return-Path: <zsh-workers-return-21291-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8695 invoked from network); 30 May 2005 14:06:32 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 30 May 2005 14:06:32 -0000
Received: (qmail 21261 invoked from network); 30 May 2005 14:06:26 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 30 May 2005 14:06:26 -0000
Received: (qmail 13604 invoked by alias); 30 May 2005 14:06:24 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 21291
Received: (qmail 13591 invoked from network); 30 May 2005 14:06:23 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 30 May 2005 14:06:23 -0000
Received: (qmail 20949 invoked from network); 30 May 2005 14:06:23 -0000
Received: from acolyte.scowler.net (216.254.112.45)
  by a.mx.sunsite.dk with SMTP; 30 May 2005 14:06:19 -0000
Received: by acolyte.scowler.net (Postfix, from userid 1000)
	id AA15F70046; Mon, 30 May 2005 10:06:16 -0400 (EDT)
Date: Mon, 30 May 2005 10:06:16 -0400
From: Clint Adams <schizo@debian.org>
To: Christophe Martin <schplurtz@free.fr>
Cc: 310872@bugs.debian.org, zsh-workers@sunsite.dk
Subject: Re: Bug#310872: zsh can't be a ksh replacement (can't trap ERR).
Message-ID: <20050530140616.GA7651@scowler.net>
Mail-Followup-To: Christophe Martin <schplurtz@free.fr>,
	310872@bugs.debian.org, zsh-workers@sunsite.dk
References: <200505261638.SAA09610@sdt.univ-brest.fr> <20050526191520.GA30061@scowler.net> <42971781.9050402@free.fr>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <42971781.9050402@free.fr>
User-Agent: Mutt/1.5.9i
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=6.0 tests=BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.6

> Why not add ash, dash, bash and so on, into the ksh pool, until
> only "a=foo" and "echo bar" are the common points ? surely because
> all of us have an idea of what ksh should be, only this idea is a
> bit different for each of us.

None of those shells purport to emulate ksh.  zsh does.

> I realize there are many differences between implementations of
> shells. There must be some incompatibilities between pdksh and ksh.
> But this trap ERR thing seems to be a basic ksh functionnality.

I don't have enough knowledge of ksh to evaluate that statement.

> Last, zsh is such a special shell, with all its exotic and powerful
> functionalities, that when you need/want it, it is unlikely
> you want it as a ksh. Debian already have 2 ksh...

The zsh alternative was suggested by the Debian ksh93
maintainer.

> I definitely hope that the alternative will be removed...

It's not a high-priority alternative.  That means that it won't be
selected automatically over either pdksh or ksh93.  One would need
to either only have zsh installed or override the defaults.  Since
the Debian zsh package is frozen for a June 6 release, the severity
of your problem will not justify a change to the package.

After that, we can do one of three things: leave things the way they
are; remove the alternative; patch the source or cause zsh to understand
the ERR pseudo-signal within ksh emulation in another manner.

If the wise people on zsh-workers think that not understanding ERR is
acceptable for ksh emulation, I'm inclined to do nothing.

