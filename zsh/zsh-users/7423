From zsh-users-return-7423-mason-zsh=primenet.com.au@sunsite.dk Sat May 01 15:54:53 2004
Return-Path: <zsh-users-return-7423-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5799 invoked from network); 1 May 2004 15:54:52 -0000
Received: from thor.dotsrc.org (HELO a.mx.sunsite.dk) (qmailr@130.225.247.86)
  by ns1.primenet.com.au with SMTP; 1 May 2004 15:54:52 -0000
Received: (qmail 4882 invoked from network); 1 May 2004 15:54:16 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 1 May 2004 15:54:16 -0000
Received: (qmail 3113 invoked by alias); 1 May 2004 15:54:05 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 7423
Received: (qmail 3053 invoked from network); 1 May 2004 15:54:05 -0000
Received: from thor.dotsrc.org (HELO a.mx.sunsite.dk) (qmailr@130.225.247.86)
  by sunsite.dk with SMTP; 1 May 2004 15:54:01 -0000
Received: (qmail 4083 invoked from network); 1 May 2004 15:54:01 -0000
Received: from a.mail.peak.org (69.59.192.41)
  by a.mx.sunsite.dk with SMTP; 1 May 2004 15:53:58 -0000
Received: from localhost (0-1pool208-169.nas9.columbus1.oh.us.da.qwest.net [63.155.208.169])
	(authenticated bits=0)
	by a.mail.peak.org (8.12.10/8.12.8) with ESMTP id i41FrQLT087151
	for <zsh-users@sunsite.dk>; Sat, 1 May 2004 08:53:30 -0700 (PDT)
To: zsh-users@sunsite.dk
Subject: zsh prompt not updating until first 'chdir'
Date: Sat, 01 May 2004 11:53:24 -0300
From: "Timothy J. Luoma" <luomat@peak.org>
Organization: http://tntluoma.com
Content-Type: text/plain; format=flowed; delsp=yes; charset=iso-8859-1
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-ID: <opr7bvrajhb19zj4@localhost>
User-Agent: Opera M2/7.50 (MacPPC, build 1752)
X-Spam-Score: 0 () 
X-Scanned-By: MIMEDefang 2.39
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: *
X-Spam-Status: No, hits=1.6 required=6.0 tests=RCVD_IN_NJABL,RCVD_IN_SORBS 
	autolearn=no version=2.63
X-Spam-Hits: 1.6


Hello folks
	Just back on the list after a long absence (exiled to Windows for a few  
years, just bought a Mac).

	I'm very rusty on my ZSH skills, and hope someone can help.  I have a  
$PROMPT setup in .zshenv

setprompt () { PROMPT="

---------------------------------%t/%T ---------------------------------
%S[OLDPWD: $OLDPWD]
      [PWD: %~]%s
$SHORT_HOST> "
}

chpwd () { setprompt }

this works fine AFTER my first chdir, but when I first login, it leaves me  
with the default prompt.

Can someone remind me what I have to do to get this to update as soon as I  
login?

Thanks!

TjL

ps - running ZSH 4.04, 4.06 and 4.1.1, fwiw


