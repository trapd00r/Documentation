From zsh-workers-request@math.gatech.edu Fri May 08 15:49:18 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5013 invoked from network); 8 May 1998 15:49:17 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 8 May 1998 15:49:17 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id LAA21657;
	Fri, 8 May 1998 11:45:22 -0400 (EDT)
Resent-Date: Fri, 8 May 1998 11:45:22 -0400 (EDT)
From: hzoli@austin.ibm.com
Message-Id: <9805081510.AA35936@vlad.austin.ibm.com>
Subject: Re: PATCH: more dynamic loading on AIX
In-Reply-To: <9805081159.AA29730@ibmth.df.unipi.it> from "pws@ibmth.df.unipi.it" at "May 8, 98 01:59:52 pm"
To: pws@ibmth.df.unipi.it
Date: Fri, 8 May 1998 10:10:34 -0500 (CDT)
Cc: zsh-workers@math.gatech.edu
X-Mailer: ELM [version 2.4ME+ PL31H (25)]
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"kVLCM3.0.KI5.IYoKr"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3956
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

pws@ibmth.df.unipi.it wrote:
> 1) module.c was trying to include <link.h>.  This doesn't exist here
> under AIX 3.2, nor does it seem to be there on a 4.1 system at the
> other end of Europe.  If it's sometimes necessary, it should probably
> be tested for in configure.

That link.h include was in the else branch of #ifdef AIXDYNAMIC, so it
seems that something was wrong in your build process.

> 2) AIXDYNAMIC was missing from config.h.in and so didn't appear in
> config.h.  I am correct that config.h.in needs to be updated by hand,
> not by autoconf?

You should run autoheader.  I did try this on a very ancient AIX 3.2
box (configure says AIX 3.2 not even 3.2.5, that 3.2 is full of bugs
and broken things).  It did work.  All of your problems should go away
if you run autoheader and rerun configure and make.

Zoli

