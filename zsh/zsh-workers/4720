From zsh-workers-request@math.gatech.edu Tue Dec 08 17:42:43 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 12765 invoked from network); 8 Dec 1998 17:42:42 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 8 Dec 1998 17:42:42 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.9.1/8.9.1) id MAA19921;
	Tue, 8 Dec 1998 12:40:35 -0500 (EST)
Resent-Date: Tue, 8 Dec 1998 12:40:35 -0500 (EST)
Sender: rz2a022@uni-hamburg.de
Message-ID: <366D644B.72C33C2@uni-hamburg.de>
Date: Tue, 08 Dec 1998 18:39:23 +0100
From: Bernd Eggink <eggink@uni-hamburg.de>
Organization: Regionales Rechenzentrum der Uni Hamburg
X-Mailer: Mozilla 4.5 [en] (X11; I; Linux 2.0.35 i586)
X-Accept-Language: de
MIME-Version: 1.0
To: Zsh-workers <zsh-workers@math.gatech.edu>
Subject: Re: typeahead problem
References: <001101be22c3$12fde9b0$21c9ca95@mowp.siemens.ru>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"ISBnH1.0.Ct4.JIMRs"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/4720
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Andrej Borsenkow wrote:
 
> As to why it is taken for "no" - imagine, you typed something _before_
> read -q, and that was not completely consumed - you definitely does not want
> some leftover "y" to remove your valuable files :) so it tries to play safe.

But of course the prompt could as well have been "Do you want to keep
the file?"! IMHO it would be safer to discard all previously typed
characters before querying.

> The only thing I don't understand, why it works on my system ...

You're lucky. I don't understand a LOT of things! ;)

> The ultimate place to correct it is bin_read(); call
> getquery with last argument 1.

Yeah, that fixes it! Thanks! 
Hm, is there any reason to call getquery(x, 0) at all?

Bernd 

--
Bernd Eggink
Regionales Rechenzentrum der Uni Hamburg
eggink@uni-hamburg.de
http://www.rrz.uni-hamburg.de/eggink/BEggink.html

