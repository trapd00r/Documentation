From zsh-workers-return-9678-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Feb 11 11:40:45 2000
Return-Path: <zsh-workers-return-9678-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10488 invoked from network); 11 Feb 2000 11:40:44 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 11 Feb 2000 11:40:44 -0000
Received: (qmail 1608 invoked by alias); 11 Feb 2000 11:40:29 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 9678
Received: (qmail 1601 invoked from network); 11 Feb 2000 11:40:29 -0000
X-Envelope-Sender-Is: Andrej.Borsenkow@mow.siemens.ru (at relayer david.siemens.de)
From: "Andrej Borsenkow" <Andrej.Borsenkow@mow.siemens.ru>
To: "Sven Wischnowsky" <wischnow@informatik.hu-berlin.de>,
        <zsh-workers@sunsite.auc.dk>
Subject: RE: PATCH: yet another completer
Date: Fri, 11 Feb 2000 14:40:19 +0300
Message-ID: <000401bf7484$c5a8eab0$21c9ca95@mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
In-Reply-To: <200002101403.PAA25399@beta.informatik.hu-berlin.de>
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6700

> +
> +example(zstyle ':completion:::::' completer _matcher _complete
> _matcher _complete
> +zstyle ':completion:*:matcher-1:::' matcher 'm:{a-z-}={A-Z_}'
> +zstyle ':completion:*:matcher-2:::' matcher 'm:{a-z-}={A-Z_}'
> 'r:|[-_./]=* r:|=*')
> +

Question(s) and comment(s).

- Is it posssible to set match specs on per-command/per-argument basis? In
this case, it is better to include such example. Current one implies, that
you can only set globally valid match specs.

- The most common case so far is file name completion. Can I set default
match specs for _path_files only? That is, default match specs that affect
only file names but not anything else - non-file arguments, options etc


- This is nice as long as you have just a single completer ... but I have
e.g.

zstyle ':completion:*' completer _oldlist _complete _match

If I want to use two different matchers, should I now write

zstyle ':completion:*' completer _matcher _oldlist _complete _match _matcher
_oldlist _complete _match

Looks at least weird.

- This has the same pitfall as global match specs before - it is
position-dependent. Imagine, that I have to matchers and want to add one
more in between. Now, I have to change matcher-2 into matcher-3 in all
styles!

I'd prefer something like "match specs list" - list of match specs that
would be tried until any matches are found. Probably, on per-completer
basis. Or is it intended to be used (useful) only with _complete? Even then
the

zstyle ':completion:*:complete:::' match_specs_list 'm:{a-z-}={A-Z_}'
'r:|[-_./]=* r:|=*'

is much cleaner than

zstyle ':completion:*' completer _matcher _complete _matcher _complete
_match
zstyle ':completion:*:matcher-1:::' matcher 'm:{a-z-}={A-Z_}'
zstyle ':completion:*:matcher-2:::' matcher 'm:{a-z-}={A-Z_}' 'r:|[-_./]=*
r:|=*')

/andrej

