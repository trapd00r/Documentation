From zsh-workers-return-23604-mason-zsh=primenet.com.au@sunsite.dk Tue Jun 26 00:52:34 2007
Return-Path: <zsh-workers-return-23604-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 23414 invoked from network); 26 Jun 2007 00:52:31 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.1 (2007-05-02) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.1
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 26 Jun 2007 00:52:31 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 68746 invoked from network); 26 Jun 2007 00:52:25 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 26 Jun 2007 00:52:25 -0000
Received: (qmail 14243 invoked by alias); 26 Jun 2007 00:52:22 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 23604
Received: (qmail 14233 invoked from network); 26 Jun 2007 00:52:21 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 26 Jun 2007 00:52:21 -0000
Received: (qmail 68463 invoked from network); 26 Jun 2007 00:52:21 -0000
Received: from vms048pub.verizon.net (206.46.252.48)
  by a.mx.sunsite.dk with SMTP; 26 Jun 2007 00:52:17 -0000
Received: from torch.brasslantern.com ([71.116.90.58])
 by vms048.mailsrvcs.net (Sun Java System Messaging Server 6.2-6.01 (built Apr
 3 2006)) with ESMTPA id <0JK700KHFX3192X0@vms048.mailsrvcs.net> for
 zsh-workers@sunsite.dk; Mon, 25 Jun 2007 19:52:15 -0500 (CDT)
Received: from torch.brasslantern.com (localhost.localdomain [127.0.0.1])
	by torch.brasslantern.com (8.13.1/8.13.1) with ESMTP id l5Q0qC2w021492; Mon,
 25 Jun 2007 17:52:13 -0700
Received: (from schaefer@localhost)	by torch.brasslantern.com
 (8.13.1/8.13.1/Submit) id l5Q0qC5S021491; Mon, 25 Jun 2007 17:52:12 -0700
Date: Mon, 25 Jun 2007 17:52:12 -0700
From: Bart Schaefer <schaefer@brasslantern.com>
Subject: Re: Removal of autoloads via module name only
In-reply-to: <200706252018.l5PKIDEw010946@pws-pc.ntlworld.com>
To: Peter Stephenson <p.w.stephenson@ntlworld.com>,
 zsh-workers@sunsite.dk (Zsh hackers list)
Message-id: <070625175212.ZM21490@torch.brasslantern.com>
MIME-version: 1.0
X-Mailer: OpenZMail Classic (0.9.2 24April2005)
Content-type: text/plain; charset=us-ascii
References: <200706252018.l5PKIDEw010946@pws-pc.ntlworld.com>
Comments: In reply to Peter Stephenson <p.w.stephenson@ntlworld.com>
 "Removal of autoloads via module name only" (Jun 25,  9:18pm)

On Jun 25,  9:18pm, Peter Stephenson wrote:
}
} Is anyone going to be concerned if I remove this ability, so that
} you would need to give both the module and the builtin etc. to be
} autoloaded explicitly? I stronly suspect the answer is "no", in
} which case I will remove it in the next round of feature autoloading
} changes.

Actually, use this all the time.  Or more precisely, I use the thing
you mentioned in your next email, all the time:

} alias -A example=zsh/example
} zmodload -ab example

I have a rather complicated set of startup scripts, one of which has
the job of discovering that I'm running an uninstalled zsh binary out
of the compilation build tree and therefore frobbing the module path
(and installing all sorts of module aliases) so that everything "just
works" loading the modules out of Src/Builtins and Src/Modules instead
of by using their regular namespace paths.

This makes extensive use of exactly the aliasing trick above, and I'd be
rather disappointed to have to try to figure out how to rewrite it all
so that it still works.

