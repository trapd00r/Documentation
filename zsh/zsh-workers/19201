From zsh-workers-return-19201-mason-zsh=primenet.com.au@sunsite.dk Sat Oct 25 14:10:26 2003
Return-Path: <zsh-workers-return-19201-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 29931 invoked from network); 25 Oct 2003 14:10:24 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 25 Oct 2003 14:10:24 -0000
Received: (qmail 12882 invoked by alias); 25 Oct 2003 14:10:13 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 19201
Received: (qmail 12833 invoked from network); 25 Oct 2003 14:10:12 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 25 Oct 2003 14:10:12 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [216.254.112.142] by sunsite.dk (MessageWall 1.0.8) with SMTP; 25 Oct 2003 14:10:12 -0000
Received: by acolyte.scowler.net (Postfix, from userid 1000)
	id D4BD670047; Sat, 25 Oct 2003 10:10:11 -0400 (EDT)
Date: Sat, 25 Oct 2003 10:10:11 -0400
From: Clint Adams <clint@zsh.org>
To: zsh-workers@sunsite.dk
Subject: PATCH: _screen completion
Message-ID: <20031025141011.GA5834@acolyte.scowler.net>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.5.4i

This patch is from Yasuhiro Hayase.

> screen executes command in new window if screen takes argument.
> 
> for example,
> # screen ssh example@example.com
> 
> But, zsh's completion function cannnot recognize this behavior.
> Please apply following patch.

Index: Completion/Unix/Command/_screen
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_screen,v
retrieving revision 1.3
diff -u -r1.3 _screen
--- Completion/Unix/Command/_screen	16 Jul 2003 01:44:17 -0000	1.3
+++ Completion/Unix/Command/_screen	25 Oct 2003 14:04:41 -0000
@@ -69,7 +69,8 @@
   '(-)-v[print screen version]' \
   '(-)-wipe[do nothing, clean up SockDir]' \
   '-x[attach to a not detached screen. (Multi display mode).]' \
-  '-X[execute <cmd> as a screen command in the specified session.]:screencmd:(${scr_cmds[@]})'
+  '-X[execute <cmd> as a screen command in the specified session.]:screencmd:(${scr_cmds[@]})' \
+  '*::arguments: _normal'
 
 case $state in
   sessionname)

