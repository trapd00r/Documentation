From zsh-workers-request@math.gatech.edu Thu Jan 15 06:48:52 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 10364 invoked from network); 15 Jan 1998 06:48:50 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 15 Jan 1998 06:48:50 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id BAA16695;
	Thu, 15 Jan 1998 01:33:45 -0500 (EST)
Resent-Date: Thu, 15 Jan 1998 01:33:45 -0500 (EST)
Date: Thu, 15 Jan 1998 09:35:40 +0300 (MSK)
From: Andrej Borsenkow <borsenkow.msk@sni.de>
X-Sender: bor@itsrm1
Reply-To: borsenkow.msk@sni.de
To: Geoff Wing <mason@primenet.com.au>
cc: zsh-workers@math.gatech.edu
Subject: Re: PATCH: zsh-3.1.2-zefram3: libzsh install
In-Reply-To: <slrn6br2e2.7hb.mason@coral.primenet.com.au>
Message-ID: <Pine.SV4.3.95.980115093118.7796A-100000@itsrm1>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
Resent-Message-ID: <"vvt_P2.0.o44.8tQlq"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3709
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

On 15 Jan 1998, Geoff Wing wrote:

> Andrej Borsenkow <borsenkow.msk@sni.de> typed:
> :Here is a patch for several problems with dynamic ZSH
> :  - libzsh.so was changed to libzsh.$(VERSION).so; zsh is linked
> :    with it explicitly
> :-LIBZSH = libzsh.so.$(VERSION)
> :+LIBZSH = libzsh.$(VERSION).so
> 
> Ah, but some systems need the former version.  This obviously needs to be
> configurable.

Which ones? What difference is between -lzsh and -lzsh.3.1.2?

O.K., I make another pass. Is anybody aware of system which supports
shared libraries and *doesn't* support LD_RUN_PATH or equivalent? Then
libzsh.so can be simply installed in version-dependent directory
($(libdir)/zsh/$(VERSION)) and zsh compiled with LD_RUN_PATH set. This is
the way Perl does it.

-------------------------------------------------------------------------
Andrej Borsenkow 		Fax:   +7 (095) 252 01 05
SNI ITS Moscow			Tel:   +7 (095) 252 13 88

NERV:  borsenkow.msk		E-Mail: borsenkow.msk@sni.de
-------------------------------------------------------------------------


