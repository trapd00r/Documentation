From zsh-workers-request@euclid.skiles.gatech.edu  Fri Nov  8 05:42:52 1996
Return-Path: zsh-workers-request@euclid.skiles.gatech.edu
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by coral.primenet.com.au (8.7.5/8.7.3) with ESMTP id FAA14499 for <mason@primenet.com.au>; Fri, 8 Nov 1996 05:42:49 +1100 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id NAA12343; Thu, 7 Nov 1996 13:36:22 -0500 (EST)
Resent-Date: Thu, 7 Nov 1996 13:26:27 -0500 (EST)
Message-Id: <3.0.32.19961107132632.009a8130@iweb.net>
X-Sender: greg@iweb.net
X-Mailer: Windows Eudora Pro Version 3.0 (32)
Date: Thu, 07 Nov 1996 13:26:33 -0500
To: John Patoskie <jozef@tivoli.com>
From: greg haygood <greg@iweb.net>
Subject: Re: history commands coming out wrong
Cc: zsh-users@math.gatech.edu
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Resent-Message-ID: <"EioOt2.0.ax2.IdYWo"@euclid>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/499
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu


actually, i see it with 'bindkey -e', but not with 'bindkey -v'.

i can reproduce the problem with:

> bindkey -e
> ll /usr/local/src

then hitting ^W (for deleting the prev word) will produce

> ll ll

but doing
> ls -l /usr/local/src

then ^W works fine.

neither problems shows up when i do bindkey -v

so i'm guessing some conflict between alias and bindkey and history?

btw, if you couldn't guess,  ll = 'ls -l',  but then ls = /bin/ls
$LS_OPTIONS, 
where LS_OPTIONS = '--8bit --color=yes -F -g -T 0' for the GNU color ls

a quick check with a different alias (p='ps -f') doesn't produce the same
type of conflict as with the GNU ls, so maybe that can help the powers that
be determine the exact problem?

greg


At 12:08 11/7/96 -0600, you wrote:
>Greg,
>
>Do you get the same results in bindkey -e mode and bindkey -v
>mode?  I only get history problems with bindkey -v set.
>
>Regards,
>
>John
>
>On Nov 7, 12:44pm, greg haygood wrote:
>> Subject: Re: history commands coming out wrong
>>
>> I'm also getting the messed up history lines.
>>
>> Linux 2.0.24, zsh 3.0.1
>>
>> setopt:
>> allexport autocd autolist autonamedirs nobeep cdablevars chaselinks correct
>> correctall
>> extendedglob  lobdots histignoredups histnostore interactive listtypes
>> login longlistjobs
>> markdirs pathdirs pushdminus pushdtohome recexact shinstdin
>>
>>
>> greg
>>
>> At 07:48 11/5/96 -0600, Gerald Skerbitz wrote:
>> >Yes. I'm having the screwed up lines all over the place when going through
>> >history.  This problem has existed since 2.6-beta8 or so.  It got fixed
for
>a
>> >release or two (was great in 2.6-beta13) but it appears it's back again.
>> >
>> >
>> >Gerry,
>> >3.0.0 Sun Solaris 2.4
>> >setopt:
>> >allexport alwaystoend appendhistory autocd automenu autonamedirs autopushd
>> >nobgnice cdablevars completeinword extendedglob globdots histignoredups
>> >ignoreeof interactive interactivecomments listtypes menucomplete monitor
>> >nonomatch pathdirs pushdignoredups pushdminus pushdsilent pushdtohome
>> >shinstdin zle
>> >
>> > On Mon, 4 Nov 1996, Timothy J Luoma wrote:
>> >> zsh-3.0.1 compiled fine, but it is still way too slow when drawing
>> >> the PROMPT and RPROMPT.
>> >>
>> >> Also, using the UP arrow to go back through history commands ends
>> >> up with screwed up lines (mangled commands, old and new combined,
>> >> etc).
>> >>
>> >> Anyone else having similar problems?
>> >>
>> >> I'm using Stuart.app 2.6.3+ under NS 3.3 patch1
>> >>
>> >> TjL, still using 2.6-beta13
>> >--
>> >Gerry
>> >Gerald Skerbitz <gsker@med.umn.edu> U of MN Med School Admin 6-5379
>> >Home St. Paul,Ramsey County,Minnesota, USA
>> >
>> >
>> >
>> --
>> greg haygood				Web Developer
>> greg@iweb.net				InterWeb, Inc
>> bsdac.uchicago.edu/~g-haygood/   		www.iweb.net
>>
>> God put me on Earth to accomplish a certain number of things.  At this
>> point, I'm so far behind, I will never die.  -- Calvin
>>
>>-- End of excerpt from greg haygood
>
>
>
>
--
greg haygood				Web Developer
greg@iweb.net				InterWeb, Inc
bsdac.uchicago.edu/~g-haygood/   		www.iweb.net

God put me on Earth to accomplish a certain number of things.  At this
point, I'm so far behind, I will never die.  -- Calvin

