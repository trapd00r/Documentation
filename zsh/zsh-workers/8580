From zsh-workers-return-8580-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Nov 05 17:52:19 1999
Return-Path: <zsh-workers-return-8580-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24275 invoked from network); 5 Nov 1999 17:52:18 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 5 Nov 1999 17:52:18 -0000
Received: (qmail 6775 invoked by alias); 5 Nov 1999 17:52:13 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 8580
Received: (qmail 6768 invoked from network); 5 Nov 1999 17:52:11 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <991105175148.ZM246@candle.brasslantern.com>
Date: Fri, 5 Nov 1999 17:51:48 +0000
In-Reply-To: <38231426.5CFA117E@u.genie.co.uk>
Comments: In reply to Oliver Kiddle <opk@u.genie.co.uk>
        "Re: PATCH: AIX .export files" (Nov  5,  5:30pm)
References: <E11jhz8-0001KN-00@crucigera.fysh.org> 
	<991105154004.ZM30666@candle.brasslantern.com> 
	<38231426.5CFA117E@u.genie.co.uk>
X-Mailer: Z-Mail (5.0.0 30July97)
To: Oliver Kiddle <opk@u.genie.co.uk>, zsh-workers@sunsite.auc.dk
Subject: Re: PATCH: AIX .export files
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Nov 5,  5:30pm, Oliver Kiddle wrote:
} Subject: Re: PATCH: AIX .export files
}
} Bart Schaefer wrote:
} > 
} > I'm actually quite optimistic that `printf "%s", locals' will do the trick.
} > The error message indicates that the *format* string to printf can't be
} > more than 3k, not that there's a limit on the rest of the data.
} 
} I replaced line 149 with that and I still get the error message about
} 'Format item %s cannot be longer than 3000 bytes.'

Rats.

Well, one last thing to try before hacking more vigorously is

	print locals

i.e. forget "printf" (I'm not sure why it was used there, anyway).

} I also tried Sven's patch for the .export files and got a few undefined
} symbols. I won't have a chance until Monday to finish building a full
} list of the missing symbols but I'll try to get it done then.
} 
} What options should I be using with patch. The patch I'm using (which is
} the GNU one not IBM's), couldn't cope with the lines starting 'diff' in
} the patch file and it also couldn't cope with the part for compresult.c.

That's odd; it applied straightaway for me.  Did you use -p0 ?

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

