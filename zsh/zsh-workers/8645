From zsh-workers-return-8645-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Nov 15 13:49:47 1999
Return-Path: <zsh-workers-return-8645-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 28723 invoked from network); 15 Nov 1999 13:49:45 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 15 Nov 1999 13:49:45 -0000
Received: (qmail 29809 invoked by alias); 15 Nov 1999 13:49:40 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 8645
Received: (qmail 29802 invoked from network); 15 Nov 1999 13:49:39 -0000
To: zsh-workers@sunsite.auc.dk
Subject: Re: PATCH: tags stuff
References: <199911151141.MAA31979@beta.informatik.hu-berlin.de>
MIME-Version: 1.0 (generated by AKEMI 1.13.2 - =?ISO-2022-JP?B?Ig==?=
 =?ISO-2022-JP?B?GyRCQTA0Y0s8GyhCIg==?=)
Content-Type: text/plain; charset=US-ASCII
From: Tanaka Akira <akr@jaist.ac.jp>
Date: 15 Nov 1999 22:49:36 +0900
In-Reply-To: Sven Wischnowsky's message of "Mon, 15 Nov 1999 12:41:23 +0100 (MET)"
Message-ID: <rsqemdrooen.fsf@crane.jaist.ac.jp>
Lines: 59
User-Agent: Chao-gnus/6.12.5 AKEMI/1.13.2 (=?ISO-2022-JP?B?GyRCQTAbKEI=?=
 =?ISO-2022-JP?B?GyRCNGNLPBsoQg==?=) FLAM-DOODLE/1.12.6
 (=?ISO-2022-JP?B?GyRCM3cbKEI=?= 10R4.0/5.0) Emacs/20.4
 (sparc-sun-solaris2.6) MULE/4.0 (HANANOEN)

In article <199911151141.MAA31979@beta.informatik.hu-berlin.de>,
  Sven Wischnowsky <wischnow@informatik.hu-berlin.de> writes:

> [ Monstrous patch below... ]

I encount two problems.

* The patch for _make was for before 8610.
* The patch for compsys.yo contains 8633 and one typo.

This is patch to _make for after 8615 and typo fix to compsys.yo.
The patch for compsys.yo assumes that 8633 is correctly applyed by
reverting 8633.

Index: Completion/User/_make
===================================================================
RCS file: /projects/zsh/zsh/Completion/User/_make,v
retrieving revision 1.1.1.14
retrieving revision 1.1.1.15
diff -u -r1.1.1.14 -r1.1.1.15
--- Completion/User/_make	1999/11/10 19:42:20	1.1.1.14
+++ Completion/User/_make	1999/11/15 12:01:49	1.1.1.15
@@ -18,12 +18,11 @@
     file=''
   fi
 
-  _description expl 'make target'
-  [[ -n "$file" ]] &&
-    compadd "$expl[@]" - \
-      $(awk '/^[a-zA-Z0-9][^\/ \t]+:/ {print $1}
-	     /^\.include  *<bsd\.port\.(subdir\.|pre\.)?mk>/ || /^\.include  *".*mk\/bsd\.pkg\.(subdir\.)?mk"/ {
-	       print "fetch fetch-list extract patch configure build install reinstall deinstall package describe checkpatch checksum makesum" }' \
-	    FS=: $file) && ret=0
+  [[ -n "$file" ]] && _wanted targets expl 'make target' &&
+      compadd "$expl[@]" - \
+          $(awk '/^[a-zA-Z0-9][^\/ \t]+:/ {print $1}
+	         /^\.include  *<bsd\.port\.(subdir\.|pre\.)?mk>/ || /^\.include  *".*mk\/bsd\.pkg\.(subdir\.)?mk"/ {
+	           print "fetch fetch-list extract patch configure build install reinstall deinstall package describe checkpatch checksum makesum" }' \
+	        FS=: $file) && ret=0
   (( ret )) && { compset -P 1 '*\='; _files }
 fi
Index: Doc/Zsh/compsys.yo
===================================================================
RCS file: /projects/zsh/zsh/Doc/Zsh/compsys.yo,v
retrieving revision 1.1.1.71
diff -u -r1.1.1.71 compsys.yo
--- Doc/Zsh/compsys.yo	1999/11/15 12:01:53	1.1.1.71
+++ Doc/Zsh/compsys.yo	1999/11/15 13:37:51
@@ -1112,7 +1112,7 @@
 function the tt(context) parameter will be set to the name of the
 value whose argument is to be completed.
 
-Like tt(_arguments', tt(_values) also supports the tt(-C) option in
+Like tt(_arguments), tt(_values) also supports the tt(-C) option in
 which case you have to make the parameter tt(curcontext) local instead 
 of tt(context) (as described above).
 )
-- 
Tanaka Akira

