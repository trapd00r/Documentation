From zsh-workers-return-12696-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Aug 25 10:33:54 2000
Return-Path: <zsh-workers-return-12696-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 25346 invoked from network); 25 Aug 2000 10:33:52 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 25 Aug 2000 10:33:52 -0000
Received: (qmail 18852 invoked by alias); 25 Aug 2000 10:33:19 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 12696
Received: (qmail 18842 invoked from network); 25 Aug 2000 10:33:13 -0000
Date: Fri, 25 Aug 2000 11:32:46 +0100
From: Peter Stephenson <pws@csr.com>
Subject: Re: comments break \ at end of line
In-reply-to: "Your message of Thu, 24 Aug 2000 22:29:32 BST."
 <20000824222932.A15971@thelonious.new.ox.ac.uk>
To: zsh-workers@sunsite.auc.dk (Zsh hackers list)
Message-id: <0FZU00LN0FYLHV@la-la.cambridgesiliconradio.com>
Content-transfer-encoding: 7BIT

Adam wrote:
>   % foo () {
>   > echo hello, \
>   > # this is a comment
>   > world
>   > }
>   % foo
>   hello,
>   foo:3: command not found: world
>   
> which is the same issue as
> 
>   % echo hello, \
>   > # comment
>   hello,
> 
> This may be intentional, but if so, it strikes me as a rather
> undesirable feature, or at least one which you should be able to turn
> off.

I don't really see how it could be any different.  The `\' just skips the
newline, turning the line into `echo hello, # this is a comment'.  `\'
never forces it into any different state of parsing, it only escapes the
next character.  What are you suggesting?  I don't see how you can turn it
off without writing a completely new (= bugridden) way of lexing.

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
Cambridge Silicon Radio, Unit 300, Science Park, Milton Road,
Cambridge, CB4 0XL, UK                          Tel: +44 (0)1223 392070

