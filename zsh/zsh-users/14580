From zsh-users-return-14580-mason-zsh=primenet.com.au@zsh.org Wed Nov 18 12:46:45 2009
Return-Path: <zsh-users-return-14580-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 11580 invoked by alias); 18 Nov 2009 12:46:45 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 14580
Received: (qmail 3941 invoked from network); 18 Nov 2009 12:46:30 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.3 required=5.0 tests=AWL,BAYES_00,MISSING_HEADERS,
	RCVD_IN_DNSWL_LOW autolearn=no version=3.2.5
Received-SPF: none (ns1.primenet.com.au: domain at csr.com does not designate permitted sender hosts)
Date: Wed, 18 Nov 2009 12:46:22 +0000
From: Peter Stephenson <pws@csr.com>
Cc: Zsh Users <zsh-users@zsh.org>
Subject: Re: mapping ctrl-D to <ctrl-W ctrl-D>
Message-ID: <20091118124622.2b1f39d2@news01>
In-Reply-To: <20091118122241.GA16098@trustfood.org>
References: <20091118122241.GA16098@trustfood.org>
Organization: CSR
X-Mailer: Claws Mail 3.5.0 (GTK+ 2.12.8; i386-redhat-linux-gnu)
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 18 Nov 2009 12:46:22.0812 (UTC) FILETIME=[222549C0:01CA684D]
X-Scanned-By: MailControl A-09-22-03 (www.mailcontrol.com) on 10.68.0.111

On Wed, 18 Nov 2009 13:22:41 +0100
Eric Smith <es@fruitcom.com> wrote:
> What is a nice clean way to do this mapping?
> To absolutely close a shell even if spaces or words on this line.

  clear-and-exit() {
    zle kill-whole-line
    exit
  }
  zle -N clear-and-exit

gives you a ZLE function you can bind a key to.  (I presume you don't
really need the exit to be generated by a ^D that looks like an
end-of-file.)  You don't actually need to delete the line first, although
it looks neater.

-- 
Peter Stephenson <pws@csr.com>            Software Engineer
Tel: +44 (0)1223 692070                   Cambridge Silicon Radio Limited
Churchill House, Cambridge Business Park, Cowley Road, Cambridge, CB4 0WZ, UK


Member of the CSR plc group of companies. CSR plc registered in England and Wales, registered number 4187346, registered office Churchill House, Cambridge Business Park, Cowley Road, Cambridge, CB4 0WZ, United Kingdom

