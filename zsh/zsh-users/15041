From zsh-users-return-15041-mason-zsh=primenet.com.au@zsh.org Sun May 02 10:21:46 2010
Return-Path: <zsh-users-return-15041-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18671 invoked by alias); 2 May 2010 10:21:46 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 15041
Received: (qmail 19890 invoked from network); 2 May 2010 10:21:44 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.0 required=5.0 tests=BAYES_00,DKIM_SIGNED,
	DKIM_VALID,DKIM_VALID_AU,FREEMAIL_FROM,RCVD_IN_DNSWL_NONE autolearn=ham
	version=3.3.1
Received-SPF: pass (ns1.primenet.com.au: SPF record at _spf.google.com designates 209.85.218.213 as permitted sender)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:cc:content-type
         :content-transfer-encoding;
        bh=uJ1yHC+Adn/bImvg1J3VYSKTh4R1J/OWD/oqWeSjj3k=;
        b=f3K/hq14TDyldMCrxlXtUDddykkUzwtSXtslLGMFy3zIa45UoIyY6/xi/weqT+m2ZS
         b+wmzJjohlwE2IXnzj2ACjfT9CKcAhP3wgWUT0x29IZgkXFbzKM4mfkQGyNUzfudtsfK
         /zmTM7bJa1Qj0vM/jJmKKEz0KRE1de6gTlEcM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type:content-transfer-encoding;
        b=QqZZBqPU6FpMMZ1yEinZR+9WFmE7srBLyaSQ7zRuHXIcsVd7E53c8Q2ne7xfGh4Tih
         N01MpbiicWi7obgWRV7nB7Krw0GkpMZ6OaDBBnvDczAlpL1EpCHp20MaQknjVTRC40vG
         gN8aW6aVD6J23p/o43wMZf1Ke1Q1Lv1gBt/3o=
MIME-Version: 1.0
In-Reply-To: <r2i691a5d911005020216n48fed84ck4dad17ac306fd0cc@mail.gmail.com>
References: <n2jd663d1bd1005010619l8468362al946bcda107870f95@mail.gmail.com>
	 <t2z691a5d911005011327ud5958ddld67950ad59baf1cf@mail.gmail.com>
	 <s2gd663d1bd1005011351xf00128bbjbc3dd2f41aeb822@mail.gmail.com>
	 <r2i691a5d911005020216n48fed84ck4dad17ac306fd0cc@mail.gmail.com>
Date: Sun, 2 May 2010 13:21:37 +0300
Message-ID: <o2zd663d1bd1005020321qe70a503fuc16bf29735d32c5b@mail.gmail.com>
Subject: Re: Context-aware file name completion with preferences
From: Mikael Puhakka <mr.progo@gmail.com>
To: Bart Schaefer <schaefer@brasslantern.com>
Cc: zsh-users@zsh.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On Sun, May 2, 2010 at 12:16, Bart Schaefer <schaefer@brasslantern.com> wro=
te:
> On Sat, May 1, 2010 at 1:51 PM, Mikael Puhakka <mr.progo@gmail.com> wrote=
:
>> Whoah! Thanks for a thorough explanation on how this works!
>
> You're welcome, but I can't really pretend that explanation was all
> that thorough. =A0There's rather a lot of details I'm not going to try
> to write out ...
>

Yes, well I noticed that the explanation of yours doesn't actually
allow completing the other kinds of files. I adapted one example for
PDF reading:

zstyle ':completion:*:(xpdf|epdfview|okular):*' file-patterns \
  '*.(pdf|ps):readable-files *(-/):directories' '*:all-files'

Where I had to move directories to the first set of quotes. Using and
slightly modifying the set example it wouldn't allow me to complete
directories at all. I think this version doesn't cover the case
'*:all-files' at all either. For that particular example (pdf
reading/browsing) this is excellent, for the rest, I'll wait for the
book.

Another good example of this kind of priority completion would be
video watching. For mplayer, I'd like to prefer extensions like "avi",
"mkv" etc. But not all videos have a common extension if not extension
at all! For instance, stream dumps can be without any specific name.
This is why I find important that zsh will also complete names that
aren't preferred, if there are no good choices. Your example pushed me
towards, however. And now I have something concrete to grep and find
in the manuals. The book will hopefully answer the rest.

>> Is there any other book recommendation for mastering zsh?
>
> No other book, but the online user guide may be helpful (don't let the
> 2003 date on the front page worry you, it has been updated a bit more
> recently than that).
>
> http://zsh.sourceforge.net/Guide/zshguide.html
>

This one is familiar. Perhaps not the clearest or simplest guide, (I
learned the basics of Zsh using the FAQ) but as a reference quite
good. The manpages are too enormous to be learned from! But being
references they work all along well.


-- Mikael

