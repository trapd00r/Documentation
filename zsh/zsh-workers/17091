From zsh-workers-return-17091-mason-zsh=primenet.com.au@sunsite.dk Wed May 08 11:57:06 2002
Return-Path: <zsh-workers-return-17091-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 23058 invoked from network); 8 May 2002 11:57:05 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 8 May 2002 11:57:05 -0000
Received: (qmail 17291 invoked by alias); 8 May 2002 11:56:50 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 17091
Received: (qmail 17278 invoked from network); 8 May 2002 11:56:48 -0000
From: Borsenkow Andrej <Andrej.Borsenkow@mow.siemens.ru>
To: "'Zsh hackers list'" <zsh-workers@sunsite.dk>
Subject: RE: Modules build framework/autoconf-2.13 
Date: Wed, 8 May 2002 15:56:40 +0400
Message-ID: <6134254DE87BD411908B00A0C99B044F02E89A78@mowd019a.mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.3416
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
In-Reply-To: <13754.1020858119@csr.com>
Importance: Normal

> 
> Sounds quite reasonable. 

Oh well :-)

> It might make it more difficult to handle
> problems with include file location and dependencies on other modules,
> but that's currently not all that robust.  Possibly the directory
> structure could reflect this, dependencies living in higher
directories.
> (Doesn't help multiple dependencies, though.)
> 

What I plan is to first collect modules list then sort them before
generating Makefile.in's. This way you know all dependencies in advance
(or dependencies loop for that matter).

> It would be neatest if it were possible to add an new module and add
its
> tools without regenerating the whole set, i.e. looping over separate
> configure files rather than appending them to the main one.
> 

Sure! That is what configure does. Of course, 2.5x does not cache by
default which means it will rerun the whole configure(s) (unless you
have told it to create cache).

> Subdirectories ought to be subdirectories of Modules, not directly of
> Src.  I don't know what would happen with Zle.
> 

The same. Move it as modules under Modules. It is not in any way
different.

Would it be O.K. to get rid of autoconf 2.13 compatibility? 

-andrej

