From zsh-workers-return-11316-mason-zsh=primenet.com.au@sunsite.auc.dk Wed May 10 23:57:45 2000
Return-Path: <zsh-workers-return-11316-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1335 invoked from network); 10 May 2000 23:57:44 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 10 May 2000 23:57:44 -0000
Received: (qmail 17628 invoked by alias); 10 May 2000 23:57:38 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 11316
Received: (qmail 17618 invoked from network); 10 May 2000 23:57:38 -0000
Sender: opk
Message-ID: <3919E90B.F61DD894@u.genie.co.uk>
Date: Wed, 10 May 2000 23:56:11 +0100
From: Oliver Kiddle <opk@u.genie.co.uk>
X-Mailer: Mozilla 4.61 [en] (X11; I; Linux 2.2.13 i586)
X-Accept-Language: en
MIME-Version: 1.0
To: "zsh-workers@sunsite.auc.dk" <zsh-workers@sunsite.auc.dk>
Subject: Re: `typeset -U' and exported tied parameters
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Peter Stephenson wrote:

> The change to uniqarray() is just because no-one was using the return
> value.

You missed the other return statement so I got an error message from the
SGI compiler (gcc only gives a warning).

Index: Src/params.c
===================================================================
RCS file: /cvsroot/zsh/zsh/Src/params.c,v
retrieving revision 1.8
diff -u -r1.8 params.c
--- Src/params.c        2000/05/10 19:15:58     1.8
+++ Src/params.c        2000/05/10 23:49:27
@@ -2305,7 +2305,7 @@
     char **t, **p = x;
 
     if (!x || !*x)
-       return 0;
+       return;
     while (*++p)
        for (t = x; t < p; t++)
            if (!strcmp(*p, *t)) {

