From zsh-workers-return-20616-mason-zsh=primenet.com.au@sunsite.dk Fri Dec 10 02:26:20 2004
Return-Path: <zsh-workers-return-20616-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18557 invoked from network); 10 Dec 2004 02:26:19 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 10 Dec 2004 02:26:19 -0000
Received: (qmail 67097 invoked from network); 10 Dec 2004 02:26:12 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 10 Dec 2004 02:26:12 -0000
Received: (qmail 22861 invoked by alias); 10 Dec 2004 02:25:58 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 20616
Received: (qmail 22851 invoked from network); 10 Dec 2004 02:25:57 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 10 Dec 2004 02:25:57 -0000
Received: (qmail 66694 invoked from network); 10 Dec 2004 02:25:57 -0000
Received: from ykdmp01.yokohama.riken.go.jp (134.160.82.30)
  by a.mx.sunsite.dk with SMTP; 10 Dec 2004 02:25:55 -0000
Received: (qmail 263 invoked by uid 0); 10 Dec 2004 11:25:53 +0900
Received: from unknown (HELO jota.gsc.riken.go.jp) (127.0.0.1)
  by 0 with SMTP; 10 Dec 2004 11:25:53 +0900
Received: from [10.64.66.241] (ipm04.gsc.riken.go.jp [134.160.83.74])
	by jota.gsc.riken.go.jp (Postfix) with ESMTP id 8AAF034854DF
	for <zsh-workers@sunsite.dk>; Fri, 10 Dec 2004 11:25:52 +0900 (JST)
Mime-Version: 1.0 (Apple Message framework v619)
Content-Transfer-Encoding: 7bit
Message-Id: <D0867C35-4A52-11D9-A8CE-000A95A6799C@jota.gsc.riken.go.jp>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: zsh-workers@sunsite.dk
From: =?ISO-2022-JP?B?GyRCOWFAbhsoQiAbJEJPSxsoQg==?= <wkagawa@jota.gsc.riken.go.jp>
Subject: Minor bugs in _unsetopt and _main_complete ?
Date: Fri, 10 Dec 2004 11:25:53 +0900
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, hits=0.0 required=6.0 tests=none autolearn=no version=2.63
X-Spam-Hits: 0.0

While trying to configure the setopt and unsetopt commands to complete 
only unset and set options, respectively, I think I found some bugs in 
the _unsetopt and _main_complete functions.

In _unsetopt, "_options_set || _options" should be,

_options_unset || _options

and in _main_complete,

_options_set=(${(k)options[(R)on]})
_options_unset=(${(k)options[(R)off]})

should be,

_options_set=(${(k)options[(R)off]})
_options_unset=(${(k)options[(R)on]})

I am wondering if the CVS versions should include this fix.


Wataru Kagawa, Ph. D.
Postdoctoral Researcher
Protein Research Group
RIKEN (Physical and Chemical Research Institute)

W221, West Research Bldg.
1-7-22 Suehiro-cho, Tsurumi-ku
Yokohama, Japan 230-0045

tel.	045-503-9206
fax.	045-503-9201

