From zsh-workers-return-8551-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Nov 04 20:19:48 1999
Return-Path: <zsh-workers-return-8551-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10147 invoked from network); 4 Nov 1999 20:19:47 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 4 Nov 1999 20:19:47 -0000
Received: (qmail 18390 invoked by alias); 4 Nov 1999 20:19:42 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 8551
Received: (qmail 18383 invoked from network); 4 Nov 1999 20:19:42 -0000
Message-ID: <3821EA58.DD801D88@u.genie.co.uk>
Date: Thu, 04 Nov 1999 20:19:36 +0000
From: Oliver Kiddle <opk@u.genie.co.uk>
X-Mailer: Mozilla 4.7 [en] (Win95; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Zsh workers <zsh-workers@sunsite.auc.dk>
Subject: setopt globdots in _path_files
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

_path_files in bart-8 does a setopt globdots. The result is that all my
dot files are listed when I complete files without my typing the
initial dot. I think that _path_files should honour the user's setting
of globdots so if the option is required for some part of _path_files
to work properly, it should make sure it still behaves as if it hadn't
set globdots. Otherwise the patch below should do.

Oliver Kiddle

--- Completion/Core/_path_files.bak	Wed Nov  3 06:19:51 1999
+++ Completion/Core/_path_files	Thu Nov  4 20:06:45 1999
@@ -10,7 +10,7 @@
 
 typeset -U prepaths exppaths
 
-setopt localoptions nullglob rcexpandparam globdots
+setopt localoptions nullglob rcexpandparam
 unsetopt markdirs globsubst shwordsplit nounset
 
 local sopt='-' gopt='' opt

