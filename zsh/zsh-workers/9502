From zsh-workers-return-9502-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Feb 01 10:50:38 2000
Return-Path: <zsh-workers-return-9502-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 26935 invoked from network); 1 Feb 2000 10:50:37 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 1 Feb 2000 10:50:37 -0000
Received: (qmail 19168 invoked by alias); 1 Feb 2000 10:50:31 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 9502
Received: (qmail 19161 invoked from network); 1 Feb 2000 10:50:30 -0000
Cc: "Bart Schaefer" <schaefer@candle.brasslantern.com>
To: zsh-workers@math.gatech.edu
Subject: Re: match again
References: <200001281005.LAA20292@beta.informatik.hu-berlin.de> <mvb1z72w3bq.fsf@phobos.lrde.epita.fr> <1000130012744.ZM23760@candle.brasslantern.com>
X-Attribution: adl
From: Alexandre Duret-Lutz <duret_g@epita.fr>
Date: 01 Feb 2000 11:48:31 +0100
In-Reply-To: "Bart Schaefer"'s message of "Sun, 30 Jan 2000 01:27:44 +0000"
Message-ID: <mvb1z6x9p1c.fsf@phobos.lrde.epita.fr>
Lines: 107
User-Agent: Gnus/5.0803 (Gnus v5.8.3) Emacs/20.5
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

>>> "Bart" == Bart Schaefer <schaefer@candle.brasslantern.com> writes:

 Bart> On Jan 28,  5:47pm, Alexandre Duret-Lutz wrote:
 Bart> } Subject: Re: match again
 Bart> }
 Bart> } -compstyle '*:options' prefix-hidden yes"
 Bart> } +zstyle '*:options' prefix-hidden yes"

 Bart> (And several similar examples in comments.)

 Bart> These are not equivalent.  Is it really correct to change it this way?
 Bart> The actual equivalent of the "compstyle" statement would be 

 Bart> 	zstyle ':completion*:options' prefix-hidden yes

Oops, sorry!  So let's remove my garbage...
(this also fix the comment in _urls that used 
ztyle incorrectly (well, I think :-))

Index: Completion/User/_urls
--- Completion/User/_urls Sat, 29 Jan 2000 09:42:57 +0100 Alexandre
+++ Completion/User/_urls Tue, 01 Feb 2000 11:08:04 +0100 Alexandre
@@ -6,7 +6,7 @@
 #
 # Configuration styles used:
 #
-#  urls:path
+#  path
 #    The path to a directory containing a URL database, such as:
 #
 #      % cd ~/.zsh/urls
@@ -29,14 +29,14 @@
 #      % cat bookmark/zsh/meta
 #      http://www.zsh.org/
 #
-#  urls:local
+#  local
 #    Specify a local web server as an array with three elements:
 #      <hostname> <doc root> <user area>
 #    where hostname is the name of the web server, doc root is the path to
 #    the default web pages for the server and user area is the directory
 #    name used by a user placing web pages within their home area.
 #    E.g.:
-#      zstyle '*:urls:local' www /usr/local/apache/htdocs public_html
+#      zstyle ':completion:*:urls' local www /usr/local/apache/htdocs public_html
 
 local ipre scheme host user uhosts ret=1 expl
 local urls_path localhttp
Index: Completion/Core/compinit
--- Completion/Core/compinit Sat, 29 Jan 2000 09:42:57 +0100 Alexandre
+++ Completion/Core/compinit Tue, 01 Feb 2000 11:42:13 +0100 Alexandre
@@ -358,7 +358,7 @@
       tmp="'*:options' prefix-needed yes"
       [[ "$val" = hide* ]] &&
           tmp="$tmp
-zstyle '*:options' prefix-hidden yes"
+zstyle ':completion*:options' prefix-hidden yes"
       ;;    
     group_matches)
       tmp="'*' group-name ''"
@@ -403,7 +403,7 @@
       tmp="'*' last-prompt 'yes'"
       ;;
     esac
-    [[ -n "$tmp" ]] && style="${style}${cmt}zstyle ${tmp}
+    [[ -n "$tmp" ]] && style="${style}${cmt}zstyle :completion${tmp}
 "
   done
 
Index: Completion/Core/_menu
--- Completion/Core/_menu Sat, 29 Jan 2000 09:42:57 +0100 Alexandre
+++ Completion/Core/_menu Tue, 01 Feb 2000 11:16:05 +0100 Alexandre
@@ -6,7 +6,7 @@
 # implemented with the new completion system.
 # Use this one before the normal _complete completer, as in:
 #
-#   zstyle "*" completer _menu _complete
+#   zstyle ":completion:*" completer _menu _complete
 
 if [[ -n "$compstate[old_list]" ]]; then
 
Index: Completion/Core/_match
--- Completion/Core/_match Sat, 29 Jan 2000 09:42:57 +0100 Alexandre
+++ Completion/Core/_match Tue, 01 Feb 2000 11:16:43 +0100 Alexandre
@@ -1,7 +1,7 @@
 #autoload
 
 # This is intended to be used as a completer function after the normal
-# completer as in: `zstyle "*" completer _complete _match'.
+# completer as in: `zstyle ":completion:*" completer _complete _match'.
 # It temporarily switches on pattern matching, allowing you to try 
 # completion on patterns without having to setopt glob_complete.
 #
Index: Completion/Base/_combination
--- Completion/Base/_combination Sat, 29 Jan 2000 09:42:57 +0100 Alexandre
+++ Completion/Base/_combination Tue, 01 Feb 2000 11:38:44 +0100 Alexandre
@@ -11,7 +11,7 @@
 #  Assume an user sets the style `hosts-ports-users' as for the my-accounts
 #  tag:
 #
-#    zstyle '*:telnet*:my-accounts' hosts-ports-users \
+#    zstyle ':completion:*:telnet*:my-accounts' hosts-ports-users \
 #      host0:: host1::user1 host2::user2
 #      mail-server:{smtp,pop3}:
 #      news-server:nntp:
-- 
Alexandre Duret-Lutz

