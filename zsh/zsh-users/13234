From zsh-users-return-13234-mason-zsh=primenet.com.au@sunsite.dk Thu Sep 18 03:00:35 2008
Return-Path: <zsh-users-return-13234-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13690 invoked from network); 18 Sep 2008 03:00:33 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00,HTML_MESSAGE
	autolearn=ham version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 18 Sep 2008 03:00:33 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 11086 invoked from network); 18 Sep 2008 03:00:18 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 18 Sep 2008 03:00:18 -0000
Received: (qmail 15804 invoked by alias); 18 Sep 2008 02:59:49 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 13234
Received: (qmail 15793 invoked from network); 18 Sep 2008 02:59:48 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 18 Sep 2008 02:59:48 -0000
Received: from wa-out-1112.google.com (wa-out-1112.google.com [209.85.146.176])
	by bifrost.dotsrc.org (Postfix) with ESMTP id B0C9B802720D
	for <zsh-users@sunsite.dk>; Thu, 18 Sep 2008 04:59:45 +0200 (CEST)
Received: by wa-out-1112.google.com with SMTP id v27so2251022wah.21
        for <zsh-users@sunsite.dk>; Wed, 17 Sep 2008 19:59:44 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:message-id:date:from:to
         :subject:mime-version:content-type;
        bh=4lBaHCNn1LC7fnOY8NsBGeI5GX/3LDu8bl5JxoWDqMc=;
        b=reCaa/ocvbV6WN94hvhhBPc1URW2YclDZFf9BDq5Ljg1sfIyg+Nu5XS7c38OVJma69
         VlGwxtfZtX78d6KbAkYa+4rHn2RTV/tcVfAGylH/jzp3tEejLJIWQ7H55YtdYNu430e0
         c2mwaMntZY+J5y4B2lXpdV1AwlFoGkm0JOsQQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=message-id:date:from:to:subject:mime-version:content-type;
        b=GdQsLks7QXKtoBSLHy/H/dFKOZFssnCbccuHXyi7I4dCbuhmxNKdzAIEtBXwG4JC0k
         dAt6mUht21JzmamKveqM8fJb9HHSZvAo5N5XltfJkOSQn8EQQblH7DvQyQwZj3BfNtRr
         54TllXNhSu/IhOrhxN4mH6HnOHp+6tsDhzWdc=
Received: by 10.115.47.13 with SMTP id z13mr2568878waj.197.1221706784135;
        Wed, 17 Sep 2008 19:59:44 -0700 (PDT)
Received: by 10.114.159.2 with HTTP; Wed, 17 Sep 2008 19:59:44 -0700 (PDT)
Message-ID: <6cd6de210809171959pf390cafr7858b7769ccfde85@mail.gmail.com>
Date: Wed, 17 Sep 2008 22:59:44 -0400
From: "Rocky Bernstein" <rocky.bernstein@gmail.com>
To: "zsh users mailing list" <zsh-users@sunsite.dk>
Subject: using history in a command processor
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_9979_26292126.1221706784125"
X-Virus-Scanned: ClamAV 0.92.1/8275/Thu Sep 18 03:16:55 2008 on bifrost
X-Virus-Status: Clean

------=_Part_9979_26292126.1221706784125
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I'm writing basically a command processor and want to use the zsh history
mechanism for that. I see that using fc I can read a history file and write
it, but how do I put those commands in the history that I want? Right now
I'm using vared when in an interactive terminal and read when not. But after
reading I do a check on the command. The input might get changed a little
and that's what I want to push onto the history.

Also, is there a way to delete an entry?

In other words, what I'm looking for is an equivalent to what in bash  is
"history -s"

Thanks.

------=_Part_9979_26292126.1221706784125
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

<div dir="ltr">I&#39;m writing basically a command processor and want to use the zsh history mechanism for that. I see that using fc I can read a history file and write it, but how do I put those commands in the history that I want? Right now I&#39;m using vared when in an interactive terminal and read when not. But after reading I do a check on the command. The input might get changed a little and that&#39;s what I want to push onto the history. <br>
<br>Also, is there a way to delete an entry? <br><br>In other words, what I&#39;m looking for is an equivalent to what in bash&nbsp; is&nbsp; &quot;history -s&quot; <br><br>Thanks.<br></div>

------=_Part_9979_26292126.1221706784125--

