From zsh-workers-request@euclid.skiles.gatech.edu Tue Jun 10 11:25:13 1997
Return-Path: <zsh-workers-request@euclid.skiles.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 1305 invoked from network); 10 Jun 1997 11:25:10 -0000
Received: from euclid.skiles.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 10 Jun 1997 11:25:10 -0000
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id HAA10741; Tue, 10 Jun 1997 07:15:39 -0400 (EDT)
Resent-Date: Tue, 10 Jun 1997 07:15:39 -0400 (EDT)
From: marcok@tchibm3.chemie.uni-karlsruhe.de (Marco Kattannek)
Message-Id: <9706101118.AA31816@tchibm3.chemie.uni-karlsruhe.de>
Subject: Re: zsh does not execute skripts on AIX?
In-Reply-To: <9706091732.AA18536@belgium.fishkill.ibm.com> from "Zoltan T. Hidvegi" at "Jun 9, 97 01:32:30 pm"
To: hzoli@VNET.IBM.COM (Zoltan T. Hidvegi)
Date: Tue, 10 Jun 1997 13:24:46 +0200 (CES)
Cc: zsh-workers@math.gatech.edu (zsh)
X-Mailer: ELM [version 2.4ME+ PL31 (25)]
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"c1_Fz.0.md2.RTJdp"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3227
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

According to Zoltan T. Hidvegi:
> > I have encountered a strange behavour of the zsh on AIX 3.2 .
> > The zsh (2.5 and 3.1) does not execute scripts that are passed to the
> > /bin/sh . The sh drops the error message:
> > : 0402-026 The specified data is not a valid identifier.
> 
> Looks like there is some junk in the environment which confuses /bin/sh.
> I've never had such problems on AIX.  Probably the program which calls zsh
> put something into the environment which sh cannot handle.  Zsh just passes
> this down to sh while ksh probably filters this out.
> 
> Zoltan
First of all, thank you for your advise. In the meantime I have found out,
that the PROBLEM is more complex. We use the "ssh" for remote login.
This only happens, when you use a terminal emulation (hpterm or xterm)
started with the secure shell (ssh, f.e. ssh badibm13 ;). When I explicitly
use the program "rlogin" (f.e. rlogin fineibm12 :) everything works fine????
But as I explained, when I use ssh and the zsh and I process the cycle
"exec ksh" -> "exec zsh" , then I CAN USE skripts with the zsh in a
remote terminal controled by the ssh?????????? And this is very strange,
don't you think.
Strange too is this behaviour, while invoking a shellskript with
"uglyskript13" does not work (without the ksh-zsh cycle trick), the command
". niceskript10" executes the skript??????  Does the zsh treat the skript
executing mechanisms with and without DOT different? (the skripts are of couse
executable)
I do find this behaviour very odd, but with the workaround mentioned
above I can go on using the zsh. Maybe this should be send to the secure
shell people too. Someone should find out, if this only happens with AIX 3.2.

In short: Remote terminal emulation started with the ssh and the zsh, can
          not execute a executable skript on AIX 3.2 by typing the name
          of the skript. Executing with ". skript" (DOT skript) works.
          Rlogin and zsh, or ssh and ksh works too. Executing the ksh
          (exec ksh) and then the zsh again (exec zsh), fixes the problem.
         
                                          Greetings              Marco

e-mail: marcok@tchibm3.chemie.uni-karlsruhe.de

