From zsh-users-return-2305-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Apr 14 16:03:07 1999
Return-Path: <zsh-users-return-2305-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 29804 invoked from network); 14 Apr 1999 16:03:05 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 14 Apr 1999 16:03:05 -0000
Received: (qmail 29909 invoked by alias); 14 Apr 1999 16:02:37 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 2305
Received: (qmail 29901 invoked from network); 14 Apr 1999 16:02:35 -0000
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <990414090225.ZM1967@candle.brasslantern.com>
Date: Wed, 14 Apr 1999 09:02:25 -0700
In-Reply-To: <19990413153219.A20809@lyric.cig.mot.com>
Comments: In reply to "Larry P. Schrof" <schrof@cig.mot.com>
        "Second form of cd." (Apr 13,  3:32pm)
References: <19990413153219.A20809@lyric.cig.mot.com> 
	<19990413170738.A9872@astaroth.nit.gwu.edu>
In-Reply-To: <19990413170738.A9872@astaroth.nit.gwu.edu>
Comments: In reply to Sweth Chandramouli <sweth@astaroth.nit.gwu.edu>
        "Re: Second form of cd." (Apr 13,  5:07pm)
X-Mailer: Z-Mail (4.0b.820 20aug96)
To: zsh-users@sunsite.auc.dk
Subject: Re: Second form of cd.
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Apr 13,  3:32pm, Larry P. Schrof wrote:
} Subject: Second form of cd.
}
} I am wondering if this an intentional feature or a bug.  I am running
} 3.1.5...

It's the intended behavior.  Interpret that as you will.

} When you type 'cd <old> <new>' on the command line, zsh replaces
} only the FIRST occurance of <old> in the directory. I've actually run
} into situations where <old> occurs more than once in $PWD, and I'd
} like <new> to replace this second occurance of old.

The way I usually deal with this is to disambiguate the replacement
string somehow.  E.g. suppose the two directories are

	~/src/package/src/subdir/
	~/src/package/build/subdir/

"cd src build" attempts to change to ~/build/package/src/subdir/, which
doesn't exist.  So instead I type something like

	cd src/s build/s

to force the match on the correct substring.

} I am requesting that <new> replace ALL occurances of <old> in $PWD, not
} just the first one.

That would, in many cases, be equally wrong.  The best solution for this
is

	cd $PWD:gs/new/old

On Apr 13,  5:07pm, Sweth Chandramouli wrote:
} Subject: Re: Second form of cd.
}
} 	along the same lines, the ^old^new form of history substitution
} replaces just the first instance of old.  perhaps a flag of some sort 
} (cd -g, maybe, for cd, and ^^old^new for history substitution?) could be
} added to indicate that global replacement should occur?

What's wrong with !!:gs/old/new ?  Horrors, four whole extra characters?

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

