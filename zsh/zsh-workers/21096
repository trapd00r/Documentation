From zsh-workers-return-21096-mason-zsh=primenet.com.au@sunsite.dk Tue Apr 05 19:06:37 2005
Return-Path: <zsh-workers-return-21096-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10743 invoked from network); 5 Apr 2005 19:06:36 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 5 Apr 2005 19:06:36 -0000
Received: (qmail 84800 invoked from network); 5 Apr 2005 19:06:29 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 5 Apr 2005 19:06:29 -0000
Received: (qmail 19865 invoked by alias); 5 Apr 2005 19:06:26 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 21096
Received: (qmail 19843 invoked from network); 5 Apr 2005 19:06:25 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 5 Apr 2005 19:06:25 -0000
Received: (qmail 84564 invoked from network); 5 Apr 2005 19:06:25 -0000
Received: from acolyte.scowler.net (216.254.112.45)
  by a.mx.sunsite.dk with SMTP; 5 Apr 2005 19:06:20 -0000
Received: by acolyte.scowler.net (Postfix, from userid 1000)
	id 251FB7004A; Tue,  5 Apr 2005 15:06:16 -0400 (EDT)
Date: Tue, 5 Apr 2005 15:06:16 -0400
From: Clint Adams <schizo@debian.org>
To: zsh-workers@sunsite.dk, 303278-forwarded@bugs.debian.org
Subject: Re: Bug#303278: zsh: completions for gv are for pre 3.6
Message-ID: <20050405190616.GA24705@scowler.net>
Mail-Followup-To: zsh-workers@sunsite.dk,
	303278-forwarded@bugs.debian.org
References: <E1DIsyg-0002EX-S2@soup>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <E1DIsyg-0002EX-S2@soup>
User-Agent: Mutt/1.5.6+20040907i
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=6.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.5

> The completion for gv (functions/Completion/X/_gv) uses the pre-3.6
> single dash command line arguments rather than the new POSIX-like
> syntax used (with two dashes) in 3.6.  The easiest way to detect

Is it worth it to check which version of gv is in use?

Index: Completion/X/Command/_gv
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/X/Command/_gv,v
retrieving revision 1.1
diff -u -r1.1 _gv
--- Completion/X/Command/_gv	2 Apr 2001 12:13:49 -0000	1.1
+++ Completion/X/Command/_gv	5 Apr 2005 19:03:58 -0000
@@ -1,39 +1,42 @@
-#compdef gv gview
+#compdef gv
 
-_xt_arguments \
-  '(-nosafer)-safer' \
-  '(-safer)-nosafer' \
-  '(-noquiet)-quiet' \
-  '(-quiet)-noquiet' \
-  '(-nocenter)-center' \
-  '(-center)-nocenter' \
-  '(-noswap)-swap' \
-  '(-swap)-noswap' \
-  '(-noantialias)-antialias' \
-  '(-antialias)-noantialias' \
-  '(-nodsc)-dsc' \
-  '(-dsc)-nodsc' \
-  '(-noeof)-eof' \
-  '(-eof)-noeof' \
-  '(-nopixmap)-pixmap' \
-  '(-pixmap)-nopixmap' \
-  '(-nowatch)-watch' \
-  '(-watch)-nowatch' \
-  '(-noresize)-resize' \
-  '(-resize)-noresize' \
-  '(-grayscale -color)-monochrome' \
-  '(-monochrome -color)-grayscale' \
-  '(-grayscale -color)-monochrome' \
-  '(-landscape -seascape -upsidedown)-portrait' \
-  '(-portrait -seascape -upsidedown)-landscape' \
-  '(-portrait -landscape -upsidedown)-seascape' \
-  '(-portrait -landscape -seascape)-upsidedown' \
-  -{h,help,v,spartan} \
-  '-arguments:ghostscript arguments:' \
-  '-page:label of first page:' \
-  '-media:page size:(Letter Legal Statement Tabloid Ledger Folio Quarto 10x14 Executive A3 A4 A5 B4 B5)' \
-  '-scale:scale entry:' \
-  '-scalebase:scale base:' \
-  '-ad:resource file:_files' \
-  '-style:resource file:_files' \
-  '*:file: _pspdf -z'
+_arguments \
+  '-geometry:geometry:_x_geometry' \
+  '(--nosafer)--safer' \
+  '(--safer)--nosafer' \
+  '(--noquiet)--quiet' \
+  '(--quiet)--noquiet' \
+  '(--nocenter)--center' \
+  '(--center)--nocenter' \
+  '(--noswap)--swap' \
+  '(--swap)--noswap' \
+  '(--noantialias)--antialias' \
+  '(--antialias)--noantialias' \
+  '(--nodsc)--dsc' \
+  '(--dsc)--nodsc' \
+  '(--noeof)--eof' \
+  '(--eof)--noeof' \
+  '(--nopixmap)--pixmap' \
+  '(--pixmap)--nopixmap' \
+  '(--nowatch)--watch' \
+  '(--watch)--nowatch' \
+  '(--noresize)--resize' \
+  '(--resize)--noresize' \
+  '(--grayscale --color)--monochrome' \
+  '(--monochrome --color)--grayscale' \
+  '(--grayscale --color)--monochrome' \
+  '(--landscape --seascape --upsidedown)--portrait' \
+  '(--portrait --seascape --upsidedown)--landscape' \
+  '(--portrait --landscape --upsidedown)--seascape' \
+  '(--portrait --landscape --seascape)--upsidedown' \
+  --{help,spartan} \
+  -{h,v} \
+  '--arguments=:ghostscript arguments:' \
+  '--page=:label of first page:' \
+  '--media=:page size:(Letter Legal Statement Tabloid Ledger Folio Quarto 10x14 Executive A3 A4 A5 B4 B5)' \
+  '--orientation=:orientation:' \
+  '--scale=:scale entry:' \
+  '--scalebase=:scale base:' \
+  '--ad=:resource file:_files' \
+  '--style=:resource file:_files' \
+  '*:file: _pspdf --z'

