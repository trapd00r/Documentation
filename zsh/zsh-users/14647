From zsh-users-return-14647-mason-zsh=primenet.com.au@zsh.org Mon Dec 14 14:19:38 2009
Return-Path: <zsh-users-return-14647-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 3762 invoked by alias); 14 Dec 2009 14:19:38 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 14647
Received: (qmail 29109 invoked from network); 14 Dec 2009 14:19:35 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-3.6 required=5.0 tests=BAYES_00,RCVD_IN_DNSWL_LOW
	autolearn=ham version=3.2.5
Received-SPF: none (ns1.primenet.com.au: domain at thorstenkampe.de does not designate permitted sender hosts)
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed/relaxed; d=messagingengine.com; h=message-id:from:to:mime-version:content-transfer-encoding:content-type:subject:date; s=smtpout; bh=dJYVNawNy2pwrDSNV/NKcTY7Eug=; b=heUOZD7wSNaxraUj0wz2xM0ncApNFreMjfjMyTMu0t1p7DVwZc0+z9wrzg9bJfPCQcgHFAdzEwI/kP6vmEM1lIc3WENVFTv/p/QV2fkjLBK8sVSHe2i0rO1M1wdFVmtrI0T9lNEjtQVNdBeddVsQItOPRBtY8XAy6x2OjitmXck=
Message-Id: <1260800369.32429.1350005931@webmail.messagingengine.com>
X-Sasl-Enc: pKIWORpq/gzV66/X1DHMBpkXQ2XKcD/Zc9bRJ6R3zU/i 1260800369
From: "Thorsten Kampe" <thorsten@thorstenkampe.de>
To: zsh-users@zsh.org
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="us-ascii"
X-Mailer: MessagingEngine.com Webmail Interface
Subject: Unable to read history on latest Cygwin
Date: Mon, 14 Dec 2009 15:19:29 +0100

Hi,

the new Cygwin 1.7 release is soon to be released. According to Cygwin 
Project Co-Leader Corinna Vinschen, Cygwin will drop "fake support" for 
emulating hardlinks on FAT32: "Hardlinks on FAT [...] have been faked in 
1.5 by copying the file. The decision was made a couple of weeks back to 
drop this fake since the application should know that the underlying 
filesystem is not capable of creating hardlinks."

The result of that is that I'm not able to run zsh "portable" from a 
FAT32 USB thumb drive: "zsh: failed to create hard link as lock file 
/home/thorsten/.zhistory.LOCK: operation not permitted". (Zsh is running 
but history is neither saved nor written). histfcntllock also results in 
errors.

"Your best bet now might be to report this as an upstream bug to zsh, 
and recommend that they use an alternative approach, such as symlink 
locking (the way emacs does things), if hard link locking doesn't work 
because of the underlying file system."

Bash does not exihibit the error.

Thorsten

