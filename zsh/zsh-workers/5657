From zsh-workers-return-5657-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Mar 05 11:41:39 1999
Return-Path: <zsh-workers-return-5657-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17616 invoked from network); 5 Mar 1999 11:41:38 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 5 Mar 1999 11:41:38 -0000
Received: (qmail 14086 invoked by alias); 5 Mar 1999 11:41:17 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 5657
Received: (qmail 14021 invoked from network); 5 Mar 1999 11:41:11 -0000
From: "Andrej Borsenkow" <borsenkow.msk@sni.de>
To: "Sven Wischnowsky" <wischnow@informatik.hu-berlin.de>,
        <zsh-workers@sunsite.auc.dk>
Subject: RE: PATCH: Re: Shuld it be so? and Re: _tar
Date: Fri, 5 Mar 1999 14:40:27 +0300
Message-ID: <002201be66fc$f74923f0$21c9ca95@mowp.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2013.2901
In-reply-to: <199903051102.MAA03885@beta.informatik.hu-berlin.de>

>
> > bor@itsrm2:~%> l /u/l/m<TAB>
> > bor@itsrm2:~%> l /u1/lager-db/minileit.dbs/
> > u1/   usr/
> > ^^^^^^^^^^ Somewhat strange. We really have /usr/lib/macros
> (and more), but
> > this list is a bit unexpected (well, at least I would expect
> then to first
> > menu complete ``/u1'' and ``/usr'' and then go on respectively)
>
> It now keeps the original suffix if menucompletion is used. With
> normal completion it still tries to build as long a suffix as
> possible.

Well, now it cycles through /u1 and /usr, leaving the tail unmodified. And?
I have no way to say "go ahead, and complete the next path component". And
inserted string is unusable as is.

I'd expect, that in case of menucompletion the whole list (after common
prefix) would simply be spit out. Yes, it is ugly if no common prefix
exists. But then you get what you asked for.

> [Again, I had forgotten menucompletion (I just can't imagine how one
> would like to use it... a matter of being used to, I think).]
>

Now I am inclined to not use it as well. But there may be some users who do
...

> Anyway, if you try it, you will notice, that the cursor is left at the
> end of the whole string, even though only the beginning is cycled
> through. Since I don't like menucompletion I have to ask: would you
> like to have the cursor after the changed/listed component? (I'm not
> sure if I can manage to implement that, though.)
>

Me not. See above. Until we come to a clean solution how to implement
partial, incremental completion (I had some weird idea today morning) - give
a user the whole list. We do it in most cases anyway.

>
> This is now allowed if `globcomplete' is set. Otherwise the pattern
> characters will still be quoted (which is a good thing, I think).
>

Not sure. It is now O.K. with globcomplete set. But without globcomplete I
get ``/home/bor/s\*'' - what is it good for? Better would be to leave meta
as is. Cf

grep xxx /u/i/s/*.h<TAB>

I'd expect it to complete path and leave star in place.

cheers

/andrej

