From zsh-workers-return-22806-mason-zsh=primenet.com.au@sunsite.dk Mon Oct 02 10:08:57 2006
Return-Path: <zsh-workers-return-22806-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 11649 invoked from network); 2 Oct 2006 10:08:54 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.5 (2006-08-29) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.4 required=5.0 tests=AWL,BAYES_00,
	FORGED_RCVD_HELO autolearn=ham version=3.1.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 2 Oct 2006 10:08:54 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 19400 invoked from network); 2 Oct 2006 10:08:48 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 2 Oct 2006 10:08:48 -0000
Received: (qmail 27073 invoked by alias); 2 Oct 2006 10:08:46 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 22806
Received: (qmail 27064 invoked from network); 2 Oct 2006 10:08:45 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 2 Oct 2006 10:08:45 -0000
Received: (qmail 19037 invoked from network); 2 Oct 2006 10:08:45 -0000
Received: from cluster-d.mailcontrol.com (217.69.20.190)
  by a.mx.sunsite.dk with SMTP; 2 Oct 2006 10:08:44 -0000
Received: from cameurexb01.EUROPE.ROOT.PRI ([62.189.241.200])
	by rly15d.srv.mailcontrol.com (MailControl) with ESMTP id k92A8Gd9018989
	for <zsh-workers@sunsite.dk>; Mon, 2 Oct 2006 11:08:41 +0100
Received: from news01.csr.com ([10.103.143.38]) by cameurexb01.EUROPE.ROOT.PRI with Microsoft SMTPSVC(6.0.3790.1830);
	 Mon, 2 Oct 2006 11:08:38 +0100
Date: Mon, 2 Oct 2006 11:08:36 +0100
From: Peter Stephenson <pws@csr.com>
To: Zsh hackers list <zsh-workers@sunsite.dk>
Subject: Re: Remove (probably?) unhelpful check in narrow-to-region
Message-Id: <20061002110836.0c45c79a.pws@csr.com>
In-Reply-To: <237967ef0610011550m68473684q1184eb22b5190f33@mail.gmail.com>
References: <237967ef0610011550m68473684q1184eb22b5190f33@mail.gmail.com>
Organization: Cambridge Silicon Radio
X-Mailer: Sylpheed version 2.2.7 (GTK+ 2.8.20; i386-redhat-linux-gnu)
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 02 Oct 2006 10:08:38.0437 (UTC) FILETIME=[BAC80550:01C6E60A]
X-Scanned-By: MailControl A-07-04-02 (www.mailcontrol.com) on 10.68.0.125

"Mikael Magnusson" <mikachu@gmail.com> wrote:
> With this change, you can press set-mark, narrow-to-region with the
> cursor in the same place, without it you always have to include one
> character in the narrowed region.

I've changed it; I don't think I ever tried this out, but there's
no reason why it shouldn't work.

> PS I tried to include some ansi color codes in the -p and -P arguments
> but they just get printed literally, would it be possible to print
> them evaluated instead? I stared at the code for 5 minutes but
> couldn't figure out where the extra quoting is added.

At this point in the code we're dealing entirely with items supposedly
directly added by the user, which are therefore made visible in
zle_refresh.c.  General handling for highlighting would be very useful but
isn't that easy.  It's particularly hard if you want to track the start and
end of special effects through future modifications to the line.

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR PLC, Churchill House, Cambridge Business Park, Cowley Road
Cambridge, CB4 0WZ, UK                          Tel: +44 (0)1223 692070


To access the latest news from CSR copy this link into a web browser:  http://www.csr.com/email_sig.php

