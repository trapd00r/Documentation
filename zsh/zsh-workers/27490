From zsh-workers-return-27490-mason-zsh=primenet.com.au@zsh.org Tue Dec 08 13:19:08 2009
Return-Path: <zsh-workers-return-27490-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 15953 invoked by alias); 8 Dec 2009 13:19:08 -0000
Mailing-List: contact zsh-workers-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Workers List <zsh-workers.zsh.org>
List-Post: <mailto:zsh-workers@zsh.org>
List-Help: <mailto:zsh-workers-help@zsh.org>
Delivered-To: mailing list zsh-workers@zsh.org
X-Seq: 27490
Received: (qmail 2554 invoked from network); 8 Dec 2009 13:18:56 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.4 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received-SPF: pass (ns1.primenet.com.au: SPF record at _spf.google.com designates 209.85.218.210 as permitted sender)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:date:from:to:cc:subject
         :message-id:mail-followup-to:references:mime-version:content-type
         :content-disposition:content-transfer-encoding:in-reply-to
         :user-agent;
        bh=gqJb01RxWXSSdAuuGAUBzbaz8M/EA1aJ/ZaD8hIo/x8=;
        b=wfe630VC0nxoC1zChpsVYs+BdcY7yNwlOwEjV1UFiKHDny7XlVU0LHKy4Gd3ok2hCL
         qltJeaghiTUUq6N7LhHeAqqi4OgveTw8g6+xFaS18aQA5H8BdaR83hJdYMpUs9Ps8u0u
         9sC2tXvtoiEb5OKY+Tq5GmNL+ifzhmvBsBxYQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=date:from:to:cc:subject:message-id:mail-followup-to:references
         :mime-version:content-type:content-disposition
         :content-transfer-encoding:in-reply-to:user-agent;
        b=dtKqRFRkr2mbpGSBc3Zx+6fyMFq2jJN2brjsmXK2fql4zvFPTD0uGZ8F9YrptLA+D4
         viqM1MHGj6aExHWXnn0sz+EGYTWhxZND+MXXHJTaq8KKw0xy1PAOYlCGf6YxIystqZHm
         EWfOaAVuqiD5MSnF1ZxY+ao8ZvBHjomQdq83w=
Date: Tue, 8 Dec 2009 14:20:10 +0100
From: =?utf-8?B?xaB0xJtww6FuIE7Em21lYw==?= <stepnem@gmail.com>
To: "Alexey I. Froloff" <raorn@altlinux.org>
Cc: zsh-workers@zsh.org
Subject: Re: [PATCH] _git: offer changed files relative to current directory
Message-ID: <20091208132010.GF21684@headley>
Mail-Followup-To: "Alexey I. Froloff" <raorn@altlinux.org>,
	zsh-workers@zsh.org
References: <1259973163-20919-1-git-send-email-raorn@altlinux.org>
 <20091205120753.GA21684@headley>
 <20091205124258.GC3344@altlinux.org>
 <20091205151202.GE3344@altlinux.org>
 <20091205170053.GB21684@headley>
 <20091208120849.GG9335@altlinux.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
In-Reply-To: <20091208120849.GG9335@altlinux.org>
User-Agent: Mutt/1.5.20 (2009-08-27)

On Tue, Dec 08, 2009 at 03:08:49PM +0300, Alexey I. Froloff wrote:
> On Sat, Dec 05, 2009 at 06:00:53PM +0100, ??t??p??n N??mec wrote:
> > -  _wanted files expl 'index file' _multi_parts $@ - / files
> > +  _description files expl 'Changed files'
> > +  compadd "$expl[@]" - "$files[@]"
> You don't use _multi_parts, what's why you think my code is
> "wrong".
Yeah, I figured as much; it's "wrong" only with respect to my
expectations, of course -- I also noted already that your solution
actually seems to be more consistent with other Zsh behaviour.

My solution actually duplicates the output of `git status', so it
displays and completes the whole paths immediately, at any position
within the repository. I still think it's (more) convenient and I kind
of got used to it, but the code is ridiculous and I assume others prefer
the behaviour of your solution, too.  

Thanks to all for input, also to Mikael for the one-keystroke-saving
suggestion ;-).

Regards,

    Štěpán

