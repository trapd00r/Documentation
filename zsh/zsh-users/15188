From zsh-users-return-15188-mason-zsh=primenet.com.au@zsh.org Wed Jul 14 11:45:20 2010
Return-Path: <zsh-users-return-15188-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 28016 invoked by alias); 14 Jul 2010 11:45:20 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 15188
Received: (qmail 19139 invoked from network); 14 Jul 2010 11:45:08 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.9 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.3.1
Received-SPF: pass (ns1.primenet.com.au: SPF record at smasher.org designates 69.55.237.145 as permitted sender)
cc: zsh-users@zsh.org
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed
Date: Wed, 14 Jul 2010 23:45:01 +1200 (NZST)
From: Atom Smasher <atom@smasher.org>
In-Reply-To: <alpine.LNX.2.01.1007130942440.4808@hp.internal>
Message-ID: <1007142325160.5546@smasher>
MIME-Version: 1.0
OpenPGP: id=0xB88D52E4D9F57808; algo=1 (RSA); size=4096; url=http://atom.smasher.org/pgp.txt
References: <1007130241570.5546@smasher> <201007121737.21296.joke@seiken.de> <201007121745.20332.joke@seiken.de> <20100712161519.GO1499@prunille.vinc17.org> <1007140055140.5546@smasher> <alpine.LNX.2.01.1007130942440.4808@hp.internal>
Subject: Re: zsh portable script
To: "Benjamin R. Haskell" <zsh@benizi.com>
X-POM: The Moon is Waxing Crescent (11% of Full)
X-Hashcash: 1:20:1007141145:zsh@benizi.com::2o0/bBReGeDtPSWq:0000000000000000000
	0000000000000000000000005Fd8
X-Hashcash: 1:20:1007141145:zsh-users@zsh.org::CMy7sOTfj683ON/9:0000000000000000
	0000000000000000000000003ARj

On Tue, 13 Jul 2010, Benjamin R. Haskell wrote:

> Are permissions the reason you suggest running it under cron? Otherwise, 
> why not just regenerate in precmd()?
=================

now i remember why i'm running under cron, instead of in precmd... 
http://smasher.org/tmp/zsh-bsd-sysctl-slow.png

freebsd's sysctl is way too slow to invoke every time i draw a prompt. 
linux's /sys/ and /proc/ are reasonably fast, but i already had a cron job 
written for bsd, and very minor changes were needed to make it work with 
linux.

i guess i'll leave it alone for now, but if i find a way to get that 
battery info from freebsd more quickly i'll think about adding the battery 
functionality directly into the zshrc.


-- 
         ...atom

  ________________________
  http://atom.smasher.org/
  762A 3B98 A3C3 96C9 C6B7 582A B88D 52E4 D9F5 7808
  -------------------------------------------------

 	"In fact a vegan driving a hummer would be contributing
 	 less greenhouse gas carbon emissions than a meat eater
 	 riding a bicycle."
 		-- Capt Paul Watson, A Very Inconvenient Truth

