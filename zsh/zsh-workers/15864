From zsh-workers-return-15864-mason-zsh=primenet.com.au@sunsite.dk Mon Sep 24 15:52:54 2001
Return-Path: <zsh-workers-return-15864-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 29141 invoked from network); 24 Sep 2001 15:52:53 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 24 Sep 2001 15:52:53 -0000
Received: (qmail 19622 invoked by alias); 24 Sep 2001 15:52:44 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 15864
Received: (qmail 19608 invoked from network); 24 Sep 2001 15:52:42 -0000
From: Bart Schaefer <schaefer@brasslantern.com>
Message-Id: <1010924155216.ZM3531@candle.brasslantern.com>
Date: Mon, 24 Sep 2001 15:52:15 +0000
In-Reply-To: <4abf0b6e0fvincent@vinc17.org>
Comments: In reply to Vincent Lefevre <vincent@vinc17.org>
        "Re: TERM problem under OSF" (Sep 24,  3:42pm)
References: <4abefecae2vincent@vinc17.org>  <8944.1001336551@csr.com> 
	<4abf0b6e0fvincent@vinc17.org>
X-Mailer: Z-Mail (5.0.0 30July97)
To: zsh-workers@sunsite.dk, Vincent Lefevre <vincent@vinc17.org>
Subject: Re: TERM problem under OSF
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

As it's generally necessary to set both TERM and one of TERM(CAP|INFO),
initializing the terminal each time any one of those three changed would
be a waste of effort as often as not (because it would immediately be
initialized again when the other parameter changed).

However, we should at least document that assigning to TERM has this
effect, so that people would know that they need to reset it after they
change the others.

Index: Doc/Zsh/params.yo
===================================================================
diff -c -r1.6 params.yo
--- Doc/Zsh/params.yo	2001/07/10 09:05:18	1.6
+++ Doc/Zsh/params.yo	2001/09/24 15:46:43
@@ -993,7 +993,12 @@
 )
 vindex(TERM)
 item(tt(TERM) <S>)(
-The type of terminal in use.  This is used when looking up termcap sequences.
+The type of terminal in use.  This is used when looking up termcap
+sequences.  An assignment to tt(TERM) causes zsh to re-initialize the
+terminal, even if the value does not change (e.g., `tt(TERM=$TERM)').  It
+is necessary to make such an assignment upon any change to the terminal
+definition database or terminal type in order for the new settings to
+take effect.
 )
 vindex(TIMEFMT)
 item(tt(TIMEFMT))(

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

