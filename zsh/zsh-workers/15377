From zsh-workers-return-15377-mason-zsh=primenet.com.au@sunsite.dk Thu Jul 12 03:40:35 2001
Return-Path: <zsh-workers-return-15377-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 27886 invoked from network); 12 Jul 2001 03:40:34 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 12 Jul 2001 03:40:34 -0000
Received: (qmail 20127 invoked by alias); 12 Jul 2001 03:40:28 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 15377
Received: (qmail 20116 invoked from network); 12 Jul 2001 03:40:27 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <1010712033907.ZM31622@candle.brasslantern.com>
Date: Thu, 12 Jul 2001 03:39:07 +0000
In-Reply-To: <yehg0c3jnq8.fsf@water.cs.brown.edu>
Comments: In reply to Timothy Miller <tsm@cs.brown.edu>
        "Re: fatal flaw zsh 4.0.1 on irix 6.3 & 6.5: suspend "ls -l|less" then resume hangs" (Jul 11,  2:59pm)
References: <200106140732.JAA08108@beta.informatik.hu-berlin.de> 
	<yehvgl0kdvm.fsf@water.cs.brown.edu> 
	<1010710162547.ZM29353@candle.brasslantern.com> 
	<yehofqsjx1a.fsf@water.cs.brown.edu> 
	<010710162700.ZM30017@candle.brasslantern.com> 
	<yehg0c3jnq8.fsf@water.cs.brown.edu>
X-Mailer: Z-Mail (5.0.0 30July97)
To: Timothy Miller <tsm@cs.brown.edu>, zsh-workers@sunsite.dk
Subject: Re: fatal flaw zsh 4.0.1 on irix 6.3 & 6.5: suspend "ls -l|less" then resume hangs
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Jul 11,  2:59pm, Timothy Miller wrote:
} Subject: Re: fatal flaw zsh 4.0.1 on irix 6.3 & 6.5: suspend "ls -l|less" 
}
} -pws-2:
} after ^Z:
}   F S      UID   PID  PPID  PGID   SID  CMD
}  b0 T      tsm  9489  9487  9489  1092  ls -lR / 
}  b0 S      tsm  9487  1092  9487  1092  ./Src/zsh +Z -f 
}  b0 S      tsm  9490  9487  9489  1092  cat 
} 
} -pws-3:
} after ^Z:
}   F S      UID   PID  PPID  PGID   SID  CMD
}  b0 S      tsm 13720 13718 13720  1092  ls -lR / 
}  b0 T      tsm 13721 13718 13721  1092  cat 
}  b0 S      tsm 13718  1092 13718  1092  ./Src/zsh +Z -f 
} 
} This version of zsh has different behavior than the current one

Yes, there was at least one other bug fix after -pws-3:

        * Sven: 9345: Src/exec.c, Src/jobs.c, Src/zsh.h:
        bug with job control when group leader exits; other problems
        with subshells.

So it would be more helpful to see the `ps' output for 4.0.2 (say) than
for 3.1.6-pws-3.

However, I note that in -pws-2, both `cat' and `ls' are in the same pgrp
but it is `ls' that is stopped.  Did you try either of the patches that
Sven sent?

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

