From zsh-workers-return-6424-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Jun 01 15:32:01 1999
Return-Path: <zsh-workers-return-6424-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1370 invoked from network); 1 Jun 1999 15:32:00 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 1 Jun 1999 15:32:00 -0000
Received: (qmail 12464 invoked by alias); 1 Jun 1999 15:31:43 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 6424
Received: (qmail 12457 invoked from network); 1 Jun 1999 15:31:41 -0000
Message-Id: <9906011503.AA27304@ibmth.df.unipi.it>
To: zsh-workers@sunsite.auc.dk (Zsh hackers list)
Subject: PATCH: pws-20: info formatting
Date: Tue, 01 Jun 1999 17:03:56 +0200
From: Peter Stephenson <pws@ibmth.df.unipi.it>

In an aside in a message which hasn't got back to me yet, I queried the
excess use of quoting in zsh.info*: it's not too surprising you get this
sort of clash in a documentation system written in half a dozen
incompatible languages at once.  I've had a look at this.  The t(...) are
getting translated into @samp{...} for texinfo; this just changes the font
in tex, but in info it also sticks `quotes' around the text.  The result is
that some entries are surrounded by a single set of quotes, some by two,
and often even had quotes in the middle, for example `${'NAME`}', which
came from tt(${)var(NAME)tt(}).

In our case, we've already thought about when we want quotes (in principle
:-) see Util/zsh-development-guide), so it seems to me sensible to make
t(...) just use the corresponding texinfo font control command @t{}.  The
TeX version is unaltered, unless it was doing something extra too subtle
for me to see.

So I think it looks a lot better after the change -- unless anyone wants to
try something more sophisticated, in which case they run the risk of having
to rewrite the entire documentation.

--- Doc/ztexi.yo.t	Tue Jan 26 14:39:44 1999
+++ Doc/ztexi.yo	Tue Jun  1 16:43:47 1999
@@ -33,7 +33,7 @@
 
 def(em)(1)(NOTRANS(@emph{)ARG1NOTRANS(}))
 def(bf)(1)(NOTRANS(@cite{)ARG1NOTRANS(}))
-def(tt)(1)(NOTRANS(@code{)ARG1NOTRANS(}))
+def(tt)(1)(NOTRANS(@t{)ARG1NOTRANS(}))
 def(var)(1)(NOTRANS(@var{)ARG1NOTRANS(}))
 
 COMMENT(--- man page headers ---)

-- 
Peter Stephenson <pws@ibmth.df.unipi.it>       Tel: +39 050 844536
WWW:  http://www.ifh.de/~pws/
Dipartimento di Fisica, Via Buonarroti 2, 56127 Pisa, Italy

