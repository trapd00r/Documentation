From zsh-users-return-13128-mason-zsh=primenet.com.au@sunsite.dk Mon Aug 11 15:04:38 2008
Return-Path: <zsh-users-return-13128-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17816 invoked from network); 11 Aug 2008 15:04:34 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 11 Aug 2008 15:04:34 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 37268 invoked from network); 11 Aug 2008 15:04:15 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 11 Aug 2008 15:04:15 -0000
Received: (qmail 13869 invoked by alias); 11 Aug 2008 15:03:39 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 13128
Received: (qmail 13846 invoked from network); 11 Aug 2008 15:03:35 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 11 Aug 2008 15:03:35 -0000
Received: from smtphost.cis.strath.ac.uk (smtphost.cis.strath.ac.uk [130.159.196.96])
	by bifrost.dotsrc.org (Postfix) with ESMTPS id A1A7B809A196
	for <zsh-users@sunsite.dk>; Mon, 11 Aug 2008 17:03:21 +0200 (CEST)
Received: from mac-sinclair.cis.strath.ac.uk (mac-sinclair.cis.strath.ac.uk [130.159.184.11])
	(authenticated bits=0)
	by smtphost.cis.strath.ac.uk (8.13.4/8.13.4/Debian-3sarge3) with ESMTP id m7BF3AcI005818
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT)
	for <zsh-users@sunsite.dk>; Mon, 11 Aug 2008 16:03:10 +0100
Message-Id: <87C1357A-C751-4E6E-8702-2441B8F54848@cis.strath.ac.uk>
From: Duncan Sinclair <Duncan.Sinclair@cis.strath.ac.uk>
To: zsh-users@sunsite.dk
In-Reply-To: <20080811133157.GA3143@scru.org>
Content-Type: text/plain; charset=US-ASCII; format=flowed; delsp=yes
Content-Transfer-Encoding: 7bit
Mime-Version: 1.0 (Apple Message framework v928.1)
Subject: Re: Bug#494098: zsh: Prompt expansion of %~ seems broken.
Date: Mon, 11 Aug 2008 16:03:10 +0100
References: <20080807084744.29306.54325.reportbug@bryma.uk.xensource.com> <20080807230430.GA27426@scru.org> <e040b520808110119l7e17a9d0yed158a1039d41b91@mail.gmail.com> <20080811133157.GA3143@scru.org>
X-Mailer: Apple Mail (2.928.1)
X-CIS-MailScanner: Found to be clean
X-CIS-MailScanner-SpamCheck: not spam (whitelisted), SpamAssassin (score=0,
	required 6, autolearn=disabled)
X-CIS-MailScanner-From: duncan.sinclair@cis.strath.ac.uk
X-Virus-Scanned: ClamAV 0.92.1/8007/Mon Aug 11 15:51:54 2008 on bifrost
X-Virus-Status: Clean


On 11 Aug 2008, at 2:31 pm, Clint Adams wrote:

> On Mon, Aug 11, 2008 at 09:19:37AM +0100, Magnus Therning wrote:
>>>> Expansion of %~ seems to have been broken.  This is the behaviour  
>>>> I see:
>>>>
>>>>  ~: print $PS1
>>>>  %~:
>>>>  ~: print -P %~
>>>>  ~
>>>>  ~: cd Desktop
>>>>  /home/magnus/Desktop: print -P %~
>>
>> ~ grep magnus /etc/passwd
>> magnus:x:1000:1000:Magnus Therning,,,:/home/magnus/:/bin/zsh
>>
>
> Beats me.  Anyone have ideas?


I'd guess things might work better if your home directory was '/home/ 
magnus', without the trailing slash.

Cheers,  Duncan.


-- 
Duncan Sinclair  |  {+44|0}141 548 3095  |  cis.strath.ac.uk
System Administrator
Computer and Information Sciences
University of Strathclyde
The University of Strathclyde is a charitable body, registered in  
Scotland, number SC015263.



