From zsh-users-return-8638-mason-zsh=primenet.com.au@sunsite.dk Tue Mar 29 01:29:46 2005
Return-Path: <zsh-users-return-8638-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 14031 invoked from network); 29 Mar 2005 01:29:45 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 29 Mar 2005 01:29:45 -0000
Received: (qmail 80011 invoked from network); 29 Mar 2005 00:29:38 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 29 Mar 2005 00:29:38 -0000
Received: (qmail 19019 invoked by alias); 29 Mar 2005 00:29:29 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8638
Received: (qmail 19005 invoked from network); 29 Mar 2005 00:29:28 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 29 Mar 2005 00:29:28 -0000
Received: (qmail 78957 invoked from network); 29 Mar 2005 00:29:28 -0000
Received: from mxfep01.bredband.com (195.54.107.70)
  by a.mx.sunsite.dk with SMTP; 29 Mar 2005 00:29:24 -0000
Received: from puritan.pcp.ath.cx ([213.112.43.228] [213.112.43.228])
          by mxfep01.bredband.com with ESMTP
          id <20050329002924.GWD25559.mxfep01.bredband.com@puritan.pcp.ath.cx>
          for <zsh-users@sunsite.dk>; Tue, 29 Mar 2005 02:29:24 +0200
Received: by puritan.pcp.ath.cx (Postfix, from userid 1000)
	id 76D95A0034; Tue, 29 Mar 2005 02:29:24 +0200 (CEST)
Date: Tue, 29 Mar 2005 02:29:24 +0200
From: Nikolai Weibull <mailing-lists.zsh-users@rawuncut.elitemail.org>
To: zsh-users@sunsite.dk
Subject: Re: mailpath issues
Message-ID: <20050329002924.GF5897@puritan.pcp.ath.cx>
Mail-Followup-To: zsh-users@sunsite.dk
References: <20050328230022.GE5897@puritan.pcp.ath.cx> <1050328234343.ZM27239@candle.brasslantern.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <1050328234343.ZM27239@candle.brasslantern.com>
User-Agent: Mutt/1.5.8i
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=6.0 tests=BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.6

* Bart Schaefer (Mar 29, 2005 01:50):
> On Mar 29,  1:00am, Nikolai Weibull wrote:
> } Subject: mailpath issues
> }
> } If ~/.maildir is a maildir, won't all subdirectories to it also be
> } checked if i set my mailpath to include that directory?

> It depends on whether zsh was compiled with MAILDIR_SUPPORT defined.

Yes, that I figured.

> } I'm looking at the checkmailpath function and it seems it should, but
> } it's not...Am I missing something?

> Look at the mailstat() function, also in utils.c.  Note that if it finds
> that the directory being examined is a maildir, then it falsifies the
> stat structure to behave as if the directory is actually a plain file.
> In this case it won't recur into subdirectories.

> There is no support for hierarchical objects that are simultaneously mail
> folders and containers of other mail folders.

  mailpath=(~/.maildir)
  for p in $mailpath; do
    for subp in $p/.*(/); do
      mailpath+=$subp
    done
  done

But that's not great,
        nikolai

-- 
::: name: Nikolai Weibull    :: aliases: pcp / lone-star / aka :::
::: born: Chicago, IL USA    :: loc atm: Gothenburg, Sweden    :::
::: page: minimalistic.org   :: fun atm: gf,lps,ruby,lisp,war3 :::
main(){printf(&linux["\021%six\012\0"],(linux)["have"]+"fun"-97);}

