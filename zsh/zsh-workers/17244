From zsh-workers-return-17244-mason-zsh=primenet.com.au@sunsite.dk Tue May 28 14:05:11 2002
Return-Path: <zsh-workers-return-17244-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 15569 invoked from network); 28 May 2002 14:05:10 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 28 May 2002 14:05:10 -0000
Received: (qmail 4687 invoked by alias); 28 May 2002 14:05:03 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 17244
Received: (qmail 4669 invoked from network); 28 May 2002 14:05:02 -0000
Date: Tue, 28 May 2002 10:04:59 -0400
From: Clint Adams <clint@zsh.org>
To: zsh-workers@sunsite.dk
Subject: PATCH: _dpkg and udebs
Message-ID: <20020528140459.GA7801@dman.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.3.28i
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)

Apparently the people that want dpkg-deb to complete udebs don't want
dpkg proper to do so.


Index: Completion/Debian/Command/_dpkg
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Debian/Command/_dpkg,v
retrieving revision 1.5
diff -u -r1.5 _dpkg
--- Completion/Debian/Command/_dpkg	11 Mar 2002 12:56:51 -0000	1.5
+++ Completion/Debian/Command/_dpkg	28 May 2002 14:01:46 -0000
@@ -24,7 +24,7 @@
 
 _dpkg_actions=(
   '(--install -i)'{--install,-i}'[install packages]:*:Debian packages:->install'
-  '--unpack[unpack package]:Debian package:_files -g \*.u\#deb'
+  '--unpack[unpack package]:Debian package:_files -g \*.deb'
   '--configure[reconfigure specified packages]:*:package:->configure'
   '(--remove -r)'{--remove,-r}'[remove package]:*:package:->remove'
   '(--purge -P)'{--purge,-P}'[purge package]:*:package:->purge'
@@ -101,7 +101,7 @@
              "$_dpkg_options_recursive[@]" \
 	     '*:directory:_path_files -/' \
 	   - nonrecur \
-	     '*:Debian package:_path_files -g \*.u\#deb'
+	     '*:Debian package:_path_files -g \*.deb'
   ;;
   remove|purge|status|listfiles)
         _call_function ret _dpkg_$state && return ret

