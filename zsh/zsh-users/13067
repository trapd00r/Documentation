From zsh-users-return-13067-mason-zsh=primenet.com.au@sunsite.dk Thu Jul 24 16:55:09 2008
Return-Path: <zsh-users-return-13067-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 27429 invoked from network); 24 Jul 2008 16:55:07 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 24 Jul 2008 16:55:07 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 61307 invoked from network); 24 Jul 2008 16:54:52 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 24 Jul 2008 16:54:52 -0000
Received: (qmail 26486 invoked by alias); 24 Jul 2008 16:54:44 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 13067
Received: (qmail 26468 invoked from network); 24 Jul 2008 16:54:43 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 24 Jul 2008 16:54:43 -0000
Received: from sj-iport-4.cisco.com (sj-iport-4.cisco.com [171.68.10.86])
	by bifrost.dotsrc.org (Postfix) with ESMTPS id 603C080561C3
	for <zsh-users@sunsite.dk>; Thu, 24 Jul 2008 18:54:37 +0200 (CEST)
X-IronPort-AV: E=Sophos;i="4.31,247,1215388800"; 
   d="scan'208";a="18692352"
Received: from sj-dkim-2.cisco.com ([171.71.179.186])
  by sj-iport-4.cisco.com with ESMTP; 24 Jul 2008 16:54:34 +0000
Received: from sj-core-2.cisco.com (sj-core-2.cisco.com [171.71.177.254])
	by sj-dkim-2.cisco.com (8.12.11/8.12.11) with ESMTP id m6OGsYTt027519;
	Thu, 24 Jul 2008 09:54:34 -0700
Received: from cwm-build7.cisco.com (cwm-build7.cisco.com [171.71.163.85])
	by sj-core-2.cisco.com (8.13.8/8.13.8) with ESMTP id m6OGsYJV003608;
	Thu, 24 Jul 2008 16:54:34 GMT
Received: (paullew@localhost) by cwm-build7.cisco.com (8.8.8-Cisco List Logging/CISCO.WS.1.2) id JAA14200; Thu, 24 Jul 2008 09:54:33 -0700 (PDT)
From: Paul Lew <paullew@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <18568.46025.878383.227689@cwm-build7.cisco.com>
Date: Thu, 24 Jul 2008 09:54:33 -0700
To: Peter Stephenson <pws@csr.com>
Cc: Zsh users list <zsh-users@sunsite.dk>
Subject: Re: History expansion to rerun multiple contiguous commands?
In-Reply-To: <200807241425.m6OEPPhX015832@news01.csr.com>
References: <48888FDF.3030309@phydeaux.org>
	<200807241425.m6OEPPhX015832@news01.csr.com>
X-Mailer: VM 7.18 under Emacs 21.4.1
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=1301; t=1216918474; x=1217782474;
	c=relaxed/simple; s=sjdkim2002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=paullew@cisco.com;
	z=From:=20Paul=20Lew=20<paullew@cisco.com>
	|Subject:=20Re=3A=20History=20expansion=20to=20rerun=20mult
	iple=20contiguous=20commands?
	|Sender:=20;
	bh=DZy/386lN+FOsvWgWnpLhgVsKfZTzEuVrXLdXslDhmI=;
	b=YF+1IEzgqRaHj3+gDSz8HLhQO0Hf0rqheNypwFGweQEqeV/EZrTiz7eGHC
	IvDHz2Mt8B4lJAsb8Du0ydss98mMXOl2l+tmfcDaVctZpqzP2pFhyRdcGtUY
	7rWoDFWdzR;
Authentication-Results: sj-dkim-2; header.From=paullew@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim2002 verified; ); 
X-Virus-Scanned: ClamAV 0.92.1/7815/Thu Jul 24 17:09:44 2008 on bifrost
X-Virus-Status: Clean

>>>>> "Peter" == Peter Stephenson <pws@csr.com> writes:

    Mike>> Is there a way to use bang notation to re-run a chunk of a
    Mike>> shell's history?  As an example I've got 4 commands
    Mike>> numbered 123-126 in my history and I want to (in one swell
    Mike>> foop) rerun all 4.

    Peter> Not with bang notation, but you can use "r 123 126" to do
    Peter> this.

I do the following almost everyday (with emacs binding), for example:

    vi foo.c
    gcc foo.c
    a.out

    vi <alt-p>
    vi foo.c <ctrl-o>
    gcc foo.c <ctrl-o>
    a.out <ctrl-o>  or <return>

After the a.out, I type: vi <alt-p> which binds to
history-beginning-search-backward which will bring 'vi foo.c' on the
command line.  Then I type ctrl-o which binds to
accept-line-and-down-history to execute the 'vi foo.c' command and the
shell will bring up the next command in history 'gcc.foo.c', further
ctrl-o will continue walk the history.

If you replace foo.c with $i and put i=foo.c on top, you can then
repeat the commands by changing the file name, this is my perferred
way to edit lots of different files without writing a script first.

Lots of time this is simpler than using the history number.  This is a
good old ksh trick and not sure how many people are using this.

					-- Paul  07/24/08  09:43 AM --

