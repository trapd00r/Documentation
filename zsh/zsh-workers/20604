From zsh-workers-return-20604-mason-zsh=primenet.com.au@sunsite.dk Mon Dec 06 11:08:45 2004
Return-Path: <zsh-workers-return-20604-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 28303 invoked from network); 6 Dec 2004 11:08:44 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 6 Dec 2004 11:08:44 -0000
Received: (qmail 360 invoked from network); 6 Dec 2004 11:08:38 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 6 Dec 2004 11:08:38 -0000
Received: (qmail 18133 invoked by alias); 6 Dec 2004 11:08:22 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 20604
Received: (qmail 18115 invoked from network); 6 Dec 2004 11:08:19 -0000
Received: from unknown (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 6 Dec 2004 11:08:19 -0000
Received: (qmail 99613 invoked from network); 6 Dec 2004 11:07:20 -0000
Received: from grunt22.ihug.com.au (203.109.249.142)
  by a.mx.sunsite.dk with SMTP; 6 Dec 2004 11:07:18 -0000
Received: from 203-206-53-27.dyn.iinet.net.au (localhost.localdomain) [203.206.53.27] 
	by grunt22.ihug.com.au with esmtp (Exim 3.35 #1 (Debian))
	id 1CbGhz-0006ep-00; Mon, 06 Dec 2004 22:07:12 +1100
Received: from localhost.localdomain (localhost.localdomain [127.0.0.1])
	by localhost.localdomain (8.12.8/8.12.8) with ESMTP id iB6B78Hi014150;
	Mon, 6 Dec 2004 22:07:09 +1100
Received: (from doug@localhost)
	by localhost.localdomain (8.12.8/8.12.8/Submit) id iB6B77dC014148;
	Mon, 6 Dec 2004 22:07:07 +1100
X-Authentication-Warning: localhost.localdomain: doug set sender to dougkearns@gmail.com using -f
Date: Mon, 6 Dec 2004 22:07:07 +1100
From: Doug Kearns <dougkearns@gmail.com>
To: zsh-workers@sunsite.dk
Cc: Jean-Baptiste Quenot <jb.quenot@caraldi.com>
Subject: Re: [PATCH] Ant completion improvement
Message-ID: <20041206110707.GJ3926@localhost.localdomain>
Mail-Followup-To: zsh-workers@sunsite.dk,
	Jean-Baptiste Quenot <jb.quenot@caraldi.com>
References: <20041206104117.GB1617@vision.anyware>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20041206104117.GB1617@vision.anyware>
User-Agent: Mutt/1.4i
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: *
X-Spam-Status: No, hits=1.5 required=6.0 tests=RCVD_IN_BL_SPAMCOP_NET 
	autolearn=no version=2.63
X-Spam-Hits: 1.5

On Mon, Dec 06, 2004 at 11:41:19AM +0100, Jean-Baptiste Quenot wrote:

<snip>

> --- _ant.orig	Mon Dec  6 11:22:13 2004
> +++ _ant	Mon Dec  6 11:40:46 2004
> @@ -86,7 +86,7 @@
>  	buildfile=${(v)opt_args[(I)(-f|-file|-buildfile)]:-build.xml}
>        fi
>        if [[ -f $buildfile ]]; then
> -        targets=( $(sed -n "s/ *<target name=[\"']\([^\"']*\)[\"'].*/\1/p" < $buildfile) )
> +        targets=( $(sed -n "s/[ 	]*<target *[^>]* name=[\"']\([^\"']*\)[\"'].*/\1/p" < $buildfile) )

You could use [:blank:] here      ^^^^^^ 

>  	_wanted targets expl target compadd -a targets && ret=0
>        else
>  	_message -e targets target

Regards,
Doug

