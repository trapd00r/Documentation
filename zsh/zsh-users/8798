From zsh-users-return-8798-mason-zsh=primenet.com.au@sunsite.dk Mon May 09 19:21:52 2005
Return-Path: <zsh-users-return-8798-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1048 invoked from network); 9 May 2005 19:21:51 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 9 May 2005 19:21:51 -0000
Received: (qmail 99854 invoked from network); 9 May 2005 19:21:45 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 9 May 2005 19:21:45 -0000
Received: (qmail 19739 invoked by alias); 9 May 2005 19:21:38 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8798
Received: (qmail 19727 invoked from network); 9 May 2005 19:21:38 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 9 May 2005 19:21:38 -0000
Received: (qmail 98792 invoked from network); 9 May 2005 19:21:38 -0000
Received: from webmail-outgoing.us4.outblaze.com (205.158.62.67)
  by a.mx.sunsite.dk with SMTP; 9 May 2005 19:21:26 -0000
Received: from unknown (unknown [192.168.9.180])
	by webmail-outgoing.us4.outblaze.com (Postfix) with QMQP id A033F18001AE
	for <zsh-users@sunsite.dk>; Mon,  9 May 2005 19:21:22 +0000 (GMT)
X-OB-Received: from unknown (205.158.62.49)
  by wfilter.us4.outblaze.com; 9 May 2005 19:21:22 -0000
Received: by ws1-1.us4.outblaze.com (Postfix, from userid 1001)
	id 961794BEAE; Mon,  9 May 2005 19:21:22 +0000 (GMT)
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain; charset="iso-8859-1"
MIME-Version: 1.0
X-Mailer: MIME::Lite 2.117  (F2.6; A1.17; B2.12; Q2.03)
Received: from [213.187.181.70] by ws1-1.us4.outblaze.com with http for fteg@london.com; Mon, 09 May 2005 14:21:22 -0500
X-Mailer: mail.com webmail
From: "Fafa Hafiz Krantz" <fteg@london.com>
To: zsh-users@sunsite.dk
Date: Mon, 09 May 2005 14:21:22 -0500
Subject: zsh login going remarkably slow
X-Originating-Ip: 213.187.181.70
X-Originating-Server: ws1-1.us4.outblaze.com
Message-Id: <20050509192122.961794BEAE@ws1-1.us4.outblaze.com>
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.3 required=6.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.3


hey!

i just installed zsh on both my freebsd boxes.
on one of them it works like a charm. on the other, it doesn't.

for this other box, it takes a long time for the prompt to appear.
also for it to re-appear when i su to root.

this /etc/zshrc file are used for both:

umask 022

alias vi=3D'vim'
alias j=3D'jobs -l'
alias h=3D'history'
alias ls=3D'ls -G'
alias cd..=3D'cd ..'
alias cd...=3D'cd ../..'
alias cd....=3D'cd ../../..'
alias cd.....=3D'cd ../../../..'
alias cd......=3D'cd ../../../../..'
alias cd/=3D'cd /'
alias wf=3D'w -f'
alias ws=3D'w -s'
alias df=3D'df -h'
alias ftp=3D'lftp'

alias pfdump=3D'tcpdump -n -e -ttt -r /var/log/pflog'
alias pfmon=3D'tcpdump -n -e -ttt -i pflog0'
alias pfreload=3D'pfctl -F all && pfctl -f /etc/pf.conf'

autoload -U compinit
compinit

zstyle ':completion:*' completer _complete _prefix
zstyle ':completion::prefix-1:*' completer _complete
zstyle ':completion:incremental:*' completer _complete _correct
zstyle ':completion:predict:*' completer _complete
zstyle ':completion::complete:*' use-cache 1
zstyle ':completion::complete:*' cache-path ~/.zsh/cache/$HOST
zstyle ':completion:*' expand 'yes'
zstyle ':completion:*' squeeze-slashes 'yes'
zstyle ':completion::complete:*' '\'
zstyle ':completion::complete:*:tar:directories' file-patterns '*~.*(-/)'
zstyle ':completion:*:complete:-command-::commands' ignored-patterns '*\~'
zstyle ':completion:*:matches' group 'yes'
zstyle ':completion:*:options' description 'yes'
zstyle ':completion:*:options' auto-description '%d'
zstyle ':completion:*:history-words' stop verbose
zstyle ':completion:*:history-words' remove-all-dups yes
zstyle ':completion:*:history-words' list false
zstyle ':completion:*:default' list-colors ${(s.:.)LS_COLORS}

PROMPT=3D$'%{\e[01;34m%}(%{\e[22;34m%}%n%{\e[01;30m%}@%{\e[22;34m%}%m%{\e[0=
1;34m%})%{\e[01;34m%}%{\e[01;34m%}(%{\e[22;34m%}%D{%H:%M}%{\e[01;30m%}:%{\e=
[22;34m%}%D{%m/%d/%y}%{\e[01;34m%})%{\e[01;30m\e[00m%}\n%{\e[01;34m%}(%{\e[=
22;34m%}%#%{\e[01;30m%}:%{\e[22;34m%}%~%{\e[01;34m%})%{\e[01;30m\e[00m%} '

if [[ `whoami` =3D root ]] then
PROMPT=3D$'%{\e[01;31m%}(%{\e[22;31m%}%n%{\e[01;30m%}@%{\e[22;31m%}%m%{\e[0=
1;31m%})%{\e[01;31m%}%{\e[01;31m%}(%{\e[22;31m%}%D{%H:%M}%{\e[01;30m%}:%{\e=
[22;31m%}%D{%m/%d/%y}%{\e[01;31m%})%{\e[01;30m\e[00m%}\n%{\e[01;31m%}(%{\e[=
22;31m%}%#%{\e[01;30m%}:%{\e[22;31m%}%~%{\e[01;31m%})%{\e[01;30m\e[00m%} '
fi

i tried recompiling zsh, but that didn't make no difference.
i don't know how to capture the output of zsh -x.

zsh -x > file doesn't work, and my entire shell gets twisted after
running zsh -x.

last but not the least, i was wondering if anyone could help me
split my prompt line up. i've tried this here. it works, but i get
an error message saying there's no such command followed by a paste
of the 2nd line here. if it's due to the whitespace below PROMPT,
well i kinda want it there because it's superneat.

PROMPT=3D$'%{\e[01;34m%}(%{\e[22;34m%}%n%{\e[01;30m%}@'\
       $'%{\e[22;34m%}%m%{\e[01;34m%})%{\e[01;34m%}%{\e[01;34m%}('\
       $'%{\e[22;34m%}%D{%H:%M}%{\e[01;30m%}:%{\e[22;34m%}%D{%m/%d/%y}'\
       $'%{\e[01;34m%})%{\e[01;30m\e[00m%}%{\n%}%{\e[01;34m%}('\
       $'%{\e[22;34m%}%#%{\e[01;30m%}:%{\e[22;34m%}%~%{\e[01;34m%})'\
       $'%{\e[01;30m\e[00m%} '

thanks!

--

Fafa Hafiz Krantz
  Research Designer @ http://www.home.no/barbershop
  Enlightened @ http://www.home.no/barbershop/smart/sharon.pdf


--=20
___________________________________________________________
Sign-up for Ads Free at Mail.com
http://promo.mail.com/adsfreejump.htm

