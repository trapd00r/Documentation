From zsh-users-return-14770-mason-zsh=primenet.com.au@zsh.org Tue Feb 02 12:38:22 2010
Return-Path: <zsh-users-return-14770-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18340 invoked by alias); 2 Feb 2010 12:38:22 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 14770
Received: (qmail 14997 invoked from network); 2 Feb 2010 12:38:20 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00,SPF_HELO_PASS
	autolearn=ham version=3.2.5
Received-SPF: none (ns1.primenet.com.au: domain at bewatermyfriend.org does not designate permitted sender hosts)
From: Frank Terbeck <ft@bewatermyfriend.org>
To: Joke de Buhr <joke@seiken.de>
Cc: zsh-users@zsh.org
Subject: Re: Want to replace bash w zsh as system shell on Ubuntu
In-Reply-To: <201002021250.17528.joke@seiken.de> (Joke de Buhr's message of
	"Tue, 2 Feb 2010 12:50:17 +0100")
References: <20100202081546.GA5930@panix.com>
	<201002021007.35234.joke@seiken.de>
	<2d460de71002020211y57ef49eaq32bfd97403dd7d25@mail.gmail.com>
	<201002021250.17528.joke@seiken.de>
User-Agent: Gnus/5.13 (Gnus v5.13) Emacs/23.1 (gnu/linux)
Date: Tue, 02 Feb 2010 13:37:27 +0100
Message-ID: <87r5p3ke48.fsf@ft.bewatermyfriend.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Df-Sender: 430444

Joke de Buhr wrote:
> On Tuesday 02 February 2010 11:11:40 Richard Hartmann wrote:
[...]
> Sh compliant shell scripting can't use stuff like associative arrays, 
> subshell commands like "echo $(date -R)" or "[["-style tests. But some init 
> scripts do.

Not entirely true. Associative arrays can't be used, true. [[ ... ]]
cannot either. True.

But $(...) is perfectly correct syntax in POSIX shells. You may be
confused here, because older bourne shells don't support this. Shells
that adhere the standard, however, do.

[...]
>> I would just
>> 
>>   chsh
>> 
>> as root and be done with it.
>
> There's a difference between running "sudo -s" and changing the shell via 
> "chsh" and using "su". Sudo doesn't change the HOME environmental variable to 
> HOME=/root. It's set to "HOME=$HOME" so the root session uses the 
> configuration files of the user. That's why you don't have to copy your 
> ~/.vimrc configuration to /root/.vimrc.
>
> This behavior is very important if you're running a system with multiple 
> admins.

Yeah, it's also funny to suddenly end up with a number of your files
being owned by root (shouldn't happen with zsh's history file, since zsh
keeps track of the file's permissions even with the HIST_SAVE_BY_COPY
option enabled - which is the default; but not everything is as cautious
as zsh is).

Regards, Frank

-- 
In protocol design, perfection has been reached not when there is
nothing left to add, but when there is nothing left to take away.
                                                  -- RFC 1925

