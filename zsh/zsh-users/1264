From zsh-workers-request@math.gatech.edu Fri Jan 23 17:23:36 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 985 invoked from network); 23 Jan 1998 17:23:35 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 23 Jan 1998 17:23:35 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id MAA05531;
	Fri, 23 Jan 1998 12:09:19 -0500 (EST)
Resent-Date: Fri, 23 Jan 1998 12:08:58 -0500 (EST)
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <980123091030.ZM16856@candle.brasslantern.com>
Date: Fri, 23 Jan 1998 09:10:30 -0800
In-Reply-To: <199801231642.IAA27762@shell10.ba.best.com>
Comments: In reply to Bruce Stephens <B.Stephens@isode.com>
        "Re: finding symlinks without target" (Jan 23,  4:42pm)
References: <199801231642.IAA27762@shell10.ba.best.com>
X-Mailer: Z-Mail (4.0b.820 20aug96)
To: ZShell Users <zsh-users@math.gatech.edu>
Subject: Re: finding symlinks without target
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Resent-Message-ID: <"9vS5E.0.tK1.ewCoq"@math>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/1264
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

On Jan 23,  4:42pm, Bruce Stephens wrote:
} Subject: Re: finding symlinks without target
}
} schaefer@brasslantern.com said:
} > (Why isn't there a glob qualifier to chase links?  **/*(@^.,@^/) would
} > appear to be perfect, but doesn't work.) 
} 
} There is, isn't there.  The - seems to be right, almost.

Indeed.  I missed that one when scanning the zsh info (probably because
I was looking for a description that used the word "chase" as in the
CHASE_LINKS option).

} How about 
} **/*(@-^.,@-^/)
} 
} Meaning those symbolic links whose referents aren't files or directories?

I should have realized before that this won't work, because that's an
-inclusive- "or" and what's wanted is an -exclusive- "or".  However,
this appears to do the trick:

	echo **/*(@-^./=%p)

All symlinks that don't point to files, directories, sockets, devices,
or named pipes.  Whew.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

