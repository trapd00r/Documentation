From zsh-workers-return-17251-mason-zsh=primenet.com.au@sunsite.dk Wed May 29 14:57:42 2002
Return-Path: <zsh-workers-return-17251-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13315 invoked from network); 29 May 2002 14:57:40 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 29 May 2002 14:57:40 -0000
Received: (qmail 22880 invoked by alias); 29 May 2002 14:57:25 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 17251
Received: (qmail 22863 invoked from network); 29 May 2002 14:57:24 -0000
Date: Wed, 29 May 2002 07:57:18 -0700 (PDT)
From: Bart Schaefer <schaefer@brasslantern.com>
Sender: schaefer@ns1.sodaware.com
To: Sven Wischnowsky <wischnow@berkom.de>
cc: zsh-workers@sunsite.dk
Subject: Re: unzip and _path_files interaction
In-Reply-To: <15604.48114.57479.460088@wischnow.berkom.de>
Message-ID: <Pine.LNX.4.44.0205290752310.29013-100000@ns1.sodaware.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Wed, 29 May 2002, Sven Wischnowsky wrote:

> > Seems that the (z) in "${(@z)${(@M)tmp1:#-g*}#-g}" is turning
> > (#i)*.(zip|[jw]ar) into ( #i ) *.(zip|[jw]ar)
>
> Hrm. I've got two patches now because I'm not sure where the bug
> really is. It's all caused by the lexer treating parens in the first
> word specially. The (z) modifier only calls the lexer as if the
> parameter value were a complete command line [...]
>
> So, either we think that the (z) code should behave differently, then
> we should use the first patch [...]
>
> Or we think that it's valuable to keep (z) parsing as if it were a
> complete command line, then we should use the second patch [...]
>
> Or don't know. Help, anyone?

I think (z) should keep working the way it does, or at least we need
somthing that does work the way it now does.  So for the time being I'd
go with the second patch.

