From zsh-workers-return-8879-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Dec 03 15:28:15 1999
Return-Path: <zsh-workers-return-8879-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24375 invoked from network); 3 Dec 1999 15:28:14 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 3 Dec 1999 15:28:14 -0000
Received: (qmail 14727 invoked by alias); 3 Dec 1999 15:28:08 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 8879
Received: (qmail 14720 invoked from network); 3 Dec 1999 15:28:07 -0000
Date: Fri, 3 Dec 1999 10:28:02 -0500
From: Clint Adams <schizo@debian.org>
To: zsh-workers@sunsite.auc.dk
Subject: PATCH: pseudo-nested makes break configure
Message-ID: <19991203102802.A26237@dman.com>
References: <19991203101959.A2222@globix.net>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
User-Agent: Mutt/1.0i
In-Reply-To: <19991203101959.A2222@globix.net>; from clint@globix.net on Fri, Dec 03, 1999 at 10:19:59AM -0500

Ugh.  When configure is run by make, this breaks horribly,
with something like
sed: -e expression #1, char 1: Unknown command: ``m''
Forcing the sub-make silent fixes the problem:

Index: configure.in
===================================================================
RCS file: /cvs/zsh/zsh/configure.in,v
retrieving revision 1.1.1.45
diff -u -r1.1.1.45 configure.in
--- configure.in	1999/12/02 22:21:44	1.1.1.45
+++ configure.in	1999/12/03 15:19:40
@@ -48,7 +48,7 @@
 dnl Handle --program-prefix, --program-suffix, etc.
 AC_ARG_PROGRAM
 
-u_ptn=`make -f - <<EOF
+u_ptn=`make -s -f - <<EOF
 all:
 	@echo ${program_transform_name}
 EOF

