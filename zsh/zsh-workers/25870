From zsh-workers-return-25870-mason-zsh=primenet.com.au@sunsite.dk Mon Oct 13 03:42:41 2008
Return-Path: <zsh-workers-return-25870-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2112 invoked from network); 13 Oct 2008 03:42:28 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.2 required=5.0 tests=AWL autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 13 Oct 2008 03:42:28 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 278 invoked from network); 13 Oct 2008 03:42:24 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 13 Oct 2008 03:42:24 -0000
Received: (qmail 29439 invoked by alias); 13 Oct 2008 03:42:15 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 25870
Received: (qmail 29413 invoked from network); 13 Oct 2008 03:42:11 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 13 Oct 2008 03:42:11 -0000
Received: from vms172073pub.verizon.net (vms172073pub.verizon.net [206.46.172.73])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 3071180524C0
	for <zsh-workers@sunsite.dk>; Mon, 13 Oct 2008 05:41:58 +0200 (CEST)
Received: from torch.brasslantern.com ([96.238.220.215])
 by vms172073.mailsrvcs.net
 (Sun Java System Messaging Server 6.2-6.01 (built Apr  3 2006))
 with ESMTPA id <0K8N001D0RLRAN81@vms172073.mailsrvcs.net> for
 zsh-workers@sunsite.dk; Sun, 12 Oct 2008 22:41:52 -0500 (CDT)
Received: from torch.brasslantern.com (localhost.localdomain [127.0.0.1])
	by torch.brasslantern.com (8.13.1/8.13.1) with ESMTP id m9D3foqH027786	for
 <zsh-workers@sunsite.dk>; Sun, 12 Oct 2008 20:41:50 -0700
Received: (from schaefer@localhost)	by torch.brasslantern.com
 (8.13.1/8.13.1/Submit) id m9D3fnns027785	for zsh-workers@sunsite.dk; Sun,
 12 Oct 2008 20:41:49 -0700
Date: Sun, 12 Oct 2008 20:41:49 -0700
From: Bart Schaefer <schaefer@brasslantern.com>
Subject: Re: Remove history entries
In-reply-to: <slrngf4oua.r2h.joerg@alea.gnuu.de>
To: zsh-workers@sunsite.dk
Message-id: <081012204149.ZM27784@torch.brasslantern.com>
MIME-version: 1.0
X-Mailer: OpenZMail Classic (0.9.2 24April2005)
Content-type: text/plain; charset=us-ascii
References: <slrngf4oua.r2h.joerg@alea.gnuu.de>
Comments: In reply to ( Text in unknown character set UTF-8 not shown )  Sommer
 <joerg@alea.gnuu.de>        "Remove history entries" (Oct 12,  9:22pm)
X-Virus-Scanned: ClamAV 0.92.1/8415/Mon Oct 13 03:06:19 2008 on bifrost
X-Virus-Status: Clean

On Oct 12,  9:22pm, ( Text in unknown character set UTF-8 not shown )  wrote:
} 
} is it possible to remove history entries?

Sadly, no.  I'd like to be able to do this myself, particularly when
e.g. testing zsh completion, to remove all the goofy command fragments
and repetitions of "more /tmp/zsh99999ls13; : ls abc" that leak into
the history.

About the only thing I can think of would be to play some games in
which preexec runs "fc -p" and precmd runs "fc -P ; print -s ...".
That gets complicated quickly, because you don't want to push the
stack if the command is going to refer to the current history.

