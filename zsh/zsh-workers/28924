From zsh-workers-return-28924-mason-zsh=primenet.com.au@zsh.org Sat Mar 19 16:11:44 2011
Return-Path: <zsh-workers-return-28924-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9845 invoked by alias); 19 Mar 2011 16:11:44 -0000
Mailing-List: contact zsh-workers-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Workers List <zsh-workers.zsh.org>
List-Post: <mailto:zsh-workers@zsh.org>
List-Help: <mailto:zsh-workers-help@zsh.org>
Delivered-To: mailing list zsh-workers@zsh.org
X-Seq: 28924
Received: (qmail 13498 invoked from network); 19 Mar 2011 16:11:41 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.9 required=5.0 tests=BAYES_00,RCVD_IN_DNSWL_NONE
	autolearn=ham version=3.3.1
Received-SPF: none (ns1.primenet.com.au: domain at closedmail.com does not designate permitted sender hosts)
From: Bart Schaefer <schaefer@brasslantern.com>
Message-id: <110319091120.ZM29723@torch.brasslantern.com>
Date: Sat, 19 Mar 2011 09:11:20 -0700
In-reply-to: <1300543889-21998-1-git-send-email-zsh@benizi.com>
Comments: In reply to "Benjamin R. Haskell" <zsh@benizi.com>
 "[PATCH] Add _sqlite for sqlite and sqlite3 completion." (Mar 19, 10:11am)
References: <1300543889-21998-1-git-send-email-zsh@benizi.com>
X-Mailer: OpenZMail Classic (0.9.2 24April2005)
To: Zsh Workers <zsh-workers@zsh.org>
Subject: Re: [PATCH] Add _sqlite for sqlite and sqlite3 completion.
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii

On Mar 19, 10:11am, Benjamin R. Haskell wrote:
} Subject: [PATCH] Add _sqlite for sqlite and sqlite3 completion.
}
} 1. Is there an easy way to specify to _arguments that '-opt' and
} '--opt' should be treated as equivalent?

No, not really.  Because of the possibility that "-opt" is short for
"-o -p -t", _arguments makes it the job of the caller to distinguish.

} Is there a quick way to specify:
} 
} Prefer files that match *.$service
} If no files match that, try *.db or *.sqlite(|3)
} If no files match that, show all files

That's a job for the file-patterns style.  Don't attempt to figure out
in the _arguments settings what files are suitable; before calling
_arguments, check whether file-patterns is set for the appropriate
context and if it is not then assert a setting for it.  (Or don't,
and make the user do it.)  Then let _files work out the conditional.

