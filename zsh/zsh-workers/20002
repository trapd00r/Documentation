From zsh-workers-return-20002-mason-zsh=primenet.com.au@sunsite.dk Wed Jun 02 07:59:35 2004
Return-Path: <zsh-workers-return-20002-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 11241 invoked from network); 2 Jun 2004 07:59:34 -0000
Received: from thor.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.86)
  by ns1.primenet.com.au with SMTP; 2 Jun 2004 07:59:34 -0000
Received: (qmail 30198 invoked from network); 2 Jun 2004 07:59:22 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 2 Jun 2004 07:59:22 -0000
Received: (qmail 17479 invoked by alias); 2 Jun 2004 07:59:20 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 20002
Received: (qmail 17470 invoked from network); 2 Jun 2004 07:59:20 -0000
Received: from thor.dotsrc.org (HELO a.mx.sunsite.dk) (qmailr@130.225.247.86)
  by sunsite.dk with SMTP; 2 Jun 2004 07:59:17 -0000
Received: (qmail 30058 invoked from network); 2 Jun 2004 07:59:16 -0000
Received: from web51102.mail.yahoo.com (206.190.38.144)
  by a.mx.sunsite.dk with SMTP; 2 Jun 2004 07:59:14 -0000
Message-ID: <20040602075847.80290.qmail@web51102.mail.yahoo.com>
Received: from [63.201.35.238] by web51102.mail.yahoo.com via HTTP; Wed, 02 Jun 2004 00:58:47 PDT
Date: Wed, 2 Jun 2004 00:58:47 -0700 (PDT)
From: Felix Rosencrantz <f_rosencrantz@yahoo.com>
Subject: Re: zsh 4.2.0 dumping core on completion attempt 
To: zsh-workers@sunsite.dk
In-Reply-To: <20040601071634.55178.qmail@web51107.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: *
X-Spam-Status: No, hits=1.5 required=6.0 tests=BAYES_56,RCVD_IN_SORBS 
	autolearn=no version=2.63
X-Spam-Hits: 1.5

I think this is the patch to fix the problem, cmp_anchors causes the clines to
become inconsistent.  It eventually bites itself.

-FR.


--- compmatch.c Wed Jun  2 00:47:52 2004
***************
*** 1398,1404 ****
        if (line) {
            o->flags |= CLF_LINE;
            o->word = NULL;
!           n->wlen = 0;
        }
        return 1;
      }
--- 1398,1404 ----
        if (line) {
            o->flags |= CLF_LINE;
            o->word = NULL;
!           o->wlen = 0;
        }
        return 1;
      }



	
		
__________________________________
Do you Yahoo!?
Friends.  Fun.  Try the all-new Yahoo! Messenger.
http://messenger.yahoo.com/ 

