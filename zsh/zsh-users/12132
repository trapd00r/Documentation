From zsh-users-return-12132-mason-zsh=primenet.com.au@sunsite.dk Mon Oct 29 17:05:39 2007
Return-Path: <zsh-users-return-12132-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 15675 invoked from network); 29 Oct 2007 17:05:30 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.3 (2007-08-08) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.3
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 29 Oct 2007 17:05:30 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 62805 invoked from network); 29 Oct 2007 17:05:24 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 29 Oct 2007 17:05:24 -0000
Received: (qmail 11734 invoked by alias); 29 Oct 2007 17:05:15 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 12132
Received: (qmail 11713 invoked from network); 29 Oct 2007 17:05:14 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 29 Oct 2007 17:05:14 -0000
Received: (qmail 61527 invoked from network); 29 Oct 2007 17:05:14 -0000
Received: from phsmgmx9.partners.org (155.52.251.100)
  by a.mx.sunsite.dk with SMTP; 29 Oct 2007 17:05:08 -0000
X-IronPort-AV: E=Sophos;i="4.21,343,1188792000"; 
   d="scan'208";a="58046367"
Received: from phsxcon1.mgh.harvard.edu (HELO PHSXCON1.partners.org) ([132.183.130.40])
  by phsmgmx9.partners.org with ESMTP; 29 Oct 2007 13:05:06 -0400
Received: from PHSXMB8.partners.org ([170.223.201.59]) by PHSXCON1.partners.org with Microsoft SMTPSVC(6.0.3790.1830);
	 Mon, 29 Oct 2007 13:05:06 -0400
Received: from W0053328.mgh.harvard.edu.partners.org ([132.183.29.121]) by PHSXMB8.partners.org with Microsoft SMTPSVC(6.0.3790.1830);
	 Mon, 29 Oct 2007 13:05:06 -0400
To: Peter Stephenson <pws@csr.com>
Cc: zsh-users@sunsite.dk
Subject: Re: Conditional Bug?
References: <87fxzuou1b.fsf@W0053328.mgh.harvard.edu>
	<200710291503.l9TF3Tt9018661@news01.csr.com>
From: jadamson@partners.org (Joel J. Adamson)
Date: Mon, 29 Oct 2007 13:05:05 -0400
In-Reply-To: <200710291503.l9TF3Tt9018661@news01.csr.com> (Peter Stephenson's message of "Mon\, 29 Oct 2007 15\:03\:29 +0000")
Message-ID: <87zly1onr2.fsf@W0053328.mgh.harvard.edu>
User-Agent: Gnus/5.11 (Gnus v5.11) Emacs/23.0.0 (gnu/linux)
MIME-Version: 1.0
X-OriginalArrivalTime: 29 Oct 2007 17:05:06.0665 (UTC) FILETIME=[DADB0590:01C81A4D]
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit

Peter Stephenson <pws@csr.com> writes:

> Joel J. Adamson wrote:
>> I'm using I have the following script to backup my important files, and I've
>> been running it from cron and getting errors from the tar command.
>> I'm concerned about the conditional at line 22: is my usage wrong or
>> is this a bug?  The conditional says that the file exists (when it
>> does not) and therefore runs the "--update" version of tar.
>> 
>> +backup:7> [[ -e /mnt/backup/backup.tar.bz2 ]]
>
> Yes, that tests whether the file exists and returns true if it does.

Okay, I've done some more testing and found that the problem is with
my parameter assignment.  In the tar invocation, I need all the
filenames submitted in the command, and various combinations of $* and
$@ with and without quotes don't seem to work: they either use the
whole list as a single argument, which brought up the error I
originally posted, or only use the first directory (~/ado in my
example).

What is the proper way to refer to all command line arguments?

Thanks,
Joel

-- 
Joel J. Adamson
Biostatistician
Pediatric Psychopharmacology Research Unit
Massachusetts General Hospital
Boston, MA  02114
(617) 643-1432
(303) 880-3109


The information transmitted in this electronic communication is intended only for the person or entity to whom it is addressed and may contain confidential and/or privileged material. Any review, retransmission, dissemination or other use of or taking of any action in reliance upon this information by persons or entities other than the intended recipient is prohibited. If you received this information in error, please contact the Compliance HelpLine at 800-856-1983 and properly dispose of this information.

