From zsh-workers-return-6727-mason-zsh=primenet.com.au@sunsite.auc.dk Sun Jun 20 15:57:12 1999
Return-Path: <zsh-workers-return-6727-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5759 invoked from network); 20 Jun 1999 15:57:11 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 20 Jun 1999 15:57:11 -0000
Received: (qmail 12840 invoked by alias); 20 Jun 1999 15:57:02 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 6727
Received: (qmail 12833 invoked from network); 20 Jun 1999 15:57:00 -0000
Message-Id: <9906201528.AA13442@ibmth.df.unipi.it>
To: zsh-workers@sunsite.auc.dk (Zsh hackers list)
Subject: pws-23
Date: Sun, 20 Jun 1999 17:28:24 +0200
From: Peter Stephenson <pws@ibmth.df.unipi.it>

http://www.ifh.de/~pws/computing
-rw-r--r--  1 pws  quadrics   964750 Jun 20 17:51 zsh-3.1.5-pws-23.tar.gz
-rw-r--r--  1 pws  quadrics   401824 Jun 20 17:51 zsh-3.1.5-pws-23.doc.tar.gz
-rw-r--r--  1 pws  quadrics   780171 Jun 20 17:51 zsh-3.1.5-pws-23.tar.bz2
-rw-r--r--  1 pws  quadrics   272737 Jun 20 17:51-zsh-3.1.5-pws-23.doc.tar.bz2
zsh-3.1.5-pws-23.doc.tar.bz2.bin -> zsh-3.1.5-pws-23.doc.tar.bz2
zsh-3.1.5-pws-23.tar.bz2.bin -> zsh-3.1.5-pws-23.tar.bz2

The .bin files are links to the .bz2 files to avoid browsers transferring
them in text mode.

Changes:

1999-06-20  Peter Stephenson  <pws@ibmth.difi.unipi.it>

	* zsh-3.1.5-pws-23 made available
	
	* Sven/pws: 6616, 6609, 6726 (merged): `zle [ -N ] [ -n num ]
	  widget args'; internal widgets handle arguments and return
	  values; search commands use arguments; read -[kq] can use
	  zle's key mechanism; zle -R [msg] redisplays line editor;
	  digit-argument feeps if the keypress wasn't a digit;
	  universal-argument handles argument as numeric.

	* pws: 6725: Src/signals.c: more local traps:  now don't add trap
	  to list to restore when outside a function, but do if the function
	  simply unsets a trap which was set outside.

1999-06-18  Peter Stephenson  <pws@ibmth.difi.unipi.it>

	* pws: 6718: Completion/Core/compinit, Completion/Core/compdump,
	  Doc/Zsh/compsys.yo: rebind existing completion widgets for new
	  completion instead of defining new ones.

	* pws: 6717: Doc/Zsh/options.yo, Src/exec.c, Src/options.c,
	  Src/signals.c, Src/zsh.h: Option LOCAL_TRAPS saves and restores
	  traps on exit from functions; set for ksh emulation.

	* Tanaka Akira: 6716: Completion/User/_chown: some systems use `:'
	  as separator in chown.

	* Oliver/Sven: 6709, 6710: Completion files Base/_subscript,
	  User/_chown, User/_groups, User/_x_options: _subscript shows
	  listing for ordinary arrays; new chown and chgrp completions;
	  example _x_options can complete displays.

	* Sven: 6707: Src/exec.c: Shell structures not at the end
	  of a pipeline are suspendable.  This is the only way
	  of stopping a command in such a structure where the command
	  handles interruptions in such a way that zsh doesn't see them.

1999-06-17  Peter Stephenson  <pws@ibmth.difi.unipi.it>

	* pws: 6705: Doc/Zsh/builtins.yo, Src/builtin.c, Src/exec.c,
	  Src/init.c, Src/input.c, Src/parse.c: some more LINENO
	  subtleties: embedded function definitions have correct line
	  number; all lines, not just ones with new PS1, are counted
	  interactively; traps with trap builtin use line no. of
	  surrounding environment.

	* Sven: 6693: Src/Modules/parameter.c, Src/builtin.c, Src/exec.c,
	  Src/input.c, Src/zsh.h: update LINENO properly when parsing a
	  string.

	* Sven: 6692: Src/Zle/comp.h, Src/Zle/compctl.c,
	  Src/Zle/zle_tricky.c, Doc/Zsh/compwid.yo,
	  Completion/Builtins/_kill, Completion/Builtins/_wait,
	  Completion/User/_gdb: allow the -y option to compadd for
	  specifying an array to use when listing.

	* Sven: 6689: Src/Zle/zle_tricky.c, Completion/Base/_subscript:
	  test for closing bracket in get_comp_string().

	* Oliver: 6688: Zsh/compsys.yo, Zsh/func.yo, Zsh/mod_zle.yo,
	  Zsh/params.yo, Zsh/zftpsys.yo: spelling changes.

	* Wayne: 6682: Src/hist.c: Uniquified history commands are limited
	  to size $SAVEHIST, so that the last  $((HISTSIZE-SAVEHIST))
	  commands are always available even with HIST_EXPIRE_DUPS_FIRST.

	* Sven: 6686: Completion/Core/_match, Completion/Core/_path_files,
	  Doc/Zsh/compsys.yo: New configuration keys path_cursor,
	  match_insert.

	* Sven: 6685: Src/Zle/compctl.c, Src/Zle/zle_params.c,
	  Doc/Zsh/zle.yo, Completion/Base/_first,
	  Completion/Commands/_correct_filename,
	  Completion/Commands/_most_recent_file,
	  Completion/Core/_approximate, Completion/Core/_expand,
	  Completion/Core/_list: NUMERIC is unset if no prefix was given;
	  it may be unset explicitly, and if set again will be restored in
	  the expected way.

	* Wayne: 6683: Src/exec.c: ambiguous brace

	* Wayne: 6681: Src/builtin.c: start-of-loop check for history -r
	  was wrong.

1999-06-16  Peter Stephenson  <pws@ibmth.difi.unipi.it>

	* pws: 6679: Src/Zle/zle_thingy.c, Doc/Zsh/compwid.yo:  always
	  use .complete-word etc. as widget type in zle -C.

	* pws: 6677: Doc/Zsh/guide.yo: avoid TeX overfull hbox problem.

	* Andrej: 6674: Doc/zsh.yo, Doc/ztexi.yo: change order of initial
	formatting instructions to make interaction with system
	configuration files better.

	* pws: 6660: Doc/Zsh/compctl.yo: pointer to new completion system
	  at top of compctl documentation.

	* pws: 6659: Src/Zle/zle_tricky.c: a couple of NULL's should be 0's

	* pws: 6658: Doc/Zsh/options.yo, Src/init.c:  options strings at
	  shell startup can end with whitespace (for #!), but anything
	  after the whitespace causes an error.

	* Sven: 6657: Completion files Base/_subscript,
	  Builtins/_autoload, Builtins/_bindkey, Builtins/_echotc,
	  Builtins/_kill, Builtins/_limits, Builtins/_wait,
	  Builtins/_zmodload, User/_dd, User/_find, User/_gdb, User/_make,
	  User/_mh, User/_rlogin, User/_x_options: New gdb completion;
	  improved make completion; use compadd in preference to compgen
	  -[sk]; configuration keys ps_args, ps_listsargs.

	* Sven: 6654: Src/Zle/zle_tricky.c: empty display list after -y.

	* Bart: 6652: Src/exec.c: trailing spaces confused #! emulation.

	* Sven: 6649: Src/Zle/zle_tricky.c: behaviour of compctl -l.

	* Bart: 6646: Src/lex.c: extra braces to enhance beauty of code
	  which appeared in 3.0.5.

1999-06-15  Peter Stephenson  <pws@ibmth.difi.unipi.it>

	* Tanaka Akira: 6642: Completion/Base/_tilde: complete directory
	  stack elements after ~+ or ~-.

	* Tanaka Akira: 6641: Src/subst.c: treat ~-0 like ~0

	* pws: 6639: configure.in: don't try type of $enable_val if empty
	  (needed when off_t/ino_t are 64-bit without explicit enabling).

-- 
Peter Stephenson <pws@ibmth.df.unipi.it>       Tel: +39 050 844536
WWW:  http://www.ifh.de/~pws/
Dipartimento di Fisica, Via Buonarroti 2, 56127 Pisa, Italy

