From zsh-workers-request@math.gatech.edu Mon Nov 17 18:18:33 1997
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 28085 invoked from network); 17 Nov 1997 18:18:32 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 17 Nov 1997 18:18:32 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id MAA06264;
	Mon, 17 Nov 1997 12:13:50 -0500 (EST)
Resent-Date: Mon, 17 Nov 1997 12:13:50 -0500 (EST)
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <971117091358.ZM26224@candle.brasslantern.com>
Date: Mon, 17 Nov 1997 09:13:58 -0800
In-Reply-To: <199711171626.LAA04893@math.gatech.edu>
Comments: In reply to Bruce Stephens <B.Stephens@isode.com>
        "Re: comments in completion" (Nov 17,  4:26pm)
References: <199711171626.LAA04893@math.gatech.edu>
X-Mailer: Z-Mail (4.0b.820 20aug96)
To: zsh-workers@math.gatech.edu
Subject: Re: comments in completion
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Resent-Message-ID: <"tW5H_.0.pX1.Ej7Sq"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3620
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

On Nov 17,  4:26pm, Bruce Stephens wrote:
} Subject: Re: comments in completion
}
} schaefer@brasslantern.com said:
} > It'd probably be sufficient to make a variant of -X that applies
} > expansions in the manner of -s. 
} 
} Wouldn't this be a bit clunky with programmable completion?

Depends on order of evaluation. :-)

} Surely if I'm 
} using a function to generate completions (a list of jobs, or a list of 
} suitable hostnames or whatever) then it would be natural to explain them 
} there?

Suppose I have the follwing; assume -Y is the expanding form of -X (mnemonic
is "why" :-) --

    compctl -K somefunc -Y '$somevar' somecommand

    somefunc() {
	reply=(some list of things)
	somevar="Some list of things means something"
    }

Now as long as "somefunc" runs before -Y performs its expansion, the value
of "somevar" is what "somefunc" wanted it to be.  This order of evaluation
ought to be possible, because the results of the function are needed before
zsh can even decide whether to print the explanation.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

