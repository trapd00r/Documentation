From zsh-workers-return-20376-mason-zsh=primenet.com.au@sunsite.dk Thu Sep 16 16:14:01 2004
Return-Path: <zsh-workers-return-20376-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 21874 invoked from network); 16 Sep 2004 16:14:00 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 16 Sep 2004 16:14:00 -0000
Received: (qmail 32752 invoked from network); 16 Sep 2004 16:13:54 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 16 Sep 2004 16:13:54 -0000
Received: (qmail 17859 invoked by alias); 16 Sep 2004 16:13:52 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 20376
Received: (qmail 17849 invoked from network); 16 Sep 2004 16:13:52 -0000
Received: from unknown (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 16 Sep 2004 16:13:52 -0000
Received: (qmail 32363 invoked from network); 16 Sep 2004 16:12:53 -0000
Received: from moonbase.zanshin.com (64.84.47.139)
  by a.mx.sunsite.dk with SMTP; 16 Sep 2004 16:12:51 -0000
Received: from toltec.zanshin.com (toltec.zanshin.com [64.84.47.166])
	by moonbase.zanshin.com (8.13.1/8.13.1) with ESMTP id i8GGCinh029379;
	Thu, 16 Sep 2004 09:12:44 -0700
Date: Thu, 16 Sep 2004 09:12:44 -0700 (PDT)
From: Bart Schaefer <schaefer@brasslantern.com>
Reply-To: zsh-workers@sunsite.dk
To: Peter Stephenson <pws@csr.com>
cc: zsh-workers@sunsite.dk
Subject: Re: PATCH: exit after 10 EOF's 
In-Reply-To: <200409161457.i8GEvWru012584@news01.csr.com>
Message-ID: <Pine.LNX.4.61.0409160903390.27056@toltec.zanshin.com>
References: <200409131118.i8DBIM5B005245@news01.csr.com>
 <Pine.LNX.4.61.0409131047340.10799@toltec.zanshin.com>
 <200409150946.i8F9k81A008659@news01.csr.com> <Pine.LNX.4.61.0409150818210.20146@toltec.zanshin.com>
 <Pine.LNX.4.61.0409150854430.20146@toltec.zanshin.com>
 <200409151614.i8FGE5nC010329@news01.csr.com> <200409161457.i8GEvWru012584@news01.csr.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, hits=0.0 required=6.0 tests=none autolearn=no version=2.63
X-Spam-Hits: 0.0

On Thu, 16 Sep 2004, Peter Stephenson wrote:

> This should cover all bases.  The basic rule is that in ZLE ignore_eof
> means the EOF character is always treated as a normal key.

> I hope this makes fluffy bunnies gambol in the field.

Sorry, my bunnies are not gamboling, they're sharpening pitchforks and 
looking for torches.  This is a backwards-incompatible change, and I 
object to it.  The default behavior of ZLE on receiving an EOF character 
is supposed to be identical to the default behavior of 4.3BSD csh upon 
receiving an EOF character.  That is, either exit (when not ignoreeof) or 
print a warning (when ignoreeof) if the character is received at the start 
of an empty buffer.

Note that you CANNOT handle this with widgets, because "stty eof" is not
dependent on widget bindings.  The above behavior has to occur on receipt
of the tty eof character, even if that has been changed, without changing
(or requiring the user to change) the underlying keybindings.

> If you want any other behaviour you can use a widget.

No, you can't, see above.

