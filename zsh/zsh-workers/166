From zsh-workers-request@math.gatech.edu  Fri Jul  7 08:50:29 1995
Received: from gatech.edu (gatech.edu [130.207.244.244]) by werple.mira.net.au (8.6.12/8.6.9) with SMTP id IAA12278 for <mason@werple.mira.net.au>; Fri, 7 Jul 1995 08:50:26 +1000
Received: from math (math.skiles.gatech.edu) by gatech.edu with SMTP id AA16454
  (5.65c/Gatech-10.0-IDA for <mason@werple.mira.net.au>); Thu, 6 Jul 1995 18:49:54 -0400
Received: by math (5.x/SMI-SVR4)
	id AA13403; Thu, 6 Jul 1995 18:46:34 -0400
Resent-Date: Thu, 06 Jul 1995 18:45:27 -0400
Old-Return-Path: <coleman@math.gatech.edu>
Message-Id: <9507062245.AA18180@redwood.skiles.gatech.edu>
X-Mailer: exmh version 1.5.3 12/28/94
To: zsh-workers@math.gatech.edu
Subject: Re: Serious HP-UX problem ! Shell hangs ! 
In-Reply-To: Your message of "Thu, 06 Jul 1995 20:04:04 BST."
             <9507061805.AA06920@turan.elte.hu> 
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Date: Thu, 06 Jul 1995 18:45:27 -0400
From: Richard Coleman <coleman@math.gatech.edu>
Resent-Message-Id: <"JI1zS3.0.LH3.9V6_l"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/166
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

> > This is a *serious* HP-UX 9 problem of the zsh, which it didn't have
> > with previous versions (not with beta6 at least).
> > 
> >   Situation :
> > 
> >   $ sleep 10 (any process will do)
> >   [Ctrl-Z] 
> >   zsh: 16763 suspended  sleep 10
> >   $ sleep 5 (any process)
> >   *hang*
> > 
> > Fiddling with gdb shows that we are hanging in sigsuspend(), which is
> > called exactly once: signals.c with POSIX_SIGNALS defined.
> 
> This is a quite old problem (it is present at least since beta6). It is OS
> dependent, and it is also present on ULTRIX. As I remember it appeared after
> Richard rewrote the signals code. He promised to fix that.

I don't have any HP or DEC machines, so it is difficult for me to
track down.  Does this still happen if you change POSIX_SIGNALS to
BSD_SIGNALS?  It might be bugs in the Posix code for these machines.
If this fixes it, I can just force configure to use BSD signals on
these machines.

rc

