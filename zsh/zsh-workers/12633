From zsh-workers-return-12633-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Aug 15 07:28:00 2000
Return-Path: <zsh-workers-return-12633-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5623 invoked from network); 15 Aug 2000 07:27:58 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 15 Aug 2000 07:27:58 -0000
Received: (qmail 4939 invoked by alias); 15 Aug 2000 07:27:24 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 12633
Received: (qmail 4921 invoked from network); 15 Aug 2000 07:27:00 -0000
X-Envelope-Sender-Is: Andrej.Borsenkow@mow.siemens.ru (at relayer goliath.siemens.de)
From: "Andrej Borsenkow" <Andrej.Borsenkow@mow.siemens.ru>
To: "ZSH workers mailing list" <zsh-workers@sunsite.auc.dk>
Subject: Some problems with menu list.
Date: Tue, 15 Aug 2000 11:26:57 +0400
Message-ID: <000001c0068a$317ca640$21c9ca95@mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
Importance: Normal

I played with porcesses and processes-list and something was wrong with list
display.

bor@itsrm2% kill 13996
Completing process ID
     bor  2921  2548  0 09:52:22 ?        0:00 /usr/dt/bin/Xsession
     bor  2961     1  0 09:52:26 ?        0:01 /usr/dt/bin/ttsession -s
     bor  2962  2921  0 09:52:27 ?        0:01 /usr/dt/bin/dtsession
     bor  2981  2962  0 09:52:34 ?        0:06 dtwm
     bor  2982  2962  0 09:52:46 ?        0:02 dtfile -session dta0072k
     bor  2987     1  0 09:52:48 ?        0:00
/usr/bin/X11/xmessages -daemon -
     bor 10028     1  0   Aug 03 ?        0:01 /tools/bin/zsh
     bor 10029 10028  0                   0:00 <defunct>
     bor 12354  2569  0 10:48:48 ?        0:01 imapd
     bor 12400  2961  0 10:49:42 ?        0:00 /bin/sh -c dtterm -sdtserver
     bor 12401 12400  1 10:49:42 ?        0:27 dtterm -sdtserver
     bor 12403 12401  0 10:49:46 pts/9    0:03 /tools/bin/zsh
     bor 12406 12401  0 10:49:49 pts/10   0:01 /tools/bin/zsh
     bor 12409     1  0 10:49:56 ?        0:00 /usr/dt/bin/dtexec -open
0 -ttpr
     bor 12410 12409  0 10:49:56 ?        0:03 dtterm -e rsh itsrm1
     bor 12414  2982  0 10:49:58 ?        0:00 dtfile -session dta0072k
     bor 12416 12410  0 10:50:00 pts/11   0:00 rlogin itsrm1
     bor 12474 12406  0 10:51:47 pts/10   0:02 info
     bor 12482     1  0 10:53:18 ?        0:05 vim -g /home/bor/.zcompletion
     bor 12559 12401  0 10:59:21 pts/12   0:01 /tools/bin/zsh
     bor 12951 12403  0 11:13:19 pts/9    0:00 less _pids
     bor 13038 12559 24 11:17:22 pts/12   0:03 zsh

Now key up:

bor@itsrm2% kill 12474
    root  2569  2565  0   Jul 17 ?        0:15 //usr/sbin/inetd
    root  2582  2565  0   Jul 17 ?        0:03 /usr/lib/saf/ttymon
    root  2583  2565  0   Jul 17 ?        0:02 /usr/lib/saf/ttymon
    root  2584  2565  0   Jul 17 ?        0:01 //usr/lib/saf/listen
    root  2585  2565  0   Jul 17 ?        0:02 /usr/lib/saf/ttymon
    root  2964  2584  0 09:52:27 ?        0:05 /usr/dt/bin/rpc.ttdbserverd
    root  3159     1  0   Jul 17 ?        0:01 Xp_daemon
    root  3160  3159  0   Jul 17 ?        0:18 Xp_SV_itsrm2
    root  3161  3160  0   Jul 17 ?        0:06 Xp_SV_itsrm2
    root  3163  3159  0   Jul 17 ?        0:27 Xp_SP_itsrm2
    root  3165  3159  0   Jul 17 ?       16:34 Xp_SV_lprsv_itsrm...
    root  3167  3165  0   Jul 17 ?        0:51 Xp_SV_lprsv_itsrm...
    root  3169  3159  0   Jul 17 ?        0:31 Xp_SP_lprsp_itsrm...
    root  3184     1  0   Jul 17 ?        9:52 /var/spool/Spool/config/bin/xpd
    root  3427  2141  0 10:18:41 ?        0:00 /opt/PCS/bin/psoxsrv
    root 10145     1  0   Jul 20 ?        0:33 /tools/bin/ntpd
    root 12529     1  0   Jul 31 ?        0:00 /opt/nsr/nsrexecd
    root 13028     1  0   Aug 14 ?        0:04 pcmxsrv
    root 13996     1  0   Jul 31 ?        0:00 /opt/lib/tele/saf/tac
    root 14000 13996  0   Jul 31 ?        0:00 telemon
    root 14006 14000  0   Jul 31 ?        0:00 telemon
    root 24038 14006  0   Jul 31 term/tc4p0t2  0:00 /opt/lib/tele/saf/dialer
12474   13038

note two "leftover" numbers. They represent valid processes:

bor@itsrm2% ps -fp 13038,12474
     UID   PID  PPID  C    STIME TTY      TIME CMD
     bor 13038 12559  0 11:17:22 pts/12   0:05 zsh
     bor 12474 12406  0 10:51:47 pts/10   0:02 info

May be, it a problem with my style(s); BTW processes and processes-list
definitely needs better documentation (e.g. processes expects first line to be
heading and process numbers in the first column). I have full list of current
processes and can send on request (it is rather large just to include it).

-andrej

Have a nice DOS!
B >>

bor@itsrm2% zstyle -L
zstyle ':completion:*' completer _oldlist _complete _match
zstyle ':completion:*:warnings' format 'No matches for: %d'
zstyle ':completion:*' format 'Completing %d'
zstyle ':completion:*' group-name ''
zstyle ':completion:*' insert-unambiguous true
zstyle ':completion:*' list-colors ''
zstyle ':completion:*' list-prompt '%SAt %p: Hit TAB for more, or the
character to insert%s'
zstyle ':completion:*' match-original both
zstyle ':completion:*' matcher-list '' 'm:{a-z}={A-Z}' 'm:{a-z}={A-Z}
r:|[._-]=* r:|=*' 'm:{a-z}={A-Z} r:|[.-]=** r:|=**'
zstyle ':completion:*' menu 'select=long-list' 'select=0'
zstyle ':completion:*' old-list _match
zstyle ':completion:*' verbose true
zstyle :compinstall filename /home/bor/.zcompletion
zstyle ':completion:*:*:configure:*' tag-order 'options:-with:with\ options
options:-other:other\ options' 'options:-without:without\ options'
zstyle ':completion:*:options-with' ignored-patterns '^--with-*'
zstyle ':completion:*:options-without' ignored-patterns '^--without-*'
zstyle ':completion:*:options-other' ignored-patterns '--with(|out)-*'
zstyle ':completion:*' ambiguous true
zstyle ':completion:*:processes' command '
        if (($UID && !${+NUMERIC})); then
            ps -u $USER -o pid
        else
            ps -e -o pid
        fi
'
zstyle ':completion:*:processes-list' command '
        if (($UID && !${+NUMERIC})); then
            ps -fu $USER
        else
            ps -fe
        fi
'

