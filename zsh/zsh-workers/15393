From zsh-workers-return-15393-mason-zsh=primenet.com.au@sunsite.dk Sat Jul 14 07:05:21 2001
Return-Path: <zsh-workers-return-15393-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4192 invoked from network); 14 Jul 2001 07:05:20 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 14 Jul 2001 07:05:20 -0000
Received: (qmail 12382 invoked by alias); 14 Jul 2001 07:05:13 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 15393
Received: (qmail 12371 invoked from network); 14 Jul 2001 07:05:13 -0000
Date: Sat, 14 Jul 2001 16:05:08 +0900
Message-ID: <86itgw6lej.wl@archon.local.idaemons.org>
From: "Akinori MUSHA" <knu@iDaemons.org>
To: zsh-workers@sunsite.auc.dk
Subject: a fix for _chown
User-Agent: Wanderlust/2.7.1 (Too Funky) SEMI/1.14.3 (Ushinoya) FLIM/1.14.3
 (=?ISO-8859-1?Q?Unebigory=F2mae?=) APEL/10.3 MULE XEmacs/21.1 (patch 14)
 (Cuyahoga Valley) (i386--freebsd)
Organization: Associated I. Daemons
X-PGP-Public-Key: finger knu@FreeBSD.org
X-PGP-Fingerprint: 081D 099C 1705 861D 4B70  B04A 920B EFC7 9FD9 E1EE
MIME-Version: 1.0 (generated by SEMI 1.14.3 - "Ushinoya")
Content-Type: text/plain; charset=US-ASCII

Hello,

The following patch fixes the _chown compdef for *BSD.

Recently FreeBSD 5.0-CURRENT dropped the support for the non-POSIX
notation of the "user.group" style.  Since all the BSD's have chown(1)
that understands the "user:group" style nowadays, I think this is a
reasonable and safe fix for *BSD.

--- _chown.orig Sat Jul 14 15:58:00 2001
+++ _chown      Sat Jul 14 15:58:38 2001
@@ -9,7 +9,7 @@
     fi
     _groups && return 0
   else
-    if [[ $OSTYPE = (solaris*|hpux*) ]]; then
+    if [[ $OSTYPE = (solaris*|hpux*|*bsd*) ]]; then
       suf=':'
     else
       suf='.'


Regards,

-- 
                     /
                    /__  __            Akinori.org / MUSHA.org
                   / )  )  ) )  /     FreeBSD.org / Ruby-lang.org
Akinori MUSHA aka / (_ /  ( (__(  @ iDaemons.org / and.or.jp

"Freeze this moment a little bit longer, make each impression
  a little bit stronger..  Experience slips away -- Time stand still"

