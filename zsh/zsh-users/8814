From zsh-users-return-8814-mason-zsh=primenet.com.au@sunsite.dk Thu May 12 12:42:00 2005
Return-Path: <zsh-users-return-8814-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2328 invoked from network); 12 May 2005 12:41:58 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 12 May 2005 12:41:58 -0000
Received: (qmail 42975 invoked from network); 12 May 2005 12:41:48 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 12 May 2005 12:41:48 -0000
Received: (qmail 26797 invoked by alias); 12 May 2005 12:41:41 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8814
Received: (qmail 26786 invoked from network); 12 May 2005 12:41:41 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 12 May 2005 12:41:41 -0000
Received: (qmail 41927 invoked from network); 12 May 2005 12:41:40 -0000
Received: from webmail-outgoing.us4.outblaze.com (205.158.62.67)
  by a.mx.sunsite.dk with SMTP; 12 May 2005 12:41:29 -0000
Received: from unknown (unknown [192.168.9.180])
	by webmail-outgoing.us4.outblaze.com (Postfix) with QMQP id 649E7180029E
	for <zsh-users@sunsite.dk>; Thu, 12 May 2005 12:41:28 +0000 (GMT)
X-OB-Received: from unknown (205.158.62.49)
  by wfilter.us4.outblaze.com; 12 May 2005 12:41:28 -0000
Received: by ws1-1.us4.outblaze.com (Postfix, from userid 1001)
	id 426234BEAD; Thu, 12 May 2005 12:41:28 +0000 (GMT)
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain; charset="iso-8859-1"
MIME-Version: 1.0
X-Mailer: MIME::Lite 2.117  (F2.6; A1.17; B2.12; Q2.03)
Received: from [213.187.181.70] by ws1-1.us4.outblaze.com with http for fteg@london.com; Thu, 12 May 2005 07:41:28 -0500
X-Mailer: mail.com webmail
From: "Fafa Hafiz Krantz" <fteg@london.com>
To: "Andrei A. Voropaev" <av@simcon-mt.com>
Cc: zsh-users@sunsite.dk, questions@freebsd.org
Date: Thu, 12 May 2005 07:41:28 -0500
Subject: Re: Big delay on login: What's wrong?
X-Originating-Ip: 213.187.181.70
X-Originating-Server: ws1-1.us4.outblaze.com
Message-Id: <20050512124128.426234BEAD@ws1-1.us4.outblaze.com>
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.4 required=6.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.4


----- Original Message -----
From: "Andrei A. Voropaev" <av@simcon-mt.com>
To: "Fafa Hafiz Krantz" <fteg@london.com>
Subject: Re: Big delay on login: What's wrong?
Date: Thu, 12 May 2005 13:19:21 +0200

>=20
> On Thu, May 12, 2005 at 04:49:52AM -0500, Fafa Hafiz Krantz wrote:
> >
> > Hello.
> >
> > I'm on a Pentium 120 with FreeBSD 5.4-STABLE, and zsh-4.2.5.
> > When I log in, I have to wait in between 5 to 10 seconds before
> > the prompt displays. Even though I use a functional zshrc file
> > that has proven to work on other systems, things like auto
> > completion doesn't seem to work in this case.
> >
> > # cat /etc/zshrc
> > #
> > http://www.home.no/hedhnta/zshrc
> >
> > # cat /etc/zlogout
> > #
> > http://www.home.no/hedhnta/zlogout
> >
> > # zsh -x
> > #
> > http://www.home.no/hedhnta/zsh-x
> >
> > Somebody know?
>=20
> Most likely it has nothing to do with zsh. Once we had the same problem
> because one of the daemons (I think ident) was trying to connect back to
> the machine where connection was coming from to find out username there.
> And we had firewall that was blocking those connections. So, login had
> to wait till that daemon gave up.
>=20
> YMMV.
>=20
> --
> Minds, like parachutes, function best when open

That's strange.

I doubt I have any daemons running that PF doesn't allow.

# cat /etc/pf.conf
#

int_if=3D"ep0"
ext_if=3D"lnc0"

set     block-policy drop
scrub   in all

nat     on $ext_if from $int_if:network to any -> ($ext_if)
rdr     on $int_if proto tcp from any to any \
        port 21 -> 127.0.0.1 port 8021

block   drop log all
pass    quick on { lo0 $int_if }

pass    out on $ext_if inet proto { tcp, udp, icmp } \
        from any to any keep state

pass    in on $ext_if inet proto { tcp, udp } \
        from any to ($ext_if) port 53
pass    out on $ext_if inet proto { tcp, udp } \
        from any port 53 to any

pass    out on $ext_if inet proto udp \
        from any to any port 123 keep state

pass    in on $ext_if inet proto tcp \
        from any to ($ext_if) port { 22, 80, 113 } flags S/SA keep state

pass    in on $ext_if inet proto tcp \
        from any port 20 to ($ext_if) user proxy flags S/SA keep state

pass    in on $ext_if proto tcp \
        from any to any port 31337 keep state
pass    in on $ext_if proto tcp \
        from any to any port 53333:55555

By the way, I like the slogan in your signature.
It's among the best I've ever heard, as it applies to all things.

--

Fafa Hafiz Krantz
  Research Designer @ http://www.home.no/barbershop
  Enlightened @ http://www.home.no/barbershop/smart/sharon.pdf



--=20
___________________________________________________________
Sign-up for Ads Free at Mail.com
http://promo.mail.com/adsfreejump.htm

