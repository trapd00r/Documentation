From zsh-workers-return-22600-mason-zsh=primenet.com.au@sunsite.dk Sun Aug 13 14:58:38 2006
Return-Path: <zsh-workers-return-22600-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 3204 invoked from network); 13 Aug 2006 14:58:37 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.4 (2006-07-25) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.4 required=5.0 tests=AWL,BAYES_00,
	FORGED_RCVD_HELO autolearn=ham version=3.1.4
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 13 Aug 2006 14:58:37 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 25663 invoked from network); 13 Aug 2006 14:58:31 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 13 Aug 2006 14:58:31 -0000
Received: (qmail 24420 invoked by alias); 13 Aug 2006 14:58:28 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 22600
Received: (qmail 24410 invoked from network); 13 Aug 2006 14:58:27 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 13 Aug 2006 14:58:27 -0000
Received: (qmail 25376 invoked from network); 13 Aug 2006 14:58:27 -0000
Received: from nf-out-0910.google.com (64.233.182.187)
  by a.mx.sunsite.dk with SMTP; 13 Aug 2006 14:58:26 -0000
Received: by nf-out-0910.google.com with SMTP id y38so1508905nfb
        for <zsh-workers@sunsite.dk>; Sun, 13 Aug 2006 07:58:26 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        b=EjcrmevBzZmbJ9TGjwGYlLaAPl8qSvMX6UKvmXcFjAFvyFbfuANLdGukgC+YYEFwCGPMfZFRe2L6g7U6WaZhNzo41vcRZ45lqhu/KKSBp1b2FNRA5CLlHPLYSJNX9t5Kgz3oWEXyTEBA/lBChnOlsTQLsgkhRUHf4Q9OTXzjqMM=
Received: by 10.78.116.19 with SMTP id o19mr2918068huc;
        Sun, 13 Aug 2006 07:58:25 -0700 (PDT)
Received: by 10.78.178.17 with HTTP; Sun, 13 Aug 2006 07:58:25 -0700 (PDT)
Message-ID: <dbfc82860608130758l60e88c7ctae7ed26b46c95b51@mail.gmail.com>
Date: Sun, 13 Aug 2006 16:58:25 +0200
From: "Nikolai Weibull" <now@bitwi.se>
Sender: nikolai.weibull@gmail.com
To: "Michal Politowski" <mpol@charybda.icm.edu.pl>, 379942@bugs.debian.org, 
	zsh-workers@sunsite.dk
Subject: Re: Bug#379942: zsh: rake completion doesn't work for tasks with colons in their names
In-Reply-To: <20060807032130.GA4406@scowler.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <20060726131212.GA2474@meep.pl>
	 <20060806013217.GA18267@scowler.net> <20060806172622.GA29362@meep.pl>
	 <20060807032130.GA4406@scowler.net>
X-Google-Sender-Auth: 6077bd02c37091c4

On 8/7/06, Clint Adams <schizo@debian.org> wrote:
> > Certainly. Attached (probably more than is relevant).
> > BTW, this is rake 0.7.1-1 from unstable and, as can be probably guessed,
> > the Rakefile comes from rails.
>
> See if this fixes it.

Not quite.  It presents you with the correct completions, but it won't
actually complete anything beyond the first namespace, or colon.  Try
the following:

rake db

in a ruby-on-rails project directory.  You'll be presented with a
bunch of possible completions, including "db:migrate" and the command
line is completed to

rake db:

(in my setup anyway).  Then, when I type an 'm' and run completion
again, no completions are available.  Actually, after the unique
prefix is completed, i.e., 'db:' no completions are available any
more.

Adding 'r:|[:]=*' to ones matcher-list makes it work, but should this
really be necessary?

  nikolai

