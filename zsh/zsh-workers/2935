From zsh-workers-request@euclid.skiles.gatech.edu Thu Feb 27 17:04:24 1997
Return-Path: <zsh-workers-request@euclid.skiles.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 13534 invoked from network); 27 Feb 1997 17:04:22 -0000
Received: from euclid.skiles.gatech.edu (list@130.207.146.50)
  by coral.primenet.com.au with SMTP; 27 Feb 1997 17:04:22 -0000
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id LAA15244; Thu, 27 Feb 1997 11:51:39 -0500 (EST)
Resent-Date: Thu, 27 Feb 1997 11:51:39 -0500 (EST)
Message-Id: <m0w096l-000060C@aglaia.aball.DE>
Subject: Here-doc glitch, and null commands
To: zsh-workers@math.gatech.edu
Date: Thu, 27 Feb 1997 17:55:02 +0100 (MET)
From: Thorsten Meinecke <kaefer@aglaia.aball.DE>
Organization: none. Location: Berlin, Germany
X-Mailer: ELM [version 2.4 PL23]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"EiOws.0.7k3.LkR5p"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/2935
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Hello there,
this is as of zsh-3.0.3-test4.

Here-documents inside command/process substitution won't behave
when they contain an unmatched single or double quote.  Complains
about "parse error near `$(<<__END__'.", and when entered inter-
actively, one is caught in `cmdsubst>'.  Example:

echo $(<<__END__
Doesn't work.
__END__)


Now that I'm thinking about it, `<<' in command position is a null
command.  Why isn't this too, but a parse error?

< <<__END__
Feed this to $NULLCMD.
__END__


And while I'm at it: to get sh/ksh-like behaviour, invoke as sh/ksh
or set NULLCMD to `:'.  In order to flag errors, more in csh's
spirit, one have to explicitly unset NULLCMD.  Built-in emulate
can't help, it doesn't change special parameters.

It's a mess, but all of this can be found in the documention.

Except that it doesn't mention that NULLCMD will be set to `:'
after invocation as sh/ksh.  Hence, wouldn't NULLCMD fit better in
as a special parameter "automatically set by the shell", which can
be assigned to, or something?

Regards,
--Thorsten

