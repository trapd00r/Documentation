From zsh-workers-return-13652-mason-zsh=primenet.com.au@sunsite.dk Fri Mar 16 14:40:01 2001
Return-Path: <zsh-workers-return-13652-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 14649 invoked from network); 16 Mar 2001 14:40:00 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 16 Mar 2001 14:40:00 -0000
Received: (qmail 19481 invoked by alias); 16 Mar 2001 14:39:53 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 13652
Received: (qmail 19470 invoked from network); 16 Mar 2001 14:39:52 -0000
Message-ID: <Tc0a88d015254508807@mailsweeper01.cambridgesiliconradio.com>
To: zsh-workers@sunsite.dk (Zsh hackers list)
Subject: Re: ZSpeak! Only Zsh can do this! 
In-Reply-To: Your message of "16 Mar 2001 15:21:17 +0100."
             <874rwtzteq.fsf@home.delysid.org> 
Date: Fri, 16 Mar 2001 14:39:26 +0000
From: Peter Stephenson <pws@csr.com>

> First of all, I want to introduce myself:
> I am a fanatic linux user/developer since 1997
> and recently (its a shame that it took so long) I discovered
> Zsh and I want to say: You guys did a great job!

Thank you.  Don't look at the code too closely :-/.
> # BUG: Doesnt read in the spell list?? Any Zmagician?
> speech-load-spell-list () {
>     typeset -A zspeak_spell
>     [[ -z $ZSPEAK_SPELL_LIST ]] && [[ -s "~/.zsh/spell.list" ]] \
> 				&& ZSPEAK_SPELL_LIST='~/.zsh/spell.list'

I think you want
    [[ -z $ZSPEAK_SPELL_LIST ]] && [[ -s ~/.zsh/spell.list ]] \
				&& ZSPEAK_SPELL_LIST=~/.zsh/spell.list

since the `~' doesn't get expanded if it's quoted.

>     if [[ -s "$ZSPEAK_SPELL_LIST" ]]; then
>         zspeak_spell=(${$(<${ZSPEAK_SPELL_LIST})})

You don't need the outermost ${...}.  I think it's harmless here.

    if [[ -s "$ZSPEAK_SPELL_LIST" ]]; then
        zspeak_spell=($(<${ZSPEAK_SPELL_LIST}))

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR Ltd., Unit 300, Science Park, Milton Road,
Cambridge, CB4 0XL, UK                          Tel: +44 (0)1223 392070

