From zsh-users-return-8030-mason-zsh=primenet.com.au@sunsite.dk Mon Sep 27 20:35:48 2004
Return-Path: <zsh-users-return-8030-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10268 invoked from network); 27 Sep 2004 20:35:47 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 27 Sep 2004 20:35:47 -0000
Received: (qmail 61776 invoked from network); 27 Sep 2004 20:35:41 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 27 Sep 2004 20:35:41 -0000
Received: (qmail 14720 invoked by alias); 27 Sep 2004 20:35:31 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8030
Received: (qmail 14705 invoked from network); 27 Sep 2004 20:35:30 -0000
Received: from unknown (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 27 Sep 2004 20:35:30 -0000
Received: (qmail 60442 invoked from network); 27 Sep 2004 20:34:30 -0000
Received: from ms-smtp-01.texas.rr.com (HELO ms-smtp-01-eri0.texas.rr.com) (24.93.47.40)
  by a.mx.sunsite.dk with SMTP; 27 Sep 2004 20:34:29 -0000
Received: from zigzag.elkins.cx (cs24174118-53.houston.rr.com [24.174.118.53])
	by ms-smtp-01-eri0.texas.rr.com (8.12.10/8.12.7) with ESMTP id i8RKYPYm004177
	for <zsh-users@sunsite.dk>; Mon, 27 Sep 2004 15:34:25 -0500 (CDT)
Received: from localhost (localhost [127.0.0.1])
	by zigzag.elkins.cx (Postfix) with ESMTP id D87DD15B619
	for <zsh-users@sunsite.dk>; Mon, 27 Sep 2004 15:34:24 -0500 (CDT)
Received: from zigzag.elkins.cx ([127.0.0.1])
 by localhost (zigzag [127.0.0.1]) (amavisd-new, port 10024) with LMTP
 id 05135-06 for <zsh-users@sunsite.dk>; Mon, 27 Sep 2004 15:34:24 -0500 (CDT)
Received: by zigzag.elkins.cx (Postfix, from userid 1000)
	id 6E63315B618; Mon, 27 Sep 2004 15:34:24 -0500 (CDT)
Date: Mon, 27 Sep 2004 15:34:24 -0500
From: Joel David Elkins <jde@elkins.cx>
To: zsh-users@sunsite.dk
Subject: Re: completion within word
Message-ID: <20040927203424.GA335@elkins.cx>
References: <20040921175108.5a5f7697@buddha.localdomain.de> <20040922045511.GA22277@picard.franken.de> <20040925003747.241f4a2d@buddha.localdomain.de> <17298.1096276791@trentino.logica.co.uk> <20040927160024.5a664979@buddha.localdomain.de> <200409271418.i8REIoZf009904@news01.csr.com> <20040927164336.557f6485@buddha.localdomain.de> <19431.1096297944@trentino.logica.co.uk>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable
In-Reply-To: <19431.1096297944@trentino.logica.co.uk>
X-Operating-System: Linux 2.6.8.1
User-Agent: Mutt/1.5.6i
X-Virus-Scanned: Symantec AntiVirus Scan Engine
X-Virus-Scanned: by amavisd-new at elkins.cx
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: *
X-Spam-Status: No, hits=1.5 required=6.0 tests=BAYES_44,RCVD_IN_SORBS 
	autolearn=no version=2.63
X-Spam-Hits: 1.5

Isn't the colon-variable completion problem simply solved by
redefining what a "word" is with something like select-word-style? The
sledge hammer approach is to define words just as bash does with the
following. There are more subtle ways to just exclude : from the list
of word characters; such methods are adequately documented in the
manual. Of course, this approach has other (IMO consistent therefore
desirable) effects besides completion, such as ^W behavior.

autoload -U select-word-style
select-word-style bash

$ BLA=3D/foo:/us<TAB>
$ BLA=3D/foo:/usr/

On Mon, Sep 27, 2004 at 05:12:24PM +0200, Oliver Kiddle wrote:
> Also note that you can simply use:
>   bindkey '=1Bf' _bash_complete-word
>=20
> > I can tell you. It doesn't solve my original problem, which is that
> >=20
> > BLA=3D/usr:/us<COMPLETE>
>=20
> You can create a wrapper around _files to handle the colons:
>=20
> _my_files() {
>   compset -P '*:'
>   compset -S ':*'
>   _files "$@"
> }
>=20
> Oliver
>=20

--=20
Joel Elkins <jde@elkins.cx>

