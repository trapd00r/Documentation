From zsh-users-return-2824-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Jan 03 18:24:19 2000
Return-Path: <zsh-users-return-2824-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 26916 invoked from network); 3 Jan 2000 18:24:18 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 3 Jan 2000 18:24:18 -0000
Received: (qmail 14991 invoked by alias); 3 Jan 2000 18:24:05 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 2824
Received: (qmail 14984 invoked from network); 3 Jan 2000 18:24:04 -0000
X-Authentication-Warning: kempelen.iit.bme.hu: airwin set sender to airwin@inf.bme.hu using -f
Sender: airwin@inf.bme.hu
To: John Galbraith <john@bartok.lanl.gov>
Cc: Steve Reid <sreid@sea-to-sky.net>, zsh-users@sunsite.auc.dk
Subject: Re: PS1 corrupted through "su"
References: <14448.55754.322294.62194@bartok.lanl.gov> <20000103101054.A420@grok.localnet> <14448.58999.743035.372268@bartok.lanl.gov>
From: Nemeth Ervin <airwin@inf.bme.hu>
Date: 03 Jan 2000 19:23:38 +0100
In-Reply-To: John Galbraith's message of "Mon,  3 Jan 2000 11:14:07 -0700 (MST)"
Message-ID: <gmviu1b815h.fsf@kempelen.iit.bme.hu>
Lines: 24
User-Agent: Gnus/5.0802 (Gnus v5.8.2) Emacs/20.4
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

>>>>> John Galbraith writes:

>>>>> "Steve" == Steve Reid <sreid@sea-to-sky.net> writes:
Steve> Root's shell being set to something other than zsh would cause
Steve> the behavior you're seeing.

Steve> You've probably checked that already, but sometimes the obvious
Steve> things are the easiest to forget.

> Yeah, I have a special user "toor" that is root, but uses
> /usr/local/bin/zsh as the shell.  I only actually use "root" itself if
> /usr/local is either missing or not installed yet.  I once made the mistake 
> of setting the actual root shell to /usr/local/bin/zsh...

I have a "suz" function wich sets te SHELL parameter to zsh and does an exec
zsh after suing.

-- 
  ____                 ____________________________________________________
 /____| NEMETH, ERVIN |____________________________________________________|
//	< airwin @ inf.bme.hu >		http://www.inf.bme.hu/~airwin
||
||	"Nonsense.  All you have to do is say 'Engage'"
||					-- Patrick Stewart about warp theory

