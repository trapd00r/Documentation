From zsh-workers-request@math.gatech.edu  Tue Nov 14 00:27:06 1995
Received: from math.gatech.edu (euclid.skiles.gatech.edu [130.207.146.50]) by werple.net.au (8.7/8.7.1) with SMTP id AAA00122 for <mason@werple.mira.net.au>; Tue, 14 Nov 1995 00:27:01 +1100 (EST)
Received: by math.gatech.edu (5.x/SMI-SVR4)
	id AA00152; Mon, 13 Nov 1995 08:09:30 -0500
Resent-Date: Mon, 13 Nov 1995 15:10:36 +0200
Old-Return-Path: <sverre@research.nokia.com>
Date: Mon, 13 Nov 1995 15:10:36 +0200
From: sverre@research.nokia.com (Sverre Slotte)
Message-Id: <9511131310.AA29410@nike.spices>
Newsgroups: comp.unix.shell
Subject: SUMMARY: read with timeout?
Organization: Nokia Research Center
Apparently-To: dansmith@well.sf.ca.us
Apparently-To: daniel@island.uu.net
Apparently-To: zsh-workers@math.gatech.edu
Resent-Message-Id: <"zed2z2.0.E2.8Eqfm"@euclid>
To: zsh-workers@math.gatech.edu
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/602
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Last week I asked:

    Is there a way to give the read-command (in zsh) a timeout-value?

I got two answers. Vinnie Shelton <shelton@icd.teradyne.com> suggested
I use expect, and Karl Vogel <vogelke@c17mis.wpafb.af.mil> recommended
grabchars (from comp.sources.misc volume 12).

Both of these will obviously work with any shell.

Expect seemed like overkill, so I had a closer look at grabchars. It
does exactly what I want. In fact, it does things I didn't even know I
wanted:

    grabchars -ccfmos -df -t10 -L
               ^       ^   ^    ^
               |       |   |    |
               |       |   |    +---- fold to lower case
               |       |   +--------- timeout 10 seconds
               |       +------------- default value `f'
               +--------------------- valid characters

The binary is small and compact, 24576 bytes on SunOS (dyn.linked).

This version of grabchars is rather old: 1.9. (Copyright (c) 1988,
1989, 1990, Dan Smith). Does anyone know of a newer version?

Thanks for your help,

Sverre

----------------------------------------------------------------------------
Sverre Slotte                            Internet: sverre@research.nokia.com
Nokia Research Center                    Phone:             + 358 0 43766208
P.O.Box 45, 00211 Helsingfors, Finland   Phax:              + 358 0 43766856
----------------------------------------------------------------------------
"Kajakken er uten sammenligning den ypperste enkeltmannsfarkost som finnes."
                                                      -- Fritjof Nansen 1891

