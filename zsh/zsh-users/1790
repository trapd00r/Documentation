From zsh-workers-request@math.gatech.edu Mon Sep 14 18:47:48 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 6051 invoked from network); 14 Sep 1998 18:47:46 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 14 Sep 1998 18:47:46 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.9.1/8.9.1) id OAA21583;
	Mon, 14 Sep 1998 14:38:02 -0400 (EDT)
Resent-Date: Mon, 14 Sep 1998 14:37:46 -0400 (EDT)
Message-ID: <AF4C1F8C5306D111AD5F0000F8662ED3053088AD@RED-MSG-41>
From: Amol Deshpande <amold@MICROSOFT.com>
To: ZShell Users List <zsh-users@math.gatech.edu>,
        "'Sven Guckes'"
	 <guckes@math.fu-berlin.de>
Cc: amol@blarg.net
Subject: RE: zsh for win32 - installation of zshrc
Date: Mon, 14 Sep 1998 11:40:28 -0700
X-Mailer: Internet Mail Service (5.5.2232.9)
Resent-Message-ID: <"ri9Ns1.0.hG5.w9M_r"@math>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/1790
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu



> ----------
> From: 	'Sven Guckes'[SMTP:guckes@math.fu-berlin.de]
> Sent: 	Monday, September 14, 1998 10:55 AM
> To: 	ZShell Users List
> Cc: 	amol@blarg.net
> Subject: 	Re: zsh for win32 - installation of zshrc
> 
> Quoting Bart Schaefer (schaefer@brasslantern.com):
> > zagzig[21] zcat zsh.exe.gz | strings -a | less +/zshrc
> 
> Actually, I tried just that - but I figured that it would not work
> as there is no directories /etc on Windows systems.  :-/
> 
> > So of course c:\zshrc isn't going to work; it's looking for .zshrc
> > (which prehaps you can't create on a Win95 machine because of the
> > silly 8.3 filename rule, though I'm pretty sure you can on NT).
> 
> Well, how could I be sure?  Actually, I find that using "zshrc" would
> be a nice workaround because of the "8.3" filename convention.
> 
There is no problem creating .zshrc on win9x. just use a real editor
like vim :-) even notepad will do it in a pinch.
or, copy zshrc .zshrc.


> > So you either need to create a c:\etc\zshrc (and zlogin and zshenv
> > and zlogout if you want) or find out what zsh thinks $HOME is set to
> > (by starting zsh and typing "echo $HOME")
> > and put files with names starting with a "." in there, if you can.
> 
> I'd rather look into a manual explaining this.  (hint hint ;-)
> 
from the README

7. HOME directory:
-----------------
zsh sets the HOME directory if it's not already set. It uses
the windows directory on win95, $HOMEDRIVE\$HOMEPATH on nt <4.0,
and $USERPROFILE on NT 4.0 and higher.

If ZSHDOTDIR is set, zsh sets home to "youdonthavehomeset". This
is to avoid crashing in places where the shell expects a home directory.
Picking a real default would defeat the purpose of not setting home.



(that means you can set ZSHDOTDIR instead of HOME for your startup files)

> > It appears, from further perusal of the strings output, that $HOMEDRIVE
> > and $HOMEPATH are used to generate part of the default $Path,
> > as is a variable $ZSHROOT that isn't used in unix zsh.
> 
> I understand that the following "filenames" should work then:
> 
>         %HOMEDRIVE%%HOMEPATH%/.zshrc
>         %HOME%/.zshrc
>         %ZDOTDIR%/.zshrc
> 
> Now, which order do these take?  Amol?
> 
> A rough summary of this can be read on
> http://www.math.fu-berlin.de/~guckes/zsh/windows.html
> 
> Sven
> 

