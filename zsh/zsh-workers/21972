From zsh-workers-return-21972-mason-zsh=primenet.com.au@sunsite.dk Wed Nov 02 06:37:27 2005
Return-Path: <zsh-workers-return-21972-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 901 invoked from network); 2 Nov 2005 06:37:15 -0000
Received: from ns2.primenet.com.au (HELO primenet.com.au) (?bPboO7co6rIkqUk0TR+PvBPJCGgcZ6xq?@203.24.36.3)
  by ns1.primenet.com.au with (DHE-RSA-AES256-SHA encrypted) SMTP; 2 Nov 2005 06:37:15 -0000
Received: (qmail 1270 invoked from network); 2 Nov 2005 04:08:22 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns2.melb.primenet.com.au with SMTP; 2 Nov 2005 04:08:22 -0000
Received: (qmail 88272 invoked from network); 2 Nov 2005 04:07:16 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 2 Nov 2005 04:07:16 -0000
Received: (qmail 1234 invoked by alias); 2 Nov 2005 04:07:13 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 21972
Received: (qmail 1221 invoked from network); 2 Nov 2005 04:07:12 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 2 Nov 2005 04:07:12 -0000
Received: (qmail 87986 invoked from network); 2 Nov 2005 04:07:12 -0000
Received: from smtp01.mrf.mail.rcn.net (207.172.4.61)
  by a.mx.sunsite.dk with SMTP; 2 Nov 2005 04:07:10 -0000
Received: from 209-6-229-49.c3-0.nwt-ubr2.sbo-nwt.ma.cable.rcn.com (HELO zion.rcn.com) ([209.6.229.49])
  by smtp01.mrf.mail.rcn.net with ESMTP; 01 Nov 2005 23:07:10 -0500
X-IronPort-AV: i="3.97,277,1125892800"; 
   d="scan'208"; a="114170729:sNHT20858988"
Received: by zion.rcn.com (Postfix, from userid 500)
	id 892A77A8B7; Tue,  1 Nov 2005 23:07:09 -0500 (EST)
To: zsh-workers@sunsite.dk
Subject: universal argument regression
From: Vin Shelton <acs@alumni.princeton.edu>
Date: Tue, 01 Nov 2005 23:07:09 -0500
Message-ID: <m33bmf3d76.fsf@zion.rcn.com>
Lines: 27
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Checker-Version: SpamAssassin 3.0.4 (2005-06-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.0.4

Greetings -

While empirically determing if copy-prev-word followed the universal
prefix (see my posting to zsh-users), I came across a regression in
the current shell vs. 4.2.1.

xterm -e zsh-4.2.1 -f

  asdfg^A<ESC>4^F

does what is expected - it moves the cursor from the 'a' to the 'g'.

xterm -e zsh-2005-11-01 -f

  asdfg^A<ESC>4^F

doesn't behave in the same way.  ^A moves to the 'a', but then <ESC>4
flashes the screen (and is ignored) and the ^F moves forward 1
character to the 's'.  It looks like the universal prefix argument is
ignored in the latest CVS sources.

(Upon further testing, this regression is fairly recent - a version of
the shell build on 2005-10-01 does not exhibit this bug.  HTH.)


Regards,
  Vin

