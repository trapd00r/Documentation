From zsh-workers-return-6408-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Jun 01 05:42:40 1999
Return-Path: <zsh-workers-return-6408-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18043 invoked from network); 1 Jun 1999 05:42:38 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 1 Jun 1999 05:42:38 -0000
Received: (qmail 28179 invoked by alias); 1 Jun 1999 05:42:27 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 6408
Received: (qmail 28169 invoked from network); 1 Jun 1999 05:42:25 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <990601054216.ZM9780@candle.brasslantern.com>
Date: Tue, 1 Jun 1999 05:42:16 +0000
In-Reply-To: <199906010452.AAA16501@ocalhost>
Comments: In reply to Timothy J Luoma <tjlists@bigfoot.com>
        "why bother with 'cd .' ?" (Jun  1, 12:52am)
References: <199906010452.AAA16501@ocalhost>
X-Mailer: Z-Mail (5.0.0 30July97)
To: Timothy J Luoma <tjlists@bigfoot.com>, zsh-workers@sunsite.auc.dk
Subject: Re: why bother with 'cd .' ?
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Jun 1, 12:52am, Timothy J Luoma wrote:
} Subject: why bother with 'cd .' ?
}
} cd . && \
}   CONFIG_FILES= CONFIG_HEADERS=./config.h ./config.status
} /bin/sh: .: bad directory

There are two cases in which I've ever seen a problem like that.  First
is when I've had two shells running, and in one shell removed the current
working directory of the other shell.  The second is when the current
working directory is on an NFS filesystem that is "soft" mounted, and
the NFS server is having trouble (too heavily loaded, perhaps).

If you're seeing this intermittently in otherwise ordinary directories,
I suggest you get your filesystem fsck'd soon.

} could we have something like
} 
} if [ "$PWD" != "$SRC_DIR" ]
} 
} 	cd $SRC_DIR
} fi

It's $(dir_top), and the test would have to be [ $(dir_top) != . ], but
if you can't "cd ." then "./config.status" isn't likely to work either.

The whole point of using variables like $(dir_top) is so that the command
to be run doesn't need to care about the variable's value.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

