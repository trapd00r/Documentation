From zsh-workers-request@math.gatech.edu Tue Aug 18 16:28:08 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4573 invoked from network); 18 Aug 1998 16:28:07 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 18 Aug 1998 16:28:07 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.9.1/8.9.1) id MAA12992;
	Tue, 18 Aug 1998 12:15:27 -0400 (EDT)
Resent-Date: Tue, 18 Aug 1998 12:15:20 -0400 (EDT)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <13785.43317.123914.551024@hatchet.fc.hp.com>
Date: Tue, 18 Aug 1998 10:17:57 -0600 (MDT)
From: Matthew Lovell <lovell@fc.hp.com>
To: "Stephen Riehm" <sr@pc-plus.de>
Cc: zsh-users@math.gatech.edu
Subject: Re: zsh - new user with questions
In-Reply-To: <C1256664.00540607.00@bavaria3.pc-plus.de>
References: <C1256664.00540607.00@bavaria3.pc-plus.de>
X-Mailer: VM 6.61 under 20.4 "Emerald" XEmacs  Lucid
Resent-Message-ID: <"cBLnB1.0.NA3.NYQsr"@math>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/1730
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

On 18 August 1998, Stephen Riehm writes:
 > 
 >      occaisonally I want to perform completions which are normally
 > disallowed by compctl. The simplest example is
 > 
 >      cd. "compctl -g '*(-/)' cd" will complete nicely, unless I want to cd
 > into a hidden (dot) directory. Then it doesn't
 > 
 >      complete at all. Is it possible to say that it should complete
 > non-hidden directories, unless the text typed indicates
 > 
 >      otherwise, ie: if I type "cd <tab>", I get a list of all the normal
 > directories, but if I then type .<tab> it should use the
 > 
 >      . and show me all the directories beginning with .


The following works nicely for me, with the behavior you desired:

# cd/pushd/rmdir only directories or symbolic links to directories.  If 
# none of those match, resort to shell variables
compctl -g '*(-/)' + -g '.*(-/)' -v cd pushd rmdir   

-- 

Matthew Lovell                       voice: (970) 898-6264 
Hewlett-Packard FSL                    fax: (970) 898-2510 
3404 E. Harmony Rd. MS A0         location: 3UR4
Fort Collins, CO 80528-9599         mailto:lovell@fc.hp.com

