From zsh-users-return-3539-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Dec 01 08:48:03 2000
Return-Path: <zsh-users-return-3539-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5170 invoked from network); 1 Dec 2000 08:47:57 -0000
Received: from sunsite.dk (HELO sunsite.auc.dk) (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 1 Dec 2000 08:47:57 -0000
Received: (qmail 5062 invoked by alias); 1 Dec 2000 08:47:44 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 3539
Received: (qmail 5055 invoked from network); 1 Dec 2000 08:47:43 -0000
X-Authentication-Warning: lepois.loria.fr: lefevre set sender to vincent@vinc17.org using -f
Date: Fri, 1 Dec 2000 09:47:48 +0100
From: Vincent Lefevre <vincent@vinc17.org>
To: zsh-users@sunsite.auc.dk
Subject: Re: [zsh 3.1.9] history bug?
Message-ID: <20001201094748.A19693@lepois.loria.fr>
Mail-Followup-To: zsh-users@sunsite.auc.dk
References: <20001129141451.A24159@lepois.loria.fr> <1001129155002.ZM26865@candle.brasslantern.com> <20001130154606.B17960@vin.ens-lyon.fr> <1001130164407.ZM28394@candle.brasslantern.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
User-Agent: Mutt/1.2.5i
In-Reply-To: <1001130164407.ZM28394@candle.brasslantern.com>; from schaefer@candle.brasslantern.com on Thu, Nov 30, 2000 at 04:44:07PM +0000
X-Mailer-Info: http://www.vinc17.org/mutt_eng.html

On Thu, Nov 30, 2000 at 16:44:07 +0000, Bart Schaefer wrote:
> One question would be, what does the history file contain after you've
> given *each* of the last three commands, and *before* you close the
> third terminal, in your example? With incappendhistory set, each command
> should be saved as it is issued, and closing the terminal should not
> change the file.

In fact, this is not what happens. Here's another test. All the
commands are typed in the same terminal, and each time, I give
the current history.

zzt 1

: 975660098:0;zzt 1

zzt 2

: 975660098:0;zzt 1

zzt 3

: 975660098:0;zzt 1
: 975660120:0;zzt 3

zzt 4

: 975660098:0;zzt 1
: 975660120:0;zzt 3

zzt 5

: 975660098:0;zzt 1
: 975660120:0;zzt 3
: 975660140:0;zzt 5

zzt 6

: 975660098:0;zzt 1
: 975660120:0;zzt 3
: 975660140:0;zzt 5

zzt 7

: 975660098:0;zzt 1
: 975660120:0;zzt 3
: 975660140:0;zzt 5
: 975660154:0;zzt 7

zzt 8

: 975660098:0;zzt 1
: 975660120:0;zzt 3
: 975660140:0;zzt 5
: 975660154:0;zzt 7

and now, after closing the terminal:

: 975660098:0;zzt 1
: 975660120:0;zzt 3
: 975660140:0;zzt 5
: 975660154:0;zzt 7
: 975660108:0;zzt 2
: 975660132:0;zzt 4
: 975660148:0;zzt 6
: 975660161:0;zzt 8

-- 
Vincent Lefèvre <vincent@vinc17.org> - Web: <http://www.vinc17.org/> - 100%
validated HTML - Acorn Risc PC, Yellow Pig 17, Championnat International des
Jeux Mathématiques et Logiques, TETRHEX, etc.
Work: CR INRIA - computer arithmetic / PolKA research team at LORIA

