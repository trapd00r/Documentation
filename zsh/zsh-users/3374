From zsh-users-return-3374-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Aug 17 15:48:32 2000
Return-Path: <zsh-users-return-3374-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24411 invoked from network); 17 Aug 2000 15:48:30 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 17 Aug 2000 15:48:30 -0000
Received: (qmail 3129 invoked by alias); 17 Aug 2000 15:47:48 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 3374
Received: (qmail 3108 invoked from network); 17 Aug 2000 15:47:33 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <1000817154639.ZM25711@candle.brasslantern.com>
Date: Thu, 17 Aug 2000 15:46:39 +0000
In-Reply-To: <E13Onll-00002r-00.2000-08-15-21-57-09@cmailg2.svr.pol.co.uk>
Comments: In reply to Peter Stephenson <pws@pwstephenson.fsnet.co.uk>
        "Re: zsh questions" (Aug 15,  9:57pm)
References: <E13Onll-00002r-00.2000-08-15-21-57-09@cmailg2.svr.pol.co.uk>
X-Mailer: Z-Mail (5.0.0 30July97)
To: "Mark G. Sobell" <mark@sobell.com>
Subject: Re: zsh questions
Cc: zsh-users@sunsite.auc.dk (Zsh users list)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

} "Mark G. Sobell" wrote:
} > I'm revising my Linux book and have noticed that a couple of things have
} > changed in zsh. If you could tell me if these are changes, bugs, or
} > something else I would appreciate it.  If they are bugs, when do you
} > expect them to be fixed?
} > 
} > --------------------------------
} > 
} > Under Red Hat 6.2 i386 (kernel 2.2.14-5.0)
} > 
} > I have tried these on ZSH_VERSION=3.1.6-pws-9 and ZSH_VERSION=3.0.7.
} > 
} > after giving the command bindkey -v
} > 
} > ESCAPE = lists possible completions for partial filenames entered on
} > the command line. (fails on 3.1.6)

As far as I know, ESCAPE was *never* used to list possible completions
in zsh, in vi mode or otherwise.  Control-D is used in all cases, and
always has been.  ESCAPE switches from vi insert mode to vi command mode,
or acts as a prefix key for multi-key bindings when already in vi command
mode.

However, there is a difference -- and possibly a bug -- in the 3.1 series,
which was probably introduced fairly recently.  In vi command mode, it's
not possible to more the cursor to the right of the last character on the
line.  In 2.x and 3.0, therefore, completion in vi command mode always
begins using the character UNDER the cursor, rather than the character to
the LEFT OF the cursor.  In 3.1.6 and 3.1.9 (I haven't checked earlier
versions of 3.1), completion in vi command mode uses the character to the
left of the cursor, exactly as do vi insert mode and emacs mode in all
versions.

This of course means that the set of possible completions generated in vi
command mode will not be the same in 3.1.6+ as in 3.0.x, and in fact it
may appear not to be generating completions at all, depending on context.

} > TAB used to extend partial filenames as far as possible (fails on both
} > versions)

This is indeed a change.  In the 2.x series, TAB was bound to complete-word
in vi command mode and to expand-or-complete in insert mode and emacs mode.
As of 3.0, the vi command mode binding was dropped, so TAB is unbound in
that mode in 3.0.x and 3.1.x.  It should be unchanged as long as you have
not pressed ESCAPE to enter vi command mode.

On Aug 15,  9:57pm, Peter Stephenson wrote:
}
} I'd be happy to read through your chapter on zsh; there may be other
} takers.

I'd be willing to do so as well.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

