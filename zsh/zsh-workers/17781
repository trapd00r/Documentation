From zsh-workers-return-17781-mason-zsh=primenet.com.au@sunsite.dk Sun Oct 06 17:31:28 2002
Return-Path: <zsh-workers-return-17781-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 3469 invoked from network); 6 Oct 2002 17:31:27 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 6 Oct 2002 17:31:27 -0000
Received: (qmail 970 invoked by alias); 6 Oct 2002 17:31:19 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 17781
Received: (qmail 956 invoked from network); 6 Oct 2002 17:31:17 -0000
Date: Sun, 6 Oct 2002 13:31:13 -0400
From: Clint Adams <clint@zsh.org>
To: Bart Schaefer <schaefer@brasslantern.com>
Cc: Zsh workers <zsh-workers@sunsite.dk>
Subject: Re: db module
Message-ID: <20021006173113.GA1400@dman.com>
References: <E17w1iC-00012d-00@bimbo.logica.co.uk> <20021006053229.GA14350@dman.com> <20021006122451.GV24160@malachi.theoscape.net> <1021006164658.ZM11928@candle.brasslantern.com> <20021006170353.GA531@dman.com> <1021006171435.ZM11988@candle.brasslantern.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <1021006171435.ZM11988@candle.brasslantern.com>
User-Agent: Mutt/1.4i
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)

> Yes, except that, like e.g. the stat module's -A and -H options, I was
> thinking that the name of the parameter to which to assign would be an
> argument to the db_get function so that the $(...) would not be needed.

Well, that should be the simplest part to implement.

So, if a function with a name ending in .{get,set,unset} is defined,
param.{gets,sets,unsetfn} should be modified accordingly, and restored
upon unfunction.  When param.{gets,sets,unsetfn} are invoked,
.sh.{name,subscript} and sometimes .sh.value need to be set to the
appropriate strings.

I don't think I understand how adding more discipline functions via
ksh's builtin builtin works, so I don't know if it would be useful to
keep in mind.

