From zsh-workers-return-9755-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Feb 15 21:55:58 2000
Return-Path: <zsh-workers-return-9755-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 25784 invoked from network); 15 Feb 2000 21:55:57 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 15 Feb 2000 21:55:57 -0000
Received: (qmail 14786 invoked by alias); 15 Feb 2000 21:55:51 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 9755
Received: (qmail 14768 invoked from network); 15 Feb 2000 21:55:44 -0000
To: zsh-workers@sunsite.auc.dk (Zsh hackers list)
Subject: PATCH: _sep_parts
Date: Tue, 15 Feb 2000 21:58:59 +0000
From: Peter Stephenson <pws@pwstephenson.fsnet.co.uk>
Message-Id: <E12KpwH-0001l3-00.2000-02-15-21-55-21@mail4.svr.pol.co.uk>

There seems to be a typo in _sep_parts, which I was trying out for the
guide.

By the way, there also seems to be a problem if one of the separators
contains a character that needs quoting: completion quotes it, but
_sep_parts doesn't recognise the quoted string as being the separator when
performing later completions --- there's no use quoting it by hand, since
it gets requoted.  Maybe there's an easy workaround, else judicious use of
-Q may be required, which _sep_parts doesn't accept.  Not that I have an
application for this, anyway.

Index: Completion/Core/_sep_parts
===================================================================
RCS file: /home/pws/CVSROOT/projects/zsh/Completion/Core/_sep_parts,v
retrieving revision 1.5
diff -u -r1.5 _sep_parts
--- Completion/Core/_sep_parts	2000/02/11 19:07:59	1.5
+++ Completion/Core/_sep_parts	2000/02/15 18:47:37
@@ -23,7 +23,7 @@
 # Get the options.
 
 zparseopts -D -a opts \
-    'J:=group' 'V=:group' P: F: S: r: R: q 1 2 n 'X:=expl' 'M+:=match'
+    'J:=group' 'V:=group' P: F: S: r: R: q 1 2 n 'X:=expl' 'M+:=match'
 
 if (( $#match )); then
   match="${match[2]}"

-- 
Peter Stephenson <pws@pwstephenson.fsnet.co.uk>

