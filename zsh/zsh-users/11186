From zsh-users-return-11186-mason-zsh=primenet.com.au@sunsite.dk Sat Feb 10 18:32:30 2007
Return-Path: <zsh-users-return-11186-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 11567 invoked from network); 10 Feb 2007 18:32:24 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.7 (2006-10-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=BAYES_00,FORGED_RCVD_HELO 
	autolearn=ham version=3.1.7
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 10 Feb 2007 18:32:24 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 6018 invoked from network); 10 Feb 2007 18:32:19 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 10 Feb 2007 18:32:19 -0000
Received: (qmail 28220 invoked by alias); 10 Feb 2007 18:32:11 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 11186
Received: (qmail 28210 invoked from network); 10 Feb 2007 18:32:10 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 10 Feb 2007 18:32:10 -0000
Received: (qmail 4696 invoked from network); 10 Feb 2007 18:32:10 -0000
Received: from unknown (HELO n082.sc1.he.tucows.com) (64.97.136.191)
  by a.mx.sunsite.dk with SMTP; 10 Feb 2007 18:32:04 -0000
Received: from sc.homeunix.net (82.26.171.179) by n082.sc1.he.tucows.com (7.2.069.1)
        id 45B8F3DB00137C40; Sat, 10 Feb 2007 18:31:56 +0000
Received: from chazelas by sc.homeunix.net with local (Exim 3.36 #1 (Debian))
	id 1HFx0r-0002CQ-00; Sat, 10 Feb 2007 18:31:53 +0000
Date: Sat, 10 Feb 2007 18:31:53 +0000
From: Stephane Chazelas <Stephane_Chazelas@yahoo.fr>
To: "Brian K. White" <brian@aljex.com>
Cc: zsh-users@sunsite.dk
Subject: Re: test if a parameter is numeric
Message-ID: <20070210183153.GB4522@sc.homeunix.net>
Mail-Followup-To: "Brian K. White" <brian@aljex.com>, zsh-users@sunsite.dk
References: <Xns98D2ADD16C100zzappergmailcom@80.91.229.5> <070209182939.ZM18654@torch.brasslantern.com> <003d01c74d3f$3bbd7960$6600000a@venti>
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-15
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
In-Reply-To: <003d01c74d3f$3bbd7960$6600000a@venti>
User-Agent: Mutt/1.5.6i
Sender: Stephane Chazelas <stephane_chazelas@yahoo.fr>

On Sat, Feb 10, 2007 at 01:13:57PM -0500, Brian K. White wrote:
[...]
>    typeset -i N="$1" 2>/dev/null
> or if your shell has built in arithmatic (zsh/kash/bash, not plain sh on 
> platforms where sh isn't really bash) instead of using a type defined 
> variable, using the common age old trick (in any language) of just 
> attempting an arithmatic operation, add 0 to the value.
>    unset N
>    N=$((1+0))
> if $1 was numeric the N will have it, else N will still be unset
[...]

Those approaches will say that "1+1", "a=1", "SECONDS"... are
numbers some with potentially nasty side effects, as for $1 ==
"PATH=0", 

$ set 'PATH=0'
$ N=$(($1+0))
$ ls
ls:2: command not found: ls

-- 
Stéphane

