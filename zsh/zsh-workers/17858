From zsh-workers-return-17858-mason-zsh=primenet.com.au@sunsite.dk Fri Oct 25 13:02:01 2002
Return-Path: <zsh-workers-return-17858-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18913 invoked from network); 25 Oct 2002 13:02:00 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 25 Oct 2002 13:02:00 -0000
Received: (qmail 26559 invoked by alias); 25 Oct 2002 13:01:32 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 17858
Received: (qmail 26539 invoked from network); 25 Oct 2002 13:01:28 -0000
X-VirusChecked: Checked
Date: Fri, 25 Oct 2002 14:01:00 +0100
From: Oliver Kiddle <okiddle@yahoo.co.uk>
To: Clint Adams <clint@zsh.org>
Cc: zsh-workers@sunsite.dk, 163190-forwarded@bugs.debian.org
Subject: Re: Bug#163190: zsh: Bad indentation in displayed shell function (whence -f)
Message-ID: <20021025130100.GA1143@logica.com>
References: <E17x37s-0005VN-00@ay> <20021004214600.GA27515@dman.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20021004214600.GA27515@dman.com>
User-Agent: Mutt/1.4i
Sender: Oliver Kiddle <kiddleo@logica.com>

On Fri, Oct 04, 2002 at 05:46:00PM -0400, Clint Adams wrote:
> In the following example, the subshell commands are not indented
> uniformly.
> 
> > $ blah() { ( echo; echo; echo ) }
> > $ whence -f blah
> > blah () {
> >         ( echo
> >                 echo
> >                 echo )
> > }
> 
> Here's one possible fix.  Thoughts?

That looks fine. You'd want to do the same for { ... } (WC_CURSH) too of
course.

The only thing better that I can think of would be to search ahead to see
if the sub shell contains anything more than one command. But that would
probably be more hassle than it's worth.

Oliver

This e-mail and any attachment is for authorised use by the intended recipient(s) only.  It may contain proprietary material, confidential information and/or be subject to legal privilege.  It should not be copied, disclosed to, retained or used by, any other party.  If you are not an intended recipient then please promptly delete this e-mail and any attachment and all copies and inform the sender.  Thank you.

