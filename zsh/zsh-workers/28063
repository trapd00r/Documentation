From zsh-workers-return-28063-mason-zsh=primenet.com.au@zsh.org Mon Jul 05 12:13:06 2010
Return-Path: <zsh-workers-return-28063-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 19194 invoked by alias); 5 Jul 2010 12:13:06 -0000
Mailing-List: contact zsh-workers-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Workers List <zsh-workers.zsh.org>
List-Post: <mailto:zsh-workers@zsh.org>
List-Help: <mailto:zsh-workers-help@zsh.org>
Delivered-To: mailing list zsh-workers@zsh.org
X-Seq: 28063
Received: (qmail 21659 invoked from network); 5 Jul 2010 12:13:03 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.9 required=5.0 tests=BAYES_00,DKIM_SIGNED,
	DKIM_VALID,SPF_HELO_PASS autolearn=ham version=3.3.1
Received-SPF: pass (ns1.primenet.com.au: SPF record at alea.gnuu.de designates 83.246.114.63 as permitted sender)
X-DKIM: Sendmail DKIM Filter v2.5.2 uucp.gnuu.de 97247488046
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=gnuu.de; s=banki;
	t=1278330265; i=@alea.gnuu.de; bh=EE/M92ZpJtDnenbK5PPR8KGiUJc3ULbG/
	ZgOKBdOYWY=; h=From:To:Cc:Subject:Date:Message-Id; b=VCwMs6xqfPgmGn
	Th62VO+KXxZ54BJYH6YfqtwXI6ueK+mF7EBOmDuA4JnMmbyhZNFphSdsUrv9XPgYEH7
	a6pLCYdnbmONjw88IJex3grwFLUdLVHe1tHVSScBHQ5k9utfTegW/XvtDtLQNQCGKYw
	63uGFVKjtRn0EVIHZ1Tgn9c=
From: =?UTF-8?q?J=C3=B6rg=20Sommer?= <joerg@alea.gnuu.de>
To: zsh-workers@zsh.org
Cc: =?UTF-8?q?J=C3=B6rg=20Sommer?= <joerg@alea.gnuu.de>
Subject: [PATCH] completion,rubber: suppress error messages from rubber
Date: Mon,  5 Jul 2010 13:43:02 +0200
Message-Id: <0bd6f76995628b78b71d01864a15a412fed7068c.1278330156.git.joerg@alea.gnuu.de>
X-Mailer: git-send-email 1.7.1

If rubber prints any warning or error messages (e.g. python messages
about old modules), these messages clutter the terminal. Hence, suppress
them.
---
 Completion/Unix/Command/_rubber |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/Completion/Unix/Command/_rubber b/Completion/Unix/Command/_rubber
index 6114256..526abaa 100644
--- a/Completion/Unix/Command/_rubber
+++ b/Completion/Unix/Command/_rubber
@@ -2,7 +2,7 @@
 
 local _rubber_version _rubber_path _rubber_modules _rubber_args
 
-eval $(rubber --version | sed 's/^.* \([^ ]*\): */_rubber_\1=/')
+eval $(rubber --version 2>/dev/null | sed 's/^.* \([^ ]*\): */_rubber_\1=/')
 if [[ ${_rubber_version#0} != $_rubber_version ]]; then
   _rubber_modules=(
     $_rubber_path/rubber/modules/[^_]*.py(N:r:t)
-- 
1.7.1

