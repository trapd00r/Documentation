From zsh-users-return-14658-mason-zsh=primenet.com.au@zsh.org Thu Dec 17 19:19:45 2009
Return-Path: <zsh-users-return-14658-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 6637 invoked by alias); 17 Dec 2009 19:19:45 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 14658
Received: (qmail 15635 invoked from network); 17 Dec 2009 19:19:42 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00,HTML_MESSAGE
	autolearn=ham version=3.2.5
Received-SPF: pass (ns1.primenet.com.au: SPF record at _spf.google.com designates 209.85.222.174 as permitted sender)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:cc:content-type;
        bh=CR6KCM/a5nChjnTfRvo1e6xk+lnAtlPjjT2kolLvMPU=;
        b=aR2s4do/QZUHLARiQT6pB7DtK8h3VP+vRrgH6vRvGzNh+sLgpBHAg6v2yIC+Hbgmse
         YunGkzDBrWehZDDswe+x/hLigY1GZX4lqFYUGxeYTzLoZFcrIfurWHWa0Cn8AcDlHnff
         R6nH9q5EQbD/psoXC7P3ON7jzldP2mYi/KifI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type;
        b=mgkbuevHBd7/gc49Ubv9O0IAGeZ72iPinr+7tUQXKNa/6pEkhsuYv65nqnxn7IWXq5
         8my7e+MSSpOfDOdBOk1BY5iTqwg5ZBxI/X3sYEV7G/wsEyMV/X+KH3EOUIRxE9NKu15n
         pqZy9lmhIOO/xTN+1kbyCnhnkTpu73SB04PRI=
MIME-Version: 1.0
In-Reply-To: <Pine.LNX.4.64.0912162357250.19572@gremlin.fruitbat.org>
References: <1260800369.32429.1350005931@webmail.messagingengine.com>
	 <733654e30912160754q5e505cabo4a2510b41bf1d892@mail.gmail.com>
	 <Pine.LNX.4.64.0912162357250.19572@gremlin.fruitbat.org>
Date: Thu, 17 Dec 2009 11:19:38 -0800
Message-ID: <733654e30912171119v16378e1el494468c1e0e4838e@mail.gmail.com>
Subject: Re: Unable to read history on latest Cygwin
From: Wayne Davison <4wayned@gmail.com>
To: "Peter A. Castro" <doctor@fruitbat.org>
Cc: zsh-users@zsh.org
Content-Type: multipart/alternative; boundary=000e0cd2de5a153ecc047af181e6

--000e0cd2de5a153ecc047af181e6
Content-Type: text/plain; charset=UTF-8

On Thu, Dec 17, 2009 at 12:04 AM, Peter A. Castro <doctor@fruitbat.org>wrote:

> Hmm...atomic in the sense that the open vectors through the symlink to the
> real file?
>

No, atomic as in no two people can think they were successful in creating it
-- one must succeed, and everyone else must fail.  A file created
*without*O_EXCL succeeds for everyone, but sadly, O_EXCL does not
always work
correctly (e.g. older NFS don't always support it). Thus, what matters is if
the chosen idiom can safely be used as a single-success locking method or
not.  For O_EXCL, cygwin just needs to have implemented that right.  For
symlinks, it will depend on how the creating of the (symlink-emulating) file
is created in the cygwin code.

..wayne..

--000e0cd2de5a153ecc047af181e6--

