From zsh-workers-return-17514-mason-zsh=primenet.com.au@sunsite.dk Thu Aug 08 05:27:33 2002
Return-Path: <zsh-workers-return-17514-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1798 invoked from network); 8 Aug 2002 05:27:33 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 8 Aug 2002 05:27:32 -0000
Received: (qmail 29106 invoked by alias); 8 Aug 2002 05:27:24 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 17514
Received: (qmail 29091 invoked from network); 8 Aug 2002 05:27:23 -0000
Message-ID: <20020808052722.15964.qmail@web10403.mail.yahoo.com>
Date: Wed, 7 Aug 2002 22:27:22 -0700 (PDT)
From: Felix Rosencrantz <f_rosencrantz@yahoo.com>
Subject: More memory problems found by valgrind
To: zsh-workers@sunsite.auc.dk
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

I ran zsh (pulled from cvs on July 30th) under valgrind for about a week.
Below is a condensed version of the output from that run.

-FR.


80 bytes in 1 blocks are definitely lost in loss record 4 of 17
   at 0x400467C4: malloc (vg_clientfuncs.c:100)
   by 0x808C606: zalloc (mem.c:490)
   by 0x80A3190: patcompile (pattern.c:436)
   by 0x4428DFD1: bin_zstyle (zutil.c:292)

240 bytes in 5 blocks are definitely lost in loss record 6 of 19
   at 0x400467C4: malloc (vg_clientfuncs.c:100)
   by 0x808C606: zalloc (mem.c:490)
   by 0x80ABCA9: ztrdup (string.c:52)
   by 0x8080734: setjobpwd (jobs.c:1032)

258 bytes in 1 blocks are possibly lost in loss record 6 of 17
   at 0x400467C4: malloc (vg_clientfuncs.c:100)
   by 0x808C606: zalloc (mem.c:490)
   by 0x411C59A2: zleread (zle_main.c:760)
   by 0x411C70ED: bin_vared (zle_main.c:1121)

258 bytes in 1 blocks are possibly lost in loss record 6 of 18
   at 0x400467C4: malloc (vg_clientfuncs.c:100)
   by 0x808C606: zalloc (mem.c:490)
   by 0x411C59A2: zleread (zle_main.c:760)
   by 0x411C70ED: bin_vared (zle_main.c:1121)

Conditional jump or move depends on uninitialised value(s)
   at 0x411C8953: killline (zle_misc.c:297)
   by 0x411C5EBE: execzlefunc (zle_main.c:862)
   by 0x411C55DA: zlecore (zle_main.c:660)
   by 0x411C5B7F: zleread (zle_main.c:796)

Invalid read of size 1
   at 0x40246813: histwgetfn (parameter.c:1116)
   by 0x80929F9: getvaluearr (params.c:451)
   by 0x8095A3B: getarrvalue (params.c:1500)
   by 0x80AFF3B: paramsubst (subst.c:1261)
   Address 0x4109D0F4 is 0 bytes after a block of size 48 alloc'd
   at 0x400467C4: malloc (vg_clientfuncs.c:100)
   by 0x808C606: zalloc (mem.c:490)
   by 0x80ABCA9: ztrdup (string.c:52)
   by 0x80775A3: hend (hist.c:1145)
Invalid write of size 1
   at 0x40246818: histwgetfn (parameter.c:1117)
   by 0x80929F9: getvaluearr (params.c:451)
   by 0x8095A3B: getarrvalue (params.c:1500)
   by 0x80AFF3B: paramsubst (subst.c:1261)
   Address 0x4109D0F4 is 0 bytes after a block of size 48 alloc'd
   at 0x400467C4: malloc (vg_clientfuncs.c:100)
   by 0x808C606: zalloc (mem.c:490)
   by 0x80ABCA9: ztrdup (string.c:52)
   by 0x80775A3: hend (hist.c:1145)
Invalid write of size 1
   at 0x40246846: histwgetfn (parameter.c:1119)
   by 0x80929F9: getvaluearr (params.c:451)
   by 0x8095A3B: getarrvalue (params.c:1500)
   by 0x80AFF3B: paramsubst (subst.c:1261)
   Address 0x4109D0F4 is 0 bytes after a block of size 48 alloc'd
   at 0x400467C4: malloc (vg_clientfuncs.c:100)
   by 0x808C606: zalloc (mem.c:490)
   by 0x80ABCA9: ztrdup (string.c:52)
   by 0x80775A3: hend (hist.c:1145)

116 bytes in 1 blocks are possibly lost in loss record 5 of 20
   at 0x400467C4: malloc (vg_clientfuncs.c:100)
   by 0x808C786: zcalloc (mem.c:508)
   by 0x807FE61: addproc (jobs.c:832)
   by 0x8066F59: execcmd (exec.c:2029)




__________________________________________________
Do You Yahoo!?
HotJobs - Search Thousands of New Jobs
http://www.hotjobs.com

