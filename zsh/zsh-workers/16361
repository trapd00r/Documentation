From zsh-workers-return-16361-mason-zsh=primenet.com.au@sunsite.dk Tue Dec 18 01:11:08 2001
Return-Path: <zsh-workers-return-16361-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 26625 invoked from network); 18 Dec 2001 01:11:07 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 18 Dec 2001 01:11:07 -0000
Received: (qmail 878 invoked by alias); 18 Dec 2001 01:11:00 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 16361
Received: (qmail 858 invoked from network); 18 Dec 2001 01:10:59 -0000
Date: Mon, 17 Dec 2001 20:10:45 -0500
From: Clint Adams <clint@zsh.org>
To: zsh-workers@sunsite.dk
Subject: PATCH: explicit declaration of fseek, ftell
Message-ID: <20011218011045.GA32757@dman.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.3.24i

../../Src/input.c:413: warning: implicit declaration of function
`fseeko'
../../Src/input.c:414: warning: implicit declaration of function
`ftello'

Index: zshconfig.ac
===================================================================
RCS file: /cvsroot/zsh/zsh/zshconfig.ac,v
retrieving revision 1.22
diff -u -r1.22 zshconfig.ac
--- zshconfig.ac	2001/12/15 17:33:12	1.22
+++ zshconfig.ac	2001/12/18 01:09:49
@@ -474,7 +474,7 @@
 AC_CHECK_HEADERS(sys/time.h sys/times.h sys/select.h termcap.h termio.h \
 		 termios.h sys/param.h sys/filio.h string.h memory.h \
 		 limits.h fcntl.h libc.h sys/utsname.h sys/resource.h \
-		 locale.h errno.h stdlib.h unistd.h sys/capability.h \
+		 locale.h errno.h stdio.h stdlib.h unistd.h sys/capability.h \
 		 utmp.h utmpx.h sys/types.h pwd.h grp.h poll.h sys/mman.h \
 		 netinet/in_systm.h pcre.h)
 if test $dynamic = yes; then
Index: Src/input.c
===================================================================
RCS file: /cvsroot/zsh/zsh/Src/input.c,v
retrieving revision 1.4
diff -u -r1.4 input.c
--- Src/input.c	2001/01/16 13:44:20	1.4
+++ Src/input.c	2001/12/18 01:09:50
@@ -67,6 +67,10 @@
  * PWS 1996/12/10
  */
 
+#ifdef HAVE_STDIO_H
+#include <stdio.h>
+#endif
+
 #include "zsh.mdh"
 #include "input.pro"
 

