From zsh-workers-return-22223-mason-zsh=primenet.com.au@sunsite.dk Sat Feb 11 12:21:30 2006
Return-Path: <zsh-workers-return-22223-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18716 invoked from network); 11 Feb 2006 12:21:29 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.0 (2005-09-13) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.4 required=5.0 tests=AWL,BAYES_00,
	FORGED_RCVD_HELO,MIME_BASE64_NO_NAME autolearn=ham version=3.1.0
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 11 Feb 2006 12:21:29 -0000
Received: (qmail 77581 invoked from network); 11 Feb 2006 12:21:23 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 11 Feb 2006 12:21:23 -0000
Received: (qmail 17916 invoked by alias); 11 Feb 2006 12:21:21 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 22223
Received: (qmail 17903 invoked from network); 11 Feb 2006 12:21:21 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 11 Feb 2006 12:21:21 -0000
Received: (qmail 77270 invoked from network); 11 Feb 2006 12:21:21 -0000
Received: from ns9.hostinglmi.net (213.194.149.146)
  by a.mx.sunsite.dk with SMTP; 11 Feb 2006 12:21:20 -0000
Received: from 212.red-80-35-44.staticip.rima-tde.net ([80.35.44.212]:36279 helo=localhost)
	by ns9.hostinglmi.net with esmtpa (Exim 4.52)
	id 1F7tkg-0001g8-EQ; Sat, 11 Feb 2006 13:21:22 +0100
Date: Sat, 11 Feb 2006 13:22:26 +0100
From: DervishD <zsh@dervishd.net>
To: bug-libtool@gnu.org
Cc: Zsh Workers <zsh-workers@sunsite.dk>
Subject: Word splitting with zsh fix
Message-ID: <20060211122226.GD13513@DervishD>
Mail-Followup-To: bug-libtool@gnu.org, Zsh Workers <zsh-workers@sunsite.dk>
Mime-Version: 1.0
Content-Type: multipart/mixed; boundary="Q68bSM7Ycu6FN28Q"
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
User-Agent: Mutt/1.4.2.1i
Organization: DervishD
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - ns9.hostinglmi.net
X-AntiAbuse: Original Domain - sunsite.dk
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - dervishd.net
X-Source: 
X-Source-Args: 
X-Source-Dir: 


--Q68bSM7Ycu6FN28Q
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: 8bit

    Hi all :)

    I've spotted a problem with libtool that has to do with the word
splitting that Zsh does in the expression '${1+"$@"}' (which, in
turn, is a workaround to fix the "$@" expansion problem when the
variable is empty in old shells). GNU autoconf has already corrected
this problem, and I'm using a similar fix for libtool. The patch is
gzipped and attached to this message.

    Looking at the SUS (POSIX) standard, I'm not sure if field
splitting should be performed in the above expression or not, so I
don't know if the correct behaviour is what Bash does or what Zsh
does. Anyway, I'm not here looking for a culprit but for a solution.
I will be glad to discuss the issue, anyway, just for curiosity's
sake ;)

    I've tested the patch against "littlecms" sources, because that's
the package where the problem was spotted by David Gómez Espinosa
<david@pleyades.net>. The patch was suggested by Andrey Borzenkov
<arvidjaar@newmail.ru>.

    Thanks in advance and happy hacking :)

    Raúl Núñez de Arenas Coronado

-- 
Linux Registered User 88736 | http://www.dervishd.net
http://www.pleyades.net & http://www.gotesdelluna.net
It's my PC and I'll cry if I want to... RAmen!

--Q68bSM7Ycu6FN28Q
Content-Type: application/x-gzip
Content-Disposition: attachment; filename="libtool.patch.gz"
Content-Transfer-Encoding: base64

H4sICEfV7UMCA2xpYnRvb2wucGF0Y2gA7VJNaxsxFDxXv2JwDT6stVmt10njEFhCQlsoNnSb
HELAKLbWEmilRdLWaUP+e7VxP0hLE8gll+igd9C8mdF7s1Z1DTrnnYNW18FaTVk6TfN8T4eG
K5Mq89cDbXlYSbH+AyCU0v92v8mzbEpZTtk75PmsmMymeZr9OkgylmUkSZInVXqifZpFIgY2
mbFixtg/RGUJWhyO95HE+xBlSfAWlRBQNbYC3Am4zhhlNrAG370cg5s1vAgIUsC2QVnjsZVq
JcG1tlvYzvUkK9s0EeojztluI7FVQdouwInGfuUatsYVhF/xVviU9IJB+ABqMBjeXlYflhdn
n6uPi3kSxe4GOOoFDUkQuS+9xCS9ubdSxNoKV1vXRB/WRXOtViH8tDy8ZclgWA7uxjuTOwLl
oz8THHffEGxvGZ3nG5ECp8rzay2iWgTVgofOibTv4lpxD7rB6Dfn6HjU1xEB+pHEaWC+WL7/
tDhZVucn1ReCWhGQ9VOZid95fJtePpIZLx9k5n7V0+IZmdkRPcxMdvCamZfIzA/6snyiaAQA
AA==

--Q68bSM7Ycu6FN28Q--

