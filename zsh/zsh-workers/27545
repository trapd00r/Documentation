From zsh-workers-return-27545-mason-zsh=primenet.com.au@zsh.org Mon Dec 28 02:57:32 2009
Return-Path: <zsh-workers-return-27545-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 25183 invoked by alias); 28 Dec 2009 02:57:32 -0000
Mailing-List: contact zsh-workers-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Workers List <zsh-workers.zsh.org>
List-Post: <mailto:zsh-workers@zsh.org>
List-Help: <mailto:zsh-workers-help@zsh.org>
Delivered-To: mailing list zsh-workers@zsh.org
X-Seq: 27545
Received: (qmail 29021 invoked from network); 28 Dec 2009 02:57:22 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00,SPF_HELO_PASS
	autolearn=ham version=3.2.5
Received-SPF: none (ns2.melb.primenet.com.au: domain at debian.org does not designate permitted sender hosts)
Date: Mon, 28 Dec 2009 02:57:11 +0000
From: Clint Adams <schizo@debian.org>
To: Chris Lamb <lamby@debian.org>, 562753@bugs.debian.org
Cc: zsh-workers@zsh.org
Subject: Re: Bug#562753: Improvements to Django completion script
Message-ID: <20091228025711.GA11644@scru.org>
References: <20091227182337.411153e7@happycat.chris-lamb.co.uk>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20091227182337.411153e7@happycat.chris-lamb.co.uk>
User-Agent: Mutt/1.5.18 (2008-05-17)

On Sun, Dec 27, 2009 at 06:23:37PM +0000, Chris Lamb wrote:
> The attached patch improves the Django completion in two ways:
> 
>  * Enables the "runserver" options when used with "runserver_plus" (a
>    popular add-on) where available.
> 
>  * Defaults to _files-like expansion on unrecognised subcommands.

Thanks, I'll commit this to CVS later this week if no one else gets to it.

--- _django	2009-12-27 18:18:08.000000000 +0000
+++ _django	2009-12-27 18:20:01.000000000 +0000
@@ -154,7 +154,7 @@
         )
         ;;
 
-      runserver)
+      runserver|runserver_plus)
         args+=(
           '--noreload[do not use auto-reloader]'
       	  '--adminmedia=[directory from which to serve admin media]:directory:_directories'
@@ -199,6 +199,10 @@
 
       validate|runfcgi)
         ;;
+
+      *)
+        _files
+        ;;
     esac
 
     _arguments $args && ret=0

