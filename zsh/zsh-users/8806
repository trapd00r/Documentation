From zsh-users-return-8806-mason-zsh=primenet.com.au@sunsite.dk Wed May 11 16:28:01 2005
Return-Path: <zsh-users-return-8806-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 15668 invoked from network); 11 May 2005 16:28:00 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 11 May 2005 16:28:00 -0000
Received: (qmail 76270 invoked from network); 11 May 2005 16:27:53 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 11 May 2005 16:27:53 -0000
Received: (qmail 27471 invoked by alias); 11 May 2005 16:27:46 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8806
Received: (qmail 27460 invoked from network); 11 May 2005 16:27:46 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 11 May 2005 16:27:46 -0000
Received: (qmail 75258 invoked from network); 11 May 2005 16:27:46 -0000
Received: from sodans.usata.org (61.211.239.46)
  by a.mx.sunsite.dk with SMTP; 11 May 2005 16:27:42 -0000
Received: from [192.168.1.12] (ZQ222114.ppp.dion.ne.jp [222.13.222.114])
	by sodans.usata.org (Postfix) with ESMTP id AEC49A988
	for <zsh-users@sunsite.dk>; Thu, 12 May 2005 01:27:36 +0900 (JST)
Mime-Version: 1.0 (Apple Message framework v622)
In-Reply-To: <F4DF8D87-91FF-4917-B61B-3BE56B5A95D3@kalama.no-ip.org>
References: <E0B61825-6DAD-46DD-84E1-C9FEAC27F437@kalama.no-ip.org> <F4DF8D87-91FF-4917-B61B-3BE56B5A95D3@kalama.no-ip.org>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <3959597308a0688a2828efe0655414b2@h8.dion.ne.jp>
Content-Transfer-Encoding: 7bit
From: Motoi Washida <a66@h8.dion.ne.jp>
Subject: Re: _mac_applications patch for Mac OS X 10.4
Date: Thu, 12 May 2005 01:27:36 +0900
To: zsh-users@sunsite.dk
X-Mailer: Apple Mail (2.622)
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=6.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.6

Hi Ryan,

I want to try your great patch, but I have one remote Tiger machine, 
which has not finished indexing. :(

On 2005/05/12, at 0:42, lists wrote:

> After poking around some more, I think the best thing to do would be 
> to modify _retrieve_mac_apps() so that it uses Spotlight to find the 
> apps if you're running Tiger, and the old way if you're not running 
> Tiger.  This way the apps would be found using Spotlight the first 
> time, then added to the cache so you don't have to keep using mdfind 
> every time you try to tab complete an app's name.  Motoi, since you 
> are the expert on _retrieve_mac_apps() what do you think?
I was just thinking about modifying _retrieve_mac_apps() to use Bill 
and Wataru's idea. If you don't mind, I'll modify and commit it.

>
> -Ryan
>
>
> On May 11, 2005, at 9:49 AM, lists wrote:
>
>> I've done some tweaking based on the submission in 
>> <http://www.zsh.org/mla/users/2005/msg00479.html> (thanks Scott and 
>> Wataru) and have put together a patch for _mac_applications which 
>> uses the _tiger_mac_applications function from the aforementioned 
>> submission (which I've renamed to _spotlight_mac_apps since Spotlight 
>> will probably be around after Tiger).  _mac_applications will now use 
>> Spotlight (via _spotlight_mac_apps) if you're running Mac OS X 10.4, 
>> and will fall back to the old way if you're not.  I'm also including 
>> the modified _spotlight_mac_apps function (which will now check for 
>> an Applications folder in your home directory as well).  Please let 
>> me know if there are any problems/objections.
>>
>> Thanks,
>> Ryan
>>
>>
>> <_mac_applications.diff.gz>
>> <_spotlight_mac_apps.gz>
>>
>
>
--
Motoi Washida

