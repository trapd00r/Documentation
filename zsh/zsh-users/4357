From zsh-users-return-4357-mason-zsh=primenet.com.au@sunsite.dk Tue Oct 09 10:24:07 2001
Return-Path: <zsh-users-return-4357-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24283 invoked from network); 9 Oct 2001 10:24:06 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 9 Oct 2001 10:24:06 -0000
Received: (qmail 3911 invoked by alias); 9 Oct 2001 10:23:48 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4357
Received: (qmail 3893 invoked from network); 9 Oct 2001 10:23:46 -0000
Date: Tue, 9 Oct 2001 13:22:40 +0300
From: max@malva.com.ua
To: "James F. Hranicky" <jfh@cise.ufl.edu>
Cc: zsh-users@sunsite.dk
Subject: Re: Wishlist for zsh: 3 tcsh features
Message-ID: <20011009132240.E6850@malva.com.ua>
References: <20011008161313.EC4ACD804@mail.cise.ufl.edu>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20011008161313.EC4ACD804@mail.cise.ufl.edu>
User-Agent: Mutt/1.3.19i
X-Mailer: Vim 6.0av


James F. Hranicky wrote:

> 
> I've been a happy user of zsh for a few years now, but there's 3
> features
> from tcsh that I'd love to either know how to enable or know how to add
> to zsh:
> 
> 	1) <Meta-Del>: In tcsh, when deleting elements in a path, 
> 	   <Meta-Del> generally deletes everything up to the next
> 	   "/" character, e.g.

I'm using the following clumsy but working solution.
Suggestions are welcome.


# Delete range of characters: from the first after last slash to EOL
# If the range is empty, remove '/' and invokes itself again
function clear-until-slash () {
 local x0=$CURSOR
 zle -U /
 zle vi-find-prev-char-skip
 local x1=$CURSOR
 [ $x1 -eq 0 ] && { zle beep; return; }
 if [ $x0 -eq $x1 ]; then
  zle backward-delete-char
  clear-until-slash
 fi
 RBUFFER=""
}

zle -N clear-until-slash
bindkey "\ew" clear-until-slash


-- 
Emacs is a nice OS - but it lacks a good text editor.
That's why I am using Vim.
	--Anonymous

