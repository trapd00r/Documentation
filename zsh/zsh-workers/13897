From zsh-workers-return-13897-mason-zsh=primenet.com.au@sunsite.dk Tue Apr 03 21:06:42 2001
Return-Path: <zsh-workers-return-13897-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17144 invoked from network); 3 Apr 2001 21:06:41 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 3 Apr 2001 21:06:41 -0000
Received: (qmail 13273 invoked by alias); 3 Apr 2001 21:06:33 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 13897
Received: (qmail 13261 invoked from network); 3 Apr 2001 21:06:33 -0000
Sender: opk
Message-ID: <3ACA2CC7.69FF9B8D@u.genie.co.uk>
Date: Tue, 03 Apr 2001 21:04:23 +0100
From: Oliver Kiddle <opk@u.genie.co.uk>
X-Mailer: Mozilla 4.73 [en] (X11; I; Linux 2.2.18 i586)
X-Accept-Language: en
MIME-Version: 1.0
To: Clint Adams <schizo@debian.org>
CC: Zsh workers <zsh-workers@sunsite.dk>
Subject: _apm (was Re: Functions moved)
References: <200104021441.QAA12200@beta.informatik.hu-berlin.de> <20010402112428.A12039@dman.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Clint Adams wrote:

> Yup.  Here's Solaris 8.  It apparently has nothing to do with power
> management, but rather something related to sadmind.  I think.

Hopefully nobody feels the need to write a completion for it just yet
because we haven't decided on how to cope with that situation yet.

> And this is for FreeBSD 4.1:

> +# this needs intelligence
> +local kludge=linux
> +
> +if [[ $kludge == "linux" ]]
> +then

Wouldn't it make sense to use $OSTYPE like we do in other places such as
_mount? It would allow the FreeBSD and OpenBSD parts to be actually
usable and is probably sufficient intelligence for this. You could argue
that we should call apm and try to work out what it is but $OSTYPE is
going to be faster.

Oliver

