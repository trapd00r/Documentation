From zsh-users-return-3925-mason-zsh=primenet.com.au@sunsite.dk Fri Jun 08 08:28:22 2001
Return-Path: <zsh-users-return-3925-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 20122 invoked from network); 8 Jun 2001 08:28:22 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 8 Jun 2001 08:28:22 -0000
Received: (qmail 20606 invoked by alias); 8 Jun 2001 08:27:54 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 3925
Received: (qmail 20593 invoked from network); 8 Jun 2001 08:27:54 -0000
Date: Fri, 8 Jun 2001 11:28:06 +0300 (EET DST)
From: Timo Aaltonen <tjaalton@cc.hut.fi>
X-Sender: tjaalton@nexus6.hut.fi
To: zsh-users@sunsite.dk
Subject: RE: AIX-problem: the main module won't link statically
In-Reply-To: <001501c0eff2$70ad3ee0$21c9ca95@mow.siemens.ru>
Message-ID: <Pine.LNX.4.10.10106081111000.23818-100000@nexus6.hut.fi>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Fri, 8 Jun 2001, Andrej Borsenkow wrote:

> > > >   I tried to compile zsh-4.0.1 w. AIX-4.3 (cc version 5), but the main
> > > > library (/module?) libzsh-4.0.1.so doesn't get in the binary,
> > and when I
> > > > try to run it:
> > > >
> > > > Could not load program ./zsh:
> > > >         Dependent module libzsh-4.0.1.so could not be loaded.
> > > > Could not load module libzsh-4.0.1.so.
> > > > Error was: No such file or directory
> > > >
> > >
> > > Have you installed it? Or, better, have you installed it in the same
> > > location as specified when configuring ($prefix/lib/zsh)?
> >
> > I've tried it both installed, and just by running "make check"..
> >
> 
> make check does not work in this case, known problem in 4.0.1. Should be
> fixed in 4.0.2. "installed" you mean "make install"?

Yes, installed as specified in prefix..

> > Well, I compiled it for linux and Tru64-UNIX (I used the same
> > config.modules for all architectures), and they didn't produce that
> > library (it was linked statically, as configured..).
> >
> 
> It depends on the system. Some systems need extra library some not. Try
> 'configure --disable-dynamic' to turn dynamic loading off.

It works statically (test nr C02 failed though).. but it is weird, if
dynamic loading would work, that it couldn't link that library (libzsh..)
in the binary as configured...

> > > I do not know AIX to decide if these warnings are harmful/harmless.
> >
> > Me neither.. maybe I should poke the guy here who does =)
> >
> 
> Yes. AFAIK currently none of zsh developers works on AIX. Oliver, could you
> comment on this?

I heard that it could be possible to use gnu-linker instead of AIX-one...


_______________/Timo Aaltonen <http://www.hut.fi/~tjaalton>
GSM +358-40-5549 618


