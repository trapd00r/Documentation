From zsh-workers-return-7600-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Sep 01 10:50:32 1999
Return-Path: <zsh-workers-return-7600-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 19596 invoked from network); 1 Sep 1999 10:50:30 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 1 Sep 1999 10:50:30 -0000
Received: (qmail 8381 invoked by alias); 1 Sep 1999 10:50:19 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7600
Received: (qmail 8374 invoked from network); 1 Sep 1999 10:50:19 -0000
Subject: Re: PATCH: 3.1.6-pws-2: cap_free
In-Reply-To: <9909010800.AA16059@ibmth.df.unipi.it> from Peter Stephenson at "Sep 1, 1999 10: 0: 7 am"
To: pws@ibmth.df.unipi.it (Peter Stephenson)
Date: Wed, 1 Sep 1999 11:50:17 +0100 (BST)
Cc: zsh-workers@sunsite.auc.dk
X-Mailer: ELM [version 2.4ME+ PL48 (25)]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Message-Id: <E11M7y5-0003e8-00@crucigera.fysh.org>
From: Zefram <zefram@fysh.org>

Peter Stephenson wrote:
>I've finally compiled on a system with POSIX capability sets.  This one
>definitely needs cap_free to get the value returned from cap_get_proc, not
>a pointer to it.  If there are implementations which do this the other way,
>we have problems.

When I wrote that code, I was working from an alpha version of the Linux
libcap (which I was co-writing), which was based on a not-entirely-clear
summary of a draft of POSIX.6.  I wouldn't be surprised if that's how
it's supposed to be.

-zefram

