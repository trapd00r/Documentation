From zsh-workers-request@math.gatech.edu Thu Apr 09 06:00:27 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9871 invoked from network); 9 Apr 1998 06:00:25 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 9 Apr 1998 06:00:25 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id BAA03766;
	Thu, 9 Apr 1998 01:55:02 -0400 (EDT)
Resent-Date: Thu, 9 Apr 1998 01:51:08 -0400 (EDT)
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <980408225021.ZM1085@candle.brasslantern.com>
Date: Wed, 8 Apr 1998 22:50:21 -0700
In-Reply-To: <Pine.GSO.3.95q.980405161554.11045B-100000@petzval>
Comments: In reply to "C. v. Stuckrad" <stucki@math.fu-berlin.de>
        "Re: why does this exit = 1 ?" (Apr  5,  4:27pm)
References: <Pine.GSO.3.95q.980405161554.11045B-100000@petzval>
X-Mailer: Z-Mail (4.0b.820 20aug96)
To: zsh-users@math.gatech.edu
Subject: Re: why does this exit = 1 ?
Cc: "C. v. Stuckrad" <stucki@math.fu-berlin.de>,
        Michael Barnes <mibarnes@mail.vth.vt.edu>,
        Timothy J Luoma <luomat+Lists/Zsh/users@luomat.peak.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Resent-Message-ID: <"50JyK2.0.Zv.B76Br"@math>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/1445
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

This has been sitting in my mailbox for a few days ...

On Apr 5,  4:27pm, C. v. Stuckrad wrote:
} Subject: Re: why does this exit = 1 ?
}
} strange thou, it works for me, tested it in a zsh-function!
} 
} So what does happen really ?
} 
} > On Sun, 5 Apr 1998, Timothy J Luoma wrote:
} > > I have this little snippet:
} > > ...
} > > if [ -r /LocalLibrary/Images/Icons/tempPark.tiff -a ! -r /tmp/.dir.tiff ] then   
} > >          ln -s /LocalLibrary/Images/Icons/tempPark.tiff /tmp/.dir.tiff
} > > fi
} > > 
} > > When I run it and there is already a /tmp/.dir.tiff it exits = 1

Two guesses:

1.  It's the alias-for-fi problem again, but something else is masking the
    syntax error.

2.  /tmp/.dir.tiff exists but is not readable, so [ ! -r /tmp/.dir.tiff ]
    succeeds but ln fails.  Try [ ! -f /tmp/.dir.tiff ].

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

