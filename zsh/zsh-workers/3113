From zsh-workers-request@euclid.skiles.gatech.edu Sat May 10 18:07:28 1997
Return-Path: <zsh-workers-request@euclid.skiles.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 395 invoked from network); 10 May 1997 18:07:27 -0000
Received: from euclid.skiles.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 10 May 1997 18:07:26 -0000
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id NAA07478; Sat, 10 May 1997 13:55:59 -0400 (EDT)
Resent-Date: Sat, 10 May 1997 13:55:59 -0400 (EDT)
From: Zoltan Hidvegi <hzoli@ny.frontiercomm.net>
Message-Id: <199705101748.NAA01384@hzoli.home>
Subject: Re: test patches
In-Reply-To: <970510100920.ZM9250@candle.brasslantern.com> from Bart Schaefer at "May 10, 97 10:09:20 am"
To: schaefer@candle.brasslantern.com (Bart Schaefer)
Date: Sat, 10 May 1997 13:48:48 -0400 (EDT)
Cc: zsh-workers@math.gatech.edu (Zsh hacking and development)
X-Mailer: ELM [version 2.4ME+ PL31 (25)]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"KI2A52.0.nq1.lQBTp"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3113
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

> Some remarks on the 3.0.3-test5 patch:
> 
> The FAQ diff isn't included.  No biggie, but people should be aware that
> they'll still have last December's FAQ if all they do is patch.

The FAQ diff is bigger than the FAQ itself, and that's only a test patch.
I'll include it in the final patch.

> I'm curious:  What's the point of removing functions like setcurjob()
> and inlining their code in the function that calls them?  We're surely

It was not removed, just moved to jobs.c.  You can notice that pieces of
builtins.c are trying to find new place.  In zsh-3.0.3 builtin.c is 145464
bytes long, while in 3.1.2 it is only 84611 bytes.

> There still doesn't appear to be a test in init.c for the case where
> the system supports TIOCGWINSZ but the rows and columns value in the
> shttyinfo.winsize structure are both zero.  In that case we ought to
> be using the row and column sizes from the termcap or terminfo entry?

The test is done in zlevarsetfn() in params.c.

Zoltan

