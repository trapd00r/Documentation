From zsh-users-return-15061-mason-zsh=primenet.com.au@zsh.org Wed May 19 10:59:00 2010
Return-Path: <zsh-users-return-15061-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1959 invoked by alias); 19 May 2010 10:59:00 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 15061
Received: (qmail 1837 invoked from network); 19 May 2010 10:58:46 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.9 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.3.1
Received-SPF: pass (ns1.primenet.com.au: SPF record at seiken.de designates 94.23.38.107 as permitted sender)
From: Joke de Buhr <joke@seiken.de>
To: zsh-users@zsh.org
Subject: Re: an update command
Date: Wed, 19 May 2010 12:37:02 +0200
User-Agent: KMail/1.13.2 (Linux/2.6.32-22-generic; KDE/4.4.2; x86_64; ; )
References: <Xns9D7D6AFA2B217zzappergmailcom@80.91.229.10>
In-Reply-To: <Xns9D7D6AFA2B217zzappergmailcom@80.91.229.10>
MIME-Version: 1.0
Content-Type: multipart/signed;
  boundary="nextPart33535570.ThEmE3Macv";
  protocol="application/pgp-signature";
  micalg=pgp-ripemd160
Content-Transfer-Encoding: 7bit
Message-Id: <201005191237.11071.joke@seiken.de>

--nextPart33535570.ThEmE3Macv
Content-Type: Text/Plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable

You should probably have a look at rsync.

use this command:

   cd $L          // go into the remote directory you want to sync
   print -l **(.) | rsync -av --dry-run --files-from=3D- $T $L

If rsync lists only the lists you want to copy remove the --dry-run option.=
=20
Create a backup tar archive if you are unsure.



On Wednesday 19 May 2010 11:31:06 zzapper wrote:
> Hi
> when copying files from a test server to a live server eg
>=20
> >cp $T/config.php $L
>=20
> I only want to do the copy if the file ALREADY exists in the destination
> directory
>=20
> I guess I can hack a script up to do this but how would you do this?

--nextPart33535570.ThEmE3Macv
Content-Type: application/pgp-signature; name=signature.asc 
Content-Description: This is a digitally signed message part.

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)

iQG7BAABAwAlBQJL879PHhhoa3A6Ly9wb29sLnNrcy1rZXlzZXJ2ZXJzLm5ldAAK
CRCWUloJhwFWxn6MC/9ips9OTsthIrmzDJZ6rz9+OQ87holoobV8Euo34RNBlEns
enykSuUpKZIGOQ8EHdQTiyCBoFsxcp7eyC/d3HIq85VqVVj1/JXqR9JuCH8UK9vP
DrlDvJlsHg7p4r9CEwho3qbmvT4RipxkEH5wOj2EUawCBbA2QkDKP2qCJPN2dVSS
710LnL+cBPLN29l0zwRMhsALFp30NqAwaDKI5m0xpaSj+1wO7W5JZE9RJ3yxXHiB
EXRl2v+woUlSglWuESgCVsvim3XGSI+/AkoNblHSCrgjEeH7V8bmkxuAJoA+DTSs
KtuaQqVThKAs/6+zo3VnZnAg53/9pYl7jveUr3xrV2c2UvSHGGqM7ilHjy1VIXeh
jb8cVzjaBwYulojIZXOnhRupSlZyhvy0Knk8bxIEKUT+OR7h/suINR0iE7LNSCHx
Xwffzsu2U0TuEr9LXPfccpIrfd033+g4cLOOcuONJXpLMdQTxOBNFWvgM21MVufn
hC0jiip/v/LAvy/rkEw=
=o60j
-----END PGP SIGNATURE-----

--nextPart33535570.ThEmE3Macv--

