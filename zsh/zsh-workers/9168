From zsh-workers-return-9168-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Dec 30 14:58:42 1999
Return-Path: <zsh-workers-return-9168-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 753 invoked from network); 30 Dec 1999 14:58:40 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 30 Dec 1999 14:58:40 -0000
Received: (qmail 5475 invoked by alias); 30 Dec 1999 14:58:31 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 9168
Received: (qmail 5464 invoked from network); 30 Dec 1999 14:58:29 -0000
Message-ID: <19991230075146.20165.qmail@web1303.mail.yahoo.com>
Date: Wed, 29 Dec 1999 23:51:46 -0800 (PST)
From: Felix Rosencrantz <f_rosencrantz@yahoo.com>
Subject: Glob problem with memory
To: zsh-workers <zsh-workers@sunsite.auc.dk>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

When attempting to do an "echo *(/)" or use other glob qualifiers,
I've been getting a bus error with this stack trace on Solaris 5.6.
I started seeing this problem in builds sometime after Dec 14th.
I think it is related to the recently made memory changes.
I don't see the problem if I replace the hcalloc on line glob.c:1312
with a zcalloc, so the problem seems to be related to memory allocation.

#0  0x47370 in glob (list=0x17acac, np=0x17acec) at glob.c:1320
#1  0x98608 in globlist (list=0x17acac) at subst.c:222
#2  0x3c8ec in execcmd (cmd=0x17abec, input=0, output=0, how=2, last1=2)
    at exec.c:1815
#3  0x39578 in execpline2 (pline=0x17ac8c, how=2, input=0, output=0, last1=0)
    at exec.c:1062
#4  0x386b8 in execpline (l=0x17abd4, how=2, last1=0) at exec.c:875
#5  0x37fc8 in execlist (list=0x17ac9c, dont_change_job=0, exiting=0)
    at exec.c:744
#6  0x5747c in loop (toplevel=1, justonce=0) at init.c:145
#7  0x23414 in main (argc=2, argv=0xeffffa3c) at ./main.c:89

-FR.


__________________________________________________
Do You Yahoo!?
Talk to your friends online with Yahoo! Messenger.
http://messenger.yahoo.com

