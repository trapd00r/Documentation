From zsh-workers-return-18577-mason-zsh=primenet.com.au@sunsite.dk Sat May 24 00:52:21 2003
Return-Path: <zsh-workers-return-18577-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 14612 invoked from network); 24 May 2003 00:52:20 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 24 May 2003 00:52:20 -0000
Received: (qmail 19072 invoked by alias); 24 May 2003 00:52:16 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 18577
Received: (qmail 19065 invoked from network); 24 May 2003 00:52:15 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 24 May 2003 00:52:15 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [207.172.4.61] by sunsite.dk (MessageWall 1.0.8) with SMTP; 24 May 2003 0:52:15 -0000
Received: from 209-122-247-161.c3-0.nwt-ubr2.sbo-nwt.ma.cable.rcn.com ([209.122.247.161] helo=zion.rcn.com)
	by smtp02.mrf.mail.rcn.net with esmtp (Exim 3.35 #4)
	id 19JNGg-0004Mv-00
	for zsh-workers@sunsite.dk; Fri, 23 May 2003 20:52:14 -0400
Received: by zion.rcn.com (Postfix, from userid 501)
	id 788481C023; Fri, 23 May 2003 20:49:10 -0400 (EDT)
To: zsh-workers@sunsite.dk
Subject: Test Failures in Latest CVS
From: Vin Shelton <acs@alumni.princeton.edu>
Organization: EtherSoft, Inc
Date: Fri, 23 May 2003 20:49:10 -0400
Message-ID: <m21xyp1855.fsf@zion.rcn.com>
Lines: 75
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Hello,

The 5/21 build passes all tests, but builds from the current CVS do not:

...

../../../src/zsh-2003-05-23/Test/B02typeset.ztst: starting.
ZTST_test:76: no such file or directory: 
../../../src/zsh-2003-05-23/Test/ztst.zsh:421: bad math expression: operand expected at `'
: all tests successful.
ZTST_cleanup:2: command not found: rm

...

../../../src/zsh-2003-05-23/Test/E01options.ztst: starting.
*** /tmp/zsh.ztst.out.15277	Fri May 23 20:25:18 2003
--- /tmp/zsh.ztst.tout.15277	Fri May 23 20:25:18 2003
***************
*** 1,12 ****
  inside1 scalar-local-export
! inside2 scalar-local-export
  inside3 scalar-export
  outside1 scalar
! outside2 scalar
  inside3 scalar-export
  inside1 scalar-export
! inside2 scalar-local-export
  inside3 scalar-export
  inside1 scalar-export
! outside2 scalar
  inside3 scalar-export
--- 1,12 ----
  inside1 scalar-local-export
! inside2 scalar-export
  inside3 scalar-export
  outside1 scalar
! inside2 scalar-export
  inside3 scalar-export
  inside1 scalar-export
! inside2 scalar-export
  inside3 scalar-export
  inside1 scalar-export
! inside2 scalar-export
  inside3 scalar-export
Test ../../../src/zsh-2003-05-23/Test/E01options.ztst failed: output differs from expected as shown above for:
  showit() { local v;
             for v in first second third; do
               eval print \$$v \$\{\(t\)$v\}
	     done;
           }      
  setit() { typeset -x first=inside1;
            typeset +g -x second=inside2;
            typeset -g -x third=inside3;
            showit;
          }
  first=outside1 second=outside2 third=outside3
  unsetopt globalexport
  setit
  showit
  setopt globalexport
  setit
  showit
  unfunction setit showit
Was testing: GLOBAL_EXPORT option
../../../src/zsh-2003-05-23/Test/E01options.ztst: test failed.

This is on a

Linux zion.rcn.com 2.4.21-0.13mdkcustom #4 SMP Sat Mar 8 23:08:38 EST 2003 i686 unknown unknown GNU/Linux

system, but I believe I saw the same failures on my Solaris systems at
work.

HTH,
  Vin

