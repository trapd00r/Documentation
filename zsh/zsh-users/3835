From zsh-users-return-3835-mason-zsh=primenet.com.au@sunsite.dk Sat Apr 28 03:21:29 2001
Return-Path: <zsh-users-return-3835-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 7335 invoked from network); 28 Apr 2001 03:21:27 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 28 Apr 2001 03:21:27 -0000
Received: (qmail 11451 invoked by alias); 28 Apr 2001 03:21:14 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 3835
Received: (qmail 11434 invoked from network); 28 Apr 2001 03:21:12 -0000
Date: Sat, 28 Apr 2001 13:19:38 +1000
From: Andre Pang <ozone@algorithm.com.au>
To: zsh-users@sunsite.auc.dk
Subject: problem completing anything after directory/<TAB>
Message-ID: <20010428131937.A3925@exodus>
Mail-Followup-To: zsh-users@sunsite.auc.dk
Mime-Version: 1.0
Content-Type: multipart/mixed; boundary="dDRMvlgZJXvWKvBx"
Content-Disposition: inline
User-Agent: Mutt/1.3.17i


--dDRMvlgZJXvWKvBx
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline

hi all,

i'm having an odd problem with completion.  best explained by
example:

    13:11 /% cd <TAB>
    completing directory
    proc/  etc/  bin/   boot/  net/  mnt2/  lost+found/  var@     cdrom/   c/  
    tmp/   lib/  sbin/  root/  usr/  mnt/   home@        initrd/  floppy/  dev/

completion works perfectly there.  however, doing this:

    13:11 /% cd usr/<TAB>
    completing `directory' or `corrections'

doesn't perform any completion whatsoever.

zsh apparently is having problems completing anything if you are
in a word which has a directory name.  (i've tried putting the
cursor inside the directory name, instead of the end, with no
difference.) this happens no matter what type of completion i
want; eg

    13:11 /% ls usr/<TAB>
    completing `files', `file', or `corrections'

doesn't work either.

i'm using the Debian zsh-beta package (full filename is
zsh-beta_4.0.0+4.0.1.pre2+0sf20010405-1_i386.deb).  i think all
this was working a few package versions ago, but it's not now. 
i thought perhaps Debian's package was bung, but i created a new
user on my system, so it has all of the system defaults, loaded
compinit, and things worked fine.

zsh details:

    13:14 /% echo $ZSH_VERSION
    4.0.1-debian0420
    13:16 /% setopt
    allexport
    autoresume
    bsdecho
    cdablevars
    correct
    correctall
    extendedglob
    extendedhistory
    noflowcontrol
    histexpiredupsfirst
    histfindnodups
    histignorealldups
    histignoredups
    histignorespace
    histnostore
    incappendhistory
    interactive
    kshglob
    listpacked
    login
    longlistjobs
    magicequalsubst
    markdirs
    monitor
    numericglobsort
    posixbuiltins
    pushdignoredups
    pushdtohome
    shinstdin
    shwordsplit
    zle

i'm not sure what other debugging information to provide, so any
pointers would be great :).  my .zcompdump file is attached, but
i'm not using anything special apart from the gizmos provided by
compinstall.

thanks for reading this far!


-- 
#ozone/algorithm <ozone@algorithm.com.au>          - trust.in.love.to.save

--dDRMvlgZJXvWKvBx
Content-Type: text/plain; charset=us-ascii
Content-Disposition: attachment; filename=".zcompdump"

#files: 578
_comps=(
- _precommand
. _source
a2ps _a2ps
acroread _pdf
alias _alias
amaya _webbrowser
animate _imagemagick
apachectl _apachectl
apm _apm
appletviewer _java
apropos _man
apt-cache _apt
apt-cdrom _apt
apt-config _apt
apt-get _apt
archie _archie
arena _webbrowser
arp _arp
-array-value- _value
autoload _autoload
bash _sh
bg _jobs_bg
bindkey _bindkey
bison _bison
-brace-parameter- _brace_parameter
bug _bug
buildhash _ispell
builtin _builtin
bunzip2 _bzip2
bzcat _bzip2
bzip2 _bzip2
bzip2recover _bzip2
cd _cd
chdir _cd
chgrp _chown
chimera _webbrowser
chown _chown
ci _rcs
clear _nothing
co _rcs
combine _imagemagick
command _command
-command- _command_names
-command-line- _normal
comp _mh
compdef _compdef
compress _compress
-condition- _condition
configure _configure
convert _imagemagick
cpio _cpio
csh _sh
curl _urls
cvs _cvs
cvsup _cvsup
dd _dd
declare _typeset
-default- _default
df _directories
dict _dict
diff _diff
dircmp _directories
dirs _directories
disable _disable
disown _jobs_fg
display _imagemagick
dmake _make
domainname _yp
dosdel _floppy
dosread _floppy
dpkg _dpkg
dpkg-deb _dpkg
dpkg-source _dpkg_source
du _directories
dupload _dupload
dvibook _dvi
dviconcat _dvi
dvicopy _dvi
dvidvi _dvi
dvips _dvi
dviselect _dvi
dvitodvi _dvi
dvitype _dvi
echotc _echotc
egrep _grep
elm _elm
emulate _emulate
enable _enable
enscript _enscript
epsffit _psutils
-equal- _equal
eval _precommand
exec _precommand
export _typeset
express _webbrowser
extcheck _java
extractres _psutils
fakeroot _fakeroot
false _nothing
fc _fc
fetchmail _fetchmail
fg _jobs_fg
fgrep _grep
find _find
findaffix _ispell
finger _finger
-first- _first
fixdlsrps _psutils
fixfmps _psutils
fixmacps _psutils
fixpsditps _psutils
fixpspps _psutils
fixscribeps _psutils
fixtpps _psutils
fixwfwps _psutils
fixwpps _psutils
fixwwps _psutils
flex _flex
float _typeset
fned _zed
folder _mh
folders _mh
ftp _hosts
functions _functions
fwhois _whois
galeon _urls
gcc _gcc
gdb _gdb
gdiff _diff
getafm _psutils
getconf _getconf
getopts _vars
ggv _pspdf
ghostscript _gs
ghostview _pspdf
gls _ls
gmake _make
gprof _gprof
grail _webbrowser
grep _grep
groups _users
gs _gs
gsbj _pspdf
gsdj _pspdf
gsdj500 _pspdf
gslj _pspdf
gslp _pspdf
gsnd _pspdf
gunzip _gzip
gv _gv
gview _gv
gzcat _gzip
gzilla _webbrowser
gzip _gzip
hash _hash
history _fc
host _hosts
hotjava _webbrowser
icombine _ispell
iconv _iconv
ijoin _ispell
import _imagemagick
inc _mh
includeres _psutils
integer _typeset
ispell _ispell
jar _java
jarsigner _java
java _java
javac _java
javadoc _java
javah _java
javap _java
jdb _java
jobs _jobs_builtin
joe _joe
keytool _java
kill _kill
killall _killall
kldload _kld
kldunload _kld
ksh _sh
last _users
latex _tex
let _math
lftp _ncftp
limit _limits
local _typeset
log _nothing
logname _nothing
look _look
lp _lp
lpq _lp
lpr _lp
lprm _lp
ls _ls
lscfg _lscfg
lsdev _lsdev
lslv _lslv
lspv _lspv
lsvg _lsvg
lynx _lynx
lzop _lzop
mail _mail
Mail _mail
mailx _mail
make _make
man _man
mark _mh
-math- _math
mere _mere
mgv _pspdf
mhlist _mh
mhmail _mh
mhn _mh
mhparam _mh
mhpath _mh
mhshow _mh
mhstore _mh
mmm _webbrowser
mogrify _imagemagick
montage _imagemagick
Mosaic _webbrowser
mount _mount
mozilla _webbrowser
munchlist _ispell
mush _mail
mutt _mutt
mysql _mysql_utils
mysqladmin _mysql_utils
mysqldump _mysql_utils
mysqlshow _mysql_utils
native2ascii _java
nc _nedit
ncftp _ncftp
nedit _nedit
netscape _netscape
newgrp _groups
next _mh
nice _precommand
nocorrect _precommand
noglob _precommand
nohup _precommand
nslookup _nslookup
ntalk _other_accounts
odme _object_classes
odmget _object_classes
odmshow _object_classes
opera _webbrowser
pack _pack
-parameter- _parameter
passwd _users
patch _patch
pcat _pack
pdf2dsc _pdf
pdf2ps _pdf
pdfimages _pdf
pdfinfo _pdf
pdftopbm _pdf
pdftops _pdf
pdftotext _pdf
perl _perl
perldoc _perldoc
pick _mh
pine _pine
pinef _pine
ping _hosts
pkg_add _bsd_pkg
pkg_delete _bsd_pkg
pkg_info _bsd_pkg
pmake _make
pman _perl_modules
pmcat _perl_modules
pmdesc _perl_modules
pmeth _perl_modules
pmexp _perl_modules
pmfunc _perl_modules
pmload _perl_modules
pmls _perl_modules
pmpath _perl_modules
pmvers _perl_modules
podgrep _perl_modules
podpath _perl_modules
podtoc _perl_modules
policytool _java
popd _directory_stack
prcs _prcs
prev _mh
print _print
prompt _prompt
ps2ascii _pspdf
ps2epsi _ps
ps2pdf _ps
psbook _psutils
psmerge _psutils
psmulti _ps
psnup _psutils
psresize _psutils
psselect _psutils
pstoedit _pspdf
pstops _psutils
pstotgif _pspdf
pswrap _ps
pushd _cd
querybts _bug
r _fc
rc _sh
rcp _rlogin
rcs _rcs
read _read
readonly _typeset
-redirect- _redirect
refile _mh
rehash _hash
remsh _rlogin
repl _mh
reportbug _bug
rlogin _rlogin
rmdir _directories
rmic _java
rmid _java
rmiregistry _java
rmm _mh
rpm _rpm
rsh _rlogin
rtin _tin
rup _hosts
rusage _precommand
rwho _hosts
scan _mh
sched _sched
scp _ssh
serialvar _java
set _set
setopt _setopt
sh _sh
shift _arrays
show _mh
showchar _psutils
slitex _tex
slogin _ssh
slrn _slrn
smit _smit
smitty _smit
socket _socket
source _source
ssh _ssh
ssh-add _ssh
ssh-agent _ssh
ssh-keygen _ssh
stat _stat
strip _strip
stty _stty
su _su
-subscript- _subscript
sudo _sudo
talk _other_accounts
tar _tar
tcsh _sh
telnet _telnet
tex _tex
-tilde- _tilde
time _precommand
times _nothing
tin _tin
traceroute _hosts
trap _trap
true _nothing
tryaffix _ispell
ttyctl _ttyctl
type _which
typeset _typeset
ulimit _ulimit
umount _mount
unalias _aliases
uncompress _compress
unfunction _functions
unhash _unhash
unlimit _limits
unpack _pack
unset _vars
unsetopt _unsetopt
unzip _zip
-value- _value
vared _vared
-vared- _in_vared
w3m _w3m
wait _wait
wget _wget
whatis _man
whence _which
where _which
whereis _whereis
which _which
whoami _nothing
whois _whois
whom _mh
write _users_on
www _webbrowser
xargs _xargs
xauth _xauth
xdpyinfo _x_utils
xdvi _xdvi
xev _x_utils
xfd _x_utils
xfig _xfig
xfontsel _x_utils
xhost _x_utils
xkill _x_utils
xmodmap _xmodmap
xmosaic _webbrowser
xon _x_utils
xpdf _pdf
xping _hosts
xrdb _xrdb
xset _xset
xsetroot _x_utils
xterm _xterm
xtp _imagemagick
xv _xv
xwd _x_utils
xwininfo _x_utils
xwit _xwit
xwud _x_utils
ypbind _yp
ypcat _yp
ypmatch _yp
yppasswd _yp
yppoll _yp
yppush _yp
ypserv _yp
ypset _yp
ypwhich _yp
ypxfr _yp
ytalk _other_accounts
zcat _zcat
zcompile _zcompile
zdump _zdump
zed _zed
zip _zip
zipinfo _zip
zle _zle
zmail _mail
zmodload _zmodload
zpty _zpty
zsh _sh
zstyle _zstyle
)
_services=(
bzcat bunzip2
gzcat gunzip
pcat unpack
remsh rsh
slogin ssh
)

_patcomps=(
zf\* _zftp
)

_postpatcomps=(
\*/\(init\|rc\[0-9S\]\#\).d/\* _init_d
\(p\[bgpn\]m\*\|\*top\[bgpn\]m\) _pbm
\(texi\(2\*\|ndex\)\) _texi
\(tiff\*\|\*2tiff\|pal2rgb\) _tiff
\*/X11\(\|R\[456\]\)/\* _x_arguments
yodl\(\|2\*\) _yodl
)

_compautos=(
_call_program +X
)

zle -C _bash_complete-word .complete-word _bash_completions
zle -C _bash_list-choices .list-choices _bash_completions
zle -C _complete_debug .complete-word _complete_debug
zle -C _complete_help .complete-word _complete_help
zle -C _complete_tag .complete-word _complete_tag
zle -C _correct_filename .complete-word _correct_filename
zle -C _correct_word .complete-word _correct_word
zle -C _expand_alias .complete-word _expand_alias
zle -C _expand_word .complete-word _expand_word
zle -C _history-complete-newer .complete-word _history_complete_word
zle -C _history-complete-older .complete-word _history_complete_word
zle -C _list_expansions .list-choices _expand_word
zle -C _most_recent_file .complete-word _most_recent_file
zle -C _next_tags .complete-word _next_tags
zle -C _read_comp .complete-word _read_comp
bindkey '^X^R' _read_comp
bindkey '^X?' _complete_debug
bindkey '^XC' _correct_filename
bindkey '^Xa' _expand_alias
bindkey '^Xc' _correct_word
bindkey '^Xd' _list_expansions
bindkey '^Xe' _expand_word
bindkey '^Xh' _complete_help
bindkey '^Xm' _most_recent_file
bindkey '^Xn' _next_tags
bindkey '^Xt' _complete_tag
bindkey '^X~' _bash_list-choices
bindkey '^[,' _history-complete-newer
bindkey '^[/' _history-complete-older
bindkey '^[~' _bash_complete-word

autoload -U _a2ps _aliases _alias _all_labels _all_matches _alternative \
            _apachectl _apm _approximate _apt _archie _arg_compile \
            _arguments _arp _arrays _autoload _bash_completions _bindkey \
            _bison _brace_parameter _bsd_pkg _bug _builtin _bzip2 \
            _cache_invalid _call_function _cd _chown _combination _command \
            _command_names _compdef _complete_debug _complete _complete_help _complete_tag \
            _compress _condition _configure _contexts _correct_filename _correct \
            _correct_word _cpio _cvs _cvsup _dd _deb_packages \
            _default _describe _description _dict _dict_words _diff \
            _diff_options _directories _directory_stack _dir_list _disable _domains \
            _dpkg _dpkg_source _dupload _dvi _echotc _elm \
            _emulate _enable _enscript _equal _expand_alias _expand \
            _expand_word _fakeroot _fc _fetchmail _file_descriptors _files \
            _find _finger _first _flex _floppy _functions \
            _gcc _gdb _generic _getconf _gnu_generic _gprof \
            _grep _groups _gs _gv _gzip _hash \
            _history_complete_word _history _hosts _iconv _ignored _imagemagick \
            _init_d _in_vared _ispell _java _jobs_bg _jobs_builtin \
            _jobs_fg _jobs _joe _killall _kill _kld \
            _limits _list _logical_volumes _look _lp _lscfg \
            _lsdev _ls _lslv _lspv _lsvg _lynx \
            _lzop _mailboxes _mail _main_complete _make _man \
            _match _math _menu _mere _message _mh \
            _most_recent_file _mount _multi_parts _mutt _my_accounts _mysql_utils \
            _ncftp _nedit _netscape _newsgroups _next_label _next_tags \
            _normal _nothing _nslookup _object_classes _oldlist _options \
            _options_set _options_unset _other_accounts _pack _parameter _parameters \
            _patch _path_files _pbm _pdf _perl_basepods _perl_builtin_funcs \
            _perldoc _perl _perl_modules _physical_volumes _pids _pine \
            _ports _prcs _precommand _prefix _printers _print \
            _prompt _ps _pspdf _psutils _rcs _read_comp \
            _read _redirect _regex_arguments _requested _retrieve_cache _rlogin \
            _rpm _sched _sep_parts _set _setopt _setup \
            _sh _signals _slrn _smit _socket _source \
            _ssh _stat _store_cache _strip _stty _sub_commands \
            _subscript _sudo _su _tags _tar_archive _tar \
            _telnet _tex _texi _tiff _tilde_files _tilde \
            _tin _trap _ttyctl _typeset _ulimit _unhash \
            _unsetopt _urls _user_at_host _users _users_on _value \
            _values _vared _vars _volume_groups _w3m _wait \
            _wanted _webbrowser _wget _whereis _which _whois \
            _xargs _x_arguments _xauth _x_borderwidth _x_color _x_colormapid \
            _x_cursor _x_display _xdvi _x_extension _xfig _x_font \
            _x_geometry _x_keysym _x_locale _x_modifier _xmodmap _x_name \
            _xrdb _x_resource _x_selection_timeout _xset _xt_arguments _xterm \
            _x_title _xt_session_id _x_utils _xv _x_window _xwit \
            _yodl _yp _zcat _zcompile _zdump _zed \
            _zftp _zip _zle _zmodload _zpty _zstyle
autoload -U +X _call_program

--dDRMvlgZJXvWKvBx--

