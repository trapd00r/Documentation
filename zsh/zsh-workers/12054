From zsh-workers-return-12054-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Jun 23 14:45:26 2000
Return-Path: <zsh-workers-return-12054-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 6195 invoked from network); 23 Jun 2000 14:45:24 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 23 Jun 2000 14:45:24 -0000
Received: (qmail 7040 invoked by alias); 23 Jun 2000 14:44:51 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 12054
Received: (qmail 7031 invoked from network); 23 Jun 2000 14:44:48 -0000
Date: Fri, 23 Jun 2000 16:41:32 +0200 (CEST)
From: Christoph Lange <langec@gmx.de>
Reply-To: Christoph Lange <duke@cyberspaces.de>
To: zsh-workers@sunsite.auc.dk
Subject: [Suggestion] IGNORE_EOF like in bash
Message-ID: <Pine.LNX.4.10.10006231632370.2579-100000@langec.myip.org>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=iso-8859-1
Content-Transfer-Encoding: QUOTED-PRINTABLE

Hi there,

  I suggest that the IGNORE_EOF shell option should be implemented in the
same way as in bash. There, it is a shell variable rather than an option.
The best explanation is given in the bash manual page:

       IGNOREEOF
              Controls  the  action  of  an  interactive shell on
              receipt of an EOF character as the sole input.   If
              set,  the  value  is  the number of consecutive EOF
              characters which must be typed as the first charac=AD
              ters  on  an  input line before bash exits.  If the
              variable exists but does not have a numeric  value,
              or  has  no  value, the default value is 10.  If it
              does not exist, EOF signifies the end of  input  to
              the shell.

The advantage is that a user can set that variable to 3, for example, to lo=
g
out after three presses of ^D.

If you should not like to hard-code it into the shell, you should consider
the following workaround: the shell must not catch ^D on an empty command
line before any invocation of a zle widget. If ^D on an empty command is
passed to zle, too, users can write their own zle widget which ignores it,
let's say 3 times, and then logs out.

Regards,

Christoph

PS: Please send answers directly to me, since I don't subscribe the list.

--=20
"NSA GCHQ KGB CIA nuclear conspiration war weapon spy agent... Hi Echelon!"
Christoph Lange, langec@gmx.de, http://www.cul.de/home/yaph/, ICQ #51191833

