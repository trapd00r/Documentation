From zsh-workers-request@math.gatech.edu Sun Nov 16 16:32:45 1997
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 21383 invoked from network); 16 Nov 1997 16:32:43 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 16 Nov 1997 16:32:43 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id KAA20266;
	Sun, 16 Nov 1997 10:44:04 -0500 (EST)
Resent-Date: Sun, 16 Nov 1997 10:44:04 -0500 (EST)
To: zsh-workers@math.gatech.edu
Sender: monnier@TEQUILA.SYSTEMSZ.CS.YALE.EDU
From: Stefan Monnier <monnier+lists/zsh/workers/news/@TEQUILA.SYSTEMSZ.CS.YALE.EDU>
Newsgroups: lists.zsh.workers
Subject: comments in completion
Date: 16 Nov 1997 10:44:20 -0500
Message-ID: <5liutsx2qz.fsf@tequila.systemsz.cs.yale.edu>
Lines: 32
X-Newsreader: Gnus v5.5/Emacs 20.2
Path: tequila.systemsz.cs.yale.edu
NNTP-Posting-Host: tequila.systemsz.cs.yale.edu
Resent-Message-ID: <"MteD12.0.by4.4JnRq"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3615
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu


A few months ago, there was a thread about programming completion for jobs.
For such a use, listing the available job numbers isn't quite what you want
because it's not very informative, so ech job number was annotated with its
corresponding command line. The annotation was originally done with '#' which
only works if you allow comments on the command line, so another suggestion was
done, using ";:", which mostly works just as well (except when you have ';' or
some such characters in the annotation, of course).
Another limitation of those two alternatives is that the annotation
terminates the command, so that it can't be used to do "kill %bla %bli".

What we really want is a way to put annotations that are understood by the
completion mechanism, so that they are printed when listing alternatives, but
they are not added to the command line.

This would come in handy for all completion of numbers like job numbers,
process ids, ...
And it would also be handy in order to provide online help for option flags,
like:

        > grep -[TAB]
        i - case insensitive
        n - print line numbers
        C - print surrounding context
        ...
        > grep -

I'm currently using 3.0.5 and there is no such thing in there, so is that
supposed to be coming up for zsh-3.2 or not yet ?


        Stefan

