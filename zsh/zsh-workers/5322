From zsh-workers-return-5322-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Feb 08 16:57:24 1999
Return-Path: <zsh-workers-return-5322-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 29095 invoked from network); 8 Feb 1999 16:57:23 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 8 Feb 1999 16:57:23 -0000
Received: (qmail 10194 invoked by alias); 8 Feb 1999 16:56:58 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 5322
Received: (qmail 10168 invoked from network); 8 Feb 1999 16:56:47 -0000
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <990208085454.ZM13891@candle.brasslantern.com>
Date: Mon, 8 Feb 1999 08:54:53 -0800
In-Reply-To: <9902081029.AA35641@ibmth.df.unipi.it>
Comments: In reply to Peter Stephenson <pws@ibmth.df.unipi.it>
        "Re: PATCH zsh-3.1.5-pws-7: cygwin make fixes" (Feb  8, 11:29am)
References: <9902081029.AA35641@ibmth.df.unipi.it>
X-Mailer: Z-Mail (4.0b.820 20aug96)
To: Peter Stephenson <pws@ibmth.df.unipi.it>, zsh-workers@sunsite.auc.dk
Subject: Re: PATCH zsh-3.1.5-pws-7: cygwin make fixes
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Feb 8, 11:29am, Peter Stephenson wrote:
} Subject: Re: PATCH zsh-3.1.5-pws-7: cygwin make fixes
}
} As configure.in contains AC_TRY_RUN statements, it looks to me
} unlikely that the zsh build system supports cross-compilation anyway

I thought that might be it, but:

} - signed to unsigned casting
} - if tgetent accepts NULL
} - if rlim_t is quad_t
} - if rlim_t is unsigned

These four are just testing compiler capability, and can be done without
using the cross-compilation options (though I don't know if they ARE done
that way); and as you point out all but

} - if named FIFOs work

can be turned off (or should be) by specifying no dynamic module loading.
Signals are pretty basic to the shell with or without dynamic modules.

Seems to me it should be possible to do this particular thing with just
the preprocessor, rather than needing to compile and execute a program.
use the awk script to generate a bunch of #defines for every possible
signal in the header, feed that through "cc -E ...." and then awk or sed
the output again to extract the stuff zsh needs.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

