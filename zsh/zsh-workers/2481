From zsh-workers-request@euclid.skiles.gatech.edu  Tue Nov 26 21:54:00 1996
Return-Path: zsh-workers-request@euclid.skiles.gatech.edu
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by coral.primenet.com.au (8.7.6/8.7.3) with ESMTP id VAA11719 for <mason@primenet.com.au>; Tue, 26 Nov 1996 21:53:58 +1100 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id FAA12804; Tue, 26 Nov 1996 05:43:33 -0500 (EST)
Resent-Date: Tue, 26 Nov 1996 05:43:33 -0500 (EST)
Date: Tue, 26 Nov 1996 02:41:51 -0800 (PST)
From: Bart Schaefer <schaefer@nbn.com>
Message-Id: <961126024255.ZM3729774@srf-79.nbn.com>
In-Reply-To: Zefram <zefram@dcs.warwick.ac.uk>
        "signal weirdness fix" (Nov 26,  8:46am)
References: <1934.199611260846@stone.dcs.warwick.ac.uk>
reply-to: schaefer@brasslantern.com
X-Mailer: Z-Mail for Macintosh (3.3.1 27Mar96)
To: Zefram <zefram@dcs.warwick.ac.uk>,
        zsh-workers@math.gatech.edu (Z Shell workers mailing list)
Subject: Re: signal weirdness fix
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Resent-Message-ID: <"5HY1n2.0.-73.Kdico"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/2481
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

On Nov 26,  8:46am, Zefram wrote:
> Subject: signal weirdness fix
> -----BEGIN PGP SIGNED MESSAGE-----
> 
> Remember that odd behaviour I reported, that zsh thought it received a
> signal actually sent to its foreground job?
> 
> This patch limits it to SIGHUP, SIGINT and SIGQUIT, and disables this
> behaviour completely in non-interactive shells.  I think this is a
good
> semantic.

Actually, I think this is almost exactly the wrong semantic.  The whole
point was so that zsh scripts (which are pretty much by definition not
"interactive shells" even though the script may be doing terminal I/O)
could have their HUP/INT/QUIT traps tripped even when not executing a
builtin command at the time the signal came in.

If you must limit this to some subset of shells (and not just to some
subset of signals), I beg you to choose some other criteria.  I have no
problem with limiting it to HUP/INT/QUIT, but requiring interact is too
much.

