Message-ID: <444013EC.3070406@gmx.de>
Date: Fri, 14 Apr 2006 23:28:12 +0200
From: =?ISO-8859-1?Q?Heinrich_G=F6tzger?= <goetzger@gmx.de>
MIME-Version: 1.0
To:  zsh-users@sunsite.dk
Subject: Re: [solved] ulimit -n to small
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Status: RO
X-Seq: zsh-users 10157

Heinrich Goetzger wrote:
> Hi,
> 
> my zsh 4.2.5 on gentoo has a problem with the number of file descriptors.
> They can not raise the hard limit even with the -S set as mentioned in [1]:
> 
> $ ulimit -n
> 1024
> $ ulimit -SHn 2048
> ulimit: can't raise hard limits
> $ ulimit -Sn 2048 
> ulimit: value exceeds hard limit
> 
> But I need a value for file descriptors > 5000 for some java application.
> With ksh and zsh @ root it works as expected:
> ulimit -n 1024
> # ulimit -n     
> 1024
> # ulimit -n 8192
> # ulimit -n     
> 8192
> 
> How can I change the hard limit for the file descriptors?

so, it's been quite a year since I asked this qustion. But now I've 
found some nice sollution on my gentoo box:

just add
<user>              hard    nofile          16384
<user>              soft    nofile          8192
to file: /etc/security/limits.conf

and all is fine now.

Cheers

Heinrich

> [1]: http://zsh.sunsite.dk/Doc/Release/zsh_16.html

