From zsh-workers-return-5623-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Mar 03 11:52:09 1999
Return-Path: <zsh-workers-return-5623-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8561 invoked from network); 3 Mar 1999 11:52:07 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 3 Mar 1999 11:52:07 -0000
Received: (qmail 11562 invoked by alias); 3 Mar 1999 11:51:37 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 5623
Received: (qmail 11550 invoked from network); 3 Mar 1999 11:51:32 -0000
Date: Wed, 3 Mar 1999 12:50:42 +0100 (MET)
Message-Id: <199903031150.MAA21377@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
Subject: PATCH: small fix for compadd -X


While playing with this I discovered that matches added with `compadd' 
without a `-X' got counted to the last `-X' that was used.

Bye
 Sven

--- os/Zle/zle_tricky.c	Wed Mar  3 11:46:45 1999
+++ Src/Zle/zle_tricky.c	Wed Mar  3 12:34:24 1999
@@ -4302,7 +4302,7 @@
 		cm->rems = rems;
 		addlinknode(l, cm);
 
-		if (expl) {
+		if (exp) {
 		    if (l == matches)
 			expl->count++;
 		    else

--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

