From zsh-workers-request@euclid.skiles.gatech.edu Sat Nov 30 23:30:36 1996
Return-Path: <zsh-workers-request@euclid.skiles.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 10587 invoked from network); 30 Nov 1996 23:30:34 -0000
Received: from euclid.skiles.gatech.edu (list@130.207.146.50)
  by coral.primenet.com.au with SMTP; 30 Nov 1996 23:30:33 -0000
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id SAA29184; Sat, 30 Nov 1996 18:16:08 -0500 (EST)
Resent-Date: Sat, 30 Nov 1996 18:16:08 -0500 (EST)
Date: Sat, 30 Nov 1996 15:16:26 -0800 (PST)
From: Bart Schaefer <schaefer@nbn.com>
Message-Id: <961130151728.ZM16366828@srf-75.nbn.com>
In-Reply-To: Zefram <zefram@dcs.warwick.ac.uk>
        "Re: Autoloading of compctl from dbm database file." (Nov 30,  4:40pm)
References: <8922.199611301640@stone.dcs.warwick.ac.uk>
reply-to: schaefer@brasslantern.com
X-Mailer: Z-Mail for Macintosh (3.3.1 27Mar96)
To: Zefram <zefram@dcs.warwick.ac.uk>, fclim@singnet.com.sg (Fung-Chai Lim),
        zsh-workers@math.gatech.edu
Subject: Re: Autoloading of compctl from dbm database file.
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Resent-Message-ID: <"i_tIc3.0.t77.s0Ceo"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/2502
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Seems to me that this idea has "module" written on it, in large flashing
purple neon letters.

On Nov 30,  4:40pm, Zefram wrote:
> Subject: Re: Autoloading of compctl from dbm database file.
> 
> We already have a function autoloading facility.  Aliases are cheap to
> store, usually short, and people don't have so many of them.  I think
> it is therefore not worth adding the database autoloading for them.
> However, a dbm database may be a good solution to the problem of
> autoloading compctls.

Compctls aren't very expensive to store either, are they?  The slow
part of loading compctls and functions is parsing.  If we're going
to introduce a database, we might as well also introduce a binary
storage format and put pre-"compiled" functions, compctls, etc. in
there.  Using a database just to store text that zsh then has to parse
and execute anyway doesn't seem very helpful.

Further -- I admit I haven't tried the patch -- doesn't attempting to
autoload compctls, even from a database, slow down default completion
a lot?

