From zsh-workers-return-24376-mason-zsh=primenet.com.au@sunsite.dk Wed Jan 09 17:36:32 2008
Return-Path: <zsh-workers-return-24376-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 11914 invoked from network); 9 Jan 2008 17:36:23 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.3 (2007-08-08) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.4 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.3
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 9 Jan 2008 17:36:23 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 14598 invoked from network); 9 Jan 2008 17:36:16 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 9 Jan 2008 17:36:16 -0000
Received: (qmail 13733 invoked by alias); 9 Jan 2008 17:36:12 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 24376
Received: (qmail 13717 invoked from network); 9 Jan 2008 17:36:11 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 9 Jan 2008 17:36:11 -0000
Received: from virusfilter.dotsrc.org (bifrost [127.0.0.1])
	by spamfilter.dotsrc.org (Postfix) with ESMTP id 71ACF8058FF4
	for <zsh-workers@sunsite.dk>; Wed,  9 Jan 2008 18:36:09 +0100 (CET)
Received: from cluster-d.mailcontrol.com (cluster-d.mailcontrol.com [217.69.20.190])
	by bifrost.dotsrc.org (Postfix) with ESMTP
	for <zsh-workers@sunsite.dk>; Wed,  9 Jan 2008 18:36:09 +0100 (CET)
Received: from rly43d.srv.mailcontrol.com (localhost.localdomain [127.0.0.1])
	by rly43d.srv.mailcontrol.com (MailControl) with ESMTP id m09Ha8GK022341
	for <zsh-workers@sunsite.dk>; Wed, 9 Jan 2008 17:36:08 GMT
Received: from submission.mailcontrol.com (submission.mailcontrol.com [86.111.216.190])
	by rly43d.srv.mailcontrol.com (MailControl) id m09HZtKZ021597
	for zsh-workers@sunsite.dk; Wed, 9 Jan 2008 17:35:55 GMT
Received: from cameurexb01.EUROPE.ROOT.PRI ([62.189.241.200])
	by rly43d-eth0.srv.mailcontrol.com (envelope-sender Peter.Stephenson@csr.com) (MIMEDefang) with ESMTP id m09HZso1021554; Wed, 09 Jan 2008 17:35:55 +0000 (GMT)
Received: from news01.csr.com ([10.103.143.38]) by cameurexb01.EUROPE.ROOT.PRI with Microsoft SMTPSVC(6.0.3790.1830);
	 Wed, 9 Jan 2008 17:35:30 +0000
Received: from news01.csr.com (localhost.localdomain [127.0.0.1])
	by news01.csr.com (8.14.1/8.13.4) with ESMTP id m09HZUfH007119;
	Wed, 9 Jan 2008 17:35:30 GMT
Received: from csr.com (pws@localhost)
	by news01.csr.com (8.14.1/8.14.1/Submit) with ESMTP id m09HZUf8007116;
	Wed, 9 Jan 2008 17:35:30 GMT
Message-Id: <200801091735.m09HZUf8007116@news01.csr.com>
X-Authentication-Warning: news01.csr.com: pws owned process doing -bs
To: zsh-workers@sunsite.dk, 459896-forwarded@bugs.debian.org
Subject: Re: Bug#459896: Segfaults in "apt-c(" completion
In-reply-to: <20080109145147.GA24262@scowler.net>
References: <20080109122004.GA20014@bee.dooz.org> <20080109145147.GA24262@scowler.net>
Comments: In-reply-to Clint Adams <schizo@debian.org>
   message dated "Wed, 09 Jan 2008 09:51:47 -0500."
Date: Wed, 09 Jan 2008 17:35:30 +0000
From: Peter Stephenson <pws@csr.com>
X-OriginalArrivalTime: 09 Jan 2008 17:35:30.0516 (UTC) FILETIME=[07B29940:01C852E6]
X-Scanned-By: MailControl A-06-00-00 (www.mailcontrol.com) on 10.68.1.153
X-Virus-Scanned: ClamAV using ClamSMTP

Clint Adams wrote:
> On Wed, Jan 09, 2008 at 01:20:04PM +0100, Loïc Minier wrote:
> >  while typo-ing I crashed zsh as follows, reproduced with a new user,
> >  withing gdb, with zsh-dbg installed:
> >  bee% autoload -U compinit
> >  bee% compinit
> >  bee% apt-c(^I
> >     (that's "apt-c" + "(" + tab)

Doesn't happen here, but in any case I suspect this is some quite basic
problem since the "(" forces the shell to complete all possible commands
after it.  So it's simply searching the entire set of tables for things
that can occur in command position.  It's probably some memory
allocation thing.

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR PLC, Churchill House, Cambridge Business Park, Cowley Road
Cambridge, CB4 0WZ, UK                          Tel: +44 (0)1223 692070

