Delivered-To: mason-zsh@primenet.com.au
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <990207232642.ZM10052@candle.brasslantern.com>
Date: Sun, 7 Feb 1999 23:26:42 -0800
In-Reply-To: <19990208064924.18981.qmail@hotmail.com>
Comments: In reply to "Matt Armstrong" <mattarmst@hotmail.com>
        "PATCH zsh-3.1.5-pws-7: cygwin make fixes" (Feb  7, 10:49pm)
References: <19990208064924.18981.qmail@hotmail.com>
X-Mailer: Z-Mail (4.0b.820 20aug96)
To: "Matt Armstrong" <mattarmst@hotmail.com>, zsh-workers@sunsite.auc.dk
Subject: Re: PATCH zsh-3.1.5-pws-7: cygwin make fixes
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailing-List: <zsh-workers@sunsite.auc.dk> 5314

On Feb 7, 10:49pm, Matt Armstrong wrote:
} Subject: PATCH zsh-3.1.5-pws-7: cygwin make fixes
}
} I fixed #2 by re-doing the way signames.c is created.  Instead of a AWK 
} script that gets run on a signal.h file, a C program is compiled and 
} run.  This gets it right even if the signal.h file is hard to parse.

I haven't examined the patch in detail to check this, but did you make
sure that the compilation of this program is performed in such a way that
it executes correctly on the current hardware even when cross-compiling
for another architecture?

} My fix for #1 may be controversial because it may break for people who 
} need to keep using an older autoconf.  Is upgrading a problem?

It'd be better if it weren't necessary.  Copy it into aczsh.m4 and give
it a different name, e.g zsh_EXEEXT ?
 
} My fix for #2, I think, is a good thing.  ;-)  I'd do the same thing for 
} the RLIMIT stuff if cygwin had RLIMIT stuff.

It's not a good thing if it won't cross-compile.  I didn't use to pay much
attention to this, but I've just been through this particular plane of hell
with procmail's build system (which even compiles and runs C programs to do
sed-like substition on its man page templates!) so I'm feeling sensitive.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

