From zsh-workers-return-18355-mason-zsh=primenet.com.au@sunsite.dk Mon Mar 17 17:42:20 2003
Return-Path: <zsh-workers-return-18355-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24084 invoked from network); 17 Mar 2003 17:42:19 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 17 Mar 2003 17:42:19 -0000
Received: (qmail 22409 invoked by alias); 17 Mar 2003 17:42:12 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 18355
Received: (qmail 22400 invoked from network); 17 Mar 2003 17:42:12 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 17 Mar 2003 17:42:12 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [198.51.251.8] by sunsite.dk (MessageWall 1.0.8) with SMTP; 17 Mar 2003 17:42:12 -0000
Received: from chorus.teradyne.com (chorus.teradyne.com [131.101.1.195])
	by rent.teradyne.com (8.8.8+Sun/8.8.8) with ESMTP id MAA23030
	for <zsh-workers@sunsite.dk>; Mon, 17 Mar 2003 12:42:11 -0500 (EST)
Received: from kiki.icd.teradyne.com (kiki.icd.teradyne.com [131.101.10.126]) by chorus.teradyne.com (8.8.8+Sun/8.7.1) with ESMTP id MAA23992 for <zsh-workers@sunsite.dk>; Mon, 17 Mar 2003 12:42:10 -0500 (EST)
Received: from denver.icd.teradyne.com (denver [131.101.18.106])
	by kiki.icd.teradyne.com (8.9.3+Sun/8.9.3) with ESMTP id MAA02700
	for <zsh-workers@sunsite.dk>; Mon, 17 Mar 2003 12:42:21 -0500 (EST)
Received: (from shelton@localhost)
	by denver.icd.teradyne.com (8.11.6+Sun/8.11.6) id h2HHg9B21042;
	Mon, 17 Mar 2003 12:42:09 -0500 (EST)
X-Authentication-Warning: denver.icd.teradyne.com: shelton set sender to shelton@icd.teradyne.com using -f
To: Zsh hackers list <zsh-workers@sunsite.dk>
Subject: 'make check' failures on Solaris 2.5 and 5.8
From: Vin Shelton <shelton@icd.teradyne.com>
Organization: Teradyne, Inc
Date: Mon, 17 Mar 2003 12:42:09 -0500
Message-ID: <54565qh3n66.fsf@icd.teradyne.com>
Lines: 211
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

I am getting test failures from the latest CVS sources on my Solaris
5.5 and 5.8 machines here at work.

Here are the test results:

cd Test ; make check
make[1]: Entering directory `/u/shelton2/software/build/SunOS-5.5/zsh-2003-03-17/Test'
if test -n "gcc"; then \
  cd .. && DESTDIR= \
  make MODDIR=`pwd`/Test/Modules install.modules > /dev/null; \
fi
mkdir /u/shelton2/software/build/SunOS-5.5/zsh-2003-03-17/Test/Modules
mkdir /u/shelton2/software/build/SunOS-5.5/zsh-2003-03-17/Test/Modules/zsh
mkdir /u/shelton2/software/build/SunOS-5.5/zsh-2003-03-17/Test/Modules/zsh/net
for f in /u/shelton2/software/src/zsh-2003-03-17/Test/*.ztst; do \
  ../Src/zsh +Z -f /u/shelton2/software/src/zsh-2003-03-17/Test/ztst.zsh $f; \
done
/u/shelton2/software/src/zsh-2003-03-17/Test/A01grammar.ztst: starting.
This test hangs the shell when it fails...
/u/shelton2/software/src/zsh-2003-03-17/Test/A01grammar.ztst: all tests successful.
/u/shelton2/software/src/zsh-2003-03-17/Test/A02alias.ztst: starting.
/u/shelton2/software/src/zsh-2003-03-17/Test/A02alias.ztst: all tests successful.
/u/shelton2/software/src/zsh-2003-03-17/Test/A03quoting.ztst: starting.
/u/shelton2/software/src/zsh-2003-03-17/Test/A03quoting.ztst: all tests successful.
/u/shelton2/software/src/zsh-2003-03-17/Test/A04redirect.ztst: starting.
/u/shelton2/software/src/zsh-2003-03-17/Test/A04redirect.ztst: all tests successful.
/u/shelton2/software/src/zsh-2003-03-17/Test/A05execution.ztst: starting.
*** /tmp/zsh.ztst.out.24518	Mon Mar 17 05:43:37 2003
--- /tmp/zsh.ztst.tout.24518	Mon Mar 17 05:43:37 2003
***************
*** 6,10 ****
  1 arguments:
  aus unrühigen Träumen erwachte
  2 arguments:
! fand er sich in seinem Bett
  zu einem ungeheuren Ungeziefer verwandelt.
--- 6,10 ----
  1 arguments:
  aus unrühigen Träumen erwachte
  2 arguments:
! fand er sich in seinem Bzu 
  zu einem ungeheuren Ungeziefer verwandelt.
Test /u/shelton2/software/src/zsh-2003-03-17/Test/A05execution.ztst failed: output differs from expected as shown above for:
  functst() { print $# arguments:; print -l $*; }
  functst "Eines Morgens" "als Gregor Samsa"
  functst ""
  functst "aus unrühigen Träumen erwachte"
  foo="fand er sich in seinem Bett"
  bar=
  rod="zu einem ungeheuren Ungeziefer verwandelt."
  functst $foo $bar $rod
  alias foo='print This is alias one'
Was testing: function argument passing
/u/shelton2/software/src/zsh-2003-03-17/Test/A05execution.ztst: test failed.
/u/shelton2/software/src/zsh-2003-03-17/Test/A06assign.ztst: starting.
/u/shelton2/software/src/zsh-2003-03-17/Test/A06assign.ztst: all tests successful.
/u/shelton2/software/src/zsh-2003-03-17/Test/B01cd.ztst: starting.
/u/shelton2/software/src/zsh-2003-03-17/Test/B01cd.ztst: all tests successful.
/u/shelton2/software/src/zsh-2003-03-17/Test/B02typeset.ztst: starting.
/u/shelton2/software/src/zsh-2003-03-17/Test/B02typeset.ztst: all tests successful.
/u/shelton2/software/src/zsh-2003-03-17/Test/B03print.ztst: starting.
/u/shelton2/software/src/zsh-2003-03-17/Test/B03print.ztst: all tests successful.
/u/shelton2/software/src/zsh-2003-03-17/Test/C01arith.ztst: starting.
/u/shelton2/software/src/zsh-2003-03-17/Test/C01arith.ztst: all tests successful.
/u/shelton2/software/src/zsh-2003-03-17/Test/C02cond.ztst: starting.
Test /u/shelton2/software/src/zsh-2003-03-17/Test/C02cond.ztst failed: bad status 1, expected 0 from:
  sleep 1
  cat unmodified
  touch newnewnew
  if [[ $OSTYPE == "cygwin" ]]; then
    print -u8 "Warning: not testing [[ -N file ]] (not supported on Cygwin)"
    true
  else
    [[ -N newnewnew && ! -N unmodified ]]
  fi
Was testing: -N cond
/u/shelton2/software/src/zsh-2003-03-17/Test/C02cond.ztst: test failed.
The following may (or may not) help identifying the cause:
  This test can fail on NFS-mounted filesystems as the access and
  modification times are not updated separately.  This does not indicate
  a problem in the shell.
/u/shelton2/software/src/zsh-2003-03-17/Test/C03traps.ztst: starting.
This test takes at least three seconds...
This test, too, takes at least three seconds...
/u/shelton2/software/src/zsh-2003-03-17/Test/C03traps.ztst: all tests successful.
/u/shelton2/software/src/zsh-2003-03-17/Test/C04funcdef.ztst: starting.
/u/shelton2/software/src/zsh-2003-03-17/Test/C04funcdef.ztst: all tests successful.
/u/shelton2/software/src/zsh-2003-03-17/Test/D01prompt.ztst: starting.
/u/shelton2/software/src/zsh-2003-03-17/Test/D01prompt.ztst: all tests successful.
/u/shelton2/software/src/zsh-2003-03-17/Test/D02glob.ztst: starting.
/u/shelton2/software/src/zsh-2003-03-17/Test/D02glob.ztst: all tests successful.
/u/shelton2/software/src/zsh-2003-03-17/Test/D03procsubst.ztst: starting.
/u/shelton2/software/src/zsh-2003-03-17/Test/D03procsubst.ztst: all tests successful.
/u/shelton2/software/src/zsh-2003-03-17/Test/D04parameter.ztst: starting.
*** /tmp/zsh.ztst.out.25346	Mon Mar 17 05:44:17 2003
--- /tmp/zsh.ztst.tout.25346	Mon Mar 17 05:44:17 2003
***************
*** 1 ****
! expletive deleted boldly claws dogs expletive deleted fight
--- 1 ----
! expletive deleteb boldly claws dogs expletive deletef fight
Test /u/shelton2/software/src/zsh-2003-03-17/Test/D04parameter.ztst failed: output differs from expected as shown above for:
  print ${array1:/[aeiou]*/expletive deleted}
Was testing: array ${...:/...}
/u/shelton2/software/src/zsh-2003-03-17/Test/D04parameter.ztst: test failed.
/u/shelton2/software/src/zsh-2003-03-17/Test/D05array.ztst: starting.
/u/shelton2/software/src/zsh-2003-03-17/Test/D05array.ztst: all tests successful.
/u/shelton2/software/src/zsh-2003-03-17/Test/D06subscript.ztst: starting.
*** /tmp/zsh.ztst.out.25507	Mon Mar 17 05:44:21 2003
--- /tmp/zsh.ztst.tout.25507	Mon Mar 17 05:44:21 2003
***************
*** 1,4 ****
  1 26 1 26 26
! Twinkle, twinkle, little *, [how] I [wonder] what? ?  You are!
  *, [how] I [wonder] what?  You are!
  ] I [
--- 1,4 ----
  1 26 1 26 26
! Twinkle, twinkle, little *, [how] I [wonder] wha?  ?  You are!
  *, [how] I [wonder] what?  You are!
  ] I [
Test /u/shelton2/software/src/zsh-2003-03-17/Test/D06subscript.ztst failed: output differs from expected as shown above for:
  x='*'
  print $s[(i)*] $s[(i)\*] $s[(i)$x*] $s[(i)${(q)x}*] $s[(I)$x\*]
  print $s[(r)?,(R)\?] $s[(r)\?,(R)?]
  print $s[(r)\*,(R)*]
  print $s[(r)\],(R)\[]
Was testing: Scalar pattern subscripts with wildcards
/u/shelton2/software/src/zsh-2003-03-17/Test/D06subscript.ztst: test failed.
/u/shelton2/software/src/zsh-2003-03-17/Test/E01options.ztst: starting.
*** /tmp/zsh.ztst.out.25517	Mon Mar 17 05:44:27 2003
--- /tmp/zsh.ztst.tout.25517	Mon Mar 17 05:44:27 2003
***************
*** 1,8 ****
! var=/any/old/name
  anything goes/here=/any/old/name
  split=maybe
  not
! var=/any/old/name
  anything goes/here=/any/old/name
  split=maybe not
  var=~
--- 1,8 ----
! var=/any/old/nama
  anything goes/here=/any/old/name
  split=maybe
  not
! var=/any/old/nama
  anything goes/here=/any/old/name
  split=maybe not
  var=~
Test /u/shelton2/software/src/zsh-2003-03-17/Test/E01options.ztst failed: output differs from expected as shown above for:
  fn() {
    local HOME=/any/old/name
    print -l var=~ 'anything goes/here'=~ split=`echo maybe not`;
  }
  setopt magicequalsubst
  fn
  setopt kshtypeset
  fn
  unsetopt magicequalsubst kshtypeset
  fn
Was testing: MAGIC_EQUAL_SUBST option
/u/shelton2/software/src/zsh-2003-03-17/Test/E01options.ztst: test failed.
/u/shelton2/software/src/zsh-2003-03-17/Test/E02xtrace.ztst: starting.
/u/shelton2/software/src/zsh-2003-03-17/Test/E02xtrace.ztst: all tests successful.
/u/shelton2/software/src/zsh-2003-03-17/Test/V01zmodload.ztst: starting.
/u/shelton2/software/src/zsh-2003-03-17/Test/V01zmodload.ztst: all tests successful.
/u/shelton2/software/src/zsh-2003-03-17/Test/V02zregexparse.ztst: starting.
/u/shelton2/software/src/zsh-2003-03-17/Test/V02zregexparse.ztst: all tests successful.
/u/shelton2/software/src/zsh-2003-03-17/Test/Y01completion.ztst: starting.
/u/shelton2/software/src/zsh-2003-03-17/Test/Y01completion.ztst: all tests successful.
/u/shelton2/software/src/zsh-2003-03-17/Test/Y02compmatch.ztst: starting.
/u/shelton2/software/src/zsh-2003-03-17/Test/Y02compmatch.ztst: all tests successful.
/u/shelton2/software/src/zsh-2003-03-17/Test/Y03arguments.ztst: starting.
/u/shelton2/software/src/zsh-2003-03-17/Test/Y03arguments.ztst: all tests successful.
rm -rf Modules .zcompdump
make[1]: Leaving directory `/u/shelton2/software/build/SunOS-5.5/zsh-2003-03-17/Test'


I am seeing no test failures on my Linux machine at home.

Here are the details of my configuration info:

zsh configuration
-----------------
zsh version               : 4.1.0-dev-7
host operating system     : sparc-sun-solaris2.5.1
source code location      : /u/shelton2/software/src/zsh-2003-03-17
compiler                  : gcc
preprocessor flags        : 
executable compiler flags :  -Wall -Wmissing-prototypes -O2
module compiler flags     :  -Wall -Wmissing-prototypes -O2 -fPIC
executable linker flags   :   -s 
module linker flags       :   -s -G
library flags             : -lsocket -ldl -lnsl -lcurses -lm  -lc
installation basename     : zsh
binary install path       : /u/shelton2/software/SunOS-5.5/zsh-2003-03-17/bin
man page install path     : /u/shelton2/software/SunOS-5.5/zsh-2003-03-17/man
info install path         : /u/shelton2/software/SunOS-5.5/zsh-2003-03-17/info
functions install path    : /u/shelton2/software/share/zsh/4.1.0-dev-7/functions
See config.modules for installed modules and functions.


Regards,
  Vin

-- 
In a minute there is time
For decisions and revisions which a minute will reverse.         T.S. Eliot
[URL: http://www.cs.amherst.edu/~ccm/prufrock.html]

