From mdb@cdc.noaa.gov Thu Mar 28 08:50:06 1996
Received: from eplet.mira.net.au (eplet.mira.net.au [203.9.190.17]) by melb.werple.net.au (8.7.5/8.7.3) with ESMTP id IAA01533 for <mason@werple.mira.net.au>; Thu, 28 Mar 1996 08:50:02 +1100 (EST)
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by eplet.mira.net.au (8.7.5/8.7.3) with ESMTP id HAA11585 for <mason@werple.mira.net.au>; Thu, 28 Mar 1996 07:41:16 +1100 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id PAA10519; Wed, 27 Mar 1996 15:17:27 -0500 (EST)
Resent-Date: Wed, 27 Mar 1996 15:17:27 -0500 (EST)
Sender: mdb@cdc.noaa.gov
To: Zoltan Hidvegi <hzoli@cs.elte.hu>
Cc: zsh-workers@math.gatech.edu (Zsh hacking and development)
Subject: Re: Still there's a little zle_refresh bug
Organization: CIRES, University of Colorado
X-Attribution: mb
References: <199603151502.QAA00217@hzoli.ppp.cs.elte.hu>
From: Mark Borges <mdb@cdc.noaa.gov>
Date: 27 Mar 1996 13:16:16 -0700
In-Reply-To: Zoltan Hidvegi's message of Fri, 15 Mar 1996 16:02:05 +0100 (MET)
Message-Id: <vkybom5m27.fsf@suomi.cdc.noaa.gov>
Lines: 30
Resent-Message-ID: <"ABfSM3.0.Ea2.N9QMn"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/864
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu
Content-Length: 1335
Status: OR

Geoff posted a second patch (in article #831) for zle_refresh. Was
that supposed to fix this particular bug (which was posted before the
2nd patch), or not?

If it was, I'm still seeing it on my solaris-2.3/2.5 platforms, and will
invetigate further if it is in fact platform-dependent.

Just curious.

  -mb-

>> On Fri, 15 Mar 1996 16:02:05 +0100 (MET),
>> Zoltan Hidvegi(ZH) wrote:
ZH> The last patch from Geoff really fixes almost all zle_refresh problems
ZH> except one.  This does not happen on all machines.  It is reproducible on
ZH> Linux with ncurses and on Solaris with Linux console or xterm.  Both use
ZH> terminfo.  Type in a long line which appears wrapped on the screen.  Then
ZH> insert a charater near the end of the first screen line, e.g. here -------|
ZH>                                                                           V
ZH> hzoli ~ % 12345678901234567890123456789012345678901234567890123456789|1234567890
ZH> 1234567890

ZH> Here is what happens if you inserted a `*':

ZH> hzoli ~ % 12345678901234567890123456789012345678901234567890123456789|1234*56789
ZH> 00234567890

ZH> As you see the 0 is duplicated on the wrapped line and 1 disappears.
ZH> But this only happens if you insert something after the `|' character above.
ZH> Also there should be at least 10 characters in the second screen line.


