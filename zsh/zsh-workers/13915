From zsh-workers-return-13915-mason-zsh=primenet.com.au@sunsite.dk Fri Apr 06 06:44:06 2001
Return-Path: <zsh-workers-return-13915-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 23030 invoked from network); 6 Apr 2001 06:44:05 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 6 Apr 2001 06:44:05 -0000
Received: (qmail 17618 invoked by alias); 6 Apr 2001 06:44:01 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 13915
Received: (qmail 17594 invoked from network); 6 Apr 2001 06:43:59 -0000
To: zsh-workers@sunsite.auc.dk
Path: mason
From: mason@primenet.com.au (Geoff Wing)
X-Newsgroups: lists.zsh.workers
Subject: BUG: "unset pipestatus" coredump
Date: 6 Apr 2001 06:43:54 GMT
Organization: PrimeNet Computer Consultants
Lines: 36
Distribution: local
Message-ID: <9ajoja$mdn$1@coral.primenet.com.au>
Reply-To: mason@primenet.com.au
NNTP-Posting-Host: coral.primenet.com.au
X-Trace: coral.primenet.com.au 986539434 22967 203.43.15.2 (6 Apr 2001 06:43:54 GMT)
X-Complaints-To: usenet@coral.primenet.com.au
NNTP-Posting-Date: 6 Apr 2001 06:43:54 GMT
User-Agent: slrn/0.9.7.0 (NetBSD)

(gdb) run -f
% unset pipestatus

Program received signal SIGSEGV, Segmentation fault.
0x480ad914 in pipestatsetfn (pm=0x480d45a0, x=0x0) at params.c:2878
2878        for (i = 0; *x && i < MAX_PIPESTATS; i++, x++)
(gdb) bt
#0  0x480ad914 in pipestatsetfn (pm=0x480d45a0, x=0x0) at params.c:2878
#1  0x480ac8e9 in stdunsetfn (pm=0x480d45a0, exp=1) at params.c:2126
#2  0x480ac7bb in unsetparam_pm (pm=0x480d45a0, altflag=0, exp=1)
    at params.c:2063
#3  0x4807951a in bin_unset (name=0x805dcc0 "unset", argv=0xbfbfd3bc, 
    ops=0xbfbfd404 "", func=0) at builtin.c:2348
#4  0x4807428b in execbuiltin (args=0x805dca0, bn=0x480d2424) at builtin.c:367
#5  0x48083ae0 in execcmd (state=0xbfbfd6a8, input=0, output=0, how=18, 
    last1=2) at exec.c:2284
#6  0x480812a1 in execpline2 (state=0xbfbfd6a8, pcode=131, how=18, input=0, 
    output=0, last1=0) at exec.c:1189
#7  0x480809e1 in execpline (state=0xbfbfd6a8, slcode=4098, how=18, last1=0)
    at exec.c:982
#8  0x48080434 in execlist (state=0xbfbfd6a8, dont_change_job=0, exiting=0)
    at exec.c:826
#9  0x480801bc in execode (p=0x805dc50, dont_change_job=0, exiting=0)
    at exec.c:729
#10 0x48092ce0 in loop (toplevel=1, justonce=0) at init.c:152
#11 0x480951e6 in zsh_main (argc=2, argv=0xbfbfd764) at init.c:1201
#12 0x8048836 in main (argc=2, argv=0xbfbfd764) at ./main.c:37
#13 0x80485e1 in ___start ()
(gdb) 


Regards,
-- 
Geoff Wing : <gcw@pobox.com>
Rxvt Stuff : <gcw@rxvt.org>
Zsh Stuff  : <gcw@zsh.org>

