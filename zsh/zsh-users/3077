From zsh-users-return-3077-mason-zsh=primenet.com.au@sunsite.auc.dk Thu May 25 14:36:20 2000
Return-Path: <zsh-users-return-3077-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2081 invoked from network); 25 May 2000 14:36:18 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 25 May 2000 14:36:18 -0000
Received: (qmail 28676 invoked by alias); 25 May 2000 14:35:39 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 3077
Received: (qmail 28669 invoked from network); 25 May 2000 14:35:39 -0000
Date: Thu, 25 May 2000 15:35:07 +0100
From: Peter Stephenson <pws@cambridgesiliconradio.com>
Subject: PATCH: compilation on cygwin
To: zsh-users@sunsite.auc.dk (Zsh users list)
Message-id: <0FV4000GWDUIT8@la-la.cambridgesiliconradio.com>
Content-transfer-encoding: 7BIT

This is the note I'm adding for compilation on cygwin.  It requires a
few recent changes: not using mmap() for memory management (this is in the
zsh-3.1.7-pre-4 pre-release), a missing header needed by zftp, and a
missing function in mathfunc (these aren't).  If anybody thinks the
information is otherwise incorrect, please let me know.

Index: Etc/MACHINES
===================================================================
RCS file: /cvsroot/zsh/zsh/Etc/MACHINES,v
retrieving revision 1.3
diff -u -r1.3 MACHINES
--- Etc/MACHINES	2000/05/01 03:53:05	1.3
+++ Etc/MACHINES	2000/05/25 14:31:21
@@ -25,6 +25,19 @@
 Cray: Unicos (C90 and T90)
 	Should build `out-of-the-box'.
 
+Cygnus Solutions: Cygwin on Intel
+	Should build `out-of-the-box'; dynamic loading does not work
+	(this is automatically detected), though libraries not compiled
+	by default will work (see the file INSTALL for how to add these
+	to the base executable).  In particular zsh/zftp and zsh/mathfunc
+	are known to work.
+
+	There are currently problems installing files, due to the
+	installation scripts not realising the executable has a .exe
+	extension.  For now, copy zsh.exe to the target directory
+	and run `make install.fns; make install.man' in the top-level
+	directory.
+
 Data General: DG/UX 5.4R3.10 MU01 (various AViiONs)
 	Should build `out-of-the-box'.
 

-- 
Peter Stephenson <pws@cambridgesiliconradio.com>
Cambridge Silicon Radio, Unit 300, Science Park, Milton Road,
Cambridge, CB4 0XL, UK                          Tel: +44 (0)1223 392070

