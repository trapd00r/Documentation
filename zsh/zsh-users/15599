From zsh-users-return-15599-mason-zsh=primenet.com.au@zsh.org Fri Dec 03 16:53:21 2010
Return-Path: <zsh-users-return-15599-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18776 invoked by alias); 3 Dec 2010 16:53:21 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 15599
Received: (qmail 11232 invoked from network); 3 Dec 2010 16:53:09 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00,RCVD_IN_DNSWL_LOW,
	SPF_HELO_PASS autolearn=ham version=3.3.1
Received-SPF: none (ns1.primenet.com.au: domain at csr.com does not designate permitted sender hosts)
Date: Fri, 3 Dec 2010 16:09:16 +0000
From: Peter Stephenson <Peter.Stephenson@csr.com>
To: zsh-users@zsh.org
Subject: Re: exit status problem
Message-ID: <20101203160916.42e78913@pwslap01u.europe.root.pri>
In-Reply-To: <20101203152438.GL1727@prunille.vinc17.org>
References: <20101203152438.GL1727@prunille.vinc17.org>
Organization: Cambridge Silicon Radio
X-Mailer: Claws Mail 3.7.6 (GTK+ 2.20.1; i386-redhat-linux-gnu)
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 03 Dec 2010 16:09:16.0828 (UTC) FILETIME=[6F65B5C0:01CB9304]
X-Scanned-By: MailControl A_10_80_00 (www.mailcontrol.com) on 10.71.0.135

On Fri, 3 Dec 2010 16:24:38 +0100
Vincent Lefevre <vincent@vinc17.net> wrote:
> I show the exit status in the prompt, and I have the following
> reproducible problem when I do:
> 
> 1. I type "false".
> 2. I type "sleep 1 &".
> 3. I increase the window width.
> 4. I type [Enter].
> 
> Until step 3, no problem (attached snapshot zshprompt1.png).
> But after 4 (attached snapshot zshprompt2.png), the prompt has been
> redisplayed with exit status 0. But the new prompt is OK.

I don't understand why you don't get status 0 after 2. "sleep 1 &"
should reset it.

-- 
Peter Stephenson <pws@csr.com>            Software Engineer
Tel: +44 (0)1223 692070                   Cambridge Silicon Radio Limited
Churchill House, Cambridge Business Park, Cowley Road, Cambridge, CB4 0WZ, UK


Member of the CSR plc group of companies. CSR plc registered in England and Wales, registered number 4187346, registered office Churchill House, Cambridge Business Park, Cowley Road, Cambridge, CB4 0WZ, United Kingdom

