From zsh-users-return-3333-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Jul 25 13:40:01 2000
Return-Path: <zsh-users-return-3333-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 20549 invoked from network); 25 Jul 2000 13:39:59 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 25 Jul 2000 13:39:59 -0000
Received: (qmail 23858 invoked by alias); 25 Jul 2000 13:39:29 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 3333
Received: (qmail 23851 invoked from network); 25 Jul 2000 13:39:28 -0000
Date: Tue, 25 Jul 2000 15:39:25 +0200 (MET DST)
Message-Id: <200007251339.PAA08266@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-users@sunsite.auc.dk
In-reply-to: Oliver Kiddle's message of Tue, 25 Jul 2000 14:14:37 +0100
Subject: Re: Completion in the first character position


Oliver Kiddle wrote:

> I am writing a shell script where I'm prompting the user to enter
> various information. I'm using vared to read what is entered into a
> variable after using compctl -C to setup completions (and a setopt
> autolist). I could have used the new style completions but it is a
> fairly simple case and I use 3.0.8 where the script will run.
> 
> The problem is that when I press tab to complete in the first character
> position, a tab is inserted and the completions are not listed. This is
> handy at the normal zsh prompt because listing all the commands can be
> time consuming but in my script, it is annoying.
> 
> Is there an option or something to turn this off? I've looked through
> the manual but can't see one. As a feature, it is probably less useful
> with the new completion system because the same can be achieved with a
> style anyway.

Yes, since this is possible in the new completion system (even the
default there, inside vared), I guess we won't add an option for it.

You can use a trick. The tab is only inserted if the last character in 
the key binding used to call the completion code was a tab. So:

  bindkey -s '\t' '\ec'  # or something better than \ec
  bindkey '\ec' complete-word

Ok?

And now you wish for vared-local keymaps, of course ;-)


Bye
 Sven


--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

