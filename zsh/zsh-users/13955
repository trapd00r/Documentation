From zsh-users-return-13955-mason-zsh=primenet.com.au@sunsite.dk Sat Mar 21 11:54:00 2009
Return-Path: <zsh-users-return-13955-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8248 invoked from network); 21 Mar 2009 11:53:57 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 21 Mar 2009 11:53:57 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 23776 invoked from network); 21 Mar 2009 11:53:46 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 21 Mar 2009 11:53:46 -0000
Received: (qmail 16072 invoked by alias); 21 Mar 2009 11:53:28 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 13955
Received: (qmail 6834 invoked from network); 19 Mar 2009 19:46:46 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 19 Mar 2009 19:46:46 -0000
Received: from idmailgate3.unizh.ch (idmailgate3.unizh.ch [130.60.127.102])
	by bifrost.dotsrc.org (Postfix) with ESMTPS id 8B1D082CB4BA
	for <zsh-users@sunsite.dk>; Thu, 19 Mar 2009 20:46:33 +0100 (CET)
Received: from localhost (zilnx55.unizh.ch [130.60.127.87])
	by idmailgate3.unizh.ch (8.14.3/8.13.6/SuSE Linux 0.8) with ESMTP id n2JJkWI3025581
	for <zsh-users@sunsite.dk>; Thu, 19 Mar 2009 20:46:32 +0100
X-Virus-Scanned: amavisd-new at uzh.ch
Received: from idmailgate3.unizh.ch ([130.60.127.102])
	by localhost (virus4.uzh.ch [130.60.127.87]) (amavisd-new, port 10024)
	with LMTP id lbLynmbmpQ7g for <zsh-users@sunsite.dk>;
	Thu, 19 Mar 2009 20:46:26 +0100 (CET)
Received: from kyrios.localnet (dhcp-vpn-89-206-64-9.unizh.ch [89.206.64.9])
	(authenticated bits=0)
	by idmailgate3.unizh.ch (8.14.3/8.14.3/SuSE Linux 0.7) with ESMTP id n2JJkOPh025546
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <zsh-users@sunsite.dk>; Thu, 19 Mar 2009 20:46:26 +0100
From: Freak <freakguard@gmail.com>
To: zsh-users@sunsite.dk
Subject: weird sshfs completion
Date: Thu, 19 Mar 2009 20:47:36 +0100
User-Agent: KMail/1.11.1 (Linux/2.6.28-ARCH; KDE/4.2.1; x86_64; ; )
MIME-Version: 1.0
Content-Disposition: inline
Message-Id: <200903192047.36915.freakguard@gmail.com>
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: ClamAV 0.92.1/9141/Thu Mar 19 17:24:25 2009 on bifrost
X-Virus-Status: Clean

Hello guys, 
(please use CC as I'm not subscribed)

I'm having problems with my sshfs completion. Some Information:
zsh 4.3.9 (x86_64-unknown-linux-gnu)
Distribution: Archlinux

I'm using the config from http://www.jukie.net/~bart/conf/
With some modifications:

hosts=($((
        ( [ -r ~/.ssh/config ] && awk '/^host +[a-z]/ { print $2 }' 
~/.ssh/config) ;\
) | sort -u))

zstyle ':completion:*' hosts $hosts
zstyle ':completion:*' host $hosts
users=(<someusers>)
zstyle ':completion:*' users $users

The problem:
sshfs <tab>
---- remote directory
<users>

