From zsh-workers-return-10888-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Apr 21 14:48:22 2000
Return-Path: <zsh-workers-return-10888-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 26845 invoked from network); 21 Apr 2000 14:48:21 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 21 Apr 2000 14:48:21 -0000
Received: (qmail 11911 invoked by alias); 21 Apr 2000 14:48:12 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 10888
Received: (qmail 11877 invoked from network); 21 Apr 2000 14:48:09 -0000
To: zsh-workers@sunsite.auc.dk
Subject: Re: optional argument?
References: <200004190800.KAA04575@beta.informatik.hu-berlin.de>
MIME-Version: 1.0 (generated by SEMI 1.13.7 - "Awazu")
Content-Type: text/plain; charset=US-ASCII
From: Tanaka Akira <akr@m17n.org>
Date: 21 Apr 2000 23:49:32 +0900
In-Reply-To: <200004190800.KAA04575@beta.informatik.hu-berlin.de>
 (Sven Wischnowsky's message of "Wed, 19 Apr 2000 10:00:05 +0200 (MET DST)")
Message-ID: <hvozoqnik5f.fsf@serein.m17n.org>
Lines: 22
User-Agent: T-gnus/6.14.1 (based on Gnus v5.8.3) (revision 16) SEMI/1.13.7 (Awazu) FLIM/1.13.2 (Kasanui) Emacs/20.6 (i686-pc-linux-gnu) MULE/4.0 (HANANOEN)

In article <200004190800.KAA04575@beta.informatik.hu-berlin.de>,
  Sven Wischnowsky <wischnow@informatik.hu-berlin.de> writes:

> > I think `optional arguments' of _arguments doesn't work now.

> The problem is the `->' case: _arguments can't `add' matches for more
> than one `->state' because it doesn't add any of them.

I realized another problem.

Suppose following situation.

% _tst () { _arguments '-o::optarg:(optarg)' ':arg1:(arg1)' ':arg2:(arg2)' }
% tst -o xxx <TAB>

Because an argument for `-o' is optional, `xxx' is an argument for the
option or first non-option argument.  So, the word to be completed by
<TAB> is first non-option argument or second non-option argument.
Hence `arg1' and `arg2' should be completed.  But I think this is bit
confused and not so useful.
-- 
Tanaka Akira

