From zsh-users-return-13383-mason-zsh=primenet.com.au@sunsite.dk Thu Oct 23 03:08:34 2008
Return-Path: <zsh-users-return-13383-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 22231 invoked from network); 23 Oct 2008 03:08:21 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.4 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 23 Oct 2008 03:08:21 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 32628 invoked from network); 23 Oct 2008 03:08:11 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 23 Oct 2008 03:08:11 -0000
Received: (qmail 29543 invoked by alias); 23 Oct 2008 03:07:48 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 13383
Received: (qmail 29533 invoked from network); 23 Oct 2008 03:07:47 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 23 Oct 2008 03:07:47 -0000
Received: from vms173005pub.verizon.net (vms173005pub.verizon.net [206.46.173.5])
	by bifrost.dotsrc.org (Postfix) with ESMTP id A56C580524C0
	for <zsh-users@sunsite.dk>; Thu, 23 Oct 2008 05:07:31 +0200 (CEST)
Received: from torch.brasslantern.com ([96.238.220.215])
 by vms173005.mailsrvcs.net
 (Sun Java System Messaging Server 6.2-6.01 (built Apr  3 2006))
 with ESMTPA id <0K9600KAY8OGS642@vms173005.mailsrvcs.net> for
 zsh-users@sunsite.dk; Wed, 22 Oct 2008 22:07:29 -0500 (CDT)
Received: from torch.brasslantern.com (localhost.localdomain [127.0.0.1])
	by torch.brasslantern.com (8.13.1/8.13.1) with ESMTP id m9N37SsJ026856	for
 <zsh-users@sunsite.dk>; Wed, 22 Oct 2008 20:07:28 -0700
Received: (from schaefer@localhost)	by torch.brasslantern.com
 (8.13.1/8.13.1/Submit) id m9N37RRo026855	for zsh-users@sunsite.dk; Wed,
 22 Oct 2008 20:07:27 -0700
Date: Wed, 22 Oct 2008 20:07:26 -0700
From: Bart Schaefer <schaefer@brasslantern.com>
Subject: Re: dynamic globbing for cdpath?
In-reply-to: <2B9B10D6-AAED-44B3-AC90-F3EE210A9083@mac.com>
To: Zsh Users <zsh-users@sunsite.dk>
Message-id: <081022200727.ZM26854@torch.brasslantern.com>
MIME-version: 1.0
X-Mailer: OpenZMail Classic (0.9.2 24April2005)
Content-type: text/plain; charset=us-ascii
References: <2B9B10D6-AAED-44B3-AC90-F3EE210A9083@mac.com>
Comments: In reply to "Eric D. Friedman" <eric_friedman@mac.com>
 "dynamic globbing for cdpath?" (Oct 22, 12:24pm)
X-Virus-Scanned: ClamAV 0.92.1/8470/Wed Oct 22 17:13:42 2008 on bifrost
X-Virus-Status: Clean

On Oct 22, 12:24pm, Eric D. Friedman wrote:
}
} Is it possible to have an entry in cdpath that contains a shell
} globbing pattern that gets reevaulated when I press cd <TAB> ?

You're really asking two almost-unrelated questions here.

The cdpath value might be used by completion, but where it really
matters is when you type "cd somewhere<RETURN>" without completing
first.  No, it's not possible to introduce a glob into that.

What's your objection to resetting cdpath?  You could do it in your
precmd function, for example, so you never have to notice it.

As for the completion-related part of your question, you can use
the fake-files style.  Although the name of the style implies that
the files might not really be there, you can populate the value
with actual files if you want to.  Start with something like this:

zstyle -e ':completion:*' fake-files \
	'reply=($HOME/*/branches); reply=(:"${(@)reply#$HOME/}")' 

Then tweak to suit your preferred behavior.

-- 

