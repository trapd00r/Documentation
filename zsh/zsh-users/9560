From zsh-users-return-9560-mason-zsh=primenet.com.au@sunsite.dk Tue Oct 25 23:54:57 2005
Return-Path: <zsh-users-return-9560-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4797 invoked from network); 25 Oct 2005 23:54:54 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 25 Oct 2005 23:54:54 -0000
Received: (qmail 4369 invoked from network); 25 Oct 2005 23:54:45 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 25 Oct 2005 23:54:45 -0000
Received: (qmail 10546 invoked by alias); 25 Oct 2005 23:54:40 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 9560
Received: (qmail 10536 invoked from network); 25 Oct 2005 23:54:39 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 25 Oct 2005 23:54:39 -0000
Received: (qmail 3483 invoked from network); 25 Oct 2005 23:54:39 -0000
Received: from p54850b6a.dip0.t-ipconnect.de (HELO solfire) (84.133.11.106)
  by a.mx.sunsite.dk with SMTP; 25 Oct 2005 23:54:37 -0000
Received: from localhost ([127.0.0.1])
	by solfire with esmtp (Exim 4.42)
	id 1EUYcr-0006NV-2k; Wed, 26 Oct 2005 01:54:44 +0200
Date: Wed, 26 Oct 2005 01:54:40 +0200 (CEST)
Message-Id: <20051026.015440.92583413.Meino.Cramer@gmx.de>
To: vincent@vinc17.org
Cc: zsh-users@sunsite.dk
From: Meino Christian Cramer <Meino.Cramer@gmx.de>
In-Reply-To: <20051025084527.GK3741@ay.vinc17.org>
References: <20051025.050856.41172296.Meino.Cramer@gmx.de>
	<fb6be96e0510242027r7b07429dh6ca31f55846079e7@mail.gmail.com>
	<20051025084527.GK3741@ay.vinc17.org>
X-Mailer: Mew version 4.1 on Emacs 21.3 / Mule 5.0 (SAKAKI)
Mime-Version: 1.0
X-SA-Exim-Connect-IP: 127.0.0.1
X-SA-Exim-Rcpt-To: vincent@vinc17.org, zsh-users@sunsite.dk
X-SA-Exim-Mail-From: Meino.Cramer@gmx.de
Subject: Re: Compare directories the most efficient way
Content-Type: Text/Plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
X-SA-Exim-Version: 4.1+cvs (built Sat, 28 Aug 2004 13:10:40 +0200)
X-SA-Exim-Scanned: Yes (on solfire)
X-Spam-Checker-Version: SpamAssassin 3.0.4 (2005-06-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.4

From: Vincent Lefevre <vincent@vinc17.org>
Subject: Re: Compare directories the most efficient way
Date: Tue, 25 Oct 2005 10:45:27 +0200

> On 2005-10-25 12:27:28 +0900, Jean Chalard wrote:
> > >  There are two identical directory trees with binary stuff in it =
but
> > >  with a different prefix for example:
> > >   /home/user/onetree/.
> > >  and
> > >   /home/user/theothertree/.
> > =

> > I think I may have missed something here, because I can't see why
> > something like
> > =

> > for i in onetree/**/*; do cmp -- "$i" "${i/onetree/theothertree}"; =
done
> > =

> > ...wouldn't work.
> =

> Several problems:
>   * If there's a file in theothertree that doesn't exist in onetree,
>     you won't see the corresponding error.
>   * I think you should use something like onetree/**/*(D^/) to includ=
e
>     files starting with a dot, but not directories.
>   * If there are special files (symlinks...), this is even more
>     complicated.
> =

> "diff -r" (possibly with -q) from the diffutils is probably a better
> choice.

Hi,

 yes, indeed....there are dotted files in there...even directories are
 dotted...and not found with the pattern above.

 I didn't choose diff, since I wanted a more common (or is "general"
 the better choice?)  solution in case of haveing the task to feed two
 corresponding files to a program, which "does" something with that
 input.

 keep zshing!
 Meino


 =

> -- =

> Vincent Lef=E8vre <vincent@vinc17.org> - Web: <http://www.vinc17.org/=
>
> 100% accessible validated (X)HTML - Blog: <http://www.vinc17.org/blog=
/>
> Work: CR INRIA - computer arithmetic / SPACES project at LORIA
> =

