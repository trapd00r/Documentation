From zsh-workers-return-15225-mason-zsh=primenet.com.au@sunsite.dk Tue Jul 03 11:32:38 2001
Return-Path: <zsh-workers-return-15225-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 21923 invoked from network); 3 Jul 2001 11:32:37 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 3 Jul 2001 11:32:37 -0000
Received: (qmail 3414 invoked by alias); 3 Jul 2001 11:31:38 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 15225
Received: (qmail 3386 invoked from network); 3 Jul 2001 11:31:37 -0000
Message-Id: <200107031132.f63BWNa26307@goro.asahi-net.or.jp>
To: zsh-workers@sunsite.dk
Subject: Re: zsh-4.0.[12] won't "configure"
In-reply-to: Your message of "Tue, 03 Jul 2001 09:52:29 JST."
             <000d01c10384$588b38d0$21c9ca95@mow.siemens.ru>
Date: Tue, 03 Jul 2001 20:22:18 +0900
From: Seiichi Namba <sn@asahi-net.email.ne.jp>
Lines: 43

--------
Thank you Andrej Borsenkow, and Bart Schaefer for your quick responses.

In message <000d01c10384$588b38d0$21c9ca95@mow.siemens.ru>,
   "Andrej Borsenkow" writes:
> > See config.modules for installed modules and functions.
> >
> > creating Config/defs.mk
> > sed: Couldn't open file ./Config/funcinst.mk
> 
> 
> You must have broken sed. funcinst.mk was removed in 3.1.9-dev-8 when
> config.modules was introduced. It still hangs around, but it should not harm
> in any way; look:

I saw, and cited the sed messages, but I did not noticed that it was
the culprit.  Indeed my /usr/bin/sed is:

$ sed-1.18-mbyte-extension-1.03 --version
GNU sed version 1.18 + multi-byte extension 1.03

which is very old Japanized version, on which my Japanese word
processing scripts built in years depend so much that still I can't
replace -- some newer Japanized versions exists but there are lots of
difference aside this issue.  Actually the two sed's behave
differently as Andrej pointed out:

$ echo aaa | sed-1.18-mbyte-extension-1.03 '/aaa/r /tmp/IN-EXISTING'; echo $?
sed-1.18-mbyte-extension-1.03: Couldn't open file /tmp/IN-EXISTING
4
$ echo aaa | sed-3.02 '/aaa/r /tmp/IN-EXISTING; echo $?
aaa
0

After all I compiled zsh with replacing /usr/bin/sed symlink to
sed-3.02, but I am glad that if you could change zshconfig.ac (or any
other file) as the Andrej's patch since there may be still another old
GNU sed in someone's /usr/bin.

Thank you.

S.Namba <sn@asahi-net.email.ne.jp>
http://www.asahi-net.or.jp/~pi9s-nnb/

