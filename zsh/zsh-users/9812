From zsh-users-return-9812-mason-zsh=primenet.com.au@sunsite.dk Thu Jan 05 23:55:13 2006
Return-Path: <zsh-users-return-9812-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 570 invoked from network); 5 Jan 2006 23:55:11 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.0 (2005-09-13) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=BAYES_00,FORGED_RCVD_HELO 
	autolearn=ham version=3.1.0
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 5 Jan 2006 23:55:11 -0000
Received: (qmail 2374 invoked from network); 5 Jan 2006 23:55:05 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 5 Jan 2006 23:55:05 -0000
Received: (qmail 23140 invoked by alias); 5 Jan 2006 23:54:56 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 9812
Received: (qmail 23128 invoked from network); 5 Jan 2006 23:54:55 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 5 Jan 2006 23:54:55 -0000
Received: (qmail 1025 invoked from network); 5 Jan 2006 23:54:55 -0000
Received: from pop03.mail.atl.earthlink.net (207.69.200.48)
  by a.mx.sunsite.dk with SMTP; 5 Jan 2006 23:54:54 -0000
Received: from h-68-166-5-97.atlngahp.dynamic.covad.net ([68.166.5.97] helo=shazam.localnet)
	by pop03.mail.atl.earthlink.net with esmtp (Exim 3.36 #10)
	id 1EuewW-0006fo-00
	for zsh-users@sunsite.dk; Thu, 05 Jan 2006 18:54:52 -0500
Received: from jhankins by shazam.localnet with local (Exim 3.36 #1 (Debian))
	id 1EuewV-0001Qu-00
	for <zsh-users@sunsite.dk>; Thu, 05 Jan 2006 17:54:51 -0600
From: Jonathan Hankins <jonathan-hankins@mindspring.com>
To: <zsh-users@sunsite.dk>
Subject: Re: math, percentage
References: <024d01c60dd7$576ed990$931fa8c0@venti>
	<20051231072500.GJ39217@dan.emsphone.com>
	<00df01c60e4a$fb8d2d60$931fa8c0@venti>
	<488030720601041505g7a9aee72nc8ebcf1bde13b3a4@mail.gmail.com>
	<00af01c611b2$a287fdb0$951fa8c0@venti>
Date: Thu, 05 Jan 2006 17:54:51 -0600
In-Reply-To: <00af01c611b2$a287fdb0$951fa8c0@venti> (Brian K. White's message
	of "Wed, 4 Jan 2006 23:43:54 -0500")
Message-ID: <87ek3m9qno.fsf@shazam.localnet>
User-Agent: Gnus/5.110004 (No Gnus v0.4) Emacs/21.4 (gnu/linux)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Sender: Jonathan Hankins <jonathan-hankins@mindspring.com>

"Brian K. White" <brian@aljex.com> writes:

> explicitly on the bang line. My biggest item about ksh93 lately is
> that it has a built-in sleep that takes floating point values. I have
> things that really do want a "sleep .1", and anything that wants that,
> by definition also really wants it built-in, not to fork a child and
> load an executable every time. No other shell anywhere has that that
> I've found. (hint!)  Perl has nap() and probably other popular non

According to zshmodules(1), you can use zselect to sleep with
approximately 1/100 sec. granulatiry.

typeset -F SECONDS
zmodload -i zsh/zselect
print $SECONDS
# sleep for 1/5 sec
zselect -t 20
print $SECONDS

On my system, this gives:

922.1230270000
922.3312820000

-Jonathan Hankins

-- 
+------------------+-----------------------------------------------------+
|Jonathan Hankins  | 		       	 jonathan-hankins@mindspring.com |
+------------------+-----------------------------------------------------+

