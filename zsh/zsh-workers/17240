From zsh-workers-return-17240-mason-zsh=primenet.com.au@sunsite.dk Tue May 28 10:45:22 2002
Return-Path: <zsh-workers-return-17240-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13461 invoked from network); 28 May 2002 10:45:21 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 28 May 2002 10:45:21 -0000
Received: (qmail 24044 invoked by alias); 28 May 2002 10:45:08 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 17240
Received: (qmail 24028 invoked from network); 28 May 2002 10:45:05 -0000
X-VirusChecked: Checked
In-reply-to: <15603.16487.588260.866988@wischnow.berkom.de>
From: Oliver Kiddle <okiddle@yahoo.co.uk>
References: <15603.16487.588260.866988@wischnow.berkom.de>
To: Zsh workers <zsh-workers@sunsite.dk>
Subject: Re: Menu selection
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-ID: <30822.1022582605.1@logica.com>
Date: Tue, 28 May 2002 11:44:33 +0100
Sender: kiddleo@logica.com
Message-Id: <E17CeSv-0008Jc-00@bimbo.logica.co.uk>

On 28 May, Sven wrote:

> I can't find the message now, but Bart said that searching in menu
> selection would be nice to have. This patch doesn't do that, but...

Yes, something similar to history-incremental-search-forward/backward
might be useful (and I'd probably bind it to the same keys).

> It makes completion be re-tried after every selfinsert-key. This is a
> bit like incremental searchin, only that the whole completion list
> changes to include only the set of possible matches. As always, undo
> can be used to go back to previous lists. For easier testing, the
> patch makes every selfinsert-key show this behaviour unconditionally.
> In a final patch I think there should be a key to toggle between this
> behaviour and the usual one (leaving menu selection, inserting the
> character into the line). And probably a way to set the default
> behaviour (i.e. when menu selection is first entered).

It is an interesting idea. I'm not sure whether or not I'd use it
or not. With this toggle key for the final patch, we might want to
have a key which invokes this direct from the command line (as opposed
to from menu selection). Also, the interactive: prompt should perhaps
be always displayed when this behaviour is active and not only after
the first character is added. In fact, I think it would be better to
use the real prompt for these characters or move the cursor down instead
of using `[]'.

> Also, the behaviour of send-break (^G) after one has inserted some
> more characters is arguable. Currently it leaves the additional
> characters on the line. Maybe the line should go back to the state
> when menu selection was entered. Or maybe a undo should remove all
> characters added during menu selection.

I think the best would be if undo removed all the characters as you
suggest and backspace could be used to do what undo currently does.
It'd be nice if backspace worked that way regardless of what undo does.
Additionally, tab might fill in any further characters common to all
the remaining matches.

Oliver

This e-mail and any attachment is for authorised use by the intended recipient(s) only.  It may contain proprietary material, confidential information and/or be subject to legal privilege.  It should not be copied, disclosed to, retained or used by, any other party.  If you are not an intended recipient then please promptly delete this e-mail and any attachment and all copies and inform the sender.  Thank you.

