From zsh-users-return-11757-mason-zsh=primenet.com.au@sunsite.dk Sat Aug 11 23:08:11 2007
Return-Path: <zsh-users-return-11757-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 25741 invoked from network); 11 Aug 2007 23:08:09 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.1 (2007-05-02) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.1
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 11 Aug 2007 23:08:09 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 459 invoked from network); 11 Aug 2007 23:08:02 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 11 Aug 2007 23:08:02 -0000
Received: (qmail 24208 invoked by alias); 11 Aug 2007 23:07:52 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 11757
Received: (qmail 24198 invoked from network); 11 Aug 2007 23:07:51 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 11 Aug 2007 23:07:51 -0000
Received: (qmail 98999 invoked from network); 11 Aug 2007 23:07:51 -0000
Received: from mailout4.artfiles.de (212.48.105.80)
  by a.mx.sunsite.dk with SMTP; 11 Aug 2007 23:07:47 -0000
Received: from [80.252.97.8] (helo=mail.artfiles.de)
	by mailout4.artfiles.de with esmtp (Exim 4.67)
	id 1IK03e-00043H-Oy
	for zsh-users@sunsite.dk; Sun, 12 Aug 2007 01:07:46 +0200
Received: (qmail 21958 invoked by uid 508); 11 Aug 2007 23:07:46 -0000
Received: from unknown (HELO localhost) (sschober@sssm.de@88.65.74.245)
  by 0 with SMTP; 11 Aug 2007 23:07:46 -0000
From: Sven Schober <sv3sch@yahoo.de>
Reply-To: sv3sch@yahoo.de
To: zsh-users@sunsite.dk
Subject: xterm scroll-back problem os x
Date: Sun, 12 Aug 2007 01:06:41 +0200
User-Agent: KMail/1.9.5
MIME-Version: 1.0
Content-Type: multipart/signed;
  boundary="nextPart3684090.ay7W1r59Jq";
  protocol="application/pgp-signature";
  micalg=pgp-sha1
Content-Transfer-Encoding: 7bit
Message-Id: <200708120106.46456.sv3sch@yahoo.de>

--nextPart3684090.ay7W1r59Jq
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi folks!

I'm really not all that sure if this is the right place to ask, but after a=
=20
lot of experimenting i don't know where else to ask:

The problem i'm seeing is that pressing shift + pageup in a zsh session won=
't=20
work as expected (scroll up one/half a screen and _stay_ there), instead th=
e=20
screen gets scrolled back quickly but returns back to the bottom immediatel=
y=20
(but slow enough for me to notice that it scrolled at all).=20

Now, the reason why the screen returns to the bottom is that pressing shift=
 +=20
pageup prints 5;2~ to the tty (and keeps repeating until i release the shif=
t=20
key) and the scrollTtyOutput Xresource defaults to true. Setting this to=20
false circumvents the return to bottom behaviour, but i'd have to=20
scroll-forwd manually to the bottom then, after inspecting some longish=20
programm ouput, so this is no solution...

I tried the following in my ~/.Xresources

*VT100.Translations: #override\
Shift <Key>Prior:  scroll-back(1,page) \n\
=2E..

that didn't help either. but leaving out the Shift, only mapping scroll-bac=
k=20
to pageup/Prior works...

The strange thing is, starting a bash session and trying this, it works as=
=20
expected... otherwise i would not post this message on this list *g*.

hitting ^V in zsh tells me shift + pageup sends ^[[25;2~ . now i suspected=
=20
something is catching the ^[[2 prefix, and interprets that as scroll-back,=
=20
but leaves the 5;2~, which then gets printed out to the shell, causing the=
=20
trouble...(i tried bindkey'ing 5;2~ to undefined-key, but that didn't help=
=20
either).

Now, i don't know where to look any further... this is quite puzzling...
Maybe some of you might have an idea?

tia,
 Sven

=2D-=20
Sven Schober <sv3sch@yahoo.de>      Tel:  0179 50 60 182
Web:    http://sv3sch.sssm.de       ICQ:  81854171
Jabber: sv3sch@jabber.ccc.de        MSN:  hagbard17@nexgo.de

--nextPart3684090.ay7W1r59Jq
Content-Type: application/pgp-signature

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.5 (GNU/Linux)

iD8DBQBGvkEG41RzuWPbjLgRAkacAJ4vyrP6/OgheOD6CUPO5CDeuLzX5wCeP68W
1bn2a+/sGt/BUpFsE3OMOXQ=
=mXMe
-----END PGP SIGNATURE-----

--nextPart3684090.ay7W1r59Jq--

