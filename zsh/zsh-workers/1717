From mdb@cdc.noaa.gov Sat Jul 20 02:40:59 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by melb.werple.net.au (8.7.5/8.7.3/2) with ESMTP id CAA21993 for <mason@werple.mira.net.au>; Sat, 20 Jul 1996 02:40:57 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id MAA22014; Fri, 19 Jul 1996 12:35:35 -0400 (EDT)
Resent-Date: Fri, 19 Jul 1996 12:35:35 -0400 (EDT)
Date: Fri, 19 Jul 1996 10:34:39 -0600
Message-Id: <199607191634.KAA01460@suomi.cdc.noaa.gov>
From: Mark Borges <mdb@cdc.noaa.gov>
To: ZSH mailing list <zsh-workers@math.gatech.edu>
Subject: [3.0-pre3] job completion notification bug?
Organization: CIRES, University of Colorado
X-Attribution: mb
Resent-Message-ID: <"R7Rsb3.0.vN5.Nbxxn"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/1717
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu
Content-Length: 1246
Status: O

I just noticed that my zsh-3.0-pre3 no longer notifies me when a job
started in the foreground and later bg'd completes:

  $ sleep 5
  ^Z
  zsh: 22727 suspended  sleep 5
  $ bg
  [1]  + continued  sleep 5
  $ jobs
  $

But it must be some option interaction, as it works as advertised when
invoked with `-f':

  $ ~/bin/sunos-5.5/zsh-3.0-pre3 -f
  % setopt
  bgnice
  hashcmds
  hashdirs
  hashlistall
  interactive
  monitor
  norcs
  notify
  shinstdin
  zle
  % sleep 5
  ^Z
  zsh: suspended  sleep 5
  % bg
  [1]  + continued  sleep 5
  %
  [1]  + done       sleep 5
  %

Before I waste a day toggling various option combinations to find the
culprit, does anyone know offhand what could be the problem? Here are
my normal options:

  $ setopt
  appendhistory
  autocd
  autolist
  automenu
  autoparamslash
  autopushd
  cdablevars
  completeinword
  correct
  correctall
  extendedglob
  extendedhistory
  globdots
  hashcmds
  hashdirs
  hashlistall
  histallowclobber
  histignoredups
  interactive
  listambiguous
  login
  longlistjobs
  monitor
  noclobber
  noflowcontrol
  nonomatch
  notify
  numericglobsort
  pushdignoredups
  pushdminus
  pushdsilent
  pushdtohome
  rcquotes
  shinstdin
  sunkeyboardhack
  zle
  $

-- 
  -mb-


