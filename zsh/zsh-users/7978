From zsh-users-return-7978-mason-zsh=primenet.com.au@sunsite.dk Wed Sep 08 08:11:15 2004
Return-Path: <zsh-users-return-7978-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 12094 invoked from network); 8 Sep 2004 08:11:15 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 8 Sep 2004 08:11:15 -0000
Received: (qmail 53098 invoked from network); 8 Sep 2004 08:11:09 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 8 Sep 2004 08:11:09 -0000
Received: (qmail 1340 invoked by alias); 8 Sep 2004 08:10:23 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 7978
Received: (qmail 1326 invoked from network); 8 Sep 2004 08:10:23 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 8 Sep 2004 08:10:23 -0000
Received: (qmail 51916 invoked from network); 8 Sep 2004 08:10:22 -0000
Received: from main.gmane.org (80.91.224.249)
  by a.mx.sunsite.dk with SMTP; 8 Sep 2004 08:10:21 -0000
Received: from root by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1C4xX2-00084v-00
	for <zsh-users@sunsite.dk>; Wed, 08 Sep 2004 10:10:20 +0200
Received: from ppp159-52.lns1.mel2.internode.on.net ([150.101.159.52])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <zsh-users@sunsite.dk>; Wed, 08 Sep 2004 10:10:20 +0200
Received: from boyd-adamson by ppp159-52.lns1.mel2.internode.on.net with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <zsh-users@sunsite.dk>; Wed, 08 Sep 2004 10:10:20 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: zsh-users@sunsite.dk
From: Boyd Adamson <boyd-adamson@usa.net>
Subject: _describe usage
Date: Wed, 08 Sep 2004 18:06:57 +1000
Lines: 44
Message-ID: <87n00118wu.fsf@eddy.tactio.lan>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: ppp159-52.lns1.mel2.internode.on.net
User-Agent: Gnus/5.1006 (Gnus v5.10.6) Emacs/21.3 (gnu/linux)
Cancel-Lock: sha1:FdJApN/GKePX2XQuIiJnpq0A2MU=
Sender: news <news@sea.gmane.org>
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: *
X-Spam-Status: No, hits=1.5 required=6.0 tests=BAYES_44,RCVD_IN_SORBS 
	autolearn=no version=2.63
X-Spam-Hits: 1.5

Hi,

I'm working on my first completion code for a non-trivial command, and I
don't understand what _describe is doing (or how to get it to do what I
want).

What I want is to see something like this in menu selection:
fruit
apple   banana
animal
cat     dog   

I've tried a couple of approaches. My reading of the man page seems to
imply I can do this:

    rts=(apple banana)
    srts=(cat dog)
    _describe "fruit" rts -- "animal" srts

But that gets me this:

jarrah:/# scrgadm -a -j blah -t <tab>
fruit
        apple   banana

and if I menuselect to the blank position under "fruit" I get "cat" on
the commmand line!

I also tried this:

    rts=(apple banana)
    srts=(cat dog)
    _describe "fruit" rts 
    _describe "animal" srts 

But then I see:

jarrah:/# scrgadm -a -j blah -t <tab>
fruit
animal
apple   banana  cat     dog   


What am I doing wrong?

