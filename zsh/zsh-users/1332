From zsh-workers-request@math.gatech.edu Fri Feb 20 02:48:34 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 28350 invoked from network); 20 Feb 1998 02:48:33 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 20 Feb 1998 02:48:33 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id VAA27556;
	Thu, 19 Feb 1998 21:30:22 -0500 (EST)
Resent-Date: Thu, 19 Feb 1998 21:30:01 -0500 (EST)
Date: Thu, 19 Feb 1998 19:31:33 -0700
From: stephen.talley@Central.Sun.COM (Steve Talley)
Message-Id: <199802200231.TAA11243@empire.Central.Sun.COM>
To: zsh-users@math.gatech.edu, pws@ifh.de
Subject: Re: Completion on word prefix only (tcsh-style)
X-Sun-Charset: US-ASCII
Resent-Message-ID: <"D3isG2.0.yj6.egExq"@math>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/1332
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

> > Is there an option to force zsh to only look at a prefix on
> > completion?  This seems to be the default in tcsh, but I can't get it
> > to work for zsh.
> 
> The command is called expand-or-complete-prefix.  If you bind it to
> tab, you will probably get something like tcsh behaviour.

This appeared to work initially, but now completion for "cd" doesn't
work beyond the first directory level:

With expand-or-complete-prefix:

% cd /etc/[TAB]

produces no matches.

With expand-or-complete, it works fine:

% cd /etc/[TAB]
acct/      fn/        lp/        rc2.d/     snmp/
cron.d/    fs/        mail/      rc3.d/     tm/
default/   http/      net/       rcS.d/     uucp/
dfs/       inet/      openwin/   saf/
dhcp/      init.d/    opt/       security/
dmi/       lib/       rc0.d/     skel/
dt/        log@       rc1.d/     ski/

I'm using the simple completion

compctl -g '*(-/)' cd

Is this a bug?

Thanks,

Steve

