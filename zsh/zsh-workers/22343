From zsh-workers-return-22343-mason-zsh=primenet.com.au@sunsite.dk Tue Mar 14 03:58:12 2006
Return-Path: <zsh-workers-return-22343-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 19793 invoked from network); 14 Mar 2006 03:58:10 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.0 (2005-09-13) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00,
	FORGED_RCVD_HELO autolearn=ham version=3.1.0
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 14 Mar 2006 03:58:10 -0000
Received: (qmail 63542 invoked from network); 14 Mar 2006 03:58:04 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 14 Mar 2006 03:58:04 -0000
Received: (qmail 10149 invoked by alias); 14 Mar 2006 03:58:01 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 22343
Received: (qmail 10139 invoked from network); 14 Mar 2006 03:58:00 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 14 Mar 2006 03:58:00 -0000
Received: (qmail 63212 invoked from network); 14 Mar 2006 03:58:00 -0000
Received: from vms044pub.verizon.net (206.46.252.44)
  by a.mx.sunsite.dk with SMTP; 14 Mar 2006 03:57:58 -0000
Received: from torch.brasslantern.com ([71.116.81.225])
 by vms044.mailsrvcs.net (Sun Java System Messaging Server 6.2-4.02 (built Sep
 9 2005)) with ESMTPA id <0IW3003K2N0K8FA0@vms044.mailsrvcs.net> for
 zsh-workers@sunsite.dk; Mon, 13 Mar 2006 21:57:57 -0600 (CST)
Received: from torch.brasslantern.com (localhost.localdomain [127.0.0.1])
	by torch.brasslantern.com (8.13.1/8.13.1) with ESMTP id k2E40Dxw017900	for
 <zsh-workers@sunsite.dk>; Mon, 13 Mar 2006 20:00:13 -0800
Received: (from schaefer@localhost)	by torch.brasslantern.com
 (8.13.1/8.13.1/Submit) id k2E408Yt017899	for zsh-workers@sunsite.dk; Mon,
 13 Mar 2006 20:00:08 -0800
Date: Mon, 13 Mar 2006 20:00:07 -0800
From: Bart Schaefer <schaefer@brasslantern.com>
Subject: Re: hashcmd path
In-reply-to: <20060314033129.GA9783@scowler.net>
To: zsh-workers@sunsite.dk
Message-id: <060313200008.ZM17898@torch.brasslantern.com>
MIME-version: 1.0
X-Mailer: OpenZMail Classic (0.9.2 24April2005)
Content-type: text/plain; charset=us-ascii
References: <20060314033129.GA9783@scowler.net>
Comments: In reply to Clint Adams <clint@zsh.org>        "hashcmd path" (Mar
 13, 10:31pm)

On Mar 13, 10:31pm, Clint Adams wrote:
}
} What is the purpose of calling hashcmd() in execcmd() with the value of
} pathchecked rather than path?

The intent -- whether it still works I'm not sure -- is to hash as much
of the path as has been searched, and then the next time a command is
not found in the part already searched, hash some more.  The hash table
thus never contains more than necessary.

This is entirely irrelevant in the face of completion, which always
forces the entire path to be hashed up front, but it holds down memory
usage of non-interactive shells.

