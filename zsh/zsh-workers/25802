From zsh-workers-return-25802-mason-zsh=primenet.com.au@sunsite.dk Fri Oct 03 01:13:36 2008
Return-Path: <zsh-workers-return-25802-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 27839 invoked from network); 3 Oct 2008 01:13:33 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.9 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 3 Oct 2008 01:13:33 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 3978 invoked from network); 3 Oct 2008 01:13:13 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 3 Oct 2008 01:13:13 -0000
Received: (qmail 22342 invoked by alias); 3 Oct 2008 01:12:57 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 25802
Received: (qmail 22317 invoked from network); 3 Oct 2008 01:12:55 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 3 Oct 2008 01:12:55 -0000
Received: from uucp.gnuu.de (banki.eumelnet.de [83.246.114.63])
	by bifrost.dotsrc.org (Postfix) with ESMTP id BE89F8030847
	for <zsh-workers@sunsite.dk>; Fri,  3 Oct 2008 03:12:51 +0200 (CEST)
Received: by uucp.gnuu.de (Postfix, from userid 10)
	id 74412488009; Fri,  3 Oct 2008 03:12:26 +0200 (CEST)
X-DKIM: Sendmail DKIM Filter v2.5.2 uucp.gnuu.de 74412488009
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=gnuu.de; s=banki;
	t=1222996366; i=@alea.gnuu.de; bh=klwzF0VKTB3/iSFhGN5hd7kwzMjq+UqoH
	hqEQMz7JOE=; h=To:From:Subject:Date:Message-ID:References:
	 Mime-Version:Content-Type:Content-Transfer-Encoding:Sender; b=vJmA
	tA9XjXxdeG67PgGkuRNlV3Hv/t9MvVNB7kjkgI6TGjHjrMBHF54LF6ZWS0gI3DXp3fF
	7leWAUkJXihTGs7wyHE79DRpfrT2p1clSpyz995Z4njiJ7OHodHdIwcr1JUJB3cLsQ7
	B+PXts2jwIOMtpGiQsKJpdkuvbNGLGDtI=
Received: from news by alea.gnuu.de with local (Exim 4.63)
	(envelope-from <news@alea.gnuu.de>)
	id 1KlZCB-0001hW-Vu
	for zsh-workers@sunsite.dk; Fri, 03 Oct 2008 03:11:04 +0200
To: zsh-workers@sunsite.dk
Path: not-for-mail
From: =?UTF-8?Q?J=C3=B6rg?= Sommer <joerg@alea.gnuu.de>
Newsgroups: local.mailinglist.zsh
Subject: Re: [PATCH] Completion for chrt and ionice
Date: Fri, 3 Oct 2008 01:11:03 +0000 (UTC)
Lines: 50
Message-ID: <slrngeas97.1r3.joerg@alea.gnuu.de>
References: <slrngdckpi.23d.joerg@alea.gnuu.de>
 <slrngdfjd7.1rn.joerg@alea.gnuu.de>
Mime-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
X-Trace: alea.gnuu.de 1222996263 6540 192.168.0.5 (3 Oct 2008 01:11:03 GMT)
X-Complaints-To: usenet@alea.gnuu.de
User-Agent: slrn/0.9.9 (Linux)
Sender: news <news@alea.gnuu.de>
X-Virus-Scanned: ClamAV 0.92.1/8372/Thu Oct  2 17:21:47 2008 on bifrost
X-Virus-Status: Clean

Hallo,

Jörg Sommer <joerg@alea.gnuu.de> wrote:
> commit e2da3b57bfa4145811aa3b3921edb329b7bef1f7
> Author: Jörg Sommer <joerg@alea.gnuu.de>
> Date:   Mon Sep 22 16:54:28 2008 +0200
>
>     The pid for -p must follow the option
>     
>     The process ID is the mandatory argument of the -p option.
>
> diff --git a/Completion/Linux/Command/_ionice b/Completion/Linux/Command/_ionice
> index fd49dcd..b7cd21b 100644
> --- a/Completion/Linux/Command/_ionice
> +++ b/Completion/Linux/Command/_ionice
> @@ -1,23 +1,12 @@
>  #compdef ionice
>  
> -local context state line
> -typeset -A opt_args
> -
>  _arguments \
>    '(* -)-h[display usage information]' \
> -  '-p[interpret args as process ID]' \
> +  '(*)-p[interpret args as process ID]:pid:_pids' \
                                         ^^^^^^^^^^
Why this is missing in 25717?

>    '-c[scheduling class]:class:(( 1\:realtime 2\:best-effort 3\:idle ))' \
>    '-n[scheduling class priority]:class-pririty:((
>      0\:high\ priority
>      {6..1}\:
>      7\:low\ priority
>    ))' \
> -  '*::command or pid:->cmd_or_prio' \
> -  && return 0
> -
> -if (( $+opt_args[-p] ))
> -then
> -    _pids
> -else
> -    _normal
> -fi
> +  '*::command:_normal'

Bye, Jörg.
-- 
Computer Science is no more about Computers than astronomy is about
telescopes.
            (Edsger Wybe Dijkstra)

