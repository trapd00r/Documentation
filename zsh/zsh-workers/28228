From zsh-workers-return-28228-mason-zsh=primenet.com.au@zsh.org Sun Sep 05 19:11:58 2010
Return-Path: <zsh-workers-return-28228-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 3034 invoked by alias); 5 Sep 2010 19:11:58 -0000
Mailing-List: contact zsh-workers-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Workers List <zsh-workers.zsh.org>
List-Post: <mailto:zsh-workers@zsh.org>
List-Help: <mailto:zsh-workers-help@zsh.org>
Delivered-To: mailing list zsh-workers@zsh.org
X-Seq: 28228
Received: (qmail 10891 invoked from network); 5 Sep 2010 19:11:57 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-1.9 required=5.0 tests=BAYES_00,RCVD_IN_DNSWL_NONE
	autolearn=ham version=3.3.1
Received-SPF: none (ns1.primenet.com.au: domain at closedmail.com does not designate permitted sender hosts)
From: Bart Schaefer <schaefer@brasslantern.com>
Message-id: <100905121143.ZM9610@torch.brasslantern.com>
Date: Sun, 05 Sep 2010 12:11:43 -0700
In-reply-to: <m3vd6oyyz5.fsf@klanderman.net>
Comments: In reply to Greg Klanderman <greg@klanderman.net>
 "Re: have '&' automatically disown?" (Sep  2, 10:57am)
References: <201002072134.o17LYj66005365@pws-pc.ntlworld.com>
	<100207143647.ZM9122@torch.brasslantern.com>	<m3vd6oyyz5.fsf@klanderman.net>
X-Mailer: OpenZMail Classic (0.9.2 24April2005)
To: zsh-workers@zsh.org
Subject: Re: have '&' automatically disown?
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii

On Sep 2, 10:57am, Greg Klanderman wrote:
}
} Would it make sense to auto-disown if both nomonitor and nohup are set?

After thinking about this for a while, the answer I get is "almost."

The remaining difference between "disown" and "unsetopt hup monitor" is
whether the job appears in the output of "jobs" (and, by extension, in
the $jobstates et al. variables).  Well, OK, strictly speaking there is
also the difference of what ancestor reaps the child when it finally
does exit, but that's almost invisible to an interactive shell user.

Nevertheless, one might still wish to have access to the job's state
and PID even if the only way to control it is with "kill".

I'm concluding that the only reasonable way to auto-disown, other than
the precmd hook solutions offered on zsh-users, is with a new option.
There are too many side-effects of disowning to add that semantics to
any existing set of options.

