From zsh-users-return-8689-mason-zsh=primenet.com.au@sunsite.dk Mon Apr 18 04:52:14 2005
Return-Path: <zsh-users-return-8689-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13776 invoked from network); 18 Apr 2005 04:52:13 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 18 Apr 2005 04:52:13 -0000
Received: (qmail 10797 invoked from network); 18 Apr 2005 04:52:07 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 18 Apr 2005 04:52:07 -0000
Received: (qmail 1408 invoked by alias); 18 Apr 2005 04:51:59 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8689
Received: (qmail 1398 invoked from network); 18 Apr 2005 04:51:58 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 18 Apr 2005 04:51:58 -0000
Received: (qmail 9801 invoked from network); 18 Apr 2005 04:51:58 -0000
Received: from lakermmtao06.cox.net (68.230.240.33)
  by a.mx.sunsite.dk with SMTP; 18 Apr 2005 04:51:53 -0000
Received: from quark.hightek.org ([68.12.75.33]) by lakermmtao06.cox.net
          (InterMail vM.6.01.04.00 201-2131-118-20041027) with ESMTP
          id <20050418045150.MLA21504.lakermmtao06.cox.net@quark.hightek.org>
          for <zsh-users@sunsite.dk>; Mon, 18 Apr 2005 00:51:50 -0400
Received: by quark.hightek.org (Postfix, from userid 501)
	id 490CB45857; Sun, 17 Apr 2005 23:51:41 -0500 (CDT)
Date: Sun, 17 Apr 2005 23:51:41 -0500
From: Vincent Stemen <zsh@hightek.org>
To: zsh-users@sunsite.dk
Subject: Cannot export some shell variables
Message-ID: <20050418045141.GA68582@quark.hightek.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.4.1i
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=6.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.6

Hi.

Some shell variables do not seem to export to child shells.  Two
variable names I know of so far are $y and $r.  Is there something
special about certain variable names that could cause this behavior?

For example:

# export x=1 y=2 z=3 q=4 r=5
# env
...
SAVEHIST=500
DIRSTACKSIZE=8
x=1
y=2
z=3
q=4
r=5

# zsh
# env
...
SAVEHIST=500
DIRSTACKSIZE=8
x=1
z=3
q=4

As you can see, they are all in the environment before running a child
shell.

I unset all shell options to make sure no options were somehow causing
it (That one has gotten me several times before) but it did not make
any difference.

I tested under two different releases of zsh on two different
platforms:
  zsh 4.2.1 (i386--netbsdelf)
  zsh 4.2.0 (i386-unknown-freebsd5.2.1)

and got the same result.  It also does the same thing if I use the
allexport option rather than exporting them individually.

I also did the same test under both sh and bash and did not have that
problem.

Any ideas?

--
Vincent Stemen
Avoid the VeriSign/Network Solutions domain registration trap!
Read how Network Solutions (NSI) was involved in stealing our domain name.
http://www.InetAddresses.net

