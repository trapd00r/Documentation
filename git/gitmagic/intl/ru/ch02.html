<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
  <meta name="generator" content=
  "HTML Tidy for Linux (vers 25 March 2009), see www.w3.org">
  <meta http-equiv="Content-Type" content=
  "text/html; charset=utf-8">

  <title>Волшебство Git - Глава 2. Базовые операции</title>
  <link rel="stylesheet" href="default.css" type="text/css">
  <meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
  <link rel="home" href="index.html" title="Волшебство Git">
  <link rel="up" href="index.html" title="Волшебство Git">
  <link rel="prev" href="ch01.html" title="Глава 1. Введение">
  <link rel="next" href="ch03.html" title=
  "Глава 3. Все о клонировании">
</head>

<body bgcolor="white" text="black" link="#0000FF" vlink="#840084"
alink="#0000FF">
    <div class="toc">
      <ul>
<li><b>Волшебство Git</b></li>
        <li><span class="preface"><a href="index.html">От редактора
        перевода</a></span></li>

        <li>
          <span class="preface"><a href=
          "pr02.html">Предисловие</a></span>

          <ul>
            <li><span class="section"><a href=
            "pr02.html#_%D0%B1%D0%BB%D0%B0%D0%B3%D0%BE%D0%B4%D0%B0%D1%80%D0%BD%D0%BE%D1%81%D1%82%D0%B8">
            Благодарности</a></span></li>

            <li><span class="section"><a href=
            "pr02.html#_%D0%BB%D0%B8%D1%86%D0%B5%D0%BD%D0%B7%D0%B8%D1%8F">
            Лицензия</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch01.html">1.
          Введение</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch01.html#_%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0_%D1%8D%D1%82%D0%BE_%D0%B8%D0%B3%D1%80%D0%B0">
            Работа - это игра</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B2%D0%B5%D1%80%D1%81%D0%B8%D1%8F%D0%BC%D0%B8">
            Управление версиями</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_%D1%80%D0%B0%D1%81%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%BD%D0%BE%D0%B5_%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5">
            Распределенное управление</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_%D0%B3%D0%BB%D1%83%D0%BF%D1%8B%D0%B5_%D0%BF%D1%80%D0%B5%D0%B4%D1%80%D0%B0%D1%81%D1%81%D1%83%D0%B4%D0%BA%D0%B8">
            Глупые предрассудки</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_%D0%BA%D0%BE%D0%BD%D1%84%D0%BB%D0%B8%D0%BA%D1%82%D1%8B_%D0%BF%D1%80%D0%B8_%D1%81%D0%BB%D0%B8%D1%8F%D0%BD%D0%B8%D0%B8">
            Конфликты при слиянии</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch02.html">2. Базовые
          операции</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch02.html#_%D1%81%D0%BE%D1%85%D1%80%D0%B0%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5_%D1%81%D0%BE%D1%81%D1%82%D0%BE%D1%8F%D0%BD%D0%B8%D1%8F">
            Сохранение состояния</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_%D0%B4%D0%BE%D0%B1%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D1%83%D0%B4%D0%B0%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D0%B5%D1%80%D0%B5%D0%B8%D0%BC%D0%B5%D0%BD%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5">
            Добавление, удаление, переименование</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_%D1%80%D0%B0%D1%81%D1%88%D0%B8%D1%80%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5_%D0%BE%D1%82%D0%BC%D0%B5%D0%BD%D0%B0_%D0%B2%D0%BE%D0%B7%D0%B2%D1%80%D0%B0%D1%82">
            Расширенные отмена/возврат</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_%D0%BE%D1%82%D0%BA%D0%B0%D1%82%D1%8B">Откаты</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5_%D1%81%D0%BF%D0%B8%D1%81%D0%BA%D0%B0_%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B9">
            Создание списка изменений</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_%D1%81%D0%BA%D0%B0%D1%87%D0%B8%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2">
            Скачивание файлов</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_%D0%B4%D0%B5%D1%80%D0%B6%D0%B0_%D1%80%D1%83%D0%BA%D1%83_%D0%BD%D0%B0_%D0%BF%D1%83%D0%BB%D1%8C%D1%81%D0%B5">
            Держа руку на пульсе</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_%D0%B1%D0%B5%D0%B7%D0%BE%D1%82%D0%BB%D0%B0%D0%B3%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F_%D0%BF%D1%83%D0%B1%D0%BB%D0%B8%D0%BA%D0%B0%D1%86%D0%B8%D1%8F">
            Безотлагательная публикация</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_%D1%87%D1%82%D0%BE_%D1%8F_%D1%81%D0%B4%D0%B5%D0%BB%D0%B0%D0%BB">
            Что я сделал?</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_%D1%83%D0%BF%D1%80%D0%B0%D0%B6%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5">
            Упражнение</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch03.html">3. Все о
          клонировании</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch03.html#_%D1%81%D0%B8%D0%BD%D1%85%D1%80%D0%BE%D0%BD%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F_%D0%BA%D0%BE%D0%BC%D0%BF%D1%8C%D1%8E%D1%82%D0%B5%D1%80%D0%BE%D0%B2">
            Синхронизация компьютеров</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_%D0%BA%D0%BB%D0%B0%D1%81%D1%81%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5_%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B8%D1%81%D1%85%D0%BE%D0%B4%D0%BD%D1%8B%D0%BC_%D0%BA%D0%BE%D0%B4%D0%BE%D0%BC">
            Классическое управление исходным кодом</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_%D0%B3%D0%BE%D0%BB%D1%8B%D0%B5_bare_%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B0">
            Голые (bare) хранилища</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_push_%D0%B8%D0%BB%D0%B8_pull">Push или
            pull?</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5_%D1%84%D0%BE%D1%80%D0%BA%D0%B0_%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B0">
            Создание форка проекта</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_%D0%BC%D0%B0%D0%BA%D1%81%D0%B8%D0%BC%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5_%D0%B1%D1%8D%D0%BA%D0%B0%D0%BF%D1%8B">
            Максимальные бэкапы</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_%D0%BC%D0%BD%D0%BE%D0%B3%D0%BE%D0%B7%D0%B0%D0%B4%D0%B0%D1%87%D0%BD%D0%BE%D1%81%D1%82%D1%8C_%D1%81%D0%BE_%D1%81%D0%BA%D0%BE%D1%80%D0%BE%D1%81%D1%82%D1%8C%D1%8E_%D1%81%D0%B2%D0%B5%D1%82%D0%B0">
            Многозадачность со скоростью света</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_%D0%BF%D0%B0%D1%80%D1%82%D0%B8%D0%B7%D0%B0%D0%BD%D1%81%D0%BA%D0%BE%D0%B5_%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B2%D0%B5%D1%80%D1%81%D0%B8%D1%8F%D0%BC%D0%B8">
            Партизанское управление версиями</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_mercurial">Mercurial</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_bazaar">Bazaar</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_%D0%BF%D0%BE%D1%87%D0%B5%D0%BC%D1%83_%D1%8F_%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D1%83%D1%8E_git">
            Почему я использую Git</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch04.html">4. Чудеса
          ветвления</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch04.html#_%D0%BA%D0%BD%D0%BE%D0%BF%D0%BA%D0%B0_%D0%B1%D0%BE%D1%81%D1%81%D0%B0">
            Кнопка босса</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_%D0%B3%D1%80%D1%8F%D0%B7%D0%BD%D0%B0%D1%8F_%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0">
            Грязная работа</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_%D0%B1%D1%8B%D1%81%D1%82%D1%80%D1%8B%D0%B5_%D0%B8%D1%81%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F">
            Быстрые исправления</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_%D1%81%D0%BB%D0%B8%D1%8F%D0%BD%D0%B8%D1%8F">
            Слияния</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_%D0%BD%D0%B5%D0%BF%D1%80%D0%B5%D1%80%D1%8B%D0%B2%D0%BD%D1%8B%D0%B9_%D1%80%D0%B0%D0%B1%D0%BE%D1%87%D0%B8%D0%B9_%D0%BF%D1%80%D0%BE%D1%86%D0%B5%D1%81%D1%81">
            Непрерывный рабочий процесс</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D1%8F%D0%B5%D0%BC_%D1%81%D0%BE%D1%81%D1%82%D0%B0%D0%B2_%D1%81%D0%BC%D0%B5%D1%81%D0%B8">
            Изменяем состав смеси</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B2%D0%B5%D1%82%D0%BA%D0%B0%D0%BC%D0%B8">
            Управление Ветками</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_%D0%B2%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5_%D0%B2%D0%B5%D1%82%D0%BA%D0%B8">
            Временные Ветки</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D0%B9%D1%82%D0%B5_%D0%BA%D0%B0%D0%BA_%D0%B2%D0%B0%D0%BC_%D0%BD%D1%80%D0%B0%D0%B2%D0%B8%D1%82%D1%81%D1%8F">
            Работайте как вам нравится</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch05.html">5. Уроки
          истории</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch05.html#_%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D0%B0%D1%8F%D1%81%D1%8C_%D0%BA%D0%BE%D1%80%D1%80%D0%B5%D0%BA%D1%82%D0%BD%D1%8B%D0%BC">
            Оставаясь корректным</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_%D0%B8_%D0%BA%D0%BE%D0%B5_%D1%87%D1%82%D0%BE_%D0%B5%D1%89%D0%B5">
            …И кое-что еще</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5_%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D1%8F_%D1%81%D0%BE%D1%85%D1%80%D0%B0%D0%BD%D1%8F%D1%8E%D1%82%D1%81%D1%8F">
            Локальные изменения сохраняются</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_%D0%BF%D0%B5%D1%80%D0%B5%D0%BF%D0%B8%D1%81%D1%8B%D0%B2%D0%B0%D1%8F_%D0%B8%D1%81%D1%82%D0%BE%D1%80%D0%B8%D1%8E">
            Переписывая историю</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D0%B2%D0%B0%D1%8F_%D0%B8%D1%81%D1%82%D0%BE%D1%80%D0%B8%D1%8E">
            Создавая Историю</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_%D0%BA%D0%BE%D0%B3%D0%B4%D0%B0_%D0%B6%D0%B5_%D0%B2%D1%81%D0%B5_%D0%BF%D0%BE%D1%88%D0%BB%D0%BE_%D0%BD%D0%B5_%D1%82%D0%B0%D0%BA">
            Когда же все пошло не так?</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_%D0%B8%D0%B7_%D0%B7%D0%B0_%D0%BA%D0%BE%D0%B3%D0%BE_%D0%B2%D1%81%D0%B5_%D0%BF%D0%BE%D1%88%D0%BB%D0%BE_%D0%BD%D0%B5_%D1%82%D0%B0%D0%BA">
            Из-за кого все пошло не так?</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_%D0%BB%D0%B8%D1%87%D0%BD%D1%8B%D0%B9_%D0%BE%D0%BF%D1%8B%D1%82">
            Личный опыт</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch06.html">6.
          Многопользовательский Git</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch06.html#_%D0%BA%D1%82%D0%BE_%D1%8F">Кто
            я?</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_git_%D1%87%D0%B5%D1%80%D0%B5%D0%B7_ssh_http">
            Git через SSH, HTTP</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_git_%D1%87%D0%B5%D1%80%D0%B5%D0%B7_%D1%87%D1%82%D0%BE_%D1%83%D0%B3%D0%BE%D0%B4%D0%BD%D0%BE">
            Git через что угодно</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_%D0%BF%D0%B0%D1%82%D1%87%D0%B8_%D0%BE%D0%B1%D1%89%D0%B5%D0%B5_%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5">
            Патчи: общее применение</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_%D0%BF%D1%80%D0%B8%D0%BD%D0%BE%D1%81%D0%B8%D0%BC_%D0%B8%D0%B7%D0%B2%D0%B8%D0%BD%D0%B5%D0%BD%D0%B8%D1%8F_%D0%BC%D1%8B_%D0%BF%D0%B5%D1%80%D0%B5%D0%B5%D1%85%D0%B0%D0%BB%D0%B8">
            Приносим извинения, мы переехали</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_%D1%83%D0%B4%D0%B0%D0%BB%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5_%D0%B2%D0%B5%D1%82%D0%BA%D0%B8">
            Удаленные ветки</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_%D0%BD%D0%B5%D1%81%D0%BA%D0%BE%D0%BB%D1%8C%D0%BA%D0%BE_%D1%83%D0%B4%D0%B0%D0%BB%D0%B5%D0%BD%D0%BD%D1%8B%D1%85_%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89">
            Несколько удаленных хранилищ</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_%D0%BC%D0%BE%D0%B8_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8">
            Мои Настройки</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch07.html">7.
          Гроссмейстерство Git</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch07.html#_%D1%80%D0%B5%D0%BB%D0%B8%D0%B7%D1%8B_%D0%B8%D1%81%D1%85%D0%BE%D0%B4%D0%BD%D0%B8%D0%BA%D0%BE%D0%B2">
            Релизы исходников</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_%D0%BA%D0%BE%D0%BC%D0%BC%D0%B8%D1%82_%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B9">
            Коммит изменений</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_%D0%BC%D0%BE%D0%B9_%D0%BA%D0%BE%D0%BC%D0%BC%D0%B8%D1%82_%D1%81%D0%BB%D0%B8%D1%88%D0%BA%D0%BE%D0%BC_%D0%B2%D0%B5%D0%BB%D0%B8%D0%BA">
            Мой коммит слишком велик</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_%D0%B8%D0%BD%D0%B4%D0%B5%D0%BA%D1%81_%D0%B1%D1%83%D1%84%D0%B5%D1%80%D0%BD%D0%B0%D1%8F_%D0%B7%D0%BE%D0%BD%D0%B0_git">
            Индекс — буферная зона Git</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_%D0%BD%D0%B5_%D1%82%D0%B5%D1%80%D1%8F%D0%B9_%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D1%8B">
            Не теряй «головы»</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_%D0%BE%D1%85%D0%BE%D1%82%D0%B0_%D0%B7%D0%B0_%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%B0%D0%BC%D0%B8">
            Охота за «головами»</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_git_%D0%BA%D0%B0%D0%BA_%D0%BE%D1%81%D0%BD%D0%BE%D0%B2%D0%B0">
            Git как основа</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_%D1%80%D0%B8%D1%81%D0%BA%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D1%8B%D0%B5_%D1%82%D1%80%D1%8E%D0%BA%D0%B8">
            Рискованные трюки</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_%D0%BF%D1%80%D0%B5%D0%B4%D0%BE%D1%82%D0%B2%D1%80%D0%B0%D1%89%D0%B0%D0%B5%D0%BC_%D0%BF%D0%BB%D0%BE%D1%85%D0%B8%D0%B5_%D0%BA%D0%BE%D0%BC%D0%BC%D0%B8%D1%82%D1%8B">
            Предотвращаем плохие коммиты</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch08.html">8. Раскрываем
          тайны</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch08.html#_%D0%BD%D0%B5%D0%B2%D0%B8%D0%B4%D0%B8%D0%BC%D0%BE%D1%81%D1%82%D1%8C">
            Невидимость</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_%D1%86%D0%B5%D0%BB%D0%BE%D1%81%D1%82%D0%BD%D0%BE%D1%81%D1%82%D1%8C">
            Целостность</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_%D0%B8%D0%BD%D1%82%D0%B5%D0%BB%D0%BB%D0%B5%D0%BA%D1%82">
            Интеллект</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_%D0%B8%D0%BD%D0%B4%D0%B5%D0%BA%D1%81%D0%B0%D1%86%D0%B8%D1%8F">
            Индексация</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_%D0%BF%D1%80%D0%BE%D0%B8%D1%81%D1%85%D0%BE%D0%B6%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5_git">
            Происхождение Git</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_%D0%B1%D0%B0%D0%B7%D0%B0_%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85_%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%D0%BE%D0%B2">
            База данных объектов</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_%D0%B1%D0%BB%D0%BE%D0%B1%D1%8B">Блобы</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_%D0%B4%D0%B5%D1%80%D0%B5%D0%B2%D1%8C%D1%8F">
            Деревья</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_%D0%BA%D0%BE%D0%BC%D0%BC%D0%B8%D1%82%D1%8B">
            Коммиты</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_%D0%BD%D0%B5%D0%BE%D1%82%D0%BB%D0%B8%D1%87%D0%B8%D0%BC%D0%BE_%D0%BE%D1%82_%D0%B2%D0%BE%D0%BB%D1%88%D0%B5%D0%B1%D1%81%D1%82%D0%B2%D0%B0">
            Неотличимо от волшебства</a></span></li>
          </ul>
        </li>

        <li>
          <span class="appendix"><a href="apa.html">A. Недостатки
          Git</a></span>

          <ul>
            <li><span class="section"><a href=
            "apa.html#_%D1%81%D0%BB%D0%B0%D0%B1%D0%BE%D1%81%D1%82%D0%B8_sha1">
            Слабости SHA1</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_microsoft_windows">Microsoft
            Windows</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_%D0%BD%D0%B5%D1%81%D0%B2%D1%8F%D0%B7%D0%B0%D0%BD%D0%BD%D1%8B%D0%B5_%D1%84%D0%B0%D0%B9%D0%BB%D1%8B">
            Несвязанные файлы</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_%D0%BA%D1%82%D0%BE_%D0%B8_%D1%87%D1%82%D0%BE_%D1%80%D0%B5%D0%B4%D0%B0%D0%BA%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BB">
            Кто и что редактировал ?</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_%D0%B8%D1%81%D1%82%D0%BE%D1%80%D0%B8%D1%8F_%D1%84%D0%B0%D0%B9%D0%BB%D0%B0">
            История файла</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_%D0%BD%D0%B0%D1%87%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B5_%D0%BA%D0%BB%D0%BE%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5">
            Начальное Клонирование</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D1%87%D0%B8%D0%B2%D1%8B%D0%B5_%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D1%8B">
            Изменчивые Проекты</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_%D0%B3%D0%BB%D0%BE%D0%B1%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9_%D1%81%D1%87%D0%B5%D1%82%D1%87%D0%B8%D0%BA">
            Глобальный счетчик</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_%D0%BF%D1%83%D1%81%D1%82%D1%8B%D0%B5_%D0%BF%D0%BE%D0%B4%D0%BA%D0%B0%D1%82%D0%B0%D0%BB%D0%BE%D0%B3%D0%B8">
            Пустые подкаталоги</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_%D0%BF%D0%B5%D1%80%D0%B2%D0%BE%D0%BD%D0%B0%D1%87%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9_%D0%BA%D0%BE%D0%BC%D0%BC%D0%B8%D1%82">
            Первоначальный коммит</a></span></li>

            <li><span class="section"><a href=
            "apa.html#_%D0%BF%D1%80%D0%B8%D1%87%D1%83%D0%B4%D1%8B_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D0%B0">
            Причуды интерфейса</a></span></li>
          </ul>
        </li>

        <li><span class="appendix"><a href="apb.html">B. Перевод
        этого руководства</a></span></li>
      </ul>
    </div>
<div class="content">
  <div class="chapter" title="Глава 2. Базовые операции">
    <div class="titlepage">
      <div>
        <div>
          <h2 class="title"><a name=
          "_%D0%B1%D0%B0%D0%B7%D0%BE%D0%B2%D1%8B%D0%B5_%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8">
          </a>Глава 2. Базовые операции</h2>
        </div>
      </div>
    </div>

    <p>Прежде чем погружаться в дебри многочисленных команд Git,
    попробуйте воспользоваться приведенными ниже простыми
    примерами, чтобы немного освоиться. Каждый из них полезен,
    несмотря на свою простоту. На самом деле первые месяцы
    использования Git я не выходил за рамки материала этой
    главы.</p>

    <div class="section" title="Сохранение состояния">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_%D1%81%D0%BE%D1%85%D1%80%D0%B0%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5_%D1%81%D0%BE%D1%81%D1%82%D0%BE%D1%8F%D0%BD%D0%B8%D1%8F">
            </a>Сохранение состояния</h2>
          </div>
        </div>
      </div>

      <p>Собираетесь попробовать внести некие радикальные
      изменения? Предварительно создайте снимок всех файлов в
      текущем каталоге с помощью команд</p>
      <pre class="literallayout">
$ git init
$ git add .
$ git commit -m "Моя первая резервная копия"
</pre>

      <p>Теперь, если новые правки всё испортили, можно
      восстановить первоначальную версию:</p>
      <pre class="literallayout">
$ git reset --hard
</pre>

      <p>Чтобы вновь сохранить состояние:</p>
      <pre class="literallayout">
$ git commit -a -m "Другая резервная копия"
</pre>
    </div>

    <div class="section" title=
    "Добавление, удаление, переименование">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_%D0%B4%D0%BE%D0%B1%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D1%83%D0%B4%D0%B0%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D0%B5%D1%80%D0%B5%D0%B8%D0%BC%D0%B5%D0%BD%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5">
            </a>Добавление, удаление, переименование</h2>
          </div>
        </div>
      </div>

      <p>Приведенный выше пример отслеживает только те файлы,
      которые существовали при первом запуске <span class=
      "strong"><strong>git add</strong></span>. Если вы создали
      новые файлы или подкаталоги, придется сказать Git'у:</p>
      <pre class="literallayout">
$ git add readme.txt Documentation
</pre>

      <p>Аналогично, если хотите, чтобы Git забыл о некоторых
      файлах:</p>
      <pre class="literallayout">
$ git rm ляп.h старье.c
$ git rm -r улики/
</pre>

      <p>Git удалит эти файлы, если вы не удалили их сами.</p>

      <p>Переименование файла — это то же, что удаление старого
      имени и добавления нового. Для этого есть <span class=
      "strong"><strong>git mv</strong></span>, которая имеет тот же
      синтаксис, что и команда <span class=
      "strong"><strong>mv</strong></span>. Например:</p>
      <pre class="literallayout">
$ git mv bug.c feature.c
</pre>
    </div>

    <div class="section" title="Расширенные отмена/возврат">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_%D1%80%D0%B0%D1%81%D1%88%D0%B8%D1%80%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5_%D0%BE%D1%82%D0%BC%D0%B5%D0%BD%D0%B0_%D0%B2%D0%BE%D0%B7%D0%B2%D1%80%D0%B0%D1%82">
            </a>Расширенные отмена/возврат</h2>
          </div>
        </div>
      </div>

      <p>Иногда просто хочется вернуться назад и забыть все
      изменения до определенного момента, потому что все они были
      неправильными. В таком случае</p>
      <pre class="literallayout">
$ git log
</pre>

      <p>покажет список последних коммитов и их хеши SHA1:</p>
      <pre class="screen">
commit 766f9881690d240ba334153047649b8b8f11c664
Author: Bob &lt;bob@example.com&gt;
Date:   Tue Mar 14 01:59:26 2000 -0800

    Заменил printf() на write().

commit 82f5ea346a2e651544956a8653c0f58dc151275c
Author: Alice &lt;alice@example.com&gt;
Date:   Thu Jan 1 00:00:00 1970 +0000

    Начальный коммит.
</pre>

      <p>Для указания коммита достаточно первых нескольких символов
      его хеша, но можете скопировать и весь хеш. Наберите:</p>
      <pre class="literallayout">
$ git reset --hard 766f
</pre>

      <p>для восстановления состояния до указанного коммита и
      удаления всех последующих безвозвратно.</p>

      <p>Возможно, в другой раз вы захотите быстро перескочить к
      старому состоянию. В этом случае наберите</p>
      <pre class="literallayout">
$ git checkout 82f5
</pre>

      <p>Эта команда перенесет вас назад во времени, сохранив при
      этом более новые коммиты. Однако, как и в фантастических
      фильмах о путешествиях во времени, если теперь вы
      отредактируете и закоммитите код, то попадете в
      альтернативную реальность, потому что ваши действия
      отличаются от тех, что были в прошлый раз.</p>

      <p>Эта альтернативная реальность называется «веткой» (branch,
      прим. пер.), и <a class="link" href="ch04.html#branch">чуть
      позже мы поговорим об этом подробнее</a>. А сейчас просто
      запомните, что команда</p>
      <pre class="literallayout">
$ git checkout master
</pre>

      <p>вернет вас обратно в настоящее. Кроме того, чтобы не
      получать предупреждений от Git, всегда делайте commit или
      сбрасывайте изменения перед запуском checkout.</p>

      <p>Еще раз воспользуемся аналогией с компьютерными
      играми:</p>

      <div class="itemizedlist">
        <ul class="itemizedlist">
          <li class="listitem"><span class="strong"><strong>git
          reset --hard</strong></span>: загружает ранее сохраненную
          игру и удаляет все версии, сохраненные после только что
          загруженной.</li>

          <li class="listitem"><span class="strong"><strong>git
          checkout</strong></span>: загружает старую игру, но если
          вы продолжаете играть, состояние игры будет отличаться от
          более новых сохранений, которые вы сделали в первый раз.
          Любая игра, которую вы теперь сохраняете, попадает в
          отдельную ветку, представляющую альтенативную реальность,
          в которую вы попали. <a class="link" href=
          "ch04.html#branch">Мы обсудим это позже</a>.</li>
        </ul>
      </div>

      <p>Можно также восстановить только определенные файлы и
      подкаталоги, перечислив их имена после команды:</p>
      <pre class="literallayout">
$ git checkout 82f5 какой-то.файл другой.файл
</pre>

      <p>Будьте внимательны: такая форма <span class=
      "strong"><strong>checkout</strong></span> может молча
      перезаписать файлы. Чтобы избежать неприятных неожиданностей,
      выполняйте commit перед checkout, особенно если вы только
      изучаете Git. Вообще, если вы не уверены в какой-либо
      операции, будь то команда Git или нет, выполните
      предварительно <span class="strong"><strong>git commit
      -a</strong></span>.</p>

      <p>Не любите копировать и вставлять хеши? Используйте</p>
      <pre class="literallayout">
$ git checkout :/"Моя первая р"
</pre>

      <p>для перехода на коммит, чье описание начинается с
      приведенной строки.</p>

      <p>Можно также запросить 5-ое с конца сохраненное
      состояние:</p>
      <pre class="literallayout">
$ git checkout master~5
</pre>
    </div>

    <div class="section" title="Откаты">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_%D0%BE%D1%82%D0%BA%D0%B0%D1%82%D1%8B"></a>Откаты</h2>
          </div>
        </div>
      </div>

      <p>В зале суда пункты протокола могут вычеркиваться прямо во
      время слушания. Подобным образом и вы можете выбирать коммиты
      для отмены.</p>
      <pre class="literallayout">
$ git commit -a
$ git revert 1b6d
</pre>

      <p>отменит коммит с заданным хешем. Откат будет сохранен в
      виде нового коммита. Можете запустить <span class=
      "strong"><strong>git log</strong></span>, чтобы убедиться в
      этом.</p>
    </div>

    <div class="section" title="Создание списка изменений">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5_%D1%81%D0%BF%D0%B8%D1%81%D0%BA%D0%B0_%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B9">
            </a>Создание списка изменений</h2>
          </div>
        </div>
      </div>

      <p>Некоторым проектам нужен <a class="ulink" href=
      "http://en.wikipedia.org/wiki/Changelog" target="_top">список
      изменений</a> (changelog, прим. пер.). Создайте его такой
      командой:</p>
      <pre class="literallayout">
$ git log &gt; ChangeLog
</pre>
    </div>

    <div class="section" title="Скачивание файлов">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_%D1%81%D0%BA%D0%B0%D1%87%D0%B8%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2">
            </a>Скачивание файлов</h2>
          </div>
        </div>
      </div>

      <p>Получить копию проекта под управлением Git можно,
      набрав</p>
      <pre class="literallayout">
$ git clone git://сервер/путь/до/файлов
</pre>

      <p>Например, чтобы получить все файлы, которые я использовал
      для создания этого документа,</p>
      <pre class="literallayout">
$ git clone git://git.or.cz/gitmagic.git
</pre>

      <p>Позже мы поговорим о команде <span class=
      "strong"><strong>clone</strong></span> подробнее.</p>
    </div>

    <div class="section" title="Держа руку на пульсе">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_%D0%B4%D0%B5%D1%80%D0%B6%D0%B0_%D1%80%D1%83%D0%BA%D1%83_%D0%BD%D0%B0_%D0%BF%D1%83%D0%BB%D1%8C%D1%81%D0%B5">
            </a>Держа руку на пульсе</h2>
          </div>
        </div>
      </div>

      <p>Если вы уже загрузили копию проекта с помощью <span class=
      "strong"><strong>git clone</strong></span>, можете обновить
      ее до последней версии, используя</p>
      <pre class="literallayout">
$ git pull
</pre>
    </div>

    <div class="section" title="Безотлагательная публикация">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_%D0%B1%D0%B5%D0%B7%D0%BE%D1%82%D0%BB%D0%B0%D0%B3%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F_%D0%BF%D1%83%D0%B1%D0%BB%D0%B8%D0%BA%D0%B0%D1%86%D0%B8%D1%8F">
            </a>Безотлагательная публикация</h2>
          </div>
        </div>
      </div>

      <p>Допустим, вы написали скрипт, которым хотите поделиться с
      другими. Можно просто предложить им скачивать его с вашего
      компьютера, но если они будут делать это когда вы
      дорабатываете его или добавляете экспериментальную
      функциональность, у них могут возникнуть проблемы. Очевидно,
      поэтому и существуют циклы разработки. Разработчики могут
      постоянно работать над проектом, но общедоступным они делают
      свой код только после того, как приведут его в приличный
      вид.</p>

      <p>Чтобы сделать это с помощью Git, выполните в каталоге, где
      лежит ваш скрипт,</p>
      <pre class="literallayout">
$ git init
$ git add .
$ git commit -m "Первый релиз"
</pre>

      <p>Затем скажите вашим пользователям запустить</p>
      <pre class="literallayout">
$ git clone ваш.компьютер:/путь/до/скрипта
</pre>

      <p>чтобы загрузить ваш скрипт. Здесь подразумевается, что у
      них есть доступ по ssh. Если нет, запустите <span class=
      "strong"><strong>git daemon</strong></span> и скажите
      пользователям запустить эту команду вместо
      вышеприведенной:</p>
      <pre class="literallayout">
$ git clone git://ваш.компьютер/путь/до/скрипта
</pre>

      <p>С этих пор всякий раз, когда ваш скрипт готов к релизу,
      выполняйте</p>
      <pre class="literallayout">
$ git commit -a -m "Следующий релиз"
</pre>

      <p>и ваши пользователи смогут обновить свои версии, перейдя в
      каталог, с вашим скриптом и набрав</p>
      <pre class="literallayout">
$ git pull
</pre>

      <p>Ваши пользователи никогда не наткнутся на версию скрипта,
      которую вы не хотите им показывать.</p>
    </div>

    <div class="section" title="Что я сделал?">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_%D1%87%D1%82%D0%BE_%D1%8F_%D1%81%D0%B4%D0%B5%D0%BB%D0%B0%D0%BB">
            </a>Что я сделал?</h2>
          </div>
        </div>
      </div>

      <p>Выясните, какие изменения вы сделали со времени последнего
      коммита:</p>
      <pre class="literallayout">
$ git diff
</pre>

      <p>Или со вчерашнего дня:</p>
      <pre class="literallayout">
$ git diff "@{yesterday}"
</pre>

      <p>Или между определенной версией и версией, сделанной 2
      коммита назад:</p>
      <pre class="literallayout">
$ git diff 1b6d "master~2"
</pre>

      <p>В каждом случае на выходе будет патч, который может быть
      применен с помощью <span class="strong"><strong>git
      apply</strong></span>. Попробуйте также:</p>
      <pre class="literallayout">
$ git whatchanged --since="2 weeks ago"
</pre>

      <p>Часто вместо этого я использую для просмотра истории
      <a class="ulink" href="http://sourceforge.net/projects/qgit"
      target="_top">qgit</a>, из-за приятного интерфейса, или
      <a class="ulink" href="http://jonas.nitro.dk/tig" target=
      "_top">tig</a> с текстовым интерфейсом, который хорошо
      работает через медленное соединение. Как вариант, установите
      веб-сервер, введите <span class="strong"><strong>git
      instaweb</strong></span> и запустите любой веб-браузер.</p>
    </div>

    <div class="section" title="Упражнение">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_%D1%83%D0%BF%D1%80%D0%B0%D0%B6%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5">
            </a>Упражнение</h2>
          </div>
        </div>
      </div>

      <p>Пусть A, B, C, D — четыре последовательных коммита, где В
      отличается от A лишь несколькими удаленными файлами. Мы хотим
      вернуть эти файлы в D. Как мы можем это сделать?</p>

      <p>Существует как минимум три решения. Предположим, что мы
      находимся на D.</p>

      <div class="orderedlist">
        <ol class="orderedlist" type="1">
          <li class="listitem">
            <p class="simpara">Разница между A и B — удаленные
            файлы. Мы можем создать патч, отражающий эти изменения,
            и применить его:</p>
            <pre class="literallayout">
$ git diff B A | git apply
</pre>
          </li>

          <li class="listitem">
            <p class="simpara">Поскольку в коммите A мы сохранили
            файлы, то можем восстановить их:</p>
            <pre class="literallayout">
$ git checkout A foo.c bar.h
</pre>
          </li>

          <li class="listitem">
            <p class="simpara">Мы можем рассматривать переход от A
            к B как изменения, которые хотим отменить:</p>
            <pre class="literallayout">
$ git revert B
</pre>
          </li>
        </ol>
      </div>

      <p>Какой способ лучше? Тот, который вам больше нравится. С
      помощью Git легко получить желаемое, и часто существует много
      способов это сделать.</p>
    </div>
  </div><script type="text/javascript" src="find_selflink.js">
</script><script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
  document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
  </script><script type="text/javascript">
var pageTracker = _gat._getTracker("UA-1901330-2");
  pageTracker._initData();
  pageTracker._trackPageview();
  </script>
</div>
</div><div class="footer"><a href="/~blynn/">Ben Lynn</a></div>
</body>
</html>
