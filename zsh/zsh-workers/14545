From zsh-workers-return-14545-mason-zsh=primenet.com.au@sunsite.dk Tue May 29 18:45:33 2001
Return-Path: <zsh-workers-return-14545-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 525 invoked from network); 29 May 2001 18:45:32 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 29 May 2001 18:45:32 -0000
Received: (qmail 3452 invoked by alias); 29 May 2001 16:56:53 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 14545
Received: (qmail 3270 invoked from network); 29 May 2001 16:56:39 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <1010529153756.ZM13431@candle.brasslantern.com>
Date: Tue, 29 May 2001 15:37:55 +0000
In-Reply-To: <Tc0a88d0153d0bf97f6@mailsweeper01.cambridgesiliconradio.com>
Comments: In reply to Peter Stephenson <pws@csr.com>
        "Re: PATCH: Block device tests" (May 29, 11:34am)
References: <Tc0a88d0153d0bf97f6@mailsweeper01.cambridgesiliconradio.com> 
	<000d01c0e82d$505a4740$21c9ca95@mow.siemens.ru>
In-Reply-To: <000d01c0e82d$505a4740$21c9ca95@mow.siemens.ru>
Comments: In reply to "Andrej Borsenkow" <Andrej.Borsenkow@mow.siemens.ru>
        "RE: PATCH: Block device tests" (May 29,  2:51pm)
X-Mailer: Z-Mail (5.0.0 30July97)
To: "ZSH Workers Mailing List" <zsh-workers@sunsite.dk>
Subject: Re: PATCH: Block device tests
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On May 29, 11:34am, Peter Stephenson wrote:
} Subject: Re: PATCH: Block device tests
}
} "Bart Schaefer" wrote:
} > +  if ! grep '#define HAVE_FIFOS' $ZTST_testdir/../config.h; then
} 
} $ZTST_testdir is where we are running the tests.  Unfortunately this will
} break if you are compiling separately from the source tree and then running
} individual tests in the test directory

There are several other tests which rely on using a path relative to
$ZTST_testdir:

schaefer[575] print -c $(fgrep -l ZTST_testdir/.. Test/*(.))
Test/A01grammar.ztst     Test/V01zmodload.ztst    Test/Y03arguments.ztst
Test/C02cond.ztst        Test/Y01completion.ztst
Test/D02glob.ztst        Test/Y02compmatch.ztst

I'm responsible for its appearance in C02 and V01, but I was only
patterning my usage on the others, particularly D02.

On May 29,  2:51pm, Andrej Borsenkow wrote:
}
} Actually, the way to run individual test is 'make TESTNUM=C02cond check'

Which made more sense when the test numbers were actually numbers, and
not alphabet-coded.  Oh well, close enough.

} I do not know if it is mentioned anywhere

Hmm, even "make check" doesn't appear to be mentioned anywhere.

Index: INSTALL
===================================================================
RCS file: /cvsroot/zsh/zsh/INSTALL,v
retrieving revision 1.7
diff -u -r1.7 INSTALL
--- INSTALL	2001/04/02 13:04:04	1.7
+++ INSTALL	2001/05/29 15:37:19
@@ -152,6 +152,18 @@
 After configuring, to build zsh, do the command:
     make
 
+It's then a good idea to check that your build is working properly:
+    make check
+
+If you have trouble with a particular test, you can run it separately:
+    make TESTNUM=C02 check
+
+The TESTNUM value can be a single test number, as above, or a letter to
+run an entire category of tests:
+    make TESTNUM=Y check
+
+See Test/README for a list of test categories.
+
 Installing Zsh
 --------------
 

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

