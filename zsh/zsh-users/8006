From zsh-users-return-8006-mason-zsh=primenet.com.au@sunsite.dk Fri Sep 17 10:32:11 2004
Return-Path: <zsh-users-return-8006-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 15168 invoked from network); 17 Sep 2004 10:32:10 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 17 Sep 2004 10:32:10 -0000
Received: (qmail 40554 invoked from network); 17 Sep 2004 10:32:04 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 17 Sep 2004 10:32:04 -0000
Received: (qmail 23313 invoked by alias); 17 Sep 2004 10:31:20 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8006
Received: (qmail 23303 invoked from network); 17 Sep 2004 10:31:20 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 17 Sep 2004 10:31:20 -0000
Received: (qmail 39143 invoked from network); 17 Sep 2004 10:31:20 -0000
Received: from mail36.messagelabs.com (193.109.254.211)
  by a.mx.sunsite.dk with SMTP; 17 Sep 2004 10:31:18 -0000
X-VirusChecked: Checked
X-Env-Sender: okiddle@yahoo.co.uk
X-Msg-Ref: server-9.tower-36.messagelabs.com!1095417077!9399048
X-StarScan-Version: 5.2.10; banners=-,-,-
X-Originating-IP: [158.234.9.163]
Received: (qmail 11981 invoked from network); 17 Sep 2004 10:31:17 -0000
Received: from iris.logica.co.uk (158.234.9.163)
  by server-9.tower-36.messagelabs.com with SMTP; 17 Sep 2004 10:31:17 -0000
Received: from trentino.logica.co.uk ([158.234.142.61])
	by iris.logica.co.uk (8.12.3/8.12.3/Debian -4) with ESMTP id i8HAVGAI029031
	for <zsh-users@sunsite.dk>; Fri, 17 Sep 2004 11:31:17 +0100
Received: from trentino.logica.co.uk (localhost [127.0.0.1])
	by trentino.logica.co.uk (Postfix) with ESMTP id C6351791B004
	for <zsh-users@sunsite.dk>; Fri, 17 Sep 2004 12:31:16 +0200 (CEST)
X-VirusChecked: Checked
X-StarScan-Version: 5.0.7; banners=.,-,-
In-reply-to: <200409170945.i8H9jN1H023683@news01.csr.com> 
From: Oliver Kiddle <okiddle@yahoo.co.uk>
References: <BD59728F-078D-11D9-8D39-000A95D2C79E@kalama.no-ip.org> <200409161430.i8GEUUoK012318@news01.csr.com> <27415.1095348059@trentino.logica.co.uk> <200409170945.i8H9jN1H023683@news01.csr.com>
To: zsh-users@sunsite.dk
Subject: Re: Globbing question 
Date: Fri, 17 Sep 2004 12:31:16 +0200
Message-ID: <31994.1095417076@trentino.logica.co.uk>
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, hits=0.0 required=6.0 tests=none autolearn=no version=2.63
X-Spam-Hits: 0.0

Peter wrote:

> OK, so you're saying that in most contexts, you can do something like
> 
>   zstyle ':completion:*' file-patterns '*(#q-*)'
> 
> to complete only executable files, but the specific example

That's right. (The #q isn't needed though.)

>   zstyle ':completion:*:complete:-command-::commands' file-patterns '*(#q-*)'
> 
> doesn't work because it goes through the code the wrong way?  I would

Turns out that executables are added by using `compadd -k commands' so
it isn't filename based completion at all.

> say that *is* an annoyance, and that 99% of users don't care about
> the difference between _files and _path_files.

The only difference between _path_files and _files is that _files looks
up file-patterns. _path_files should only be used if there is a good
reason to disallow file-patterns.

Styles are there for adjusting things according to user preferences not
for fixing bugs in the underlying code. So the "annoyance" is not that
file-patterns or ignored-patterns can't handle this.

> Some cross-referencing between ignored-patterns and file-patterns might
> be beneficial, too.

Yes that's true.

> Presumably a side effect of using file-patterns is the _ignored
> completer doesn't pick up the remaining files, but if I remember there
> are ways of doing this with the all-files tag.

You can call the tag what you like. The value of file-patterns is a list
much like tag-order. It just happens that the default value includes an
all-files tag with the pattern *.

Oliver

