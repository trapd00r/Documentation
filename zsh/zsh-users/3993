From zsh-users-return-3993-mason-zsh=primenet.com.au@sunsite.dk Wed Jul 04 06:15:46 2001
Return-Path: <zsh-users-return-3993-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13703 invoked from network); 4 Jul 2001 06:15:16 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 4 Jul 2001 06:15:16 -0000
Received: (qmail 2562 invoked by alias); 4 Jul 2001 06:14:04 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 3993
Received: (qmail 2540 invoked from network); 4 Jul 2001 06:14:03 -0000
Message-ID: <20010704061454.6952.qmail@web10401.mail.yahoo.com>
Date: Tue, 3 Jul 2001 23:14:54 -0700 (PDT)
From: Felix Rosencrantz <f_rosencrantz@yahoo.com>
Subject: Re: Using buffer for history-incremental-search-backward
To: zsh-users <zsh-users@sunsite.auc.dk>
In-Reply-To: <1010703083438.ZM8632@candle.brasslantern.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

>While `sleep' is running, zle is inactive and the regular tty driver
>is in control of the interpretation of input characters.  Chances are
>you have `stty ^R redisplay' or the like (probably as a default, rather
>than explicitly in any of your init files), so the tty driver consumes
>the ^R before zle gets started again.

Opps...  Should have caught that myself.  That was the problem.  (Also
just noticed that the zsh's default stty completer doesn't know the
names used by the GNU stty.)

The function you provided works great.  (The example has a typo missing
the "al".)  I actually thought my h-i-s-b was still in the history
search, it sort of looked like it from the trace output....

>Both of these things could be considered bugs.

I think you're right that LASTWIDGET should probably be set correctly.
Though it would also be useful if there was a parameter that explicitly
says you are in the mini-buffer (or whatever the mode is).  Also,
it would useful if zle had the ability to specify bindings in the
mini-buffer and to somehow bless widgets as being safe to use in the
mini-buffer.

Zle still has a lot of little rough edges, like these problems with the
mini-buffer, and others like with widgets that try to handle multiline
command.  Or because zle can't update the prompt, it's not possible to
write a widget that does a cd, and have the prompt be correct.


So is there anyway to history-incremental-search-backward (and related
commands to show a list of matching commands.  Sort of like the w2k "F7"
key in a cmd.exe window.)

Thanks.
-FR.

__________________________________________________
Do You Yahoo!?
Get personalized email addresses from Yahoo! Mail
http://personal.mail.yahoo.com/

