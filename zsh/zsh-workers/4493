From zsh-workers-request@math.gatech.edu Mon Nov 02 09:56:02 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 23095 invoked from network); 2 Nov 1998 09:56:00 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 2 Nov 1998 09:56:00 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.9.1/8.9.1) id EAA10296;
	Mon, 2 Nov 1998 04:45:57 -0500 (EST)
Resent-Date: Mon, 2 Nov 1998 04:45:57 -0500 (EST)
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <981102014414.ZM6596@candle.brasslantern.com>
Date: Mon, 2 Nov 1998 01:44:14 -0800
X-Mailer: Z-Mail (4.0b.820 20aug96)
To: zsh-workers@math.gatech.edu
Subject: Yet another auto-remove-suffix problem in 3.1.5
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Resent-Message-ID: <"-SUw41.0.pW2.LzNFs"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/4493
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Under 3.1.5, using the cdmatch compctl from Misc/compctl-examples and using
Functions/cdmatch, with automenu:

zagzig<6> cd zsh-3.1.5
zagzig<7> cd S<TAB><TAB>
Src           StartupFiles
zagzig<7> cd Src/

Now type another /, and you get

zagzig<7> cd Src//

In zsh 3.0.5, using exactly the same cdmatch function and compctl, exactly
the same input triggers autoremove and you get only Src/ (one slash).

If you type a space at 3.1.5 instead, the trailing slash is removed as
expected.

This probably means another call to fixsuffix() has to be thrown in, or one
already there needs to be moved.  I haven't figured out where yet, and I'm
out of zsh time for a while, so if somebody else wants this ...

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

