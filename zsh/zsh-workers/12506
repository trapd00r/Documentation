From zsh-workers-return-12506-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Aug 03 14:38:42 2000
Return-Path: <zsh-workers-return-12506-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9466 invoked from network); 3 Aug 2000 14:38:40 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 3 Aug 2000 14:38:40 -0000
Received: (qmail 14316 invoked by alias); 3 Aug 2000 14:38:30 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 12506
Received: (qmail 14304 invoked from network); 3 Aug 2000 14:38:23 -0000
Date: Thu, 3 Aug 2000 10:38:09 -0400
From: Clint Adams <schizo@debian.org>
To: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
Cc: zsh-workers@sunsite.auc.dk
Subject: Re: PATCH: Re: completion problem with filename including # (and pathmax stuff)
Message-ID: <20000803103809.A16681@dman.com>
References: <200008031330.PAA22832@beta.informatik.hu-berlin.de>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
User-Agent: Mutt/1.1.2i
In-Reply-To: <200008031330.PAA22832@beta.informatik.hu-berlin.de>; from wischnow@informatik.hu-berlin.de on Thu, Aug 03, 2000 at 03:30:56PM +0200

> There is another problem with the pathmax stuff: with the files
> module, doing `mkdir foo' fails because it tries to get the pathname
> length of a non-existing directory. Haven't checked if there are other 
> builtins with this problem.

I tested this, and it worked fine.  Perhaps this means that glibc 2.1.3 is
broken.  I just now tried it under FreeBSD 4.0, and OpenBSD 2.7, and ran
into the error you mentioned.

I think that statting to find the mount point would be too wasteful.
Dropping the tail could work except for things like mkdir -p.

