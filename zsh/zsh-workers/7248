From zsh-workers-return-7248-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Jul 21 16:20:59 1999
Return-Path: <zsh-workers-return-7248-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 29562 invoked from network); 21 Jul 1999 16:20:57 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 21 Jul 1999 16:20:57 -0000
Received: (qmail 18050 invoked by alias); 21 Jul 1999 16:20:49 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7248
Received: (qmail 18043 invoked from network); 21 Jul 1999 16:20:48 -0000
Message-Id: <9907211549.AA13416@ibmth.df.unipi.it>
To: zsh-workers@sunsite.auc.dk
Subject: Re: core dump with completion. 
In-Reply-To: "Tanaka Akira"'s message of "22 Jul 1999 00:50:54 DFT."
             <rsqogh62e8x.fsf@crane.jaist.ac.jp> 
Date: Wed, 21 Jul 1999 17:49:47 +0200
From: Peter Stephenson <pws@ibmth.df.unipi.it>

Tanaka Akira wrote:
> zsh dumps core with completion with following operation.
> $ bin/zsh -f
> is27e1u11% bindkey -e; autoload -U compinit; compinit
> is27e1u11% cvs add <TAB><C-c>
> is27e1u11% A=sh<TAB>zsh: segmentation fault (core dumped)  bin/zsh -f
> 
> The backtrace is follows.
> #0  0xff136bf8 in strlen ()
> #1  0x699a4 in dupstring (s=0x1 <Address 0x1 out of bounds>) at mem.c:494
> #2  0x97c04 in arrdup (s=0x14b094) at utils.c:2234
> #3  0xff1dbb78 in comp_wrapper (list=0x0, w=0x0, name=0x1204d0 "_first")
>     at compctl.c:2412

Something's happening in _first.  This is a no-op by default, so if you have
something different it might help to see it.  If not then... er.

-- 
Peter Stephenson <pws@ibmth.df.unipi.it>       Tel: +39 050 844536
WWW:  http://www.ifh.de/~pws/
Dipartimento di Fisica, Via Buonarroti 2, 56127 Pisa, Italy

