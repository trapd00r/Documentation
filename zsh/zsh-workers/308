From zsh-workers-request@math.gatech.edu  Tue Aug 15 00:40:28 1995
Received: from gatech.edu (gatech.edu [130.207.244.244]) by werple.mira.net.au (8.6.12/8.6.9) with SMTP id AAA23256 for <mason@werple.mira.net.au>; Tue, 15 Aug 1995 00:40:24 +1000
Received: from math (math.skiles.gatech.edu) by gatech.edu with SMTP id AA25527
  (5.65c/Gatech-10.0-IDA for <mason@werple.mira.net.au>); Mon, 14 Aug 1995 10:36:18 -0400
Received: by math (5.x/SMI-SVR4)
	id AA24979; Mon, 14 Aug 1995 10:29:51 -0400
Resent-Date: Mon, 14 Aug 1995 16:29:34 +0200 (MET DST)
Old-Return-Path: <hzoli@cs.elte.hu>
From: Zoltan Hidvegi <hzoli@cs.elte.hu>
Message-Id: <199508141429.QAA02391@bolyai.cs.elte.hu>
Subject: Re: Nasty bug in 2.6-beta10-hzoli10.2
To: brown@ftms.com (Vidiot)
Date: Mon, 14 Aug 1995 16:29:34 +0200 (MET DST)
Cc: zsh-workers@math.gatech.edu (zsh-workers)
In-Reply-To: <199508140549.AAA29676@ftms.ftms.com> from "Vidiot" at Aug 14, 95 00:49:53 am
X-Mailer: ELM [version 2.4 PL24]
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-Id: <"AAq1E3.0.966.UtrBm"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/308
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

> Well, I removed the signames.h file and did a reconfig.  I had already
> patched the configure script so that it doesn't use grep -q.
> 
> Did a new make and installed.
> 
> Same crash.  I noticed that it doesn't crash if OpenWindows isn't running.
> 
> Hope this helps.  Meanwhile, I'm back on a previous version.

I still suspect that your signames.h is wrongly generated.  Many systems has a
broken nawk which causes very similar problems.  Check that your signames.h
again.  It should begin like this (on SunOS 4.1.2):

/** signals.h                                 **/
/** architecture-customized signals.h for zsh **/

#define SIGCOUNT        31

If SIGCOUNT is smaller than 31 it is very likely that your signames.h is
wrongly generated.  If you read the BUGS file I included you can find this
problem there.  I did not mention SunOS there as I had no problems here
compiling zsh on SunOS.  I use zsh on SunOS 4.1.2, Solaris 2.3, OSF1 V2.0, AIX
3.2, Ultrix 4.2, some SVR4 os with m88k CPU, elf and aout-linux 1.2.x.  I
cannot test zsh on other OS (well if it is necessary I may get an account on a
HP-UX).

I use Solaris and Linux most so I may miss some problems on other OS's.  The
best fix is to get and compile gawk, put it in your path and reconfigure zsh
(configure should notice gawk in your patch).  Everything should compile and
work fine after that.

Zoltan

