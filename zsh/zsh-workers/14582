From zsh-workers-return-14582-mason-zsh=primenet.com.au@sunsite.dk Wed May 30 22:28:51 2001
Return-Path: <zsh-workers-return-14582-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 27084 invoked from network); 30 May 2001 22:28:51 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 30 May 2001 22:28:51 -0000
Received: (qmail 18845 invoked by alias); 30 May 2001 22:28:44 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 14582
Received: (qmail 18825 invoked from network); 30 May 2001 22:28:43 -0000
Date: Wed, 30 May 2001 15:28:26 -0700
From: Jos Backus <josb@cncdsl.com>
To: Bart Schaefer <schaefer@candle.brasslantern.com>
Cc: zsh-workers@sunsite.auc.dk
Subject: Re: zsh and autoconf-2.50
Message-ID: <20010530152826.F47866@lizzy.bugworks.com>
Reply-To: Jos Backus <josb@cncdsl.com>
References: <20010530144809.E47866@lizzy.bugworks.com> <010530150208.ZM3863@candle.brasslantern.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5i
In-Reply-To: <010530150208.ZM3863@candle.brasslantern.com>; from schaefer@candle.brasslantern.com on Wed, May 30, 2001 at 03:01:46PM -0700

On Wed, May 30, 2001 at 03:01:46PM -0700, Bart Schaefer wrote:
> That's pretty silly.  This is like C++ generating an error if you #undef
> a constant that has never been #define'd.  Did autoconf-2.50 redefine the
> m4 undefine function, or did something change in a new version of m4?

It's strange indeed. This is with a freshly built m4-1.4 (haven't seen
anything newer).
 
> My m4 info page says:
> 
>    It is not an error for NAME to have no macro definition.  In that
> case, `undefine' does nothing.

So does mine.
 
> Anyway, those undefines are probably entirely extraneous anyway, so try
> just deleting them.
 
That fixes it (obviously).

Btw, running ``./configure'' yields

    configure: creating ./config.status
    ./config.status: syntax error at line 1063: `end of file' unexpected

before printing the configuration. That doesn't look normal. The file has
1062 lines and the end looks like

#
# CONFIG_COMMANDS section.
#
for ac_file in : $CONFIG_COMMANDS; do test "x$ac_file" = x: && continue
  ac_dest=`echo "$ac_file" | sed 's,:.*,,'`
  ac_source=`echo "$ac_file" | sed 's,[^:]*:,,'`

  case $ac_dest in
    default ) \
test -z "$CONFIG_HEADERS" || echo > stamp-h ;;
  esac
done

{ (exit 0); exit 0; }

As a result, some other files aren't being generated (e.g. the Makefile).

Thanks,
-- 
Jos Backus                 _/  _/_/_/        "Modularity is not a hack."
                          _/  _/   _/                -- D. J. Bernstein
                         _/  _/_/_/             
                    _/  _/  _/    _/
josb@cncdsl.com     _/_/   _/_/_/            use Std::Disclaimer;

