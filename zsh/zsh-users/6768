From zsh-users-return-6768-mason-zsh=primenet.com.au@sunsite.dk Fri Nov 14 08:01:45 2003
Return-Path: <zsh-users-return-6768-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 28103 invoked from network); 14 Nov 2003 08:01:44 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 14 Nov 2003 08:01:44 -0000
Received: (qmail 9690 invoked by alias); 14 Nov 2003 08:01:30 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 6768
Received: (qmail 9651 invoked from network); 14 Nov 2003 08:01:29 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 14 Nov 2003 08:01:29 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [193.109.254.211] by sunsite.dk (MessageWall 1.0.8) with SMTP; 14 Nov 2003 8:1:29 -0000
X-VirusChecked: Checked
X-Env-Sender: okiddle@yahoo.co.uk
X-Msg-Ref: server-6.tower-36.messagelabs.com!1068796887!1824897
X-StarScan-Version: 5.1.13; banners=.,-,-
Received: (qmail 7413 invoked from network); 14 Nov 2003 08:01:27 -0000
Received: from iris.logica.co.uk (158.234.9.163)
  by server-6.tower-36.messagelabs.com with SMTP; 14 Nov 2003 08:01:27 -0000
Received: from gmcs3.local ([158.234.142.61])
	by iris.logica.co.uk (8.12.3/8.12.3/Debian -4) with ESMTP id hAE81RAb018326;
	Fri, 14 Nov 2003 08:01:27 GMT
Received: from gmcs3.local (localhost [127.0.0.1])
	by gmcs3.local (8.11.6/8.11.6/SuSE Linux 0.5) with ESMTP id hAE84uQ29116;
	Fri, 14 Nov 2003 09:04:57 +0100
cc: Jonas Juselius <jonas@iki.fi>, zsh-users@sunsite.dk
In-reply-to: <20031111212828.GA28125@lorien.emufarm.org> 
From: Oliver Kiddle <okiddle@yahoo.co.uk>
References: <20030523160020.GA9026@borho.org> <20030523160155.GA14388@lorien.emufarm.org> <20031106153225.GA491@lorien.emufarm.org> <1281.1068232665@athlon> <20031110182013.GA20547@lorien.emufarm.org> <9219.1068538977@gmcs3.local> <20031111162338.GD23138@lorien.emufarm.org> <901.1068577572@athlon> <20031111212828.GA28125@lorien.emufarm.org>
To: Danek Duvall <duvall@emufarm.org>
Subject: Re: Completion function for bitkeeper? 
Date: Fri, 14 Nov 2003 09:04:56 +0100
Message-ID: <29114.1068797096@gmcs3.local>

Danek Duvall wrote:

> Is there any reason (other than it would break code relying on the
> current behavior) not to just require someone to explicitly add $expl to
> the action, so that they can control where it goes?  You can do that now

Having $expl stuff added after the first word is exactly the behaviour
that is wanted in virtually 100% of all cases. If you do a search on
completion functions, the $expl feature is never used and the initial
space feature is very rarely used (and where it is may not have been
intentional). And, it would break existing code (and be a very boring
job to add to existing code).

However, it does seem redundant having both the initial space and
braces feature.

For '*:desc:{_foo}' style actions, this is run:

  eval "$action[@]"

and for '*:desc: _foo', this is run:

  eval "action=( $action )"
  "$action[@]"

Can anyone tell me what practical difference that makes, if any?

What might be a good plan is to deprecate the initial space feature and
then, by only documenting expl under the {eval-string} form of action,
it will be easier make things clear in the documentation.

> > How's that bitkeeper function doing these days by the way? Is it at a
> > stage we could include with zsh? Does it conflict with _sccs?
> 
> Well, none of the usual zsh folks commented on it, so while it works for

I suspect none of the usual zsh folks use bitkeeper.

>   - there are a number of comments in the function that indicate things
>     I couldn't quite figure out what to do

If you send me your latest version, I'll take a look.

>   - I don't think that it conflicts with _sccs at all, but it might be
>     nice to get _sccs to use _sccsfiles in the appropriate places.

I'll be interested to see if that does anything useful for sccs. I use
Sun teamware at work which is sccs underneath so I do use the sccs
completion.

Oliver

________________________________________________________________________
This email has been scanned for all viruses by the MessageLabs Email
Security System. For more information on a proactive email security
service working around the clock, around the globe, visit
http://www.messagelabs.com
________________________________________________________________________

