From zsh-workers-request@euclid.skiles.gatech.edu Sun Dec 01 14:32:10 1996
Return-Path: <zsh-workers-request@euclid.skiles.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 16349 invoked from network); 1 Dec 1996 14:32:09 -0000
Received: from euclid.skiles.gatech.edu (list@130.207.146.50)
  by coral.primenet.com.au with SMTP; 1 Dec 1996 14:32:09 -0000
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id JAA05692; Sun, 1 Dec 1996 09:17:30 -0500 (EST)
Resent-Date: Sun, 1 Dec 1996 09:17:30 -0500 (EST)
From: Zefram <zefram@dcs.warwick.ac.uk>
Message-Id: <10492.199612011417@stone.dcs.warwick.ac.uk>
Subject: Re: Autoloading of compctl from dbm database file.
To: fclim@singnet.com.sg (Fung-Chai Lim)
Date: Sun, 1 Dec 1996 14:17:52 +0000 (GMT)
Cc: zsh-workers@math.gatech.edu
In-Reply-To: <9612011323.AA00468@fclim.singnet.com.sg> from "Fung-Chai Lim" at Dec 1, 96 09:22:43 pm
X-Loop: zefram@dcs.warwick.ac.uk
X-Stardate: [-31]8507.97
X-US-Congress: Moronic fuckers
Content-Type: text
Resent-Message-ID: <"RxMa03.0.sO1.vDPeo"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/2506
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

>Having aliases and functions in the database can be useful.  Remember my
>example, putting
>	ZDBFILE=database
>	zdb -auf
>at the top of any shell script is enough to access aliases and functions.

. ~/.zshenv

has much the same effect.

>The compctl command is a complicated beast; I don't understand most of
>the doc on it.  The idea behind the global database is for a compctl guru
>to maintain it for the benefits of other users.

That's already possible.  At this site, I maintain a file of compctl
commands which is sourced by many people's .zshrc.  The only
differences between this file and a database would be the efficiency of
interpretation and ease of editing.

>I wonder if the *shell* will be corrupted when fetching data from a dbm
>file at a time when the file changes size.

Whether we use a database or not, the shell *must* cope with any binary
rubbish thrown at it.  (Modules, due to them containing machine code,
are a necessary exception.)

-zefram

