From zsh-users-return-8508-mason-zsh=primenet.com.au@sunsite.dk Tue Feb 15 16:27:27 2005
Return-Path: <zsh-users-return-8508-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10734 invoked from network); 15 Feb 2005 16:27:26 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 15 Feb 2005 16:27:26 -0000
Received: (qmail 8058 invoked from network); 15 Feb 2005 16:27:20 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 15 Feb 2005 16:27:20 -0000
Received: (qmail 3031 invoked by alias); 15 Feb 2005 16:27:11 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8508
Received: (qmail 3015 invoked from network); 15 Feb 2005 16:27:10 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 15 Feb 2005 16:27:10 -0000
Received: (qmail 7002 invoked from network); 15 Feb 2005 16:27:07 -0000
Received: from out012pub.verizon.net (HELO out012.verizon.net) (206.46.170.137)
  by a.mx.sunsite.dk with SMTP; 15 Feb 2005 16:27:03 -0000
Received: from candle.brasslantern.com ([4.11.10.129])
          by out012.verizon.net
          (InterMail vM.5.01.06.06 201-253-122-130-106-20030910) with ESMTP
          id <20050215162700.CXVC15978.out012.verizon.net@candle.brasslantern.com>
          for <zsh-users@sunsite.dk>; Tue, 15 Feb 2005 10:27:00 -0600
Received: from candle.brasslantern.com (IDENT:schaefer@localhost [127.0.0.1])
	by candle.brasslantern.com (8.12.11/8.12.11) with ESMTP id j1FGQtrX007650
	for <zsh-users@sunsite.dk>; Tue, 15 Feb 2005 08:26:55 -0800
Received: (from schaefer@localhost)
	by candle.brasslantern.com (8.12.11/8.12.11/Submit) id j1FGQsVK007649
	for zsh-users@sunsite.dk; Tue, 15 Feb 2005 08:26:55 -0800
From: Bart Schaefer <schaefer@brasslantern.com>
Message-Id: <1050215162654.ZM7648@candle.brasslantern.com>
Date: Tue, 15 Feb 2005 16:26:54 +0000
In-Reply-To: <20050215131935.GA21734@duey.spider.com>
Comments: In reply to Stephane Chazelas <Stephane_Chazelas@yahoo.fr>
        "vared in scripts and history" (Feb 15,  1:19pm)
References: <20050215131935.GA21734@duey.spider.com>
X-Mailer: Z-Mail (5.0.0 30July97)
To: Zsh users list <zsh-users@sunsite.dk>
Subject: Re: vared in scripts and history
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Authentication-Info: Submitted using SMTP AUTH at out012.verizon.net from [4.11.10.129] at Tue, 15 Feb 2005 10:26:55 -0600
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=6.0 tests=BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.6

On Feb 15,  1:19pm, Stephane Chazelas wrote:
} Subject: vared in scripts and history
}
} while a=; vared -p "$2" -e a; do
} 
} Now, I'd like to add some history support. But I couldn't have it to
} work. Is there any way?

With 4.2.3:

    fc -p -a $HOME/.zfhistory 10 10
    while a=; vared -h -p "$2" -e a; do
      { ... } < $1
      print -s "${(P)2}"
    done

