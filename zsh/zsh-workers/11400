From zsh-workers-return-11400-mason-zsh=primenet.com.au@sunsite.auc.dk Tue May 16 07:59:03 2000
Return-Path: <zsh-workers-return-11400-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9294 invoked from network); 16 May 2000 07:59:02 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 16 May 2000 07:59:02 -0000
Received: (qmail 22803 invoked by alias); 16 May 2000 07:58:52 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 11400
Received: (qmail 22796 invoked from network); 16 May 2000 07:58:52 -0000
Date: Tue, 16 May 2000 09:58:38 +0200 (MET DST)
Message-Id: <200005160758.JAA19581@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: "Bart Schaefer"'s message of Tue, 16 May 2000 06:28:18 +0000
Subject: Re: Styles that aren't :completion:* ...


Bart Schaefer wrote:

> I notice that the nslookup function uses a context of ':nslookup', whereas
> assorted zftp components use ":zftp$curcontext".

Yes, but it's not the completion-$curcontext, it's the zftp-one.

> Yet incremental-complete-word uses ":completion:incremental${curcontext#*:}"
> and similarly insert-and-predict uses ":completion:predict${curcontext#*:}".
> So these functions actually strip off part of the context and replace it.

I considered i-complete-w to be a completion thing. And since in
completion it uses `:completion:incremental:...' I thought it would be 
easier to understand if it used that for all styles. But yes, now that 
I think of it again, maybe it it should look up its own styles with
`:incremental'. And the same for `:predict'. Because...

> What's the idiom supposed to be, again?

(although this was never really defined; maybe we should do that and
write it down in the devel-guide) ... something like: every `system'
uses its own prefix and whatever hierarchy it needs below that. Not a
very exact description, I'm afraid.

> Here's the specific reason that I ask:  I'm thinking of adding some more
> styles to predict-on/off and to the functions they bind to keystrokes.  For
> example, there's a comment in delete-backward-and-predict to the effect
> that some people might prefer that it call predict-off.  That seems like
> an ideal thing to control with a style, but it feels funny to use a style
> that starts with ":completion:" because no completion is happening during
> delete-backward-and-predict.

Right.

> Similarly I was thinking of adding a "verbose" style to predict-on, to have
> it call "zle -M" when prediction goes into effect.  That's called directly
> from a keystroke.  What's the context?

`:predict', I'd say.

Bye
 Sven


--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

