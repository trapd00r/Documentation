From zsh-workers-request@math.gatech.edu  Fri Nov 24 20:45:53 1995
Received: from math.gatech.edu (euclid.skiles.gatech.edu [130.207.146.50]) by werple.net.au (8.7/8.7.1) with SMTP id UAA20810 for <mason@werple.mira.net.au>; Fri, 24 Nov 1995 20:45:46 +1100 (EST)
Received: by math.gatech.edu (5.x/SMI-SVR4)
	id AA02806; Fri, 24 Nov 1995 04:17:33 -0500
Resent-Date: Fri, 24 Nov 95 10:17:38 +0100
Old-Return-Path: <aqallal@eurecom.fr>
Message-Id: <9511240917.AA04753@eurecom.cica.fr>
Organization: Eurecom, Sophia-Antipolis, France
Date: Fri, 24 Nov 95 10:17:38 +0100
From: Meryem Aqallal <aqallal@eurecom.fr>
To: zsh-workers@math.gatech.edu
Subject: Help me  please
Content-Type: X-sun-attachment
Resent-Message-Id: <"FHJV-.0.mh.isOjm"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/641
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

----------
X-Sun-Data-Type: text
X-Sun-Data-Description: text
X-Sun-Data-Name: text
X-Sun-Content-Lines: 12

Hello,
I am just beginning in programming in zsh
And I am in a hurry to correct that programme . It is not long at all but I have a lot a syntax problems 
Please, if anyone is a professionnal, try to send an e-mail correcting my programme.
I have to give it back to my teacher in one day!!!!
Thank you very much
meryem

My e-mail: aqallal@eurecom.cica.fr

My programme is an attachement
I am waiting for your answer very soon
----------
X-Sun-Data-Type: default-app
X-Sun-Data-Description: default
X-Sun-Data-Name: programme_miseajour
X-Sun-Content-Lines: 169


#! /bin/csh

if [-z /home/digital/gen_dig.wrd] then
do
        mail  adresse de monsieur digital < /web/bin/fichier_erreur
else
do
cp /home/digital/gen_dig.wrd /tmp
word2html /tmp/gen_dig.wrd /tmp/gen_dig.html
cp /gen_dig.html /web/htdocs/FRANCAIS/MEMBRES/digital/generalites.html
mail adresse de monsieur digital < /web/bin/fichier_erreur
fax .........



#!/bin/sh
cd /home
for x in `ls /home/*/gen*`
do
        cp $x /tmp/$x
        word2html /tmp/$x /tmp/$x.html
        mv *.wrd.html *.html
done
--------------------------------------------------------------------------------------------------------------------------------------------------------------
#!/bin/sh
for (x in 'ls /web/members/*/' )
do 
       if (ls /web/members/*/MAJ-PUT= )
       then break
       else
       do      *2html /web/members/*/MAJ-PUT/*New.* >*New.html
               creation *New.html > *tmp.html

               case $MAJ in
               OK do case (*tmp.html) in

			   		 E_Cont_tmp.html cp E_Cont_tmp.html /web/htdocs/ENGLISH/MEMBERS/$x/contacts.html
                     F_Cont_tmp.html cp F_Cont_tmp.html /web/htdocs/FRANCAIS/MEMBERS/$x/contacts.html
                     E_Voc_tmp.html cp E_Voc_tmp.html /web/htdocs/ENGLISH/MEMBERS/$x/vocation.html
                  
                     
                     mv /web/members/*/MAJ-GET/*New.* /web/members/*/MAJ-GET/*Old.*
                     mv /web/members/*/MAJ-GET/*New.* /web/members/*/MAJ-PUT/*New.*
                     cp /web/bin/MAJ-OK /web/members/$x/MAJ-GET

                         case (/web/members/$x) in
                         digital mail digital@... <web/bin/fichier_mail
                         aerospatial mail aerospatial@
                         ibm   mail ibm@...
                         ascom mail ascom@
                         e\
##############################################################################################################################################################
#!/bin/zsh

PREHTML2HTML=/bin/creation
RTF2HTML=/bin/rtf2html
MIF2HTML=/bin/mif2html
WDPERFECT2HTML=/bin/wordperfect2html
INFO2HTML=/web/httpd/tools/info2html.pl

MAJ=(OK BAD)

MEMBRES=(ascom ibm aerospat amadeus andersen att_gis att_para bay_netw cad cannes cica cisco com_x digital etsi eurecom fsa ft_dgsa ft_dr g_canal  inria insys  istar  jce marben  nice  omt  questel saem sat sii  sita  syseca telis theseus  ti  vlsi)

for membre in $MEMBRES 
	do 
	if ls ~$membre/MAJ-PUT
	then
		do
		for f in $(Convertit-pre-html $membre)
		Convertit-html-final  $f
		done
	fi
	done

function Convertit-pre-html
	{
	membre=$1
	for fichier in $(ls ~$membre/MAJ-PUT)
	do
	mv $fichier /tmp/$fichier-$$
	fichier=/tmp/$fichier-$$
	nom=$(fichier%.*)
	format=$(fichier#*.)
	case $format in
		.rtf) if $RTF2HTML $fichier>$nom.prehtml
			then 
				echo $nom.prehtml
			else
				err "La conversion de votre fichier est ratee. Veuillez verifier la syntaxe"
		      fi

		.mif) if $MIF2HTML $fichier>$nom.prehtml
			then 
				echo $nom.prehtml
			else
				err "La coversion de votre fichier est ratee. Veuillez verifier la syntaxe"
		      fi

		.txt) if $INFO2HTML $fichier>$nom.prehtml
			then 

				echo $nom.prehtml
			else
				err "La conversion de votre fichier est ratee. Veuillez verifier la syntaxe"
		      fi
		.gif) if tester si nom contien F ou E
			mv ~$membre/MAJ-PUT/$nom.$format /web/htdocs/F ou E/MEMBRES/$membre/

		.*) err "Le format de votre fichier est inconnu. Veuillez lui donner le bon format"
	
	esac
	done
}

function err
	{
	msg_err=$1
	membre=$2
	echo $msg_err >>fichi_log
	echo $msg_err >>~$membre/MAJ-GET
	}

function Convertit-html-final
	{ 
	NomFin=$(f%.*)
 	PREHTML2HTML $NomFin>$NomFin.html
 	if $MAJ 
	then
	  
		case $NomFin.html in 
		E_Cont_New.html) do 
		mv $NomFin.html /web/htdocs/ENGLISH/MEMBRES/$membre/Contacts.html
		done

		F_Cont_New.html) do
		mv $NomFin.html /web/htdocs/FRANCAIS/MEMBRES/$membre/Contacts.html
		done
		
gh		E_Voc_New.html) do
		mv $NomFin.html /web/htdocs/ENGLISH/MEMBRES/$membre/Vocation.html
		done
		
		F_Voc_New.html) do
		mv $NomFin.html /web/htdocs/FRANCAIS/MEMBRES/$membre/Vocation.html
		done

		E_Act_New.html) do 
		mv $NomFin.html /web/htdocs/ENGLISH/MEMBRES/$membre/Activites.html
		done

		
		F_Act_New.html) do 
		mv $NomFin.html /web/htdocs/FRANCAIS/MEMBRES/$membre/Activites.html
		done

		mv ~$membre/MAJ-GET/New .$format  ~$membre/MAJ-GET/Old.$format
		mv ~$membre/MAJ-PUT/New.$format   ~$membre/MAJ-GET/New.$format
		mail
		err "La mise a jour de votre fichier a marche. Consultez le resultat sur le web"

	else

	




