From zsh-workers-return-7173-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Jul 16 12:38:56 1999
Return-Path: <zsh-workers-return-7173-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 659 invoked from network); 16 Jul 1999 12:38:53 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 16 Jul 1999 12:38:53 -0000
Received: (qmail 24639 invoked by alias); 16 Jul 1999 12:38:47 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7173
Received: (qmail 24632 invoked from network); 16 Jul 1999 12:38:47 -0000
Message-Id: <9907161207.AA15998@ibmth.df.unipi.it>
To: zsh-workers@sunsite.auc.dk
Subject: Re: dynamic loading on SunOS 4. 
In-Reply-To: "Tanaka Akira"'s message of "10 Jul 1999 20:26:33 DFT."
             <rsqaet4iw46.fsf@crane.jaist.ac.jp> 
Date: Fri, 16 Jul 1999 14:07:50 +0200
From: Peter Stephenson <pws@ibmth.df.unipi.it>

Tanaka Akira wrote:
> I found a dynamic loading problem as following on SunOS 4.
> is27e1s02% zmodload complist
> ld.so: Undefined symbol: _minfo
> 
> I suspect that a shared object cannot refer other shared object's
> symbols on SunOS 4.

I've been slow replying to this, partly because I didn't think dynamic
loading worked on SunOS 4 at all.  But this problem is presumably generic
to all systems without a working RTLD_GLOBAL.  The most obvious way round
it is to arrange for complist and zle to share symbols via comp1.c,
like zle and compctl already do.  Maybe that's not too hairy?

-- 
Peter Stephenson <pws@ibmth.df.unipi.it>       Tel: +39 050 844536
WWW:  http://www.ifh.de/~pws/
Dipartimento di Fisica, Via Buonarroti 2, 56127 Pisa, Italy

