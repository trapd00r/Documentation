From zsh-users-return-11274-mason-zsh=primenet.com.au@sunsite.dk Sat Mar 10 21:13:50 2007
Return-Path: <zsh-users-return-11274-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13733 invoked from network); 10 Mar 2007 21:13:45 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.8 (2007-02-13) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=BAYES_00,FORGED_RCVD_HELO
	autolearn=ham version=3.1.8
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 10 Mar 2007 21:13:45 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 99850 invoked from network); 10 Mar 2007 21:13:40 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 10 Mar 2007 21:13:40 -0000
Received: (qmail 4088 invoked by alias); 10 Mar 2007 21:13:31 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 11274
Received: (qmail 4075 invoked from network); 10 Mar 2007 21:13:30 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 10 Mar 2007 21:13:30 -0000
Received: (qmail 98544 invoked from network); 10 Mar 2007 21:13:30 -0000
Received: from flpvm23.prodigy.net (207.115.20.53)
  by a.mx.sunsite.dk with SMTP; 10 Mar 2007 21:13:23 -0000
X-ORBL: [76.211.246.127]
Received: from [76.211.246.127] (adsl-76-211-246-127.dsl.pltn13.sbcglobal.net [76.211.246.127])
	by flpvm23.prodigy.net (8.13.8 out.dk.spool/8.13.8) with ESMTP id l2ALDvjO006671
	for <zsh-users@sunsite.dk>; Sat, 10 Mar 2007 13:13:57 -0800
Message-ID: <45F31FDB.6050605@cowan.name>
Date: Sat, 10 Mar 2007 13:15:07 -0800
From: Micah Cowan <micah@cowan.name>
User-Agent: Thunderbird 1.5.0.10 (Windows/20070221)
MIME-Version: 1.0
To: zsh-users@sunsite.dk
Subject: Re: code completition / cannot delete characters
References: <52211927-A3E8-4E51-8735-961A3BE83BB1@michaelworobcuk.de> <070309024427.ZM6023@torch.brasslantern.com> <4916CF2F-0DA8-478B-96DC-B6154C90D98C@michaelworobcuk.de> <45F1BFB1.3090801@cowan.name> <DFEC4BD6-E1D4-4D97-9B6E-EADFC65C5A60@michaelworobcuk.de> <45F1F7F7.8040305@cowan.name> <DEA885AD-706C-432A-A32B-C4037829849F@michaelworobcuk.de> <45F30C45.4030203@cowan.name> <88FF0FD7-75E1-44F9-BEF8-E41B49804310@michaelworobcuk.de>
In-Reply-To: <88FF0FD7-75E1-44F9-BEF8-E41B49804310@michaelworobcuk.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Micah Cowan wrote:
>> It is probably longer than you believe. typescript will also contain 
>> the normally invisible escape sequences that zsh sends to your 
>> terminal to tell it to erase the first cd /usr/src (which you won't 
>> see if you cat it.
>>
>> Just make sure to run script, do the whole tab thing so that it won't 
>> erase the first "cd /usr/src", and then provide the literal version of 
>> that script. :)

Michael Worobcuk wrote:
> Ok. I'm sorry. Here it is:
> http://www.michaelworobcuk.de/typescript/

Actually, I don't think I'll need your termcap anymore. Your PS1 would 
be the most helpful thing you could provide right now.

What are you using to colorize your prompt? The issue you're having 
almost certainly stems from that. If your PS1 contains any escape 
sequences (which it does, to produce the colors: plenty!), but doesn't 
protect them with zsh's %{ and %}, then you're going to see problems 
like you're currently seeing.

Did you modify your PS1 by hand, or was there a tool to colorize it?

Run that env | grep |sed stuff I gave you before (but without the ":"), 
and we should be able to fix it for you.

-Micah

