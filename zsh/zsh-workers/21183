From zsh-workers-return-21183-mason-zsh=primenet.com.au@sunsite.dk Mon Apr 25 09:40:05 2005
Return-Path: <zsh-workers-return-21183-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 16783 invoked from network); 25 Apr 2005 09:40:04 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 25 Apr 2005 09:40:04 -0000
Received: (qmail 46910 invoked from network); 25 Apr 2005 09:39:58 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 25 Apr 2005 09:39:58 -0000
Received: (qmail 3260 invoked by alias); 25 Apr 2005 09:39:56 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 21183
Received: (qmail 3245 invoked from network); 25 Apr 2005 09:39:55 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 25 Apr 2005 09:39:55 -0000
Received: (qmail 46626 invoked from network); 25 Apr 2005 09:39:55 -0000
Received: from mailhost1.csr.com (HELO MAILSWEEPER01.csr.com) (81.105.217.43)
  by a.mx.sunsite.dk with SMTP; 25 Apr 2005 09:39:50 -0000
Received: from exchange03.csr.com (unverified [10.100.137.60]) by MAILSWEEPER01.csr.com
 (Content Technologies SMTPRS 4.3.12) with ESMTP id <T708558391f0a6c8d01618@MAILSWEEPER01.csr.com> for <zsh-workers@sunsite.dk>;
 Mon, 25 Apr 2005 10:38:08 +0100
Received: from news01.csr.com ([10.103.143.38]) by exchange03.csr.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Mon, 25 Apr 2005 10:40:15 +0100
Received: from news01.csr.com (localhost.localdomain [127.0.0.1])
	by news01.csr.com (8.13.1/8.12.11) with ESMTP id j3P9dq4S005648
	for <zsh-workers@sunsite.dk>; Mon, 25 Apr 2005 10:39:52 +0100
Received: from csr.com (pws@localhost)
	by news01.csr.com (8.13.1/8.13.1/Submit) with ESMTP id j3P9dqih005645
	for <zsh-workers@sunsite.dk>; Mon, 25 Apr 2005 10:39:52 +0100
Message-Id: <200504250939.j3P9dqih005645@news01.csr.com>
X-Authentication-Warning: news01.csr.com: pws owned process doing -bs
To: zsh-workers@sunsite.dk (Zsh hackers list)
Subject: Re: Updated _acroread completer 
In-reply-to: <20050425084156.GA483@fox> 
References: <20050414134703.GA7862@s> <20050415111158.GA1709@s> <7344.1114415007@trentino.groupinfra.com> <20050425084156.GA483@fox>
Date: Mon, 25 Apr 2005 10:39:52 +0100
From: Peter Stephenson <pws@csr.com>
X-OriginalArrivalTime: 25 Apr 2005 09:40:16.0018 (UTC) FILETIME=[C930BF20:01C5497A]
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=6.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.6

Haakon Riiser wrote:
> So I'll just have to resolve the symlink using readlink.  I assume
> the most portable way to do this is perl, unless there is a way
> to make zsh expand the link itself.  I have attached a version that
> does this.  Should handle any level of symbolic links that point to
> new symbolic links.

You can use the zsh/stat library.

  zmodload -i zsh/stat
  stat -A ln +link ~/perforce
  print $ln[1]
  /pws/perforce

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR PLC, Churchill House, Cambridge Business Park, Cowley Road
Cambridge, CB4 0WZ, UK                          Tel: +44 (0)1223 692070


**********************************************************************
This email and any files transmitted with it are confidential and
intended solely for the use of the individual or entity to whom they
are addressed. If you have received this email in error please notify
the system manager.

**********************************************************************

