From zsh-workers-return-5806-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Mar 15 11:34:28 1999
Return-Path: <zsh-workers-return-5806-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 26981 invoked from network); 15 Mar 1999 11:34:26 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 15 Mar 1999 11:34:26 -0000
Received: (qmail 16263 invoked by alias); 15 Mar 1999 11:34:03 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 5806
Received: (qmail 16255 invoked from network); 15 Mar 1999 11:34:02 -0000
From: "Andrej Borsenkow" <borsenkow.msk@sni.de>
To: "ZSH workers mailing list" <zsh-workers@sunsite.auc.dk>
Subject: zsh-3.1.2-pws-12: append slash in cd completion weirdness with globcomplete
Date: Mon, 15 Mar 1999 14:33:22 +0300
Message-ID: <001c01be6ed7$a1fc8ee0$21c9ca95@mowp.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2014.211

Slash is autoappended if directory in in current directory but not if it is
in cdpath. E.g.:

bor@itsrm2:~%> cd samba-2.0.3    (/tools/src/...)

but

bor@itsrm2:~%> cd save/          (where save is subdir of current)

this all with new completion stuff 'course. Unmodified from pws-12 if
globcomplete is unset - it's O.K.

/andrej

P.S. Looking at _cd I'd say, it is the subdir case that is wrong. Why does
_path_files decide for me, if I want to use any magical suffix? If anybody
likes it this way - let him set user preferences.

Again, any function from Core must do _only_ what it is told explicitly. It
should _not_ assume anything about user's intention. So, the correct way in
above example is to use

_path_files -/ -W cdpath -S/ -q

in _cd.

cheers

/andrej

