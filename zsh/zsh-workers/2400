From zsh-workers-request@euclid.skiles.gatech.edu  Thu Nov 14 07:56:43 1996
Return-Path: zsh-workers-request@euclid.skiles.gatech.edu
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by coral.primenet.com.au (8.7.6/8.7.3) with ESMTP id HAA05708 for <mason@primenet.com.au>; Thu, 14 Nov 1996 07:56:41 +1100 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id PAA10562; Wed, 13 Nov 1996 15:53:06 -0500 (EST)
Resent-Date: Wed, 13 Nov 1996 15:53:06 -0500 (EST)
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <961113105323.ZM29558@candle.brasslantern.com>
Date: Wed, 13 Nov 1996 10:53:23 -0800
In-Reply-To: Peter Stephenson <pws@ifh.de>
        "Re: zle_refresh trial patch (and unrelated bug)" (Nov 12,  1:40pm)
References: <199611121240.NAA28664@hydra.ifh.de>
Reply-To: schaefer@nbn.com
X-Mailer: Z-Mail (4.0b.820 20aug96)
To: zsh-workers@math.gatech.edu (Zsh hackers list)
Subject: Re: zle_refresh trial patch (and unrelated bug)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Resent-Message-ID: <"TP-i62.0.ya2.oKZYo"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/2400
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

On Nov 12,  1:40pm, Peter Stephenson wrote:
} Subject: Re: zle_refresh trial patch (and unrelated bug)
}
} "Bart Schaefer" wrote:
} > 	builtin let fun == 0 && eval function "$var"
} > 
} > Ah, I see -- I did accept-line once before, which changed "(( fun == 0 ))"
} > into "builtin let fun == 0", which is not being parsed correctly.
} 
} Nor will it ever be --- that's quite a serious bug.  `let' needs to
} get each expression as one single argument, so it should be
}    builtin let "fun == 0"
} and I'm pretty sure it was until not all that long ago.

So is somebody fixing this?  "zed -f" ("fned") is just about completely
useless because of this bug -- almost any function edited ends up broken.
Even with Peter's patch for "==", you get `bad math expression' errors.
	

-- 
Bart Schaefer                             Brass Lantern Enterprises
http://www.well.com/user/barts            http://www.nbn.com/people/lantern

