From zsh-workers-return-5784-mason-zsh=primenet.com.au@sunsite.auc.dk Sun Mar 14 05:05:42 1999
Return-Path: <zsh-workers-return-5784-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 6144 invoked from network); 14 Mar 1999 05:05:41 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 14 Mar 1999 05:05:41 -0000
Received: (qmail 4722 invoked by alias); 14 Mar 1999 05:05:06 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 5784
Received: (qmail 4715 invoked from network); 14 Mar 1999 05:05:03 -0000
To: zsh-workers@sunsite.auc.dk
Path: mason
From: mason@primenet.com.au (Geoff Wing)
Newsgroups: lists.zsh.workers
Subject: BUG: 3.1.5-pws-11 completion coredumps
Date: 14 Mar 1999 05:04:57 GMT
Organization: PrimeNet Computer Consultants
Lines: 43
Distribution: local
Message-ID: <slrn7emgro.5s8.mason@coral.primenet.com.au>
References: <9903131501.AA34131@ibmth.df.unipi.it>
Reply-To: mason@primenet.com.au
NNTP-Posting-Host: coral.primenet.com.au
X-Trace: coral.primenet.com.au 921387897 6111 203.43.15.2 (14 Mar 1999 05:04:57 GMT)
X-Complaints-To: usenet@coral.primenet.com.au
NNTP-Posting-Date: 14 Mar 1999 05:04:57 GMT
User-Agent: slrn/0.9.5.4 (UNIX)

Heyla,
may be fixed in pws-12 but nothing in pws's list seemed to indicate so.

Couple of core dumps with completion. pws-11 with all completion stuff
installed.
Doing ``~/src/she<TAB>'' (AUTO_CD obviously) at the prompt gave me:

~/src/she       BUG: attempt to free storage at invalid address
BUG: size wrong in freenode()
BUG: attempt to free storage at invalid address

and I think I just overwrote it with another coredump (doing the same
sort of thing) so this trace might not match the above note - but I've
kept this dump in case further information is required.

This is totally unmeaningful to me but someone who knows the structures
might be able to ask for the appropriate information.


#0  simplifyright (l=0x87320) at utils.c:2363
2362        c = l->left->left->left;
2363        if (c->type != SIMPLE || nonempty(c->args) || nonempty(c->redir)
(gdb) bt
#0  simplifyright (l=0x87320) at utils.c:2363
#1  0x354ff in gettext2 (n=0x87320) at text.c:173
#2  0x358f2 in gettext2 (n=0x871a0) at text.c:321
#3  0x35864 in gettext2 (n=0x87180) at text.c:293
#4  0x353af in getjobtext (n=0x87180) at text.c:135
#5  0xaf75 in execpline2 (pline=0x87170, how=2, input=0, output=0, last1=0)
    at exec.c:924
#6  0xaa7f in execpline (l=0x8715c, how=2, last1=0) at exec.c:771
#7  0xa758 in execlist (list=0x8714c, dont_change_job=1, exiting=0)
    at exec.c:650
#8  0x211ce in execwhile (cmd=0x6d4b8) at loop.c:301
..............
(gdb) p *(l->left)
$6 = {ntype = 1073746177, type = 0, flags = 0, left = 0x87344, right = 0x0}
(gdb) p *(l->left->left)
$7 = {ntype = 1073746178, type = 0, left = 0x0, right = 0x0}

-- 
Geoff Wing   <gcw@pobox.com>            Mobile : (Australia) 0412 162 441
Work URL: http://www.primenet.com.au/   Ego URL: http://pobox.com/~gcw/

