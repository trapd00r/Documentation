From zsh-users-return-14761-mason-zsh=primenet.com.au@zsh.org Sun Jan 31 21:42:09 2010
Return-Path: <zsh-users-return-14761-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10640 invoked by alias); 31 Jan 2010 21:42:08 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 14761
Received: (qmail 3017 invoked from network); 31 Jan 2010 21:42:06 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-3.6 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_DNSWL_MED,SUBJ_RE_NUM autolearn=ham version=3.2.5
Received-SPF: none (ns1.primenet.com.au: domain at zeitlins.org does not designate permitted sender hosts)
Date: Sun, 31 Jan 2010 22:19:38 +0100
From: Vadim Zeitlin <vz-zsh@zeitlins.org>
Subject: Re[2]: Completion of mixed-style paths still doesn't work under Cygwin with 4.3.10-dev-1
To: zsh-users@zsh.org
MIME-Version: 1.0
Content-Type: MULTIPART/SIGNED; protocol="application/pgp-signature"; micalg=pgp-sha1; BOUNDARY="465270674-5049-1264972779=:4756"
References: <E1NUJk8-0007ma-Tg@smtp.tt-solutions.com><20100112180813.17a3c910@news01><E1NUnip-0004ww-QB@smtp.tt-solutions.com><20100113102554.6a2a5fee@news01> <20100122203536.566182a2@pws-pc>
In-Reply-To: <20100122203536.566182a2@pws-pc>
X-Mailer: Mahogany 0.67.2 'Constance', running under Windows NT 6.1 (build 7600), 64-bit edition
Message-Id: <E1NbhCx-0004r2-0q@smtp.tt-solutions.com>

--465270674-5049-1264972779=:4756
Content-Type: TEXT/PLAIN; CHARSET=US-ASCII
Content-Disposition: INLINE

On Fri, 22 Jan 2010 20:35:36 +0000 Peter Stephenson <p.w.stephenson@ntlworld.com> wrote:

PS> On Wed, 13 Jan 2010 10:25:54 +0000
PS> Peter Stephenson <pws@csr.com> wrote:
PS> > On Tue, 12 Jan 2010 21:52:10 +0100
PS> > Vadim Zeitlin <vz-zsh@zeitlins.org> wrote:
PS> >> [completing after c:/ doesn't work sometimes]
PS> >
PS> >> I built zsh using "--enable-pcre --enable-multibyte" under Cygwin 1.7.1.
PS> >> Should I have used different configure options? Or maybe it's 1.7-specific?
PS> 
PS> It does appear to be a new feature which is easy enough to work around.
PS> It looks like "c:" is no longer regarded as a directory while "c:/"
PS> still is (try it with [[ -d c: ]] if you want to play along at home).

 Indeed, but this does make sense to me -- "c:" is not really a directory
unless you're willing to interpret it as the current working directory on
the drive "c:" which is how DOS does it but this hardly makes any sense in
Cygwin context. Of course, this doesn't explain why did "[[ -d c: ]]" work
before but it's still good to know that they fixed it.


PS> I've now escaped back to Linux: here's a patch that seemed to work,
PS> except I've only just realised that I'd better limit the slash-appending
PS> to single-letter drives---someone may know better---so that isn't
PS> tested.

 I've just tested it (sorry for the delay...) by updating to the latest git
version and it does work fine here now, thanks a lot!

PS> I presume this still works in earlier versions of Cygwin.

 I built the latest zsh under Cygwin 1.5.25 too and it seems to work fine
there as well.

 Thanks again for fixing this!
VZ

--465270674-5049-1264972779=:4756
Content-Type: APPLICATION/PGP-SIGNATURE

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (MingW32)

iEYEABECAAYFAktl8+sACgkQBupB3k9sHoYWAQCghIwGIHbCy4TJ/MEByl756f3+
9YsAmgPqlleOwPw5AlIhacaqutSO3UbQ
=l22s
-----END PGP SIGNATURE-----

--465270674-5049-1264972779=:4756--

