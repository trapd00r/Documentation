From zsh-workers-return-18424-mason-zsh=primenet.com.au@sunsite.dk Tue Apr 01 16:08:44 2003
Return-Path: <zsh-workers-return-18424-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13125 invoked from network); 1 Apr 2003 16:08:43 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 1 Apr 2003 16:08:43 -0000
Received: (qmail 13408 invoked by alias); 1 Apr 2003 16:08:36 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 18424
Received: (qmail 13400 invoked from network); 1 Apr 2003 16:08:36 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 1 Apr 2003 16:08:36 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [4.3.58.174] by sunsite.dk (MessageWall 1.0.8) with SMTP; 1 Apr 2003 16:8:35 -0000
Received: (from schaefer@localhost)
	by candle.brasslantern.com (8.11.6/8.11.6) id h31G8Y130169
	for zsh-workers@sunsite.dk; Tue, 1 Apr 2003 08:08:34 -0800
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <1030401160834.ZM30168@candle.brasslantern.com>
Date: Tue, 1 Apr 2003 16:08:33 +0000
In-Reply-To: <1030401154707.ZM17796@candle.brasslantern.com>
Comments: In reply to "Bart Schaefer" <schaefer@candle.brasslantern.com>
        "Re: PATCH: RLIMITS macros" (Apr  1,  3:47pm)
References: <2067.1049190004@csr.com> 
	<1030401154707.ZM17796@candle.brasslantern.com>
X-Mailer: Z-Mail (5.0.0 30July97)
To: zsh-workers@sunsite.dk (Zsh hackers list)
Subject: Re: PATCH: RLIMITS macros
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Apr 1,  3:47pm, Bart Schaefer wrote:
}
} It means that both RLIMIT_AS and RLIMIT_RSS are defined, are different
} from one another, and that RLIMIT_VMEM is not defined at all.

Oh, but the important bit is that they're defined as members of an enum,
not as integer digits, so they can't be compared for equality using the
preprocessor.

With the 18419 patch, zsh compiles but still mishandles "ulimit -v":

schaefer[571] Src/zsh -f
zagzig% limit         
cputime         unlimited
filesize        unlimited
datasize        unlimited
stacksize       8MB
coredumpsize    unlimited
memoryuse       unlimited
maxproc         2040
descriptors     1024
memorylocked    unlimited
addressspace    unlimited
zagzig% ulimit -v 1024
zagzig% zsh: segmentation fault (core dumped)  Src/zsh -f

