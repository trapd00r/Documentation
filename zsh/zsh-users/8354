From zsh-users-return-8354-mason-zsh=primenet.com.au@sunsite.dk Wed Jan 12 13:07:45 2005
Return-Path: <zsh-users-return-8354-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 25262 invoked from network); 12 Jan 2005 13:07:44 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 12 Jan 2005 13:07:44 -0000
Received: (qmail 64883 invoked from network); 12 Jan 2005 13:07:38 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 12 Jan 2005 13:07:38 -0000
Received: (qmail 782 invoked by alias); 12 Jan 2005 13:06:47 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8354
Received: (qmail 767 invoked from network); 12 Jan 2005 13:06:46 -0000
Received: from unknown (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 12 Jan 2005 13:06:46 -0000
Received: (qmail 63534 invoked from network); 12 Jan 2005 13:06:30 -0000
Received: from mailhost1.csr.com (HELO MAILSWEEPER01.csr.com) (81.105.217.43)
  by a.mx.sunsite.dk with SMTP; 12 Jan 2005 13:06:27 -0000
Received: from exchange03.csr.com (unverified [10.100.137.60]) by MAILSWEEPER01.csr.com
 (Content Technologies SMTPRS 4.3.12) with ESMTP id <T6e736fc5ac0a6c8d012dc@MAILSWEEPER01.csr.com> for <zsh-users@sunsite.dk>;
 Wed, 12 Jan 2005 13:05:07 +0000
Received: from news01.csr.com ([10.103.143.38]) by exchange03.csr.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Wed, 12 Jan 2005 13:08:41 +0000
Received: from news01.csr.com (localhost.localdomain [127.0.0.1])
	by news01.csr.com (8.13.1/8.12.11) with ESMTP id j0CD6QhS024306
	for <zsh-users@sunsite.dk>; Wed, 12 Jan 2005 13:06:26 GMT
Received: from csr.com (pws@localhost)
	by news01.csr.com (8.13.1/8.13.1/Submit) with ESMTP id j0CD6Q4L024303
	for <zsh-users@sunsite.dk>; Wed, 12 Jan 2005 13:06:26 GMT
Message-Id: <200501121306.j0CD6Q4L024303@news01.csr.com>
X-Authentication-Warning: news01.csr.com: pws owned process doing -bs
To: "zsh-users" <zsh-users@sunsite.dk>
Subject: Re: Expansions with glob_complete ignore no_case_glob 
In-reply-to: <200501120153.42038.cht@chello.at> 
References: <200501082341.04828.cht@chello.at> <200501101044.j0AAikYc003765@news01.csr.com> <200501120153.42038.cht@chello.at>
Date: Wed, 12 Jan 2005 13:06:25 +0000
From: Peter Stephenson <pws@csr.com>
X-OriginalArrivalTime: 12 Jan 2005 13:08:41.0050 (UTC) FILETIME=[D638F3A0:01C4F8A7]
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, hits=0.0 required=6.0 tests=none autolearn=no version=2.63
X-Spam-Hits: 0.0

Christian Taylor wrote:
> The thing that suprised me originally is that for
> instance wildcards apparently cause the pattern to be completed by a
> mechanism that both ignores NO_CASE_GLOB and the matcher-list
> configuration
> [when glob_complete is set].

Yes, it looks like you're correct.  It seems that the completion code
decides if there are pattern characters present and if there aren't it
handles matching internally, so that it works.  Otherwise it passes the
whole thing to the pattern matcher.  (I haven't traced this through but
something like this must be happening.)

Hmm, I think this is quite tricky.  The pattern matcher doesn't know
about the matcher list and training it would be tricky.  Getting the
completion code to fix up fixed string parts of the completion is also
tricky.  So this probably needs documenting as a limitation for now.

Index: Doc/Zsh/options.yo
===================================================================
RCS file: /cvsroot/zsh/zsh/Doc/Zsh/options.yo,v
retrieving revision 1.35
diff -u -r1.35 options.yo
--- Doc/Zsh/options.yo	3 Sep 2004 09:47:48 -0000	1.35
+++ Doc/Zsh/options.yo	12 Jan 2005 13:05:41 -0000
@@ -215,6 +215,11 @@
 tt(COMPLETE_IN_WORD) is set.  This actually uses pattern matching, not
 globbing, so it works not only for files but for any completion, such as
 options, user names, etc.
+
+Note that when the pattern matcher is used, matching control (for example,
+case-insensitive or anchored matching) cannot be used.  This limitation
+only applies when the current word contains a pattern; simply turning
+on the tt(GLOB_COMPLETE) option does not have this effect.
 )
 pindex(HASH_LIST_ALL)
 item(tt(HASH_LIST_ALL) <D>)(

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR PLC, Churchill House, Cambridge Business Park, Cowley Road
Cambridge, CB4 0WZ, UK                          Tel: +44 (0)1223 692070


**********************************************************************
This email and any files transmitted with it are confidential and
intended solely for the use of the individual or entity to whom they
are addressed. If you have received this email in error please notify
the system manager.

This footnote also confirms that this email message has been swept by
MIMEsweeper for the presence of computer viruses.

www.mimesweeper.com
**********************************************************************

