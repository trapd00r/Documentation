From zsh-users-return-13182-mason-zsh=primenet.com.au@sunsite.dk Mon Sep 01 23:38:12 2008
Return-Path: <zsh-users-return-13182-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 26267 invoked from network); 1 Sep 2008 23:38:10 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 1 Sep 2008 23:38:10 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 56816 invoked from network); 1 Sep 2008 23:37:32 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 1 Sep 2008 23:37:32 -0000
Received: (qmail 20887 invoked by alias); 1 Sep 2008 23:36:50 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 13182
Received: (qmail 20867 invoked from network); 1 Sep 2008 23:36:48 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 1 Sep 2008 23:36:48 -0000
Received: from mail.asahi-net.or.jp (mail1.asahi-net.or.jp [202.224.39.197])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 9ABC9801E2B4
	for <zsh-users@sunsite.dk>; Tue,  2 Sep 2008 01:36:45 +0200 (CEST)
Received: from blackhawk (x065073.dynamic.ppp.asahi-net.or.jp [122.249.65.73])
	by mail.asahi-net.or.jp (Postfix) with ESMTP id 7307350CFA
	for <zsh-users@sunsite.dk>; Tue,  2 Sep 2008 08:36:43 +0900 (JST)
Message-ID: <20080902083645.3516@blackhawk>
From: "d.henman" <dhenman@gmail.com>
Date: Tue, 02 Sep 2008 08:36:45 +0900
To: <zsh-users@sunsite.dk>
cc: 
Subject: Re: Capitalization tuning
In-reply-to: Your message of Sun, 31 Aug 2008 05:14:03 +0200
	 <237967ef0808302014s150e5aedtaea77d6cffbdf0f6@mail.gmail.com>
References: <20080831093724.444@blackhawk>
	 <237967ef0808302014s150e5aedtaea77d6cffbdf0f6@mail.gmail.com>
X-Mailer: MH-E 8.0.3+cvs; GNU Mailutils 1.9.90; GNU Emacs 23.0.60
X-Virus-Scanned: ClamAV 0.92.1/8135/Mon Sep  1 23:12:33 2008 on bifrost
X-Virus-Status: Clean


Mikael:
  the double substitution method you provided below works well.  

zsh-developers:
  I would be willing to write a new or modify the existing expansion flag code for
  (C) capitalize,  so that it would use an array or list of word separators, which
  a user could set, or allow the users to supply a word seperator list list
  s:separator-list: for example, for filenames I usually always, s/ /_/ , get rid
  of spaces in names, which apparently the existing C flags treats write as a space.

  I have never looked at the source code.  But, there's always a first time.  If someone would lead to where the 'c' parameter expansion flag processing done, I'd look at it.  If it has too many interactions with other code, I'd leave it be as it might n
ot be worth the effort.  Any ideas?

Thanks,
  darel henman


Mikael Magnusson <mikachu@gmail.com> wrote:
> 2008/8/31  <henman@tech.email.ne.jp>:
> ......
> > The problem with the current operation of the Capitalization function is that it capitalizes the first letter of conjunction tails as well.
> >
> > For example:
> >     $ CONJUNCT="I'll" && echo ${(C)CONJUNCT}
> >     I'Ll
> >     $CONJUNCT="They've" && echo ${(C)CONJUNCT}
> >     They'Ve
> >
> > ....
> 
> This is possibly not the best, or even a good, way, but it seems to work:
> ${${(C)${CONJUNCT//\'/\'1}}//\'1/\'}
> 
> -- 
> Mikael Magnusson

