From zsh-workers-return-17043-mason-zsh=primenet.com.au@sunsite.dk Thu Apr 25 14:58:45 2002
Return-Path: <zsh-workers-return-17043-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 28371 invoked from network); 25 Apr 2002 14:58:44 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 25 Apr 2002 14:58:44 -0000
Received: (qmail 5238 invoked by alias); 25 Apr 2002 14:58:38 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 17043
Received: (qmail 5227 invoked from network); 25 Apr 2002 14:58:35 -0000
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <1020425145828.ZM19540@candle.brasslantern.com>
Date: Thu, 25 Apr 2002 14:58:28 +0000
In-Reply-To: <001d01c1ec30$315bf520$1fc1f2a3@mow.siemens.ru>
Comments: In reply to Borsenkow Andrej <Andrej.Borsenkow@mow.siemens.ru>
        "RE: 4.0.5 ?" (Apr 25, 12:07pm)
References: <001d01c1ec30$315bf520$1fc1f2a3@mow.siemens.ru>
X-Mailer: Z-Mail (5.0.0 30July97)
To: "'Zsh hackers list'" <zsh-workers@sunsite.dk>
Subject: Re: 4.0.5 ?
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Apr 25, 12:07pm, Borsenkow Andrej wrote:
}
} > Would it work on platforms like Linux to link modules against those
} > they depend. Using external files would be ugly but I'd mind less if
} > they were only needed on some platforms.
} 
} I am not sure what do you mean. Several modules in one shared object?

No, not several modules in one shared object.

On some platforms (I'm not sure what proportion) it's possible to link
two shared objects that have a dependency such that when one of them is
dynamically loaded, the loader discoveres the dependency and also loads
the second shared object.  E.g. libXt depends on libX11, so if the final
binary is explicitly linked with -lXt it is implicitly linked with -lX11
as well.  This does not mean that libXt and libX11 are the same .so.

} I still hope to find some automatic way to replace all variables with
} functions.

The difficult part is replacing assignments with calls to set the value.
I can think of a way using setup-time function calls and static decls to
(relatively) automatically deal with read-only access, but it's going to
take a search of the code and hand editing to fix assignments.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

