From zsh-workers-return-17260-mason-zsh=primenet.com.au@sunsite.dk Thu May 30 13:27:36 2002
Return-Path: <zsh-workers-return-17260-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10776 invoked from network); 30 May 2002 13:27:35 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 30 May 2002 13:27:35 -0000
Received: (qmail 20898 invoked by alias); 30 May 2002 13:27:24 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 17260
Received: (qmail 20881 invoked from network); 30 May 2002 13:27:22 -0000
X-VirusChecked: Checked
In-reply-to: <Pine.SV4.4.44.0205301632500.21658-100000@itsrm2.mow.siemens.ru>
From: Oliver Kiddle <okiddle@yahoo.co.uk>
References: <Pine.SV4.4.44.0205301632500.21658-100000@itsrm2.mow.siemens.ru>
To: Zsh workers <zsh-workers@sunsite.dk>
Subject: Re: zsh: Strange feature with 'jobs' commmand
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-ID: <23506.1022765193.1@logica.com>
Date: Thu, 30 May 2002 14:26:53 +0100
Sender: kiddleo@logica.com
Message-Id: <E17DPx8-00067B-00@bimbo.logica.co.uk>

On 30 May, you wrote:
> 
> > Incidentally, I think bash special cases the jobs builtin and would
> > run less in a subshell in this case instead. Could we do something like
> 
> IIRC bash runs right part of every pipe in subshell. We run left pipe.

I think I have read something about a special case on a newsgroup
somewhere. A quick grep in the bash sources reveals a jobs_hack variable
which has a comment saying that it is there to allow jobs to be piped
but that may be solving some other issue.

> This makes it possible to do something like
> foo | read FOO_RESULT

ksh93 manages to do both this and piped output from jobs so it must be
possible. I just think it is a bit crap that it doesn't work because it
will take anyone who doesn't know by surprise.

> Anyway, I am afraid, changing it requires quite a major rewrite. And in

Tricks like jobs > >(cat -) sort-of work so I was thinking a special
case hack for jobs might not need a big rewrite. But I've never gone
near that part of zsh's code so wouldn't know.

Oliver

This e-mail and any attachment is for authorised use by the intended recipient(s) only.  It may contain proprietary material, confidential information and/or be subject to legal privilege.  It should not be copied, disclosed to, retained or used by, any other party.  If you are not an intended recipient then please promptly delete this e-mail and any attachment and all copies and inform the sender.  Thank you.

