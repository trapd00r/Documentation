From zsh-users-return-14623-mason-zsh=primenet.com.au@zsh.org Tue Dec 01 21:10:21 2009
Return-Path: <zsh-users-return-14623-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9660 invoked by alias); 1 Dec 2009 21:10:21 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 14623
Received: (qmail 27654 invoked from network); 1 Dec 2009 21:10:18 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received-SPF: pass (ns1.primenet.com.au: SPF record at ntlworld.com designates 81.103.221.56 as permitted sender)
Message-Id: <200912012040.nB1Ke6nl008254@pws-pc.ntlworld.com>
From: Peter Stephenson <p.w.stephenson@ntlworld.com>
To: zsh-users@zsh.org
Subject: Re: aliases expanding aliases: a bug?
In-Reply-To: Message from Jay Berkenbilt <ejb@ql.org>
   of "Tue, 01 Dec 2009 15:00:53 EST." <20091201150051.0942597181.qww314159@motoko.argon.local>
Date: Tue, 01 Dec 2009 20:40:06 +0000
X-Cloudmark-Analysis: v=1.1 cv=ZtHxNT4mZm3rCuM0SmWmgWxeBwJsziC8EqOrwwVkrhA= c=1 sm=0 a=pTVNCNt006wA:10 a=rqnhLaPHQYOmOW4Ha1YA:9 a=wRbNnXQlcsDhXgDe2ZYPlDqp1HUA:4 a=HpAAvcLHHh0Zw7uRqdWCyQ==:117

Jay Berkenbilt wrote:
> I just downloaded zsh 4.3.10, and I am able to reproduce this problem
> with that version.  It appears that if an alias ends with a space,
> arguments that themselves happen to be aliases are expanded, at least in
> some cases.

See zshmisc.  It's so you can do things like

  alias noglob="noglob "

and have aliases expanded after that.  People who regard "noglob" as
just a modifier might want alias expansion after it, others might not.

ALIASING
       Every  token  in the shell input is checked to see if there is an alias
       defined for it.  If so, it is replaced by the text of the alias  if  it
       is  in command position (if it could be the first word of a simple com-
       mand), or if the alias is global.  If the text ends with a  space,  the
       next  word  in  the shell input is treated as though it were in command
       position for purposes of alias expansion.  An alias  is  defined  using
       the alias builtin; global aliases may be defined using the -g option to
       that builtin.

pws

