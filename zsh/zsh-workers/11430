From zsh-workers-return-11430-mason-zsh=primenet.com.au@sunsite.auc.dk Wed May 17 06:52:51 2000
Return-Path: <zsh-workers-return-11430-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 28695 invoked from network); 17 May 2000 06:52:49 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 17 May 2000 06:52:49 -0000
Received: (qmail 25108 invoked by alias); 17 May 2000 06:52:43 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 11430
Received: (qmail 25101 invoked from network); 17 May 2000 06:52:43 -0000
Date: Wed, 17 May 2000 08:52:23 +0200 (MET DST)
Message-Id: <200005170652.IAA27427@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: "Bart Schaefer"'s message of Tue, 16 May 2000 16:38:25 +0000
Subject: Re: Completion tests fail with patches to 11415


Bart Schaefer wrote:

> *** /tmp/zsh.ztst.out.26678     Tue May 16 09:36:31 2000
> --- /tmp/zsh.ztst.tout.26678    Tue May 16 09:36:33 2000
> ***************
> *** 1 ****
> ! line: {tst -x }{}
> --- 1,2 ----
> ! line: {tst -}{}
> ! MESSAGE:{arg}
> Test ../../zsh-3.1.6/Test/53completion.ztst failed: output differs from expected as shown above for:
>  code='compdef _tst tst; _tst () { _arguments "-x" ":arg:" }'
>  comptest -c "$code" $'tst -\t'
> Was testing: _arguments
> ../../zsh-3.1.6/Test/53completion.ztst: test failed.

That's caused by 11406. Humm.

What are we supposed to do now. With respect to the patch, this
behaviour is correct (and quite reasonable, I think). Should we only
update the test? Should we make _arguments not try default-option
completion only when it tried a *non-empty* action?

I think I prefer the former.

Bye
 Sven


--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

