From zsh-workers-request@math.gatech.edu Mon Apr 27 09:25:36 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 16039 invoked from network); 27 Apr 1998 09:25:35 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 27 Apr 1998 09:25:35 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id FAA10791;
	Mon, 27 Apr 1998 05:18:42 -0400 (EDT)
Resent-Date: Mon, 27 Apr 1998 05:18:42 -0400 (EDT)
Date: Mon, 27 Apr 1998 10:18:42 +0100
From: Andrew Main <zefram@tao.co.uk>
Message-Id: <199804270918.KAA25045@diamond.tao.co.uk>
To: zsh-workers@math.gatech.edu
Subject: PATCH: CHASE_LINKS fix
X-Patch: 271
Resent-Message-ID: <"pjquj3.0.Ve2.or4Hr"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3872
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

-----BEGIN PGP SIGNED MESSAGE-----

zsh's pwd code is that dangerous combination: so appalling that you
feel compelled to rip it out and start from scratch, but so amazingly
clever that it can't just be reimplemented in a couple of afternoons.
A lot of programs such as sendmail stick around for much this reason.
Any volunteers?

 *** Src/utils.c	1998/03/22 19:43:01	1.88
 --- Src/utils.c	1998/04/25 17:54:46
 ***************
 *** 362,368 ****
       if (*s != '/')
   	return NULL;
       *xbuf = '\0';
 !     if (xsymlinks(s + 1, 1))
   	return ztrdup(s);
       if (!*xbuf)
   	return ztrdup("/");
 --- 362,368 ----
       if (*s != '/')
   	return NULL;
       *xbuf = '\0';
 !     if (!xsymlinks(s + 1, 1))
   	return ztrdup(s);
       if (!*xbuf)
   	return ztrdup("/");

-----BEGIN PGP SIGNATURE-----
Version: PGPfreeware 5.0i for non-commercial use
Charset: ascii

iQEVAwUBNUJr5Jmk9GeOHh7BAQFcOgf/Uinif0Sq95PbhUjYBmHQtLokU3OLe7Uz
3oOPs3EJZll//rWhWA17WNok3t7Qoq3xZD4PFPiBU6SDGk4305EmHdBiDbMMKNoG
X8VMEswDgdhmHS0KHuE/ZGgyTSM7a0YKzrs/iCXDPHtv39Q0+6cNxPPcypSG+upe
Y/bBWVbyKNGh/ZIhG6af0VY3LdMYc3mLL9nL+1NPcEGR/MggXVdV1gpYuur32aDs
lXrtbSzj6OLmt0UMk843AUtGCkzOcs4vHrUngQO+KpXA+RYKKhTL8/JpWm/ZJaSf
mB1viV0oI4GQ14ml1PqENcXPrYKO1mIwEXWbY9ai7nSy3UpQMvdxjw==
=S80k
-----END PGP SIGNATURE-----

