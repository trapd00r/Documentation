From zsh-workers-request@math.gatech.edu Thu Sep 03 01:11:14 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 20684 invoked from network); 3 Sep 1998 01:11:12 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 3 Sep 1998 01:11:12 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.9.1/8.9.1) id UAA17658;
	Wed, 2 Sep 1998 20:51:20 -0400 (EDT)
Resent-Date: Wed, 2 Sep 1998 20:51:20 -0400 (EDT)
Mail-Copies-To: steve@xemacs.org
To: zsh-workers@math.gatech.edu
Subject: zsh-3.1.4 bug, parsing case ... esac
X-Face: (:YAD@JS'&Kz'M}n7eX7gEvPR6U1mJ-kt;asEc2qAv;h{Yw7ckz<7+X_SYeTNAaPui:e~x$
 ,A=gkt*>UPL/}\a/#C~v2%ETiAY_sx;xve0yL??JWTtX_-NUzXyP38UdW#cmN1\4(X!c3m#%IbtB-3
 Z-!xpZi!`E.s{(;aP=b11"!3wQu]1j@^V|;n=B|{l<bZV1.AI`zWV%kPCnUhcgEe\(}/_kNd6,*3ZJ
 Q3o<YQ3^u;7jS=:p0--u3msQO
X-Attribution: sb
From: SL Baur <steve@xemacs.org>
Mime-Version: 1.0 (generated by tm-edit 7.108)
Content-Type: text/plain; charset=US-ASCII
Date: 02 Sep 1998 17:53:15 -0700
Message-ID: <m267f6koec.fsf@altair.xemacs.org>
Lines: 16
X-Mailer: Gnus v5.6.42/XEmacs 21.0 - "Irish Goat"
Resent-Message-ID: <"GEueC3.0.oJ4.7WUxr"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/4374
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

The following code, when executed in zsh running as /bin/sh produces
the error messages:
zsh: parse error near `echo'
zsh: parse error in command substitution

"BISON=`if [ -f /usr/src/egcs-1.1a/gcc/../bison/bison ] ; then
		case . in
		/*) echo /usr/src/egcs-1.1a/gcc/../bison/bison -L ./../bison/ ;;
		*) echo /usr/src/egcs-1.1a/gcc/../bison/bison -L /usr/src/egcs-1.1a/gcc/./../bison/ ;;
		esac else echo bison ;
	fi`"

adding a semicolon after the esac makes the messages go away, but I
think this should work as is.

This test case came from egcs-1.1a and causes the build to break.

