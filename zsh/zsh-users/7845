From zsh-users-return-7845-mason-zsh=primenet.com.au@sunsite.dk Sun Aug 15 05:01:41 2004
Return-Path: <zsh-users-return-7845-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 28766 invoked from network); 15 Aug 2004 05:01:40 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 15 Aug 2004 05:01:40 -0000
Received: (qmail 70476 invoked from network); 15 Aug 2004 05:01:33 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 15 Aug 2004 05:01:33 -0000
Received: (qmail 24913 invoked by alias); 15 Aug 2004 05:00:49 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 7845
Received: (qmail 24903 invoked from network); 15 Aug 2004 05:00:48 -0000
Received: from unknown (HELO a.mx.sunsite.dk) (130.225.247.88)
  by 130.225.247.90 with SMTP; 15 Aug 2004 05:00:48 -0000
Received: (qmail 68563 invoked from network); 15 Aug 2004 04:58:50 -0000
Received: from dsl3-63-249-88-2.cruzio.com (HELO binome.blorf.net) (63.249.88.2)
  by a.mx.sunsite.dk with SMTP; 15 Aug 2004 04:58:48 -0000
Received: by binome.blorf.net (Postfix, from userid 1000)
	id E1C9E11DF5; Sat, 14 Aug 2004 21:58:45 -0700 (PDT)
Date: Sat, 14 Aug 2004 21:58:45 -0700
From: Wayne Davison <wayned@users.sourceforge.net>
To: zsh-users@sunsite.dk
Subject: Re: Resolved: Sourcing .zshrc from .zprofile causes problems
Message-ID: <20040815045845.GA16836@blorf.net>
References: <7E0A2482-ECC4-11D8-A541-000A95D2C79E@kalama.no-ip.org> <Pine.LNX.4.61.0408122151280.15905@toltec.zanshin.com> <F692BDE6-EE06-11D8-BE5C-000A95D2C79E@kalama.no-ip.org> <20040814182036.GS7509@ay.vinc17.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20040814182036.GS7509@ay.vinc17.org>
User-Agent: Mutt/1.5.6+20040722i
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, hits=-0.9 required=6.0 tests=BAYES_10 autolearn=no 
	version=2.63
X-Spam-Hits: -0.9

On Sat, Aug 14, 2004 at 08:20:36PM +0200, Vincent Lefevre wrote:
> You should define LC_COLORS in your .zshenv file.

Not necessarily.  The .zshenv file is for things that are needed by all
shells, including non-interactive scripts.  As such, I would suggest
just exporting LC_COLORS from .zprofile and leaving it alone.

The only thing I have in my .zshenv script is this:

if [[ $SHLVL == 1 && ! -o LOGIN ]]; then
    source ~/.zprofile
fi

This is a kludge that ensured that an xterm that didn't start with any
of my login settings sourced my .zprofile.  I'm not sure if it's still
needed with a modern X Windows setup, though.  Hmm, I wonder if that
works right with a cron-initiated zsh script?  Perhaps not...

I used to set things like the PATH in the .zshenv file until it caused
me problems using gdb:  gdb runs the executable using $SHELL, and that
caused some of my debug environment settings to get overridden (ouch).

..wayne..

