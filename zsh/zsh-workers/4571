From zsh-workers-request@math.gatech.edu Fri Nov 06 07:54:35 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2741 invoked from network); 6 Nov 1998 07:54:34 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 6 Nov 1998 07:54:34 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.9.1/8.9.1) id CAA15409;
	Fri, 6 Nov 1998 02:52:28 -0500 (EST)
Resent-Date: Fri, 6 Nov 1998 02:52:28 -0500 (EST)
Date: Fri, 6 Nov 1998 08:50:33 +0100 (MET)
Message-Id: <199811060750.IAA04335@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@math.gatech.edu
In-reply-to: Peter Stephenson's message of Thu, 05 Nov 1998 17:52:45 +0100
Subject: Re: another bug in suffix removal 3.1.5
Resent-Message-ID: <"ofvxQ3.0.im3.yggGs"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/4571
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu


Peter Stephenson wrote:

> 
> Sven Wischnowsky wrote:
> > greg@alphatech.com wrote:
> > 
> > > OK, I found another one:
> > > 
> > > % mkdir foo
> > > % mkdir foo/bar
> > > % bar <Control-a> <Control-k>   # IE, get "bar" in the kill ring
> > > % ls f <tab>
> > >   -> foo/ <Control-y>
> > >   -> foobar                     # the slash got removed when "bar" was yank
> > ed
> > 
> > No patch for this now (I have to go soon), but this looks like yet
> > another missing fixsuffix() problem.
> 
> Isn't it just a case of adding ZLE_KEEPSUFFIX to the flags for yank?
> The following would be my suggestion.  Seems to work.

Probably depends on what behavior you like if there is nothing to
yank. Without your patch, the suffix is removed which is certainly
wrong. With your patch the suffix is kept and made non-auto-removable.
Personally I would prefer zsh to leave the suffix on the line and
automatically removable in whenever a zle widget doesn't change the
line and cursor position. But maybe I'm the only one who would prefer
that.


Bye
 Sven


--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

