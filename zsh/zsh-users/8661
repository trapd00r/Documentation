From zsh-users-return-8661-mason-zsh=primenet.com.au@sunsite.dk Mon Apr 11 02:25:30 2005
Return-Path: <zsh-users-return-8661-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 3877 invoked from network); 11 Apr 2005 02:25:29 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 11 Apr 2005 02:25:29 -0000
Received: (qmail 26933 invoked from network); 11 Apr 2005 02:25:21 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 11 Apr 2005 02:25:21 -0000
Received: (qmail 4395 invoked by alias); 11 Apr 2005 02:25:12 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8661
Received: (qmail 4376 invoked from network); 11 Apr 2005 02:25:11 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 11 Apr 2005 02:25:11 -0000
Received: (qmail 25808 invoked from network); 11 Apr 2005 02:25:11 -0000
Received: from stealth.centie.net.au (202.9.7.69)
  by a.mx.sunsite.dk with SMTP; 11 Apr 2005 02:25:06 -0000
Received: from [IPv6:::1] (stealth.centie.net.au [202.9.7.69])
	by stealth.CeNTIE.NET.au (Postfix) with ESMTP
	id AAE1C2600481; Mon, 11 Apr 2005 12:25:02 +1000 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <cdca7ed2ec2648304c1d580498d8dde3@mindflux.com.au>
Content-Transfer-Encoding: 7bit
Cc: Thom May <thom@ubuntu.com>
X-Image-Url: http://www.algorithm.com.au/albums/ozone/Me.jpg
From: Andre Pang <andre@mindflux.com.au>
Subject: compctl_rehash for zshcompsys
Date: Mon, 11 Apr 2005 12:25:01 +1000
To: zsh-users@sunsite.dk
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=6.0 tests=BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.6

Hi all,

I had a really handy old macro for zsh v3 that automatically rehashed 
on a failed tab command completion, using the compctl completion 
system:

     http://www.zsh.org/mla/workers/1998/msg00574.html

     function compctl_rehash { rehash; reply=() }
     compctl -C -c + -K compctl_rehash + -c

Since I'm really, really far from a zsh guru, would it be asking too 
much for a kind soul to get this working with the new zshcompsys system 
used in zsh 4?  I did try, but my brain died after I read the 
zshcompsys manpage for 5 minutes ...

Thanks very much!


-- 
% Andre Pang : trust.in.love.to.save  <http://www.algorithm.com.au/>

