From zsh-users-return-11965-mason-zsh=primenet.com.au@sunsite.dk Mon Oct 08 15:20:25 2007
Return-Path: <zsh-users-return-11965-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 13039 invoked from network); 8 Oct 2007 15:20:17 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.3 (2007-08-08) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.3
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 8 Oct 2007 15:20:17 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 48012 invoked from network); 8 Oct 2007 15:20:10 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 8 Oct 2007 15:20:10 -0000
Received: (qmail 21603 invoked by alias); 8 Oct 2007 15:19:58 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 11965
Received: (qmail 21585 invoked from network); 8 Oct 2007 15:19:58 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 8 Oct 2007 15:19:58 -0000
Received: (qmail 46268 invoked from network); 8 Oct 2007 15:19:58 -0000
Received: from wr-out-0506.google.com (64.233.184.224)
  by a.mx.sunsite.dk with SMTP; 8 Oct 2007 15:19:52 -0000
Received: by wr-out-0506.google.com with SMTP id c48so630081wra
        for <zsh-users@sunsite.dk>; Mon, 08 Oct 2007 08:19:51 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:received:date:from:to:subject:message-id:references:mime-version:content-type:content-disposition:in-reply-to:user-agent;
        bh=S2CPjXIYSzZ5URDPKorwJFv90/v7Nb3FKs0caBRrdWw=;
        b=sOqjmgvGx6bDNmIyGaR9fI7gWaaFDng49C0Xl26FUbnJ+Hag7uiZFHqR7WFFbE5MTXthD0MlCC31ArdU2DBcGY0xeNcdPtZxYJ1m7IBuyRLNmFOGLab6VUrVFLfP2d264LVO3jbVfk2AWk84lklEVtEW6DB8fOhXGtXShD4+EqY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:date:from:to:subject:message-id:references:mime-version:content-type:content-disposition:in-reply-to:user-agent;
        b=aS4oAE5PAD30bMFZgsVwfkzPQH0VaMVyf3Wo3GeUQB8kqbgNSM4C+yWushh8I8ri4KyYgpBubNVa//NVZueI7/hFaMWC7LjGbM5nTBh/oVDe/0vCwQFp5AflkORk0qOLyclGVhkXF2zsaIQpnzbGx0PHpTuxhCGTQYqnBQzgXQU=
Received: by 10.90.90.3 with SMTP id n3mr3807504agb.1191856791224;
        Mon, 08 Oct 2007 08:19:51 -0700 (PDT)
Received: from mastermind ( [76.99.60.158])
        by mx.google.com with ESMTPS id d19sm6896169and.2007.10.08.08.19.48
        (version=TLSv1/SSLv3 cipher=OTHER);
        Mon, 08 Oct 2007 08:19:49 -0700 (PDT)
Received: by mastermind (sSMTP sendmail emulation); Mon, 08 Oct 2007 11:19:49 -0400
Date: Mon, 8 Oct 2007 11:19:49 -0400
From: Matthew Wozniski <godlygeek@gmail.com>
To: zsh-users@sunsite.dk
Subject: Re: Failing to write to history file if containing directory
	doesn't exist
Message-ID: <20071008151949.GA18576@mastermind>
References: <dbfc82860710080309m41cfa984q5aa0474c6b4bdf62@mail.gmail.com> <200710081015.l98AFlIU018448@news01.csr.com> <dbfc82860710080508o3ef1de0br957caf39bb2aa19f@mail.gmail.com> <200710081338.l98Dc2br012284@news01.csr.com> <dbfc82860710080705w6e90db9i2a9714caf27460c4@mail.gmail.com> <20071008141403.GA25326@scowler.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20071008141403.GA25326@scowler.net>
User-Agent: Mutt/1.5.15+20070412 (2007-04-11)

On Mon, Oct 08, 2007 at 10:14:03AM -0400, Clint Adams wrote:
> Personally, I'd be a little shocked and annoyed if zsh started creating
> directories without my explicit permission.

I don't know that I'd be shocked, but I would err on the side of
a smaller, faster, more maintainable shell, given how easy to handle
in shell code the problem is.  Shell code is more easily maintained
than C, and for an error condition that should only exist when the
HISTFILE parameter is set, I think adding code to the shell itself
would be overkill.  If you're already setting HISTFILE yourself, it's
not too much extra work to add an mkdir -p above it.

~Matt

