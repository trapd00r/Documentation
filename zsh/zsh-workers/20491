From zsh-workers-return-20491-mason-zsh=primenet.com.au@sunsite.dk Fri Oct 15 10:23:34 2004
Return-Path: <zsh-workers-return-20491-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 25048 invoked from network); 15 Oct 2004 10:23:33 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 15 Oct 2004 10:23:33 -0000
Received: (qmail 35863 invoked from network); 15 Oct 2004 10:23:27 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 15 Oct 2004 10:23:27 -0000
Received: (qmail 27703 invoked by alias); 15 Oct 2004 10:23:24 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 20491
Received: (qmail 27689 invoked from network); 15 Oct 2004 10:23:23 -0000
Received: from unknown (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 15 Oct 2004 10:23:23 -0000
Received: (qmail 35305 invoked from network); 15 Oct 2004 10:22:24 -0000
Received: from smtp1.freeserve.com (HELO mwinf3002.me.freeserve.com) (193.252.22.158)
  by a.mx.sunsite.dk with SMTP; 15 Oct 2004 10:22:21 -0000
Received: by mwinf3002.me.freeserve.com (SMTP Server, from userid 1003)
	id 56A961800084; Fri, 15 Oct 2004 12:22:21 +0200 (CEST)
Received: from wwinf3004 (wwinf3004 [172.22.159.31])
	by mwinf3002.me.freeserve.com (SMTP Server) with ESMTP id 3CD101800083
	for <zsh-workers@sunsite.dk>; Fri, 15 Oct 2004 12:22:21 +0200 (CEST)
Message-ID: <22780518.1097835741231.JavaMail.www@wwinf3004>
From: pws@pwstephenson.fsnet.co.uk
Reply-To: pws@pwstephenson.fsnet.co.uk
To: zsh-workers <zsh-workers@sunsite.dk>
Subject: Re: Pattern change
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 7bit
X-Originating-IP: [217.118.122.222]
Date: Fri, 15 Oct 2004 12:22:21 +0200 (CEST)
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, hits=0.2 required=6.0 tests=NO_REAL_NAME autolearn=no 
	version=2.63
X-Spam-Hits: 0.2

> I'm about to commit the change suggested by Bart that treats the test string for
> pattern matching by length instead of assuming null termination.

This is now committed.

> Pattern matching still uses memory allocation internally in two places.  First, it
> uses it to copy in the start of the path for ~-exclusion.  This can probably be
> moved further up by using appropriate flags.

Fixed this in the meanwhile, too.

I can see how to improve the other case, but it makes it yet more complicated, so
I'm not sure it's worth it.

-- 

Whatever you Wanadoo:
http://www.wanadoo.co.uk/time/

This email has been checked for most known viruses - find out more at: http://www.wanadoo.co.uk/help/id/7098.htm

