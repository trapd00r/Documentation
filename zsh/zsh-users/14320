From zsh-users-return-14320-mason-zsh=primenet.com.au@sunsite.dk Tue Aug 25 16:15:53 2009
Return-Path: <zsh-users-return-14320-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10799 invoked from network); 25 Aug 2009 16:15:50 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.4 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from new-brage.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.254.104)
  by ns1.primenet.com.au with SMTP; 25 Aug 2009 16:15:50 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 13937 invoked from network); 25 Aug 2009 16:15:14 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 25 Aug 2009 16:15:14 -0000
Received: (qmail 27175 invoked by alias); 25 Aug 2009 16:14:40 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 14320
Received: (qmail 27083 invoked from network); 25 Aug 2009 16:14:38 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 25 Aug 2009 16:14:38 -0000
Received: from cluster-g.mailcontrol.com (cluster-g.mailcontrol.com [208.87.233.190])
	by bifrost.dotsrc.org (Postfix) with ESMTPS id 60C09810A4AA
	for <zsh-users@sunsite.dk>; Tue, 25 Aug 2009 18:14:29 +0200 (CEST)
Received: from dalamsexb02.AMERICAS.ROOT.PRI ([65.208.56.47])
	by rly11g.srv.mailcontrol.com (MailControl) with ESMTP id n7PGDrex018136
	for <zsh-users@sunsite.dk>; Tue, 25 Aug 2009 17:14:25 +0100
Received: from SJOAMSEXB01.AMERICAS.ROOT.PRI ([10.110.12.58]) by dalamsexb02.AMERICAS.ROOT.PRI with Microsoft SMTPSVC(6.0.3790.1830);
	 Tue, 25 Aug 2009 11:14:15 -0500
Received: from cameurexb01.EUROPE.ROOT.PRI ([10.100.137.61]) by SJOAMSEXB01.AMERICAS.ROOT.PRI with Microsoft SMTPSVC(6.0.3790.3959);
	 Tue, 25 Aug 2009 09:12:49 -0700
Received: from news01.csr.com ([10.99.50.25]) by cameurexb01.EUROPE.ROOT.PRI with Microsoft SMTPSVC(6.0.3790.3959);
	 Tue, 25 Aug 2009 17:12:47 +0100
Received: from news01.csr.com (localhost.localdomain [127.0.0.1])
	by news01.csr.com (8.14.2/8.13.4) with ESMTP id n7PGClbm001672
	for <zsh-users@sunsite.dk>; Tue, 25 Aug 2009 17:12:48 +0100
Received: from csr.com (pws@localhost)
	by news01.csr.com (8.14.2/8.14.2/Submit) with ESMTP id n7PGCkki001668
	for <zsh-users@sunsite.dk>; Tue, 25 Aug 2009 17:12:47 +0100
Message-Id: <200908251612.n7PGCkki001668@news01.csr.com>
X-Authentication-Warning: news01.csr.com: pws owned process doing -bs
To: zsh-users@sunsite.dk
Subject: Re: Strip a Carriage-Return from a string/variable
In-reply-to: <Xns9C72ADE69DF67zzappergmailcom@80.91.229.13>
References: <Xns9C72ADE69DF67zzappergmailcom@80.91.229.13>
Comments: In-reply-to zzapper <david@tvis.co.uk>
   message dated "Tue, 25 Aug 2009 16:06:39 -0000."
Date: Tue, 25 Aug 2009 17:12:46 +0100
From: Peter Stephenson <pws@csr.com>
X-OriginalArrivalTime: 25 Aug 2009 16:12:48.0018 (UTC) FILETIME=[E330FF20:01CA259E]
Content-Type: text/plain
MIME-Version: 1.0
X-Scanned-By: MailControl A-09-22-00 (www.mailcontrol.com) on 10.71.0.121
X-Virus-Scanned: ClamAV 0.94.2/9739/Tue Aug 25 15:38:07 2009 on bifrost
X-Virus-Status: Clean

zzapper wrote:
> Hi
> print ${somevar//[^[:alnum:]]/_}   # replace all non-alphanumerics with _
> 
> But how to delete just a trailing or not carriage return?

% foo=$'bar\r'
% print $foo | xxd
0000000: 6261 720d 0a                             bar..
% print ${foo%%$'\r'} | xxd
0000000: 6261 720a                                bar.

-- 
Peter Stephenson <pws@csr.com>            Software Engineer
Tel: +44 (0)1223 692070                   Cambridge Silicon Radio Limited
Churchill House, Cambridge Business Park, Cowley Road, Cambridge, CB4 0WZ, UK


'member of the CSR plc group of companies. CSR plc registered in England and Wales, registered number 4187346, registered office Churchill House, Cambridge Business Park, Cowley Road, Cambridge, CB4 0WZ, United Kingdom'

