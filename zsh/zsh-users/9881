From zsh-users-return-9881-mason-zsh=primenet.com.au@sunsite.dk Sat Feb 04 22:00:27 2006
Return-Path: <zsh-users-return-9881-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 12378 invoked from network); 4 Feb 2006 22:00:25 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.0 (2005-09-13) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=BAYES_00,FORGED_RCVD_HELO 
	autolearn=ham version=3.1.0
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 4 Feb 2006 22:00:25 -0000
Received: (qmail 64675 invoked from network); 4 Feb 2006 22:00:17 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 4 Feb 2006 22:00:17 -0000
Received: (qmail 17876 invoked by alias); 4 Feb 2006 22:00:07 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 9881
Received: (qmail 17861 invoked from network); 4 Feb 2006 22:00:06 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 4 Feb 2006 22:00:06 -0000
Received: (qmail 63452 invoked from network); 4 Feb 2006 22:00:06 -0000
Received: from okcforum.org (HELO mail.okcforum.org) (66.224.116.102)
  by a.mx.sunsite.dk with SMTP; 4 Feb 2006 22:00:04 -0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.okcforum.org (Postfix) with ESMTP id 26D3B884F4
	for <zsh-users@sunsite.dk>; Sat,  4 Feb 2006 14:03:42 -0800 (PST)
Received: from mail.okcforum.org ([127.0.0.1])
 by localhost (okcforum.org [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 03435-04 for <zsh-users@sunsite.dk>; Sat,  4 Feb 2006 14:03:42 -0800 (PST)
Received: from [192.168.254.1] (proton.cygnusx-1.org [192.168.254.1])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mail.okcforum.org (Postfix) with ESMTP id ED845884E9
	for <zsh-users@sunsite.dk>; Sat,  4 Feb 2006 14:03:41 -0800 (PST)
Message-ID: <43E523EA.9050506@cygnusx-1.org>
Date: Sat, 04 Feb 2006 14:00:10 -0800
From: Nathan Grennan <zsh-users@cygnusx-1.org>
Organization: Cygnus X-1
User-Agent: Thunderbird 1.5 (X11/20060128)
MIME-Version: 1.0
To:  zsh-users@sunsite.dk
Subject: zsh, ctrl-something, and recent kernels
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: amavisd-new at okcforum.org

  I have a problem with zsh and recent kernels when I try to use ctrl-c 
or ctrl-z. It seems to have started after 2.6.16-rc1-git4. I can 
currently see it in 2.6.16rc2. I started with zsh-4.2.5 and I have tried 
4.2.6 too. I sort of tried 4.3.0 cvs, and it didn't seem to work either. 
But since I couldn't get it packaged, and had errors with it, I am not 
sure with it.

  The behavior seems to have changed with the recently kernel releases. 
When I first noticed
 it I could ctrl-c repeatedly until I ran ls | less and then quit out. 
Now if I just try to ctrl-c a second time at the prompt ctrl-c stops 
working. If I go back to 2.6.16-rc1-git4 or older it works every time. I 
suspect it is a bug or bugs in signals.c.

  I originally thought it was a kernel bug, in that if I ran bash from 
zsh I had the same problem. Today I tried bash directly and it works on 
the latest kernel releases. It still could be a bug in the kernel, but I 
suspect it is just a change in behavior of the kernel and zsh needs to 
deal with it. The url for my bug report to Red Hat is below.

https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=178882

