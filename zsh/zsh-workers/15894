From zsh-workers-return-15894-mason-zsh=primenet.com.au@sunsite.dk Fri Sep 28 11:17:17 2001
Return-Path: <zsh-workers-return-15894-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 19395 invoked from network); 28 Sep 2001 11:17:16 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 28 Sep 2001 11:17:16 -0000
Received: (qmail 14917 invoked by alias); 28 Sep 2001 11:17:10 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 15894
Received: (qmail 14869 invoked from network); 28 Sep 2001 11:17:04 -0000
From: Borsenkow Andrej <Andrej.Borsenkow@mow.siemens.ru>
To: "'Peter Stephenson'" <pws@csr.com>,
   "'Zsh hackers list'"
	 <zsh-workers@sunsite.dk>
Subject: RE: Core dump unloading zsh/zftp 
Date: Fri, 28 Sep 2001 15:15:51 +0400
Message-ID: <003001c1480e$ee9dde30$21c9ca95@mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2627
In-Reply-To: <25743.1001675196@csr.com>
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal


> 
> One very minor issue with loading a module at that point is that it
> appears
> after the module you're actually requesting (i.e. zsh/zftp) in the
list of
> modules produced by zmodload, which is slightly illogical.
> 

We need to add dependency tracking for external modules anyway
(require_modules does not do it; it would be obvious place to add, in
which case we need to make sure it is used in all places). In this case
listing code may just walk dependency tree depth-first.

-andrej

