From zsh-users-return-11926-mason-zsh=primenet.com.au@sunsite.dk Thu Oct 04 16:45:44 2007
Return-Path: <zsh-users-return-11926-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 14615 invoked from network); 4 Oct 2007 16:45:35 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.3 (2007-08-08) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.3
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 4 Oct 2007 16:45:35 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 90137 invoked from network); 4 Oct 2007 16:45:29 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 4 Oct 2007 16:45:29 -0000
Received: (qmail 18161 invoked by alias); 4 Oct 2007 16:45:23 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 11926
Received: (qmail 18146 invoked from network); 4 Oct 2007 16:45:22 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 4 Oct 2007 16:45:22 -0000
Received: (qmail 88917 invoked from network); 4 Oct 2007 16:45:22 -0000
Received: from cluster-d.mailcontrol.com (217.69.20.190)
  by a.mx.sunsite.dk with SMTP; 4 Oct 2007 16:45:16 -0000
Received: from cameurexb01.EUROPE.ROOT.PRI ([62.189.241.200])
	by rly12d.srv.mailcontrol.com (MailControl) with ESMTP id l94Gj11v016171
	for <zsh-users@sunsite.dk>; Thu, 4 Oct 2007 17:45:14 +0100
Received: from news01.csr.com ([10.103.143.38]) by cameurexb01.EUROPE.ROOT.PRI with Microsoft SMTPSVC(6.0.3790.1830);
	 Thu, 4 Oct 2007 17:45:08 +0100
Received: from news01.csr.com (localhost.localdomain [127.0.0.1])
	by news01.csr.com (8.14.1/8.13.4) with ESMTP id l94Gj8Fv016518
	for <zsh-users@sunsite.dk>; Thu, 4 Oct 2007 17:45:08 +0100
Received: from csr.com (pws@localhost)
	by news01.csr.com (8.14.1/8.14.1/Submit) with ESMTP id l94Gj7Db016515
	for <zsh-users@sunsite.dk>; Thu, 4 Oct 2007 17:45:08 +0100
Message-Id: <200710041645.l94Gj7Db016515@news01.csr.com>
X-Authentication-Warning: news01.csr.com: pws owned process doing -bs
To: zsh-users@sunsite.dk
Subject: Re: How do I change the subshell to something other than /bin/sh?
In-reply-to: <BAY142-F32351B72FA90C8C20D323EA3A80@phx.gbl>
References: <BAY142-F32351B72FA90C8C20D323EA3A80@phx.gbl>
Comments: In-reply-to "Julio Garcia" <pastaza@hotmail.com>
   message dated "Thu, 04 Oct 2007 10:29:49 -0600."
Date: Thu, 04 Oct 2007 17:45:07 +0100
From: Peter Stephenson <pws@csr.com>
X-OriginalArrivalTime: 04 Oct 2007 16:45:08.0385 (UTC) FILETIME=[EC4C4110:01C806A5]
X-Scanned-By: MailControl A-07-08-10 (www.mailcontrol.com) on 10.68.0.122

"Julio Garcia" wrote:
> My problem is this. I am trying to run some scripts that I cannot change 
> which assume capabilities found in bash. I know that zsh will execute them 
> correctly as well. However, when I just invoke them from the zsh command 
> line, they run under /bin/sh and fail. For example, I have a test script 
> that looks like this:
> 
> logsol10-1 ~ > cat x.sh
> 
> echo $0
> 
> ps

If you really can't change the script (and hence can't add a #! line),
you are stuck with running "zsh ./x.sh" wherever you call the script, or
some equivalent of that.  The decision about which interpreter to run
for a file that isn't executable is made by the operating system, so
the's no way of changing it at the user level.  So the question is
really about how you're calling the script and how much you can change
at that point.

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR PLC, Churchill House, Cambridge Business Park, Cowley Road
Cambridge, CB4 0WZ, UK                          Tel: +44 (0)1223 692070

