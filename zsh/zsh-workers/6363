From zsh-workers-return-6363-mason-zsh=primenet.com.au@sunsite.auc.dk Sat May 29 07:08:28 1999
Return-Path: <zsh-workers-return-6363-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 12695 invoked from network); 29 May 1999 07:08:26 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 29 May 1999 07:08:26 -0000
Received: (qmail 6244 invoked by alias); 29 May 1999 07:08:18 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 6363
Received: (qmail 6237 invoked from network); 29 May 1999 07:08:16 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <990529070811.ZM27075@candle.brasslantern.com>
Date: Sat, 29 May 1999 07:08:10 +0000
In-Reply-To: <9905100753.AA33639@ibmth.df.unipi.it>
Comments: In reply to Peter Stephenson <pws@ibmth.df.unipi.it>
        "Re: PATCH: history improvements for 3.1.5-pws-17 and 3.0.6-pre-2" (May 10,  9:53am)
References: <9905100753.AA33639@ibmth.df.unipi.it>
X-Mailer: Z-Mail (5.0.0 30July97)
To: zsh-workers@sunsite.auc.dk (Zsh hackers list)
Subject: Re: PATCH: history improvements for 3.1.5-pws-17 and 3.0.6-pre-2
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Another message I wish I could have replied to sooner.

On May 10,  9:53am, Peter Stephenson wrote:
} Subject: Re: PATCH: history improvements for 3.1.5-pws-17 and 3.0.6-pre-2
}
} Wayne Davison wrote:
} > I'd be interested in suggestions for how we can let the user choose
} > between local-history and full-history movement.  Perhaps a toggle
} > command?  Or a bindable prefix (so I can have ^P ignore shared
} > history, and Up-Arrow include it)?  I like this idea.
} 
} You mean something like a toggle, either for the next command only or
} permanently?  That might work.  You could then have a zle widget
} 
} up-line-or-local-history {
}   zle toggle-local-history
}   zle up-line-or-history
} }

Ugh.  I hate toggles.  You can't ask what state you're starting in, and
thus you can't know what state you should end up in.  What if I'm already
using local history when I invoke up-line-or-local-history?

If we're going to have any more toggles (overwrite-mode is the only one
we have so far, I think) then let's establish some kind of convention for
the behavior of numeric prefixes; such as, a negative prefix always turns
the toggled behavior off, a positive prefix always turns it on, and no
prefix switches between off and on.

And then somebody please fix "zle digit-argument", see zsh-workers/4099.
(Probably applies to universal-argument and neg-argument as well.)

} > I think that some zle commands, such as accept_and_infer_next_
} > history, should remain unaffected by foreign commands.

Oh, definitely.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

