From zsh-workers-return-24591-mason-zsh=primenet.com.au@sunsite.dk Tue Feb 26 13:18:50 2008
Return-Path: <zsh-workers-return-24591-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17546 invoked from network); 26 Feb 2008 13:18:48 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.4 (2008-01-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.4
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 26 Feb 2008 13:18:48 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 89203 invoked from network); 26 Feb 2008 13:18:41 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 26 Feb 2008 13:18:41 -0000
Received: (qmail 6646 invoked by alias); 26 Feb 2008 13:18:36 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 24591
Received: (qmail 6622 invoked from network); 26 Feb 2008 13:18:35 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 26 Feb 2008 13:18:35 -0000
Received: from mail.blastwave.org (mail.blastwave.org [147.87.98.10])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 041858026E0B
	for <zsh-workers@sunsite.dk>; Tue, 26 Feb 2008 14:18:31 +0100 (CET)
Received: from localhost (localhost [127.0.0.1])
	by mail.blastwave.org (Postfix) with ESMTP id 518242E41
	for <zsh-workers@sunsite.dk>; Tue, 26 Feb 2008 14:18:31 +0100 (MET)
X-Virus-Scanned: amavisd-new at blastwave.org
Received: from mail.blastwave.org ([127.0.0.1])
	by localhost (enterprise.blastwave.org [127.0.0.1]) (amavisd-new, port 10024)
	with LMTP id PDqH0fN+sUif for <zsh-workers@sunsite.dk>;
	Tue, 26 Feb 2008 14:18:21 +0100 (MET)
Received: from [10.0.0.232] (175-206-103-86.dynamic.dsl.tng.de [86.103.206.175])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.blastwave.org (Postfix) with ESMTP id E6B5F26F2
	for <zsh-workers@sunsite.dk>; Tue, 26 Feb 2008 14:18:20 +0100 (MET)
Mime-Version: 1.0 (Apple Message framework v753)
Content-Transfer-Encoding: 7bit
Message-Id: <8AABEECB-A9A6-43EA-BED2-4BE376CBE349@blastwave.org>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
To: zsh-workers@sunsite.dk
From: Dagobert Michelsen <dam@blastwave.org>
Subject: Failed tests of zsh 4.3.5 in Solaris 10 w/Sun Studio 12 CC
Date: Tue, 26 Feb 2008 14:18:14 +0100
X-Mailer: Apple Mail (2.753)
X-Virus-Scanned: ClamAV 0.91.2/6003/Tue Feb 26 12:34:31 2008 on bifrost
X-Virus-Status: Clean

Hi,

I am building zsh 4.3.5 on Solaris 10 x86 with the
Sun Studio 12 compiler and I have some failed tests
in the teststuite:

  ==> Running make test in work/dam-thor.d/zsh-4.3.5
gmake[1]: Entering directory `/export/medusa/dam/trunk/devel/zsh/work/ 
dam-thor.d/zsh-4.3.5'
cd Test ; gmake check
gmake[2]: Entering directory `/export/medusa/dam/trunk/devel/zsh/work/ 
dam-thor.d/zsh-4.3.5/Test'
if test -n "cc"; then \
           cd .. && DESTDIR= \
           gmake MODDIR=`pwd`/Test/Modules install.modules > /dev/ 
null; \
         fi
if ZTST_testlist="`for f in ./*.ztst; \
            do echo $f; done`" \
          ZTST_srcdir="." \
          ZTST_exe=../Src/zsh \
          ../Src/zsh +Z -f ./runtests.zsh; then \
          stat=0; \
         else \
          stat=1; \
         fi; \
         rm -rf Modules .zcompdump; \
         exit $stat
./A01grammar.ztst: starting.
This test hangs the shell when it fails...
./A01grammar.ztst: all tests successful.
./A02alias.ztst: starting.
./A02alias.ztst: all tests successful.
./A03quoting.ztst: starting.
Test ./A03quoting.ztst failed: bad status 1, expected 0 from:
   print '<\u0041>'
   printf '%s\n' $'<\u0042>'
   print '<\u0043>'
   printf '%s\n' $'<\u0044>'
Error output:
(eval):1: cannot do charset conversion
Was testing: \u in both print and printf
./A03quoting.ztst: test failed.
./A04redirect.ztst: starting.
./A04redirect.ztst: all tests successful.
./A05execution.ztst: starting.
./A05execution.ztst: all tests successful.
./A06assign.ztst: starting.
./A06assign.ztst: all tests successful.
./B01cd.ztst: starting.
./B01cd.ztst: all tests successful.
./B02typeset.ztst: starting.
./B02typeset.ztst: all tests successful.
./B03print.ztst: starting.
./B03print.ztst: all tests successful.
./B04read.ztst: starting.
./B04read.ztst: all tests successful.
./C01arith.ztst: starting.
./C01arith.ztst: all tests successful.
./C02cond.ztst: starting.
Warning: not testing [[ -N file ]] (not supported with NFS)
Test ./C02cond.ztst failed: bad status 1, expected 0 from:
   [[ newnewnew -nt zerolength && ! (unmodified -nt zerolength) ]]
Was testing: -nt cond
./C02cond.ztst: test failed.
./C03traps.ztst: starting.
This test takes at least three seconds...
This test, too, takes at least three seconds...
Another test that takes three seconds
./C03traps.ztst: all tests successful.
./C04funcdef.ztst: starting.
./C04funcdef.ztst: all tests successful.
./D01prompt.ztst: starting.
./D01prompt.ztst: all tests successful.
./D02glob.ztst: starting.
./D02glob.ztst: all tests successful.
./D03procsubst.ztst: starting.
./D03procsubst.ztst: all tests successful.
./D04parameter.ztst: starting.
./D04parameter.ztst: all tests successful.
./D05array.ztst: starting.
./D05array.ztst: all tests successful.
./D06subscript.ztst: starting.
./D06subscript.ztst: all tests successful.
./D07multibyte.ztst: starting.
Testing multibyte with locale en_US.UTF-8
*** /tmp/zsh.ztst.out.19793     Tue Feb 26 08:06:28 2008
--- /tmp/zsh.ztst.tout.19793    Tue Feb 26 08:06:28 2008
***************
*** 1,4 ****
! OK
! OK
! OK
! OK
--- 1,4 ----
! Failed: no error message and no question mark
! Failed: no error message and no question mark
! Failed: no error message and no question mark
! Failed: no error message and no question mark
Test ./D07multibyte.ztst failed: output differs from expected as  
shown above for:
   testfn() { (LC_ALL=C; print $'\u00e9') }
   repeat 4 testfn 2>&1 | while read line; do
     if [[ $line = *"character not in range"* ]]; then
       print OK
     elif [[ $line = "?" ]]; then
       print OK
     else
       print Failed: no error message and no question mark
     fi
   done
   true
Was testing: error handling in Unicode quoting
./D07multibyte.ztst: test failed.
./D08cmdsubst.ztst: starting.
./D08cmdsubst.ztst: all tests successful.
./E01options.ztst: starting.
This test hangs the shell when it fails...
./E01options.ztst: all tests successful.
./E02xtrace.ztst: starting.
./E02xtrace.ztst: all tests successful.
./V01zmodload.ztst: starting.
./V01zmodload.ztst: all tests successful.
./V02zregexparse.ztst: starting.
./V02zregexparse.ztst: all tests successful.
./V03mathfunc.ztst: starting.
./V03mathfunc.ztst: all tests successful.
./V04features.ztst: starting.
./V04features.ztst: all tests successful.
./V05styles.ztst: starting.
./V05styles.ztst: all tests successful.
./Y01completion.ztst: starting.
./Y01completion.ztst: all tests successful.
./Y02compmatch.ztst: starting.
./Y02compmatch.ztst: all tests successful.
./Y03arguments.ztst: starting.
./Y03arguments.ztst: all tests successful.
**************************************
29 successful test scripts, 3 failures, 0 skipped
**************************************
gmake[2]: *** [check] Error 1
gmake[2]: Leaving directory `/export/medusa/dam/trunk/devel/zsh/work/ 
dam-thor.d/zsh-4.3.5/Test'
gmake[1]: *** [test] Error 2
gmake[1]: Leaving directory `/export/medusa/dam/trunk/devel/zsh/work/ 
dam-thor.d/zsh-4.3.5'
gmake: *** [test-work/dam-thor.d/zsh-4.3.5/Makefile] Error 2


Invocation was
   $ ./configure --prefix=/opt/csw --exec_prefix=/opt/csw --bindir=/ 
opt/csw/bin --sbindir=/opt/csw/sbin --libexecdir=/opt/csw/libexec -- 
datadir=/opt/csw/share --sysconfdir=/opt/csw/etc --sharedstatedir=/ 
opt/csw/share --localstatedir=/opt/csw/var --libdir=/opt/csw/lib -- 
infodir=/opt/csw/share/info --includedir=/opt/csw/include --mandir=/ 
opt/csw/share/man --enable-maildir-support --enable-fndir=/opt/csw/ 
share/zsh/functions --enable-pcre


Best regards

   -- Dagobert Michelsen

