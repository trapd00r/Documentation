From zsh-workers-return-14982-mason-zsh=primenet.com.au@sunsite.dk Wed Jun 20 04:01:46 2001
Return-Path: <zsh-workers-return-14982-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4702 invoked from network); 20 Jun 2001 04:01:44 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 20 Jun 2001 04:01:44 -0000
Received: (qmail 5555 invoked by alias); 20 Jun 2001 04:01:03 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 14982
Received: (qmail 5528 invoked from network); 20 Jun 2001 04:01:01 -0000
X-Authentication-Warning: halden.devel.redhat.com: teg set sender to teg@redhat.com using -f
Sender: teg@halden.devel.redhat.com
To: Jason Price <jprice@cyberbuzz.gatech.edu>
Cc: zsh-workers@sunsite.dk
Subject: Re: gcc 3.0 produces broken zsh
References: <20010619235049.A20425@oobleck.gatech.edu>
Organization: Red Hat, Inc.
From: teg@redhat.com (Trond Eivind =?iso-8859-1?q?Glomsr=F8d?=)
Date: 20 Jun 2001 00:01:29 -0400
In-Reply-To: <20010619235049.A20425@oobleck.gatech.edu>
Message-ID: <xuybsnjiyue.fsf@halden.devel.redhat.com>
Lines: 28
User-Agent: Gnus/5.09 (Gnus v5.9.0) Emacs/21.0.103
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Jason Price <jprice@cyberbuzz.gatech.edu> writes:

> Out of morbid curiosity, I built gcc3 and installed it somewhere out of the
> way (like $HOME/gcc3) on my redhat 7.1 linux box.  Then I tried to build
> zsh with it.
> 
> It configured and compiled with hardly any errors.  The only build errors
> were:
> 
> math.c: In function `zzlex':
> math.c:382: warning: operation on `ptr' may be undefined
> utils.o: In function `gettempname':
> utils.o(.text+0x1de2): the use of `mktemp' is dangerous, better use `mkstemp'
> 
> However, when I install it, it doesn't seem to be able to find or load any
> modules.  Building with stock gcc's of the 2.95.* variety work

It seems to work nicely with the compiler we ship, 2.96RH, as well
(downgrading to 2.95? Yick)
 
> Now, I could VERY easily be wrong, but most of the painful changes in gcc3
> are in C++ land

Yes.

-- 
Trond Eivind Glomsrød
Red Hat, Inc.

