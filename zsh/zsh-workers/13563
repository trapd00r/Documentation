From zsh-workers-return-13563-mason-zsh=primenet.com.au@sunsite.dk Sun Mar 04 22:05:46 2001
Return-Path: <zsh-workers-return-13563-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 15431 invoked from network); 4 Mar 2001 22:05:45 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 4 Mar 2001 22:05:45 -0000
Received: (qmail 1585 invoked by alias); 4 Mar 2001 22:05:37 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 13563
Received: (qmail 1572 invoked from network); 4 Mar 2001 22:05:36 -0000
Message-ID: <20010304220533.33509.qmail@web10411.mail.yahoo.com>
Date: Sun, 4 Mar 2001 14:05:33 -0800 (PST)
From: Felix Rosencrantz <f_rosencrantz@yahoo.com>
Subject: Bug w/matching control
To: zsh-workers <zsh-workers@sunsite.auc.dk>
MIME-Version: 1.0
Content-Type: multipart/mixed; boundary="0-112358786-983743533=:33494"

--0-112358786-983743533=:33494
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline

I'm seeing a problem with matching control and characters being deleted. I'm
using the data from workers/13320

I've attached a patch to 54compmatch.  I think the output should be the same as
the previous testcase.  Though this time with input of "g-2", we get a
"glibc-", with the 2 deleted.  This isn't checked in, since it won't pass.

The actual output seen from the test is:
! line: {tst glibc}{-2.1.94-3.i386.rpm}
  COMPADD:{}
! INSERT_POSITIONS:{9:27}
--- 1,3 ----
! line: {tst glibc-}{}
  COMPADD:{}
! INSERT_POSITIONS:{10}

-FR


__________________________________________________
Do You Yahoo!?
Get email at your own domain with Yahoo! Mail. 
http://personal.mail.yahoo.com/
--0-112358786-983743533=:33494
Content-Type: text/plain; name="test54.txt"
Content-Description: test54.txt
Content-Disposition: inline; filename="test54.txt"

Index: 54compmatch.ztst
===================================================================
RCS file: /cvsroot/zsh/zsh/Test/54compmatch.ztst,v
retrieving revision 1.8
diff -r1.8 54compmatch.ztst
623a624,630
>  test_code $workers_13320_matcher workers_13320_list
>  comptest $'tst g-2\t'
> 0:Test from workers 13320
> >line: {tst glibc}{-2.1.94-3.i386.rpm}
> >COMPADD:{}
> >INSERT_POSITIONS:{9:27}
> 

--0-112358786-983743533=:33494--

