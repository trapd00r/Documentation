From zsh-users-return-12156-mason-zsh=primenet.com.au@sunsite.dk Wed Oct 31 23:02:04 2007
Return-Path: <zsh-users-return-12156-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 15740 invoked from network); 31 Oct 2007 23:01:56 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.3 (2007-08-08) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.1 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.3
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 31 Oct 2007 23:01:56 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 69087 invoked from network); 31 Oct 2007 23:01:50 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 31 Oct 2007 23:01:50 -0000
Received: (qmail 7069 invoked by alias); 31 Oct 2007 23:01:40 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 12156
Received: (qmail 7050 invoked from network); 31 Oct 2007 23:01:39 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 31 Oct 2007 23:01:39 -0000
Received: (qmail 67773 invoked from network); 31 Oct 2007 23:01:39 -0000
Received: from old-tantale.fifi.org (64.81.30.200)
  by a.mx.sunsite.dk with SMTP; 31 Oct 2007 23:01:33 -0000
Received: (from phil@localhost)
	by old-tantale.fifi.org (8.9.3p2/8.9.3/Debian 8.9.3-21) id QAA30484;
	Wed, 31 Oct 2007 16:01:30 -0700
Sender: phil@fifi.org
To: "sam reckoner" <sam.reckoner@gmail.com>
Cc: zsh-users@sunsite.dk
Subject: Re: copying a million small files between disks?
References: <6a42eec70710311440u52556985wda68ce326f4a0417@mail.gmail.com>
Mail-Copies-To: nobody
From: Philippe Troin <phil@fifi.org>
Date: 31 Oct 2007 16:01:30 -0700
In-Reply-To: <6a42eec70710311440u52556985wda68ce326f4a0417@mail.gmail.com>
Message-ID: <87sl3q7ut1.fsf@old-tantale.fifi.org>
Lines: 18
User-Agent: Gnus/5.09 (Gnus v5.9.0) Emacs/21.2
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

"sam reckoner" <sam.reckoner@gmail.com> writes:

> I'm not exaggerating. I have over one million small files that like to
> move between disks. The problem is that even getting a directory
> listing takes forever.
> 
> Is there a best practice for this?
> 
> I don't really need the directory listing, I just need to move all the
> files. I have been using rsync, but that takes a very long time to
> generate the list of files to be moved.
> 
> Any alternatives?

Dump/restore won't get directory listings...  And it will traverse
them via libe2fs, which *might* be faster.

Phil.

