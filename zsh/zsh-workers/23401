From zsh-workers-return-23401-mason-zsh=primenet.com.au@sunsite.dk Tue May 08 10:11:17 2007
Return-Path: <zsh-workers-return-23401-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 25461 invoked from network); 8 May 2007 10:11:15 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.0 (2007-05-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00 autolearn=no
	version=3.2.0
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 8 May 2007 10:11:15 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 96380 invoked from network); 8 May 2007 10:11:07 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 8 May 2007 10:11:07 -0000
Received: (qmail 10414 invoked by alias); 8 May 2007 10:11:05 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 23401
Received: (qmail 10405 invoked from network); 8 May 2007 10:11:04 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 8 May 2007 10:11:04 -0000
Received: (qmail 96099 invoked from network); 8 May 2007 10:11:04 -0000
Received: from cluster-c.mailcontrol.com (168.143.177.190)
  by a.mx.sunsite.dk with SMTP; 8 May 2007 10:11:00 -0000
Received: from cameurexb01.EUROPE.ROOT.PRI ([62.189.241.200])
	by rly07c.srv.mailcontrol.com (MailControl) with ESMTP id l48A9BLG007479
	for <zsh-workers@sunsite.dk>; Tue, 8 May 2007 11:10:55 +0100
Received: from news01.csr.com ([10.103.143.38]) by cameurexb01.EUROPE.ROOT.PRI with Microsoft SMTPSVC(6.0.3790.1830);
	 Tue, 8 May 2007 11:09:32 +0100
Date: Tue, 8 May 2007 11:09:32 +0100
From: Peter Stephenson <pws@csr.com>
To: zsh-workers@sunsite.dk
Subject: Re: [PATCH] exec compatibility
Message-Id: <20070508110932.889da1c9.pws@csr.com>
In-Reply-To: <20070507073253.GA3250@redoubt.spodhuis.org>
References: <20070501002620.GA95730@redoubt.spodhuis.org>
	<20070504130023.df33e042.pws@csr.com>
	<070506225634.ZM9288@torch.brasslantern.com>
	<20070507073253.GA3250@redoubt.spodhuis.org>
Organization: Cambridge Silicon Radio
X-Mailer: Sylpheed version 2.2.10 (GTK+ 2.10.8; i386-redhat-linux-gnu)
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 08 May 2007 10:09:32.0335 (UTC) FILETIME=[F8F5B3F0:01C79158]
X-Scanned-By: MailControl A-07-07-00 (www.mailcontrol.com) on 10.67.0.117

Phil Pennock <zsh-workers+phil.pennock@spodhuis.org> wrote:
> On 2007-05-06 at 22:56 -0700, Bart Schaefer wrote:
> > One thing that rather annoys me about all this is that
> > 
> > 	zsh% - exec sh
> > and
> > 	zsh% exec - sh
> > 
> > seem no longer to be equivalent.  Am I wrong about that?
> 
> Uhm, I think so.
> 
> Perhaps with a commit an extra comment should be added just above that
> line, noting that - needs to be carefully left alone as it's a
> precommand modifier in its own right.  I really shouldn't have left
> that unremarked upon in the code.

It works for me, too; I've added a comment and committed it.

Oliver pointed out that "command" was documented in the builtins list
instead of Precommand Modifiers (which is presumably why you did the
same).  I've simple copied the "command" documentation.  It does mean there
was already one precommand modifier that treated options specially---it
does therefore look like a good idea to extend "--" handling to all of them
for futureproofing, which I haven't done yet.

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR PLC, Churchill House, Cambridge Business Park, Cowley Road
Cambridge, CB4 0WZ, UK                          Tel: +44 (0)1223 692070


To access the latest news from CSR copy this link into a web browser:  http://www.csr.com/email_sig.php

To get further information regarding CSR, please visit our Investor Relations page at http://ir.csr.com/csr/about/overview

