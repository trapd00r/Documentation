From zsh-users-return-3862-mason-zsh=primenet.com.au@sunsite.dk Tue May 08 12:55:06 2001
Return-Path: <zsh-users-return-3862-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 16531 invoked from network); 8 May 2001 12:55:04 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 8 May 2001 12:55:04 -0000
Received: (qmail 24737 invoked by alias); 8 May 2001 12:54:46 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 3862
Received: (qmail 24720 invoked from network); 8 May 2001 12:54:45 -0000
X-Envelope-Sender-Is: Andrej.Borsenkow@mow.siemens.ru (at relayer goliath.siemens.de)
From: "Andrej Borsenkow" <Andrej.Borsenkow@mow.siemens.ru>
To: <nce@SLAC.Stanford.EDU>
Cc: <zsh-users@sunsite.dk>
Subject: RE: inet_{a,p}ton prototypes in Src/Modules/zftp.pro
Date: Tue, 8 May 2001 16:53:33 +0400
Message-ID: <000101c0d7bd$e3659510$21c9ca95@mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
In-reply-to: <20010507211212.A9274@flora01.SLAC.Stanford.EDU>
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
Importance: Normal


>
> On Mon, May 07, 2001 at 02:56:19PM +0000, Bart Schaefer wrote:
> > I don't have access to Solaris 7 documentation, and everything on-line
> > at sun.com is already Solaris 8 (and remarkably uninformative).  What
> > librar(y|ies) (is|are) supposed to provide inet_aton() and inet_pton() ?
>
> Both socket and nsl, on all versions of Solaris as far back as I can
> remember.
>
> > For example, it may be necessary to add
> >
> >     AC_CHECK_LIB(socket, inet_pton)
> >                  ^^^^^^
> > 		 or nsl, or something
>
> There's already
> 	AC_SEARCH_LIBS(yp_all, nsl)
> earlier on from
> 	AC_CHECK_LIB(socket, socket)
> but switching those around doesn't seem to help me.

Please, do not swap them. It will break things here.

> I tried a few other things, but I know very little about autoconf,
> so haven't got it to work yet.
>
> One problem I do notice in my config.log is that all the tests link with
> -lnsl before -lsocket, which isn't the right way around.
>

Do you mean it is '-lnsl -lsocket'? Strange:

LIBS            = -lsocket -ldl -lnsl -ltermcap -lm -lg -lc

and our networking code is very similar to Solaris 7.

I'll try to find what I've done once for Solaris. I believe, this issue was
already raised.

-andrej

