From zsh-workers-return-19164-mason-zsh=primenet.com.au@sunsite.dk Sat Oct 04 02:25:12 2003
Return-Path: <zsh-workers-return-19164-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1616 invoked from network); 4 Oct 2003 02:25:10 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 4 Oct 2003 02:25:10 -0000
Received: (qmail 6107 invoked by alias); 3 Oct 2003 20:58:21 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 19164
Received: (qmail 6094 invoked from network); 3 Oct 2003 20:58:20 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 3 Oct 2003 20:58:20 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [66.93.131.57] by sunsite.dk (MessageWall 1.0.8) with SMTP; 3 Oct 2003 20:58:20 -0000
Received: from lorien.emufarm.org (localhost [127.0.0.1])
	by lorien.emufarm.org (8.12.7/8.12.7) with ESMTP id h93KwBkI005850;
	Fri, 3 Oct 2003 13:58:12 -0700
Received: (from duvall@localhost)
	by lorien.emufarm.org (8.12.7/8.12.7/Submit) id h93Kw90T005849;
	Fri, 3 Oct 2003 13:58:09 -0700
Date: Fri, 3 Oct 2003 13:58:09 -0700
From: Danek Duvall <duvall@emufarm.org>
To: Nicolas George <nicolas.george@ens.fr>
Cc: zsh-workers@sunsite.dk
Subject: Re: [19140] Subshell exiting, suspend problem
Message-ID: <20031003205809.GE4255@lorien.emufarm.org>
Mail-Followup-To: Danek Duvall <duvall@emufarm.org>,
	Nicolas George <nicolas.george@ens.fr>, zsh-workers@sunsite.dk
References: <20030926165251.GA14940@clipper.ens.fr>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20030926165251.GA14940@clipper.ens.fr>
User-Agent: Mutt/1.5.4i

I've been using this patch for a little while on a Solaris box, and it
solved the problem I had where su would be left in the job table after I
exited it.

However, I'm now unable to suspend vi or ncftp, or, I would guess, any
curses program.  Moreover, if I run a copy of zsh without this patch
from the commandline of one with the patch, when I exit, I get:

    zsh: can't set tty pgrp: I/O error
    <prompt>% 
    zsh: error on TTY read: I/O error

and the "bottom copy" exits, terminating my login session.

So it seems like there are a few wrinkles to work out yet.  :)

Thanks,
Danek

