From zsh-workers-return-8894-mason-zsh=primenet.com.au@sunsite.auc.dk Sun Dec 05 00:47:11 1999
Return-Path: <zsh-workers-return-8894-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17397 invoked from network); 5 Dec 1999 00:47:10 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 5 Dec 1999 00:47:10 -0000
Received: (qmail 16575 invoked by alias); 5 Dec 1999 00:47:02 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 8894
Received: (qmail 16557 invoked from network); 5 Dec 1999 00:47:01 -0000
To: zsh-workers@sunsite.auc.dk (Zsh hackers list)
Subject: Bug with parameter module
Date: Sun, 05 Dec 1999 00:47:37 +0000
From: Peter Stephenson <pws@pwstephenson.fsnet.co.uk>
Message-Id: <E11uPpM-0007KC-00.1999-12-05-00-47-00@mail12.svr.pol.co.uk>

Somebody must know more about why this should be happening.

zsh -c 'zmodload -i parameter; fn() { exit 1; }; fn'

The shell hangs.  It seems that executing fn uses some wrapper associated
with the parameter module which then won't unload.  There should be some
mode to force unloading on exit (this is the real problem worked around in
the case of zle by Clint's patch in 8862, I would think).

-- 
Peter Stephenson <pws@pwstephenson.fsnet.co.uk>

