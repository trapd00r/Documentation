From zsh-workers-return-6926-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Jun 29 15:26:09 1999
Return-Path: <zsh-workers-return-6926-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 12428 invoked from network); 29 Jun 1999 15:26:07 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 29 Jun 1999 15:26:07 -0000
Received: (qmail 7230 invoked by alias); 29 Jun 1999 15:25:43 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 6926
Received: (qmail 7222 invoked from network); 29 Jun 1999 15:25:42 -0000
Date: Tue, 29 Jun 1999 17:25:41 +0200 (MET DST)
Message-Id: <199906291525.RAA11687@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
Subject: PATCH: small missing bit...


Oops. The sub-shell should know its process group.

Bye
 Sven

diff -u os/exec.c Src/exec.c
--- os/exec.c	Tue Jun 29 12:51:15 1999
+++ Src/exec.c	Tue Jun 29 17:22:02 1999
@@ -986,7 +986,7 @@
 			if (jobtab[list_pipe_job].procs)
 			    setpgrp(0L, mypgrp = jobtab[list_pipe_job].gleader);
 			else
-			    setpgrp(0L, getpid());
+			    setpgrp(0L, mypgrp = getpid());
 			close(synch[1]);
 			kill(getpid(), SIGSTOP);
 			list_pipe = 0;

--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

