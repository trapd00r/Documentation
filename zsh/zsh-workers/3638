From zsh-workers-request@math.gatech.edu Fri Nov 28 18:10:33 1997
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 627 invoked from network); 28 Nov 1997 18:10:31 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 28 Nov 1997 18:10:31 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id MAA16000;
	Fri, 28 Nov 1997 12:54:53 -0500 (EST)
Resent-Date: Fri, 28 Nov 1997 12:54:53 -0500 (EST)
Message-Id: <199711281757.MAA23520@ertugl.prospect.apt>
X-Mailer: exmh version 2.0zeta 7/24/97
To: zsh-workers@math.gatech.edu
From: schizo@debian.org (Clint Adams)
Subject: histchars
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Date: Fri, 28 Nov 1997 12:55:42 -0500
Sender: schizo@mail.scowler.ml.org
Resent-Message-ID: <"W7s6t.0.uv3.iLmVq"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/3638
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

This disables the resetting of HISTCHARS/histchars in zsh 3.0.5.


*** Src/hashtable.h.old	Fri Nov 28 12:37:13 1997
--- Src/hashtable.h	Fri Nov 28 00:28:46 1997
***************
*** 106,112 ****
  #define IPDEF2(A,B,C,D) {NULL,A,PM_SCALAR|PM_SPECIAL|D,BR(NULL),BR(C),BR(B),0,NULL,NULL,NULL,NULL,0}
  IPDEF2("USERNAME", usernamegetfn, usernamesetfn, PM_DONTIMPORT),
  IPDEF2("-", dashgetfn, nullsetfn, PM_READONLY),
! IPDEF2("histchars", histcharsgetfn, histcharssetfn, PM_DONTIMPORT),
  IPDEF2("HOME", homegetfn, homesetfn, 0),
  IPDEF2("TERM", termgetfn, termsetfn, 0),
  IPDEF2("WORDCHARS", wordcharsgetfn, wordcharssetfn, 0),
--- 106,112 ----
  #define IPDEF2(A,B,C,D) {NULL,A,PM_SCALAR|PM_SPECIAL|D,BR(NULL),BR(C),BR(B),0,NULL,NULL,NULL,NULL,0}
  IPDEF2("USERNAME", usernamegetfn, usernamesetfn, PM_DONTIMPORT),
  IPDEF2("-", dashgetfn, nullsetfn, PM_READONLY),
! IPDEF2("histchars", histcharsgetfn, histcharssetfn, 0),
  IPDEF2("HOME", homegetfn, homesetfn, 0),
  IPDEF2("TERM", termgetfn, termsetfn, 0),
  IPDEF2("WORDCHARS", wordcharsgetfn, wordcharssetfn, 0),
***************
*** 179,185 ****
  /* The following parameters are not avaible in sh/ksh compatibility *
   * mode. All of these has sh compatible equivalents.                */
  IPDEF1("ARGC", poundgetfn, nullsetfn, PM_READONLY),
! IPDEF2("HISTCHARS", histcharsgetfn, histcharssetfn, PM_DONTIMPORT),
  IPDEF4("status", &lastval),
  IPDEF7("prompt", &prompt),
  IPDEF7("PROMPT", &prompt),
--- 179,185 ----
  /* The following parameters are not avaible in sh/ksh compatibility *
   * mode. All of these has sh compatible equivalents.                */
  IPDEF1("ARGC", poundgetfn, nullsetfn, PM_READONLY),
! IPDEF2("HISTCHARS", histcharsgetfn, histcharssetfn, 0),
  IPDEF4("status", &lastval),
  IPDEF7("prompt", &prompt),
  IPDEF7("PROMPT", &prompt),


