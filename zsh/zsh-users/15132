From zsh-users-return-15132-mason-zsh=primenet.com.au@zsh.org Tue Jun 29 09:58:39 2010
Return-Path: <zsh-users-return-15132-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 28403 invoked by alias); 29 Jun 2010 09:58:39 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 15132
Received: (qmail 26438 invoked from network); 29 Jun 2010 09:58:27 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.0 required=5.0 tests=BAYES_00,DKIM_SIGNED,
	DKIM_VALID,DKIM_VALID_AU,FREEMAIL_FROM,HTML_MESSAGE,T_TO_NO_BRKTS_FREEMAIL
	autolearn=ham version=3.3.1
Received-SPF: pass (ns1.primenet.com.au: SPF record at _spf.google.com designates 209.85.215.43 as permitted sender)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:date:message-id
         :subject:from:to:content-type;
        bh=vgwYpJBM44k0ljSn1vNJGOZ2vPOguFNCoUFVLAdHRhw=;
        b=mJSlddT6XaNz8nHvJSsjouvkF27LGvK6YsPtu4O0WlFMQuEG0EAa6RlibHE7IikhiI
         uitVVrbO9QhRL8L2ZrfA+KxPRbfMuy6+jVjdUdc30TyOUuGiUMC6fBW1OXZfu0SWNOnI
         zIw1vYp33ZfNPrgzhP3PjdcV6RjciRoypm3eg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=nfJhFpO48HJuVe7ojFdLO/EONr7GAzQSU4URmsAJJNORBef66AxDN4ZzDWTULXAa8L
         G3k4qr2rIDslQ5d4rWUZqPJWlU/gBT8o3Jpvf1X2YlhAwX3dVHCuPThn7+//WJBzxw/v
         VjFU0Hy2MaR5fl7OMYU6SYMk/JzTdJPnMnKnQ=
MIME-Version: 1.0
Date: Tue, 29 Jun 2010 11:50:43 +0200
Message-ID: <AANLkTikWWvlUxxBfS5z5Ko_HHN00yd-dB91bbwkUAzr7@mail.gmail.com>
Subject: Git completion - trying to improve speed
From: Piotr Kalinowski <pitkali@gmail.com>
To: zsh-users@zsh.org
Content-Type: multipart/alternative; boundary=0015174c409abb1fb3048a282b30

--0015174c409abb1fb3048a282b30
Content-Type: text/plain; charset=UTF-8

Hi,

I'm working on quite a large repository, and found git checkout completion
to be veeery slow. I've found patch on google that does improve situation
dramatically when you supply some prefix, see:
http://www.zsh.org/mla/workers/2008/msg01535.html. I've applied it to
git-version of git completion. However, I've got weird side effect.

Let user use 'git checkout test-<TAB>', wanting to complete something like
local branch test-feature1 or test-feature2. However:

- First completion is immediately inserted with menu displayed despite the
shell being configured otherwise (inserted in full, not just common prefix).

- The first completion is something like origin/test-feature1 instead of a
local branch.

I'm not much of a shell guru so I thought I'd ask if someone more into the
subject had any ideas what's going on, before I start to reverse-engineer
_git script ;)

Regards,
Piotr Kalinowski

-- 
Intelligence is like a river: the deeper it is, the less noise it makes

--0015174c409abb1fb3048a282b30--

