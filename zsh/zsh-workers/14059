From zsh-workers-return-14059-mason-zsh=primenet.com.au@sunsite.dk Sat Apr 21 12:36:36 2001
Return-Path: <zsh-workers-return-14059-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 25500 invoked from network); 21 Apr 2001 12:36:31 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 21 Apr 2001 12:36:31 -0000
Received: (qmail 29851 invoked by alias); 21 Apr 2001 12:36:24 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 14059
Received: (qmail 29840 invoked from network); 21 Apr 2001 12:36:23 -0000
X-Envelope-Sender-Is: Andrej.Borsenkow@mow.siemens.ru (at relayer goliath.siemens.de)
From: "Andrej Borsenkow" <Andrej.Borsenkow@mow.siemens.ru>
To: "ZSH Workers Mailing List" <zsh-workers@sunsite.dk>
Subject: cygwin build problem - undefined setupterm
Date: Sat, 21 Apr 2001 16:36:19 +0400
Message-ID: <000601c0ca5f$aadba880$21c9ca95@mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
Importance: Normal

rm -f libzsh-4.0.1-pre-3.dll
dllwrap  -s --export-all-symbols -o libzsh-4.0.1-pre-3.dll  `cat
stamp-modobjs`-ltermcap -lm  -lc
dllwrap: no export definition file provided
dllwrap: creating one, but that may not be what you want
Modules/termcap.o(.text+0xb6c):termcap.c: undefined reference to `setupterm'
collect2: ld returned 1 exit status
dllwrap: gcc exited with status 1
make[1]: *** [libzsh-4.0.1-pre-3.dll] Error 1
make[1]: Leaving directory `/tools/build/zsh/Src'
make: *** [all] Error 1

AFAIK setupterm belongs to curses interface suite and does not exist in
termcap (it was not there before, it came with Clint's patches). Clint, you
most probably have (n)curses in disguise ... and not the real termcap.

Moreover, we already have terminal setup code in zsh main - it should not be
duplicated (probably).

-andrej

Have a nice DOS!
B >>

