From zsh-workers-return-13013-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Oct 17 19:35:11 2000
Return-Path: <zsh-workers-return-13013-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 886 invoked from network); 17 Oct 2000 19:35:09 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 17 Oct 2000 19:35:09 -0000
Received: (qmail 10031 invoked by alias); 17 Oct 2000 19:35:04 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 13013
Received: (qmail 10021 invoked from network); 17 Oct 2000 19:35:03 -0000
Date: Tue, 17 Oct 2000 15:35:08 -0400
Message-Id: <200010171935.PAA14828@soup.ql.org>
X-Authentication-Warning: soup.ql.org: ejb set sender to ejb@ql.org using -f
From: "E. Jay Berkenbilt" <ejb@ql.org>
To: zsh-workers@sunsite.auc.dk
Subject: parse errors and up-line-or-history
Mime-Version: 1.0 (generated by tm-edit 7.106)
Content-Type: text/plain; charset=US-ASCII


If you type

zsh% for in *; do echo $i; done

(instead of for i in *...; i.e., forget the variable name in the for)

you get 

zsh: parse error near `do'

which seems entirely reasonable.  If you then do ^p to fix it, you see
only

zsh% for in *; do

and not the whole command.  It would be nice if the whole command
including whatever part appears after the parse error got inserted
into history since it would be much easier to go back and fix the
typo. :-)

--
E. Jay Berkenbilt (ejb@ql.org)  |  http://www.ql.org/q/

