From zsh-users-return-14036-mason-zsh=primenet.com.au@sunsite.dk Tue Apr 14 05:56:51 2009
Return-Path: <zsh-users-return-14036-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 7316 invoked from network); 14 Apr 2009 05:56:37 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 14 Apr 2009 05:56:37 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 26617 invoked from network); 14 Apr 2009 05:56:24 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 14 Apr 2009 05:56:24 -0000
Received: (qmail 15055 invoked by alias); 14 Apr 2009 05:56:06 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 14036
Received: (qmail 15039 invoked from network); 14 Apr 2009 05:56:05 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 14 Apr 2009 05:56:05 -0000
Received: from atom.smasher.org (atom.smasher.org [69.55.237.145])
	by bifrost.dotsrc.org (Postfix) with SMTP id 2A0DF8058ACF
	for <zsh-users@sunsite.dk>; Tue, 14 Apr 2009 07:55:51 +0200 (CEST)
Received: (qmail 98485 invoked by uid 1000); 14 Apr 2009 05:55:49 -0000
Message-ID: <20090414055549.98484.qmail@smasher.org>
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed
Date: Tue, 14 Apr 2009 17:55:47 +1200 (NZST)
From: Atom Smasher <atom@smasher.org>
MIME-Version: 1.0
OpenPGP: id=0xB88D52E4D9F57808; algo=1 (RSA); size=4096; url=http://atom.smasher.org/pgp.txt
Subject: error on TTY read: bad file descriptor
To: zsh-users@sunsite.dk
X-POM: The Moon is Waning Gibbous (80% of Full)
X-Hashcash: 1:20:0904140555:zsh-users@sunsite.dk::YZfaYylvyxH0OJNC:0000000000000
	00000000000000000000000011nP
X-Virus-Scanned: ClamAV 0.92.1/9230/Tue Apr 14 06:10:10 2009 on bifrost
X-Virus-Status: Clean

here's an edge case...

  ## Cygwin 6.8.99.903(242)
  ## zsh 4.3.9 (i686-pc-cygwin)

http://smasher.org/tmp/zsh-tty-fail.txt

start up zsh in an XTerm(tm) with no rc file (zsh -f) then source the file 
"zsh-tty-fail.txt".

not every time, but most of the time, when you re-size the terminal the 
shell will die with the message:
 	zsh: error on TTY read: bad file descriptor

the workaround so far is to just disable TRAPWINCH if it's an xterm on 
cygwin. google doesn't tell me much about the error, except that someone 
found it once before but didn't give enough details for it to be 
duplicated. with this set up i can cause the error very consistently.


-- 
         ...atom

  ________________________
  http://atom.smasher.org/
  762A 3B98 A3C3 96C9 C6B7 582A B88D 52E4 D9F5 7808
  -------------------------------------------------

 	"Anyone who has the power to make you believe absurdities
 	 has the power to make you commit injustices."
 		-- Voltaire

