From zsh-workers-request@math.gatech.edu Wed Apr 01 18:26:55 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 17810 invoked from network); 1 Apr 1998 18:26:53 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 1 Apr 1998 18:26:53 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id NAA22725;
	Wed, 1 Apr 1998 13:15:45 -0500 (EST)
Resent-Date: Wed, 1 Apr 1998 13:11:55 -0500 (EST)
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <980401100456.ZM12338@candle.brasslantern.com>
Date: Wed, 1 Apr 1998 10:04:56 -0800
In-Reply-To: <Pine.OSF.3.96.980401165731.21421G-100000@alpha9.poco.phy.cam.ac.uk>
Comments: In reply to "Owen M. Astley" <oma1000@cam.ac.uk>
        "xterm keeps forgetting stty options" (Apr  1,  5:00pm)
References: <Pine.OSF.3.96.980401165731.21421G-100000@alpha9.poco.phy.cam.ac.uk>
X-Mailer: Z-Mail (4.0b.820 20aug96)
To: "Owen M. Astley" <oma1000@cam.ac.uk>, zsh-users@math.gatech.edu
Subject: Re: xterm keeps forgetting stty options
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Resent-Message-ID: <"l3vfS1.0.XX5.gDe8r"@math>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/1436
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

On Apr 1,  5:00pm, Owen M. Astley wrote:
} Subject: xterm keeps forgetting stty options
}
} I don't know if this is a problem with zsh, but I can't track it down to
} any other particular program that I run (apart from xterm, and of course
} that doesn't help).
} 
} Sometimes xterm/zsh forgets the settings for susp, quit etc.

Some implementations of pseudo-ttys read their initial terminal settings
from /dev/tty, which sometimes is the console, which (if you're running
X11) is probably not in any state to have its tty settings read.  Since
xterm uses a pty, it gets weird settings.

This is particularly a problem on various flavors of SunOS/Solaris, but
it can happen elsewhere as well.  It usually occurs when the window manager
or some other GUI-only application starts up the xterm, because if you
start an xterm by typing "xterm" at a shell prompt in -another- xterm, the
shell's xterm is /dev/tty of the new xterm and they'll both get the same
settings.

Xterm in X11R6 has resources for the stty settings it should use, precisely
because of this problem.  Check out the ttyModes resource.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

