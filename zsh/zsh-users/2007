From zsh-workers-request@math.gatech.edu Mon Jan 04 05:32:52 1999
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10260 invoked from network); 4 Jan 1999 05:32:50 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 4 Jan 1999 05:32:50 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.9.1/8.9.1) id AAA27514;
	Mon, 4 Jan 1999 00:32:00 -0500 (EST)
Resent-Date: Mon, 4 Jan 1999 00:31:51 -0500 (EST)
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <990103213058.ZM2702@candle.brasslantern.com>
Date: Sun, 3 Jan 1999 21:30:58 -0800
In-Reply-To: <199812311709.MAA01264@ocalhost>
Comments: In reply to Timothy J Luoma <luomat@peak.org>
        "%B%~%b bug in $PROMPT in 3.1.5 ?" (Dec 31, 12:09pm)
References: <199812311709.MAA01264@ocalhost>
X-Mailer: Z-Mail (4.0b.820 20aug96)
To: zsh-users@math.gatech.edu
Subject: Re: %B%~%b bug in $PROMPT in 3.1.5 ?
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Resent-Message-ID: <"d8PQX3.0.Rj6.495as"@math>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/2007
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

On Dec 31, 12:09pm, Timothy J Luoma wrote:
} Subject: %B%~%b bug in $PROMPT in 3.1.5 ?
}
} Note the following, where $PWD = PWD (literally) in some cases
} 
} USER: (tjl) HOST: (localhost) TTY: (ttyp1) HIST#: (1760)
} [OLDPWD: /] [PWD: ~PWD]

This happens because many parameters that used to be "special" in 3.0.5
became nonspecial in 3.1.5 (another ksh compatibility thing), including
PWD and OLDPWD.  This has the side-effect of making them susceptible to
the autonamedirs option, and introduced several other bugs as well.

There were patches posted in zsh-workers articles 4589, 4596, and 4971
(the one in 4596 is mainly interesting because 4971 expects it in order
to replace it with a different fix).

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

