From zsh-workers-return-14458-mason-zsh=primenet.com.au@sunsite.dk Wed May 23 15:10:51 2001
Return-Path: <zsh-workers-return-14458-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24100 invoked from network); 23 May 2001 15:10:49 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 23 May 2001 15:10:49 -0000
Received: (qmail 19436 invoked by alias); 23 May 2001 15:10:41 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 14458
Received: (qmail 19417 invoked from network); 23 May 2001 15:10:39 -0000
Sender: kiddleo
Message-ID: <3B0BD2EA.8069019C@u.genie.co.uk>
Date: Wed, 23 May 2001 16:10:34 +0100
From: Oliver Kiddle <opk@u.genie.co.uk>
X-Mailer: Mozilla 4.77 [en] (X11; U; Linux 2.2.15 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: zsh-workers@sunsite.dk
Subject: Re: compilation issues
References: <Tc0a88d0153b1b5a119@mailsweeper01.cambridgesiliconradio.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Peter Stephenson wrote:

> > gcc -c -I.  -DHAVE_CONFIG_H -Wall -Wno-implicit -Wmissing-prototypes -O2  -o builtin.o builtin.c
> > In file included from zsh.mdh:15,
> >                  from builtin.c:30:
> > system.h:155: redefinition of `struct timezone'
> 
> You should have
> #define HAVE_STRUCT_TIMEZONE 1
 
I went to have a closer look at this this morning and it did erroneously
have #undef HAVE_STRUCT_TIMEZONE in config.h. Strangely though, when I
reran configure it changed its mind and I can't get it to fail as before
now. Something strange must have happened when I ran configure yesterday
but it all seems fine now including all tests.

I've also now done a test build on alpha/NetBSD which was successful
including tests apart from the same problem as FreeBSD with make check
not installing the libzsh-4.0.1-pre-5.so.

Oliver

