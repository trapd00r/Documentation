From zsh-workers-return-11281-mason-zsh=primenet.com.au@sunsite.auc.dk Tue May 09 16:05:53 2000
Return-Path: <zsh-workers-return-11281-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18670 invoked from network); 9 May 2000 16:05:50 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 9 May 2000 16:05:50 -0000
Received: (qmail 22948 invoked by alias); 9 May 2000 16:05:39 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 11281
Received: (qmail 22920 invoked from network); 9 May 2000 16:05:36 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <1000509160348.ZM2067@candle.brasslantern.com>
Date: Tue, 9 May 2000 16:03:48 +0000
X-Mailer: Z-Mail (5.0.0 30July97)
To: zsh-workers@sunsite.auc.dk
Subject: FPATH strangeness partly explained (10316, 10489)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

I haven't got this all the way debugged, but it appears to have something
to do with uniqarray().

Recall that I reported that when have this in my .zshrc:

	if (autoload -U 2>/dev/null) ...

and that when I do

        export FPATH
        exec $ZSH_NAME

then the (autoload -U) returns nonzero when the new shell starts up.

Turns out that really it has to be

	typeset -U fpath
        export FPATH
        exec $ZSH_NAME

If I leave out the `typeset -U fpath', then everything works fine.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

