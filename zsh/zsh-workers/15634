From zsh-workers-return-15634-mason-zsh=primenet.com.au@sunsite.dk Wed Aug 15 22:46:14 2001
Return-Path: <zsh-workers-return-15634-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10851 invoked from network); 15 Aug 2001 22:46:12 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 15 Aug 2001 22:46:12 -0000
Received: (qmail 19618 invoked by alias); 15 Aug 2001 22:46:05 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 15634
Received: (qmail 19606 invoked from network); 15 Aug 2001 22:46:04 -0000
To: zsh-workers@sunsite.auc.dk (Zsh hackers list)
Subject: Correction oddity
Date: Thu, 16 Aug 2001 00:50:08 +0100
From: Peter Stephenson <pws@pwstephenson.fsnet.co.uk>
Message-Id: <20010815235013.940CD14284@pwstephenson.fsnet.co.uk>

Can anybody (I can think of one possible candidate) explain what's going
on here?  I'm getting it with `appletviewer name<TAB>' (since this will
try to complete URLs and attempt to correct anything you type to the
appropriate form) which is using _java for completion, which is in turn
calling _urls.  This is from a completion debugging trace; I've wrapped
it by hand where the backslash is:

compadd:13:> compadd -M m:{a-zA-Z}={A-Za-z} -M corrections \
-X Completing corrections -M r:|[_-]=* r:|=* -D equal -
compadd:compadd:13: unknown match specification character `c'

Where did that -M before `corrections' come from?  That should be a -J,
I believe.  I've looked at the compadd function defined in _approximate,
the _urls function (we're at line 74,

    while _next_label prefixes expl 'URL prefix' -S '' "$@"; do

which looks innocuous) and thus far am none the wiser.  The matcher list
looks like

zstyle ':completion:*' matcher-list 'm:{a-zA-Z}={A-Za-z}' 'r:|[.,_-]=** r:|=**'

as you could probably guess.

I can send more detail but it's awfy large and I hope it's reproducible.
-- 
Peter Stephenson <pws@pwstephenson.fsnet.co.uk>
Work: pws@csr.com
Web: http://www.pwstephenson.fsnet.co.uk

