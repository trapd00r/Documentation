From zsh-workers-request@math.gatech.edu Wed Jun 24 16:37:58 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1427 invoked from network); 24 Jun 1998 16:37:57 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 24 Jun 1998 16:37:57 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id MAA15821;
	Wed, 24 Jun 1998 12:29:54 -0400 (EDT)
Resent-Date: Wed, 24 Jun 1998 12:29:54 -0400 (EDT)
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <980624091713.ZM4823@candle.brasslantern.com>
Date: Wed, 24 Jun 1998 09:17:12 -0700
In-Reply-To: <9806240851.AA45920@ibmth.df.unipi.it>
Comments: In reply to Peter Stephenson <pws@ibmth.df.unipi.it>
        "Re: zsh exits suddenly." (Jun 24, 10:51am)
References: <9806240851.AA45920@ibmth.df.unipi.it>
X-Mailer: Z-Mail (4.0b.820 20aug96)
To: Peter Stephenson <pws@ibmth.df.unipi.it>
Subject: Re: zsh exits suddenly.
Cc: zsh-workers@math.gatech.edu (Zsh hackers list)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Resent-Message-ID: <"BEmny3.0.8t3.1cIar"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/4163
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

On Jun 24, 10:51am, Peter Stephenson wrote:
} Subject: Re: zsh exits suddenly.
}
} I can't be absolutely sure if all that lastc stuff is really needed.
} It means, of course, that if there is more than one line in the
} buffer, only the current one is flushed.  Is this the right behaviour?

This isn't changed by your patch, right?  It was the behavior all along?

I think the intent is to prevent accept-line from executing a partial
line following a tty interrupt.  That probably ought to apply to multi-
line buffers as well.  The guideline should probably be, what does ZLE
do to a multiline buffer when send-break is executed?  The SIGINT handler
ought to do the same thing.  (In fact, why doesn't it call sendbreak()
when ZLE is active?)

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

