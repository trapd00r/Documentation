From zsh-users-return-4441-mason-zsh=primenet.com.au@sunsite.dk Tue Oct 30 14:26:16 2001
Return-Path: <zsh-users-return-4441-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9223 invoked from network); 30 Oct 2001 14:26:16 -0000
Received: from ns2.primenet.com.au (HELO primenet.com.au) (?mqqeSWCrEWupDNejkKCw2FDUpha5GUtf?@203.24.36.3)
  by ns1.primenet.com.au with SMTP; 30 Oct 2001 14:26:16 -0000
Received: (qmail 1700 invoked from network); 30 Oct 2001 14:26:15 -0000
Received: from sunsite.dk (130.225.247.90)
  by proxy.melb.primenet.com.au with SMTP; 30 Oct 2001 14:26:15 -0000
Received: (qmail 26094 invoked by alias); 30 Oct 2001 14:25:54 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4441
Received: (qmail 26082 invoked from network); 30 Oct 2001 14:25:53 -0000
Date: Tue, 30 Oct 2001 15:25:51 +0100
From: Phil Pennock <Phil.Pennock@globnix.org>
To: zsh-users@sunsite.dk
Subject: Re: Problems with modules and zsh 4.0.4
Message-ID: <20011030152551.A5818@globnix.org>
Mail-Followup-To: zsh-users@sunsite.dk
References: <20011030145042.A20640@greux.loria.fr>
Mime-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-md5;
	protocol="application/pgp-signature"; boundary="r5Pyd7+fXNt84Ff3"
Content-Disposition: inline
User-Agent: Mutt/1.2.5i
In-Reply-To: <20011030145042.A20640@greux.loria.fr>; from vincent@vinc17.org on Tue, Oct 30, 2001 at 02:50:42PM +0100
X-Disclaimer: Any views expressed in this message, where not explicitly
	attributed otherwise, are mine and mine alone.  Such views
	do not necessarily coincide with those of any organisation
	or company with which I am or have been affiliated.
X-No-Archive: yes


--r5Pyd7+fXNt84Ff3
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

On 2001-10-30 at 14:50 +0100, Vincent Lefevre wrote:
> But when I rlog to this machine, I get errors like:
>=20
> /users/spaces/lefevre/.zshrc:54: failed to load module: zsh/rlimits
> /users/spaces/lefevre/.zshrc:limit:54: autoload failed
> /users/spaces/lefevre/.zshrc:104: failed to load module: zsh/parameter
> /users/spaces/lefevre/.zshrc:305: failed to load module: zsh/zle
> /users/spaces/lefevre/.zshrc:bindkey:305: autoload failed
> /users/spaces/lefevre/.zshrc:306: command not found: bindkey
> /users/spaces/lefevre/.zshrc:307: command not found: bindkey
> [...]
>=20
> However, if I exec $SHELL after rlogging, I no longer get such
> problems. With zsh 4.0.2, there were no problems at all.

What happens if you add this:
 typeset -m ZSH*
 typeset module_path
before the first autoload?

Ie, what does it show for ZSH_VERSION at that point?  What's the
module_path?

It sounds as though you're trying to load the old versions of the
modules; then, later, the paths are changed and with the exec, the
correct modules can be found.
--=20
I AM THE DEFENDER OF THE SOMETIMES-INEFFICIENT.
FEAR MY CAREFULLY WORDED AND REASONED WRATH.
 - Chris Bellomy

--r5Pyd7+fXNt84Ff3
Content-Type: application/pgp-signature
Content-Disposition: inline

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.6 (OpenBSD)

iD8DBQE73rhvfDS04Uzk9lURAsnJAKDVz4uDAmzjbK3elFOtTY+OQEUDRACgg5gz
S+kHMLERDbzg0FMrvCaFKg8=
=+Ial
-----END PGP SIGNATURE-----

--r5Pyd7+fXNt84Ff3--

