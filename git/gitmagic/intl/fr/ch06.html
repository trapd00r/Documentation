<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
  <meta name="generator" content=
  "HTML Tidy for Linux (vers 25 March 2009), see www.w3.org">
  <meta http-equiv="Content-Type" content=
  "text/html; charset=utf-8">

  <title>Git Magic - Chapitre&nbsp;6.&nbsp;Git multijoueur</title>
  <link rel="stylesheet" href="default.css" type="text/css">
  <meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
  <link rel="home" href="index.html" title="Git Magique">
  <link rel="up" href="index.html" title="Git Magique">
  <link rel="prev" href="ch05.html" title=
  "Chapitre&nbsp;5.&nbsp;Les leçons de l’histoire">
  <link rel="next" href="ch07.html" title=
  "Chapitre&nbsp;7.&nbsp;La maîtrise de Git">
</head>

<body bgcolor="white" text="black" link="#0000FF" vlink="#840084"
alink="#0000FF">
    <div class="toc">
      <ul>
<li><b>Git Magic</b></li>
        <li>
          <span class="preface"><a href=
          "index.html">Préface</a></span>

          <ul>
            <li><span class="section"><a href=
            "index.html#_merci">Merci&nbsp;!</a></span></li>

            <li><span class="section"><a href=
            "index.html#_licence">Licence</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch01.html">1.
          Introduction</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch01.html#_le_travail_comme_un_jeu">Le travail comme
            un jeu</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_gestion_de_versions">Gestion de
            versions</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_gestion_distribu%C3%A9e">Gestion
            distribuée</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_une_superstition_idiote">Une superstition
            idiote</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_conflits_fusionnels">Conflits
            fusionnels</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch02.html">2. Astuces de
          base</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch02.html#_enregistrer_l_%C3%A9tat_courant">Enregistrer
            l'état courant</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_ajouter_supprimer_renommer">Ajouter,
            supprimer, renommer</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_annuler_reprendre_avanc%C3%A9">Annuler/Reprendre
            avancé</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_reprise_revert">Reprise
            (revert)</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_g%C3%A9n%C3%A9ration_du_journal_des_modifications_changelog">
            Génération du journal des modifications
            (changelog)</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_t%C3%A9l%C3%A9charger_des_fichiers">Télécharger
            des fichiers</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_le_dernier_cri">Le dernier
            cri</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_publication_instantan%C3%A9e">Publication
            instantanée</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_qu_8217_ai_je_fait">Qu’ai-je
            fait&nbsp;?</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_exercice">Exercice</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch03.html">3. Clonons
          gaiement</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch03.html#_synchronisation_entre_machines">Synchronisation
            entre machines</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_gestion_classique_des_sources">Gestion
            classique des sources</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_d%C3%A9p%C3%B4ts_nus">Dépôts
            nus</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_envoi_vs_rapatriement_push_vs_pull">Envoi
            vs rapatriement (push vs pull)</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_forker_un_projet">Forker un
            projet</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_syst%C3%A8me_ultime_de_sauvegarde">Système
            ultime de sauvegarde</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_le_multi_t%C3%A2che_%C3%A0_la_vitesse_de_la_lumi%C3%A8re">
            Le multi-tâche à la vitesse de la
            lumière</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_gu%C3%A9rilla_de_la_gestion_de_versions">Guérilla
            de la gestion de versions</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_mercurial">Mercurial</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_bazaar">Bazaar</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_pourquoi_j_8217_utilise_git">Pourquoi
            j’utilise Git</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch04.html">4. La
          sorcellerie des branches</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch04.html#_la_touche_du_chef">La touche du
            chef</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_travail_temporaire">Travail
            temporaire</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_corrections_rapides">Corrections
            rapides</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_fusionner">Fusionner</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_workflow_sans_interruption">Workflow sans
            interruption</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_r%C3%A9organiser_le_foutoir">Réorganiser le
            foutoir</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_gestion_des_branches">Gestion des
            branches</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_les_branches_temporaires">Les branches
            temporaires</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_travailler_comme_il_vous_chante">Travailler
            comme il vous chante</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch05.html">5. Les leçons
          de l’histoire</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch05.html#_je_me_corrige_8230">Je me
            corrige…</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_8230_et_bien_plus">… et bien
            plus</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_les_changements_locaux_en_dernier">Les
            changements locaux en dernier</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_r%C3%A9%C3%A9criture_de_l_8217_histoire">Réécriture
            de l’histoire</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_faire_l_8217_histoire">Faire
            l’histoire</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_qu_8217_est_ce_qui_a_tout_cass%C3%A9">Qu’est-ce
            qui a tout cassé&nbsp;?</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_qui_a_tout_cass%C3%A9">Qui a tout
            cassé&nbsp;?</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_exp%C3%A9rience_personnelle">Expérience
            personnelle</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch06.html">6. Git
          multijoueur</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch06.html#_qui_suis_je">Qui
            suis-je&nbsp;?</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_git_via_ssh_et_http">Git via SSH et
            HTTP</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_git_via_n_8217_importe_quoi">Git via
            n’importe quoi</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_les_patches_la_monnaie_d_%C3%A9change_globale">
            Les patches&nbsp;: la monnaie d'échange
            globale</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_le_num%C3%A9ro_de_votre_correspondant_a_chang%C3%A9">
            Le numéro de votre correspondant a
            changé</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_les_branches_distantes">Les branches
            distantes</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_d%C3%A9p%C3%B4ts_distants_multiples">Dépôts
            distants multiples</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_mes_pr%C3%A9f%C3%A9rences">Mes
            préférences</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch07.html">7. La maîtrise
          de Git</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch07.html#_publication_de_sources">Publication de
            sources</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_g%C3%A9rer_le_changement">Gérer le
            changement</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_mon_commit_est_trop_gros">Mon commit est
            trop gros&nbsp;!</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_l_8217_index_l_8217_aire_d_8217_assemblage">
            L’index&nbsp;: l’aire d’assemblage</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_ne_perdez_pas_la_t%C3%AAte">Ne perdez pas
            la tête</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_chasseur_de_t%C3%AAte">Chasseur de
            tête</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_construire_au_dessus_de_git">Construire
            au-dessus de Git</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_audacieuses_acrobaties">Audacieuses
            acrobaties</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_se_pr%C3%A9munir_des_commits_erron%C3%A9s">Se
            prémunir des commits erronés</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch08.html">8. Les secrets
          révélés</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch08.html#_l_8217_invisibilit%C3%A9">L’invisibilité</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_l_8217_int%C3%A9grit%C3%A9">L’intégrité</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_l_8217_intelligence">L’intelligence</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_l_8217_indexation">L’indexation</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_les_origines_de_git">Les origines de
            Git</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_la_base_d_8217_objets">La base
            d’objets</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_les_blobs">Les blobs</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_les_arbres_literal_trees_literal">Les
            arbres (<code class=
            "literal">trees</code>)</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_les_commits">Les commits</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_indiscernable_de_la_magie">Indiscernable de
            la magie</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch09.html">9. Appendix A:
          Les lacunes de Git</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch09.html#_les_faiblesses_de_sha1">Les faiblesses de
            SHA1</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_microsoft_windows">Microsoft
            Windows</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_des_fichiers_sans_relation">Des fichiers
            sans relation</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_qui_modifie_quoi">Qui modifie
            quoi&nbsp;?</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_l_8217_historique_d_8217_un_fichier">L’historique
            d’un fichier</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_le_clone_initial">Le clone
            initial</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_les_projets_versatiles">Les projets
            versatiles</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_compteur_global">Compteur
            global</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_les_dossiers_vides">Les dossiers
            vides</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_le_premier_commit">Le premier
            commit</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_bizarreries_de_l_8217_interface">Bizarreries
            de l’interface</a></span></li>
          </ul>
        </li>

        <li><span class="chapter"><a href="ch10.html">10. Appendix
        B: Traduire ce guide</a></span></li>
      </ul>
    </div>
<div class="content">
  <div class="chapter" title=
  "Chapitre&nbsp;6.&nbsp;Git multijoueur">
    <div class="titlepage">
      <div>
        <div>
          <h2 class="title"><a name=
          "_git_multijoueur"></a>Chapitre&nbsp;6.&nbsp;Git
          multijoueur</h2>
        </div>
      </div>
    </div>

    <p>Au départ, j’utilisais Git pour un projet privé où j'étais
    le seul développeur. Parmi toutes les commandes liées à la
    nature distribuée de Git, je n’avais besoin que de <span class=
    "strong"><strong>pull</strong></span> et <span class=
    "strong"><strong>clone</strong></span> afin de disposer de mon
    projet en différents lieux.</p>

    <p>Plus tard, j’ai voulu publier mon code via Git et inclure
    des modifications de plusieurs contributeurs. J’ai dû apprendre
    à gérer des projets avec de nombreux développeurs à travers le
    monde. Heureusement c’est l’un des points forts de Git et
    peut-être même sa <span class="emphasis"><em>raison
    d'être</em></span> (en français dans le texte).</p>

    <div class="section" title="Qui suis-je&nbsp;?">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name="_qui_suis_je"></a>Qui
            suis-je&nbsp;?</h2>
          </div>
        </div>
      </div>

      <p>À chaque commit sont associés le nom et le mail de
      l’auteur, ceux qui sont montrés par <span class=
      "strong"><strong>git log</strong></span>. Par défaut, Git
      utilise les valeurs fournies par le système pour remplir ces
      champs. Pour les configurer explicitement, tapez&nbsp;:</p>
      <pre class="literallayout">
$ git config --global user.name "John Doe"
$ git config --global user.email johndoe@example.com
</pre>

      <p>Supprimer l’option <code class="literal">--global</code>
      pour que ces valeurs soient locales au dépôt courant.</p>
    </div>

    <div class="section" title="Git via SSH et HTTP">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_git_via_ssh_et_http"></a>Git via SSH et HTTP</h2>
          </div>
        </div>
      </div>

      <p>Supposez que vous ayez un accès SSH à un serveur Web sur
      lequel Git n’est pas installé. Bien que ce soit moins
      efficace que le protocole natif, Git sait communiquer par
      dessus HTTP.</p>

      <p>Télécharger, compiler et installer Git sur votre compte et
      créer un dépôt dans votre dossier web&nbsp;:</p>
      <pre class="literallayout">
$ GIT_DIR=proj.git git init
$ cd proj.git
$ git --bare update-server-info
$ cp hooks/post-update.sample hooks/post-update
</pre>

      <p>Avec les vieilles versions de Git, la commande de copie
      échoue et vous devez faire&nbsp;:</p>
      <pre class="literallayout">
$ chmod a+x hooks/post-update
</pre>

      <p>Maintenant vous pouvez transmettre vos modifications via
      SSH depuis n’importe lequel de vos clones&nbsp;:</p>
      <pre class="literallayout">
$ git push web.server:/path/to/proj.git master
</pre>

      <p>et n’importe qui peut récupérer votre projet grâce
      à&nbsp;:</p>
      <pre class="literallayout">
$ git clone http://web.server/proj.git
</pre>
    </div>

    <div class="section" title="Git via n’importe quoi">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_git_via_n_8217_importe_quoi"></a>Git via n’importe
            quoi</h2>
          </div>
        </div>
      </div>

      <p>Besoin de synchroniser des dépôts sans passer par un
      serveur ni même une connexion réseau&nbsp;? Besoin
      d’improviser dans l’urgence&nbsp;? Nous avons déjà vu que
      <a class="link" href="ch05.html#makinghistory"><span class=
      "strong"><strong>git fast-export</strong></span> et
      <span class="strong"><strong>git fast-import</strong></span>
      savent convertir et recréer un dépôt via un simple
      fichier</a>. Nous pourrions utiliser des fichiers de ce type
      pour assurer le transport entre des dépôts Git via n’importe
      quel canal. Mais un outil plus puissant existe&nbsp;:
      <span class="strong"><strong>git bundle</strong></span>.</p>

      <p>L'émetteur crée un 'bundle'&nbsp;:</p>
      <pre class="literallayout">
$ git bundle create monbundle HEAD
</pre>

      <p>puis il transmet ce bundle, <code class=
      "literal">monbundle</code>, à l’autre partie par n’importe
      quel moyen&nbsp;: email, clé USB, impression puis
      reconnaissance de caractères, lecture des bits au téléphone,
      signaux de fumée, etc. Le récepteur retrouve les mises à jour
      du bundle en tapant&nbsp;:</p>
      <pre class="literallayout">
$ git pull monbundle
</pre>

      <p>Le récepteur peut même faire cela dans un dépôt
      entièrement vide. Malgré sa petite taille <code class=
      "literal">monbundle</code> contient l’ensemble du dépôt Git
      d’origine.</p>

      <p>Pour des projets plus gros, on peut réduire le gaspillage
      en incluant dans le bundle uniquement les changements
      manquants dans l’autre dépôt. En supposant par exemple que le
      commit «1b6d…» est le commit le plus récent partagé par les
      deux dépôts, on peut faire&nbsp;:</p>
      <pre class="literallayout">
$ git bundle create monbundle HEAD ^1b6d
</pre>

      <p>Si on fait cela souvent, il se peut qu’on ne sache plus
      quel est le dernier commit partagé. La page d’aide suggère
      d’utiliser des tags pour résoudre ce problème. En pratique,
      juste après l’envoi d’un bundle, tapez&nbsp;:</p>
      <pre class="literallayout">
$ git tag -f dernierbundle HEAD
</pre>

      <p>et pour créer un nouveau bundle faites&nbsp;:</p>
      <pre class="literallayout">
$ git bundle create nouveaubundle HEAD ^dernierbundle
</pre>
    </div>

    <div class="section" title=
    "Les patches&nbsp;: la monnaie d'échange globale">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_les_patches_la_monnaie_d_%C3%A9change_globale"></a>Les
            patches&nbsp;: la monnaie d'échange globale</h2>
          </div>
        </div>
      </div>

      <p>Les patches sont des représentations textuelles de vos
      modifications qui peuvent être facilement compris par les
      ordinateurs comme par les humains. C’est ce qui leur donne
      leur charme. Vous pouvez envoyer un patch par mail à un
      développeur sans savoir quel système de gestion de versions
      il utilise. À partir du moment où on peut lire les mails que
      vous envoyez, on peut voir vos modifications. De votre côté,
      vous n’avez besoin que d’un compte mail&nbsp;: aucune
      nécessité de mettre en œuvre un dépôt Git en ligne.</p>

      <p>Souvenez-vous du premier chapitre. La commande&nbsp;:</p>
      <pre class="literallayout">
$ git diff 1b6d &gt; mon.patch
</pre>

      <p>produit un patch qui peut être collé dans un mail. Dans un
      dépôt Git, tapez&nbsp;:</p>
      <pre class="literallayout">
$ git apply &lt; mon.patch
</pre>

      <p>pour appliquer le patch.</p>

      <p>D’une manière plus formelle, lorsque le nom des auteurs et
      peut-être leur signature doit apparaître, générer tous les
      patches depuis un certain point en tapant&nbsp;:</p>
      <pre class="literallayout">
$ git format-patch 1b6d
</pre>

      <p>Les fichiers résultants peuvent être fournis à
      <span class="strong"><strong>git send-email</strong></span>
      ou envoyez à la main. Vous pouvez aussi spécifier un
      intervalle entre deux commits&nbsp;:</p>
      <pre class="literallayout">
$ git format-patch 1b6d..HEAD^^
</pre>

      <p>Du côté du destinataire, enregistrez un mail dans un
      fichier puis tapez&nbsp;:</p>
      <pre class="literallayout">
$ git am &lt; mail.txt
</pre>

      <p>Ça appliquera le patch reçu mais créera aussi un commit en
      y incluant toutes les informations telles que le nom des
      auteurs.</p>

      <p>Si vous utilisez un client de messagerie dans un
      navigateur, il vous faudra sans doute appuyer sur un bouton
      afin de voir le mail dans son format brut avant de
      l’enregistrer dans un fichier.</p>

      <p>Il y a de légères différences dans le cas des clients de
      messagerie se basant sur le format mbox, mais si vous
      utilisez l’un d’entre eux, vous êtes sans aucun doute capable
      de vous en débrouiller facilement sans lire des tutoriels
      !</p>

      <p>(NdT&nbsp;: si votre dépôt contient des fichiers binaires,
      n’oubliez-pas d’ajouter l’option <code class=
      "literal">--binary</code> aux commandes de création de
      patches ci-dessus.)</p>
    </div>

    <div class="section" title=
    "Le numéro de votre correspondant a changé">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_le_num%C3%A9ro_de_votre_correspondant_a_chang%C3%A9"></a>Le
            numéro de votre correspondant a changé</h2>
          </div>
        </div>
      </div>

      <p>Après la création d’un clone d’un dépôt, l’utilisation de
      <span class="strong"><strong>git push</strong></span> ou de
      <span class="strong"><strong>git pull</strong></span> se
      référera automatiquement à l’URL du dépôt d’origine. Comment
      Git fait-il&nbsp;? Le secret réside dans des options de
      configuration ajoutées dans le clone. Jetons-y un
      œil&nbsp;:</p>
      <pre class="literallayout">
$ git config --list
</pre>

      <p>L’option <code class="literal">remote.origin.url</code>
      détermine l’URL de la source&nbsp;; «origin» est un alias
      donné au dépôt d’origine. Comme dans le cas de la branche
      principale qui se nomme «master» par convention, on peut
      changer ou supprimer cet alias mais il n’y a habituellement
      aucune raison de le faire.</p>

      <p>Si le dépôt original change, vous pouvez modifier son URL
      via&nbsp;:</p>
      <pre class="literallayout">
$ git config remote.origin.url git://nouvel.url/proj.git
</pre>

      <p>L’option <code class="literal">branch.master.merge</code>
      spécifie le nom de la branche distante utilisée par défaut
      par la commande <span class="strong"><strong>git
      pull</strong></span>. Lors du clonage initial, le nom choisi
      est celui de la branche courant du dépôt d’origine. Même si
      le HEAD du dépôt d’origine est déplacé vers une autre
      branche, la commande pull continuera à suivre fidêlement la
      branche initiale.</p>

      <p>Cette option ne s’applique qu’au dépôt ayant servi au
      clonage initial, celui enregistré dans l’option <code class=
      "literal">branch.master.remote</code>. Si nous effectuons un
      pull depuis un autre dépôt, nous devrons indiquer
      explicitement la branche voulue&nbsp;:</p>
      <pre class="literallayout">
$ git pull git://example.com/other.git master
</pre>

      <p>Les détails ci-dessus expliquent pourquoi nos appels à
      push et pull dans nos précédents exemples n’avaient pas
      besoin d’arguments.</p>
    </div>

    <div class="section" title="Les branches distantes">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_les_branches_distantes"></a>Les branches
            distantes</h2>
          </div>
        </div>
      </div>

      <p>Lorsque nous clonons un dépôt, nous clonons aussi toutes
      ses branches. Vous ne les avez sans doute pas remarquées car
      Git les cache&nbsp;: vous devez explicitement demander à les
      voir. Cela empêche les branches du dépôt distant d’interférer
      avec vos propres branches et cela rend aussi Git plus simple
      pour les débutants.</p>

      <p>Listons les branches distantes&nbsp;:</p>
      <pre class="literallayout">
$ git branch -r
</pre>

      <p>Vous devriez voir quelque chose comme&nbsp;:</p>
      <pre class="literallayout">
origin/HEAD
origin/master
origin/experimental
</pre>

      <p>Ces noms sont ceux des branches et du HEAD du dépôt
      distant et ils peuvent être utilisés dans les commandes Git
      normales. Supposez par exemple que vous avez réalisé de
      nombreux commits et que vous vouliez voir la différence avec
      la dernière version ramenée par fetch. Vous pourriez
      rechercher dans le log pour retrouver l’empreinte SHA1
      appropriée mais il est beaucoup plus simple de
      tapez&nbsp;:</p>
      <pre class="literallayout">
$ git diff origin/HEAD
</pre>

      <p>Vous pouvez aussi voir où en est rendu la branche
      ‘`experimental’'&nbsp;:</p>
      <pre class="literallayout">
$ git log origin/experimental
</pre>
    </div>

    <div class="section" title="Dépôts distants multiples">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_d%C3%A9p%C3%B4ts_distants_multiples"></a>Dépôts
            distants multiples</h2>
          </div>
        </div>
      </div>

      <p>Supposez que deux autres développeurs travaillent sur
      notre projet et que nous souhaitons garder un œil sur les
      deux. Nous pouvons suivre plus d’un dépôt à la fois grâce
      à&nbsp;:</p>
      <pre class="literallayout">
$ git remote add un_autre git://example.com/un_depot.git
$ git pull un_autre une_branche
</pre>

      <p>Maintenant nous avons fusionné avec une branche d’un
      second dépôt et nous avons accès facilement à toutes les
      branches de tous les dépôts&nbsp;:</p>
      <pre class="literallayout">
$ git diff origin/experimental^ un_autre/une_branche~5
</pre>

      <p>Mais comment faire si nous souhaitons juste comparer leurs
      modifications sans affecter notre travail&nbsp;? En d’autres
      termes, nous voulons examiner leurs branches sans que leurs
      modifications envahissent notre dossier de travail. À la
      place d’un pull, faisons&nbsp;:</p>
      <pre class="literallayout">
$ git fetch          # Rapatrier depuis le dépôt d'origin, par défaut
$ git fetch un_autre # Rapatrier depuis le dépôt d'un_autre
</pre>

      <p>Cela ne rapatrie (fetch) que les historiques. Bien que
      notre dossier de travail reste inchangé, nous pouvons faire
      référence à n’importe quelle branche de n’importe quel dépôt
      dans nos commandes Git puisque nous en possédons maintenant
      une copie locale.</p>

      <p>Rappelez-vous qu’en coulisse, un <span class=
      "strong"><strong>pull</strong></span> est simplement un
      <span class="strong"><strong>fetch</strong></span> suivi d’un
      <span class="strong"><strong>merge</strong></span>.
      Habituellement nous faisons appel à <span class=
      "strong"><strong>pull</strong></span> car nous voulons
      fusionner (merge) les dernières modifications distantes après
      les avoir rapatriées (fetch). La situation ci-dessus est une
      exception notable.</p>

      <p>Voir <span class="strong"><strong>get help
      remote</strong></span> pour savoir comment supprimer des
      dépôts distants, ignorer certaines branches et bien plus
      encore.</p>
    </div>

    <div class="section" title="Mes préférences">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_mes_pr%C3%A9f%C3%A9rences"></a>Mes préférences</h2>
          </div>
        </div>
      </div>

      <p>Pour mes projets, j’aime que mes contributeurs se
      confectionnent un dépôt depuis lequel je peux effectuer des
      pull. Certains services d’hébergement Git vous permettent de
      créer votre propre dépôt clone d’un projet en cliquant
      simplement sur un bouton.</p>

      <p>Après avoir rapatrié (fetch) un arbre de modifications,
      j’utilise les commandes Git pour parcourir et examiner ces
      modifications qui, idéalement, sont bien organisées et bien
      décrites. Je fusionne mes propres modifications et effectue
      parfois quelques modifications supplémentaires. Une fois
      satisfait, je les envoie (push) vers le dépôt principal.</p>

      <p>Bien que recevant rarement des contributions, je pense que
      mon approche est parfaitement adaptable à grande échelle.
      Voir <a class="ulink" href=
      "http://torvalds-family.blogspot.com/2009/06/happiness-is-warm-scm.html"
      target="_top">ce billet par Linus Torvalds</a>.</p>

      <p>Rester dans le monde Git est un peu plus pratique que de
      passer par des fichiers de patch puisque cela m'évite d’avoir
      à les convertir en commits Git. De plus, Git gère les détails
      tels qu’enregistrer le nom de l’auteur, son adresse mail
      ainsi que la date et l’heure et il demande à l’auteur de
      décrire ses propres modifications.</p>
    </div>
  </div><script type="text/javascript" src="find_selflink.js">
</script><script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
  document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
  </script><script type="text/javascript">
var pageTracker = _gat._getTracker("UA-1901330-2");
  pageTracker._initData();
  pageTracker._trackPageview();
  </script>
</div>
</div><div class="footer"><a href="/~blynn/">Ben Lynn</a></div>
</body>
</html>
