From zsh-workers-return-6691-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Jun 17 09:29:08 1999
Return-Path: <zsh-workers-return-6691-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17175 invoked from network); 17 Jun 1999 09:29:07 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 17 Jun 1999 09:29:07 -0000
Received: (qmail 2380 invoked by alias); 17 Jun 1999 09:28:20 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 6691
Received: (qmail 2373 invoked from network); 17 Jun 1999 09:28:18 -0000
From: "Andrej Borsenkow" <borsenkow.msk@sni.de>
To: "Sven Wischnowsky" <wischnow@informatik.hu-berlin.de>,
        <zsh-workers@sunsite.auc.dk>
Subject: RE: _match and auto menu with multipath again
Date: Thu, 17 Jun 1999 13:27:37 +0400
Message-ID: <002101beb8a3$a36b97b0$21c9ca95@mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <199906170837.KAA04058@beta.informatik.hu-berlin.de>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2314.1300

>
> I wasn't completely sure what behavior you want in which case, so I
> just added two new configuration keys:
>
>   path_cursor
>     if this is set to a non-empty string, the cursor will be placed
>     after the ambiguous pathname component even if menucompletion is
>     used
>
>   match_insert
>     if this is set to anything starting with `unambig', menucompletion
>     is only started (by the _match completer, obviously) if no
>     unambiguous string that is at least as long as the original string
>     could be generated
>
> Does any of these do what you want? Note that setting `match_insert=unambig'
> may sometimes remove a short pattern if enough components further up
> the path were expanded. This is a bit ugly, yes, but I can't think of
> an easy way to find out where that precious pattern is which one might
> want to have preserved.
>

Wow! I personally love the latter:

bor@itsrm2:~%> compconf match_insert=unambig
bor@itsrm2:~%> l /a/p/u/z/z*22*<TAB>
bor@itsrm2:~%> l /archive/pub/unix/z/z*22*
zip/  zsh/                          ^ cursor here

and now I can complete ambiguous path component and hit TAB again.

Now, does it look sensible to others? If it is more natural, may be, we should
make it default?

/andrej

Thank you, Sven!


