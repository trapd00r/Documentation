From zsh-workers-return-15369-mason-zsh=primenet.com.au@sunsite.dk Tue Jul 10 23:31:15 2001
Return-Path: <zsh-workers-return-15369-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10268 invoked from network); 10 Jul 2001 23:31:14 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 10 Jul 2001 23:31:14 -0000
Received: (qmail 23544 invoked by alias); 10 Jul 2001 23:31:08 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 15369
Received: (qmail 23526 invoked from network); 10 Jul 2001 23:31:08 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <010710162700.ZM30017@candle.brasslantern.com>
Date: Tue, 10 Jul 2001 16:27:00 -0700
In-Reply-To: <yehofqsjx1a.fsf@water.cs.brown.edu>
Comments: In reply to Timothy Miller <tsm@cs.brown.edu>
        "Re: fatal flaw zsh 4.0.1 on irix 6.3 & 6.5: suspend "ls -l|less" then resume hangs" (Jul 10,  5:26pm)
References: <200106140732.JAA08108@beta.informatik.hu-berlin.de> 
	<yehvgl0kdvm.fsf@water.cs.brown.edu> 
	<1010710162547.ZM29353@candle.brasslantern.com> 
	<yehofqsjx1a.fsf@water.cs.brown.edu>
X-Mailer: Z-Mail Lite (5.0.0 30July97)
To: Timothy Miller <tsm@cs.brown.edu>
Subject: Re: fatal flaw zsh 4.0.1 on irix 6.3 & 6.5: suspend "ls -l|less" then resume hangs
Cc: zsh-workers@sunsite.dk
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Jul 10,  5:26pm, Timothy Miller wrote:
> 
> Ok: zsh-3_1_6-pws-2 works; zsh-3_1_6-pws-3 fails.

One of these must be the culprit, then:

	* Sven: 7605: Src/exec.c, Src/jobs.c: use killpg instead of
	  altering process group when leader exits, fix fg test to use
	  killpg.

	* Sven: 7573: Src/signals.c, Src/exec.c, Src/utils.c: fix return
	  value of killjb(); pipelines which lose their leader get a new
	  one.

Can you send us some output of `ps' that shows the process groups of the
processes involved, from both -pws-2 and anything after that?

