From zsh-workers-request@euclid.skiles.gatech.edu  Fri Aug 23 09:36:44 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by coral.primenet.com.au (8.7.5/8.7.3) with ESMTP id JAA03081 for <mason@primenet.com.au>; Fri, 23 Aug 1996 09:36:42 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id TAA05139; Thu, 22 Aug 1996 19:38:34 -0400 (EDT)
Resent-Date: Thu, 22 Aug 1996 19:38:34 -0400 (EDT)
Date: Thu, 22 Aug 1996 19:35:19 -0400 (EDT)
From: "Greg J. Badros" <gjb@moa.cs.duke.edu>
To: Zoltan Hidvegi <hzoli@cs.elte.hu>
Cc: zsh-workers@math.gatech.edu
Subject: Semantics of compctl -X
In-Reply-To: <199608222110.XAA16315@bolyai.cs.elte.hu>
Message-Id: <Pine.SOL.3.93.960822185659.29379C-100000@moa.cs.duke.edu>
Mime-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
Resent-Message-ID: <"4p7MD3.0.AG1.wzE7o"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/2052
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

It seems that the behaviour of -X "Explanation" compctl flag has changed
since 2.5.03.  It used to work like this:

compctl -X "Testing" howdy
howdy <tab>

- would give :  "Testing"

Now, in Zsh3, however, it appears to *not* echo anything unless it's got
something to complete.

My relevant options are autolist, automenu, completealiases.  In
particular, the old behaviour seems to be used by some of the example
completions:

compctl -k '(if of conv ibs obs bs cbs files skip file seek count)' \
	-S '=' -x 's[if=], s[of=]' -f - 'C[0,conv=*,*] n[-1,,], s[conv=]' \
	-k '(ascii ebcdic ibm block unblock lcase ucase swap noerror \
sync)' \
	-q -S ',' - 'n[-1,=]' -X '<number>'  -- dd

Where -X '<number>' won't appear for me.

Am I doing something noticeable wrong?  From the code it looks like the
behaviour has changed, but then this example completion seems wrong.  I'd
like the old behaviour to be an option, as well.

Greg J. Badros
http://www.cs.duke.edu/~gjb


