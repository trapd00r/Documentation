From zsh-workers-return-22985-mason-zsh=primenet.com.au@sunsite.dk Wed Nov 08 19:32:34 2006
Return-Path: <zsh-workers-return-22985-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 21681 invoked from network); 8 Nov 2006 19:32:28 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.7 (2006-10-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.4 required=5.0 tests=AWL,BAYES_00,
	FORGED_RCVD_HELO autolearn=ham version=3.1.7
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 8 Nov 2006 19:32:28 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 69285 invoked from network); 8 Nov 2006 19:32:22 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 8 Nov 2006 19:32:22 -0000
Received: (qmail 7879 invoked by alias); 8 Nov 2006 19:32:18 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 22985
Received: (qmail 7869 invoked from network); 8 Nov 2006 19:32:17 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 8 Nov 2006 19:32:17 -0000
Received: (qmail 68918 invoked from network); 8 Nov 2006 19:32:17 -0000
Received: from wr-out-0506.google.com (64.233.184.227)
  by a.mx.sunsite.dk with SMTP; 8 Nov 2006 19:32:13 -0000
Received: by wr-out-0506.google.com with SMTP id i12so18170wra
        for <zsh-workers@sunsite.dk>; Wed, 08 Nov 2006 11:32:08 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:sender:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition:x-google-sender-auth;
        b=dEfzk1OpVwW/bTN/zy5ITPGO+w2b5BouZ/C0CwV/GDzdhUHyZ2ZYT9lx7pQ/j1XXJgXBpdGpyd6eZ58FD4PcoaUA11VkIthiJo/cfTHz8WvKTQLP1Vg2RJOOgpEqETWghLGWs788l3fw4KlJX4qXKXvY00mpaVwa3pB5mJz6+bs=
Received: by 10.90.118.12 with SMTP id q12mr4236119agc.1163014327920;
        Wed, 08 Nov 2006 11:32:07 -0800 (PST)
Received: by 10.90.65.18 with HTTP; Wed, 8 Nov 2006 11:32:07 -0800 (PST)
Message-ID: <dbfc82860611081132r28c1e19r15388f256e4d1380@mail.gmail.com>
Date: Wed, 8 Nov 2006 20:32:07 +0100
From: "Nikolai Weibull" <now@bitwi.se>
Sender: nikolai.weibull@gmail.com
To: "Zsh hackers list" <zsh-workers@sunsite.dk>
Subject: Adding hook to SIGWINCH
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Google-Sender-Auth: 1833ec9af203c7b1

It would be nice if one could be notified when a SIGWINCH has been
received so that things depending on $LINES or $COLUMNS can adjust to
their new values.  I'm guessing that the patch is trivial, i.e., a
callhookfunc("winch", NULL, 1); somewhere in adjustwinsize(), but I
don't know enough about what's going on in this function to actually
be able to provide a patch (I'm guessing the line can be added at the
end of the function).  Also, winch may be a bit on the short side,
perhaps zshwinch?  Oh well, just a suggestion.

(By the by, shouldn't shttyinfo be spelled with an 'i'? ;-)

Thanks.

  nikolai

