From zsh-workers-return-7069-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Jul 09 10:33:17 1999
Return-Path: <zsh-workers-return-7069-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18212 invoked from network); 9 Jul 1999 10:33:15 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 9 Jul 1999 10:33:15 -0000
Received: (qmail 12267 invoked by alias); 9 Jul 1999 10:33:10 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7069
Received: (qmail 12260 invoked from network); 9 Jul 1999 10:33:08 -0000
Message-Id: <9907091004.AA32009@ibmth.df.unipi.it>
To: Zsh workers <zsh-workers@sunsite.auc.dk>
Subject: Re: PATCH: completions for su and implicit fg/bg 
In-Reply-To: "Oliver Kiddle"'s message of "Fri, 09 Jul 1999 11:23:06 DFT."
             <3785CD8A.4CAA6484@thoth.u-net.com> 
Date: Fri, 09 Jul 1999 12:04:15 +0200
From: Peter Stephenson <pws@ibmth.df.unipi.it>

Oliver Kiddle wrote:
> First, is a patch to _first which completes jobs after an initial % on
> the command line.

I think the code in _first was deliberately left commented because it gets
run every time, but the impact of this change is minimal.

> This is useful when foregrounding or backgrounding a
> process without fg/bg. This feature seems to be undocumented actually.

Hmm, I thought it was an option, but it seems it's run unconditionally at
the top of execcmd().  What is an option is AUTO_RESUME.

> I've included a basic completion for the
> common shells which just does the -c option.

It really needs to be told to treat a (possibly quoted) word after -c as a
complete command line.  I've forgotten how to do that.

-- 
Peter Stephenson <pws@ibmth.df.unipi.it>       Tel: +39 050 844536
WWW:  http://www.ifh.de/~pws/
Dipartimento di Fisica, Via Buonarroti 2, 56127 Pisa, Italy

