From zsh-workers-return-9121-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Dec 20 15:31:28 1999
Return-Path: <zsh-workers-return-9121-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9683 invoked from network); 20 Dec 1999 15:31:27 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 20 Dec 1999 15:31:27 -0000
Received: (qmail 27684 invoked by alias); 20 Dec 1999 15:31:20 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 9121
Received: (qmail 27677 invoked from network); 20 Dec 1999 15:31:19 -0000
Date: Mon, 20 Dec 1999 10:31:18 -0500
From: Clint Adams <schizo@debian.org>
To: zsh-workers@sunsite.auc.dk
Subject: PATCH: zfdir pager selection
Message-ID: <19991220103118.B8924@dman.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
User-Agent: Mutt/1.0i

Trying to use :more as a pager doesn't work too well here.

Index: Functions/Zftp/zfdir
===================================================================
RCS file: /cvs/zsh/zsh/Functions/Zftp/zfdir,v
retrieving revision 1.1.1.3
diff -u -r1.1.1.3 zfdir
--- Functions/Zftp/zfdir	1999/12/15 21:33:38	1.1.1.3
+++ Functions/Zftp/zfdir	1999/12/20 15:28:30
@@ -98,11 +98,11 @@
 else
   if (zftp test); then
     # Works OK in subshells
-    zftp dir $* | tee $file | eval ${PAGER-:more}
+    zftp dir $* | tee $file | eval ${PAGER:-more}
   else
     # Doesn't work in subshells (IRIX 6.2 --- why?)
     zftp dir $* >$file
-    eval ${PAGER-:more} $file
+    eval ${PAGER:-more} $file
   fi
 fi
 # }

