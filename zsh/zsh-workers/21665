From zsh-workers-return-21665-mason-zsh=primenet.com.au@sunsite.dk Thu Aug 18 18:45:11 2005
Return-Path: <zsh-workers-return-21665-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10743 invoked from network); 18 Aug 2005 18:45:06 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 18 Aug 2005 18:45:06 -0000
Received: (qmail 96715 invoked from network); 18 Aug 2005 18:44:59 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 18 Aug 2005 18:44:59 -0000
Received: (qmail 28767 invoked by alias); 18 Aug 2005 18:44:56 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 21665
Received: (qmail 28757 invoked from network); 18 Aug 2005 18:44:56 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 18 Aug 2005 18:44:56 -0000
Received: (qmail 96411 invoked from network); 18 Aug 2005 18:44:56 -0000
Received: from flock1.newmail.ru (212.48.140.157)
  by a.mx.sunsite.dk with SMTP; 18 Aug 2005 18:44:52 -0000
Received: (qmail 30575 invoked from network); 18 Aug 2005 18:37:12 -0000
Received: from unknown (HELO ?10.0.0.53?) (arvidjaar@newmail.ru@83.237.228.99)
  by smtpd.newmail.ru with SMTP; 18 Aug 2005 18:37:12 -0000
From: Andrey Borzenkov <arvidjaar@newmail.ru>
To: zsh-workers@sunsite.dk
Subject: ztat() fuzziness
Date: Thu, 18 Aug 2005 22:44:40 +0400
User-Agent: KMail/1.8.2
MIME-Version: 1.0
Content-Type: multipart/signed;
  boundary="nextPart5116169.DBA9LLpKj3";
  protocol="application/pgp-signature";
  micalg=pgp-sha1
Content-Transfer-Encoding: 7bit
Message-Id: <200508182244.40687.arvidjaar@newmail.ru>
X-Spam-Checker-Version: SpamAssassin 3.0.4 (2005-06-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.4

--nextPart5116169.DBA9LLpKj3
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

ztat() blindly tries both escaped and unescaped names which sometimes may l=
ead=20
to funny results:

localhost% ls -F
\*  \\\*/
localhost% l \\\*/
\\\*/      \\\\\\\*/

both are marked as directories because first time it checks escaped \* and=
=20
finds another one (which is directory now).

I am mostly concerned with unpredictable side effects with multibyte charac=
ter=20
sets.

=2Dandrey

--nextPart5116169.DBA9LLpKj3
Content-Type: application/pgp-signature

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.0 (GNU/Linux)

iD8DBQBDBNcYR6LMutpd94wRArBYAKC77DahskL/uCcOHVnA7RWlJEKFygCghKd/
NsODOvFf9RloxPd5b++rITQ=
=a7j4
-----END PGP SIGNATURE-----

--nextPart5116169.DBA9LLpKj3--

