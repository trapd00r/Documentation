From zsh-users-return-12360-mason-zsh=primenet.com.au@sunsite.dk Fri Dec 21 18:41:11 2007
Return-Path: <zsh-users-return-12360-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 3516 invoked from network); 21 Dec 2007 18:41:03 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.3 (2007-08-08) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.3
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 21 Dec 2007 18:41:03 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 59706 invoked from network); 21 Dec 2007 18:40:12 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 21 Dec 2007 18:40:12 -0000
Received: (qmail 23932 invoked by alias); 21 Dec 2007 18:39:59 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 12360
Received: (qmail 23916 invoked from network); 21 Dec 2007 18:39:58 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 21 Dec 2007 18:39:58 -0000
Received: from virusfilter.dotsrc.org (bifrost [127.0.0.1])
	by spamfilter.dotsrc.org (Postfix) with ESMTP id 308D38058F54
	for <zsh-users@sunsite.dk>; Fri, 21 Dec 2007 19:36:34 +0100 (CET)
Received: from mtaout02-winn.ispmail.ntl.com (mtaout02-winn.ispmail.ntl.com [81.103.221.48])
	by bifrost.dotsrc.org (Postfix) with ESMTP
	for <zsh-users@sunsite.dk>; Fri, 21 Dec 2007 19:36:33 +0100 (CET)
Received: from aamtaout01-winn.ispmail.ntl.com ([81.103.221.35])
          by mtaout02-winn.ispmail.ntl.com with ESMTP
          id <20071221184037.NTZR6054.mtaout02-winn.ispmail.ntl.com@aamtaout01-winn.ispmail.ntl.com>
          for <zsh-users@sunsite.dk>; Fri, 21 Dec 2007 18:40:37 +0000
Received: from pws-pc ([82.6.96.116]) by aamtaout01-winn.ispmail.ntl.com
          with SMTP
          id <20071221184050.OEVP219.aamtaout01-winn.ispmail.ntl.com@pws-pc>
          for <zsh-users@sunsite.dk>; Fri, 21 Dec 2007 18:40:50 +0000
Date: Fri, 21 Dec 2007 18:38:01 +0000
From: Peter Stephenson <p.w.stephenson@ntlworld.com>
To: Zsh Users <zsh-users@sunsite.dk>
Subject: Re: vi-mode intuitive history searching
Message-Id: <20071221183801.5eac1e26.p.w.stephenson@ntlworld.com>
In-Reply-To: <20071220185848.GI14122@micahelliott.com>
References: <20071220185848.GI14122@micahelliott.com>
X-Mailer: Sylpheed 2.4.7 (GTK+ 2.12.1; x86_64-redhat-linux-gnu)
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: ClamAV using ClamSMTP

On Thu, 20 Dec 2007 10:58:48 -0800
Micah Elliott <mde@MicahElliott.com> wrote:
>     bindkey -a / vi-history-search-backward
> 
> But now "<Esc>/" gives this scary output:
> 
>     zsh: do you wish to see all 1568 possibilities (1568 lines)? 

There's something screwy with your binding: you should only get that
output with completion.  I tried vi-history-search-backward (which is
already bound to / by default in the vicmd map) from "zsh -f" and it
works the way I think you're expecting (I'm not a regular vi mode user
and I couldn't with a quick search even find how to get readline into vi
mode, though I know it's easy and I have a strong suspicion I even put
it into the book(*)).  You should see a "?" prompt, then when you type a
series of keys and hit return it goes back to the previous occurrence.
"n" works like you said.

Are you sure you're in viins mode at the point where you type <Esc>/?
I presume you would know but it's hard to see what might have gone wrong.
You might check that 
  bindkey '\e/'
(run it like that) doesn't have some other binding in viins mode.  If
you type both keys quickly, instead of going to vicmd mode and invoking
/, it will invoke that binding.

(*) From Bash to Z-Shell; Kiddle, Peek and Stephenson; Apress.  Still
available.

-- 
Peter Stephenson <p.w.stephenson@ntlworld.com>
Web page now at http://homepage.ntlworld.com/p.w.stephenson/

