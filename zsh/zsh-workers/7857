From zsh-workers-return-7857-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Sep 15 16:19:49 1999
Return-Path: <zsh-workers-return-7857-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17013 invoked from network); 15 Sep 1999 16:19:47 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 15 Sep 1999 16:19:47 -0000
Received: (qmail 12969 invoked by alias); 15 Sep 1999 16:19:38 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7857
Received: (qmail 12962 invoked from network); 15 Sep 1999 16:19:38 -0000
Message-Id: <9909151544.AA17006@ibmth.df.unipi.it>
To: zsh-workers@sunsite.auc.dk, "Andrei V. Emelianenko" <ave@ibex.ch>
Subject: Re: .zlogin RCSing bug 
In-Reply-To: ""Andrei V. Emelianenko""'s message of "Wed, 15 Sep 1999 18:02:45 DFT."
             <199909151802.SAA13728@ibex.ch> 
Date: Wed, 15 Sep 1999 17:44:35 +0200
From: Peter Stephenson <pws@ibmth.df.unipi.it>

"Andrei V. Emelianenko" wrote:
> I found that .zlogin is sourced not only when the zsh is a login shell
> but also when it is an interactive shell.
> 
> This happened in zsh 2.6-beta4, 3.0.5 and this happens in 3.0.6.

I can't see a problem in 3.0.6.  Maybe what you've found is simply that
login shells are *also* interactive shells, which is certainly true?  Or is
there some initialisation code (e.g. in .zshenv or .zshrc) setting the
login option?  Try putting
  [[ -o login ]] && print "Shell is a login shell"
in .zlogin to check whether a shell executing .zlogin thinks it's a login
shell or not.

-- 
Peter Stephenson <pws@ibmth.df.unipi.it>       Tel: +39 050 844536
WWW:  http://www.ifh.de/~pws/
Dipartimento di Fisica, Via Buonarroti 2, 56127 Pisa, Italy

