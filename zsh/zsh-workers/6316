From zsh-workers-return-6316-mason-zsh=primenet.com.au@sunsite.auc.dk Wed May 19 15:59:13 1999
Return-Path: <zsh-workers-return-6316-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 19963 invoked from network); 19 May 1999 15:59:11 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 19 May 1999 15:59:11 -0000
Received: (qmail 19824 invoked by alias); 19 May 1999 15:58:57 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 6316
Received: (qmail 19817 invoked from network); 19 May 1999 15:58:56 -0000
Message-Id: <9905191534.AA42241@ibmth.df.unipi.it>
To: zsh-workers@sunsite.auc.dk (Zsh hackers list)
Subject: parameter module again
Date: Wed, 19 May 1999 17:34:31 +0200
From: Peter Stephenson <pws@ibmth.df.unipi.it>

I was just looking at the parameter module for nefarious purposes of my
own, and I think there may be memory leaks in it.  The zsh convention is
that the setting functions for parameters are passed permanently allocated
memory, so that (e.g.) options[foo]=on passes a newly allocated string "on"
which setpmoption() doesn't free.  This happens consistently throughout the
module -- in fact, some of the set* routines specially ztrdup() the value
they're passed.

-- 
Peter Stephenson <pws@ibmth.df.unipi.it>       Tel: +39 050 844536
WWW:  http://www.ifh.de/~pws/
Dipartimento di Fisica, Via Buonarroti 2, 56127 Pisa, Italy

