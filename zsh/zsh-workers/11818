From zsh-workers-return-11818-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Jun 08 09:37:03 2000
Return-Path: <zsh-workers-return-11818-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 12633 invoked from network); 8 Jun 2000 09:37:01 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 8 Jun 2000 09:37:01 -0000
Received: (qmail 18039 invoked by alias); 8 Jun 2000 09:36:52 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 11818
Received: (qmail 18031 invoked from network); 8 Jun 2000 09:36:50 -0000
Date: Thu, 8 Jun 2000 11:36:31 +0200 (MET DST)
Message-Id: <200006080936.LAA19790@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: Clint Adams's message of Wed, 7 Jun 2000 11:06:50 -0400
Subject: Re: "antecedents" [was Re: a couple of completion questions]


Clint Adams wrote:

> > Sorry, I don't understand... what do you want to do?
> 
> Okay.  I want to use _arguments -A in the state switch at the bottom.
> Originally, install and record_avail were the same case, but when I
> added -A, they wouldn't complete, so I had to insert the options
> that had gotten the user to that state, which is why install and
> record_avail are two separate cases now.
> 
> I want to avoid making remove, purge, status, and listfiles
> four separate cases, yet still retain the -A to _arguments.
> My last resort would probably be to define four new arrays with
> the short and long options and then use something like
> ${(P)${:-_dpkg_actions_${state}}}, but I was hoping that there
> was a better way.

Aha. Well, if it finds a string not described by one of the
option-specs it has to take it to be an argument.

Hm, should we add an option, to be combined with -A (or an argument to 
-A?) to tell it that it should consider words starting with [-+] to be 
arguments? Or, probably better, let -A take an argument, a pattern and 
all words matching it are not taken to be arguments and hence don't
keep it from completing option.


Bye
 Sven


--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

