From zsh-users-return-8658-mason-zsh=primenet.com.au@sunsite.dk Tue Apr 05 14:40:44 2005
Return-Path: <zsh-users-return-8658-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 28442 invoked from network); 5 Apr 2005 14:40:43 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 5 Apr 2005 14:40:43 -0000
Received: (qmail 48054 invoked from network); 5 Apr 2005 14:40:36 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 5 Apr 2005 14:40:35 -0000
Received: (qmail 15938 invoked by alias); 5 Apr 2005 14:40:25 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8658
Received: (qmail 15922 invoked from network); 5 Apr 2005 14:40:24 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 5 Apr 2005 14:40:24 -0000
Received: (qmail 46869 invoked from network); 5 Apr 2005 14:40:24 -0000
Received: from vms040pub.verizon.net (206.46.252.40)
  by a.mx.sunsite.dk with SMTP; 5 Apr 2005 14:40:20 -0000
Received: from candle.brasslantern.com ([4.11.1.68])
 by vms040.mailsrvcs.net (Sun Java System Messaging Server 6.2 HotFix 0.04
 (built Dec 24 2004)) with ESMTPA id <0IEH00HC8A2ZYY85@vms040.mailsrvcs.net> for
 zsh-users@sunsite.dk; Tue, 05 Apr 2005 09:40:12 -0500 (CDT)
Received: from candle.brasslantern.com (IDENT:schaefer@localhost [127.0.0.1])
	by candle.brasslantern.com (8.12.11/8.12.11) with ESMTP id j35EeBlo015150;
 Tue, 05 Apr 2005 07:40:11 -0700
Received: (from schaefer@localhost)	by candle.brasslantern.com
 (8.12.11/8.12.11/Submit) id j35EeBor015149; Tue, 05 Apr 2005 07:40:11 -0700
Date: Tue, 05 Apr 2005 14:40:10 +0000
From: Bart Schaefer <schaefer@brasslantern.com>
Subject: Re: completion for darcs
In-reply-to: <20050405072940.GA9105@a5.repetae.net>
To: frederik@ofb.net
Cc: zsh-users@sunsite.dk
Message-id: <1050405144010.ZM15148@candle.brasslantern.com>
MIME-version: 1.0
X-Mailer: Z-Mail (5.0.0 30July97)
Content-type: text/plain; charset=us-ascii
References: <20050401080620.GA16347@vandal.simcon-mt.de>
	<20050401080914.GB16347@vandal.simcon-mt.de>	<424D152C.2030006@free.fr>
	<20050401123620.GA2607@ppe.happygiraffe.net>	<424D4A38.6010607@free.fr>
	<20050405072940.GA9105@a5.repetae.net>
Comments: In reply to Frederik Eaton <frederik@a5.repetae.net>
 "Re: completion for darcs" (Apr  5, 12:29am)
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=6.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.6

On Apr 5, 12:29am, Frederik Eaton wrote:
}
} Shouldn't it be possible to just tell zsh that when there are no
} completions for an argument, it should fall back to completing files?

Sure.  And it is.  I'm surprised no one has mentioned this yet.  Just
put "_files" directly into your "completer" zstyle somewhere.  E.g.:

zstyle ':completion:*' completer \
    _oldlist _expand _complete _match _ignored _files _approximate _prefix

Where you place it will determine the precedence taken by file completion
with respect to "repairs" (like partial and approximate matching) done on
the completions suggested by the more context-specific completer selected
by _complete.

