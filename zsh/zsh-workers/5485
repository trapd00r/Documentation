From zsh-workers-return-5485-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Feb 23 10:26:13 1999
Return-Path: <zsh-workers-return-5485-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 27979 invoked from network); 23 Feb 1999 10:26:12 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 23 Feb 1999 10:26:12 -0000
Received: (qmail 24967 invoked by alias); 23 Feb 1999 10:25:33 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 5485
Received: (qmail 24897 invoked from network); 23 Feb 1999 10:25:21 -0000
Message-Id: <9902231006.AA63760@ibmth.df.unipi.it>
To: "ZSH workers mailing list" <zsh-workers@sunsite.auc.dk>
Subject: Re: zsh-3.1.5-pws-9: make fails without yodl 
In-Reply-To: ""Andrej Borsenkow""'s message of "Tue, 23 Feb 1999 13:05:58 NFT."
             <001701be5f14$1bf2e380$21c9ca95@mowp.siemens.ru> 
Date: Tue, 23 Feb 1999 11:06:37 +0100
From: Peter Stephenson <pws@ibmth.df.unipi.it>

"Andrej Borsenkow" wrote:
> Just found, when compiling zsh on brand new system:
> 
> gmake[1]: Entering directory `/SAM/home/bor/src/zsh-3.1.5-pws-9/Doc'
> case zsh.1 in \
>   */*) target=zsh.1 ;; \
>   *) target=./zsh.1 ;; \
> esac; \
> : -o $target -I. -w zman.yo version.yo zsh.yo || exit 1; \
> test -f $target
> gmake[1]: *** [zsh.1] Error 1
> gmake[1]: Leaving directory `/SAM/home/bor/src/zsh-3.1.5-pws-9/Doc'
> gmake: *** [all] Error 1

The problem is not so much the behaviour as the error handling:  the `:'
would be yodl if that was available, and since it's not the target is never
going to be built.  The question is whether it should retreat silently,
i.e. there should be a `-' somewhere.  Maybe the best thing to do is get
the rules to check whether $(YODL) is really yodl, and if not, stop?

You can supposedly avoid it by untarring up-to-date documentation on top of
the source, if I've got the dates right.

-- 
Peter Stephenson <pws@ibmth.df.unipi.it>       Tel: +39 050 844536
WWW:  http://www.ifh.de/~pws/
Dipartimento di Fisica, Via Buonarroti 2, 56127 Pisa, Italy

