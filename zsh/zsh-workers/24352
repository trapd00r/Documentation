From zsh-workers-return-24352-mason-zsh=primenet.com.au@sunsite.dk Fri Jan 04 09:48:08 2008
Return-Path: <zsh-workers-return-24352-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 20772 invoked from network); 4 Jan 2008 09:47:59 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.3 (2007-08-08) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.3
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 4 Jan 2008 09:47:59 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 2472 invoked from network); 4 Jan 2008 09:47:33 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 4 Jan 2008 09:47:33 -0000
Received: (qmail 14615 invoked by alias); 4 Jan 2008 09:47:21 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 24352
Received: (qmail 14449 invoked from network); 4 Jan 2008 09:47:18 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 4 Jan 2008 09:47:18 -0000
Received: from virusfilter.dotsrc.org (bifrost [127.0.0.1])
	by spamfilter.dotsrc.org (Postfix) with ESMTP id 50D9A8058FF2
	for <zsh-workers@sunsite.dk>; Fri,  4 Jan 2008 10:47:17 +0100 (CET)
Received: from mail.gmx.net (mail.gmx.net [213.165.64.20])
	by bifrost.dotsrc.org (Postfix) with SMTP
	for <zsh-workers@sunsite.dk>; Fri,  4 Jan 2008 10:47:17 +0100 (CET)
Received: (qmail invoked by alias); 04 Jan 2008 09:47:13 -0000
Received: from p549B6C75.dip.t-dialin.net (EHLO localhost) [84.155.108.117]
  by mail.gmx.net (mp037) with SMTP; 04 Jan 2008 10:47:13 +0100
X-Authenticated: #27333227
X-Provags-ID: V01U2FsdGVkX18tNtsltNUtikdHlSXKDRNPzwhJ1myA2DEMrwFA0f
	SJjuls6zomUycX
Date: Fri, 4 Jan 2008 10:47:12 +0100
From: Mustafa Oezkan <destruct.c@gmx.net>
To: zsh-workers@sunsite.dk
Subject: PATCH: _bsd_pkg openbsd completion
Message-ID: <20080104094712.GA3821@xenon.codefish.lan>
MIME-Version: 1.0
Content-Type: multipart/mixed; boundary="C7zPtVaVf+AK4Oqc"
Content-Disposition: inline
User-Agent: Mutt/1.5.17-muttng (2007-11-01)
X-Y-GMX-Trusted: 0
X-Virus-Scanned: ClamAV using ClamSMTP


--C7zPtVaVf+AK4Oqc
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline

Hi,

i added some openbsd specific completion to _bsd_pkg. I hope some guys
who are running OpenBSD, can do some testing and report bugs.

Thx and regarts
Mustafa Oezkan

-- 
There's a difference between, doing wrong and being wrong.

--C7zPtVaVf+AK4Oqc
Content-Type: text/plain; charset=us-ascii
Content-Disposition: attachment; filename="_bsd_pkg.patch"

--- Completion/BSD/Command/_bsd_pkg.orig	2007-12-28 21:14:25.309830589 +0100
+++ Completion/BSD/Command/_bsd_pkg	2008-01-04 10:45:49.339036114 +0100
@@ -58,7 +58,23 @@
       '-v[be verbose]'
     )
 
-    case "$OSTYPE" in
+  case "$OSTYPE" in
+    openbsd*)
+      flags=(
+	'-u[update given pkgname(s), else all installed packages]'
+	'-x[disable progress-meter]'
+	'-r[replace existing packages]'
+	'-q[replace package quickly, do not bother checking md5s]'
+	'-a[automated package installation; not record packages as installed manually]'
+	'-i[interactive mode]'
+	'-c[delete extra configuration file in old package while replacing]'
+	'-P[check permissions for distribution]'
+	'-F[force installation]'
+	'-L[install a package under localbase]'
+	'-v[be verbose, several -v be more verbose]'
+    )
+    ;;
+
     freebsd*)
       flags=(
         $flags[@]
@@ -155,6 +171,17 @@
 	'-V[show version and exit]'
       )
       ;;
+    openbsd*)
+      flags=(
+	'-c[delete extra configuration file]'
+	'-I[if scripts exist do not execute them]'
+	'-i[interactive mode]'
+	'-n[don'\''t really deinstall packages]'
+	'-q[delete package quickly, don'\''t bother md5s before removing]'
+	'-v[be verbose, several -v be more verbose]'
+	'-x[disable progress-meter]'
+	)
+	;;
     esac
 
     _arguments -s \

--C7zPtVaVf+AK4Oqc--

