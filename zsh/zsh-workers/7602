From zsh-workers-return-7602-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Sep 01 11:14:09 1999
Return-Path: <zsh-workers-return-7602-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 19714 invoked from network); 1 Sep 1999 11:14:07 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 1 Sep 1999 11:14:07 -0000
Received: (qmail 10585 invoked by alias); 1 Sep 1999 11:13:58 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7602
Received: (qmail 10578 invoked from network); 1 Sep 1999 11:13:58 -0000
X-Envelope-Sender-Is: Andrej.Borsenkow@mow.siemens.ru (at relayer thoth.mch.sni.de)
From: "Andrej Borsenkow" <Andrej.Borsenkow@mow.siemens.ru>
To: "ZSH workers mailing list" <zsh-workers@sunsite.auc.dk>
Subject: Nested completion of arguments 
Date: Wed, 1 Sep 1999 15:13:56 +0400
Message-ID: <000301bef46b$14e4ce90$21c9ca95@mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2314.1300
Importance: Normal

Sorry, I could not follow recent changes closely, so may be this question is
trivial.

I'd like to have completion for mount and share commands. On our system (SVR4
based) the general syntax of mount is

mount [-F FSType] [-Vr] [-o specific_options] special mount_point

where specific_options are in the form

option[=value],...

The same is for share, 'course.

The question is, is it currently possible to complete this `specific_options'
part (with autoremoved `,' and all this completion sugar). Note, that values of
options may itself be completed as list; the trivial example is

share -o root=host1:host2

Also, the possible values for specific options depends on FSType.

I don't ask for a complete function :-) but just for a hint what can be used.

Note, that this form is officially blessed by UNIX specs as getsubopt()
function. So, it may be nice to have a general way to parse such option string.
(Not that I can name other commands that use it offhead).

/andrej

