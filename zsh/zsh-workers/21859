From zsh-workers-return-21859-mason-zsh=primenet.com.au@sunsite.dk Mon Oct 10 14:06:54 2005
Return-Path: <zsh-workers-return-21859-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 7116 invoked from network); 10 Oct 2005 14:06:51 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 10 Oct 2005 14:06:51 -0000
Received: (qmail 46120 invoked from network); 10 Oct 2005 14:06:44 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 10 Oct 2005 14:06:44 -0000
Received: (qmail 26524 invoked by alias); 10 Oct 2005 14:06:41 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 21859
Received: (qmail 26515 invoked from network); 10 Oct 2005 14:06:40 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 10 Oct 2005 14:06:40 -0000
Received: (qmail 45801 invoked from network); 10 Oct 2005 14:06:40 -0000
Received: from vms044pub.verizon.net (206.46.252.44)
  by a.mx.sunsite.dk with SMTP; 10 Oct 2005 14:06:39 -0000
Received: from candle.brasslantern.com ([71.116.81.225])
 by vms044.mailsrvcs.net
 (Sun Java System Messaging Server 6.2 HotFix 0.04 (built Dec 24 2004))
 with ESMTPA id <0IO500M9XDV1UVJ6@vms044.mailsrvcs.net> for
 zsh-workers@sunsite.dk; Mon, 10 Oct 2005 09:06:37 -0500 (CDT)
Received: from candle.brasslantern.com (IDENT:schaefer@localhost [127.0.0.1])
	by candle.brasslantern.com (8.12.11/8.12.11) with ESMTP id j9AE6aLN013473	for
 <zsh-workers@sunsite.dk>; Mon, 10 Oct 2005 07:06:36 -0700
Received: (from schaefer@localhost)	by candle.brasslantern.com
 (8.12.11/8.12.11/Submit) id j9AE6a7B013472	for zsh-workers@sunsite.dk; Mon,
 10 Oct 2005 07:06:36 -0700
Date: Mon, 10 Oct 2005 14:06:36 +0000
From: Bart Schaefer <schaefer@brasslantern.com>
Subject: Re: cosmetic completion problem
In-reply-to: <EXCHANGE03O6AprLfKY00003f28@exchange03.csr.com>
To: zsh-workers@sunsite.dk
Message-id: <1051010140636.ZM13471@candle.brasslantern.com>
MIME-version: 1.0
X-Mailer: Z-Mail (5.0.0 30July97)
Content-type: text/plain; charset=us-ascii
References: <20051006205811.GA29634@scowler.net>
 <20051008073254.GB81@DervishD>	<20051008214058.GA16720@scowler.net>
	<1051009025449.ZM6480@candle.brasslantern.com>
	<EXCHANGE03O6AprLfKY00003f28@exchange03.csr.com>
Comments: In reply to Peter Stephenson <pws@csr.com>
 "Re: cosmetic completion problem" (Oct 10, 10:37am)
X-Spam-Checker-Version: SpamAssassin 3.0.4 (2005-06-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.4

On Oct 10, 10:37am, Peter Stephenson wrote:
}
} What might be more interesting is that I changed
} 
} 	    if (++col == columns) {
} into
} 	    if (col >= columns) {
} 
} which might well have introduced a subtle bug.

No, that's another red herring.  The non-unicode branch still has the
original ++col and I get the crash with --disable-multibyte.  I think
the real bug happens somewhere outside this function, before execution
even gets this far.

