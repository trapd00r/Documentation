From zsh-users-return-13242-mason-zsh=primenet.com.au@sunsite.dk Thu Sep 18 15:49:55 2008
Return-Path: <zsh-users-return-13242-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 14188 invoked from network); 18 Sep 2008 15:49:52 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00,HTML_MESSAGE
	autolearn=ham version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 18 Sep 2008 15:49:52 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 39556 invoked from network); 18 Sep 2008 15:49:38 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 18 Sep 2008 15:49:38 -0000
Received: (qmail 16789 invoked by alias); 18 Sep 2008 15:49:12 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 13242
Received: (qmail 16779 invoked from network); 18 Sep 2008 15:49:11 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 18 Sep 2008 15:49:11 -0000
Received: from wa-out-1112.google.com (wa-out-1112.google.com [209.85.146.178])
	by bifrost.dotsrc.org (Postfix) with ESMTP id A5CB2802720D
	for <zsh-users@sunsite.dk>; Thu, 18 Sep 2008 17:49:03 +0200 (CEST)
Received: by wa-out-1112.google.com with SMTP id v27so2483410wah.21
        for <zsh-users@sunsite.dk>; Thu, 18 Sep 2008 08:49:02 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:message-id:date:from:to
         :subject:cc:in-reply-to:mime-version:content-type:references;
        bh=u8G5tLsYcIfiSOvXuCeNMpppViUWl3gaT5Hzzw2KY9w=;
        b=R9vu3o+9lzRlJoiMj4F7ri4S3QP8MV1Jpx1neTNMzz5WiJmmh38CYd2yfqbArZEhZx
         mxmMcR4IYQ1P8zccaNE2uhKT5f0GpmioMwqxWziKQnAXHTIm6/nmywxk+OuHRv76BNrI
         D+Dmhnk+EavrDGm2vp+S+AcCpeEB1noG1pmiE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=message-id:date:from:to:subject:cc:in-reply-to:mime-version
         :content-type:references;
        b=COVp2WAxYD9VxugaisQ8IG35w8GZEE21Ao8R0HNh1LvZoafRcY7ZCyDoHxLeuvHu6G
         inYj1GccnbWKQVQoMWMoRhSI7iRm9ZZaNHq2nc7jZZIQitq1QI11VzMUZCLztA3Yw70V
         Te+7/rgl1hhZ23/iQG2J/i1mn4QYV+VUfgIbk=
Received: by 10.114.241.15 with SMTP id o15mr3954754wah.164.1221752942598;
        Thu, 18 Sep 2008 08:49:02 -0700 (PDT)
Received: by 10.114.159.2 with HTTP; Thu, 18 Sep 2008 08:49:02 -0700 (PDT)
Message-ID: <6cd6de210809180849v7d432471u27796c407fc91286@mail.gmail.com>
Date: Thu, 18 Sep 2008 11:49:02 -0400
From: "Rocky Bernstein" <rocky.bernstein@gmail.com>
To: "Bart Schaefer" <schaefer@brasslantern.com>
Subject: Re: using history in a command processor
Cc: "zsh users mailing list" <zsh-users@sunsite.dk>
In-Reply-To: <080917215709.ZM27637@torch.brasslantern.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_15671_24097057.1221752942588"
References: <6cd6de210809171959pf390cafr7858b7769ccfde85@mail.gmail.com>
	 <080917215709.ZM27637@torch.brasslantern.com>
X-Virus-Scanned: ClamAV 0.92.1/8279/Thu Sep 18 14:42:42 2008 on bifrost
X-Virus-Status: Clean

------=_Part_15671_24097057.1221752942588
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

On Thu, Sep 18, 2008 at 12:57 AM, Bart Schaefer
<schaefer@brasslantern.com>wrote:

> On Sep 17, 10:59pm, Rocky Bernstein wrote:
> }
> } In other words, what I'm looking for is an equivalent to what in bash  is
> } "history -s"
>
> You want "print -s".


Got it. thanks. The organization of the functions to do editing and history
seems a bit weird.

I think of print and read going together but the kind of read you need for
editing is vared
not read. Bash is a little more logical here in that there is a -e option on
read. Of course it doesn't have all the other options for specifying keymaps
and so on, but largely that's not needed.

So once you find out not to use read but vared, I find myself in the zle
section where of course there is nothing about print -s. And history
manipulation seems to be fc which brings us back to builtins which also
doesn't mention that there is this print -s thing.

Perhaps there should be a fc thing that is equivalent to "print -s"?

And the name history seems to be better than fc, so it's good there is that
builtin. But perhaps it should allow the other options that fc allows. In
other words be an alias to "fc" rather than "fc -l".




> Functions/Misc/sticky-note has an example of this.
> So does Functions/Misc/zcalc, which effectively IS a command processor.
>
> } Also, is there a way to delete an entry?
>
> Only by having them fall off due to HISTSIZE or be skipped by one of the
> HIST_IGNORE_* setopts.
>

------=_Part_15671_24097057.1221752942588
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

<div dir="ltr">On Thu, Sep 18, 2008 at 12:57 AM, Bart Schaefer <span dir="ltr">&lt;<a href="mailto:schaefer@brasslantern.com">schaefer@brasslantern.com</a>&gt;</span> wrote:<br><div class="gmail_quote"><blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">
<div class="Ih2E3d">On Sep 17, 10:59pm, Rocky Bernstein wrote:<br>
}<br>
} In other words, what I&#39;m looking for is an equivalent to what in bash &nbsp;is<br>
} &quot;history -s&quot;<br>
<br>
</div>You want &quot;print -s&quot;. &nbsp;</blockquote><div><br>Got it. thanks. The organization of the functions to do editing and history seems a bit weird.<br><br>I think of print and read going together but the kind of read you need for editing is vared<br>
not read. Bash is a little more logical here in that there is a -e option on read. Of course it doesn&#39;t have all the other options for specifying keymaps and so on, but largely that&#39;s not needed. <br><br>So once you find out not to use read but vared, I find myself in the zle section where of course there is nothing about print -s. And history manipulation seems to be fc which brings us back to builtins which also doesn&#39;t mention that there is this print -s thing. <br>
<br>Perhaps there should be a fc thing that is equivalent to &quot;print -s&quot;? <br><br>And the name history seems to be better than fc, so it&#39;s good there is that builtin. But perhaps it should allow the other options that fc allows. In other words be an alias to &quot;fc&quot; rather than &quot;fc -l&quot;.<br>
<br><br>&nbsp;<br></div><blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">Functions/Misc/sticky-note has an example of this.<br>
So does Functions/Misc/zcalc, which effectively IS a command processor.<br>
<div class="Ih2E3d"><br>
} Also, is there a way to delete an entry?<br>
<br>
</div>Only by having them fall off due to HISTSIZE or be skipped by one of the<br>
HIST_IGNORE_* setopts.<br>
</blockquote></div><br></div>

------=_Part_15671_24097057.1221752942588--

