From zsh-users-return-4930-mason-zsh=primenet.com.au@sunsite.dk Tue May 07 15:04:49 2002
Return-Path: <zsh-users-return-4930-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 616 invoked from network); 7 May 2002 15:04:47 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 7 May 2002 15:04:47 -0000
Received: (qmail 6408 invoked by alias); 7 May 2002 15:04:02 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4930
Received: (qmail 6390 invoked from network); 7 May 2002 15:03:58 -0000
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <1020507150337.ZM7109@candle.brasslantern.com>
Date: Tue, 7 May 2002 15:03:36 +0000
In-Reply-To: <20020507100348.GA5344@syd-barrett.hash-group.net>
Comments: In reply to Bruno Bonfils <asyd@debian-fr.org>
        "Problem with function" (May  7, 12:03pm)
References: <20020507100348.GA5344@syd-barrett.hash-group.net>
X-Mailer: Z-Mail (5.0.0 30July97)
To: Bruno Bonfils <asyd@debian-fr.org>, zsh-users@sunsite.dk
Subject: Re: Problem with function
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On May 7, 12:03pm, Bruno Bonfils wrote:
}
} mutt () {
}         print -Pn "\e]0; Mutt\a"
}         \mutt
} }
} 
} the print are executed (and work with screen) but the zsh
} session crash :(

Using \mutt does NOT stop the mutt function from being called.  It only
stops an *alias* for mutt from expanding, if you had one.  Zsh crashes
because the heap overflows allocating memory for the infinitely recursive
function that you've written.

You want:

    mutt () {
      print -Pn "\e]0; Mutt\a"
      command mutt
    }

This is question 3.16 in the FAQ, by the way.

If you compiled zsh yourself, check out the --enable-max-function-depth
flag that you can pass to the configure script.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net   

