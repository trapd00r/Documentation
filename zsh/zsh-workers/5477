From zsh-workers-return-5477-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Feb 22 16:03:02 1999
Return-Path: <zsh-workers-return-5477-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 26766 invoked from network); 22 Feb 1999 16:03:00 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 22 Feb 1999 16:03:00 -0000
Received: (qmail 528 invoked by alias); 22 Feb 1999 16:02:26 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 5477
Received: (qmail 521 invoked from network); 22 Feb 1999 16:02:24 -0000
Date: Mon, 22 Feb 1999 17:01:19 +0100 (MET)
Message-Id: <199902221601.RAA22403@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: Peter Stephenson's message of Sat, 20 Feb 1999 16:01:30 +0100
Subject: Re: Let's finish this new completion stuff


Another reply to this, not directly connected to the implementation of 
the completion stuff.

Peter Stephenson wrote:

> By the way, is it
> really necessary to have the `cmd=$(whence -p $COMMAND)' on every call to
> command/argument completion?  I haven't thought about it, but maybe it can
> be optimised away in a lot of cases.

The problem is that this is immediatly used when testing pattern
completions. And I think this is important to have since `*/X11/*' is
a better test for X-programs than `x*', which is just plain wrong.
I first tried `eval cmd2\==$COMMAND' but that makes zsh stop if there
is no such command (`zsh: foo not found').

> I'm still vaguely of the opinion it would be quite nice to have long
> Posix-style options for the comp* commands, as I suggested some time ago,
> e.g. 
> 
> complist -mf
> 
> could also be
> 
> complist --external --files
> 
> or something for readability.

Yes, but maybe we should do this is some generic way in builtin.c, so
that we can add such long options to (almost) all builtins. I.e. a way 
to store the long names together with the short names they are aliases 
for and then make execbuiltin() put them in the ops array as usual.


Bye
 Sven


--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

