From zsh-workers-return-25800-mason-zsh=primenet.com.au@sunsite.dk Thu Oct 02 08:39:40 2008
Return-Path: <zsh-workers-return-25800-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4031 invoked from network); 2 Oct 2008 08:39:29 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 2 Oct 2008 08:39:29 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 31866 invoked from network); 2 Oct 2008 08:39:17 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 2 Oct 2008 08:39:17 -0000
Received: (qmail 3522 invoked by alias); 2 Oct 2008 08:39:06 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 25800
Received: (qmail 3493 invoked from network); 2 Oct 2008 08:39:02 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 2 Oct 2008 08:39:02 -0000
Received: from wa-out-1112.google.com (wa-out-1112.google.com [209.85.146.180])
	by bifrost.dotsrc.org (Postfix) with ESMTP id DA2B480308BA
	for <zsh-workers@sunsite.dk>; Thu,  2 Oct 2008 10:38:58 +0200 (CEST)
Received: by wa-out-1112.google.com with SMTP id m28so510778wag.29
        for <zsh-workers@sunsite.dk>; Thu, 02 Oct 2008 01:38:57 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:message-id:date:from:to
         :subject:cc:in-reply-to:mime-version:content-type
         :content-transfer-encoding:content-disposition:references;
        bh=DF5Z1/310QvAco3h2lhhl/30pg16jZa+l7+WAD5C7Ao=;
        b=TcPBJt+WaeMAAlT/NOC3hBK7wT8h7Y3RjMLNMKsRp5R8glA8HcTEuePwyyfQ0SLx6d
         TAUGclo7IYg6329ie3MBTG1kkEpo3DhHtnuJbz7KCYyR7UdKYy3e6kwiSGDIYGI/3fBP
         8F4TfxPU7hB0HKQAAkY4fJiVH2+beebnY49mo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=message-id:date:from:to:subject:cc:in-reply-to:mime-version
         :content-type:content-transfer-encoding:content-disposition
         :references;
        b=dB8vZRZS4QTrgd8gIzPOV7505JSXBr2V3YThJCV1ECgN1LIiuG+vAqtVMT9Mc+39f0
         s+CKrdXEqHBh3ZFVQyHAnvs6pKlK7ipOijbYDMQkcLRhaQ8i51F1L1DWMWugnx8v44hC
         BHufDob4GTgUk1ni01cF9zSn+k6acRHnXq4e8=
Received: by 10.114.151.4 with SMTP id y4mr6432092wad.6.1222936737154;
        Thu, 02 Oct 2008 01:38:57 -0700 (PDT)
Received: by 10.114.159.2 with HTTP; Thu, 2 Oct 2008 01:38:57 -0700 (PDT)
Message-ID: <6cd6de210810020138v2ea72a7emf933280aef464766@mail.gmail.com>
Date: Thu, 2 Oct 2008 04:38:57 -0400
From: "Rocky Bernstein" <rocky.bernstein@gmail.com>
To: "Bart Schaefer" <schaefer@brasslantern.com>
Subject: Re: fc -l doesn't match %h number?
Cc: "Zsh hackers list" <zsh-workers@sunsite.dk>
In-Reply-To: <081001232100.ZM13474@torch.brasslantern.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <6cd6de210810010854y37b51e98wc10e5008cf89423c@mail.gmail.com>
	 <081001232100.ZM13474@torch.brasslantern.com>
X-Virus-Scanned: ClamAV 0.92.1/8370/Thu Oct  2 05:51:47 2008 on bifrost
X-Virus-Status: Clean

On Thu, Oct 2, 2008 at 2:21 AM, Bart Schaefer <schaefer@brasslantern.com> wrote:
> On Oct 1, 11:54am, Rocky Bernstein wrote:
...
> Note that everything that happened at "level: 1" has vanished, including
> the value shown by %h, when we get back to "level: 0".

I didn't mention this because I expect this. This is how subshells
work in general and if you look at the full debugger, this part in
fact is handled both here and in the more general case (aside from
bugs in my code).

I don't expect %h and the number of entries in  fc -l to be inconsistent though.

