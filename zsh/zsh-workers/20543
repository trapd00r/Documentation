From zsh-workers-return-20543-mason-zsh=primenet.com.au@sunsite.dk Thu Nov 04 18:14:38 2004
Return-Path: <zsh-workers-return-20543-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17290 invoked from network); 4 Nov 2004 18:14:37 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 4 Nov 2004 18:14:37 -0000
Received: (qmail 57481 invoked from network); 4 Nov 2004 18:14:32 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 4 Nov 2004 18:14:32 -0000
Received: (qmail 17225 invoked by alias); 4 Nov 2004 18:14:30 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 20543
Received: (qmail 17212 invoked from network); 4 Nov 2004 18:14:29 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 4 Nov 2004 18:14:29 -0000
Received: (qmail 57210 invoked from network); 4 Nov 2004 18:14:29 -0000
Received: from host81-105-217-43.not-set-yet.ntli.net (HELO MAILSWEEPER01.csr.com) (81.105.217.43)
  by a.mx.sunsite.dk with SMTP; 4 Nov 2004 18:14:28 -0000
Received: from exchange03.csr.com (unverified [10.100.137.60]) by MAILSWEEPER01.csr.com
 (Content Technologies SMTPRS 4.3.12) with ESMTP id <T6d113324790a6c8d01424@MAILSWEEPER01.csr.com> for <zsh-workers@sunsite.dk>;
 Thu, 4 Nov 2004 18:13:19 +0000
Received: from csr.com ([10.102.144.127]) by exchange03.csr.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 4 Nov 2004 18:17:52 +0000
To: zsh-workers@sunsite.dk
Subject: Re: Is this a bug or I'm completely lost? 
In-reply-to: <Pine.LNX.4.61.0411040841090.5131@toltec.zanshin.com> 
References: <20041104115359.GA23778@DervishD> <Pine.LNX.4.61.0411040841090.5131@toltec.zanshin.com>
Date: Thu, 04 Nov 2004 18:14:26 +0000
Message-ID: <13119.1099592066@csr.com>
From: Peter Stephenson <pws@csr.com>
X-OriginalArrivalTime: 04 Nov 2004 18:17:52.0484 (UTC) FILETIME=[993C6240:01C4C29A]
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, hits=0.0 required=6.0 tests=none autolearn=no version=2.63
X-Spam-Hits: 0.0

Bart Schaefer wrote:
> It certainly appears that this is the intentional behavior of compadd -k, 
> based on a look at the code.  If you specify multiple arrays in a single 
> compadd, they're assumed to indicate a preference ordering (e.g. nameddirs 
> xor userdirs) whereas if you use separate compadds they're cumulative.  
> The code very explicitly stops searching as soon as a partial match has 
> been found; the only reason you get all of them in your first example is 
> that there are no partial matches.

It's hard to believe it's a useful feature.  grep suggests it's not
used.  I can't see what you'd use it for.  Doesnt' ${array:-$array2}, or
something similar do it more clearly?

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR PLC, Churchill House, Cambridge Business Park, Cowley Road
Cambridge, CB4 0WZ, UK                          Tel: +44 (0)1223 692070


**********************************************************************
This email and any files transmitted with it are confidential and
intended solely for the use of the individual or entity to whom they
are addressed. If you have received this email in error please notify
the system manager.

This footnote also confirms that this email message has been swept by
MIMEsweeper for the presence of computer viruses.

www.mimesweeper.com
**********************************************************************

