From zsh-workers-return-9307-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Jan 13 09:58:24 2000
Return-Path: <zsh-workers-return-9307-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2014 invoked from network); 13 Jan 2000 09:58:23 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 13 Jan 2000 09:58:23 -0000
Received: (qmail 24270 invoked by alias); 13 Jan 2000 09:58:15 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 9307
Received: (qmail 24263 invoked from network); 13 Jan 2000 09:58:14 -0000
Date: Thu, 13 Jan 2000 10:58:13 +0100 (MET)
Message-Id: <200001130958.KAA06781@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
CC: =?ISO-8859-1?Q?Johan_Sundstr=F6m?= <johsu650@student.liu.se>
In-reply-to: Sven Wischnowsky's message of Thu, 13 Jan 2000 10:20:32 +0100
	(MET)
Subject: Re: zle -R glitch


I wrote:

> =?ISO-8859-1?Q?Johan_Sundstr=F6m?= wrote:
> 
> > Hi!
> > 
> > I just had a peek at the new (to me, at least) widget system, and
> > impressed as I am, I found something that might need some fixing. As
> > an exercise, I tried implementing a "what-line" function:
> > 
> > function what-line () { zle -R "Line $HISTNO" }
> > zle -N what-line
> > ...
> 
> That's how it should be. Note that the manual says that the string is
> displayed in the status line which is used by widgets to display
> strings *while the widget is active* (like M-x and some others do it).

Oops. Leaving the string displayed was, of course, already possible. Kinda.

  function what-line () {
    local key
    zle -R "Line $HISTNO"
    read -k key
    zle -U "$key"
  }

Hm. But the -M option is probably still good to have.

Bye
 Sven


--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

