From zsh-users-return-4942-mason-zsh=primenet.com.au@sunsite.dk Wed May 08 14:03:01 2002
Return-Path: <zsh-users-return-4942-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24324 invoked from network); 8 May 2002 14:03:00 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 8 May 2002 14:03:00 -0000
Received: (qmail 12787 invoked by alias); 8 May 2002 14:01:24 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4942
Received: (qmail 12751 invoked from network); 8 May 2002 14:01:13 -0000
X-Authentication-Warning: cassandra.ispi.prv: andrey set sender to andrei@ispi.net using -f
Date: Wed, 8 May 2002 09:00:45 -0500
From: Andrei Zmievski <andrei@ispi.net>
To: zsh-users@sunsite.dk
Subject: replacing completion
Message-ID: <20020508090045.G13119@ispi.net>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.3.23i

Hi,

I'm trying to write a completion command that accomplishes the
following. When I type 'ssh foo' and hit TAB, I want it to expand to
'user@foo.someplace.net'. I am not very skilled in zsh completion
specifications, so I tried this:

compctl -k hosts -x 's[foo]' -k '(user@foo.someplace.net)' -- ssh

But it actually expands to 'foouser@foo.someplace.net' since the
original 'foo' I typed stays. Is there a way around it?

-Andrei
* The best source is the source code. *

