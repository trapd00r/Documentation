From zsh-workers-return-16050-mason-zsh=primenet.com.au@sunsite.dk Mon Oct 15 15:34:06 2001
Return-Path: <zsh-workers-return-16050-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 12785 invoked from network); 15 Oct 2001 15:34:05 -0000
Received: from unknown (HELO sunsite.dk) (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 15 Oct 2001 15:34:05 -0000
Received: (qmail 3749 invoked by alias); 15 Oct 2001 15:33:59 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 16050
Received: (qmail 3733 invoked from network); 15 Oct 2001 15:33:56 -0000
From: Bart Schaefer <schaefer@brasslantern.com>
Message-Id: <1011015153328.ZM8149@candle.brasslantern.com>
Date: Mon, 15 Oct 2001 15:33:27 +0000
In-Reply-To: =?iso-8859-1?Q?=3CE15t82J-0007k1-00=40DervishD=3E?=
 =?iso-8859-1?Q?Comments=3A_In_reply_to_Ra=FAl_N=FA=F1ez_de_Arenas_Coronad?=
 =?iso-8859-1?Q?o_=3Cdervishd=40jazzfree=2Ecom=3E?=
 =?iso-8859-1?Q?________=22How_about_MODDIR_being_configure'able=3F=22_=28?=
 =?iso-8859-1?Q?Oct_15=2C__3=3A44pm=29?=
References: <E15t82J-0007k1-00@DervishD>
X-Mailer: Z-Mail (5.0.0 30July97)
To: =?iso-8859-1?Q?Ra=FAl_N=FA=F1ez_de_Arenas_Coronado?= 
 <dervishd@jazzfree.com>,
        zsh-workers@sunsite.dk
Subject: Re: How about MODDIR being configure'able?
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

On Oct 15,  3:44pm, Ra=FAl N=FA=F1ez de Arenas Coronado wrote:
}
}     I would like to set up the MODDIR (directory where binary modules
} of ZSH reside) through 'configure', and not by defining MODDIR prior
} to compile and install using make.

MODDIR is $(libdir)/zsh/$(VERSION).  You can't change the zsh/$(VERSION)
part without breaking things, and nothing else is installed in $(libdir),=

so the module path is as completely configurable as possible with

	configure --libdir=3D...

}     Moreover, there is a call to mktemp that should be replaced with
} a call to mkstemp in 'utils.c' for safety.

No, we've been over this before; there's even a comment in utils.c to
this effect:  zsh uses mktemp() in a safe way.  Specifically, the names
created by gettempname() are always opened with O_CREAT later, so if
they exist the open() call will fail.  Creating them with mkstemp(), on
the other hand, causes problems with redirections and NO_CLOBBER.

}     BTW, is there any place where I can get the current development
} version of ZSH for testing?

It's available at http://sourceforge.net/projects/zsh/.  Details can be
found in the file Etc/FAQ in the distribution you have; if it's not in
there, you've got a really old distribution.

(Hey, Peter, why isn't SourceForge mentioned in the META-FAQ document?)

-- =

Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

Zsh: http://www.zsh.org | PHPerl Project: http://phperl.sourceforge.net  =
 =

