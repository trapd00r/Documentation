From zsh-workers-return-5464-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Feb 22 09:57:33 1999
Return-Path: <zsh-workers-return-5464-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 21324 invoked from network); 22 Feb 1999 09:57:32 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 22 Feb 1999 09:57:32 -0000
Received: (qmail 29149 invoked by alias); 22 Feb 1999 09:57:14 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 5464
Received: (qmail 29140 invoked from network); 22 Feb 1999 09:57:12 -0000
Message-Id: <9902220941.AA65265@ibmth.df.unipi.it>
To: zsh-workers@math.gatech.edu
Subject: Re: 2 patches included to fix configure brokenness 
In-Reply-To: "Martin Buchholz"'s message of "Sun, 21 Feb 1999 15:17:16 NFT."
             <14031.42220.502375.917603@mulelab.etl.go.jp> 
Date: Mon, 22 Feb 1999 10:41:19 +0100
From: Peter Stephenson <pws@ibmth.df.unipi.it>

Martin Buchholz wrote:
> Here's a real live tested patch that fixes it right.
> 
> --- configure.in.orig	Fri Jan  1 01:01:00 1999
> +++ configure.in	Fri Jan  1 01:01:00 1999
> @@ -353,6 +353,11 @@
>    AC_CHECK_LIB(nsl, getdomainname)
>  fi
>  
> +AC_CHECK_FUNCS(yp_all)
> +if test $ac_cv_func_yp_all = no; then
> +  AC_CHECK_LIB(nsl, yp_all)
> +fi
> +

This is already there in configure.in for 3.1.5: it replaces the
getdomainname() test --- presumably, unless that only got added to 3.0,
which has been known to happen.  The libc change is new.  Is it certain
that no-one apart from NeXT needs libc.h?

-- 
Peter Stephenson <pws@ibmth.df.unipi.it>       Tel: +39 050 844536
WWW:  http://www.ifh.de/~pws/
Dipartimento di Fisica, Via Buonarroti 2, 56127 Pisa, Italy

