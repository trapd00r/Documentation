From zsh-users-return-14617-mason-zsh=primenet.com.au@zsh.org Mon Nov 30 15:37:12 2009
Return-Path: <zsh-users-return-14617-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 22171 invoked by alias); 30 Nov 2009 15:37:12 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 14617
Received: (qmail 10063 invoked from network); 30 Nov 2009 15:37:09 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received-SPF: none (ns1.primenet.com.au: domain at klanderman.net does not designate permitted sender hosts)
From: Greg Klanderman <gak@klanderman.net>
To: zsh-users@zsh.org
Subject: Re: unable to wait on completed job
Reply-To: gak@klanderman.net
Date: Mon, 30 Nov 2009 10:36:59 -0500
In-Reply-To: <091129211436.ZM1769@torch.brasslantern.com> (Bart Schaefer's message of "Sun, 29 Nov 2009 21:14:36 -0800")
Message-ID: <m3skbwhvms.fsf@klanderman.net>
User-Agent: Gnus/5.1008 (Gnus v5.10.8) XEmacs/21.4.17 (linux)
References: <19213.26295.345572.732238@gargle.gargle.HOWL>
	<200911251748.nAPHmrCX010198@news01.csr.com>
	<m3638sr72x.fsf_-_@klanderman.net>
	<091129211436.ZM1769@torch.brasslantern.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii


Thank you Bart for the detailed investigation.  I can work around the
problem for now.  I remembered you mentioning zargs the other day, and
went to look how it handles parallel execution but it's not too smart
about managing jobs.

> In any case this is one of those places where zsh does not claim full
> compatibility with POSIX.

> "Fixing" this may be a fairly convoluted change to the already somewhat
> baroque job table management code.

So is this something you think needs to get fixed, would be nice to
fix, or not worth it?  Seems like you really need this if you want to
be able to manage parallel job execution.

Would also be nice if there were a way to test job status without
actually waiting.  I'm currently using 'kill -0'..  but maybe I can
use the jobstates parameter from the zsh/parameter module, will look
into that.

thanks,
Greg

