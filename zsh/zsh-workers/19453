From zsh-workers-return-19453-mason-zsh=primenet.com.au@sunsite.dk Thu Feb 19 15:23:09 2004
Return-Path: <zsh-workers-return-19453-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17264 invoked from network); 19 Feb 2004 15:23:08 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 19 Feb 2004 15:23:08 -0000
Received: (qmail 18676 invoked by alias); 19 Feb 2004 15:23:01 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 19453
Received: (qmail 18665 invoked from network); 19 Feb 2004 15:23:01 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 19 Feb 2004 15:23:01 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [216.136.130.95] by sunsite.dk (MessageWall 1.0.8) with SMTP; 19 Feb 2004 15:23:0 -0000
Message-ID: <20040219152258.66009.qmail@web10403.mail.yahoo.com>
Received: from [63.201.36.214] by web10403.mail.yahoo.com via HTTP; Thu, 19 Feb 2004 07:22:58 PST
Date: Thu, 19 Feb 2004 07:22:58 -0800 (PST)
From: Felix Rosencrantz <f_rosencrantz@yahoo.com>
Subject: Re: jobs not listing all commands
To: zw <zsh-workers@sunsite.dk>
In-Reply-To: <1040217221439.ZM12330@candle.brasslantern.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

--- Bart Schaefer <scschaeferrbrasslanternom> wrote:
> On Feb 16, 11:58pm, Felix RoRosencrantzrote:
> } pspslso note another "bug" with "%j" and the prompt. when the sleep
> } finishes, the prompt doesn't update. 
> Prompts don't update between two interactive commands, ever, no matter
> what the reason.  The prompt string is computed when ZLZLEnitializes
> (just before it is first printed) and is thereafter used verbatim until
> the next re-initialize.

What I read is that is how it works now. I'm wondering if zszshould be changed
so that it does regenerate the prompt between commands?
-  Is there some standard that this behavior matches?
-  Do people believe this is the best/most useful behavior?
-  Would it be difficult to change zszsho regenerate the prompt when it is
redrawn (such as when job status is printed)?
- Could a redraw be forced by events such as typing through a "zlzleedraw
prompt" command within a zlzleidget?


I ask since I think it would be useful to have the prompt update on demand and
as it is redrawn.  Some examples:
- asasynchronousvents (such as jobs completing)
- ability to report on zlzletatus that could change due to typing (current vi
mode/kekeymapprediction on/off, last completer used)
-ability to do things like change directory from zlzleidgets and have the
prompt reflect a new cwcwd

-FR.

__________________________________
Do you Yahoo!?
Yahoo! Mail SpamGuard - Read only the mail you want.
http://antispam.yahoo.com/tools

