From zsh-workers-return-10259-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Mar 27 08:22:29 2000
Return-Path: <zsh-workers-return-10259-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1513 invoked from network); 27 Mar 2000 08:22:27 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 27 Mar 2000 08:22:27 -0000
Received: (qmail 6960 invoked by alias); 27 Mar 2000 08:22:18 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 10259
Received: (qmail 6947 invoked from network); 27 Mar 2000 08:22:18 -0000
Date: Mon, 27 Mar 2000 10:22:16 +0200 (MET DST)
Message-Id: <200003270822.KAA03168@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: Peter Stephenson's message of Thu, 23 Mar 2000 21:56:33 +0000
Subject: Re: zsh-3.1.6-dev-20


Peter Stephenson wrote:

> I have uploaded
>   ftp://ftp.zsh.org/zsh/development/zsh-3.1.6-dev-20.tar.gz
> with the changes listed below.  This will need checking quite carefully,
> particularly by people who have submitted a lot of patches (guess who that
> might mean?)

Whew!

> A few of Sven's most recent patches are missing at his request.

But I hope everyone has applied them now, because I hope to find the
time to send some patches relative to them today... apart from those,
the only missing patches, I can see are Oliver's 10029 (for your
convenience included below) and my 10233 (as mentioned by Tanaka; it
would have worked without 10230 and 10231).


In another message:

> Tanaka Akira wrote:
>
> ...
> 
> > * Src/text.c is different to my version.  Where is the change come from?
> 
> 10179, which was an attempt to fix something which apparently didn't have
> any effect.  I will take advice on whether to apply it or not.

It adds a bit to security, so I would be in favour of applying it.


Bye
 Sven

diff -u -r ../zsh-3.1.6-dev-20/Src/utils.c ./Src/utils.c
--- ../zsh-3.1.6-dev-20/Src/utils.c	Wed Mar 22 21:59:14 2000
+++ ./Src/utils.c	Thu Mar  9 10:57:21 2000
@@ -3198,7 +3198,7 @@
 	} else if (fromwhere == 4 && *s == Snull) {
 	    for (u = t; (*u++ = *s++););
 	    return t + 1;
-	} else if (*s == '^' && !control &&
+	} else if (*s == '^' &&
 		   (fromwhere == 2 || fromwhere == 5 || fromwhere == 6)) {
 	    control = 1;
 	    continue;

--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

