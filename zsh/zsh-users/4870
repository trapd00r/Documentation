From zsh-users-return-4870-mason-zsh=primenet.com.au@sunsite.dk Fri Apr 26 01:10:59 2002
Return-Path: <zsh-users-return-4870-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17333 invoked from network); 26 Apr 2002 01:10:16 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 26 Apr 2002 01:10:16 -0000
Received: (qmail 9483 invoked by alias); 26 Apr 2002 01:10:02 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4870
Received: (qmail 9456 invoked from network); 26 Apr 2002 01:10:00 -0000
From: "Joshua Symons" <vmcore@mysun.com>
To: Bart Schaefer <schaefer@brasslantern.com>
Cc: zsh-users@sunsite.dk
Message-ID: <1eed22689c.2689c1eed2@mysun.com>
Date: Thu, 25 Apr 2002 20:07:20 -0500
X-Mailer: Netscape Webmail
MIME-Version: 1.0
Content-Language: en
Subject: Re: Preexec & Printf
X-Accept-Language: en
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: 7bit

From: Bart Schaefer <schaefer@brasslantern.com>
Date: Thursday, April 25, 2002 8:01 pm
Subject: Re: Preexec & Printf

> On Thu, 25 Apr 2002, Joshua Symons wrote:
> 
> > I have a pretty generic problem, but I can't seem to make my way 
> around> it.
> 
> Re-read the documentation for the preexec function.  In particular:
> 
> > preexec () {
> >         print -Pn "\e]0;%m:%l   -   $* \a"
> > }
> 
> You almost certainly want to refer to $1 rather than to $*.  To 
> remove the
> quotes from the string, you probably want to use ${(z)1}.
> 
> > $ZSH_VERSION = 3.1.9
> 
> You might also want to upgrade to zsh 4.0.4, which has been out for a
> while now.
> 
> 

Same results:
[(ichirou:151:pts/33)~ %] which preexec
preexec () {
        print -Pn "\e]0;%m:%l   -   ${(z)1} \a"
}
[(ichirou:152:pts/33)~ %] printf '^[[32;40mwith quotes\n' 
[32;40mwith quotes
' with quotes
[(ichirou:153:pts/33)~ %] unfunction preexec
[(ichirou:154:pts/33)~ %] printf '^[[32;40mwith quotes\n' 
with quotes

Additionally, I will upgrade to 4.0.4 as well, but I don't believe that
will fix this current issue.

-Josh-

