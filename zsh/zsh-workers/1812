From zsh-workers-request@euclid.skiles.gatech.edu  Mon Jul 29 20:25:19 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by coral.primenet.com.au (8.7.5/8.7.3) with ESMTP id UAA00327 for <mason@primenet.com.au>; Mon, 29 Jul 1996 20:25:15 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id GAA12167; Mon, 29 Jul 1996 06:17:50 -0400 (EDT)
Resent-Date: Mon, 29 Jul 1996 06:17:50 -0400 (EDT)
From: Zoltan Hidvegi <hzoli@cs.elte.hu>
Message-Id: <199607291016.MAA00990@bolyai.cs.elte.hu>
Subject: Re: Patches missing from pre4?
To: wayne@clari.net (Wayne Davison)
Date: Mon, 29 Jul 1996 12:16:02 +0200 (MET DST)
Cc: zsh-workers@math.gatech.edu
In-Reply-To: <199607290314.UAA02464@bebop.clari.net> from Wayne Davison at "Jul 28, 96 08:14:16 pm"
Organization: Dept. of Comp. Sci., Eotvos University, Budapest, Hungary
Phone: (36 1)2669833 ext: 2667, home phone: (36 1) 2752368
X-Mailer: ELM [version 2.4ME+ PL16 (25)]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"WLHhe1.0.-z2.D_8_n"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/1812
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

> Is 3.0 supposed to be a really stable release?  Or is 3.0 supposed to be
> a work-the-kinks-out-for-3.1 release?  With all the changes that have
> been going on, it seems like it should have more time to settle down
> before release (with some kind of a change moratorium).

I think that 3.0-pre4 is already quite stable.  I'd like to release it as a
stable release.  Really I do not like this big distinction between stable
and beta releases.  As I know other shells (bash, pdksh) do is in a much
more relaxed way.  I'd like to release 3.0 but I'd like to make production
releases much more frequently than before (more than two years passed since
the last `production' release).

You probably noticed that I added several debug test to zsh.  Additionally
when ZSH_MEM, ZSH_MEM_DEBUG, ZSH_MEM_WARNING and ZSH_SECURE_FREE is enabled
all free's are checked and the free'd memory is zeroed.  This means that is
someone uses an already freeed memory it will turn out soon.  I'd also like
to try checker on zsh one day (unfortunately I did not manage to get it
work under Linux with libc.so.5.3.12, and I also failed on Solaris 2.4 (it
seems that we installed some patched which Checker does not like)).  I used
electric-fence and zsh passed the test (but electric fence is not really
good for zsh since zsh uses _many_ small blocks allocated by malloc() so it
requires huge amount of virtual memory).  Also thanks to Bart
heap/permanent allocation usage is much more consistent now.  The most
serious and difficult to reproduce bugs in zsh were memory management bugs.
I do hope that these are mostly fixed.  There may be some coding bugs of
course but these are usually trivially fixed by a one-line patch.

Zoltan

