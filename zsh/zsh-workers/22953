From zsh-workers-return-22953-mason-zsh=primenet.com.au@sunsite.dk Fri Nov 03 19:36:59 2006
Return-Path: <zsh-workers-return-22953-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24141 invoked from network); 3 Nov 2006 19:36:52 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.7 (2006-10-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.4 required=5.0 tests=AWL,BAYES_00,
	FORGED_RCVD_HELO autolearn=ham version=3.1.7
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 3 Nov 2006 19:36:52 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 72672 invoked from network); 3 Nov 2006 19:36:46 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 3 Nov 2006 19:36:46 -0000
Received: (qmail 29360 invoked by alias); 3 Nov 2006 19:36:43 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 22953
Received: (qmail 29350 invoked from network); 3 Nov 2006 19:36:43 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 3 Nov 2006 19:36:43 -0000
Received: (qmail 72345 invoked from network); 3 Nov 2006 19:36:43 -0000
Received: from ug-out-1314.google.com (66.249.92.168)
  by a.mx.sunsite.dk with SMTP; 3 Nov 2006 19:36:38 -0000
Received: by ug-out-1314.google.com with SMTP id k3so461918ugf
        for <zsh-workers@sunsite.dk>; Fri, 03 Nov 2006 11:36:38 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=tuTCXtaEuslcvQa2yX6RX4ps4GXPVEFFcTMYp5/jKJzJcGh8CzT800B7xL+I1ie8fnHrmPCXmpjhzUsA/+oWArJ1gRuYnWT4IsIhHOiQGhcIuh/UTgH4dfJkFc+NSXUH4tocTXLV9u8W+Of5RlbuMZ3RTdk2kan5MRl7+kn977Y=
Received: by 10.78.185.15 with SMTP id i15mr3378409huf.1162582597706;
        Fri, 03 Nov 2006 11:36:37 -0800 (PST)
Received: by 10.78.193.14 with HTTP; Fri, 3 Nov 2006 11:36:37 -0800 (PST)
Message-ID: <237967ef0611031136u7ad550aep2d7b79e3a3114b19@mail.gmail.com>
Date: Fri, 3 Nov 2006 20:36:37 +0100
From: "Mikael Magnusson" <mikachu@gmail.com>
To: zsh-workers <zsh-workers@sunsite.dk>
Subject: fix _most_recent_file
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_most_recent_file doesn't work on files that start with a dash.
_most_accessed_file:compadd:24: bad option: -6

Index: Completion/Base/Widget/_most_recent_file
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Base/Widget/_most_recent_file,v
retrieving revision 1.2
diff -p -u -d -r1.2 _most_recent_file
--- Completion/Base/Widget/_most_recent_file	14 May 2001 13:44:13 -0000	1.2
+++ Completion/Base/Widget/_most_recent_file	3 Nov 2006 19:35:36 -0000
@@ -21,4 +21,4 @@ else
   eval "file=($PREFIX*$SUFFIX(om[${NUMERIC:-1}]N))"
   file=(${(q)file})
 fi
-(( $#file )) && compadd -U -i "$IPREFIX" -I "$ISUFFIX" -f -Q $file
+(( $#file )) && compadd -U -i "$IPREFIX" -I "$ISUFFIX" -f -Q -- $file


-- 
Mikael Magnusson

