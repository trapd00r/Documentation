From zsh-users-return-7211-mason-zsh=primenet.com.au@sunsite.dk Sun Mar 21 01:30:22 2004
Return-Path: <zsh-users-return-7211-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 28147 invoked from network); 21 Mar 2004 01:30:22 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 21 Mar 2004 01:30:22 -0000
Received: (qmail 16612 invoked by alias); 21 Mar 2004 01:30:07 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 7211
Received: (qmail 16586 invoked from network); 21 Mar 2004 01:30:06 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 21 Mar 2004 01:30:06 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [167.160.213.139] by sunsite.dk (MessageWall 1.0.8) with SMTP; 21 Mar 2004 1:30:5 -0000
Received: from moonbase.zanshin.com (IDENT:schaefer@localhost [127.0.0.1])
	by moonbase.zanshin.com (8.12.11/8.12.11) with ESMTP id i2L1U4RA010824
	for <zsh-users@sunsite.dk>; Sat, 20 Mar 2004 17:30:04 -0800
Received: (from schaefer@localhost)
	by moonbase.zanshin.com (8.12.11/8.12.11/Submit) id i2L1U4SU010823
	for zsh-users@sunsite.dk; Sat, 20 Mar 2004 17:30:04 -0800
Received: (from schaefer@localhost)
	by candle.brasslantern.com (8.11.6/8.11.6) id i2L1TxJ18688;
	Sat, 20 Mar 2004 17:29:59 -0800
X-Authentication-Warning: candle.brasslantern.com: schaefer set sender to schaefer@closedmail.com using -f
From: Bart Schaefer <schaefer@brasslantern.com>
Message-Id: <1040321012959.ZM18687@candle.brasslantern.com>
Date: Sun, 21 Mar 2004 01:29:59 +0000
In-Reply-To: <mu9we9i1qx3p.dlg@thorstenkampe.de>
Comments: In reply to Thorsten Kampe <thorsten@thorstenkampe.de>
        "Re: Wish for rprompt feature" (Mar 20,  7:12pm)
References: <cmy4g3am024u$.dlg@thorstenkampe.de> 
	<1040320171038.ZM18075@candle.brasslantern.com> 
	<mu9we9i1qx3p.dlg@thorstenkampe.de>
X-Mailer: Z-Mail (5.0.0 30July97)
To: zsh-users@sunsite.dk
Subject: Re: Wish for rprompt feature
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Envelope-Sender:  <schaefer@closedmail.com>

On Mar 20,  7:12pm, Thorsten Kampe wrote:
} 
} Customising your prompt so that it works like rprompt plus the "[...]"
} would require zsh skills beyond mine.

It'd require skills beyond mine, too, without modifying the C code.  As
usual with zsh prompts, RPS1 is computed exactly once (before the line
editor starts up for each command) and thereafter the code only knows
how long it is, to know when the input line overlaps with it and hence
to stop showing it.

However, try this (requires 4.2.0) and see what you think:

zle-line-init() {
  POSTDISPLAY="  ${(%)RPS1}"
}
zle -N zle-line-init

Adjust spacing as you see fit.

