From zsh-workers-return-22104-mason-zsh=primenet.com.au@sunsite.dk Sun Dec 25 00:29:04 2005
Return-Path: <zsh-workers-return-22104-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24907 invoked from network); 25 Dec 2005 00:29:02 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.0 (2005-09-13) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00,
	FORGED_RCVD_HELO autolearn=ham version=3.1.0
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 25 Dec 2005 00:29:02 -0000
Received: (qmail 27251 invoked from network); 25 Dec 2005 00:28:56 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 25 Dec 2005 00:28:55 -0000
Received: (qmail 9658 invoked by alias); 25 Dec 2005 00:28:53 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 22104
Received: (qmail 9649 invoked from network); 25 Dec 2005 00:28:52 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 25 Dec 2005 00:28:52 -0000
Received: (qmail 26944 invoked from network); 25 Dec 2005 00:28:52 -0000
Received: from acolyte.scowler.net (216.254.112.45)
  by a.mx.sunsite.dk with SMTP; 25 Dec 2005 00:28:50 -0000
Received: by acolyte.scowler.net (Postfix, from userid 1000)
	id 1875870055; Sat, 24 Dec 2005 19:28:48 -0500 (EST)
Date: Sat, 24 Dec 2005 19:28:47 -0500
From: Clint Adams <clint@zsh.org>
To: zsh-workers@sunsite.dk
Subject: PATCH: _ssh update
Message-ID: <20051225002847.GA4383@scowler.net>
Mail-Followup-To: zsh-workers@sunsite.dk
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.5.11

For OpenSSH 4.2.

Index: Completion/Unix/Command/_ssh
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_ssh,v
retrieving revision 1.26
diff -u -r1.26 _ssh
--- Completion/Unix/Command/_ssh	18 Nov 2005 17:43:25 -0000	1.26
+++ Completion/Unix/Command/_ssh	25 Dec 2005 00:28:03 -0000
@@ -214,6 +214,13 @@
           _description files expl 'xauth program'
           _files "$expl[@]" -g '*(-*)' && ret=0
           ;;
+	*(#i)controlmaster*)
+	  _wanted values expl 'truthish value' compadd yes no auto autoask && ret=0
+	  ;;
+	*(#i)controlpath*)
+          _description files expl 'path to control socket'
+          _files "$expl[@]" && ret=0
+	  ;;
         esac
       else
         _wanted values expl 'configure file option' \
@@ -223,13 +230,14 @@
 		ChallengeResponseAuthentication CheckHostIP \
 		Cipher Ciphers ClearAllForwardings Compression \
                 CompressionLevel ConnectionAttempts ConnectTimeout \
+		ControlMaster ControlPath \
 		DynamicForward EnableSSHKeysign \
 		EscapeChar FallBackToRsh ForwardAgent ForwardX11 \
 		ForwardX11Trusted \
                 GatewayPorts GlobalKnownHostsFile GSSAPIAuthentication \
 		GSSAPIDelegateCredentials HostbasedAuthentication \
 		HostKeyAlgorithms HostKeyAlias HostName IdentityFile \
-		IdentitiesOnly \
+		IdentitiesOnly KbdInteractiveDevices \
 		KeepAlive KerberosAuthentication KerberosTgtPassing \
 		LocalForward LogLevel MACs NoHostAuthenticationForLocalhost \
 		NumberOfPasswordPrompts PreferredAuthentications \

