From zsh-workers-return-17901-mason-zsh=primenet.com.au@sunsite.dk Mon Nov 04 19:17:57 2002
Return-Path: <zsh-workers-return-17901-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17621 invoked from network); 4 Nov 2002 19:17:56 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 4 Nov 2002 19:17:56 -0000
Received: (qmail 6072 invoked by alias); 4 Nov 2002 19:17:46 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 17901
Received: (qmail 6060 invoked from network); 4 Nov 2002 19:17:45 -0000
To: Peter Stephenson <pws@csr.com>
Cc: zsh-workers@sunsite.dk (Zsh hackers list)
Subject: Re: Bug+patch: zsh fails to set itself as process group leader when running interactively
References: <87fzuuaq5h.fsf@ceramic.fifi.org> <27866.1036418543@csr.com>
From: Philippe Troin <phil@fifi.org>
Date: 04 Nov 2002 11:17:35 -0800
In-Reply-To: <27866.1036418543@csr.com>
Message-ID: <87fzuhi1ps.fsf@ceramic.fifi.org>
Lines: 21
User-Agent: Gnus/5.09 (Gnus v5.9.0) Emacs/21.2
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Sender: Philippe Troin <phil@fifi.org>

Peter Stephenson <pws@csr.com> writes:

> Philippe Troin <phil@fifi.org> writes:
> > Found in 4.0.6 (and earlier).
> > 
> > If zsh is spawned interactively from another program, it fails to
> > establish itself as a process group leader, leading to deliveries of
> > terminal-related signals to both zsh and its parent. Generally the
> > parent dies, leaving two shells reading from the same terminal.
> >
> > Terminal I/O is pretty tricky, so I hope I did not screw up anything :-)
> 
> I'm not really competent to look at terminal process group handling.  I am
> committing this on the main trunk and if it seems to work we can put it on
> 4.0, too.  I suspect it's a good deal better than the old code.

I'm reading zsh-workers, but if some problems were to happen with the
patch (like portability issues), please notify me so that I can have a
chance to look at it before it gets pulled out.

Phil.

