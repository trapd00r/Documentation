From zsh-workers-request@math.gatech.edu Fri Oct 09 04:49:33 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 12085 invoked from network); 9 Oct 1998 04:49:32 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 9 Oct 1998 04:49:32 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.9.1/8.9.1) id AAA05676;
	Fri, 9 Oct 1998 00:40:31 -0400 (EDT)
Resent-Date: Fri, 9 Oct 1998 00:40:19 -0400 (EDT)
Message-ID: <19981009074334.A14649@kappa.ro>
Date: Fri, 9 Oct 1998 07:43:34 +0300
From: Mircea Damian <dmircea@secu.kappa.ro>
To: Bart Schaefer <schaefer@brasslantern.com>
Cc: zsh-users@math.gatech.edu
Subject: Re: How to trigger the death of zsh(3.0.5)
References: <19981008204953.A9624@kappa.ro> <981008115831.ZM20784@candle.brasslantern.com> <19981008224442.A10128@kappa.ro> <19981008224940.B10300@kappa.ro> <981008143455.ZM21286@candle.brasslantern.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 0.93.2i
In-Reply-To: <981008143455.ZM21286@candle.brasslantern.com>; from Bart Schaefer on Thu, Oct 08, 1998 at 02:34:55PM -0700
X-Operating-System: Linux secu 2.0.33
Resent-Message-ID: <"50RBA2.0.5O1.pEP7s"@math>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/1853
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

> Ah.  There's really no way to fix that one.  Even in 3.1.4 where you can
> make your own new zle functions, support for using the digit-argument
> prefixes is not yet up to snuff.
> 
> You can do `ESC - ESC 1 ESC .' to negate the digit, in which case zsh
> counts from the beginning.  You can even do `ESC - ESC 0 ESC .' to get
> the command name.
> 
> Or you can do `! : x TAB' where x is the number of the word you want,
> e.g. !:2 for the second word.

I think that a temporary _ugly_ fix is to bind the keys for some exact
cases(5 or 6 arguments). This will "fix" their request... but I repeat it's
ugly.


> Yes, change the value of the WORDCHARS variable.  I use
> 
> 	WORDCHARS='*?_-.[]~\!#$%^(){}<>'
> 
> The only drawback is that it also affects transpose-words, which is
> sometimes not what you'd like.

It's just perfect. Thanks!


> 
> More specifically than that, I can't tell.  If you type \Cv \C\My, what
> do you see?  If you see ^Y, then your alt or meta key isn't working,
> which could explain the beeping.

Something strange happens here.
If I type \Cv \C\My I only get the ESC character('^[') but the
lines(strace) bellow shows that it reads more when I press \C\My. The
behaviour is the same if I use xterm or linux console:

read(10, "\33", 1)                      = 1          //ESC
read(10, "\31", 1)                      = 1          //\Cy
select(11, [10], NULL, NULL, {0, 0})    = 0 (Timeout)
read(10, "\26", 1)                      = 1          //\Cv
read(10, "\33", 1)                      = 1          //ESC
select(11, [10], NULL, NULL, {0, 0})    = 1 (in [10], left {0, 0})
read(10, "\31", 1)                      = 1          //\Cy
select(11, [10], NULL, NULL, {0, 0})    = 0 (Timeout)
write(10, "^[", 2)                      = 2          //??! why only ^[
read(10,



Thank you for your prompt answers!

-- 
Mircea Damian
Network Manager
dmircea@roedu.net, dmircea@lbi.ro, dmircea@kappa.ro
MD65-RIPE, MD2225, MD1-6BONE
Phone: +40-1-4115246

