<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<HTML>
<HEAD>
<TITLE>VT100.net: Installing and Using the VT320 Video Terminal</TITLE>
<LINK HREF="vt320-uu.css" TYPE="text/css" REL="stylesheet">
</HEAD>
<BODY>
<DIV CLASS="navbar"><A HREF="http://vt100.net/"><IMG CLASS="button" SRC="vt100.net-logo.png" ALT="VT100.net" HEIGHT="16" WIDTH="102"></A> Installing and Using the VT320 Video Terminal<TABLE WIDTH="100%">
<COL SPAN="3" WIDTH="33%">
<TBODY>
<TR>
<TD ALIGN="LEFT"><A HREF="appendixb.html">Appendix B</A></TD>
<TD ALIGN="CENTER"><A HREF="contents.html">Contents</A></TD>
<TD ALIGN="RIGHT"><A HREF="appendixe.html">Appendix E</A></TD>
</TR>
</TBODY>
</TABLE>
<HR></DIV>
<H1 ID="SC"><SPAN CLASS="chapnum">C</SPAN> Communication</H1>
<P>This appendix provides information on how the VT320 communicates with a
host computer, printer, or modem. The appendix shows the cables you can use
for different system configurations. It describes how XON and XOFF characters
help control data flow. The last section describes the signals carried by the
connectors on the rear of the terminal.</P>
<P>The terminal operates on full-duplex asynchronous lines only, with 10 possible
transmit and receive speeds. You can use split transmit and receive speeds, but
you must use the same speeds as your host system and printer.</P>
<P>To match your host system's speed, use the Communications Set-Up screen.
To match your printer's speed, use the Printer Set-Up screen. See <A HREF="chapter4.html">Chapter 4</A>.</P>
<P>For more information on communication, see the <CITE>VT320 Programmer Reference
Manual</CITE>.</P>
<H2 CLASS="notoc">Cables</H2>
<P>You can connect the VT320 directly to a local host system with a cable. You
can also connect the terminal indirectly to a remote host system, using (1) a
terminal server, or (2) a modem or acoustic coupler connected to public-switched
or dedicated telephone lines. See "<A HREF="chapter6.html#S6.2">Modems</A>" in <A HREF="chapter6.html">Chapter 6</A>.</P>
<P>You can connect the VT320 to a local, asynchronous, serial printer by using a
null modem cable.</P>
<P><A HREF="#FC-1">Figure C-1</A> shows the DEC-423 and RS232 cables you can use to connect the
VT320 to a host system or printer. To order cables, see <A HREF="appendixb.html">Appendix B</A>.</P>
<TABLE ID="FC-1" CLASS="figure">
<CAPTION>Figure C-1 Cables</CAPTION>
<TBODY>
<TR>
<TD><IMG SRC="ma-1256-86.png" ALT=""></TD>
</TR>
</TBODY>
</TABLE>
<H2 CLASS="notoc">XON/XOFF Flow Control</H2>
<P>The VT320 stores incoming characters in a character input buffer. The buffer
can hold 254 characters. The terminal processes characters from the buffer on
a first-in/first-out basis.</P>
<P>When the input buffer fills to 64 or 128 characters, the terminal sends an
XOFF character to stop the host system from sending more characters. The
default setting is 64. You can select from three settings -- 64, 128, or no
XOFF -- using the Communications Set-Up screen.</P>
<P CLASS="note">NOTE: If you select <SPAN CLASS="setting">"No XOFF"</SPAN> in set-up, the terminal does not send an
XOFF character to the host system when the input buffer fills. Selecting <SPAN CLASS="setting">"No
XOFF"</SPAN> also disables the <SPAN CLASS="keyname">Hold Screen</SPAN> key.  With XOFF disabled, there is no
way to ensure that data will not be lost.</P>
<P>If the host system fails to respond to the XOFF character, the terminal sends
a second XOFF character when the input buffer fills to 220 characters. The
terminal sends a third XOFF character when the buffer is full.</P>
<P>When the input buffer falls below 32 characters, the terminal sends an XON
character to tell the host system to start sending characters again.</P>
<P>If you enable XON/XOFF, the terminal recognizes received XON and XOFF
characters. When the terminal receives XOFF, it stops sending data (except
XON/XOFF characters). If the keyboard data buffer overflows, the keyboard
locks and the Wait indicator turns on. The terminal resumes transmission
when it receives an XON.</P>
<H2 CLASS="notoc">Modem Connections and Disconnections</H2>
<P>When the VT320 makes a connection to the host system via a modem, the
terminal performs the following operations to ensure it is ready to send and
receive.</P>
<UL>
<LI>Unlocks the keyboard (if it was locked).</LI>
<LI>Clears any transmission in progress.</LI>
<LI>Clears the keyboard buffer and all message buffers.</LI>
<LI>Clears the input buffer.</LI>
<LI>Clears XOFF sent and XOFF received.</LI>
</UL>
<P>Any of the following conditions will disconnect the connection to the host
system.</P>
<UL>
<LI>You type <SPAN CLASS="keyname">Shift</SPAN>-<SPAN CLASS="keyname">Break</SPAN>.</LI>
<LI>You use the <SPAN CLASS="feature">Recall</SPAN> or <SPAN CLASS="feature">Default</SPAN> features in the Set-Up Directory.</LI>
<LI>You change the host port you are using from the RS232 port to
the DEC423 port, or from the DEC423 port to the RS232 port.
See the <SPAN CLASS="feature">Host Port Selection</SPAN> feature in the Communications Set-Up
screen (<A HREF="chapter4.html">Chapter 4</A>).</LI>
<LI>The terminal loses the data set ready (DSR) signal.</LI>
<LI>The terminal loses the receive line signal detect (RLSD) signal for
the period of time you selected in set-up. See the <SPAN CLASS="feature">Disconnect, _____
Delay</SPAN> feature in the Communications Set-Up screen.</LI>
<LI>The terminal receives a self-test command from the host system.</LI>
</UL>
<P>The usual way to disconnect communications is to type <SPAN CLASS="keyname">Shift</SPAN>-<SPAN CLASS="keyname">Break</SPAN>. The host
system's response to the disconnect signal depends on the system and the
software.</P>
<H2 CLASS="notoc">Break Function</H2>
<P>A break condition is the occurrence of a continuous space on a communication
line for greater than one character time. If you are using a modem, this condition
causes the modem to disconnect the terminal from the host system.</P>
<P>The <SPAN CLASS="keyname">Break</SPAN> key has three functions. You can enable or disable the <SPAN CLASS="keyname">Break</SPAN> key in
the Keyboard Set-Up screen.</P>
<OL>
<LI>If enabled, pressing <SPAN CLASS="keyname">Break</SPAN> sends a break signal to the host. If disabled,
you can still send a break signal to the host by typing <SPAN CLASS="keyname">Shift</SPAN>-<SPAN CLASS="keyname">Break</SPAN>.</LI>
<LI>Pressing <SPAN CLASS="keyname">Shift</SPAN>-<SPAN CLASS="keyname">Break</SPAN> disconnects communications when you use a
modem.</LI>
<LI>Pressing <SPAN CLASS="keyname">Ctrl</SPAN>-<SPAN CLASS="keyname">Break</SPAN> sends the answerback message (Communication Set-Up)
to the host.</LI>
</OL>
<H2 CLASS="notoc">Connector Signals</H2>
<P>The VT320 has two host system (comm) connectors and one printer connector
on the rear of the terminal. <A HREF="#TC-1">Table C-1</A> describes the interface signals for the
25-pin host system connector. <A HREF="#TC-2">Table C-2</A> describes the signals for the 6-pin host
connector and 6-pin printer connector. The following figure shows the pin numbers
for the 6-pin connectors.</P>
<DIV><IMG SRC="mmj.png" ALT=""></DIV>
<TABLE ID="TC-1" CLASS="majortable" CELLSPACING="0" CELLPADDING="5">
<CAPTION>Table C-1 25-Pin RS232-C Comm Port Interface Signals</CAPTION>
<TBODY>
<TR>
<TH ALIGN="LEFT">Pin</TH>
<TH ALIGN="LEFT">Signal</TH>
<TH ALIGN="LEFT">Mnemonic</TH>
<TH ALIGN="LEFT">EIA/CCITT/DIN</TH>
<TH ALIGN="LEFT">Description</TH>
</TR>
<TR VALIGN="TOP">
<TD>2</TD>
<TD>Transmitted data</TD>
<TD>TXD</TD>
<TD>BA/103/D1</TD>
<TD><EM>From VT320</EM><BR>Sends serial characters. Held in mark state when characters are
not being sent.
<P>In modem control modes, sends data only when RTS, CTS, DSR, and DTR signals are on.</P></TD>
</TR>
<TR VALIGN="TOP">
<TD>3</TD>
<TD>Received data</TD>
<TD>RXD</TD>
<TD>BB/104/D2</TD>
<TD><EM>To VT320</EM><BR>Receives serial characters. In modem control modes, ignores
characters if RLSD signal is off.</TD>
</TR>
<TR VALIGN="TOP">
<TD>4</TD>
<TD>Request to send</TD>
<TD>RTS</TD>
<TD>CA/105/S2</TD>
<TD><EM>From VT320</EM><BR>When on, places the modem in transmit mode.</TD>
</TR>
<TR VALIGN="TOP">
<TD>5</TD>
<TD>Clear to send</TD>
<TD>CTS</TD>
<TD>CB/106/M2</TD>
<TD><EM>To VT320</EM><BR>When on, tells the VT320 that the modem is ready to send.</TD>
</TR>
<TR VALIGN="TOP">
<TD>6</TD>
<TD>Data set ready</TD>
<TD>DSR</TD>
<TD>CC/107/M1</TD>
<TD><EM>To VT320</EM><BR>When on, tells the VT320 that the modem is in data mode and is
ready to exchange RTS, CTS and RLSD signals.</TD>
</TR>
<TR VALIGN="TOP">
<TD>7</TD>
<TD>Signal ground</TD>
<TD>SGND</TD>
<TD>AB/102/E2</TD>
<TD>Serves as common ground reference potential for all connector signals, except
protective ground.</TD>
</TR>
<TR VALIGN="TOP">
<TD>8</TD>
<TD>Receive line signal detect (carrier detect)</TD>
<TD>RLSD</TD>
<TD>CF/109/M5</TD>
<TD><EM>To VT320</EM><BR>When on, tells the VT320 that the signal received on the
communication line is good enough to ensure correct demodulation of received data.
<P>When off, indicates no signal received, or signal is unsuitable for demodulation.</P></TD>
</TR>
<TR VALIGN="TOP">
<TD>12</TD>
<TD>Speed indicator</TD>
<TD>SPDI</TD>
<TD>CI/112/M4</TD>
<TD><EM>To VT320</EM><BR>When on, enables a modem to control the terminal's transmit and
receive speeds. Sets the speeds to 1200 bits per second, regardless of set-up selection.</TD>
</TR>
<TR VALIGN="TOP">
<TD>20</TD>
<TD>Data terminal ready</TD>
<TD>DTR</TD>
<TD>CD/108.2/S1.2</TD>
<TD><EM>From VT320</EM><BR>When on, tells the modem that the terminal is ready to send
or receive.</TD>
</TR>
<TR VALIGN="TOP">
<TD>23</TD>
<TD>Speed select</TD>
<TD>SPDS</TD>
<TD>CH/111/S4</TD>
<TD><EM>From VT320</EM><BR>When on, tells the modem that the receive speed selected in
set-up is greater than 600 bits per second.</TD>
</TR>
</TBODY>
</TABLE>
<TABLE ID="TC-2" CLASS="majortable" CELLSPACING="0" CELLPADDING="5">
<CAPTION>Table C-2 6-Pin DEC-423 Comm and Printer Interface Signals</CAPTION>
<TBODY>
<TR>
<TH ALIGN="LEFT">Pin</TH>
<TH ALIGN="LEFT">Signal</TH>
<TH ALIGN="LEFT">Mnemonic</TH>
<TH ALIGN="LEFT">Description</TH>
</TR>
<TR VALIGN="TOP">
<TD>1</TD>
<TD>Data terminal ready</TD>
<TD>DTR</TD>
<TD><EM>From VT320</EM><BR>When on, tells the modem or printer that the VT320 is ready to send or receive.</TD>
</TR>
<TR VALIGN="TOP">
<TD>2</TD>
<TD>Transmitted data</TD>
<TD>TXD+</TD>
<TD><EM>From VT320</EM><BR>Sends serial characters. Held in the mark state (-) when characters are not being sent.
<P>In modem control modes, sends data only when DSR and DTR signals are on.</P></TD>
</TR>
<TR VALIGN="TOP">
<TD>3</TD>
<TD>Transmit signal ground</TD>
<TD>TXD-</TD>
<TD>Provides the common ground reference potential for transmitted signals TXD+ and DTR.</TD>
</TR>
<TR VALIGN="TOP">
<TD>4</TD>
<TD>Receive signal ground</TD>
<TD>RXD-</TD>
<TD>Provides the common ground reference potential for received signals RXD+ and DSR.</TD>
</TR>
<TR VALIGN="TOP">
<TD>5</TD>
<TD>Received data</TD>
<TD>RXD+</TD>
<TD><EM>To VT320</EM><BR>Receives serial characters.</TD>
</TR>
<TR VALIGN="TOP">
<TD>6</TD>
<TD>Data set ready</TD>
<TD>DSR</TD>
<TD><EM>To VT320</EM><BR><STRONG>For the comm line:</STRONG> When on, tells the VT320 that the modem is in the data mode and is ready to communicate.
<P><STRONG>For the printer line:</STRONG> Receives DTR on this line. If DSR is present at power-up, the printer controls
print operations. If DSR is not present at power-up, the terminal checks for DSR before
each print operation.</P></TD>
</TR>
</TBODY>
</TABLE>
<H2 CLASS="notoc">Standards</H2>
<P>The VT320 operates in accordance with the following national and international
communication standards.</P>
<UL>
<LI>EIA Standard RS232C</LI>
<LI>CCITT V.24</LI>
<LI>CCITT V.26 (V.10)</LI>
<LI>CCITT X.20 (V.21)</LI>
</UL>
<DIV CLASS="navbar"><HR>
<TABLE WIDTH="100%">
<COL SPAN="3" WIDTH="33%">
<TBODY>
<TR>
<TD ALIGN="LEFT"><A HREF="appendixb.html">Appendix B</A></TD>
<TD ALIGN="CENTER"><A HREF="contents.html">Contents</A></TD>
<TD ALIGN="RIGHT"><A HREF="appendixe.html">Appendix E</A></TD>
</TR>
</TBODY>
</TABLE>
<DIV CLASS="navbot">http://vt100.net/docs/vt320-uu/appendixc.html</DIV></DIV>
</BODY>
</HTML>
