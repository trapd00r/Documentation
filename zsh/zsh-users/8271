From zsh-users-return-8271-mason-zsh=primenet.com.au@sunsite.dk Wed Dec 08 08:14:40 2004
Return-Path: <zsh-users-return-8271-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 23481 invoked from network); 8 Dec 2004 08:14:39 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 8 Dec 2004 08:14:39 -0000
Received: (qmail 35330 invoked from network); 8 Dec 2004 08:14:33 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 8 Dec 2004 08:14:33 -0000
Received: (qmail 22792 invoked by alias); 8 Dec 2004 08:14:24 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 8271
Received: (qmail 22777 invoked from network); 8 Dec 2004 08:14:23 -0000
Received: from unknown (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 8 Dec 2004 08:14:23 -0000
Received: (qmail 33748 invoked from network); 8 Dec 2004 08:13:24 -0000
Received: from rproxy.gmail.com (64.233.170.205)
  by a.mx.sunsite.dk with SMTP; 8 Dec 2004 08:13:23 -0000
Received: by rproxy.gmail.com with SMTP id c16so522521rne
        for <zsh-users@sunsite.dk>; Wed, 08 Dec 2004 00:13:21 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=PeuwNANNsBCnbXm99JCsqfymeI8TsSGo2wu8V5TFW8dTHlprxxqqb3dguzdJWA73H466JcWEaRrKdgKjXUWfpCbBgBsel2Ue0VbqCJ6dv/xIr/UIg0DLz1/95znDLkoXqK1AWNMFG8SCx7lcRxcYbCAy3YAkxZqkxaQ+ILuP+dU=
Received: by 10.38.72.79 with SMTP id u79mr1724536rna;
        Wed, 08 Dec 2004 00:13:15 -0800 (PST)
Received: by 10.38.125.21 with HTTP; Wed, 8 Dec 2004 00:13:15 -0800 (PST)
Message-ID: <dc507f4a04120800132b01f623@mail.gmail.com>
Date: Wed, 8 Dec 2004 00:13:15 -0800
From: Felix Rosencrantz <f.rosencrantz@gmail.com>
Reply-To: Felix Rosencrantz <f.rosencrantz@gmail.com>
To: zsh-users@sunsite.dk
Subject: Re: Vim syntax file for zsh
In-Reply-To: <20041204164217.GA20437@puritan.pcp.ath.cx>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <dc507f4a04113023401aeab8b2@mail.gmail.com>
	 <20041201120202.GB9543@puritan.pcp.ath.cx>
	 <dc507f4a04120300022e3894cb@mail.gmail.com>
	 <20041204164217.GA20437@puritan.pcp.ath.cx>
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, hits=0.0 required=6.0 tests=none autolearn=no version=2.63
X-Spam-Hits: 0.0

On Sat, 4 Dec 2004 17:42:17 +0100, Nikolai Weibull
<mailing-lists.zsh-users@rawuncut.elitemail.org> wrote:
> I'm actually thinking that none of them should be highlighted, not even
> those that are "special".  Any input?
> 
> Three choices:
> 
> 1.  Highlight all variable references alike.
> 2.  Highlight only "special" variables, such as $$, $#, and $n.
> 3.  Highlight no variable references at all.

I would prefer 1&2 together, and then 1 in that order.

> If you look at the C syntax definition, no variable references are
> highlighted, and this isn't only due to the fact that it is infinitely
> much harder to determine what a variable in C (no marking $) is but also
> to keep things simple and clean.  Variables are everywhere, so
> highlighting all of them makes the display cluttered.

I appreciate your point about the cluttering. 

Though I like the perl syntax coloring. It deals with all the
little context regions special to perl like different types of quotes,
search regex, replace strings, heredocs, etc. I think zsh is closer to
perl than C in that it has a lot of little special contexts with their own
rules. (Not sure what you call this language property.)  Having the
coloring expose those special areas can make code more readable.

My interest is looking at existing code and trying to understand it. 
I'm typically looking at the completion and zle widget code that comes
with zsh, and that code contains a lot of these nested parameter
expressions.  And with no highlighting or with a single color
highlighting, the coloring doesn't help as much as it seems like it
could.

 

> Also things like the first line #compdef or #autoload lines are not
> > marked or highlighted in any way, other than as a comment.
> 
> Hm, that's an interesting suggestion.  The #! /bin/shell stuff should
> perhaps also be highlighted.  It's simple enough to add.
> 
> Could you perhaps point me to where I find the exact information that
> may appear in a beginning comment line?  I always seem to lose that
> page in the info pages.
This looks like this contains the information you would need:
http://zsh.sunsite.dk/Doc/Release/zsh_19.html#SEC116

-FR.

