From zsh-workers-return-5687-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Mar 08 17:54:53 1999
Return-Path: <zsh-workers-return-5687-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 6007 invoked from network); 8 Mar 1999 17:54:51 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 8 Mar 1999 17:54:51 -0000
Received: (qmail 11674 invoked by alias); 8 Mar 1999 17:54:13 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 5687
Received: (qmail 11667 invoked from network); 8 Mar 1999 17:54:11 -0000
Message-Id: <199903081754.SAA26511@hydra.ifh.de>
X-Authentication-Warning: hydra.ifh.de: pws owned process doing -bs
To: zsh-workers@sunsite.auc.dk (Zsh hackers list)
Subject: Re: Completion TODO (was: pws-11) 
In-reply-to: "Sven Wischnowsky"'s message of "Mon, 08 Mar 1999 13:52:01 MET."
             <199903081252.NAA11834@beta.informatik.hu-berlin.de> 
Date: Mon, 08 Mar 1999 18:54:05 +0100
From: Peter Stephenson <pws@ifh.de>

Sven Wischnowsky wrote:
> The current state: condition codes, some of them modifying. Saving and 
> restoring of the special parameters is done automatically on function
> entry and exit (and nowhere else).
> The problems are: modifying condition codes are considered a bad thing 
> and saving/restoring has to be done explicitly.

I haven't followed what's wrong with having the parameters restored
automatically unless compstate[restore] is altered.

If the modification of the parameters is simply to be removed from [[-style
tests, then I still think a builtin is the best way of handling it.
`compset -i 3' ignores three more characters from $PREFIX, or
whatever.  This could allow tests with side effects, like `compset -I
<pattern>' to ignore a pattern at the head of $PREFIX if it matches,
or whatever.  Then you also could have e.g. `compset -n 2 -1', narrow
to words 2 to -1 (same as shifting words and decrementing CURRENT),
`compset -N "start_pat" "optional_end_pat"', narrow to the range of
words between the patterns with the end pattern optional.  If it's
much more complicated than that, I can't imagine I would use it much.
I'm not really enthusiastic about more subscripting hieroglyphics.

-- 
Peter Stephenson <pws@ibmth.df.unipi.it>       Tel: +39 050 844536
WWW:  http://www.ifh.de/~pws/
Dipartimento di Fisica, Via Buonarroti 2, 56100 Pisa, Italy

