From zsh-workers-return-11886-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Jun 14 09:42:50 2000
Return-Path: <zsh-workers-return-11886-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4825 invoked from network); 14 Jun 2000 09:42:49 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 14 Jun 2000 09:42:49 -0000
Received: (qmail 17118 invoked by alias); 14 Jun 2000 09:42:40 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 11886
Received: (qmail 17110 invoked from network); 14 Jun 2000 09:42:39 -0000
Date: Wed, 14 Jun 2000 08:53:53 +0200 (MET DST)
Message-Id: <200006140653.IAA02555@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: Clint Adams's message of Tue, 13 Jun 2000 13:47:27 -0400
Subject: Re: PATCH: _arguments


Clint Adams wrote:

> [sunsite.auc.dk seems to be oppressing me as it did Sven]

I just noticed that someone was so kind to put the X-Seq numbers for
my patches in the ChangeLog... thanks!

> >   If anyone sees weird results when completing options from multiple
> >   sets, please tell me.
> 
> I've committed changes to _dpkg.  Everything seems to work except for
> the install|record_avail case, in which case zsh will complete nothing.
> Did I misunderstand something?

The `-A -*' doesn't mean that it complete ignores all unknown strings
starting with a hyphen, it just means that it doesn't stop completing
options if it finds undescribed `-foo's.

So, you still have to give it the `--{install,...}' to make it ignore
it. Or you use the `= ' trick together with the `::' trick, as in:

           '(-i)--install:*::Debian packages:= ->install' \

Then you can leave the other stuff alone (as long as you don't need to 
react to the presence/absence of options that might be before the
`--install', which, hm, I think you have (the exclusion lists), hm ...).

Bye
 Sven


--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

