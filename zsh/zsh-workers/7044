From zsh-workers-return-7044-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Jul 08 14:41:53 1999
Return-Path: <zsh-workers-return-7044-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4807 invoked from network); 8 Jul 1999 14:41:52 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 8 Jul 1999 14:41:52 -0000
Received: (qmail 10825 invoked by alias); 8 Jul 1999 14:41:43 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7044
Received: (qmail 10818 invoked from network); 8 Jul 1999 14:41:43 -0000
Message-ID: <3784B807.736F9648@thoth.u-net.com>
Date: Thu, 08 Jul 1999 15:39:03 +0100
From: Oliver Kiddle <opk@thoth.u-net.com>
X-Mailer: Mozilla 4.61 [en] (Win95; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Andrej Borsenkow <Andrej.Borsenkow@mow.siemens.ru>
CC: zsh-workers@sunsite.auc.dk
Subject: Re: 4855 does not work in all cases
References: <000701bec941$512d19c0$21c9ca95@mow.siemens.ru>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Andrej Borsenkow wrote:
> 
> > Variable            Cap Name  I. Code  Description
> > eat_newline_glitch  xenl      xn       Ignores new-line character after 80
> >                                        columns
> Unfortunately, it is not defined for dtterm (at least on our system). It seems
> to be defined for xterm and one more terminal type that do have the feature. But
> this is the general problem - how can you be sure that terminfo/termcap reflect
> the truth? Users are free to modify settings on the fly :-(

I'm no terminfo expert so correct me if I'm wrong but I'm assuming that
this xenl can either be set to true or false or can be not defined? If
this is correct then we should be all right as long as we can make a
good assumption in the case of not defined (the xterm behaviour I
suppose). Is xenl correct in the case of aixterm? When you say 'users
are free to modify settings on the fly', does this include xenl or just
things like am which are on the various mouse menus? If users are
modifying xenl, then surely they deserve everything they get so I
wouldn't see that as a problem. If terminfo/termcap entries are
occasionally wrong it might be better to mention how to fix them in the
FAQ than to write a load of nasty hacks to the code.

> if (!am || xenl) puts("\r\n");
> Not sure, that "\r\n" looks much better than " \n", but this works without
> auto-margin as well. Funnily enough, it will work even on my dtterm (that is
> configured for am but with terminfo that does not list this :-)

What doesn't it work for - only incorrect terminfo/termcap?

Thanks

Oliver Kiddle

