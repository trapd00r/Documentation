From zsh-users-return-2911-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Feb 10 17:59:43 2000
Return-Path: <zsh-users-return-2911-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1451 invoked from network); 10 Feb 2000 17:59:42 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 10 Feb 2000 17:59:42 -0000
Received: (qmail 13199 invoked by alias); 10 Feb 2000 17:59:24 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 2911
Received: (qmail 13191 invoked from network); 10 Feb 2000 17:59:23 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <1000210175857.ZM6927@candle.brasslantern.com>
Date: Thu, 10 Feb 2000 17:58:57 +0000
In-Reply-To: <20000210153411.A27005@fruitcom.com>
Comments: In reply to Eric Smith <eric@fruitcom.com>
        "completion but extra options allowed" (Feb 10,  3:34pm)
References: <20000210153411.A27005@fruitcom.com>
X-Mailer: Z-Mail (5.0.0 30July97)
To: Eric Smith <eric@fruitcom.com>, zsh-users@sunsite.auc.dk
Subject: Re: completion but extra options allowed
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Feb 10,  3:34pm, Eric Smith wrote:
} Subject: completion but extra options allowed
}
} Is it possible to allow these options and then any other option in the
} same rule?

Yes, in all sorts of ways.

For mutt specifically, you might try this (taken from Misc/compctl-examples
in 3.0.7 and edited to replace "elm" with "mutt"):

compctl -u -x 's[+] c[-1,-f],s[-f+]' -g '~/Mail/*(:t)' - \
        's[-f],c[-1,-f]' -f -- mutt

This means that you type "mutt -f +<TAB>" and zsh will complete files in
your $HOME/Mail directory following the + sign.  Mutt understands the + as
an abbreviation for the mail directory.  In the absence of a +, zsh just
completes file names after "mutt -f".

In the more general case, you don't have to use -k all by itself; you can
simply add more options to the "compctl" command line and zsh will try
each of them until it finds one that works.  Misc/compctl-examples has a
large number of samples.

Finally, if you're using zsh-3.1.6*, you can get this and more "for free"
by enabling the new completion system.  Look up "compinit" in the manual.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

