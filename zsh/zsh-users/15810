From zsh-users-return-15810-mason-zsh=primenet.com.au@zsh.org Fri Feb 18 01:40:43 2011
Return-Path: <zsh-users-return-15810-mason-zsh=primenet.com.au@zsh.org>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18966 invoked by alias); 18 Feb 2011 01:40:42 -0000
Mailing-List: contact zsh-users-help@zsh.org; run by ezmlm
Precedence: bulk
X-No-Archive: yes
List-Id: Zsh Users List <zsh-users.zsh.org>
List-Post: <mailto:zsh-users@zsh.org>
List-Help: <mailto:zsh-users-help@zsh.org>
Delivered-To: mailing list zsh-users@zsh.org
X-Seq: 15810
Received: (qmail 23263 invoked from network); 18 Feb 2011 01:40:31 -0000
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.7 required=5.0 tests=BAYES_00,DKIM_SIGNED,
	DKIM_VALID,DKIM_VALID_AU,FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,
	T_TO_NO_BRKTS_FREEMAIL autolearn=ham version=3.3.1
Received-SPF: pass (ns1.primenet.com.au: SPF record at _spf.google.com designates 209.85.216.43 as permitted sender)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:date:from:x-x-sender:to:subject:message-id
         :user-agent:mime-version:content-type;
        bh=W6Hbvkow4E+VbNiICpqJ6xM3RmHlxJYU9UiSK/4iIcU=;
        b=SJl5rwLhx5TQCNYY2Vu0hMLkb2FvXBt4lZIFWl7lsVD1DFTVVSDVe1ovp2N29QK1hq
         rvg/7o8TTLbChvn98PZP1+KbPxxmmWaOjQBUv2XfchnKaCJBmqMx+ygeTCMYF+57CORK
         J/2eViuVAYXRTbLq/GsvycXvnEOnC0WGmD9iU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=date:from:x-x-sender:to:subject:message-id:user-agent:mime-version
         :content-type;
        b=Ag7Qc4oLw0gJOJUNytqI7qb8zlqytR7DjSDdzNntSf2X/nUUgCFCDw7XmozwREO6ps
         bMhgLpO7kq87pHMNH20M+bbav2ybSU7M28Ayj30w5HVoSRGW9KdwncBFBWO55VkoBxI4
         23rY/6Gem4q2GQ/za0AER/WI3JghJQR0zrOvM=
Date: Thu, 17 Feb 2011 19:40:20 -0600 (CST)
From: Rory Mulvaney <rorymulv@gmail.com>
X-X-Sender: rm@MyComp2.rgm-web.net
To: zsh-users@zsh.org
Subject: stream buffering
Message-ID: <alpine.DEB.2.02.1102171938510.16574@MyComp2.rgm-web.net>
User-Agent: Alpine 2.02 (DEB 1266 2009-07-14)
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; format=flowed; charset=US-ASCII

I'm wondering if the reason that some I/O intensive zsh shell scripts 
aren't fast is mostly only because the I/O is (I think) line-buffered. 
Is there a way to do full buffering of streams, or what would be the best 
way to provide it?  Maybe a module similar to zsh/net/socket, perhaps 
using setvbuf(3)?

Also, thanks for the big help on my coproc question a little while ago.

Thanks in advance,
Rory

