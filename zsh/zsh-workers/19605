From zsh-workers-return-19605-mason-zsh=primenet.com.au@sunsite.dk Thu Mar 11 22:05:43 2004
Return-Path: <zsh-workers-return-19605-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 20489 invoked from network); 11 Mar 2004 22:05:42 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 11 Mar 2004 22:05:42 -0000
Received: (qmail 4666 invoked by alias); 11 Mar 2004 22:05:14 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 19605
Received: (qmail 4616 invoked from network); 11 Mar 2004 22:05:12 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 11 Mar 2004 22:05:12 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [216.254.112.45] by sunsite.dk (MessageWall 1.0.8) with SMTP; 11 Mar 2004 22:5:8 -0000
Received: by acolyte.scowler.net (Postfix, from userid 1000)
	id D46227004A; Thu, 11 Mar 2004 17:05:07 -0500 (EST)
Date: Thu, 11 Mar 2004 17:05:07 -0500
From: Clint Adams <clint@zsh.org>
To: zsh-workers@sunsite.dk
Subject: PATCH: mtr completion
Message-ID: <20040311220507.GA1375@scowler.net>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.5.5.1+cvs20040105i

Completion for Matt's traceroute.
There could be better handling of option exclusivity, and -a could
attempt to get a list of local interface IPs.

Index: Completion/Unix/Command/_mtr
===================================================================
RCS file: Completion/Unix/Command/_mtr
diff -N Completion/Unix/Command/_mtr
--- /dev/null	1 Jan 1970 00:00:00 -0000
+++ Completion/Unix/Command/_mtr	11 Mar 2004 21:55:04 -0000
@@ -0,0 +1,28 @@
+#compdef mtr
+
+_arguments -C \
+	'(--help)-h[help]' \
+	'(-h)--help' \
+	'(--version)-v[version]' \
+	'(-v)--version' \
+	'(--report)-r[report]' \
+	'(-r)--report' \
+	'(--report--cycles)-c[report cycles]:count:' \
+	'(-c)--report-cycles:count:' \
+	'(--psize)-p[packet size]:packet size in bytes:' \
+	'(-p)--psize:packet size in bytes:' \
+	'(--curses)-t[curses]' \
+	'(-t)--curses' \
+	'(--no-dns)-n[no dns]' \
+	'(-n)--no-dns' \
+	'(--gtk)-g[gtk]' \
+	'(-g)--gtk' \
+	'(--split)-s[split]' \
+	'(-s)--split' \
+	'(--raw)-l[raw]' \
+	'(-l)--raw' \
+	'(--address)-a[source IP]:source IP:' \
+	'(-a)--address:source IP:' \
+	'(--interval)-i[interval]:seconds:' \
+	'(-i)--interval:seconds:' \
+	':hostname:_hosts'

