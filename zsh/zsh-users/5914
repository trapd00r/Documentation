From zsh-users-return-5914-mason-zsh=primenet.com.au@sunsite.dk Thu Feb 13 13:30:35 2003
Return-Path: <zsh-users-return-5914-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 5294 invoked from network); 13 Feb 2003 13:30:34 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 13 Feb 2003 13:30:34 -0000
Received: (qmail 1985 invoked by alias); 13 Feb 2003 13:30:03 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 5914
Received: (qmail 1974 invoked from network); 13 Feb 2003 13:30:03 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 13 Feb 2003 13:30:02 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [195.197.252.71] by sunsite.dk (MessageWall 1.0.8) with SMTP; 13 Feb 2003 13:30:1 -0000
Received: from azure by lynx.ionific.com with local (Exim 3.35 #1 (Debian))
	id 18jJRE-0004Kt-00; Thu, 13 Feb 2003 15:30:04 +0200
To: Zsh Users' List <zsh-users@sunsite.dk>
Subject: Remote scp completion that can handle spaces etc. in pathnames
Mail-copies-to: nobody
From: Hannu Koivisto <azure@iki.fi>
Supersedes: <87isvoqptl.fsf@lynx.ionific.com>
User-Agent: Gnus/5.090014 (Oort Gnus v0.14) Emacs/21.2
 (i386-debian-linux-gnu)
Date: Thu, 13 Feb 2003 15:30:04 +0200
Message-ID: <87d6lwqper.fsf@lynx.ionific.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Sender: Hannu Koivisto <Hannu.Koivisto@ionific.com>

Greetings,

Let's say that there is a directory "foo bar" on host baz.  If I
try to copy it recursively with scp from baz to the current host, I
have to say ``scp -r baz:foo\\\ bar .''  That is, I need to
"double quote".  However, if I use zsh's completion to get me that
directory, i.e. I write ``scp -r baz:fo<tab>'', I get
``scp -r baz:foo\ bar/'', which does not work.

I use openssh 3.4p1 and zsh 4.0.4 on Debian GNU/Linux woody.  Is
this handled differently in a later (stable or development) version
and/or would this be easy to fix locally?

I also note that pathnames in remote commands are not completed
remotely, i.e. if I write ``ssh somehost ls f<tab>'', zsh completes
local filesystem entries beginning with f.  I wonder if this could
be smarter as well.

-- 
Hannu
Please don't send copies of list mail

