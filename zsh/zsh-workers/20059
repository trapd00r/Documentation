From zsh-workers-return-20059-mason-zsh=primenet.com.au@sunsite.dk Wed Jun 16 15:08:44 2004
Return-Path: <zsh-workers-return-20059-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4911 invoked from network); 16 Jun 2004 15:08:41 -0000
Received: from thor.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.86)
  by ns1.primenet.com.au with SMTP; 16 Jun 2004 15:08:41 -0000
Received: (qmail 22152 invoked from network); 16 Jun 2004 15:06:54 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 16 Jun 2004 15:06:54 -0000
Received: (qmail 13786 invoked by alias); 16 Jun 2004 15:06:44 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 20059
Received: (qmail 13756 invoked from network); 16 Jun 2004 15:06:43 -0000
Received: from thor.dotsrc.org (HELO a.mx.sunsite.dk) (qmailr@130.225.247.86)
  by sunsite.dk with SMTP; 16 Jun 2004 15:06:40 -0000
Received: (qmail 20205 invoked from network); 16 Jun 2004 15:06:13 -0000
Received: from mail36.messagelabs.com (193.109.254.211)
  by a.mx.sunsite.dk with SMTP; 16 Jun 2004 15:06:11 -0000
X-VirusChecked: Checked
X-Env-Sender: okiddle@yahoo.co.uk
X-Msg-Ref: server-8.tower-36.messagelabs.com!1087398343!7040938
X-StarScan-Version: 5.2.10; banners=-,-,-
X-Originating-IP: [158.234.9.163]
Received: (qmail 22789 invoked from network); 16 Jun 2004 15:05:43 -0000
Received: from iris.logica.co.uk (158.234.9.163)
  by server-8.tower-36.messagelabs.com with SMTP; 16 Jun 2004 15:05:43 -0000
Received: from trentino.logica.co.uk ([158.234.142.61])
	by iris.logica.co.uk (8.12.3/8.12.3/Debian -4) with ESMTP id i5GF5hUI010798;
	Wed, 16 Jun 2004 16:05:43 +0100
Received: from trentino.logica.co.uk (localhost [127.0.0.1])
	by trentino.logica.co.uk (Postfix) with ESMTP
	id CD4F67970C6A; Wed, 16 Jun 2004 17:04:58 +0200 (CEST)
Cc: lists <lists@kalama.no-ip.org>
X-VirusChecked: Checked
X-StarScan-Version: 5.0.7; banners=.,-,-
In-reply-to: <DED3240A-BF47-11D8-BDC7-000A95D2C79E@kalama.no-ip.org> 
From: Oliver Kiddle <okiddle@yahoo.co.uk>
References: <DED3240A-BF47-11D8-BDC7-000A95D2C79E@kalama.no-ip.org>
To: Zsh workers <zsh-workers@sunsite.dk>
Subject: Re: _chown on Mac OS X/Darwin 
Date: Wed, 16 Jun 2004 17:04:58 +0200
Message-ID: <15543.1087398298@trentino.logica.co.uk>
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, hits=0.0 required=6.0 tests=BAYES_50 autolearn=no 
	version=2.63
X-Spam-Hits: 0.0

lists wrote:
> 	I have a small feature request for _chown.  Could this line:
> 
> elif [[ $OSTYPE = (solaris*|hpux*|*bsd*|linux*) ]]; then
> 
> get changed to this please?:
> 
> elif [[ $OSTYPE = (solaris*|hpux*|*bsd*|linux*|darwin*) ]]; then

I think I'm just going to reverse the sense of this. It is older
systems that tend to use `.'

Please say if you know of any other systems which use `.'. And let me
know what OSTYPE would be. Anyone know what old SunOS uses?  Even for
IRIX, I only know this to be right for IRIX 5.

Oliver

Index: _chown
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_chown,v
retrieving revision 1.9
diff -u -r1.9 _chown
--- _chown	4 Dec 2003 14:23:31 -0000	1.9
+++ _chown	16 Jun 2004 14:53:36 -0000
@@ -39,10 +39,10 @@
     else
       if compset -S '[.:]*'; then
         suf=()
-      elif [[ $OSTYPE = (solaris*|hpux*|*bsd*|linux*) ]]; then
-	suf=( -qS ':' )
-      else
+      elif [[ $OSTYPE = irix* ]]; then
 	suf=( -qS '.' )
+      else
+	suf=( -qS ':' )
       fi
       _users "$suf[@]" && ret=0
     fi

