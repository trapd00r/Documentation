From zsh-workers-return-5407-mason-zsh=primenet.com.au@sunsite.auc.dk Wed Feb 17 08:04:43 1999
Return-Path: <zsh-workers-return-5407-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 8767 invoked from network); 17 Feb 1999 08:04:42 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 17 Feb 1999 08:04:42 -0000
Received: (qmail 10308 invoked by alias); 17 Feb 1999 08:03:14 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 5407
Received: (qmail 10301 invoked from network); 17 Feb 1999 08:03:11 -0000
Date: Wed, 17 Feb 1999 09:00:55 +0100 (MET)
Message-Id: <199902170800.JAA03285@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: Peter Stephenson's message of Tue, 16 Feb 1999 18:04:07 +0100
Subject: Re: Problem with completion matching control


Peter Stephenson wrote:

> Sven Wischnowsky wrote:
> > The patch below is a bit of an overhaul for the usage of completion
> > options in do_ambiguous().
> 
> There's now a widowed
> 
>     if (am)
> 	lastambig = 1;
> 
> at the end of do_ambiguous, with the declaration for `am' having
> disappeared.  Can I just remove both lines?

Yes (sorry, I had commented out the uses of am before and removed it
just before sending the patch, I thought I had re-compiled it, but
maybe without previously saving tricky.c).

Bye
 Sven

--- os/Zle/zle_tricky.c	Wed Feb 17 08:59:28 1999
+++ Src/Zle/zle_tricky.c	Wed Feb 17 08:59:33 1999
@@ -5584,8 +5584,6 @@
     if (isset(AUTOLIST) && !isset(BASHAUTOLIST) && !amenu && !showinglist &&
 	smatches >= 2)
 	showinglist = -2;
-    if (am)
-	lastambig = 1;
 }
 
 /* This is a stat that ignores backslashes in the filename.  The `ls' *

--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

