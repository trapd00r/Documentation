From zsh-users-return-7332-mason-zsh=primenet.com.au@sunsite.dk Wed Apr 07 12:34:33 2004
Return-Path: <zsh-users-return-7332-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10301 invoked from network); 7 Apr 2004 12:34:32 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 7 Apr 2004 12:34:32 -0000
Received: (qmail 24180 invoked by alias); 7 Apr 2004 12:34:11 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 7332
Received: (qmail 24166 invoked from network); 7 Apr 2004 12:34:11 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 7 Apr 2004 12:34:11 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [130.225.247.86] by sunsite.dk (MessageWall 1.0.8) with SMTP; 7 Apr 2004 12:34:11 -0000
Received: (qmail 27184 invoked from network); 7 Apr 2004 12:34:10 -0000
Received: from mail36.messagelabs.com (193.109.254.211)
  by a.mx.sunsite.dk with SMTP; 7 Apr 2004 12:34:08 -0000
X-VirusChecked: Checked
X-Env-Sender: okiddle@yahoo.co.uk
X-Msg-Ref: server-3.tower-36.messagelabs.com!1081341220!5240557
X-StarScan-Version: 5.2.10; banners=-,-,-
X-Originating-IP: [158.234.9.163]
Received: (qmail 21219 invoked from network); 7 Apr 2004 12:33:40 -0000
Received: from iris.logica.co.uk (158.234.9.163)
  by server-3.tower-36.messagelabs.com with SMTP; 7 Apr 2004 12:33:40 -0000
Received: from trentino.logica.co.uk ([158.234.142.61])
	by iris.logica.co.uk (8.12.3/8.12.3/Debian -4) with ESMTP id i37CXdMO013177;
	Wed, 7 Apr 2004 13:33:40 +0100
Received: from trentino.logica.co.uk (localhost [127.0.0.1])
	by trentino.logica.co.uk (Postfix) with ESMTP
	id 6E1F9790E26C; Wed,  7 Apr 2004 14:32:55 +0200 (CEST)
Cc: zsh-users@sunsite.dk
X-VirusChecked: Checked
X-StarScan-Version: 5.0.7; banners=.,-,-
In-reply-to: <14f8etwgw10e8.dlg@thorstenkampe.de> 
From: Oliver Kiddle <okiddle@yahoo.co.uk>
References: <12734.1080061609@csr.com> <4061027C.907@acm.org> <4073DAE5.6040904@acm.org> <14f8etwgw10e8.dlg@thorstenkampe.de>
To: Thorsten Kampe <thorsten@thorstenkampe.de>
Subject: Re: How to get faster completion if I make zsh assume what I've typed so far is correct? 
Date: Wed, 07 Apr 2004 14:32:55 +0200
Message-ID: <13471.1081341175@trentino.logica.co.uk>
X-Spam-Checker-Version: SpamAssassin 2.63 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, hits=0.0 required=6.0 tests=none autolearn=no version=2.63
X-Spam-Hits: 0.0

Thorsten Kampe wrote:
> * paxunix (2004-04-07 12:41 +0100)

> >> The latter works perfectly.  The situation is even more pronounced on 
> >> zsh under Cygwin, where completing a path with 
> >> /cygdrive/<drive-letter> will cause your floppy drive to be accessed 
> >> every time you attempt a new completion.  The accept-exact '*' 
> >> resolves this issue wonderfully.  Many thanks!

For just resolving the /cygdrive/<drive-letter> problem, it might be
better to use something like: accept-exact '[acdef]'
just list all your drive letters. That will limit the scope of the
style more than '*'.

> > There are a couple of very annoying issues with this solution:  
> > ambiguous matches are not cycled through correctly and it is impossible 
> > to complete some pathnames.

That's because it is enabling accept-exact for the last component and
not just the earlier path components.

I don't know of any way to get this to work properly (short of digging
into the C source for compfiles). It really ought to be possible to
disable the partial completion.

> Try "zstyle ':completion:*:paths' accept-exact continue"

That won't help. It would just affect directories named `continue'. The
value `continue' is a feature of the _expand completer so should be used
with a context like ':completion:*:expand:*'. It allows both completions
and expansions to be offered in the case of exact ambiguous matches.

Oliver

