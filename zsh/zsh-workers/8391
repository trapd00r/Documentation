From zsh-workers-return-8391-mason-zsh=primenet.com.au@sunsite.auc.dk Sun Oct 24 16:09:44 1999
Return-Path: <zsh-workers-return-8391-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 14510 invoked from network); 24 Oct 1999 16:09:43 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 24 Oct 1999 16:09:43 -0000
Received: (qmail 8079 invoked by alias); 24 Oct 1999 16:09:37 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 8391
Received: (qmail 8072 invoked from network); 24 Oct 1999 16:09:36 -0000
From: "Bart Schaefer" <schaefer@candle.brasslantern.com>
Message-Id: <991024160917.ZM9245@candle.brasslantern.com>
Date: Sun, 24 Oct 1999 16:09:17 +0000
In-Reply-To: <7du2nh54k2.fsf@venus.l2i>
Comments: In reply to Alexandre Duret-Lutz <alexandre.duret@greyc.ismra.fr>
        "Re: "typeset -x" vs. "export" in 3.1.6" (Oct 24,  1:25pm)
References: <991023083509.ZM21037@candle.brasslantern.com> 
	<991023174311.ZM22277@candle.brasslantern.com> 
	<7du2nh54k2.fsf@venus.l2i>
X-Mailer: Z-Mail (5.0.0 30July97)
To: Alexandre Duret-Lutz <alexandre.duret@greyc.ismra.fr>,
        zsh-workers@sunsite.auc.dk
Subject: Re: "typeset -x" vs. "export" in 3.1.6
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

On Oct 24,  1:25pm, Alexandre Duret-Lutz wrote:
} Subject: Re: "typeset -x" vs. "export" in 3.1.6
}
} >>> "BS" == Bart Schaefer <schaefer@candle.brasslantern.com> writes:
} 
} [...]
} 
}  BS> There doesn't seem to have ever been doc written for "typeset -g".  
} 
} I have just read a paragraph about it in zshbuiltins.1 !

Ah, there it is.  I didn't see it before because it isn't among "The
following attribute flags ...".

}  BS> Can someone who has a real ksh available please confirm
}  BS> what the precise ksh behavior is?  Does it differ in 88/93?)
} 
} ~ % ksh
} venus:281> foo() { typeset -x bar=123; sh -c 'echo $bar'; }
} venus:282> foo                                  # note: ^--- is needed
} 123
} venus:283>
} 
} So having 'typeset -x' doing 'typeset -xg' seems to be right for 
} ksh emulation. 

Could you do one more test, please?

	foo() { typeset -x bar=123; sh -c 'echo $bar'; }
	bar() { typeset bar; foo }

Now run "bar".

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

