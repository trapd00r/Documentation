From zsh-workers-request@math.gatech.edu Fri Nov 13 22:24:40 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2332 invoked from network); 13 Nov 1998 22:24:38 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 13 Nov 1998 22:24:38 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.9.1/8.9.1) id RAA28412;
	Fri, 13 Nov 1998 17:23:30 -0500 (EST)
Resent-Date: Fri, 13 Nov 1998 17:23:30 -0500 (EST)
From: Phil Pennock <phil@athenaeum.demon.co.uk>
Message-Id: <199811132119.VAA00557@athenaeum.demon.co.uk>
Subject: bug 3.1.5 symlinks & cd
To: zsh-workers@math.gatech.edu
Date: Fri, 13 Nov 1998 21:19:08 +0000 (GMT)
X-Disclaimer-1: Any views expressed in this message, where not explicitly
X-Disclaimer-2: attributed otherwise, are mine and mine alone.  Such views
X-Disclaimer-3: do not necessarily coincide with those of any organisation
X-Disclaimer-4: or company with which I am or have been affiliated.
X-Phase-of-Moon: The Moon is Waning Crescent (24% of Full)
X-Mailer: ELM [version 2.4ME+ PL37 (25)]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"66y1m1.0.tx6.Y5BJs"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/4627
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Using a stock zsh-3.1.5, there seems to be some problem with completion
using one interpretation of a directory tree with symlinks, and cd using
another.  (Linux 2.0.x on x86.)

% zsh-3.1.5 -f
machinename% PS1='%~%# '
~% mkdir tmp/tst && cd tmp/tst
~/tmp/tst% mkdir foo foo/bar wibble
~/tmp/tst% ln -s foo/bar .
~/tmp/tst% cd bar
~/tmp/tst/bar% 

At this points, try tab-completing "cd ../" and you get "../bar", try
../w<tab> and it beeps.  Try "../../w<tab>" and you get the wibble
directory completed, but:

~/tmp/tst/bar% cd ../../wibble
cd: no such file or directory: ../../wibble
~/tmp/tst/bar% cd ../wibble
~/tmp/tst/wibble% compctl -L cd
compctl: no compctl defined for cd

Note that the ../wibble refuses to tab-complete.

HTH
-- 
--> Phil Pennock ; GAT d- s+:+ a22 C++(++++) UL++++/I+++/S+++/H+ P++@ L+++
E-@ W(+) N>++ o !K w--- O>+ M V !PS PE Y+ PGP+ t-- 5++ X+ R !tv b++>+++ DI+ D+
G+ e+ h* r y?

