From zsh-workers-return-6741-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Jun 21 08:35:13 1999
Return-Path: <zsh-workers-return-6741-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 565 invoked from network); 21 Jun 1999 08:35:11 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 21 Jun 1999 08:35:11 -0000
Received: (qmail 25298 invoked by alias); 21 Jun 1999 08:34:40 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 6741
Received: (qmail 25291 invoked from network); 21 Jun 1999 08:34:39 -0000
From: "Andrej Borsenkow" <borsenkow.msk@sni.de>
To: "Sven Wischnowsky" <wischnow@informatik.hu-berlin.de>,
        <zsh-workers@sunsite.auc.dk>
Subject: RE: Non-patch: zle argument handling
Date: Mon, 21 Jun 1999 12:33:00 +0400
Message-ID: <000b01bebbc0$abe180b0$21c9ca95@mow.siemens.ru>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
In-Reply-To: <199906210825.KAA19961@beta.informatik.hu-berlin.de>
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2314.1300

>
> Andrej Borsenkow wrote:
>
> > Related question - is it possible to use minibuffer from
> user-defined widgets?
> > Is it useful? Or it can be implemented with current changes to read?
>
> My little isearch example did that: with a combination of `read -k'
> and `zle -R "search: $str"' (the argument of `-R' is displayed in the
> statusline).
>
>

You cannot edit input with read -k.

bor@itsrm2:~%> foo() {
function> read -k 4 test
function> print $#test
function> }
bor@itsrm2:~%> foo
12^H^H4

So, either widget should make all edtiting itself, or we need some way to
dispatch on input key sequences (to call normal editing widget) or (better yet)
to use minibuffer with builtin editing.

/andrej

