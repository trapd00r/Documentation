From zsh-workers-return-13238-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Dec 05 16:36:03 2000
Return-Path: <zsh-workers-return-13238-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17366 invoked from network); 5 Dec 2000 16:36:02 -0000
Received: from sunsite.dk (HELO sunsite.auc.dk) (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 5 Dec 2000 16:36:02 -0000
Received: (qmail 5703 invoked by alias); 5 Dec 2000 16:35:55 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 13238
Received: (qmail 5694 invoked from network); 5 Dec 2000 16:35:53 -0000
Date: Tue, 05 Dec 2000 16:35:26 +0000
From: Peter Stephenson <pws@csr.com>
Subject: Re: Module config
In-reply-to: "Your message of Tue, 05 Dec 2000 18:18:56 +0300."
 <003c01c05ece$b52b94a0$c9c9ca95@mw1g666c>
To: zsh-workers@sunsite.auc.dk (Zsh hackers list)
Message-id: <0G53006KTSR1X9@la-la.cambridgesiliconradio.com>
Content-transfer-encoding: 7BIT

> To remeber - something like:
> 
> --enable-modules='zsh/zle=link=static zsh/stat=load=auto'
> 
> i.e. just to enable setting the same parameters as in config.modules on
> command line.

That should be possible just by changing configure.in.  In the loop over
.mdd files,

  case $enable_modules in
     $name=*|*' '$name=*) # use sed to get stuff out of $enable_modules
     ;;
  esac
  # normal processing on link, load etc.

auto=no should probably override the --enable-modules setting, since the
latter could come from config.status --recheck.

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
Cambridge Silicon Radio, Unit 300, Science Park, Milton Road,
Cambridge, CB4 0XL, UK                          Tel: +44 (0)1223 392070

