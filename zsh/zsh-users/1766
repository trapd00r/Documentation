From zsh-workers-request@math.gatech.edu Thu Aug 27 09:24:02 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 942 invoked from network); 27 Aug 1998 09:24:01 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 27 Aug 1998 09:24:01 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.9.1/8.9.1) id FAA00438;
	Thu, 27 Aug 1998 05:12:15 -0400 (EDT)
Resent-Date: Thu, 27 Aug 1998 05:11:51 -0400 (EDT)
Sender: B.Stephens@isode.com
To: ZSH users mailing list <zsh-users@math.gatech.edu>
Subject: Re: 'man' completion
References: <000a01bdd108$27f40910$21c9ca95@ao13.mow.sni.de> <vbk93v8zwm.fsf@snake.isode.com> <980826103628.ZM21060@candle.brasslantern.com> <19980827115105.A13312@tertius.net.au>
Mime-Version: 1.0 (generated by tm-edit 7.108)
Content-Type: text/plain; charset=US-ASCII
From: Bruce Stephens <b.stephens@isode.com>
Date: 27 Aug 1998 10:14:02 +0100
In-Reply-To: Gossamer's message of "Thu, 27 Aug 1998 11:51:05 +1000"
Message-ID: <vbyasahjmt.fsf@snake.isode.com>
Lines: 19
X-Mailer: Gnus v5.6.27/XEmacs 20.4 - "Emerald"
Resent-Message-ID: <"WEYMG3.0.J6.NBIvr"@math>
Resent-From: zsh-users@math.gatech.edu
X-Mailing-List: <zsh-users@math.gatech.edu> archive/latest/1766
X-Loop: zsh-users@math.gatech.edu
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Gossamer <gossamer@tertius.net.au> writes:

> I have a nifty set of completion macros for man pages but unfortunately
> they stop me from getting the filename completion when I'm specifying the
> file directly, eg:
> 
> man ./goofey.1

Ah.  I think if you stick a -f right after the compctl, then that'll
give you filename completion too.

compctl -f -x 'S[1][2][3][4][5][6][7][8][9]' -k '(1 2 3 4 5 6 7 8 9)' \
  - 'R[[1-9nlo]|[1-9](|[a-z]),^*]' -K 'match-man' \
  - 's[-M],c[-1,-M]' -g '*(-/)' \
  - 's[-P],c[-1,-P]' -c \
  - 's[-S],s[-1,-S]' -k '( )' \
  - 's[-]' -k '(a d f h k t M P)' \
  - 'p[1,-1]' -c + -K 'match-man' \
  -- man

