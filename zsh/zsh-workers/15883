From zsh-workers-return-15883-mason-zsh=primenet.com.au@sunsite.dk Thu Sep 27 14:20:45 2001
Return-Path: <zsh-workers-return-15883-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 4017 invoked from network); 27 Sep 2001 14:20:44 -0000
Received: from sunsite.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 27 Sep 2001 14:20:44 -0000
Received: (qmail 1766 invoked by alias); 27 Sep 2001 14:20:39 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 15883
Received: (qmail 1733 invoked from network); 27 Sep 2001 14:20:37 -0000
To: zsh-workers@sunsite.dk
Path: not-for-mail
From: Geoff Wing <mason@primenet.com.au>
X-Newsgroups: lists.zsh.workers
Subject: Failure of Test/V01 in 4.1.0-dev-2
Date: Thu, 27 Sep 2001 14:20:32 +0000 (UTC)
Organization: PrimeNet Computer Consultants
Lines: 26
Message-ID: <9ovcjg$3s6$1@coral.primenet.com.au>
References: <20441.1001594364@csr.com>
Reply-To: mason@primenet.com.au
NNTP-Posting-Host: coral.primenet.com.au
X-Trace: coral.primenet.com.au 1001600432 3974 203.43.15.2 (27 Sep 2001 14:20:32 GMT)
X-Complaints-To: usenet@coral.primenet.com.au
NNTP-Posting-Date: Thu, 27 Sep 2001 14:20:32 +0000 (UTC)
User-Agent: slrn/0.9.7.2 (NetBSD)

Heyla,
had the following from Test/V01zmodload.ztst .  Can anyone else reproduce it?

% cd Test
% ZTST_verbose=1 ../Src/zsh +Z -f `pwd`/ztst.zsh V01zmodload.ztst
....
Running test: Delete the module alias again
Test successful.
Running test: Unload the modules loaded by this test suite
zsh: 22769 segmentation fault (core dumped)  ZTST_verbose=1 ../Src/zsh +Z -f `pwd`/ztst.zsh V01zmodload.ztst
% gdb ../Src/zsh zsh.core
....
#0  0x481c9e52 in zfclose (leaveparams=0) at zftp.c:2662
2662        if (zfsess->control->fd == -1)
....
(gdb) p zfsess
$1 = 0x804bbd0
(gdb) p zfsess->control
$2 = 0x0


Regards,
-- 
Geoff Wing  <gcw@pobox.com>
rxvt stuff  <gcw@rxvt.org>
zsh stuff   <gcw@zsh.org>

