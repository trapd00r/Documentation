From zsh-workers-return-7745-mason-zsh=primenet.com.au@sunsite.auc.dk Thu Sep 09 13:55:52 1999
Return-Path: <zsh-workers-return-7745-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 10848 invoked from network); 9 Sep 1999 13:55:51 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 9 Sep 1999 13:55:51 -0000
Received: (qmail 10370 invoked by alias); 9 Sep 1999 13:55:42 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7745
Received: (qmail 10363 invoked from network); 9 Sep 1999 13:55:41 -0000
Date: Thu, 9 Sep 1999 15:55:40 +0200 (MET DST)
Message-Id: <199909091355.PAA03052@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: "Andrej Borsenkow"'s message of Thu, 9 Sep 1999 17:13:52 +0400
Subject: Re: Silly questions about _arguments & Co (and probably bugs)


Andrej Borsenkow wrote:

> 1. When are the description of arguments actually printed? I tried some basic
> commands like xterm or patch but descriptions do not seem to be printed.

You need to do `compconf description_format="--- %d"' or something
like that.

> 2. Looks, like `-s' is overloaded - it is used both for "single letter options"
> and for "option aliases" (from _long_options). I believe, this is the reason why
> option aliases do not work any more :-) E.g. ntpd configure lists only --enable
> variant - and now no --disable counterparts are recognised.

No, the `-s' for the long-option stuff is *only* interpreted if it
appears *after* the `--', which needs to be there to make `_arguments'
do this automatic-long-option-stuff at all. The `-s' for `use single
letter options' has to come as the *first* argument.

> 3. I cannot make completion for patch work. As simple as `patch --sTAB' just
> beeps.

Dunno, works for me.

> 4. `patch -pTAB' gives me `patch -p0 ' - but `0' is not autoremoved if I enter
> different number (I'd expect it to be).

I don't get a `0' inserted automatically here.

> 5. `patch TAB' does not list most of the long options at all. Actually, it is
> interesting case - if a command has both long and short form - which one should
> be preferred? I'd like to have short option only if no corresponding short one
> exists.

Again, I get all the long options my `patch --help' prints. Hm, this
and the `--s<TAB>' thing above makes me think that maybe you have a
different version of `patch' with a different `--help' output. I'd
need to see that then.

Otherwise: which version do you have? Which patches?

Bye
 Sven


--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

