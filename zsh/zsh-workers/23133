From zsh-workers-return-23133-mason-zsh=primenet.com.au@sunsite.dk Wed Jan 24 09:15:50 2007
Return-Path: <zsh-workers-return-23133-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1265 invoked from network); 24 Jan 2007 09:15:45 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.7 (2006-10-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=BAYES_00,FORGED_RCVD_HELO 
	autolearn=ham version=3.1.7
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 24 Jan 2007 09:15:45 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 21558 invoked from network); 24 Jan 2007 09:15:37 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 24 Jan 2007 09:15:37 -0000
Received: (qmail 18072 invoked by alias); 24 Jan 2007 09:15:34 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 23133
Received: (qmail 18060 invoked from network); 24 Jan 2007 09:15:32 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 24 Jan 2007 09:15:32 -0000
Received: (qmail 21262 invoked from network); 24 Jan 2007 09:15:32 -0000
Received: from mailfe07.tele2.fr (HELO swip.net) (212.247.154.204)
  by a.mx.sunsite.dk with SMTP; 24 Jan 2007 09:15:26 -0000
X-Cloudmark-Score: 0.000000 []
Received: from [80.170.150.182] (account eu1388219@tele2.fr HELO localhost)
  by mailfe07.swip.net (CommuniGate Pro SMTP 5.0.12)
  with ESMTPA id 393551629 for zsh-workers@sunsite.dk; Wed, 24 Jan 2007 10:15:25 +0100
Date: Wed, 24 Jan 2007 10:15:23 +0100
From: "arno." <arno.@no-log.org>
To: zsh-workers@sunsite.dk
Subject: Re: PATCH: updated _debchange
Message-ID: <20070124091523.GB7881@localhost.localdomain>
Mail-Followup-To: zsh-workers@sunsite.dk
References: <20070123190916.GA5793@localhost.localdomain> <20070123214758.GA23710@scowler.net>
MIME-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-sha1;
	protocol="application/pgp-signature"; boundary="aVD9QWMuhilNxW9f"
Content-Disposition: inline
In-Reply-To: <20070123214758.GA23710@scowler.net>
User-Agent: Mutt/1.5.13 (2006-08-11)


--aVD9QWMuhilNxW9f
Content-Type: text/plain; charset=iso-8859-15
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

Le mardi 23 janvier 2007, =E0 16:47:58 -0500, Clint a =E9crit :=20
> I don't believe this is necessary.

So, here is a shorter version

arno.



Index: Completion/Debian/Command/_debchange
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
RCS file: /cvsroot/zsh/zsh/Completion/Debian/Command/_debchange,v
retrieving revision 1.2
diff -u -r1.2 _debchange
--- Completion/Debian/Command/_debchange	31 Jul 2003 15:26:14 -0000	1.2
+++ Completion/Debian/Command/_debchange	24 Jan 2007 09:12:07 -0000
@@ -1,10 +1,38 @@
 #compdef debchange dch=3Ddebchange
=20
+# only 0 or 1 of those options may be proposed
+local exlusive=3D"--append -a --increment -i --edit -e --release -r --newv=
ersion -v --fromdirname -d"
+
+local logheuristic=3D"looks for dupload or dput log file"
+local changelogheuristic=3D"searchs for UNRELEASED in changelog"
+local distribs=3D"unstable testing stable experimental UNRELEASED testing-=
security stable-security oldstable-security"
+
 _arguments \
-  '(-h --help)'{-h,--help}'[display help information]' \
-  '--version' \
-  '(--append -a --newversion -v --increment -i)'{-i,--increment}'[incremen=
t release or version number]' \
-  '(--append -a --newversion -v --increment -i)'{-a,--append}'[add new cha=
ngelog entry]' \
-  '(--append -a --newversion -v --increment -i)'{-v,--newversion}'[specify=
 new version number]:version:' \
-  '(--preserve -p)'{-p,--preserve}'[preserve source tree directory name]' \
-  ':text:'
+'--create[create new debian/changelog]' \
+'(--force-bad-version, -b)'{-b,--force-bad-version}'[allows version to be =
less than current one]' \
+'(--no-preserve --preserve -p)'{-p,--preserve}'[do preserve source tree di=
rectory name]' \
+'(--no-preserve --preserve -p)--no-preserve[do not preserve source tree di=
rectory name]' \
+'(--query)--noquery[do not contact BTS]' \
+'(--noquery)--query[do contact BTS]' \
+'(--multimaint)--nomultimaint[do not introduce multi-maintainer distinctio=
ns]' \
+'(--nomultimaint)--multimaint[do introduce multi-maintainer distinctions]'=
 \
+"($exlusive)"{-i,--increment}'[increment release or version number]' \
+"($exlusive)"{-a,--append}'[add new changelog entry]' \
+"($exlusive)"{-v,--newversion}'[specify new version number]:version:' \
+"($exlusive)"{-e,--edit}'[update timestamp, and start editor]' \
+"($exlusive)"{-r,--release}'[update timestamp. Possibly set distribution]'=
 \
+'(--closes --news)--closes[add entries to close bugs]:bugs closed:' \
+'(--changelog -c --closes -news)--news[edit newsfile]' \
+'(--changelog -c --news)'{-c,--changelog}'[edit changelog]:changelog file:=
_files' \
+'--release-heuristic[method to determine package release]:heuristic:((chan=
gelog\:$changelogheuristic log\:$logheuristic))' \
+'--check-dirname-level[how to check directory]:level:((0\:never 1\:default=
 2\:always))' \
+'--check-dirname-regex[regex for directory matching]:regexp:' \
+'--package[package name]:name:' \
+"($exlusive)"{-d,--fromdirname}'[get version from directory name]' \
+'(--distribution -D)'{--distribution,-D}"[use specified distribution]:dist=
ribution:($distribs)" \
+'(--urgency -u)'{--urgency,-u}'[specify urgency]:urgency:(low medium high =
critical emergency)' \
+'(--maintmaint -m)'{--maintmaint,-m}'[do not modify maintainer in changelo=
g]' \
+'(--no-conf --noconf)'{--no-conf,--noconf}'[do not read any configuration =
files]' \
+'(-h --help)'{-h,--help}'[display help information]' \
+'--version[display version and copyright]' \
+':text:( )'

--aVD9QWMuhilNxW9f
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: Digital signature
Content-Disposition: inline

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)

iD8DBQFFtyOriH9aBScBsrMRAjRtAKCD1DYcG2pf/LyohExgEljxSejWnACeNRQA
Pqly/e1OFvDv5Zcm5Llv2lE=
=4u0P
-----END PGP SIGNATURE-----

--aVD9QWMuhilNxW9f--

