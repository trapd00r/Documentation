From zsh-workers-request@euclid.skiles.gatech.edu  Sat Aug  3 01:33:41 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by coral.primenet.com.au (8.7.5/8.7.3) with ESMTP id BAA00524 for <mason@primenet.com.au>; Sat, 3 Aug 1996 01:33:38 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id LAA23089; Fri, 2 Aug 1996 11:22:18 -0400 (EDT)
Resent-Date: Fri, 2 Aug 1996 11:22:18 -0400 (EDT)
From: Bill Pemberton <wfp5p@tigger.itc.virginia.edu>
Message-Id: <199608021521.LAA79178@tigger.itc.Virginia.EDU>
Subject: Crashes in pre5
To: zsh-workers@math.gatech.edu
Date: Fri, 2 Aug 1996 11:21:03 -0400 (EDT)
X-Mailer: ELM [version 2.5 PL0a11]
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Resent-Message-ID: <"6WPfX1.0.he5.fqX0o"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/1893
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

I'm getting a lot of crashes in pre5.  They are always a segmentation fault
at line 930 in mem.c (inside zfree()):

930           mp->next = m;

In case the helps folks that are more familar with the code then I am,
here's the trace for two of them:

Segmentation fault in zfree at line 930 in file "mem.c"
  930           mp->next = m;
  (dbx) t
  zfree(p = 0x2002d338, sz = 160), line 930 in "mem.c"
  unnamed block $b140, line 707 in "hist.c"
  hend(), line 707 in "hist.c"
  init.loop(toplevel = 1), line 116 in "init.c"
  main(argc = 1, argv = 0x2ff226ec), line 74 in "init.c"


Segmentation fault in zfree at line 930 in file "mem.c"
  930           mp->next = m;
  (dbx) t
  zfree(p = 0x2002df24, sz = 0), line 930 in "mem.c"
  mem.free(p = 0x2002df24), line 955 in "mem.c"
  zleread(0x200251f0, 0x0), line 499 in "zle_main.c"
  inputline(), line 264 in "input.c"
  ingetc(), line 220 in "input.c"
  hgetc(), line 109 in "hist.c"
  gettok(), line 372 in "lex.c"
  lex.yylex(), line 182 in "lex.c"
  parse_event(), line 59 in "parse.c"
  init.loop(toplevel = 1), line 115 in "init.c"
  main(argc = 1, argv = 0x2ff226ec), line 74 in "init.c"
  
  

-- 
Bill Pemberton                           wfp5p@virginia.edu
ITC/Unix Systems                         flash@virginia.edu
University of Virginia                   uunet!virginia!wfp5p

