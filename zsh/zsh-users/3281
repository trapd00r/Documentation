From zsh-users-return-3281-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Jul 14 03:23:09 2000
Return-Path: <zsh-users-return-3281-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 21176 invoked from network); 14 Jul 2000 03:23:07 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 14 Jul 2000 03:23:07 -0000
Received: (qmail 11279 invoked by alias); 14 Jul 2000 03:21:32 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 3281
Received: (qmail 11272 invoked from network); 14 Jul 2000 03:21:27 -0000
From: Scott Smedley <scottie@yoyo.cc.monash.edu.au>
Message-Id: <200007140329.NAA32187@yoyo.cc.monash.edu.au>
Subject: strange behaviour of zcompile
To: zsh-users@sunsite.auc.dk
Date: Fri, 14 Jul 100 13:29:47 +1000 (EST)
X-Mailer: ELM [version 2.4 PL24 ME8b]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit

Hi, 

I'm having a small problem getting zcompile to only
load a function the 1st time it is called. It works fine
except when I do NOT output to STDOUT.

Here is a little excerpt from my shell which I hope illustrates
the problem:

burns% uname -a
Linux burns 2.2.12-20 #1 Mon Sep 27 10:40:35 EDT 1999 i686 unknown
burns% echo $ZSH_VERSION
3.1.9-dev-1
burns% cat > a
a () { echo "function a executed" }
print "function $0 initialised."
burns% cat > b
b () { echo "function b executed" }
burns% zcompile -z -U a
burns% zcompile -z -U b
burns% fpath=(. $fpath)
burns% autoload a b
burns% a
function a initialised.
burns% a
function a executed
burns% b
function b executed

function a is behaving as I expect it 2, but function b is
being rther troublesome.

Could someone give me a pointer?

Many thanks,

SCoTT! :)
---------------
scott@mobinfo.com.au

