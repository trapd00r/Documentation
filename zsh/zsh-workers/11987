From zsh-workers-return-11987-mason-zsh=primenet.com.au@sunsite.auc.dk Mon Jun 19 13:22:57 2000
Return-Path: <zsh-workers-return-11987-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 11202 invoked from network); 19 Jun 2000 13:22:55 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 19 Jun 2000 13:22:55 -0000
Received: (qmail 27866 invoked by alias); 19 Jun 2000 13:22:45 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 11987
Received: (qmail 27853 invoked from network); 19 Jun 2000 13:22:43 -0000
Date: Mon, 19 Jun 2000 15:22:41 +0200 (MET DST)
Message-Id: <200006191322.PAA31860@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: "Andrej Borsenkow"'s message of Mon, 19 Jun 2000 16:46:36 +0400
Subject: RE: PATCH: files and paths and...


Andrej Borsenkow wrote:

> >   zstyle '*:files' fake '/:cygdrive' '/cygdrive:a b c...'
> >
> > Does that work?
> 
> Yes, but I personally prefer combination of
> 
> mw1g017@MW1G17C:/usr/build/zsh/Test% zstyle '*:files' accept-exact
> '/cygdrive/?((#e)|/*)'
> mw1g017@MW1G17C:/usr/build/zsh/Test% zstyle '*:files' fake /:cygdrive
> 
> to avoid listing all drives (that is the whole sense of using /cygdrive
> at all - else I could just mount them). It means, that we may complete
> non-existent drive - but there is really nothing to do about it unless
> some way to list all drives exist.
> 
> BTW as I found out, Cygwin allows you to use
> 
> <DRIVE>:/path/to/file
> 
> and even
> 
> d:\path\to\file (assuming proper quoting on shell level)
> 
> as well. E.g. d:/temp is completely valid. Currently Zsh cannot complete
> it:

Of course, it can. We only need someone who writes it.

Hm. I guess it understands that everywhere, yes? Not only in words
starting with `?:/'. Otherwise someone could write something in _first 
to call `_files -W ...' if the current word starts with that.

If it understand this in `-foo=d:/...', then we need support in
_path_files, but that would be possible (stuff it into prepath, etc
etc...). But only when on cygwin, of course, probably only if the
style support-cygwin(-s-rotten-paths-urgh) is set.

> ls d:/tTAB gives nothing. Sigh ... but probably we should move this
> discussion to zsh-users (to find out, just how useful it is at all).

Yes. The other stuff might be useful elsewhere. I've no idea how many
(poor) people (are forced to) use cygwin?


Bye
 Sven


--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

