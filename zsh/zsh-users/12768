From zsh-users-return-12768-mason-zsh=primenet.com.au@sunsite.dk Thu Apr 10 02:57:16 2008
Return-Path: <zsh-users-return-12768-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 2645 invoked from network); 10 Apr 2008 02:57:13 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.4 (2008-01-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.4
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 10 Apr 2008 02:57:13 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 65860 invoked from network); 10 Apr 2008 02:56:52 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 10 Apr 2008 02:56:52 -0000
Received: (qmail 3523 invoked by alias); 10 Apr 2008 02:56:42 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 12768
Received: (qmail 3504 invoked from network); 10 Apr 2008 02:56:41 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 10 Apr 2008 02:56:41 -0000
Received: from wf-out-1314.google.com (wf-out-1314.google.com [209.85.200.171])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 26643802A5F0
	for <zsh-users@sunsite.dk>; Thu, 10 Apr 2008 04:56:36 +0200 (CEST)
Received: by wf-out-1314.google.com with SMTP id 25so3445732wfc.3
        for <zsh-users@sunsite.dk>; Wed, 09 Apr 2008 19:56:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:message-id:from:to:content-type:content-transfer-encoding:mime-version:subject:date:x-mailer;
        bh=FUaTGqC6TkX9iv8avFRRD5wtJBuHiXgIvjSnhC6RrGo=;
        b=MJg7+RPUT61LtSJeDkdBnATmCr6IOdLGWPqkS7F3TzNx78BAcRzFZltuRWSMwRPAOrjv6ydPWZUA51riH9CfhFBh+T93i1DjIxxQzZIz7NlZwQJ/8vWRZZAq/LmVDCZ2D3dQBVNyJrRnwO8VLs0pvrI6rizfCsxbst8+mkeXGAU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=message-id:from:to:content-type:content-transfer-encoding:mime-version:subject:date:x-mailer;
        b=F9Z9jOXpysDQ0TFE3F0l/+jwPVF2ozneVgeul92cujMfHdHeRALSgWt+m3ETOelaw+X+LtA8en67JfNNXXg55GkEVmjB+GYpY59RKg++87uVTNbQVvszzLiUF9d/XOr2+U4w0EwgSlPc0QHpA8mE1gQ4/07DVBuUi9PxDtSp01E=
Received: by 10.143.37.20 with SMTP id p20mr268570wfj.236.1207796195592;
        Wed, 09 Apr 2008 19:56:35 -0700 (PDT)
Received: from ?192.168.1.100? ( [24.19.134.239])
        by mx.google.com with ESMTPS id 9sm1773173wfc.16.2008.04.09.19.56.34
        (version=TLSv1/SSLv3 cipher=OTHER);
        Wed, 09 Apr 2008 19:56:34 -0700 (PDT)
Message-Id: <8BAD0AA6-3B6F-4946-B636-6C16B56A944E@gmail.com>
From: Alexy Khrabrov <deliverable@gmail.com>
To: zsh-users@sunsite.dk
Content-Type: text/plain; charset=US-ASCII; format=flowed; delsp=yes
Content-Transfer-Encoding: 7bit
Mime-Version: 1.0 (Apple Message framework v919.2)
Subject: iterating through a hierarchy with a filter
Date: Wed, 9 Apr 2008 19:56:33 -0700
X-Mailer: Apple Mail (2.919.2)
X-Virus-Scanned: ClamAV 0.91.2/6691/Thu Apr 10 04:17:15 2008 on bifrost
X-Virus-Status: Clean

Greetings -- I have a series of XML files scattered around a  
hierarchy.  I also have a filter script which reads stdin and writes  
stdout in a standard Unix way.

I need to create a mirror hierarchy where files are results of  
applying the filter to the originals, replacing the original  
extension, say .xml, with the result extension, say .txt.  Except for  
the extension change, the hierarchy should be preserved.

Ideally, my script would not know anything about this whole process,  
so I can take any filter and use it for my transforms.  The hierarchy  
for the transformed tree must be created anew so I can easily throw it  
away (i.e. we do not output the results next to the originals).  The  
original and result extensions should be provided as a parameter to  
the process.

Which zshfoo can I use for it above and beyond find with exec helper  
script?

Cheers,
Alexy

