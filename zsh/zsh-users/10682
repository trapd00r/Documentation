From zsh-users-return-10682-mason-zsh=primenet.com.au@sunsite.dk Tue Sep 05 18:31:48 2006
Return-Path: <zsh-users-return-10682-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 28581 invoked from network); 5 Sep 2006 18:31:45 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.4 (2006-07-25) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00,
	FORGED_RCVD_HELO autolearn=ham version=3.1.4
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 5 Sep 2006 18:31:45 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 45235 invoked from network); 5 Sep 2006 18:31:38 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 5 Sep 2006 18:31:38 -0000
Received: (qmail 18617 invoked by alias); 5 Sep 2006 18:31:29 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 10682
Received: (qmail 18606 invoked from network); 5 Sep 2006 18:31:28 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 5 Sep 2006 18:31:28 -0000
Received: (qmail 43890 invoked from network); 5 Sep 2006 18:31:28 -0000
Received: from shu.cs.utk.edu (160.36.56.39)
  by a.mx.sunsite.dk with SMTP; 5 Sep 2006 18:31:26 -0000
Received: from localhost (localhost [127.0.0.1])
	by shu.cs.utk.edu (Postfix) with ESMTP id CE14B56472
	for <zsh-users@sunsite.dk>; Tue,  5 Sep 2006 14:30:34 -0400 (EDT)
X-Virus-Scanned: by amavisd-new with ClamAV and SpamAssasin at cs.utk.edu
Received: from shu.cs.utk.edu ([127.0.0.1])
	by localhost (shu.cs.utk.edu [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id R-C4N3rwKwtb for <zsh-users@sunsite.dk>;
	Tue,  5 Sep 2006 14:30:30 -0400 (EDT)
Received: from cetus30.cs.utk.edu (cetus30.cs.utk.edu [160.36.56.112])
	by shu.cs.utk.edu (Postfix) with ESMTP id C82D85646A
	for <zsh-users@sunsite.dk>; Tue,  5 Sep 2006 14:30:30 -0400 (EDT)
Received: by cetus30.cs.utk.edu (Postfix, from userid 10605)
	id 2713A13B60; Tue,  5 Sep 2006 14:31:21 -0400 (EDT)
Date: Tue, 5 Sep 2006 14:31:20 -0400
From: Chris Johnson <cjohnson@cs.utk.edu>
To: zsh-users@sunsite.dk
Subject: Where PATH is set
Message-ID: <20060905183120.GA10848@cetus30.cs.utk.edu>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.5.9i

I have a political question I could use some help on.  My system
administrators currently set PATH in /etc/zshrc.  The assignment is
literal; no existing value is checked for.  They assign the exact same
thing to PATH in /etc/zshenv so that "ssh machine command" will work the
same way.

This setup forces me to similarly assign PATH twice, once in ~/.zshenv
and once in ~/.zshrc.  My changes to PATH in ~/.zshenv are overwritten
by the system's /etc/zshrc.  But I want PATH to contain the same
directories whether the shell is interactive or not.  So, I need to
assign to PATH again in ~/.zshrc.  I think this is a horrible setup, a
trap for inconsistencies just waiting to snare users, but the sysadmins
think its a non-issue.

Peter has some lines in the zsh Guide, section 2.5.10, about how zshenv
is the cleanest place to set environment variables, PATH included.  I've
pointed this out to my sysadmins, but they are looking for further
documentation and recommendation of this practice.  Does anyone have any
input that I could send their way?

I suppose you could disagree with me if you wanted to, but I won't
forward that along to them.

-- 
Chris Johnson
cjohnson@cs.utk.edu
http://www.cs.utk.edu/~cjohnson

