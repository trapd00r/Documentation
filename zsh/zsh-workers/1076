From joachimr@sco.COM Wed May 15 19:54:33 1996
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by melb.werple.net.au (8.7.5/8.7.3) with ESMTP id TAA23298 for <mason@werple.mira.net.au>; Wed, 15 May 1996 19:54:29 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id FAA01804; Wed, 15 May 1996 05:33:08 -0400 (EDT)
Resent-Date: Wed, 15 May 1996 05:33:08 -0400 (EDT)
From: Joachim Reith <joachimr@sco.COM>
To: zsh-workers@math.gatech.edu
Subject: RE: zsh-2.6-beta17 : compiling on SCO - results
Cc: pbray@ind.tansu.com.au
X-Mailer: ScoMail 3.0.Ca
MIME-Version: 1.0
Date: Wed, 15 May 1996 10:15:09 +0100 (MET)
Content-Type: text/plain; charset=iso-8859-1
Message-ID:  <9605151015.aa04982@tedesco.london.sco.com>
Resent-Message-ID: <"Plsti.0.6S.JJQcn"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/1076
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu
Content-Length: 2007
Status: O

Hello,

I have the same problem described by Peter, but
on sco3.2v5.0.2 (newer version).

./configure gives me

zsh configuration
-----------------
zsh version           : 2.6-beta17
host operating system : sco3.2v5.0.2
source code location  : .
compiler              : gcc
compiler flags        : -D__sco  -Wall -Wno-implicit -Wmissing-prototypes -O2
binary install path   : /usr/local/bin
man page install path : /usr/local/man
info install path     : /usr/local/info

the compilation runs until:

        gcc -c -I.. -I. -I.  -DHAVE_CONFIG_H -D__sco  -Wall -Wno-implicit -Wmiss
ing-prototypes -O2 builtin.c
In file included from zsh.h:35,
                 from builtin.c:32:
system.h:114: redefinition of `struct timezone'
*** Error code 1 (bu21)

If I comment out the struct timezone in system.h
(same as Peter):

tedesco@Src> diff system.h system.h-
113c113
< /* #ifdef __sco
---
> #ifdef __sco
117c117
< #endif */
---
> #endif


the compilation runs without any error.


P.S.: gcc --version  2.7-95q4
I don't have problems with 
CFLAGS   = -D__sco  -Wall -Wno-implicit -Wmissing-prototypes -O2



|>		SCO 3.2v4.2 (Pentium/EISA/1 CPU)
|>
|>	with ./configure --prefix=/opt/utils using gcc 2.7.2
|>
|>	The Sun based platforms as expected compile without problem,
|>but as is usual SCO is another matter.
|>
|>zsh configuration
|>-----------------
|>zsh version           : 2.6-beta17
|>host operating system : sco3.2v4.2
|>source code location  : .
|>compiler              : gcc
|>compiler flags        : -D__sco  -Wall -Wno-implicit -Wmissing-prototypes -O2
|>binary install path   : /opt/utils/bin
|>man page install path : /opt/utils/man
|>info install path     : /opt/utils/info
|>
|>Unfortunately this gives the following when compiling
|>
|>        gcc -c -I.. -I. -I.  -DHAVE_CONFIG_H -D__sco  -Wall -Wno-implicit -Wmissing-prototypes -O2 
builtin.c
|>In file included from zsh.h:35,
|>                 from builtin.c:32:
|>system.h:114: redefinition of `struct timezone'
|>
|> ... stuff deleted


