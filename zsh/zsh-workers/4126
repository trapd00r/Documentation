From zsh-workers-request@math.gatech.edu Tue Jun 16 05:24:31 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 21573 invoked from network); 16 Jun 1998 05:24:30 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 16 Jun 1998 05:24:30 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.8.5/8.8.5) id BAA24458;
	Tue, 16 Jun 1998 01:20:25 -0400 (EDT)
Resent-Date: Tue, 16 Jun 1998 01:20:25 -0400 (EDT)
From: "Bart Schaefer" <schaefer@brasslantern.com>
Message-Id: <980615222114.ZM7300@candle.brasslantern.com>
Date: Mon, 15 Jun 1998 22:21:14 -0700
In-Reply-To: <9806151635.AA39550@ibmth.df.unipi.it>
Comments: In reply to Peter Stephenson <pws@ibmth.df.unipi.it>
        "Re: 'remove slash' bug" (Jun 15,  6:35pm)
References: <9806151635.AA39550@ibmth.df.unipi.it>
X-Mailer: Z-Mail (5.0.0 30July97)
To: Peter Stephenson <pws@ibmth.df.unipi.it>, zsh-workers@math.gatech.edu
Subject: Re: 'remove slash' bug
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Resent-Message-ID: <"LFgbG.0.5-5.O2WXr"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/4126
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

On Jun 15,  6:35pm, Peter Stephenson wrote:
} Subject: Re: 'remove slash' bug
}
} "Bart Schaefer" wrote:
} > zsh% touch /tmp/foo
} > zsh% ls /tm/foo
} > 
} > Move the cursor to the 'm' and press TAB.  In both 3.0.5 and 3.1.4, this
} > produces "ls /tmp/foo " (note the trailing space).  In 3.1.4, typing any
} > further key other than self-insert deletes the trailing space.  3.0.5
} > leaves the space alone.
} 
} There is a quite deliberate test for this in the code at the moment,
} so somebody (Zefram?) thought it was a good idea.  What should happen?
} 
} 1 Present (3.1.4) behaviour
} 2 Space added, but left alone (not autoremovable)
}   (i) if the cursor had to be moved to the end of the word
}   (ii) even if the cursor was at the end of the word already
} 3 No space added if the cursor was previously not at the end of
} the line, i.e. you would get /tmp/foo with the cursor immediately
} after the foo.  In that case, another tab would add a space, although
} with the /usr/ example you would get completion inside the directory
} at that point (which you could with an autoremovable space, but less
} intuitively).  In this case any space added could still be
}   (i) autoremovable
}   (ii) not

I vote for (3i), if it's not hard to accomplish, simply because of being
able to get completion inside the directory.

As a general rule, I'd prefer that zsh didn't auto-remove anything it
didn't auto-insert in the first place, except possibly upon accept-line,
but that's probably hard to keep track of.

-- 
Bart Schaefer                                 Brass Lantern Enterprises
http://www.well.com/user/barts              http://www.brasslantern.com

