From zsh-workers-return-17193-mason-zsh=primenet.com.au@sunsite.dk Tue May 21 07:57:32 2002
Return-Path: <zsh-workers-return-17193-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 7955 invoked from network); 21 May 2002 07:57:31 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 21 May 2002 07:57:31 -0000
Received: (qmail 6418 invoked by alias); 21 May 2002 07:57:22 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 17193
Received: (qmail 6390 invoked from network); 21 May 2002 07:57:20 -0000
From: Sven Wischnowsky <wischnow@berkom.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15593.64972.591644.708433@wischnow.berkom.de>
Date: Tue, 21 May 2002 09:57:00 +0200
To: zsh-workers@sunsite.dk
Subject: PATCH: _init_d
X-Mailer: VM 6.95 under 21.5 (patch 3) "asparagus" XEmacs Lucid


Hi (busy today ;-)

A small fixlet for something I found myself. Completion after, e.g.
/etc/init.d/mysql completed mysql-stuff, not what I expected. That's
because _init_d used a post-pattern. I think the pattern is specific
enough to allow it to be a pre-pattern.

Bye
  Sven

Index: Completion/Unix/Command/_init_d
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/Unix/Command/_init_d,v
retrieving revision 1.3
diff -u -r1.3 _init_d
--- Completion/Unix/Command/_init_d	8 May 2002 09:18:13 -0000	1.3
+++ Completion/Unix/Command/_init_d	21 May 2002 07:56:53 -0000
@@ -1,6 +1,8 @@
-#compdef -P */(init|rc[0-9S]#).d/*
+#compdef -p */(init|rc[0-9S]#).d/*
 
 local magic cmds what script
+
+_compskip=all
 
 # This should probably be system specific...
 

-- 
Sven Wischnowsky                          wischnow@berkom.de

