From zsh-users-return-4463-mason-zsh=primenet.com.au@sunsite.dk Thu Nov 08 12:35:42 2001
Return-Path: <zsh-users-return-4463-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 6242 invoked from network); 8 Nov 2001 12:35:42 -0000
Received: from ns2.primenet.com.au (HELO primenet.com.au) (?GR+hEsEEMSWYMJerokq1ZcQN3lS+aTn6?@203.24.36.3)
  by ns1.primenet.com.au with SMTP; 8 Nov 2001 12:35:42 -0000
Received: (qmail 3388 invoked from network); 8 Nov 2001 12:35:34 -0000
Received: from sunsite.dk (130.225.247.90)
  by proxy.melb.primenet.com.au with SMTP; 8 Nov 2001 12:35:34 -0000
Received: (qmail 18170 invoked by alias); 8 Nov 2001 12:35:18 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4463
Received: (qmail 18157 invoked from network); 8 Nov 2001 12:35:17 -0000
Date: Thu, 8 Nov 2001 14:35:15 +0200
From: "Nadav Har'El" <nyh@math.technion.ac.il>
To: Dan Kenigsberg <danken@cs.technion.ac.il>
Cc: zsh-users@sunsite.dk
Subject: Re: newbie's question about completion
Message-ID: <20011108143515.A14099@leeor.math.technion.ac.il>
References: <20011108140606.A11857@leeor.math.technion.ac.il> <200111081225.OAA22487@csd.cs.technion.ac.il>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2i
In-Reply-To: <200111081225.OAA22487@csd.cs.technion.ac.il>; from danken@cs.technion.ac.il on Thu, Nov 08, 2001 at 02:25:36PM +0200
Hebrew-Date: 22 Heshvan 5762

On Thu, Nov 08, 2001, Dan Kenigsberg wrote about "Re: newbie's question about completion":
> This is SuSe 7.0 that has setopt recexact in its /etc/zshrc (arghhh).
> My problem had nothing to do with zsh versions..

I don't understand why distributions do this... Zsh has a set of defaults
and these are clearly explained in the manual; If a distribution overrides
this default, it leaves the user clueless why the behavior described in
the manual is not happening. And why do they think that their defaults
make more sense than the defaults decided upon by the zsh developers?

I recommend you send a bug report to SuSe and ask them to remove this
silly setting.

> Recently, I found a truer "bug" in SuSe's startup files: /etc/profile
> sets alias ls='eval /bin/ls $LS_OPTIONS'.
> Appart of the question whether it is sensible to expand $LS_OPTIONS every time
> you do ls, this distroys arguments with spaces. (confession: I do not fully
> understand why)

The "eval" indeed reparses the whole line and rebreaks it on spaces ($IFS,
actually)... What they probably meant to do was to only break LS_OPTIONS,
in which case they should do

	alias ls='\ls ${=LS_OPTIONS}'

(the ${=...} enables SH_WORD_SPLIT for this time only - see the zsh manual.
the \ls is used instead of /bin/ls to find ls wherever it is - not necessarily
/bin).

Of course, this solution works only in zsh, so it should be placed in
/etc/zprofile, not /etc/profile. Or use the solution you described which
works on any Bourne-like shell.

> (Nadav, it seems I'm following you everywhere..)

Don't you know that I subscribe to every mailing list in existance? :)

-- 
Nadav Har'El                        |   Thursday, Nov  8 2001, 22 Heshvan 5762
nyh@math.technion.ac.il             |-----------------------------------------
Phone: +972-53-245868, ICQ 13349191 |Despite the cost of living, have you
http://nadav.harel.org.il           |noticed how it remains so popular?

