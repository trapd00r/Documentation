From zsh-workers-return-24982-mason-zsh=primenet.com.au@sunsite.dk Fri May 09 12:51:37 2008
Return-Path: <zsh-workers-return-24982-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 21869 invoked from network); 9 May 2008 12:51:34 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.4 (2008-01-01) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.4
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 9 May 2008 12:51:34 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 39869 invoked from network); 9 May 2008 12:51:28 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 9 May 2008 12:51:28 -0000
Received: (qmail 8540 invoked by alias); 9 May 2008 12:51:24 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 24982
Received: (qmail 8527 invoked from network); 9 May 2008 12:51:24 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 9 May 2008 12:51:24 -0000
Received: from nf-out-0910.google.com (nf-out-0910.google.com [64.233.182.190])
	by bifrost.dotsrc.org (Postfix) with ESMTP id BB27980ED172
	for <zsh-workers@sunsite.dk>; Fri,  9 May 2008 14:51:20 +0200 (CEST)
Received: by nf-out-0910.google.com with SMTP id g13so605461nfb.11
        for <zsh-workers@sunsite.dk>; Fri, 09 May 2008 05:51:20 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        bh=SAAXa4tWS2KMuQnAB9ZYiKFXVCoWHojfUHmTlXR+ov4=;
        b=I00IhSNkySmb43QrVwmq3EDYySOdMOx2H1YY4O+n3RySqdJRH4G9Ew1war7QW1Bu2HZRtpEhxWeY9HzxA8SCfCPgz5PTHhIiu48s8JnOHct5KJgwcLL0HzCvIA+E4XSnxvRUTbRspIeSzYECrO8KRzE4wkQgay+0W0V3yW/9kCA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=message-id:date:from:to:subject:mime-version:content-type;
        b=MSLqSXnVPFt+7rASCU1fBItEVgjTsTAADGqrILJsSskNbIm6KlUx3XRQzY1pu5IU/2k20sc9DyKmOPLJR2yNHjp06eV3tAAZ9yR0cHSecEu5PPNPt8sT0awzNq/O968B/Y5YKAiDxQAshXN7G8FtRNKnmsPVkXNEp0Dewycpy0s=
Received: by 10.78.139.14 with SMTP id m14mr1211077hud.40.1210337480159;
        Fri, 09 May 2008 05:51:20 -0700 (PDT)
Received: by 10.78.69.9 with HTTP; Fri, 9 May 2008 05:51:20 -0700 (PDT)
Message-ID: <747dc8f30805090551j3d26f810ud868028403ab8d9f@mail.gmail.com>
Date: Fri, 9 May 2008 09:51:20 -0300
From: "Renato Botelho" <rbgarga@gmail.com>
To: zsh-workers@sunsite.dk
Subject: Completion damaging prompt
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_1128_7160897.1210337480155"
X-Virus-Scanned: ClamAV 0.91.2/7079/Fri May  9 13:10:35 2008 on bifrost
X-Virus-Status: Clean

------=_Part_1128_7160897.1210337480155
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hello,

I'm using zsh 4.3.6 at FreeBSD 7.0, and I noted a problem with prompt
in some cases,
following is an example

garga@botelhor:~> sudo su

root@botelhor:/home/garga#

root@botelhor:/home/garga# pkg<TAB>

When I press TAB, prompt's changed

root@botelhor:/home/gapkg
external command
pkg-config     pkg_add        pkg_delete     pkg_info       pkg_updating   pkgdb
pkg-orphan     pkg_create     pkg_fetch      pkg_sort       pkg_version
pkg-stash      pkg_deinstall  pkg_glob       pkg_tree       pkg_which
local directory
pkgs/

And if I clear the screen using ^L prompt changes to ~garga

root@botelhor:~garga#

Is it sound like a problem of zsh or maybe a configuration problem?
Attached is my zshrc

Thanks in advance
-- 
Renato Botelho

------=_Part_1128_7160897.1210337480155
Content-Type: application/octet-stream; name=zshrc
Content-Transfer-Encoding: base64
X-Attachment-Id: f_fg0ro2os0
Content-Disposition: attachment; filename=zshrc

IwojIC56c2hyYyAoIE904XZpbyBGZXJuYW5kZXMgKQojCgojCiMgQWxsb3cgb25lIGVycm9yIGZv
ciBldmVyeSB0aHJlZSBjaGFyYWN0ZXJzIHR5cGVkIGluIGFwcHJveGltYXRlIGNvbXBsZXRlcgoj
Cgp6c3R5bGUgLWUgJzpjb21wbGV0aW9uOio6YXBwcm94aW1hdGU6KicgbWF4LWVycm9ycyBcCgkn
cmVwbHk9KCAkKCggKCQjUFJFRklYKyQjU1VGRklYKS8zICkpIG51bWVyaWMgKScKICAgICAgICAK
IwojIEluc2VydCBhbGwgZXhwYW5zaW9ucyBmb3IgZXhwYW5kIGNvbXBsZXRlcgojCgp6c3R5bGUg
Jzpjb21wbGV0aW9uOio6ZXhwYW5kOionIHRhZy1vcmRlciBhbGwtZXhwYW5zaW9ucwoKIwojIEZv
cm1hdHRpbmcgYW5kIG1lc3NhZ2VzCiMKCnpzdHlsZSAnOmNvbXBsZXRpb246KicgdmVyYm9zZSB5
ZXMKenN0eWxlICc6Y29tcGxldGlvbjoqOmRlc2NyaXB0aW9ucycgZm9ybWF0ICclQiVkJWInCnpz
dHlsZSAnOmNvbXBsZXRpb246KjptZXNzYWdlcycgZm9ybWF0ICclZCcKenN0eWxlICc6Y29tcGxl
dGlvbjoqOndhcm5pbmdzJyBmb3JtYXQgJ05vIG1hdGNoZXMgZm9yOiAlZCcKenN0eWxlICc6Y29t
cGxldGlvbjoqOmNvcnJlY3Rpb25zJyBmb3JtYXQgJyVCJWQgKGVycm9yczogJWUpJWInCnpzdHls
ZSAnOmNvbXBsZXRpb246KicgZ3JvdXAtbmFtZSAnJwoKIyBtYXRjaCB1cHBlcmNhc2UgZnJvbSBs
b3dlcmNhc2UKenN0eWxlICc6Y29tcGxldGlvbjoqJyBtYXRjaGVyLWxpc3QgJ206eyMgYS16fT17
IyBBLVp9JwoKIyBvZmZlciBpbmRleGVzIGJlZm9yZSBwYXJhbWV0ZXJzIGluIHN1YnNjcmlwdHMK
enN0eWxlICc6Y29tcGxldGlvbjoqOio6LXN1YnNjcmlwdC06KicgdGFnLW9yZGVyIGluZGV4ZXMg
cGFyYW1ldGVycwoKIyAKIyBDb21tYW5kIGZvciBwcm9jZXNzIGxpc3RzLCB0aGUgbG9jYWwgd2Vi
IHNlcnZlciBkZXRhaWxzIGFuZCBob3N0IGNvbXBsZXRpb24KIwoKIyB6c3R5bGUgJzpjb21wbGV0
aW9uOio6cHJvY2Vzc2VzJyBjb21tYW5kICdwcyAtbyBwaWQscyxuaWNlLHN0aW1lLGFyZ3MnCiMg
enN0eWxlICc6Y29tcGxldGlvbjoqOnVybHMnIGxvY2FsICd3d3cnICcvdmFyL3d3dy9odGRvY3Mn
ICdwdWJsaWNfaHRtbCcKenN0eWxlICcqJyBob3N0cyAkaG9zdHMKCiMgRmlsZW5hbWUgc3VmZml4
ZXMgdG8gaWdub3JlIGR1cmluZyBjb21wbGV0aW9uIChleGNlcHQgYWZ0ZXIgcm0gY29tbWFuZCkK
enN0eWxlICc6Y29tcGxldGlvbjoqOio6KF5ybSk6KjoqZmlsZXMnIGlnbm9yZWQtcGF0dGVybnMg
Jyo/Lm8nICcqPy5jficgJyo/Lm9sZCcgJyo/LnBybycKIyB0aGUgc2FtZSBmb3Igb2xkIHN0eWxl
IGNvbXBsZXRpb24KI2ZpZ25vcmU9KC5vIC5jfiAub2xkIC5wcm8pCgojIGlnbm9yZSBjb21wbGV0
aW9uIGZ1bmN0aW9ucyAodW50aWwgdGhlIF9pZ25vcmVkIGNvbXBsZXRlcgojIHpzdHlsZSAnOmNv
bXBsZXRpb246KjpmdW5jdGlvbnMnICppZ25vcmVkLXBhdHRlcm5zKiAnICcKYXV0b2xvYWQgLVUg
Y29tcGluaXQKY29tcGluaXQKCkhJU1RGSUxFPX4vLmhpc3RmaWxlCkhJU1RTSVpFPTUwMDAKU0FW
RUhJU1Q9MTAwMAoKZXhwb3J0IExJU1RNQVg9MTAwMApleHBvcnQgRURJVE9SPXZpbQpleHBvcnQg
TlVMTEZTPTEKZXhwb3J0IEpBSUw9L3Zhci9qYWlsL2RhdGEKZXhwb3J0IEdQR19UVFk9YHR0eWAK
CiMKIyBWaSBNb2RlCiMKCmJpbmRrZXkgLXYKYmluZGtleSAtTSB2aWNtZCAiaiIgaGlzdG9yeS1z
ZWFyY2gtZm9yd2FyZApiaW5ka2V5IC1NIHZpY21kICJrIiBoaXN0b3J5LXNlYXJjaC1iYWNrd2Fy
ZApiaW5ka2V5ICJeW1tBIiBoaXN0b3J5LXNlYXJjaC1iYWNrd2FyZApiaW5ka2V5ICJeW1tCIiBo
aXN0b3J5LXNlYXJjaC1mb3J3YXJkCmJpbmRrZXkgLU0gdmlpbnMgIl5bW1MiIGluc2VydC1sYXN0
LXdvcmQKYmluZGtleSAtTSB2aWlucyAiXltbMTh+IiBpbnNlcnQtbGFzdC13b3JkCgojCiMgQWxp
YXNpbmcKIwoKYWxpYXMgbW9yZT0nbGVzcycKYWxpYXMgZnRwPSduY2Z0cCcKYWxpYXMgaj0nam9i
cyAtbCcKYWxpYXMgZmY9J2ZpbmQgLi8gLWluYW1lICQqJwphbGlhcyBwcz0ncHMgYXV4d3cnCmFs
aWFzIGw9J2xzIC1sRicKYWxpYXMgbHM9J2xzIC1GJwphbGlhcyB2aT0ndmltJyAKYWxpYXMgbC49
J2xzIC1kRiAuKicgCmFsaWFzIGd2aW09Ii91c3IvbG9jYWwvYmluL2d2aW0gLWdlb20gMTQ1eDYw
IC1mb250IFwiVGVybWludXMgN1wiIgphbGlhcyAuLi49J2NkIC4uLy4uJwphbGlhcyBzYnA9J3Nz
aCAtbCBicHVzZXIgJConCmFsaWFzIHNnbj0nc3NoIC1sIGdudXNlciAkKicKCmFsaWFzIGRjdnM9
J2VudiBDVlNfUlNIPXNzaCBjdnMgLWQgZ2FyZ2FAZGN2cy5GcmVlQlNELm9yZzovaG9tZS9kY3Zz
JwphbGlhcyBwY3ZzPSdlbnYgQ1ZTX1JTSD1zc2ggY3ZzIC1kIGdhcmdhQHBjdnMuRnJlZUJTRC5v
cmc6L2hvbWUvcGN2cycKYWxpYXMgcHJvamN2cz0nZW52IENWU19SU0g9c3NoIGN2cyAtZCBnYXJn
YUBwcm9qY3ZzLkZyZWVCU0Qub3JnOi9ob21lL3Byb2pjdnMnCmFsaWFzIHNjdnM9J2VudiBDVlNf
UlNIPXNzaCBjdnMgLWQgZ2FyZ2FAbmN2cy5GcmVlQlNELm9yZzovaG9tZS9uY3ZzJwphbGlhcyBi
cGN2cz0nQ1ZTX1JTSD1zc2ggJiYgY3ZzIC1kIGdhcmdhQGN2czovc2hhcmUvY3ZzL0JsdWVQZXgn
CgppZiBbICIkTE9HTkFNRSIgPSAicm9vdCIgXTsgdGhlbgoJYWxpYXMgbXV0dD0nL3Vzci9iaW4v
ZW52IExDX0FMTD1lbl9VUy5JU084ODU5LTEgbXV0dCAteScKZWxzZQoJYWxpYXMgbXV0dD0nL3Vz
ci9iaW4vZW52IExDX0FMTD1lbl9VUy5JU084ODU5LTEgbXV0dCcKZmkKCiMKIyBTaGVsbCBmdW5j
dGlvbnMKIwoKc2V0ZW52KCkgeyB0eXBlc2V0IC14ICIkezF9JHsxOis9fSR7KEApYXJndlsyLCQj
XX0iIH0gICMgY3NoIGNvbXBhdGliaWxpdHkKZnJlbG9hZCgpIHsgd2hpbGUgKCggJCMgKSk7IGRv
OyB1bmZ1bmN0aW9uICQxOyBhdXRvbG9hZCAtVSAkMTsgc2hpZnQ7IGRvbmUgfQoKIwojIENvbW1h
bmQgUHJvbXB0CiMKClBST01QVD0nJW5AJUIlbSViOiV+JSgjLiMuPikgJwoKIwojIENvbXBsZXRp
b24gb3B0aW9ucwojCgpzZXRvcHQgICBub3RpZnkgZ2xvYmRvdHMgcHVzaGR0b2hvbWUgY2RhYmxl
dmFycyBhdXRvbGlzdApzZXRvcHQgICBhdXRvY2QgcmVjZXhhY3QgbG9uZ2xpc3Rqb2JzIE5PX0JF
RVAKc2V0b3B0ICAgYXV0b3Jlc3VtZSBoaXN0aWdub3JlZHVwcyBwdXNoZHNpbGVudCBub2Nsb2Ji
ZXIKc2V0b3B0ICAgYXV0b3B1c2hkIHB1c2hkbWludXMgZXh0ZW5kZWRnbG9iIHJjcXVvdGVzIG1h
aWx3YXJuaW5nCnVuc2V0b3B0IGJnbmljZSBhdXRvcGFyYW1zbGFzaCBsaXN0YW1iaWd1b3VzCgoj
CiMgQ2hhbmdpbmcgWFRlcm0gVGl0bGUKIwoKY2FzZSAkVEVSTSBpbgoJeHRlcm0qKQoJCXByZWNt
ZCAoKSB7IHByaW50IC1QbiAiXGVdMDslbkAlbTogJX5cYSJ9CgkJOzsKZXNhYwoKIwojIGJzZCBn
YW1lcwojCgpbIC14IC91c3IvZ2FtZXMvZm9ydHVuZSBdICYmIFwKCS91c3IvZ2FtZXMvZm9ydHVu
ZSAtcyAmJiBcCgllY2hvICIiCg==
------=_Part_1128_7160897.1210337480155--

