From zsh-users-return-4981-mason-zsh=primenet.com.au@sunsite.dk Wed May 22 19:27:47 2002
Return-Path: <zsh-users-return-4981-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18983 invoked from network); 22 May 2002 19:27:46 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 22 May 2002 19:27:46 -0000
Received: (qmail 7534 invoked by alias); 22 May 2002 19:27:22 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4981
Received: (qmail 7520 invoked from network); 22 May 2002 19:27:21 -0000
Message-ID: <20020522192718.31898.qmail@web20306.mail.yahoo.com>
Date: Wed, 22 May 2002 12:27:18 -0700 (PDT)
From: Jukka Lehti <jukkalehti@yahoo.com>
Subject: make completion on OpenBSD
To: zsh-users@sunsite.auc.dk
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Hi,

I've been using following in my ~/.zshrc to get make
completion right:

compctl -s "\$(awk '/^[a-zA-Z0-9][^\/ \t]+:/ {print
\$1}' FS=: [mM]akefile)" -x 'c[-1,-f]' -f --
{,g,gnu,p,v}make

And this works just fine on Linuxes (RedHat, Debian).
However, after I installed OpenBSD 3.1 and zsh-4.0.4,
the above behaves strangely:

root@bsd:~>make <TAB>awk: i/o error occurred while
closing /dev/stdin
 input record number 538, file Makefile
 source line number 1
p
dep dep-files depend
root@bsd:~>make dep

Makefile is the top-level Makefile from linux-2.4.18.

Any suggestions?

Thanks.

__________________________________________________
Do You Yahoo!?
LAUNCH - Your Yahoo! Music Experience
http://launch.yahoo.com

