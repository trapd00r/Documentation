<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>input-selector</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.76.1">
<link rel="home" href="index.html" title="GStreamer Core Plugins 0.10 Plugins Reference Manual">
<link rel="up" href="ch01.html" title="gstreamer Elements">
<link rel="prev" href="gstreamer-plugins-identity.html" title="identity">
<link rel="next" href="gstreamer-plugins-multiqueue.html" title="multiqueue">
<meta name="generator" content="GTK-Doc V1.18 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="gstreamer-plugins-identity.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="ch01.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">GStreamer Core Plugins 0.10 Plugins Reference Manual</th>
<td><a accesskey="n" href="gstreamer-plugins-multiqueue.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts">
<a href="#gstreamer-plugins-input-selector.synopsis" class="shortcut">Top</a>
                   | 
                  <a href="#gstreamer-plugins-input-selector.description" class="shortcut">Description</a>
                   | 
                  <a href="#gstreamer-plugins-input-selector.object-hierarchy" class="shortcut">Object Hierarchy</a>
                   | 
                  <a href="#gstreamer-plugins-input-selector.properties" class="shortcut">Properties</a>
                   | 
                  <a href="#gstreamer-plugins-input-selector.signals" class="shortcut">Signals</a>
</td></tr>
</table>
<div class="refentry">
<a name="gstreamer-plugins-input-selector"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="gstreamer-plugins-input-selector.top_of_page"></a>input-selector</span></h2>
<p>input-selector — N-to-1 input stream selector</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<a name="gstreamer-plugins-input-selector.synopsis"></a><h2>Synopsis</h2>
<a name="GstInputSelector"></a><pre class="synopsis">struct              <a class="link" href="gstreamer-plugins-input-selector.html#GstInputSelector-struct" title="struct GstInputSelector">GstInputSelector</a>;
</pre>
</div>
<div class="refsect1">
<a name="gstreamer-plugins-input-selector.object-hierarchy"></a><h2>Object Hierarchy</h2>
<pre class="synopsis">
  GObject
   +----<a href="../gstreamer-0.10/GstObject.html">GstObject</a>
         +----<a href="../gstreamer-0.10/GstElement.html">GstElement</a>
               +----GstInputSelector
</pre>
</div>
<div class="refsect1">
<a name="gstreamer-plugins-input-selector.properties"></a><h2>Properties</h2>
<pre class="synopsis">
  "<a class="link" href="gstreamer-plugins-input-selector.html#GstInputSelector--active-pad" title='The "active-pad" property'>active-pad</a>"               <a href="../gstreamer-0.10/GstPad.html"><span class="type">GstPad</span></a>*               : Read / Write
  "<a class="link" href="gstreamer-plugins-input-selector.html#GstInputSelector--n-pads" title='The "n-pads" property'>n-pads</a>"                   <span class="type">guint</span>                 : Read
  "<a class="link" href="gstreamer-plugins-input-selector.html#GstInputSelector--select-all" title='The "select-all" property'>select-all</a>"               <span class="type">gboolean</span>              : Read / Write
  "<a class="link" href="gstreamer-plugins-input-selector.html#GstInputSelector--sync-streams" title='The "sync-streams" property'>sync-streams</a>"             <span class="type">gboolean</span>              : Read / Write
</pre>
</div>
<div class="refsect1">
<a name="gstreamer-plugins-input-selector.signals"></a><h2>Signals</h2>
<pre class="synopsis">
  "<a class="link" href="gstreamer-plugins-input-selector.html#GstInputSelector-block" title='The "block" signal'>block</a>"                                          : <code class="literal">Action</code>
  "<a class="link" href="gstreamer-plugins-input-selector.html#GstInputSelector-switch" title='The "switch" signal'>switch</a>"                                         : <code class="literal">Run Last</code>
</pre>
</div>
<div class="refsect1">
<a name="gstreamer-plugins-input-selector.description"></a><h2>Description</h2>
<p>
Direct one out of N input streams to the output pad.
</p>
<p>
The input pads are from a GstPad subclass and have additional
properties, which users may find useful, namely:
</p>
<p>
</p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
"running-time": Running time of stream on pad (<span class="type">gint64</span>)
</li>
<li class="listitem">
"tags": The currently active tags on the pad (<a href="../gstreamer-0.10/gstreamer-GstTagList.html#GstTagList"><span class="type">GstTagList</span></a>, boxed type)
</li>
<li class="listitem">
"active": If the pad is currently active (<span class="type">gboolean</span>)
</li>
<li class="listitem">
"always-ok" : Make an inactive pads return <a href="../gstreamer-0.10/GstPad.html#GST-FLOW-OK:CAPS"><span class="type">GST_FLOW_OK</span></a> instead of
<a href="../gstreamer-0.10/GstPad.html#GST-FLOW-NOT-LINKED:CAPS"><span class="type">GST_FLOW_NOT_LINKED</span></a>
</li>
</ul></div>
<p>
</p>
<div class="refsynopsisdiv">
<h2>Synopsis</h2>
<div class="refsect2">
<a name="idp7904896"></a><h3>Element Information</h3>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term">plugin</span></p></td>
<td>
            <a class="link" href="gstreamer-plugins-plugin-coreelements.html#plugin-coreelements">coreelements</a>
          </td>
</tr>
<tr>
<td><p><span class="term">author</span></p></td>
<td>Julien Moutte &lt;julien@moutte.net&gt;, Jan Schmidt &lt;thaytan@mad.scientist.com&gt;, Wim Taymans &lt;wim.taymans@gmail.com&gt;</td>
</tr>
<tr>
<td><p><span class="term">class</span></p></td>
<td>Generic</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="idp10112816"></a><h3>Element Pads</h3>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term">name</span></p></td>
<td>sink%d</td>
</tr>
<tr>
<td><p><span class="term">direction</span></p></td>
<td>sink</td>
</tr>
<tr>
<td><p><span class="term">presence</span></p></td>
<td>request</td>
</tr>
<tr>
<td><p><span class="term">details</span></p></td>
<td>ANY</td>
</tr>
</tbody>
</table></div>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term">name</span></p></td>
<td>src</td>
</tr>
<tr>
<td><p><span class="term">direction</span></p></td>
<td>source</td>
</tr>
<tr>
<td><p><span class="term">presence</span></p></td>
<td>always</td>
</tr>
<tr>
<td><p><span class="term">details</span></p></td>
<td>ANY</td>
</tr>
</tbody>
</table></div>
</div>
</div>
<p>
</p>
</div>
<div class="refsect1">
<a name="gstreamer-plugins-input-selector.details"></a><h2>Details</h2>
<div class="refsect2">
<a name="GstInputSelector-struct"></a><h3>struct GstInputSelector</h3>
<pre class="programlisting">struct GstInputSelector;</pre>
<p>
</p>
</div>
</div>
<div class="refsect1">
<a name="gstreamer-plugins-input-selector.property-details"></a><h2>Property Details</h2>
<div class="refsect2">
<a name="GstInputSelector--active-pad"></a><h3>The <code class="literal">"active-pad"</code> property</h3>
<pre class="programlisting">  "active-pad"               <a href="../gstreamer-0.10/GstPad.html"><span class="type">GstPad</span></a>*               : Read / Write</pre>
<p>The currently active sink pad.</p>
</div>
<hr>
<div class="refsect2">
<a name="GstInputSelector--n-pads"></a><h3>The <code class="literal">"n-pads"</code> property</h3>
<pre class="programlisting">  "n-pads"                   <span class="type">guint</span>                 : Read</pre>
<p>The number of sink pads.</p>
<p>Default value: 0</p>
</div>
<hr>
<div class="refsect2">
<a name="GstInputSelector--select-all"></a><h3>The <code class="literal">"select-all"</code> property</h3>
<pre class="programlisting">  "select-all"               <span class="type">gboolean</span>              : Read / Write</pre>
<p>Forwards data from all input pads.</p>
<p>Default value: FALSE</p>
</div>
<hr>
<div class="refsect2">
<a name="GstInputSelector--sync-streams"></a><h3>The <code class="literal">"sync-streams"</code> property</h3>
<pre class="programlisting">  "sync-streams"             <span class="type">gboolean</span>              : Read / Write</pre>
<p>
If set to <code class="literal">TRUE</code> all inactive streams will be synced to the
running time of the active stream. This makes sure that no
buffers are dropped by input-selector that might be needed
when switching the active pad.
</p>
<p>Default value: FALSE</p>
<p class="since">Since 0.10.36</p>
</div>
</div>
<div class="refsect1">
<a name="gstreamer-plugins-input-selector.signal-details"></a><h2>Signal Details</h2>
<div class="refsect2">
<a name="GstInputSelector-block"></a><h3>The <code class="literal">"block"</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">gint64</span>              user_function                      (<a class="link" href="gstreamer-plugins-input-selector.html#GstInputSelector"><span class="type">GstInputSelector</span></a> *inputselector,
                                                        <span class="type">gpointer</span>          user_data)          : <code class="literal">Action</code></pre>
<p>
Block all sink pads in preparation for a switch. Returns the stop time of
the current switch segment, as a running time, or 0 if there is no current
active pad or the current active pad never received data.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>inputselector</code></em> :</span></p></td>
<td>the <a class="link" href="gstreamer-plugins-input-selector.html#GstInputSelector"><span class="type">GstInputSelector</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td>user data set when the signal handler was connected.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="GstInputSelector-switch"></a><h3>The <code class="literal">"switch"</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                user_function                      (<a class="link" href="gstreamer-plugins-input-selector.html#GstInputSelector"><span class="type">GstInputSelector</span></a> *inputselector,
                                                        <a href="../gstreamer-0.10/GstPad.html"><span class="type">GstPad</span></a>           *pad,
                                                        <span class="type">gint64</span>            stop_time,
                                                        <span class="type">gint64</span>            start_time,
                                                        <span class="type">gpointer</span>          user_data)          : <code class="literal">Run Last</code></pre>
<p>
Switch to a new feed. The segment opened by the previously active pad, if
any, will be closed, and a new segment opened before data flows again.
</p>
<p>
This signal must be emitted when the element has been blocked via the <a class="link" href="gstreamer-plugins-input-selector.html#GstInputSelector-block" title='The "block" signal'>block</a> signal.
</p>
<p>
If you have a stream with only one switch element, such as an audio-only
stream, a stream switch should be performed by first emitting the block
signal, and then emitting the switch signal with -1 for the stop and start
time values.
</p>
<p>
The intention of the <em class="parameter"><code>stop_time</code></em> and <em class="parameter"><code>start_time</code></em> arguments is to allow
multiple switch elements to switch and maintain stream synchronization.
When switching a stream with multiple feeds, you will need as many switch
elements as you have feeds. For example, a feed with audio and video will
have one switch element between the audio feeds and one for video.
</p>
<p>
A switch over multiple switch elements should be performed as follows:
First, emit the <a class="link" href="gstreamer-plugins-input-selector.html#GstInputSelector-block" title='The "block" signal'>block</a>
signal, collecting the returned values. The maximum running time returned
by block should then be used as the time at which to close the previous
segment.
</p>
<p>
Then, query the running times of the new audio and video pads that you will
switch to. Naturally, these pads are on separate switch elements. Take the
minimum running time for those streams and use it for the time at which to
open the new segment.
</p>
<p>
If <em class="parameter"><code>pad</code></em> is the same as the current active pad, the element will cancel any
previous block without adjusting segments.
</p>
<p>
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Note</h3>
<p>
the signal changed from accepting the pad name to the pad object.
</p>
</div>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>inputselector</code></em> :</span></p></td>
<td>the <a class="link" href="gstreamer-plugins-input-selector.html#GstInputSelector"><span class="type">GstInputSelector</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>pad</code></em> :</span></p></td>
<td>the pad to switch to</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>stop_time</code></em> :</span></p></td>
<td>running time at which to close the previous segment, or -1
to use the running time of the previously active sink pad</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>start_time</code></em> :</span></p></td>
<td>running time at which to start the new segment, or -1 to
use the running time of the newly active sink pad</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td>user data set when the signal handler was connected.</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.10.7</p>
</div>
</div>
<div class="refsect1">
<a name="gstreamer-plugins-input-selector.see-also"></a><h2>See Also</h2>
<a class="link" href="gstreamer-plugins-output-selector.html#GstOutputSelector"><span class="type">GstOutputSelector</span></a>
</div>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.18</div>
</body>
</html>