From zsh-workers-return-26922-mason-zsh=primenet.com.au@sunsite.dk Mon May 04 08:12:27 2009
Return-Path: <zsh-workers-return-26922-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 12130 invoked from network); 4 May 2009 08:12:24 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 4 May 2009 08:12:24 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 3161 invoked from network); 4 May 2009 08:11:59 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 4 May 2009 08:11:59 -0000
Received: (qmail 10020 invoked by alias); 4 May 2009 08:11:16 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 26922
Received: (qmail 9966 invoked from network); 4 May 2009 08:11:13 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 4 May 2009 08:11:13 -0000
Received: from clegg.madduck.net (clegg.madduck.net [193.242.105.96])
	by bifrost.dotsrc.org (Postfix) with ESMTPS id 3EA5A80590A3
	for <zsh-workers@sunsite.dk>; Mon,  4 May 2009 10:09:35 +0200 (CEST)
Received: from piper.oerlikon.madduck.net (84-75-157-73.dclient.hispeed.ch [84.75.157.73])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client CN "piper.oerlikon.madduck.net", Issuer "CAcert Class 3 Root" (verified OK))
	by clegg.madduck.net (postfix) with ESMTPS id 6C9FB1D40A0;
	Mon,  4 May 2009 10:11:01 +0200 (CEST)
Received: by piper.oerlikon.madduck.net (Postfix, from userid 1000)
	id CEE66B1900; Mon,  4 May 2009 10:10:30 +0200 (CEST)
From: "martin f. krafft" <madduck@madduck.net>
To: zsh-workers@sunsite.dk
Cc: penny@mjollnir.org, "martin f. krafft" <madduck@madduck.net>
Subject: [PATCH] Add basic completion for xmms2 add/radd/addpls
Date: Mon,  4 May 2009 10:10:30 +0200
Message-Id: <1241424630-24454-2-git-send-email-madduck@madduck.net>
X-Mailer: git-send-email 1.6.2.4
In-Reply-To: <1241424630-24454-1-git-send-email-madduck@madduck.net>
References: <1241424630-24454-1-git-send-email-madduck@madduck.net>
X-Virus-Scanned: ClamAV 0.94.2/9321/Mon May  4 00:33:47 2009 on clegg.madduck.net
X-Virus-Scanned: ClamAV 0.92.1/9321/Mon May  4 00:33:47 2009 on bifrost
X-Virus-Status: Clean

This just adds basic completion functions to the xmms2 completion
widgets:

  add        files
  radd       directories
  addpls     files matching *.(pls|m3u) (case-insenitive)

Signed-off-by: martin f. krafft <madduck@madduck.net>
---
 Completion/Unix/Command/_xmms2 |   14 ++++++++++++++
 1 files changed, 14 insertions(+), 0 deletions(-)

diff --git a/Completion/Unix/Command/_xmms2 b/Completion/Unix/Command/_xmms2
index f132ada..d25802e 100644
--- a/Completion/Unix/Command/_xmms2
+++ b/Completion/Unix/Command/_xmms2
@@ -190,6 +190,20 @@ _xmms2_coll_attr() {
     _xmms2_coll_helper
 }
 
+_xmms2_add() {
+  _files
+}
+
+_xmms2_radd() {
+  _dirs
+}
+
+_xmms2_addpls() {
+  local expl
+  _description files expl 'playlist'
+  _files "$expl[@]" -g '*.([mM]3[uU]|[pP][lL][sS])'
+}
+
 _xmms2() {
 _arguments \
     '--format[specify the format of song display]:format string' \
-- 
1.6.2.4

