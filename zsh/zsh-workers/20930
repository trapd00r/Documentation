From zsh-workers-return-20930-mason-zsh=primenet.com.au@sunsite.dk Sat Mar 05 07:56:24 2005
Return-Path: <zsh-workers-return-20930-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 1877 invoked from network); 5 Mar 2005 07:56:23 -0000
Received: from ns2.primenet.com.au (HELO primenet.com.au) (?wnr/YZN37jZlSmnYg22VJ+Idq5Sd7Ow4?@203.24.36.3)
  by ns1.primenet.com.au with (DHE-RSA-AES256-SHA encrypted) SMTP; 5 Mar 2005 07:56:23 -0000
Received: (qmail 379 invoked from network); 5 Mar 2005 05:13:27 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by proxy.melb.primenet.com.au with SMTP; 5 Mar 2005 05:13:27 -0000
Received: (qmail 96244 invoked from network); 5 Mar 2005 04:52:20 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 5 Mar 2005 04:52:20 -0000
Received: (qmail 3763 invoked by alias); 5 Mar 2005 04:52:17 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 20930
Received: (qmail 3749 invoked from network); 5 Mar 2005 04:52:16 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 5 Mar 2005 04:52:16 -0000
Received: (qmail 95968 invoked from network); 5 Mar 2005 04:52:16 -0000
Received: from master.altlinux.ru (62.118.250.235)
  by a.mx.sunsite.dk with SMTP; 5 Mar 2005 04:52:11 -0000
Received: from solemn.turbinal.org (localhost.localdomain [127.0.0.1])
	by master.altlinux.ru (Postfix) with ESMTP id 72339E4921
	for <zsh-workers@sunsite.dk>; Sat,  5 Mar 2005 07:52:08 +0300 (MSK)
Received: by solemn.turbinal.org (Postfix, from userid 500)
	id CB3CAA11DE; Sat,  5 Mar 2005 07:51:17 +0300 (MSK)
Date: Sat, 5 Mar 2005 07:51:17 +0300
From: Alexey Tourbin <at@altlinux.ru>
To: zsh-workers@sunsite.dk
Subject: Fwd: why does zsh hate Perl, or vice versa?
Message-ID: <20050305045117.GJ16875@solemn.turbinal.org>
Mail-Followup-To: zsh-workers@sunsite.dk
Mime-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-sha1;
	protocol="application/pgp-signature"; boundary="YPJ8CVbwFUtL7OFW"
Content-Disposition: inline
X-Spam-Checker-Version: SpamAssassin 3.0.2 on a.mx.sunsite.dk
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=6.0 tests=BAYES_00 autolearn=ham 
	version=3.0.2
X-Spam-Hits: -2.6


--YPJ8CVbwFUtL7OFW
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

JFYI

----- Forwarded message from "Randal L. Schwartz" <merlyn@stonehenge.com> -=
----

Date: 19 Feb 2005 09:43:50 -0800
From: merlyn@stonehenge.com (Randal L. Schwartz)
Subject: why does zsh hate Perl, or vice versa?
To: perl5-porters@perl.org
Message-ID: <861xbc30o9.fsf@blue.stonehenge.com>
User-Agent: Gnus/5.09 (Gnus v5.9.0) Emacs/21.3


system("zsh") fires up a child zsh just fine.  But when
the zsh exits, the Perl process is suspended!

Repeat by:

prompt$ perl
print "one: "; <STDIN>;
system "zsh";
print "two: "; <STDIN>;
^D
one: foo                <<<=3D=3D=3D I typed "foo"
subprompt$ date         <<<=3D=3D=3D this is the subshell
Sat Feb 19 09:39:19 PST 2005
subprompt$ exit
two: zsh: suspended (tty input)  perl
prompt$ fg              <<<=3D=3D=3D note we came back to outer shell promp=
t!
[1]  + continued  perl
bar                     <<<=3D=3D=3D note the print worked, wasn't hung unt=
il read
prompt$

Is it a problem with zsh, or system(), or some complex interaction?

--=20
Randal L. Schwartz - Stonehenge Consulting Services, Inc. - +1 503 777 0095
<merlyn@stonehenge.com> <URL:http://www.stonehenge.com/merlyn/>
Perl/Unix/security consulting, Technical writing, Comedy, etc. etc.
See PerlTraining.Stonehenge.com for onsite and open-enrollment Perl trainin=
g!

----- End forwarded message -----
----- Forwarded message from Rick Delaney <rick@bort.ca> -----

Date: Sat, 19 Feb 2005 15:48:18 -0500
From: Rick Delaney <rick@bort.ca>
Subject: Re: why does zsh hate Perl, or vice versa?
To: "Randal L. Schwartz" <merlyn@stonehenge.com>
Cc: perl5-porters@perl.org
Message-ID: <20050219204818.GA11928@biff.bort.ca>
User-Agent: Mutt/1.3.28i

On Sat, Feb 19, 2005 at 09:43:50AM -0800, Randal L. Schwartz wrote:
>=20
> system("zsh") fires up a child zsh just fine.  But when
> the zsh exits, the Perl process is suspended!
>=20
> Repeat by:
>=20
> prompt$ perl
> print "one: "; <STDIN>;
> system "zsh";
> print "two: "; <STDIN>;
> ^D
> one: foo                <<<=3D=3D=3D I typed "foo"
> subprompt$ date         <<<=3D=3D=3D this is the subshell
> Sat Feb 19 09:39:19 PST 2005
> subprompt$ exit
> two: zsh: suspended (tty input)  perl
> prompt$ fg              <<<=3D=3D=3D note we came back to outer shell pro=
mpt!
> [1]  + continued  perl
> bar                     <<<=3D=3D=3D note the print worked, wasn't hung u=
ntil read
> prompt$
>=20
> Is it a problem with zsh, or system(), or some complex interaction?

Probably zsh; I don't see that.  Does the same thing happen for you from
a shell script?  What does setopt show?

--=20
Rick Delaney
rick@bort.ca

----- End forwarded message -----
----- Forwarded message from Garry Williams <garry@zvolve.com> -----

Date: Sat, 19 Feb 2005 16:20:21 -0500
From: Garry Williams <garry@zvolve.com>
Subject: Re: why does zsh hate Perl, or vice versa?
To: Rick Delaney <rick@bort.ca>
Cc: "Randal L. Schwartz" <merlyn@stonehenge.com>,
	perl5-porters@perl.org
Message-Id: <1108848021.27563.8.camel@tfr>
Organization: Zvolve Systems, Inc.
X-Mailer: Evolution 2.0.1-1mdk=20

On Sat, 2005-02-19 at 15:48 -0500, Rick Delaney wrote:
> On Sat, Feb 19, 2005 at 09:43:50AM -0800, Randal L. Schwartz wrote:

[snip]

> > Is it a problem with zsh, or system(), or some complex interaction?
>=20
> Probably zsh; I don't see that.  Does the same thing happen for you from
> a shell script?  What does setopt show?

I can't reproduce this with zsh 4.2.0 on Mandrake 10.1 (perl v5.8.5
built for i386-linux-thread-multi) or zsh 3.1.9 on Solaris 8 (perl
v5.8.6 built for sun4-solaris).

--=20
Garry Williams, Zvolve Systems, Inc., +1 770 813-4934
                                Cell: +1 404 353-2983

----- End forwarded message -----
----- Forwarded message from Yuval Kogman <nothingmuch@woobling.org> -----

Date: Sun, 20 Feb 2005 01:54:02 +0200
From: Yuval Kogman <nothingmuch@woobling.org>
Subject: Re: why does zsh hate Perl, or vice versa?
To: Garry Williams <garry@zvolve.com>
Cc: Rick Delaney <rick@bort.ca>,
	"Randal L. Schwartz" <merlyn@stonehenge.com>, perl5-porters@perl.org
Message-ID: <20050219235402.GB32140@woobling.org>
User-Agent: Mutt/1.5.6i

On Sat, Feb 19, 2005 at 16:20:21 -0500, Garry Williams wrote:

> I can't reproduce this with zsh 4.2.0 on Mandrake 10.1 (perl v5.8.5
> built for i386-linux-thread-multi) or zsh 3.1.9 on Solaris 8 (perl
> v5.8.6 built for sun4-solaris).

I can reproduce it on macosx with bleadperl and zsh --version eq
"zsh 4.1.1 (powerpc-apple-darwin7.0)".

--=20
 ()  Yuval Kogman <nothingmuch@woobling.org> 0xEBD27418  perl hacker &
 /\  kung foo master: /me kicks %s on the nose: neeyah!!!!!!!!!!!!!!!!!




----- End forwarded message -----
----- Forwarded message from "Randal L. Schwartz" <merlyn@stonehenge.com> -=
----

Date: 19 Feb 2005 16:05:38 -0800
From: merlyn@stonehenge.com (Randal L. Schwartz)
Subject: Re: why does zsh hate Perl, or vice versa?
To: Yuval Kogman <nothingmuch@woobling.org>
Cc: Garry Williams <garry@zvolve.com>, Rick Delaney <rick@bort.ca>,
	perl5-porters@perl.org
Message-ID: <861xbcw0x9.fsf@blue.stonehenge.com>
User-Agent: Gnus/5.09 (Gnus v5.9.0) Emacs/21.3

>>>>> "Yuval" =3D=3D Yuval Kogman <nothingmuch@woobling.org> writes:

Yuval> I can reproduce it on macosx with bleadperl and zsh --version eq
Yuval> "zsh 4.1.1 (powerpc-apple-darwin7.0)".

Ahh, didn't know the platform would be the problem.

Yes, this is OSX.

--=20
Randal L. Schwartz - Stonehenge Consulting Services, Inc. - +1 503 777 0095
<merlyn@stonehenge.com> <URL:http://www.stonehenge.com/merlyn/>
Perl/Unix/security consulting, Technical writing, Comedy, etc. etc.
See PerlTraining.Stonehenge.com for onsite and open-enrollment Perl trainin=
g!

----- End forwarded message -----

--YPJ8CVbwFUtL7OFW
Content-Type: application/pgp-signature
Content-Disposition: inline

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.5 (GNU/Linux)

iD8DBQFCKTrFfBKgtDjnu0YRAgk4AKCZNAF7KPBedNcafxkDEoztJtCKVwCgvQ/d
DtrR/e+9xH/lJydgiE9O+Gw=
=yGek
-----END PGP SIGNATURE-----

--YPJ8CVbwFUtL7OFW--

