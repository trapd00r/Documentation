From zsh-users-return-5838-mason-zsh=primenet.com.au@sunsite.dk Tue Jan 28 12:35:17 2003
Return-Path: <zsh-users-return-5838-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 25760 invoked from network); 28 Jan 2003 12:35:15 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 28 Jan 2003 12:35:15 -0000
Received: (qmail 6005 invoked by alias); 28 Jan 2003 12:34:36 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 5838
Received: (qmail 5998 invoked from network); 28 Jan 2003 12:34:36 -0000
Received: from localhost (HELO sunsite.dk) (127.0.0.1)
  by localhost with SMTP; 28 Jan 2003 12:34:36 -0000
X-MessageWall-Score: 0 (sunsite.dk)
Received: from [143.90.131.182] by sunsite.dk (MessageWall 1.0.8) with SMTP; 28 Jan 2003 12:34:35 -0000
Received: from rabi ([211.131.153.179]) by t-mta4.odn.ne.jp with SMTP
          id <20030128123435515.JOUJ.26728.t-mta4.odn.ne.jp@mta4.odn.ne.jp>
          for <zsh-users@sunsite.dk>; Tue, 28 Jan 2003 21:34:35 +0900
From: "Clifford Caoile" <piyokun@email.com>
To: <zsh-users@sunsite.dk>
Subject: RE: Predict-on and colored/higlighted predicted text
Date: Tue, 28 Jan 2003 21:34:30 +0900
Message-ID: <BBEKIEKOHGEFJBFLEENGOEEFCGAA.piyokun@email.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
In-Reply-To: <1030126025509.ZM16716@candle.brasslantern.com>

Bart Schaefer:

Thank you for your feedback. Sorry, I been a bit busy and I haven't been
able to try your suggestions. I'm not sure what to make of that function or
how to use it, actually. But I'll give it a try and get back to you on it.

Thanks again.
  ,-~-.
 < ^ ; ~,  Clifford Escobar CAOILE  (aka "Piyo-kun")
  (_  _,
   J~~>  _.___...:.__..__.: __.:_. .:_.__::_..:._::._...  _____ p(^_^)q


| -----Original Message-----
| From: Bart Schaefer [mailto:schaefer@brasslantern.com]
| Sent: Sunday, January 26, 2003 11:55
| To: zsh-users@sunsite.dk
| Subject: Re: Predict-on and colored/higlighted predicted text
|
|
| I wrote:
|
| } Unfortunately the zsh line editor does not provide a way to insert
| } into the command line any characters that are not actually part of the
| } command. [...] So without some fairly large changes to ZLE, colorizing
| } parts of the command is not possible.
|
| I was thinking about this, and it turns out it's not *quite* impossible,
| but it does depend on redrawing behavior; so I'm not sure it will always
| work, and it'd be really unpleasant over a slow connection.
|
| Here's a small function that shows how to do it.  It highlights from the
| cursor position to the end of the line, but it wouldn't be hard to
| adapt to highlight any given section.
|
| function hilite {
|   setopt localoptions promptpercent
|   local rbuffer="$RBUFFER"
|   RBUFFER=""				# Truncate the buffer
|   zle -R				# Redraw that much
|   print -nP %U				# Begin highlight
|   RBUFFER="$rbuffer"			# Restore the buffer
|   zle -R				# Redraw the rest
|   print -nP %u				# End highlight
| }
|
| However, as soon as you begin to edit the line, all bets are off as to
| where the highlight remains (or doesn't).
| __________
|
| In that same message, I also wrote:
|
| } ... perhaps try these settings:
|
| I failed to cut'n'paste one that should have been included, to disable
| menu selection when autocompleting.  If you don't have menu selection
| enabled, you don't need this.
|
| zstyle ':completion:predict:*' menu yes
|
| There's probably a more clever setting of that for zsh-4.1.x-dev now
| that menu selection has "interactive mode", but I haven't worked out
| what it is.
|
| --
| Bart Schaefer                                 Brass Lantern Enterprises
| http://www.well.com/user/barts              http://www.brasslantern.com
|
| Zsh: http://www.zsh.org | PHPerl Project:
http://phperl.sourceforge.net


