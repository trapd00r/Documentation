From zsh-workers-request@math.gatech.edu Thu Dec 10 23:42:30 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 7983 invoked from network); 10 Dec 1998 23:42:17 -0000
Received: from ns2.primenet.com.au (HELO primenet.com.au) (7795@203.24.36.3)
  by ns1.primenet.com.au with SMTP; 10 Dec 1998 23:42:17 -0000
Received: (qmail 13091 invoked from network); 10 Dec 1998 21:52:18 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns2.primenet.com.au with SMTP; 10 Dec 1998 21:52:18 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.9.1/8.9.1) id QAA17816;
	Thu, 10 Dec 1998 16:50:24 -0500 (EST)
Resent-Date: Thu, 10 Dec 1998 16:50:24 -0500 (EST)
Message-ID: <19981210210002.41623@athenaeum.demon.co.uk>
Date: Thu, 10 Dec 1998 21:00:02 +0000
From: Phil Pennock <phil@athenaeum.demon.co.uk>
To: Zsh Development Workers <zsh-workers@math.gatech.edu>
Subject: BUG: long prompts tangle ZLE
Mail-Followup-To: Zsh Development Workers <zsh-workers@math.gatech.edu>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 0.89.1
Organisation: Organisation?  Here?  No, over there ---->
X-Disclaimer: Any views expressed in this message, where not explicitly
	attributed otherwise, are mine and mine alone.  Such views
	do not necessarily coincide with those of any organisation
	or company with which I am or have been affiliated.
X-Phase-of-Moon: The Moon is Waning Crescent (49% of Full)
Resent-Message-ID: <"Ky7Lx3.0.FM4.W84Ss"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/4744
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

With both stock 3.1.5 and 3.1.5-patched(17 Nov) I am experiencing
strange behaviour with very long prompts.

If the prompt length is 80 characters (on an 80-char width term) then
 (a) the last character is not printed, or at least overwritten with a
     space;
 (b) more seriously, typing a command does not scroll the line up, but
     instead overwrites the start of the line.

Anything longer or shorter does not affect this.

I know, my prompt is too long.  I'm about to change my PS1 to only list
the last 30ish chars of %~.  And I haven't looked into this -- no WAY do
I know zsh's internals well enough to tinker in ZLE.

HTH
-- 
--> Phil Pennock ; GAT d- s+:+ a22 C++(++++) UL++++/I+++/S+++/H+ P++@ L+++
E-@ W(+) N>++ o !K w--- O>+ M V !PS PE Y+ PGP+ t-- 5++ X+ R !tv b++>+++ DI+ D+
G+ e+ h* r y?

