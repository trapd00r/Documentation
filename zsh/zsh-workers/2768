From zsh-workers-request@euclid.skiles.gatech.edu Fri Jan 10 13:59:17 1997
Return-Path: <zsh-workers-request@euclid.skiles.gatech.edu>
Delivered-To: mason@primenet.com.au
Received: (qmail 28745 invoked from network); 10 Jan 1997 13:59:16 -0000
Received: from euclid.skiles.gatech.edu (list@130.207.146.50)
  by coral.primenet.com.au with SMTP; 10 Jan 1997 13:59:16 -0000
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id IAA06935; Fri, 10 Jan 1997 08:38:55 -0500 (EST)
Resent-Date: Fri, 10 Jan 1997 08:38:55 -0500 (EST)
Message-Id: <199701101339.OAA24033@hydra.ifh.de>
To: zsh-workers@math.gatech.edu (Zsh hackers list)
Subject: completion or refresh bug?
Date: Fri, 10 Jan 1997 14:39:47 +0100
From: Peter Stephenson <pws@ifh.de>
Resent-Message-ID: <"c_ZOJ1.0.Fi1.lParo"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/2768
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

This is happening with an ordinary xterm in 3.0.3-test3; it exists at
least back to 3.0.2-test2.  I doubt it's terminal dependent; it still
appears if you tell the shell the xterm is a vt100.

% zsh -f
% compctl -D -f + -X '(No file found; using history)' -H 0 ''
% echo *,ps<TAB>

(that should have been *.ps, of course) becomes:

% echo \*.ps^@
(No file found; using history)
% echo \*,ps

the only problem is the extraneous ^@.  With alwayslastprompt, it
appears right under the cursor.  It goes when you type ^L.

The ^@ does not appear when the -X message is removed.  However,
in that case the * does not get backslashed; one of the alternatives
is presumably also a bug.

-- 
Peter Stephenson <pws@ifh.de>       Tel: +49 33762 77366
WWW:  http://www.ifh.de/~pws/       Fax: +49 33762 77413
Deutsches Elektronen-Synchrotron --- Institut fuer Hochenergiephysik Zeuthen
DESY-IfH, 15735 Zeuthen, Germany.

