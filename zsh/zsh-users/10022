From zsh-users-return-10022-mason-zsh=primenet.com.au@sunsite.dk Wed Mar 15 02:41:55 2006
Return-Path: <zsh-users-return-10022-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18297 invoked from network); 15 Mar 2006 02:41:53 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.0 (2005-09-13) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00,
	FORGED_RCVD_HELO autolearn=ham version=3.1.0
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 15 Mar 2006 02:41:53 -0000
Received: (qmail 17060 invoked from network); 15 Mar 2006 02:41:47 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 15 Mar 2006 02:41:47 -0000
Received: (qmail 27230 invoked by alias); 15 Mar 2006 02:41:39 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 10022
Received: (qmail 27221 invoked from network); 15 Mar 2006 02:41:39 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 15 Mar 2006 02:41:39 -0000
Received: (qmail 16019 invoked from network); 15 Mar 2006 02:41:39 -0000
Received: from vms042pub.verizon.net (206.46.252.42)
  by a.mx.sunsite.dk with SMTP; 15 Mar 2006 02:41:36 -0000
Received: from torch.brasslantern.com ([71.116.81.225])
 by vms042.mailsrvcs.net (Sun Java System Messaging Server 6.2-4.02 (built Sep
 9 2005)) with ESMTPA id <0IW5002JNE5A1FK2@vms042.mailsrvcs.net> for
 zsh-users@sunsite.dk; Tue, 14 Mar 2006 20:41:35 -0600 (CST)
Received: from torch.brasslantern.com (localhost.localdomain [127.0.0.1])
	by torch.brasslantern.com (8.13.1/8.13.1) with ESMTP id k2F2hque019394	for
 <zsh-users@sunsite.dk>; Tue, 14 Mar 2006 18:43:53 -0800
Received: (from schaefer@localhost)	by torch.brasslantern.com
 (8.13.1/8.13.1/Submit) id k2F2hqoq019393	for zsh-users@sunsite.dk; Tue,
 14 Mar 2006 18:43:52 -0800
Date: Tue, 14 Mar 2006 18:43:52 -0800
From: Bart Schaefer <schaefer@brasslantern.com>
Subject: Re: zsh startup files
In-reply-to: <20060314195023.GE9875@dot.blorf.net>
To: zsh-users@sunsite.dk
Message-id: <060314184352.ZM19392@torch.brasslantern.com>
MIME-version: 1.0
X-Mailer: OpenZMail Classic (0.9.2 24April2005)
Content-type: text/plain; charset=us-ascii
References: <Xns9786B37C1560Fzzappergmailcom@80.91.229.5>
	<20060314195023.GE9875@dot.blorf.net>
Comments: In reply to Wayne Davison <wayned@users.sourceforge.net>
 "Re: zsh startup files" (Mar 14, 11:50am)

On Mar 14, 11:50am, Wayne Davison wrote:
}
} I moved all my non- interactive variable settings into ~/.zprofile (my
} interactive settings have always been in ~/.zshrc) and I reduced the
} ~/.zshenv file to these 3 lines:

My .zshenv is only two lines:

export ZDOTDIR=$HOME/.zsh
. $ZDOTDIR/.zshenv

OK, so that's cheating.

$ZDOTDIR/.zshenv has 7 lines of variable assignments so that all the
variables that were ever set by zsh (back as far as about version 2.1)
have the values they would have in whatever version that was, so that
my 15 years (gah) of accumulated zsh configuration doesn't have to be
rewritten, only added-to.  (If I haven't got around to forward-porting
it by now, it's never going to happen.)  Then it sets $path, $fpath and
a few other environment variables read from a second file that I edit
for each specific machine, so that I can just copy around all the rest
of the configuration.  (I keep it in cvs and just "cvs co" it when I
get an account in a new place.)

The only job of $ZDOTDIR/.zprofile is to search $path to be sure that,
if more than one version of zsh is found in $path, everything refers to
the most recent possible version.  If necessary it execs that zsh.

$ZDOTDIR/.zshrc sets up options, prompt strings, aliases, bindkeys,
completion, xterm title, and history.

$ZDOTDIR/.zlogin sets up the tty driver, ssh agent if it isn't yet, and
anything interactive left over from .zshrc, like $mailpath.

Back when I was using timeshared computers a lot, I had a .zlogout that
cleared the screen and any scrollback buffers, but I removed that a long
time ago; I haven't thought of any other good use for it.

