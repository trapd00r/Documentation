From zsh-workers-return-11204-mason-zsh=primenet.com.au@sunsite.auc.dk Fri May 05 14:46:16 2000
Return-Path: <zsh-workers-return-11204-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 7038 invoked from network); 5 May 2000 14:46:14 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 5 May 2000 14:46:14 -0000
Received: (qmail 8267 invoked by alias); 5 May 2000 14:45:57 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 11204
Received: (qmail 8217 invoked from network); 5 May 2000 14:45:54 -0000
To: zsh-workers@sunsite.auc.dk
Subject: Re: PATCH: _arguments -C cleanup (was: Re: PATCH: _look)
References: <200005051337.PAA06691@beta.informatik.hu-berlin.de>
MIME-Version: 1.0 (generated by SEMI 1.13.7 - "Awazu")
Content-Type: text/plain; charset=US-ASCII
From: Tanaka Akira <akr@m17n.org>
Date: 05 May 2000 23:46:42 +0900
In-Reply-To: <200005051337.PAA06691@beta.informatik.hu-berlin.de>
 (Sven Wischnowsky's message of "Fri, 5 May 2000 15:37:03 +0200 (MET DST)")
Message-ID: <hvou2gdnjfx.fsf@serein.m17n.org>
Lines: 34
User-Agent: T-gnus/6.14.1 (based on Gnus v5.8.3) (revision 16) SEMI/1.13.7 (Awazu) FLIM/1.13.2 (Kasanui) Emacs/20.6 (i686-pc-linux-gnu) MULE/4.0 (HANANOEN)

In article <200005051337.PAA06691@beta.informatik.hu-berlin.de>,
  Sven Wischnowsky <wischnow@informatik.hu-berlin.de> writes:

> Akira, in _look there was a compadd without a _wanted/description or
> anything. I've made it use the `value' tag with a `values'
> description, is there anything more precise we could use or is that ok?

Sorry.  I forgot it.  I think `word prefix' is better for explanation.
Also this adds completion for an optional second argument.

Index: Completion/User/_look
===================================================================
RCS file: /cvsroot/zsh/zsh/Completion/User/_look,v
retrieving revision 1.2
diff -u -r1.2 _look
--- Completion/User/_look	2000/05/05 13:38:46	1.2
+++ Completion/User/_look	2000/05/05 14:43:30
@@ -7,11 +7,12 @@
   '-t+[termination character]:termination character:' \
   '-f[case insensitive]' \
   '-d[dictionary order]' \
-  ':string:->string' && return 0
+  ':string:->string' \
+  ':dictionary file:_files -f' && return 0
 
 case "$state" in
 string)
   [[ -n "$PREFIX" ]] &&
-      _wanted values expl value compadd - $(_call values $words[1] $PREFIX)
+      _wanted values expl 'word prefix' compadd - $(_call values $words[1] $PREFIX)
   ;;
 esac
-- 
Tanaka Akira

