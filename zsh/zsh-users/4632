From zsh-users-return-4632-mason-zsh=primenet.com.au@sunsite.dk Mon Jan 28 13:42:43 2002
Return-Path: <zsh-users-return-4632-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 27599 invoked from network); 28 Jan 2002 13:42:42 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 28 Jan 2002 13:42:42 -0000
Received: (qmail 15052 invoked by alias); 28 Jan 2002 13:42:23 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 4632
Received: (qmail 15041 invoked from network); 28 Jan 2002 13:42:22 -0000
Sender: flognat@localhost.localdomain
To: zsh-users@sunsite.dk
Subject: sh: reuse/src doesn not exist.. 
From: Andrew Markebo <flognat@flognat.myip.org>
Date: 28 Jan 2002 14:42:20 +0100
Message-ID: <m3elkasibn.fsf@localhost.localdomain>
Lines: 37
User-Agent: Gnus/5.0808 (Gnus v5.8.8) Emacs/20.7
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii


Hello! 

I am having problems with a makefile, I have zsh 4.something as shell,
and when firing up the target:

m_reuselib:
        sh -c "if test -d reuse/src; \
        then echo; echo Making public Modula reuse library; \
        cd reuse/src    && $(MAKE) $(MFLAGS); else true; fi"

from a makefile, I get the errors:

src> make
sh -c "if test -d reuse/src; \
then echo; echo Making public Modula reuse library; \
cd reuse/src    && make BIN=/vobs/tools/cocktail/solaris/bin
LIB=/vobs/tools/cocktail/solaris/lib CC='cc' CPPC='CC' MC='cat >
/dev/null; :'  OPT='' HOME=/vobs/tools/cocktail/solaris CPP='gcc -E'
RANLIB='ranlib'
INSTALL_PROGRAM='/dept/develop/aes/cocktail/cocktail/inst-sh -c'
INSTALL_DATA='/dept/develop/aes/cocktail/cocktail/inst-sh -c -m 644'
ANSI_OBJECTS='rGetopt.o rFsearch.o rSrcMem.o'; else true; fi"

Making public Modula reuse library
sh: reuse/src: does not exist
*** Error code 1

When I run it as a user with other shell as login-shell, it works
fine.. Hmm what is who missing?? Both solaris make, and gnu make.. 

Does zsh do something with the sh? overload it?? 

        /Andy

-- 
 The eye of the beholder rests on the beauty!

