From zsh-workers-return-8423-mason-zsh=primenet.com.au@sunsite.auc.dk Tue Oct 26 09:17:32 1999
Return-Path: <zsh-workers-return-8423-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 6996 invoked from network); 26 Oct 1999 09:17:31 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 26 Oct 1999 09:17:31 -0000
Received: (qmail 3702 invoked by alias); 26 Oct 1999 09:17:18 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 8423
Received: (qmail 3695 invoked from network); 26 Oct 1999 09:17:18 -0000
Date: Tue, 26 Oct 1999 11:17:15 +0200 (MET DST)
Message-Id: <199910260917.LAA13020@beta.informatik.hu-berlin.de>
From: Sven Wischnowsky <wischnow@informatik.hu-berlin.de>
To: zsh-workers@sunsite.auc.dk
In-reply-to: "Bart Schaefer"'s message of Mon, 25 Oct 1999 17:26:53 +0000
Subject: Re: BUG: coredump with menu-select and LIST_PACKED


Bart Schaefer wrote:

> On Oct 25,  8:06pm, Alexandre Duret-Lutz wrote:
> } Subject: BUG: coredump with menu-select and LIST_PACKED
> }
> } venus% setopt listpacked
> } venus% foo <TAB>
> } 1      11     13     15     3     5     7     9                 
> } 10     12     14     2      4     6     8     xxxxxxxxxxxxxxx   
> } venus% foo <M-m>
> } zsh: segmentation fault (core dumped)  zsh -f
> 
> Looks like the `amatches' global is garbage.  Here's a stack trace (this is
> after patches 8412 and 8413).
> 
> #0  0x4013c377 in clprintm (g=0x80d8168, mp=0x80c2b00, mc=0, ml=0, lastc=0, 
>     width=135800832, path=0x80d1ab0 "./1", buf=0xbffff0d8)
>     at ../../../zsh-3.1.6/Src/Zle/complist.c:390

Hm. I can't reproduce this bug and my line complist.c:390 doesn't
access `amatches'.

So I have to ask: can someone tell me how to reproduce this with a
`zsh -f'?


Bye
 Sven


--
Sven Wischnowsky                         wischnow@informatik.hu-berlin.de

