From zsh-workers-return-7266-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Jul 23 15:08:46 1999
Return-Path: <zsh-workers-return-7266-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 17956 invoked from network); 23 Jul 1999 15:08:43 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 23 Jul 1999 15:08:43 -0000
Received: (qmail 12593 invoked by alias); 23 Jul 1999 15:08:33 -0000
Mailing-List: contact zsh-workers-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.auc.dk
X-Seq: 7266
Received: (qmail 12586 invoked from network); 23 Jul 1999 15:08:32 -0000
Message-Id: <9907231437.AA36783@ibmth.df.unipi.it>
To: zsh-workers@sunsite.auc.dk (Zsh hackers list)
Subject: Re: 3.1.6 status 
In-Reply-To: "Vin Shelton"'s message of "23 Jul 1999 10:38:27 DFT."
             <545hfmvcty4.fsf@dusk1.icd.teradyne.com> 
Date: Fri, 23 Jul 1999 16:37:34 +0200
From: Peter Stephenson <pws@ibmth.df.unipi.it>

Vin Shelton wrote:
> We've had a lot of patches to -test-2.  I would think we should have a
> period of no patches before we release 3.1.6.  This period of
> stability ensures that we're all running with the same code.  Ideally, 
> that period of stability would last several days and no bugs would be
> reported against that release.  I would recommend releasing a -test-3
> now with all applied patches.  I hope this code would end up being the 
> 3.1.6 release, but we won't know unless we're all starting from the
> same page.

The trouble is, that's never going to happen.  There are always going to be
patches, and at this stage they're all bug fixes (many of them minor
changes to individual completion functions which I'll accept up to the last
minute, since they're localised).  If I apply them, they fix a bug; if I
don't, then the shell still has a bug.  If I wait until there are none,
I'll wait forever.  That's particularly true of the completion code, for
which there are fiendishly many different things going on; we're never
going to get to a state where last week it was wrong and this week it's
right.

FYI, here are the changes that affect general shell usage and
configuration, excluding completion and documentations changes, which I've
applied since test-2.

	* Sven: 7259, 7261: Src/subst.c, Src/Modules/parameter.c,
	  Doc/Zsh/expn.yo, Completion/Core/_normal,
	  Completion/Core/_parameters: parameter module provides
	  local information; used in _parameters; _normal uses
	  $commands when available.

	* Bart: 7230: Src/exec.c: cancd2 didn't free string properly
	  (or at all, in fact).

	* Sven: 7217: Src/exec.c: duplicate function name for scriptname.

	* Ollivier: 7209, 7210: configure.in, Etc/MACHINES: Elf and a.out
	  dynamic loading on FreeBSD (MACHINES entry adapted).

	* Tanaka Akira: 7205: Src/Modules/mapfile.c: MS_SYNC was not
          defined on SunOS 4.

	* pws: 7202: Src/Modules/clone.c: add an extra zero argument
	  to ioctl() to make three.

Three of those were configuration problems, which only a small number of
users will ever see; one (7259/7261) was a minor addition to the parameters
code; two were simple but necessary local fixes (7217 and 7230).  I'm not
convinced that's enough to let the saga drag on.  But if there's a general
belief, I can hang on another week (and not any apply any patches to the C
code).  Vote now.

-- 
Peter Stephenson <pws@ibmth.df.unipi.it>       Tel: +39 050 844536
WWW:  http://www.ifh.de/~pws/
Dipartimento di Fisica, Via Buonarroti 2, 56127 Pisa, Italy

