From zsh-users-return-2764-mason-zsh=primenet.com.au@sunsite.auc.dk Fri Dec 10 17:22:11 1999
Return-Path: <zsh-users-return-2764-mason-zsh=primenet.com.au@sunsite.auc.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 26699 invoked from network); 10 Dec 1999 17:22:10 -0000
Received: from sunsite.auc.dk (130.225.51.30)
  by ns1.primenet.com.au with SMTP; 10 Dec 1999 17:22:10 -0000
Received: (qmail 24287 invoked by alias); 10 Dec 1999 17:21:52 -0000
Mailing-List: contact zsh-users-help@sunsite.auc.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.auc.dk
X-Seq: 2764
Received: (qmail 24274 invoked from network); 10 Dec 1999 17:21:50 -0000
Date: Fri, 10 Dec 1999 11:21:44 -0600
From: Dan Nelson <dnelson@emsphone.com>
To: Norman.Azadian@swisscom.com
Cc: zsh-users@sunsite.auc.dk
Subject: Re: uppercase inheritance
Message-ID: <19991210112144.A670@dan.emsphone.com>
References: <894F73B43295D211B7B20000F807EA88ED80D0@sbe0461.swissptt.ch>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 1.0i
In-Reply-To: <894F73B43295D211B7B20000F807EA88ED80D0@sbe0461.swissptt.ch>; from "Norman.Azadian@swisscom.com" on Fri Dec 10 16:41:26 GMT 1999
X-OS: FreeBSD 4.0-CURRENT

In the last episode (Dec 10), Norman.Azadian@swisscom.com said:
> I've tried this under version 3.1.6 (on HP-UX version 11.0):
> 
> 	= typeset -u -x aaa=bbb
> 	= echo $aaa
> 	BBB
> 	= zsh
> 	= echo $aaa
> 	bbb
> 	=
> 
> Am I missing something, or has ZSH neglected to pass on the uppercase
> property to the subshell?  I get the same results when the HP posix
> sh is the subshell.  When I do the entire experiment with sh, I get
> the expected results ($aaa is always BBB).

There's no way zsh can pass 'typeset' options to subshells, since all
it can pass are the variable names and contents via "char **envp".  It
looks like zsh leaves the variable as-is, and only uppercases it for
display.  Sounds like a zsh bug.

-- 
	Dan Nelson
	dnelson@emsphone.com

