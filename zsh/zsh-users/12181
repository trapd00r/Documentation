From zsh-users-return-12181-mason-zsh=primenet.com.au@sunsite.dk Sat Nov 03 23:44:09 2007
Return-Path: <zsh-users-return-12181-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 26431 invoked from network); 3 Nov 2007 23:44:01 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.3 (2007-08-08) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.3
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 3 Nov 2007 23:44:01 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 64588 invoked from network); 3 Nov 2007 23:43:54 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 3 Nov 2007 23:43:54 -0000
Received: (qmail 20208 invoked by alias); 3 Nov 2007 23:43:43 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 12181
Received: (qmail 20189 invoked from network); 3 Nov 2007 23:43:43 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 3 Nov 2007 23:43:43 -0000
Received: (qmail 62921 invoked from network); 3 Nov 2007 23:43:43 -0000
Received: from mail1.panix.com (166.84.1.72)
  by a.mx.sunsite.dk with SMTP; 3 Nov 2007 23:43:36 -0000
Received: from panix1.panix.com (panix1.panix.com [166.84.1.1])
	by mail1.panix.com (Postfix) with ESMTP id 7DBD529423
	for <zsh-users@sunsite.dk>; Sat,  3 Nov 2007 19:43:35 -0400 (EDT)
Received: (from rj@localhost)
	by panix1.panix.com (8.11.6p3/8.8.8/PanixN1.1) id lA3NhZP09938
	for zsh-users@sunsite.dk; Sat, 3 Nov 2007 19:43:35 -0400 (EDT)
Date: Sat, 3 Nov 2007 19:43:35 -0400
From: Russell Hoover <rj@panix.com>
To: zsh-users@sunsite.dk
Subject: since 4.3.4, artifact-appearance at prompt
Message-ID: <20071103234335.GB10499@panix.com>
Mail-Followup-To: zsh-users@sunsite.dk
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
X-To-All-My-Friends-In-Domestic-Surveillance: Hi There, Sports Fans!
User-Agent: Mutt/1.5.10i

If, at my zsh prompt, I hit return several times quickly (to repeat the
appearance of the prompt for several lines in a row), such that sometimes
a blank line appears before the prompt does, I always now get, at the
leftmost column of the blank line, the appearance of a percent-sign
backgrounded in orange.

This has only happened since I started using zsh-4.3.4, and I'm wondering
what I can do to get rid it.

My prompt is this (minus colors):

[panix1:~]  [v4.3.4]  zsh  507 -->

And it is created by this line in my .zshenv (where it is all one line,
though these 4 parts of it are separated by two spaces between each of them):

export PS1=$'%{\e[1;32m%}[$red%m$white:$cyan%~$green]
[%{\e[m%}%{\e[36m%}v$ZSH_VERSION$green]
%{\e[m%}zsh%(2L./$blue$SHLVL.)$yellow%(2v:$grey/$yellow+%2v:)
$white! %$red--$yellow> %{\e[m%}'


I also have a right-prompt:

t7  Saturday  2007/11/03  19:28:21

created by this line in my .zshenv:

export RPS1=$'%{\e[1;34m%} %l  $yellow%D{%A  %Y/%m/%d  %T} %{\e[m%}'

I wonder what may have changed with version 4.3.4 that's caused the
artifact.  Thanks for any tips.

-- 
                         // rj@panix.com //

