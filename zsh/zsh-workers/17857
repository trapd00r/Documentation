From zsh-workers-return-17857-mason-zsh=primenet.com.au@sunsite.dk Fri Oct 25 12:16:36 2002
Return-Path: <zsh-workers-return-17857-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18624 invoked from network); 25 Oct 2002 12:16:35 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 25 Oct 2002 12:16:35 -0000
Received: (qmail 15514 invoked by alias); 25 Oct 2002 12:16:18 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 17857
Received: (qmail 15483 invoked from network); 25 Oct 2002 12:16:11 -0000
X-VirusChecked: Checked
Date: Fri, 25 Oct 2002 13:15:41 +0100
From: Oliver Kiddle <okiddle@yahoo.co.uk>
To: Matthias Scheler <tron@zhadum.de>
Cc: zsh-workers@sunsite.dk
Subject: Re: I/O redirection problem in "zsh"
Message-ID: <20021025121541.GA8201@logica.com>
References: <20021025104047.GA27855@colwyn.zhadum.de> <6134254DE87BD411908B00A0C99B044F03A0B4B6@MOWD019A> <20021025114451.GB28474@colwyn.zhadum.de>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20021025114451.GB28474@colwyn.zhadum.de>
User-Agent: Mutt/1.4i
Sender: Oliver Kiddle <kiddleo@logica.com>

On Fri, Oct 25, 2002 at 01:44:52PM +0200, Matthias Scheler wrote:
> On Fri, Oct 25, 2002 at 03:16:13PM +0400, Borzenkov Andrey wrote:
> > This ambiguous. Both > and | mean redirection of stdout.
> 
> Is there a better portable way to redirect stderr to the pipe but
> ignore stdout?

I can't actually think of a way. Anyone else? If you are trying to
write a portable script, note that zsh will unset the multios
option when told to emulate sh.

If there isn't a way, perhaps we should make it so that:

  grep localhost /etc/hosts fasel 2>&1 1>/dev/null | cat -b
is different from
  grep localhost /etc/hosts fasel 2>&1 >/dev/null | cat -b

with the 1 causing it to move file-descriptor 1 instead of adding
another output for the pseudo-tee process.

Oliver

This e-mail and any attachment is for authorised use by the intended recipient(s) only.  It may contain proprietary material, confidential information and/or be subject to legal privilege.  It should not be copied, disclosed to, retained or used by, any other party.  If you are not an intended recipient then please promptly delete this e-mail and any attachment and all copies and inform the sender.  Thank you.

