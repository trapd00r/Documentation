From zsh-workers-return-26611-mason-zsh=primenet.com.au@sunsite.dk Thu Feb 26 10:50:21 2009
Return-Path: <zsh-workers-return-26611-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 18012 invoked from network); 26 Feb 2009 10:50:12 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.4 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 26 Feb 2009 10:50:12 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 74406 invoked from network); 26 Feb 2009 10:50:05 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 26 Feb 2009 10:50:05 -0000
Received: (qmail 8224 invoked by alias); 26 Feb 2009 10:49:59 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 26611
Received: (qmail 8213 invoked from network); 26 Feb 2009 10:49:58 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 26 Feb 2009 10:49:58 -0000
Received: from cluster-g.mailcontrol.com (cluster-g.mailcontrol.com [208.87.233.190])
	by bifrost.dotsrc.org (Postfix) with ESMTPS id D9C338058F83
	for <zsh-workers@sunsite.dk>; Thu, 26 Feb 2009 11:49:54 +0100 (CET)
Received: from cameurexb01.EUROPE.ROOT.PRI ([193.128.72.68])
	by rly18g.srv.mailcontrol.com (MailControl) with ESMTP id n1QAnBk9023071
	for <zsh-workers@sunsite.dk>; Thu, 26 Feb 2009 10:49:26 GMT
Received: from news01 ([10.103.143.38]) by cameurexb01.EUROPE.ROOT.PRI with Microsoft SMTPSVC(6.0.3790.3959);
	 Thu, 26 Feb 2009 10:49:10 +0000
Date: Thu, 26 Feb 2009 10:49:10 +0000
From: Peter Stephenson <pws@csr.com>
To: zsh-workers@sunsite.dk
Subject: Re: globcomplete desctroys file completion
Message-ID: <20090226104910.30a1f593@news01>
In-Reply-To: <090225201236.ZM22079@torch.brasslantern.com>
References: <slrngq038s.2hh.joerg@alea.gnuu.de>
	<090221111624.ZM12907@torch.brasslantern.com>
	<090221165745.ZM13030@torch.brasslantern.com>
	<20090225203949.5e203b85@pws-pc>
	<20090225204844.08a39c17@pws-pc>
	<090225173059.ZM21819@torch.brasslantern.com>
	<090225201236.ZM22079@torch.brasslantern.com>
Organization: CSR
X-Mailer: Claws Mail 3.5.0 (GTK+ 2.12.8; i386-redhat-linux-gnu)
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 26 Feb 2009 10:49:10.0956 (UTC) FILETIME=[DB5D76C0:01C997FF]
X-Scanned-By: MailControl A_08_51_00 (www.mailcontrol.com) on 10.71.0.128
X-Virus-Scanned: ClamAV 0.92.1/9048/Wed Feb 25 22:08:29 2009 on bifrost
X-Virus-Status: Clean

On Wed, 25 Feb 2009 20:12:36 -0800
Bart Schaefer <schaefer@brasslantern.com> wrote:
> No, that's not right either.  At this point the following is the only
> thing I've tried that gets me the same behavior (including proper cursor
> placement) both with and without globcomplete set.  This bothers me,
> because I don't understand why globcomplete sends us through this branch
> of the code in the first place.  I mean, I follow the conditional logic
> in _path_files that gets it here, but I don't know why the conditionals
> are written the way they are.

The branching in _path_files is from the deepest levels of the dungeons,
where the creatures live that can destroy even advanced characters with one
look.  I should just commit it, award yourself +1 charisma, and look away.

-- 
Peter Stephenson <pws@csr.com>                  Software Engineer
CSR PLC, Churchill House, Cambridge Business Park, Cowley Road
Cambridge, CB4 0WZ, UK                          Tel: +44 (0)1223 692070

