From zsh-workers-return-16729-mason-zsh=primenet.com.au@sunsite.dk Wed Feb 27 13:11:18 2002
Return-Path: <zsh-workers-return-16729-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 20416 invoked from network); 27 Feb 2002 13:11:17 -0000
Received: from sunsite.dk (130.225.247.90)
  by ns1.primenet.com.au with SMTP; 27 Feb 2002 13:11:17 -0000
Received: (qmail 18997 invoked by alias); 27 Feb 2002 13:11:10 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 16729
Received: (qmail 18941 invoked from network); 27 Feb 2002 13:10:50 -0000
Message-ID: <20020227131047.58680.qmail@web9304.mail.yahoo.com>
Date: Wed, 27 Feb 2002 13:10:47 +0000 (GMT)
From: =?iso-8859-1?q?Oliver=20Kiddle?= <okiddle@yahoo.co.uk>
Subject: Re: Per command _redirect completion
To: zsh-workers@sunsite.dk
In-Reply-To: <15484.43079.6831.412868@wischnow.berkom.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit


 --- Sven Wischnowsky <wischnow@berkom.de> wrote: > 

> And one (mostly) unrelated remark: in a private mail Oliver asked if
> it were possible to supply the completion widgets with a list of
> redirections on the line. Collecting this information shouldn't be
> too
> complicated. Any suggestions for how we should pas this information
> to
> the completion function? An array containing values of the form
> `<redir-op>:<word>'?

The array sounds reasonable. What happens with something like 2>&1?
What can the redir op be - just < and > or a variety of things. What
about another command being piped to the one it is completing.

> diff -ur -r ../oz/Completion/Base/Utility/_contexts
> +# You may also select the assocs to use with the `-T assoc' option.

I know we only renamed it a year ago but _contexts perhaps could be
better named.

> diff -ur -r ../oz/Completion/Zsh/Context/_value_PRINTER
> ./Completion/Zsh/Context/_value_PRINTER
> @@ -0,0 +1,3 @@
> +#compdef -T values PRINTER LPDEST
> +
> +_printers

Do we really want lots of tiny little functions like this one? Can't we
just stick the compdef line in _printers itself. We have a compdef for
commands like rmdir in _directories which is a similar situation.

Have I also understood correctly, that the compdef changes allow
multiple uses of -T so that _gzip might start with:
    #compdef gzip gunzip gzcat=gunzip -T values GZIP

Sorry, but I've only had time to glance over this. I'll try it out and
reply more fully later.

Oliver


__________________________________________________
Do You Yahoo!?
Everything you'll ever need on one web page
from News and Sport to Email and Music Charts
http://uk.my.yahoo.com

