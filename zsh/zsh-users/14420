From zsh-users-return-14420-mason-zsh=primenet.com.au@sunsite.dk Mon Sep 21 14:55:39 2009
Return-Path: <zsh-users-return-14420-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 24391 invoked from network); 21 Sep 2009 14:55:26 -0000
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.2.5
Received: from new-brage.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.254.104)
  by ns1.primenet.com.au with SMTP; 21 Sep 2009 14:55:26 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 43113 invoked from network); 21 Sep 2009 14:55:17 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 21 Sep 2009 14:55:17 -0000
Received: (qmail 16293 invoked by alias); 21 Sep 2009 14:55:08 -0000
Mailing-List: contact zsh-users-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-users@sunsite.dk
X-Seq: 14420
Received: (qmail 16276 invoked from network); 21 Sep 2009 14:55:08 -0000
Received: from bifrost.dotsrc.org (130.225.254.106)
  by sunsite.dk with SMTP; 21 Sep 2009 14:55:08 -0000
Received: from vms173019pub.verizon.net (vms173019pub.verizon.net [206.46.173.19])
	by bifrost.dotsrc.org (Postfix) with ESMTP id 5D5EB801E2BF
	for <zsh-users@sunsite.dk>; Mon, 21 Sep 2009 16:55:02 +0200 (CEST)
Received: from torch.brasslantern.com ([96.238.222.107])
 by vms173019.mailsrvcs.net
 (Sun Java(tm) System Messaging Server 6.3-7.04 (built Sep 26 2008; 32bit))
 with ESMTPA id <0KQB009JFTEY1AA0@vms173019.mailsrvcs.net> for
 zsh-users@sunsite.dk; Mon, 21 Sep 2009 09:54:40 -0500 (CDT)
Received: from torch.brasslantern.com (localhost.localdomain [127.0.0.1])
	by torch.brasslantern.com (8.13.1/8.13.1) with ESMTP id n8LEsXPT004473	for
 <zsh-users@sunsite.dk>; Mon, 21 Sep 2009 07:54:34 -0700
Received: (from schaefer@localhost)	by torch.brasslantern.com
 (8.13.1/8.13.1/Submit) id n8LEsXIC004472	for zsh-users@sunsite.dk; Mon,
 21 Sep 2009 07:54:33 -0700
From: Bart Schaefer <schaefer@brasslantern.com>
Message-id: <090921075433.ZM4471@torch.brasslantern.com>
Date: Mon, 21 Sep 2009 07:54:33 -0700
In-reply-to: <20090921142434.GC10174@fsst.voodoo.lan>
Comments: In reply to Frank Terbeck <ft@bewatermyfriend.org>
 "Re: _expand completer and hashed dirs" (Sep 21,  4:24pm)
References: <20090921134728.GA10174@fsst.voodoo.lan>
	<200909211402.n8LE2dAo029543@news01.csr.com>
	<20090921142434.GC10174@fsst.voodoo.lan>
X-Mailer: OpenZMail Classic (0.9.2 24April2005)
To: zsh-users@sunsite.dk
Subject: Re: _expand completer and hashed dirs
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii
X-Virus-Scanned: ClamAV 0.94.2/9819/Mon Sep 21 16:06:33 2009 on bifrost
X-Virus-Status: Clean

On Sep 21,  4:24pm, Frank Terbeck wrote:
}
} What I had hoped, was this to work:
} 
} zstyle ':completion:*:-tilde-:*' completer _complete _ignored _approximate

Two things ...

(1) the -tilde- context is only applied inside the _tilde completer,
    not inside all completers

(2) but that doesn't matter, because the list of completers is chosen
    by _main_complete before any of the special contexts are set up.

For practical purposes you can only select completers based on the widget
used to invoke completion, not on the invocation context.  It's a chicken
and egg problem, the completers are what parse the line to determine what
the context should be.

