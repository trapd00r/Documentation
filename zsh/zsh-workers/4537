From zsh-workers-request@math.gatech.edu Wed Nov 04 16:59:38 1998
Return-Path: <zsh-workers-request@math.gatech.edu>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 26320 invoked from network); 4 Nov 1998 16:59:36 -0000
Received: from math.gatech.edu (list@130.207.146.50)
  by ns1.primenet.com.au with SMTP; 4 Nov 1998 16:59:36 -0000
Received: (from list@localhost)
	by math.gatech.edu (8.9.1/8.9.1) id LAA24541;
	Wed, 4 Nov 1998 11:50:29 -0500 (EST)
Resent-Date: Wed, 4 Nov 1998 11:50:29 -0500 (EST)
Message-Id: <9811041635.AA41692@ibmth.df.unipi.it>
To: zsh-workers@math.gatech.edu
Subject: Re: PATCH: completion or'ing and grouping 
In-Reply-To: "Sven Wischnowsky"'s message of "Wed, 04 Nov 1998 08:56:16 NFT."
             <199811040756.IAA28828@beta.informatik.hu-berlin.de> 
Date: Wed, 04 Nov 1998 17:35:01 +0100
From: Peter Stephenson <pws@ibmth.df.unipi.it>
Resent-Message-ID: <"HvZsZ.0.O_5.LN8Gs"@math>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/4537
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu

Excellent, everything seems to be working at the moment with the new
patches (though I expect you'll be hearing from me again...).
For some reason the mail system screwed up that last patch and I
get to get it from the archive.  Strange.  (Is there a way of
retrieving a patch as plain text, i.e. before HTMLifying?  Otherwise
back-conversion is liable to screw up whitespace.)

One thing worried me a bit: this hunk from zle_tricky.c

*** 4791,4796 ****
--- 4800,4808 ----
  	int ics = cs, ocs, pl = 0, l, lp, ls;
  	char *ps;
  	Cline lc;
+ 
+ 	if (!ainfo)
+ 	    return;
  
  	fixsuffix();

didn't agree with what I had before, which came from the
patch-match.gz patch (natch).  Namely, the fixsuffix() wasn't there in
what that patch introduced.  I just added it by hand.

Secondly, after I applied patch-match.gz, completion did nothing
whatsoever.  After panicking I remembered compctl -T.  But according
to my initialisation files, I never had a compctl -T before, and when
zsh started up, compctl -T -q was in effect (why?)  If this is
intentional, hadn't that better now be compctl -T -q -tc?  Otherwise
we're going to have a very large number of irate users.

-- 
Peter Stephenson <pws@ibmth.df.unipi.it>       Tel: +39 050 844536
WWW:  http://www.ifh.de/~pws/
Dipartimento di Fisica, Via Buonarotti 2, 56100 Pisa, Italy

