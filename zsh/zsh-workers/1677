From pws@ifh.de Wed Jul 17 20:20:04 1996
Received: from eplet.mira.net.au (eplet.mira.net.au [203.9.190.17]) by melb.werple.net.au (8.7.5/8.7.3/2) with ESMTP id UAA15072 for <mason@werple.mira.net.au>; Wed, 17 Jul 1996 20:20:03 +1000 (EST)
Received: from euclid.skiles.gatech.edu (list@euclid.skiles.gatech.edu [130.207.146.50]) by eplet.mira.net.au (8.7.5/8.7.3) with ESMTP id UAA23734 for <mason@werple.mira.net.au>; Wed, 17 Jul 1996 20:20:01 +1000 (EST)
Received: (from list@localhost) by euclid.skiles.gatech.edu (8.7.3/8.7.3) id GAA13796; Wed, 17 Jul 1996 06:04:23 -0400 (EDT)
Resent-Date: Wed, 17 Jul 1996 06:04:23 -0400 (EDT)
Message-Id: <199607171003.MAA25843@hydra.ifh.de>
To: zsh-workers@math.gatech.edu (Zsh hackers list)
Subject: Re: That infinite loop in Geoff's second zle_refresh patch 
In-reply-to: "schaefer@candle.brasslantern.com"'s message of "Tue, 16 Jul 1996 22:17:29 MET."
             <9607162217.ZM4375@candle.brasslantern.com> 
Date: Wed, 17 Jul 1996 12:03:26 +0200
From: Peter Stephenson <pws@ifh.de>
Resent-Message-ID: <"9wbGt2.0.VN3.cgBxn"@euclid>
Resent-From: zsh-workers@math.gatech.edu
X-Mailing-List: <zsh-workers@math.gatech.edu> archive/latest/1677
X-Loop: zsh-workers@math.gatech.edu
Precedence: list
Resent-Sender: zsh-workers-request@math.gatech.edu
Content-Length: 838
Status: OR

schaefer@candle.brasslantern.com wrote:
> The patch below changes starting count from 0 to 1, which stops the
> infinite loop, but feels wrong to me.  I can't see any reason to call
> tcdelcost(0), but that code was there before either of Geoff's recent
> patches; the only nearby difference since pre2 is a change from

This has a bad effect:  inserting or deleting on a continued line
before the end of the line redisplays the rest of line wrongly.  I
haven't looked into the details.  (Maybe I got confused; my
zle_refresh.c is different from the one in the patch, so I'm either
more or less up to date.)

-- 
Peter Stephenson <pws@ifh.de>       Tel: +49 33762 77366
WWW:  http://www.ifh.de/~pws/       Fax: +49 33762 77330
Deutches Electronen-Synchrotron --- Institut fuer Hochenergiephysik Zeuthen
DESY-IfH, 15735 Zeuthen, Germany.


