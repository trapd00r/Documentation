From zsh-workers-return-23048-mason-zsh=primenet.com.au@sunsite.dk Wed Dec 13 18:25:17 2006
Return-Path: <zsh-workers-return-23048-mason-zsh=primenet.com.au@sunsite.dk>
Delivered-To: mason-zsh@primenet.com.au
Received: (qmail 9713 invoked from network); 13 Dec 2006 18:25:11 -0000
X-Spam-Checker-Version: SpamAssassin 3.1.7 (2006-10-05) on f.primenet.com.au
X-Spam-Level: 
X-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00,
	FORGED_RCVD_HELO autolearn=ham version=3.1.7
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by ns1.primenet.com.au with SMTP; 13 Dec 2006 18:25:11 -0000
Received-SPF: none (ns1.primenet.com.au: domain at sunsite.dk does not designate permitted sender hosts)
Received: (qmail 85661 invoked from network); 13 Dec 2006 18:24:46 -0000
Received: from sunsite.dk (130.225.247.90)
  by a.mx.sunsite.dk with SMTP; 13 Dec 2006 18:24:46 -0000
Received: (qmail 2324 invoked by alias); 13 Dec 2006 18:24:40 -0000
Mailing-List: contact zsh-workers-help@sunsite.dk; run by ezmlm
Precedence: bulk
X-No-Archive: yes
Delivered-To: mailing list zsh-workers@sunsite.dk
X-Seq: 23048
Received: (qmail 2315 invoked from network); 13 Dec 2006 18:24:39 -0000
Received: from news.dotsrc.org (HELO a.mx.sunsite.dk) (130.225.247.88)
  by sunsite.dk with SMTP; 13 Dec 2006 18:24:39 -0000
Received: (qmail 84982 invoked from network); 13 Dec 2006 18:24:39 -0000
Received: from lorien.comfychair.org (64.81.241.43)
  by a.mx.sunsite.dk with SMTP; 13 Dec 2006 18:24:35 -0000
Received: from lorien.comfychair.org (localhost [127.0.0.1])
	by lorien.comfychair.org (8.13.7/8.13.7) with ESMTP id kBDIOO6U030140;
	Wed, 13 Dec 2006 10:24:24 -0800
Received: (from duvall@localhost)
	by lorien.comfychair.org (8.13.7/8.13.7/Submit) id kBDIOMNV030139;
	Wed, 13 Dec 2006 10:24:22 -0800
Date: Wed, 13 Dec 2006 10:24:22 -0800
From: Danek Duvall <duvall@comfychair.org>
To: Peter Stephenson <pws@csr.com>
Cc: zsh-workers@sunsite.dk
Subject: Re: garbage input crashes zsh
Message-ID: <20061213182422.GQ6446@lorien.comfychair.org>
Mail-Followup-To: Danek Duvall <duvall@comfychair.org>,
	Peter Stephenson <pws@csr.com>, zsh-workers@sunsite.dk
References: <20061212203204.GF22194@lorien.comfychair.org> <200612131044.kBDAik2a003541@news01.csr.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <200612131044.kBDAik2a003541@news01.csr.com>
User-Agent: mutt-ng/devel-r535 (Linux)

Peter Stephenson wrote:

> It seems to be OK with the latest version (lots of errors, of course,
> but no damage), but I can get the crash with the tip of the 4.2 branch.
> It seems to be doing something wayward in (what looks to it like) a
> complicated pattern match.  If I get a chance I'll try to work out what
> fixed it, but it could be complicated since the pattern code has changed
> quite a lot owing to adding multibyte support.  It's quite possibly a
> simple error to do with metafication; a number of those turned up along
> the way.

Okay.  If it's fixed in the tip of 4.3, that's probably good enough (I
didn't realize 4.3.2 was that out of date), so if you can't track it down
easily, don't lose any sleep over it.

Most of the non-Sun software in Solaris gets bugfixed by upgrade, and
that's probably sufficient for this case (though I'm still hesitant to
upgrade to 4.3 given all the multibyte change that -- IIRC -- isn't
complete yet, even if any portion of the shell which was converted is
done).

Thanks,
Danek

